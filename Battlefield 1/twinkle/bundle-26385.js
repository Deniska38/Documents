/* Twinkle Signature v1 sCcifOgiWl7qVIoI67jyR2wDhyRzxTMy7LjS962x9sQdv3OqtUI16EzEejHOfp1xra1PSVDD7mqx4d1dl5w5Dw== *//*!
 *   Version: release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod
 *   Build #: 26385
 *  Revision: ad7bf56a8e58e452d13d9fd9de786d4fa6acec43
 *    Branch: release-bf1-lsu35
 *   Channel: tunguska
 *  Platform: all
 *    Locale: en-us
 * Timestamp: 2020-08-04 07:21:32 UTC
 */ !function(e) {
var t = {};
function n(r) {
if (t[r]) return t[r].exports;
var o = t[r] = {
i: r,
l: !1,
exports: {}
};
return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
}
n.m = e, n.c = t, n.d = function(e, t, r) {
n.o(e, t) || Object.defineProperty(e, t, {
enumerable: !0,
get: r
});
}, n.r = function(e) {
"undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
value: "Module"
}), Object.defineProperty(e, "__esModule", {
value: !0
});
}, n.t = function(e, t) {
if (1 & t && (e = n(e)), 8 & t) return e;
if (4 & t && "object" == typeof e && e && e.__esModule) return e;
var r = Object.create(null);
if (n.r(r), Object.defineProperty(r, "default", {
enumerable: !0,
value: e
}), 2 & t && "string" != typeof e) for (var o in e) n.d(r, o, function(t) {
return e[t];
}.bind(null, o));
return r;
}, n.n = function(e) {
var t = e && e.__esModule ? function t() {
return e.default;
} : function t() {
return e;
};
return n.d(t, "a", t), t;
}, n.o = function(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}, n.p = "", n(n.s = 693);
}([ function(e, t, n) {
"use strict";
n.r(t), n.d(t, "__extends", function() {
return o;
}), n.d(t, "__assign", function() {
return i;
}), n.d(t, "__rest", function() {
return a;
}), n.d(t, "__decorate", function() {
return s;
}), n.d(t, "__param", function() {
return u;
}), n.d(t, "__metadata", function() {
return l;
}), n.d(t, "__awaiter", function() {
return c;
}), n.d(t, "__generator", function() {
return p;
}), n.d(t, "__exportStar", function() {
return d;
}), n.d(t, "__values", function() {
return f;
}), n.d(t, "__read", function() {
return m;
}), n.d(t, "__spread", function() {
return h;
}), n.d(t, "__await", function() {
return g;
}), n.d(t, "__asyncGenerator", function() {
return y;
}), n.d(t, "__asyncDelegator", function() {
return S;
}), n.d(t, "__asyncValues", function() {
return v;
});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
};
function o(e, t) {
function __() {
this.constructor = e;
}
r(e, t), e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, 
new __());
}
var i = Object.assign || function e(t) {
for (var n, r = 1, o = arguments.length; r < o; r++) for (var i in n = arguments[r]) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);
return t;
};
function a(e, t) {
var n = {};
for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
var o = 0;
for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && (n[r[o]] = e[r[o]]);
}
return n;
}
function s(e, t, n, r) {
var o, i = arguments.length, a = i < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, r); else for (var s = e.length - 1; s >= 0; s--) (o = e[s]) && (a = (i < 3 ? o(a) : i > 3 ? o(t, n, a) : o(t, n)) || a);
return i > 3 && a && Object.defineProperty(t, n, a), a;
}
function u(e, t) {
return function(n, r) {
t(n, r, e);
};
}
function l(e, t) {
if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(e, t);
}
function c(e, t, n, r) {
return new (n || (n = Promise))(function(o, i) {
function a(e) {
try {
u(r.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
u(r.throw(e));
} catch (e) {
i(e);
}
}
function u(e) {
e.done ? o(e.value) : new n(function(t) {
t(e.value);
}).then(a, s);
}
u((r = r.apply(e, t || [])).next());
});
}
function p(e, t) {
var n, r, o, i, a = {
label: 0,
sent: function() {
if (1 & o[0]) throw o[1];
return o[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(i) {
return function(s) {
return function u(i) {
if (n) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (n = 1, r && (o = r[2 & i[0] ? "return" : i[0] ? "throw" : "next"]) && !(o = o.call(r, i[1])).done) return o;
switch (r = 0, o && (i = [ 0, o.value ]), i[0]) {
case 0:
case 1:
o = i;
break;

case 4:
return a.label++, {
value: i[1],
done: !1
};

case 5:
a.label++, r = i[1], i = [ 0 ];
continue;

case 7:
i = a.ops.pop(), a.trys.pop();
continue;

default:
if (!(o = (o = a.trys).length > 0 && o[o.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < o[1]) {
a.label = o[1], o = i;
break;
}
if (o && a.label < o[2]) {
a.label = o[2], a.ops.push(i);
break;
}
o[2] && a.ops.pop(), a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ], r = 0;
} finally {
n = o = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}([ i, s ]);
};
}
}
function d(e, t) {
for (var n in e) t.hasOwnProperty(n) || (t[n] = e[n]);
}
function f(e) {
var t = "function" == typeof Symbol && e[Symbol.iterator], n = 0;
return t ? t.call(e) : {
next: function() {
return e && n >= e.length && (e = void 0), {
value: e && e[n++],
done: !e
};
}
};
}
function m(e, t) {
var n = "function" == typeof Symbol && e[Symbol.iterator];
if (!n) return e;
var r, o, i = n.call(e), a = [];
try {
for (;(void 0 === t || t-- > 0) && !(r = i.next()).done; ) a.push(r.value);
} catch (e) {
o = {
error: e
};
} finally {
try {
r && !r.done && (n = i.return) && n.call(i);
} finally {
if (o) throw o.error;
}
}
return a;
}
function h() {
for (var e = [], t = 0; t < arguments.length; t++) e = e.concat(m(arguments[t]));
return e;
}
function g(e) {
return this instanceof g ? (this.v = e, this) : new g(e);
}
function y(e, t, n) {
if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
var r, o = n.apply(e, t || []), i = [];
return r = {}, a("next"), a("throw"), a("return"), r[Symbol.asyncIterator] = function() {
return this;
}, r;
function a(e) {
o[e] && (r[e] = function(t) {
return new Promise(function(n, r) {
i.push([ e, t, n, r ]) > 1 || s(e, t);
});
});
}
function s(e, t) {
try {
!function n(e) {
e.value instanceof g ? Promise.resolve(e.value.v).then(u, l) : c(i[0][2], e);
}(o[e](t));
} catch (e) {
c(i[0][3], e);
}
}
function u(e) {
s("next", e);
}
function l(e) {
s("throw", e);
}
function c(e, t) {
e(t), i.shift(), i.length && s(i[0][0], i[0][1]);
}
}
function S(e) {
var t, n;
return t = {}, r("next"), r("throw", function(e) {
throw e;
}), r("return"), t[Symbol.iterator] = function() {
return this;
}, t;
function r(r, o) {
e[r] && (t[r] = function(t) {
return (n = !n) ? {
value: g(e[r](t)),
done: "return" === r
} : o ? o(t) : t;
});
}
}
function v(e) {
if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
var t = e[Symbol.asyncIterator];
return t ? t.call(e) : f(e);
}
}, function(e, t, n) {
"use strict";
e.exports = n(877);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(292);
e.exports = r.translate;
}, function(e, t, n) {
"use strict";
n.r(t), function(e, r) {
n.d(t, "Reaction", function() {
return gn;
}), n.d(t, "untracked", function() {
return pn;
}), n.d(t, "IDerivationState", function() {
return Ft;
}), n.d(t, "createAtom", function() {
return tt;
}), n.d(t, "spy", function() {
return S;
}), n.d(t, "comparer", function() {
return F;
}), n.d(t, "isObservableObject", function() {
return ce;
}), n.d(t, "isBoxedObservable", function() {
return te;
}), n.d(t, "isObservableArray", function() {
return gt;
}), n.d(t, "ObservableMap", function() {
return We;
}), n.d(t, "isObservableMap", function() {
return Xe;
}), n.d(t, "transaction", function() {
return ze;
}), n.d(t, "observable", function() {
return Me;
}), n.d(t, "computed", function() {
return _e;
}), n.d(t, "isObservable", function() {
return fe;
}), n.d(t, "isObservableProp", function() {
return me;
}), n.d(t, "isComputed", function() {
return ge;
}), n.d(t, "isComputedProp", function() {
return ye;
}), n.d(t, "extendObservable", function() {
return Te;
}), n.d(t, "extendShallowObservable", function() {
return be;
}), n.d(t, "observe", function() {
return En;
}), n.d(t, "intercept", function() {
return Cn;
}), n.d(t, "autorun", function() {
return B;
}), n.d(t, "reaction", function() {
return z;
}), n.d(t, "when", function() {
return In;
}), n.d(t, "action", function() {
return A;
}), n.d(t, "isAction", function() {
return P;
}), n.d(t, "runInAction", function() {
return w;
}), n.d(t, "keys", function() {
return wn;
}), n.d(t, "values", function() {
return Pn;
}), n.d(t, "set", function() {
return Rn;
}), n.d(t, "remove", function() {
return On;
}), n.d(t, "has", function() {
return xn;
}), n.d(t, "get", function() {
return kn;
}), n.d(t, "decorate", function() {
return Ln;
}), n.d(t, "configure", function() {
return Mn;
}), n.d(t, "onBecomeObserved", function() {
return Ze;
}), n.d(t, "onBecomeUnobserved", function() {
return $e;
}), n.d(t, "flow", function() {
return Nn;
}), n.d(t, "toJS", function() {
return Un;
}), n.d(t, "trace", function() {
return hn;
}), n.d(t, "getDependencyTree", function() {
return qt;
}), n.d(t, "getObserverTree", function() {
return Xt;
}), n.d(t, "_resetGlobalState", function() {
return Wt;
}), n.d(t, "_getGlobalState", function() {
return Vt;
}), n.d(t, "getDebugName", function() {
return Qe;
}), n.d(t, "getAtom", function() {
return Ye;
}), n.d(t, "_getAdministration", function() {
return Je;
}), n.d(t, "_allowStateChanges", function() {
return b;
}), n.d(t, "isArrayLike", function() {
return kt;
}), n.d(t, "_isComputingDerivation", function() {
return sn;
}), n.d(t, "onReactionError", function() {
return yn;
}), n.d(t, "_interceptReads", function() {
return Bn;
});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
};
function i(e, t) {
function __() {
this.constructor = e;
}
o(e, t), e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, 
new __());
}
var a = Object.assign || function e(t) {
for (var n, r = 1, o = arguments.length; r < o; r++) for (var i in n = arguments[r]) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]);
return t;
};
function s(e, t) {
var n = "function" == typeof Symbol && e[Symbol.iterator];
if (!n) return e;
var r, o, i = n.call(e), a = [];
try {
for (;(void 0 === t || t-- > 0) && !(r = i.next()).done; ) a.push(r.value);
} catch (e) {
o = {
error: e
};
} finally {
try {
r && !r.done && (n = i.return) && n.call(i);
} finally {
if (o) throw o.error;
}
}
return a;
}
function u() {
for (var e = [], t = 0; t < arguments.length; t++) e = e.concat(s(arguments[t]));
return e;
}
var l = {}, c = {};
function p(e) {
if (!0 !== e.__mobxDidRunLazyInitializers) {
var t = e.__mobxDecorators;
if (t) for (var n in Rt(e, "__mobxDidRunLazyInitializers", !0), t) {
var r = t[n];
r.propertyCreator(e, r.prop, r.descriptor, r.decoratorTarget, r.decoratorArguments);
}
}
}
function d(e, t) {
return function n() {
var r, o = function n(o, i, s, u) {
if (!0 === u) return t(o, i, s, o, r), null;
if (!Object.prototype.hasOwnProperty.call(o, "__mobxDecorators")) {
var d = o.__mobxDecorators;
Rt(o, "__mobxDecorators", a({}, d));
}
return o.__mobxDecorators[i] = {
prop: i,
propertyCreator: t,
descriptor: s,
decoratorTarget: o,
decoratorArguments: r
}, function f(e, t) {
var n = t ? l : c;
return n[e] || (n[e] = {
configurable: !0,
enumerable: t,
get: function() {
return p(this), this[e];
},
set: function(t) {
p(this), this[e] = t;
}
});
}(i, e);
};
return function i(e) {
return (2 === e.length || 3 === e.length) && "string" == typeof e[1] || 4 === e.length && !0 === e[3];
}(arguments) ? (r = St, o.apply(null, arguments)) : (r = Array.prototype.slice.call(arguments), 
o);
};
}
function f() {
return !!jt.spyListeners.length;
}
function m(e) {
if (jt.spyListeners.length) for (var t = jt.spyListeners, n = 0, r = t.length; n < r; n++) t[n](e);
}
function h(e) {
m(a({}, e, {
spyReportStart: !0
}));
}
var g = {
spyReportEnd: !0
};
function y(e) {
m(e ? a({}, e, {
spyReportEnd: !0
}) : g);
}
function S(e) {
return jt.spyListeners.push(e), It(function() {
var t = jt.spyListeners.indexOf(e);
-1 !== t && jt.spyListeners.splice(t, 1);
});
}
function v(e, t) {
var n = function() {
return _(e, t, this, arguments);
};
return n.isMobxAction = !0, n;
}
function _(e, t, n, r) {
var o = function i(e, t, n, r) {
var o = f() && !!e, i = 0;
if (o) {
i = Date.now();
var a = r && r.length || 0, s = new Array(a);
if (a > 0) for (var u = 0; u < a; u++) s[u] = r[u];
h({
type: "action",
name: e,
object: n,
arguments: s
});
}
var l = dn();
$t();
var c = T(!0);
return {
prevDerivation: l,
prevAllowStateChanges: c,
notifySpy: o,
startTime: i
};
}(e, 0, n, r);
try {
return t.apply(n, r);
} finally {
!function a(e) {
E(e.prevAllowStateChanges), en(), fn(e.prevDerivation), e.notifySpy && y({
time: Date.now() - e.startTime
});
}(o);
}
}
function b(e, t) {
var n, r = T(e);
try {
n = t();
} finally {
E(r);
}
return n;
}
function T(e) {
var t = jt.allowStateChanges;
return jt.allowStateChanges = e, t;
}
function E(e) {
jt.allowStateChanges = e;
}
function C() {
Tt(!1);
}
function I(e) {
return function(t, n, r) {
if (r) {
if (r.value) return {
value: v(e, r.value),
enumerable: !1,
configurable: !1,
writable: !0
};
var o = r.initializer;
return {
enumerable: !1,
configurable: !1,
writable: !1,
initializer: function() {
return v(e, o.call(this));
}
};
}
return function i(e) {
return function(t, n, r) {
Object.defineProperty(t, n, {
configurable: !0,
enumerable: !1,
get: function() {},
set: function(t) {
Ot(this, n, A(e, t));
}
});
};
}(e).apply(this, arguments);
};
}
var A = function e(t, n, r, o) {
return 1 === arguments.length && "function" == typeof t ? v(t.name || "<unnamed action>", t) : 2 === arguments.length && "function" == typeof n ? v(t, n) : 1 === arguments.length && "string" == typeof t ? I(t) : !0 !== o ? I(n).apply(null, arguments) : void (t[n] = v(t.name || n, r.value));
};
function w(e, t) {
return _("string" == typeof e ? e : e.name || "<unnamed action>", "function" == typeof e ? e : t, this, void 0);
}
function P(e) {
return "function" == typeof e && !0 === e.isMobxAction;
}
function R(e, t, n) {
Rt(e, t, v(t, n.bind(e)));
}
A.bound = function O(e, t, n, r) {
return !0 === r ? (R(e, t, n.value), null) : n ? {
configurable: !0,
enumerable: !1,
get: function() {
return R(this, t, n.value || n.initializer.call(this)), this[t];
},
set: C
} : {
enumerable: !1,
configurable: !0,
set: function(e) {
R(this, t, e);
},
get: function() {}
};
};
var x = Object.prototype.toString;
function k(e, t) {
return L(e, t);
}
function L(e, t, n, r) {
if (e === t) return 0 !== e || 1 / e == 1 / t;
if (null == e || null == t) return !1;
if (e != e) return t != t;
var o = typeof e;
return ("function" === o || "object" === o || "object" == typeof t) && function i(e, t, n, r) {
e = M(e), t = M(t);
var o = x.call(e);
if (o !== x.call(t)) return !1;
switch (o) {
case "[object RegExp]":
case "[object String]":
return "" + e == "" + t;

case "[object Number]":
return +e != +e ? +t != +t : 0 == +e ? 1 / +e == 1 / t : +e == +t;

case "[object Date]":
case "[object Boolean]":
return +e == +t;

case "[object Symbol]":
return "undefined" != typeof Symbol && Symbol.valueOf.call(e) === Symbol.valueOf.call(t);
}
var i = "[object Array]" === o;
if (!i) {
if ("object" != typeof e || "object" != typeof t) return !1;
var a = e.constructor, s = t.constructor;
if (a !== s && !("function" == typeof a && a instanceof a && "function" == typeof s && s instanceof s) && "constructor" in e && "constructor" in t) return !1;
}
n = n || [], r = r || [];
var u = n.length;
for (;u--; ) if (n[u] === e) return r[u] === t;
if (n.push(e), r.push(t), i) {
if ((u = e.length) !== t.length) return !1;
for (;u--; ) if (!L(e[u], t[u], n, r)) return !1;
} else {
var l, c = Object.keys(e);
if (u = c.length, Object.keys(t).length !== u) return !1;
for (;u--; ) if (l = c[u], !D(t, l) || !L(e[l], t[l], n, r)) return !1;
}
return n.pop(), r.pop(), !0;
}(e, t, n, r);
}
function M(e) {
return gt(e) ? e.peek() : Lt(e) || Xe(e) ? Mt(e.entries()) : e;
}
function D(e, t) {
return Object.prototype.hasOwnProperty.call(e, t);
}
function N(e, t) {
return e === t;
}
var F = {
identity: N,
structural: function G(e, t) {
return k(e, t);
},
default: function U(e, t) {
return function n(e, t) {
return "number" == typeof e && "number" == typeof t && isNaN(e) && isNaN(t);
}(e, t) || N(e, t);
}
};
function B(e, t) {
void 0 === t && (t = vt);
var n, r = t && t.name || e.name || "Autorun@" + bt();
if (!t.scheduler && !t.delay) n = new gn(r, function() {
this.track(a);
}, t.onError); else {
var o = H(t), i = !1;
n = new gn(r, function() {
i || (i = !0, o(function() {
i = !1, n.isDisposed || n.track(a);
}));
}, t.onError);
}
function a() {
e(n);
}
return n.schedule(), n.getDisposer();
}
var j = function(e) {
return e();
};
function H(e) {
return e.scheduler ? e.scheduler : e.delay ? function(t) {
return setTimeout(t, e.delay);
} : j;
}
function z(e, t, n) {
void 0 === n && (n = vt), "boolean" == typeof n && (n = {
fireImmediately: n
}, Ct("Using fireImmediately as argument is deprecated. Use '{ fireImmediately: true }' instead"));
var r, o = n.name || "Reaction@" + bt(), i = A(o, n.onError ? function a(e, t) {
return function() {
try {
return t.apply(this, arguments);
} catch (t) {
e.call(this, t);
}
};
}(n.onError, t) : t), s = !n.scheduler && !n.delay, u = H(n), l = !0, c = !1, p = n.compareStructural ? F.structural : n.equals || F.default, d = new gn(o, function() {
l || s ? f() : c || (c = !0, u(f));
}, n.onError);
function f() {
if (c = !1, !d.isDisposed) {
var t = !1;
d.track(function() {
var n = e(d);
t = l || !p(r, n), r = n;
}), l && n.fireImmediately && i(r, d), l || !0 !== t || i(r, d), l && (l = !1);
}
}
return d.schedule(), d.getDisposer();
}
var V = function() {
function e(e) {
var t = this;
if (this.dependenciesState = Ft.NOT_TRACKING, this.observing = [], this.newObserving = null, 
this.isBeingObserved = !1, this.isPendingUnobservation = !1, this.observers = [], 
this.observersIndexes = {}, this.diffValue = 0, this.runId = 0, this.lastAccessedBy = 0, 
this.lowestObserverState = Ft.UP_TO_DATE, this.unboundDepsCount = 0, this.__mapid = "#" + bt(), 
this.value = new rn(null), this.isComputing = !1, this.isRunningSetter = !1, this.isTracing = Gt.NONE, 
!e.get) return Tt("missing option for computed: get");
this.derivation = e.get, this.name = e.name || "ComputedValue@" + bt(), e.set && (this.setter = v(this.name + "-setter", e.set)), 
this.equals = e.equals || (e.compareStructural || e.struct ? F.structural : F.default), 
this.scope = e.context, this.requiresReaction = !!e.requiresReaction, !0 === e.keepAlive && B(function() {
return t.get();
});
}
return e.prototype.onBecomeStale = function() {
!function e(t) {
if (t.lowestObserverState !== Ft.UP_TO_DATE) return;
t.lowestObserverState = Ft.POSSIBLY_STALE;
var n = t.observers, r = n.length;
for (;r--; ) {
var o = n[r];
o.dependenciesState === Ft.UP_TO_DATE && (o.dependenciesState = Ft.POSSIBLY_STALE, 
o.isTracing !== Gt.NONE && nn(o, t), o.onBecomeStale());
}
}(this);
}, e.prototype.onBecomeUnobserved = function() {}, e.prototype.onBecomeObserved = function() {}, 
e.prototype.get = function() {
this.isComputing && Tt("Cycle detected in computation " + this.name + ": " + this.derivation), 
0 === jt.inBatch ? an(this) && (this.warnAboutUntrackedRead(), $t(), this.value = this.computeValue(!1), 
en()) : (tn(this), an(this) && this.trackAndCompute() && function e(t) {
if (t.lowestObserverState === Ft.STALE) return;
t.lowestObserverState = Ft.STALE;
var n = t.observers, r = n.length;
for (;r--; ) {
var o = n[r];
o.dependenciesState === Ft.POSSIBLY_STALE ? o.dependenciesState = Ft.STALE : o.dependenciesState === Ft.UP_TO_DATE && (t.lowestObserverState = Ft.UP_TO_DATE);
}
}(this));
var t = this.value;
if (on(t)) throw t.cause;
return t;
}, e.prototype.peek = function() {
var e = this.computeValue(!1);
if (on(e)) throw e.cause;
return e;
}, e.prototype.set = function(e) {
if (this.setter) {
Et(!this.isRunningSetter, "The setter of computed value '" + this.name + "' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"), 
this.isRunningSetter = !0;
try {
this.setter.call(this.scope, e);
} finally {
this.isRunningSetter = !1;
}
} else Et(!1, !1);
}, e.prototype.trackAndCompute = function() {
f() && m({
object: this.scope,
type: "compute",
name: this.name
});
var e = this.value, t = this.dependenciesState === Ft.NOT_TRACKING, n = this.value = this.computeValue(!0);
return t || on(e) || on(n) || !this.equals(e, n);
}, e.prototype.computeValue = function(e) {
var t;
if (this.isComputing = !0, jt.computationDepth++, e) t = ln(this, this.derivation, this.scope); else if (!0 === jt.disableErrorBoundaries) t = this.derivation.call(this.scope); else try {
t = this.derivation.call(this.scope);
} catch (e) {
t = new rn(e);
}
return jt.computationDepth--, this.isComputing = !1, t;
}, e.prototype.suspend = function() {
cn(this), this.value = void 0;
}, e.prototype.observe = function(e, t) {
var n = this, r = !0, o = void 0;
return B(function() {
var i = n.get();
if (!r || t) {
var a = dn();
e({
type: "update",
object: n,
newValue: i,
oldValue: o
}), fn(a);
}
r = !1, o = i;
});
}, e.prototype.warnAboutUntrackedRead = function() {
}, e.prototype.toJSON = function() {
return this.get();
}, e.prototype.toString = function() {
return this.name + "[" + this.derivation.toString() + "]";
}, e.prototype.valueOf = function() {
return Nt(this.get());
}, e;
}();
V.prototype[Dt()] = V.prototype.valueOf;
var W = xt("ComputedValue", V);
function q(e) {
return void 0 !== e.interceptors && e.interceptors.length > 0;
}
function K(e, t) {
var n = e.interceptors || (e.interceptors = []);
return n.push(t), It(function() {
var e = n.indexOf(t);
-1 !== e && n.splice(e, 1);
});
}
function X(e, t) {
var n = dn();
try {
var r = e.interceptors;
if (r) for (var o = 0, i = r.length; o < i && (Et(!(t = r[o](t)) || t.type, "Intercept handlers should return nothing or a change object"), 
t); o++) ;
return t;
} finally {
fn(n);
}
}
function Y(e) {
return void 0 !== e.changeListeners && e.changeListeners.length > 0;
}
function J(e, t) {
var n = e.changeListeners || (e.changeListeners = []);
return n.push(t), It(function() {
var e = n.indexOf(t);
-1 !== e && n.splice(e, 1);
});
}
function Q(e, t) {
var n = dn(), r = e.changeListeners;
if (r) {
for (var o = 0, i = (r = r.slice()).length; o < i; o++) r[o](t);
fn(n);
}
}
var Z = {};
!function $() {
if (qe) return;
qe = function() {
function e(e) {
void 0 === e && (e = "Atom@" + bt()), this.name = e, this.isPendingUnobservation = !1, 
this.isBeingObserved = !1, this.observers = [], this.observersIndexes = {}, this.diffValue = 0, 
this.lastAccessedBy = 0, this.lowestObserverState = Ft.NOT_TRACKING;
}
return e.prototype.onBecomeUnobserved = function() {}, e.prototype.onBecomeObserved = function() {}, 
e.prototype.reportObserved = function() {
return tn(this);
}, e.prototype.reportChanged = function() {
$t(), function e(t) {
if (t.lowestObserverState === Ft.STALE) return;
t.lowestObserverState = Ft.STALE;
var n = t.observers, r = n.length;
for (;r--; ) {
var o = n[r];
o.dependenciesState === Ft.UP_TO_DATE && (o.isTracing !== Gt.NONE && nn(o, t), o.onBecomeStale()), 
o.dependenciesState = Ft.STALE;
}
}(this), en();
}, e.prototype.toString = function() {
return this.name;
}, e;
}(), Ke = xt("Atom", qe);
}();
var ee = function(e) {
function t(t, n, r, o) {
void 0 === r && (r = "ObservableValue@" + bt()), void 0 === o && (o = !0);
var i = e.call(this, r) || this;
return i.enhancer = n, i.hasUnreportedChange = !1, i.value = n(t, void 0, r), o && f() && m({
type: "create",
name: i.name,
newValue: "" + i.value
}), i;
}
return i(t, e), t.prototype.dehanceValue = function(e) {
return void 0 !== this.dehancer ? this.dehancer(e) : e;
}, t.prototype.set = function(e) {
var t = this.value;
if ((e = this.prepareNewValue(e)) !== Z) {
var n = f();
n && h({
type: "update",
name: this.name,
newValue: e,
oldValue: t
}), this.setNewValue(e), n && y();
}
}, t.prototype.prepareNewValue = function(e) {
if (un(this), q(this)) {
var t = X(this, {
object: this,
type: "update",
newValue: e
});
if (!t) return Z;
e = t.newValue;
}
return e = this.enhancer(e, this.value, this.name), this.value !== e ? e : Z;
}, t.prototype.setNewValue = function(e) {
var t = this.value;
this.value = e, this.reportChanged(), Y(this) && Q(this, {
type: "update",
object: this,
newValue: e,
oldValue: t
});
}, t.prototype.get = function() {
return this.reportObserved(), this.dehanceValue(this.value);
}, t.prototype.intercept = function(e) {
return K(this, e);
}, t.prototype.observe = function(e, t) {
return t && e({
object: this,
type: "update",
newValue: this.value,
oldValue: void 0
}), J(this, e);
}, t.prototype.toJSON = function() {
return this.get();
}, t.prototype.toString = function() {
return this.name + "[" + this.value + "]";
}, t.prototype.valueOf = function() {
return Nt(this.get());
}, t;
}(qe);
ee.prototype[Dt()] = ee.prototype.valueOf;
var te = xt("ObservableValue", ee), ne = function() {
function e(e, t, n) {
this.target = e, this.name = t, this.defaultEnhancer = n, this.values = {};
}
return e.prototype.read = function(e, t) {
if (this.target === e) return this.values[t].get();
this.illegalAccess(e, t);
}, e.prototype.write = function(e, t, n) {
var r = this.target;
if (r === e) {
var o = this.values[t];
if (o instanceof V) o.set(n); else {
if (q(this)) {
if (!(u = X(this, {
type: "update",
object: r,
name: t,
newValue: n
}))) return;
n = u.newValue;
}
if ((n = o.prepareNewValue(n)) !== Z) {
var i = Y(this), s = f(), u = i || s ? {
type: "update",
object: r,
oldValue: o.value,
name: t,
newValue: n
} : null;
s && h(a({}, u, {
name: this.name,
key: t
})), o.setNewValue(n), i && Q(this, u), s && y();
}
}
} else this.illegalAccess(e, t);
}, e.prototype.remove = function(e) {
if (this.values[e]) {
var t = this.target;
if (q(this)) if (!(i = X(this, {
object: t,
name: e,
type: "remove"
}))) return;
try {
$t();
var n = Y(this), r = f(), o = this.values[e].get();
this.keys && this.keys.remove(e), delete this.values[e], delete this.target[e];
var i = n || r ? {
type: "remove",
object: t,
oldValue: o,
name: e
} : null;
r && h(a({}, i, {
name: this.name,
key: e
})), n && Q(this, i), r && y();
} finally {
en();
}
}
}, e.prototype.illegalAccess = function(e, t) {
return Tt("Property '" + t + "' of '" + e + "' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner");
}, e.prototype.observe = function(e, t) {
return J(this, e);
}, e.prototype.intercept = function(e) {
return K(this, e);
}, e.prototype.getKeys = function() {
var e = this;
return void 0 === this.keys && (this.keys = new lt(Object.keys(this.values).filter(function(t) {
return e.values[t] instanceof ee;
}), Ge, "keys(" + this.name + ")", !0)), this.keys.slice();
}, e;
}();
function re(e, t, n) {
void 0 === t && (t = ""), void 0 === n && (n = Fe);
var r = e.$mobx;
return r || (Pt(e) || (t = (e.constructor.name || "ObservableObject") + "@" + bt()), 
t || (t = "ObservableObject@" + bt()), Ot(e, "$mobx", r = new ne(e, t, n)), r);
}
function oe(e, t, n, r) {
var o = re(e);
if (function i(e, t) {
0;
}(), q(o)) {
var s = X(o, {
object: e,
name: t,
type: "add",
newValue: n
});
if (!s) return;
n = s.newValue;
}
n = (o.values[t] = new ee(n, r, o.name + "." + t, !1)).value, Object.defineProperty(e, t, function u(e) {
return ae[e] || (ae[e] = {
configurable: !0,
enumerable: !0,
get: function() {
return this.$mobx.read(this, e);
},
set: function(t) {
this.$mobx.write(this, e, t);
}
});
}(t)), o.keys && o.keys.push(t), function l(e, t, n, r) {
var o = Y(e), i = f(), s = o || i ? {
type: "add",
object: t,
name: n,
newValue: r
} : null;
i && h(a({}, s, {
name: e.name,
key: n
}));
o && Q(e, s);
i && y();
}(o, e, t, n);
}
function ie(e, t, n) {
var r = re(e);
n.name = r.name + "." + t, n.context = e, r.values[t] = new V(n), Object.defineProperty(e, t, function o(e) {
return se[e] || (se[e] = {
configurable: !0,
enumerable: !1,
get: function() {
return ue(this).read(this, e);
},
set: function(t) {
ue(this).write(this, e, t);
}
});
}(t));
}
var ae = {}, se = {};
function ue(e) {
var t = e.$mobx;
return t || (p(e), e.$mobx);
}
var le = xt("ObservableObjectAdministration", ne);
function ce(e) {
return !!wt(e) && (p(e), le(e.$mobx));
}
function pe(t) {
var n = d(!0, function(e, n, r, o, i) {
oe(e, n, r ? r.initializer ? r.initializer.call(e) : r.value : void 0, t);
}), r = (void 0 !== e && e.env, n);
return r.enhancer = t, r;
}
function de(e, t) {
if (null === e || void 0 === e) return !1;
if (void 0 !== t) {
if (ce(e)) {
var n = e.$mobx;
return n.values && !!n.values[t];
}
return !1;
}
return ce(e) || !!e.$mobx || Ke(e) || Tn(e) || W(e);
}
function fe(e) {
return 1 !== arguments.length && Tt(!1), de(e);
}
function me(e, t) {
return "string" != typeof t ? Tt(!1) : de(e, t);
}
function he(e, t) {
if (null === e || void 0 === e) return !1;
if (void 0 !== t) {
if (!1 === ce(e)) return !1;
if (!e.$mobx.values[t]) return !1;
var n = Ye(e, t);
return W(n);
}
return W(e);
}
function ge(e) {
return arguments.length > 1 ? Tt(!1) : he(e);
}
function ye(e, t) {
return "string" != typeof t ? Tt(!1) : he(e, t);
}
var Se = d(!1, function(e, t, n, r, o) {
var i = n.get, s = n.set, u = o[0] || {};
ie(e, t, a({}, u, {
get: i,
set: s
}));
}), ve = Se({
equals: F.structural
}), _e = function e(t, n, r) {
if ("string" == typeof n) return Se.apply(null, arguments);
if (null !== t && "object" == typeof t && 1 === arguments.length) return Se.apply(null, arguments);
var o = "object" == typeof n ? n : {};
return o.get = t, o.set = "function" == typeof n ? n : o.set, o.name = o.name || t.name || "", 
new V(o);
};
function be(e, t, n) {
return Ct("'extendShallowObservable' is deprecated, use 'extendObservable(target, props, { deep: false })' instead"), 
Te(e, t, n, Ce);
}
function Te(e, t, n, r) {
var o = (r = Ie(r)).defaultDecorator || (!1 === r.deep ? Oe : we);
re(e, r.name, o.enhancer), $t();
try {
for (var i in t) {
var a = Object.getOwnPropertyDescriptor(t, i);
0;
var s = (n && i in n ? n[i] : a.get ? Se : o)(e, i, a, !0);
s && Object.defineProperty(e, i, s);
}
} finally {
en();
}
return e;
}
_e.struct = ve;
var Ee = {
deep: !0,
name: void 0,
defaultDecorator: void 0
}, Ce = {
deep: !1,
name: void 0,
defaultDecorator: void 0
};
function Ie(e) {
return null === e || void 0 === e ? Ee : "string" == typeof e ? {
name: e,
deep: !0
} : e;
}
function Ae(e) {
return e.defaultDecorator ? e.defaultDecorator.enhancer : !1 === e.deep ? Ge : Fe;
}
Object.freeze(Ee), Object.freeze(Ce);
var we = pe(Fe), Pe = pe(function Re(e, t, n) {
return void 0 === e || null === e ? e : ce(e) || gt(e) || Xe(e) ? e : Array.isArray(e) ? Me.array(e, {
name: n,
deep: !1
}) : Pt(e) ? Me.object(e, void 0, {
name: n,
deep: !1
}) : Lt(e) ? Me.map(e, {
name: n,
deep: !1
}) : Tt(!1);
}), Oe = pe(Ge), xe = pe(function ke(e, t, n) {
0;
return k(e, t) ? t : e;
});
var Le = {
box: function(e, t) {
arguments.length > 2 && Ne("box");
var n = Ie(t);
return new ee(e, Ae(n), n.name);
},
shallowBox: function(e, t) {
return arguments.length > 2 && Ne("shallowBox"), Ct("observable.shallowBox", "observable.box(value, { deep: false })"), 
Me.box(e, {
name: t,
deep: !1
});
},
array: function(e, t) {
arguments.length > 2 && Ne("array");
var n = Ie(t);
return new lt(e, Ae(n), n.name);
},
shallowArray: function(e, t) {
return arguments.length > 2 && Ne("shallowArray"), Ct("observable.shallowArray", "observable.array(values, { deep: false })"), 
Me.array(e, {
name: t,
deep: !1
});
},
map: function(e, t) {
arguments.length > 2 && Ne("map");
var n = Ie(t);
return new We(e, Ae(n), n.name);
},
shallowMap: function(e, t) {
return arguments.length > 2 && Ne("shallowMap"), Ct("observable.shallowMap", "observable.map(values, { deep: false })"), 
Me.map(e, {
name: t,
deep: !1
});
},
object: function(e, t, n) {
return "string" == typeof arguments[1] && Ne("object"), Te({}, e, t, Ie(n));
},
shallowObject: function(e, t) {
return "string" == typeof arguments[1] && Ne("shallowObject"), Ct("observable.shallowObject", "observable.object(values, {}, { deep: false })"), 
Me.object(e, {}, {
name: t,
deep: !1
});
},
ref: Oe,
shallow: Pe,
deep: we,
struct: xe
}, Me = function De(e, t, n) {
if ("string" == typeof arguments[1]) return we.apply(null, arguments);
if (fe(e)) return e;
var r = Pt(e) ? Me.object(e, t, n) : Array.isArray(e) ? Me.array(e, t) : Lt(e) ? Me.map(e, t) : e;
if (r !== e) return r;
Tt(!1);
};
function Ne(e) {
Tt("Expected one or two arguments to observable." + e + ". Did you accidentally try to use observable." + e + " as decorator?");
}
function Fe(e, t, n) {
return fe(e) ? e : Array.isArray(e) ? Me.array(e, {
name: n
}) : Pt(e) ? Me.object(e, void 0, {
name: n
}) : Lt(e) ? Me.map(e, {
name: n
}) : e;
}
function Ge(e) {
return e;
}
function Ue() {
return "function" == typeof Symbol && Symbol.iterator || "@@iterator";
}
function Be(e, t) {
Ot(e, Ue(), t);
}
function je(e) {
return e[Ue()] = He, e;
}
function He() {
return this;
}
function ze(e, t) {
void 0 === t && (t = void 0), $t();
try {
return e.apply(t);
} finally {
en();
}
}
Object.keys(Le).forEach(function(e) {
return Me[e] = Le[e];
});
var Ve = {}, We = function() {
function e(e, t, n) {
if (void 0 === t && (t = Fe), void 0 === n && (n = "ObservableMap@" + bt()), this.enhancer = t, 
this.name = n, this.$mobx = Ve, this._keys = new lt(void 0, Ge, this.name + ".keys()", !0), 
"function" != typeof Map) throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");
this._data = new Map(), this._hasMap = new Map(), this.merge(e);
}
return e.prototype._has = function(e) {
return this._data.has(e);
}, e.prototype.has = function(e) {
return this._hasMap.has(e) ? this._hasMap.get(e).get() : this._updateHasMapEntry(e, !1).get();
}, e.prototype.set = function(e, t) {
var n = this._has(e);
if (q(this)) {
var r = X(this, {
type: n ? "update" : "add",
object: this,
newValue: t,
name: e
});
if (!r) return this;
t = r.newValue;
}
return n ? this._updateValue(e, t) : this._addValue(e, t), this;
}, e.prototype.delete = function(e) {
var t = this;
if (q(this) && !(o = X(this, {
type: "delete",
object: this,
name: e
}))) return !1;
if (this._has(e)) {
var n = f(), r = Y(this), o = r || n ? {
type: "delete",
object: this,
oldValue: this._data.get(e).value,
name: e
} : null;
return n && h(a({}, o, {
name: this.name,
key: e
})), ze(function() {
t._keys.remove(e), t._updateHasMapEntry(e, !1), t._data.get(e).setNewValue(void 0), 
t._data.delete(e);
}), r && Q(this, o), n && y(), !0;
}
return !1;
}, e.prototype._updateHasMapEntry = function(e, t) {
var n = this._hasMap.get(e);
return n ? n.setNewValue(t) : (n = new ee(t, Ge, this.name + "." + e + "?", !1), 
this._hasMap.set(e, n)), n;
}, e.prototype._updateValue = function(e, t) {
var n = this._data.get(e);
if ((t = n.prepareNewValue(t)) !== Z) {
var r = f(), o = Y(this), i = o || r ? {
type: "update",
object: this,
oldValue: n.value,
name: e,
newValue: t
} : null;
r && h(a({}, i, {
name: this.name,
key: e
})), n.setNewValue(t), o && Q(this, i), r && y();
}
}, e.prototype._addValue = function(e, t) {
var n = this;
ze(function() {
var r = new ee(t, n.enhancer, n.name + "." + e, !1);
n._data.set(e, r), t = r.value, n._updateHasMapEntry(e, !0), n._keys.push(e);
});
var r = f(), o = Y(this), i = o || r ? {
type: "add",
object: this,
name: e,
newValue: t
} : null;
r && h(a({}, i, {
name: this.name,
key: e
})), o && Q(this, i), r && y();
}, e.prototype.get = function(e) {
return this.has(e) ? this.dehanceValue(this._data.get(e).get()) : this.dehanceValue(void 0);
}, e.prototype.dehanceValue = function(e) {
return void 0 !== this.dehancer ? this.dehancer(e) : e;
}, e.prototype.keys = function() {
return this._keys[Ue()]();
}, e.prototype.values = function() {
var e = this, t = 0;
return je({
next: function() {
return t < e._keys.length ? {
value: e.get(e._keys[t++]),
done: !1
} : {
value: void 0,
done: !0
};
}
});
}, e.prototype.entries = function() {
var e = this, t = 0;
return je({
next: function() {
if (t < e._keys.length) {
var n = e._keys[t++];
return {
value: [ n, e.get(n) ],
done: !1
};
}
return {
done: !0
};
}
});
}, e.prototype.forEach = function(e, t) {
var n = this;
this._keys.forEach(function(r) {
return e.call(t, n.get(r), r, n);
});
}, e.prototype.merge = function(e) {
var t = this;
return Xe(e) && (e = e.toJS()), ze(function() {
Pt(e) ? Object.keys(e).forEach(function(n) {
return t.set(n, e[n]);
}) : Array.isArray(e) ? e.forEach(function(e) {
var n = s(e, 2), r = n[0], o = n[1];
return t.set(r, o);
}) : Lt(e) ? e.forEach(function(e, n) {
return t.set(n, e);
}) : null !== e && void 0 !== e && Tt("Cannot initialize map from " + e);
}), this;
}, e.prototype.clear = function() {
var e = this;
ze(function() {
pn(function() {
e._keys.slice().forEach(function(t) {
return e.delete(t);
});
});
});
}, e.prototype.replace = function(e) {
var t = this;
return ze(function() {
var n = function r(e) {
return Pt(e) ? Object.keys(e) : Array.isArray(e) ? e.map(function(e) {
return s(e, 1)[0];
}) : Lt(e) || Xe(e) ? Mt(e.keys()) : Tt("Cannot get keys from '" + e + "'");
}(e);
t._keys.filter(function(e) {
return -1 === n.indexOf(e);
}).forEach(function(e) {
return t.delete(e);
}), t.merge(e);
}), this;
}, Object.defineProperty(e.prototype, "size", {
get: function() {
return this._keys.length;
},
enumerable: !0,
configurable: !0
}), e.prototype.toPOJO = function() {
var e = this, t = {};
return this._keys.forEach(function(n) {
return t["" + n] = e.get(n);
}), t;
}, e.prototype.toJS = function() {
var e = this, t = new Map();
return this._keys.forEach(function(n) {
return t.set(n, e.get(n));
}), t;
}, e.prototype.toJSON = function() {
return this.toPOJO();
}, e.prototype.toString = function() {
var e = this;
return this.name + "[{ " + this._keys.map(function(t) {
return t + ": " + e.get(t);
}).join(", ") + " }]";
}, e.prototype.observe = function(e, t) {
return J(this, e);
}, e.prototype.intercept = function(e) {
return K(this, e);
}, e;
}();
Be(We.prototype, function() {
return this.entries();
}), Ot(We.prototype, "undefined" != typeof Symbol ? Symbol.toStringTag : "@@toStringTag", "Map");
var qe, Ke, Xe = xt("ObservableMap", We);
function Ye(e, t) {
if ("object" == typeof e && null !== e) {
if (gt(e)) return void 0 !== t && Tt(!1), e.$mobx.atom;
if (Xe(e)) {
var n = e;
return void 0 === t ? Ye(n._keys) : ((r = n._data.get(t) || n._hasMap.get(t)) || Tt(!1), 
r);
}
var r;
if (p(e), t && !e.$mobx && e[t], ce(e)) return t ? ((r = e.$mobx.values[t]) || Tt(!1), 
r) : Tt(!1);
if (Ke(e) || W(e) || Tn(e)) return e;
} else if ("function" == typeof e && Tn(e.$mobx)) return e.$mobx;
return Tt(!1);
}
function Je(e, t) {
return e || Tt("Expecting some object"), void 0 !== t ? Je(Ye(e, t)) : Ke(e) || W(e) || Tn(e) ? e : Xe(e) ? e : (p(e), 
e.$mobx ? e.$mobx : void Tt(!1));
}
function Qe(e, t) {
return (void 0 !== t ? Ye(e, t) : ce(e) || Xe(e) ? Je(e) : Ye(e)).name;
}
function Ze(e, t, n) {
return et("onBecomeObserved", e, t, n);
}
function $e(e, t, n) {
return et("onBecomeUnobserved", e, t, n);
}
function et(e, t, n, r) {
var o = "string" == typeof n ? Ye(t, n) : Ye(t), i = "string" == typeof n ? r : n, a = o[e];
return "function" != typeof a ? Tt(!1) : (o[e] = function() {
a.call(this), i.call(this);
}, function() {
o[e] = a;
});
}
function tt(e, t, n) {
void 0 === t && (t = At), void 0 === n && (n = At);
var r = new qe(e);
return Ze(r, t), $e(r, n), r;
}
var nt, rt, ot = (nt = !1, rt = {}, Object.defineProperty(rt, "0", {
set: function() {
nt = !0;
}
}), Object.create(rt)[0] = 1, !1 === nt), it = 0, at = function() {
return function e() {};
}();
!function st(e, t) {
void 0 !== Object.setPrototypeOf ? Object.setPrototypeOf(e.prototype, t) : void 0 !== e.prototype.__proto__ ? e.prototype.__proto__ = t : e.prototype = t;
}(at, Array.prototype), Object.isFrozen(Array) && [ "constructor", "push", "shift", "concat", "pop", "unshift", "replace", "find", "findIndex", "splice", "reverse", "sort" ].forEach(function(e) {
Object.defineProperty(at.prototype, e, {
configurable: !0,
writable: !0,
value: Array.prototype[e]
});
});
var ut = function() {
function e(e, t, n, r) {
this.array = n, this.owned = r, this.values = [], this.lastKnownLength = 0, this.atom = new qe(e || "ObservableArray@" + bt()), 
this.enhancer = function(n, r) {
return t(n, r, e + "[..]");
};
}
return e.prototype.dehanceValue = function(e) {
return void 0 !== this.dehancer ? this.dehancer(e) : e;
}, e.prototype.dehanceValues = function(e) {
return void 0 !== this.dehancer && this.values.length > 0 ? e.map(this.dehancer) : e;
}, e.prototype.intercept = function(e) {
return K(this, e);
}, e.prototype.observe = function(e, t) {
return void 0 === t && (t = !1), t && e({
object: this.array,
type: "splice",
index: 0,
added: this.values.slice(),
addedCount: this.values.length,
removed: [],
removedCount: 0
}), J(this, e);
}, e.prototype.getArrayLength = function() {
return this.atom.reportObserved(), this.values.length;
}, e.prototype.setArrayLength = function(e) {
if ("number" != typeof e || e < 0) throw new Error("[mobx.array] Out of range: " + e);
var t = this.values.length;
if (e !== t) if (e > t) {
for (var n = new Array(e - t), r = 0; r < e - t; r++) n[r] = void 0;
this.spliceWithArray(t, 0, n);
} else this.spliceWithArray(e, t - e);
}, e.prototype.updateArrayLength = function(e, t) {
if (e !== this.lastKnownLength) throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");
this.lastKnownLength += t, t > 0 && e + t + 1 > it && mt(e + t + 1);
}, e.prototype.spliceWithArray = function(e, t, n) {
var r = this;
un(this.atom);
var o = this.values.length;
if (void 0 === e ? e = 0 : e > o ? e = o : e < 0 && (e = Math.max(0, o + e)), t = 1 === arguments.length ? o - e : void 0 === t || null === t ? 0 : Math.max(0, Math.min(t, o - e)), 
void 0 === n && (n = St), q(this)) {
var i = X(this, {
object: this.array,
type: "splice",
index: e,
removedCount: t,
added: n
});
if (!i) return St;
t = i.removedCount, n = i.added;
}
var a = (n = 0 === n.length ? n : n.map(function(e) {
return r.enhancer(e, void 0);
})).length - t;
this.updateArrayLength(o, a);
var s = this.spliceItemsIntoValues(e, t, n);
return 0 === t && 0 === n.length || this.notifyArraySplice(e, n, s), this.dehanceValues(s);
}, e.prototype.spliceItemsIntoValues = function(e, t, n) {
if (n.length < 1e4) return (r = this.values).splice.apply(r, u([ e, t ], n));
var r, o = this.values.slice(e, e + t);
return this.values = this.values.slice(0, e).concat(n, this.values.slice(e + t)), 
o;
}, e.prototype.notifyArrayChildUpdate = function(e, t, n) {
var r = !this.owned && f(), o = Y(this), i = o || r ? {
object: this.array,
type: "update",
index: e,
newValue: t,
oldValue: n
} : null;
r && h(a({}, i, {
name: this.atom.name
})), this.atom.reportChanged(), o && Q(this, i), r && y();
}, e.prototype.notifyArraySplice = function(e, t, n) {
var r = !this.owned && f(), o = Y(this), i = o || r ? {
object: this.array,
type: "splice",
index: e,
removed: n,
added: t,
removedCount: n.length,
addedCount: t.length
} : null;
r && h(a({}, i, {
name: this.atom.name
})), this.atom.reportChanged(), o && Q(this, i), r && y();
}, e;
}(), lt = function(e) {
function t(t, n, r, o) {
void 0 === r && (r = "ObservableArray@" + bt()), void 0 === o && (o = !1);
var i = e.call(this) || this, a = new ut(r, n, i, o);
return Ot(i, "$mobx", a), t && t.length && i.spliceWithArray(0, 0, t), ot && Object.defineProperty(a.array, "0", pt), 
i;
}
return i(t, e), t.prototype.intercept = function(e) {
return this.$mobx.intercept(e);
}, t.prototype.observe = function(e, t) {
return void 0 === t && (t = !1), this.$mobx.observe(e, t);
}, t.prototype.clear = function() {
return this.splice(0);
}, t.prototype.concat = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
return this.$mobx.atom.reportObserved(), Array.prototype.concat.apply(this.peek(), e.map(function(e) {
return gt(e) ? e.peek() : e;
}));
}, t.prototype.replace = function(e) {
return this.$mobx.spliceWithArray(0, this.$mobx.values.length, e);
}, t.prototype.toJS = function() {
return this.slice();
}, t.prototype.toJSON = function() {
return this.toJS();
}, t.prototype.peek = function() {
return this.$mobx.atom.reportObserved(), this.$mobx.dehanceValues(this.$mobx.values);
}, t.prototype.find = function(e, t, n) {
void 0 === n && (n = 0), 3 === arguments.length && Ct("The array.find fromIndex argument to find will not be supported anymore in the next major");
var r = this.findIndex.apply(this, arguments);
return -1 === r ? void 0 : this.get(r);
}, t.prototype.findIndex = function(e, t, n) {
void 0 === n && (n = 0), 3 === arguments.length && Ct("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");
for (var r = this.peek(), o = r.length, i = n; i < o; i++) if (e.call(t, r[i], i, this)) return i;
return -1;
}, t.prototype.splice = function(e, t) {
for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
switch (arguments.length) {
case 0:
return [];

case 1:
return this.$mobx.spliceWithArray(e);

case 2:
return this.$mobx.spliceWithArray(e, t);
}
return this.$mobx.spliceWithArray(e, t, n);
}, t.prototype.spliceWithArray = function(e, t, n) {
return this.$mobx.spliceWithArray(e, t, n);
}, t.prototype.push = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
var n = this.$mobx;
return n.spliceWithArray(n.values.length, 0, e), n.values.length;
}, t.prototype.pop = function() {
return this.splice(Math.max(this.$mobx.values.length - 1, 0), 1)[0];
}, t.prototype.shift = function() {
return this.splice(0, 1)[0];
}, t.prototype.unshift = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
var n = this.$mobx;
return n.spliceWithArray(0, 0, e), n.values.length;
}, t.prototype.reverse = function() {
var e = this.slice();
return e.reverse.apply(e, arguments);
}, t.prototype.sort = function(e) {
var t = this.slice();
return t.sort.apply(t, arguments);
}, t.prototype.remove = function(e) {
var t = this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);
return t > -1 && (this.splice(t, 1), !0);
}, t.prototype.move = function(e, t) {
function n(e) {
if (e < 0) throw new Error("[mobx.array] Index out of bounds: " + e + " is negative");
var t = this.$mobx.values.length;
if (e >= t) throw new Error("[mobx.array] Index out of bounds: " + e + " is not smaller than " + t);
}
if (Ct("observableArray.move is deprecated, use .slice() & .replace() instead"), 
n.call(this, e), n.call(this, t), e !== t) {
var r, o = this.$mobx.values;
r = e < t ? u(o.slice(0, e), o.slice(e + 1, t + 1), [ o[e] ], o.slice(t + 1)) : u(o.slice(0, t), [ o[e] ], o.slice(t, e), o.slice(e + 1)), 
this.replace(r);
}
}, t.prototype.get = function(e) {
var t = this.$mobx;
if (t) {
if (e < t.values.length) return t.atom.reportObserved(), t.dehanceValue(t.values[e]);
console.warn("[mobx.array] Attempt to read an array index (" + e + ") that is out of bounds (" + t.values.length + "). Please check length first. Out of bound indices will not be tracked by MobX");
}
}, t.prototype.set = function(e, t) {
var n = this.$mobx, r = n.values;
if (e < r.length) {
un(n.atom);
var o = r[e];
if (q(n)) {
var i = X(n, {
type: "update",
object: this,
index: e,
newValue: t
});
if (!i) return;
t = i.newValue;
}
(t = n.enhancer(t, o)) !== o && (r[e] = t, n.notifyArrayChildUpdate(e, t, o));
} else {
if (e !== r.length) throw new Error("[mobx.array] Index out of bounds, " + e + " is larger than " + r.length);
n.spliceWithArray(e, 0, [ t ]);
}
}, t;
}(at);
Be(lt.prototype, function() {
this.$mobx.atom.reportObserved();
var e = this, t = 0;
return je({
next: function() {
return t < e.length ? {
value: e[t++],
done: !1
} : {
done: !0,
value: void 0
};
}
});
}), Object.defineProperty(lt.prototype, "length", {
enumerable: !1,
configurable: !0,
get: function() {
return this.$mobx.getArrayLength();
},
set: function(e) {
this.$mobx.setArrayLength(e);
}
}), [ "every", "filter", "forEach", "indexOf", "join", "lastIndexOf", "map", "reduce", "reduceRight", "slice", "some", "toString", "toLocaleString" ].forEach(function(e) {
var t = Array.prototype[e];
Et("function" == typeof t, "Base function not defined on Array prototype: '" + e + "'"), 
Rt(lt.prototype, e, function() {
return t.apply(this.peek(), arguments);
});
}), function ct(e, t) {
for (var n = 0; n < t.length; n++) Rt(e, t[n], e[t[n]]);
}(lt.prototype, [ "constructor", "intercept", "observe", "clear", "concat", "get", "replace", "toJS", "toJSON", "peek", "find", "findIndex", "splice", "spliceWithArray", "push", "pop", "set", "shift", "unshift", "reverse", "sort", "remove", "move", "toString", "toLocaleString" ]);
var pt = dt(0);
function dt(e) {
return {
enumerable: !1,
configurable: !1,
get: function() {
return this.get(e);
},
set: function(t) {
this.set(e, t);
}
};
}
function ft(e) {
Object.defineProperty(lt.prototype, "" + e, dt(e));
}
function mt(e) {
for (var t = it; t < e; t++) ft(t);
it = e;
}
mt(1e3);
var ht = xt("ObservableArrayAdministration", ut);
function gt(e) {
return wt(e) && ht(e.$mobx);
}
var yt = "An invariant failed, however the error is obfuscated because this is an production build.", St = [];
Object.freeze(St);
var vt = {};
function _t() {
return "undefined" != typeof window ? window : r;
}
function bt() {
return ++jt.mobxGuid;
}
function Tt(e) {
throw Et(!1, e), "X";
}
function Et(e, t) {
if (!e) throw new Error("[mobx] " + (t || yt));
}
Object.freeze(vt);
function Ct(e, t) {
return !1;
}
function It(e) {
var t = !1;
return function() {
if (!t) return t = !0, e.apply(this, arguments);
};
}
var At = function() {};
function wt(e) {
return null !== e && "object" == typeof e;
}
function Pt(e) {
if (null === e || "object" != typeof e) return !1;
var t = Object.getPrototypeOf(e);
return t === Object.prototype || null === t;
}
function Rt(e, t, n) {
Object.defineProperty(e, t, {
enumerable: !1,
writable: !0,
configurable: !0,
value: n
});
}
function Ot(e, t, n) {
Object.defineProperty(e, t, {
enumerable: !1,
writable: !1,
configurable: !0,
value: n
});
}
function xt(e, t) {
var n = "isMobX" + e;
return t.prototype[n] = !0, function(e) {
return wt(e) && !0 === e[n];
};
}
function kt(e) {
return Array.isArray(e) || gt(e);
}
function Lt(e) {
return void 0 !== _t().Map && e instanceof _t().Map;
}
function Mt(e) {
for (var t = []; ;) {
var n = e.next();
if (n.done) break;
t.push(n.value);
}
return t;
}
function Dt() {
return "function" == typeof Symbol && Symbol.toPrimitive || "@@toPrimitive";
}
function Nt(e) {
return null === e ? null : "object" == typeof e ? "" + e : e;
}
var Ft, Gt, Ut = [ "mobxGuid", "spyListeners", "enforceActions", "computedRequiresReaction", "disableErrorBoundaries", "runId" ], Bt = function() {
return function e() {
this.version = 5, this.trackingDerivation = null, this.computationDepth = 0, this.runId = 0, 
this.mobxGuid = 0, this.inBatch = 0, this.pendingUnobservations = [], this.pendingReactions = [], 
this.isRunningReactions = !1, this.allowStateChanges = !0, this.enforceActions = !1, 
this.spyListeners = [], this.globalReactionErrorHandlers = [], this.computedRequiresReaction = !1, 
this.disableErrorBoundaries = !1;
};
}(), jt = new Bt(), Ht = !1, zt = _t();
function Vt() {
return jt;
}
function Wt() {
var e = new Bt();
for (var t in e) -1 === Ut.indexOf(t) && (jt[t] = e[t]);
jt.allowStateChanges = !jt.enforceActions;
}
function qt(e, t) {
return Kt(Ye(e, t));
}
function Kt(e) {
var t = {
name: e.name
};
return e.observing && e.observing.length > 0 && (t.dependencies = function n(e) {
var t = [];
return e.forEach(function(e) {
-1 === t.indexOf(e) && t.push(e);
}), t;
}(e.observing).map(Kt)), t;
}
function Xt(e, t) {
return Yt(Ye(e, t));
}
function Yt(e) {
var t = {
name: e.name
};
return function n(e) {
return e.observers && e.observers.length > 0;
}(e) && (t.observers = function r(e) {
return e.observers;
}(e).map(Yt)), t;
}
function Jt(e, t) {
var n = e.observers.length;
n && (e.observersIndexes[t.__mapid] = n), e.observers[n] = t, e.lowestObserverState > t.dependenciesState && (e.lowestObserverState = t.dependenciesState);
}
function Qt(e, t) {
if (1 === e.observers.length) e.observers.length = 0, Zt(e); else {
var n = e.observers, r = e.observersIndexes, o = n.pop();
if (o !== t) {
var i = r[t.__mapid] || 0;
i ? r[o.__mapid] = i : delete r[o.__mapid], n[i] = o;
}
delete r[t.__mapid];
}
}
function Zt(e) {
!1 === e.isPendingUnobservation && (e.isPendingUnobservation = !0, jt.pendingUnobservations.push(e));
}
function $t() {
jt.inBatch++;
}
function en() {
if (0 == --jt.inBatch) {
_n();
for (var e = jt.pendingUnobservations, t = 0; t < e.length; t++) {
var n = e[t];
n.isPendingUnobservation = !1, 0 === n.observers.length && (n.isBeingObserved && (n.isBeingObserved = !1, 
n.onBecomeUnobserved()), n instanceof V && n.suspend());
}
jt.pendingUnobservations = [];
}
}
function tn(e) {
var t = jt.trackingDerivation;
return null !== t ? (t.runId !== e.lastAccessedBy && (e.lastAccessedBy = t.runId, 
t.newObserving[t.unboundDepsCount++] = e, e.isBeingObserved || (e.isBeingObserved = !0, 
e.onBecomeObserved())), !0) : (0 === e.observers.length && jt.inBatch > 0 && Zt(e), 
!1);
}
function nn(e, t) {
if (console.log("[mobx.trace] '" + e.name + "' is invalidated due to a change in: '" + t.name + "'"), 
e.isTracing === Gt.BREAK) {
var n = [];
!function e(t, n, r) {
if (n.length >= 1e3) return void n.push("(and many more)");
n.push("" + new Array(r).join("\t") + t.name);
t.dependencies && t.dependencies.forEach(function(t) {
return e(t, n, r + 1);
});
}(qt(e), n, 1), new Function("debugger;\n/*\nTracing '" + e.name + "'\n\nYou are entering this break point because derivation '" + e.name + "' is being traced and '" + t.name + "' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n" + (e instanceof V ? e.derivation.toString() : "") + "\n\nThe dependencies for this derivation are:\n\n" + n.join("\n") + "\n*/\n    ")();
}
}
zt.__mobxInstanceCount ? (zt.__mobxInstanceCount++, setTimeout(function() {
Ht || Tt(!1);
}, 1)) : zt.__mobxInstanceCount = 1, function(e) {
e[e.NOT_TRACKING = -1] = "NOT_TRACKING", e[e.UP_TO_DATE = 0] = "UP_TO_DATE", e[e.POSSIBLY_STALE = 1] = "POSSIBLY_STALE", 
e[e.STALE = 2] = "STALE";
}(Ft || (Ft = {})), function(e) {
e[e.NONE = 0] = "NONE", e[e.LOG = 1] = "LOG", e[e.BREAK = 2] = "BREAK";
}(Gt || (Gt = {}));
var rn = function() {
return function e(t) {
this.cause = t;
};
}();
function on(e) {
return e instanceof rn;
}
function an(e) {
switch (e.dependenciesState) {
case Ft.UP_TO_DATE:
return !1;

case Ft.NOT_TRACKING:
case Ft.STALE:
return !0;

case Ft.POSSIBLY_STALE:
for (var t = dn(), n = e.observing, r = n.length, o = 0; o < r; o++) {
var i = n[o];
if (W(i)) {
if (jt.disableErrorBoundaries) i.get(); else try {
i.get();
} catch (e) {
return fn(t), !0;
}
if (e.dependenciesState === Ft.STALE) return fn(t), !0;
}
}
return mn(e), fn(t), !1;
}
}
function sn() {
return null !== jt.trackingDerivation;
}
function un(e) {
var t = e.observers.length > 0;
jt.computationDepth > 0 && t && Tt(!1), !jt.allowStateChanges && t && Tt(!1);
}
function ln(e, t, n) {
mn(e), e.newObserving = new Array(e.observing.length + 100), e.unboundDepsCount = 0, 
e.runId = ++jt.runId;
var r, o = jt.trackingDerivation;
if (jt.trackingDerivation = e, !0 === jt.disableErrorBoundaries) r = t.call(n); else try {
r = t.call(n);
} catch (e) {
r = new rn(e);
}
return jt.trackingDerivation = o, function i(e) {
for (var t = e.observing, n = e.observing = e.newObserving, r = Ft.UP_TO_DATE, o = 0, i = e.unboundDepsCount, a = 0; a < i; a++) {
var s = n[a];
0 === s.diffValue && (s.diffValue = 1, o !== a && (n[o] = s), o++), s.dependenciesState > r && (r = s.dependenciesState);
}
n.length = o, e.newObserving = null, i = t.length;
for (;i--; ) {
var s = t[i];
0 === s.diffValue && Qt(s, e), s.diffValue = 0;
}
for (;o--; ) {
var s = n[o];
1 === s.diffValue && (s.diffValue = 0, Jt(s, e));
}
r !== Ft.UP_TO_DATE && (e.dependenciesState = r, e.onBecomeStale());
}(e), r;
}
function cn(e) {
var t = e.observing;
e.observing = [];
for (var n = t.length; n--; ) Qt(t[n], e);
e.dependenciesState = Ft.NOT_TRACKING;
}
function pn(e) {
var t = dn(), n = e();
return fn(t), n;
}
function dn() {
var e = jt.trackingDerivation;
return jt.trackingDerivation = null, e;
}
function fn(e) {
jt.trackingDerivation = e;
}
function mn(e) {
if (e.dependenciesState !== Ft.UP_TO_DATE) {
e.dependenciesState = Ft.UP_TO_DATE;
for (var t = e.observing, n = t.length; n--; ) t[n].lowestObserverState = Ft.UP_TO_DATE;
}
}
function hn() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
var n = !1;
"boolean" == typeof e[e.length - 1] && (n = e.pop());
var r = function o(e) {
switch (e.length) {
case 0:
return jt.trackingDerivation;

case 1:
return Ye(e[0]);

case 2:
return Ye(e[0], e[1]);
}
}(e);
if (!r) return Tt(!1);
r.isTracing === Gt.NONE && console.log("[mobx.trace] '" + r.name + "' tracing enabled"), 
r.isTracing = n ? Gt.BREAK : Gt.LOG;
}
var gn = function() {
function e(e, t, n) {
void 0 === e && (e = "Reaction@" + bt()), this.name = e, this.onInvalidate = t, 
this.errorHandler = n, this.observing = [], this.newObserving = [], this.dependenciesState = Ft.NOT_TRACKING, 
this.diffValue = 0, this.runId = 0, this.unboundDepsCount = 0, this.__mapid = "#" + bt(), 
this.isDisposed = !1, this._isScheduled = !1, this._isTrackPending = !1, this._isRunning = !1, 
this.isTracing = Gt.NONE;
}
return e.prototype.onBecomeStale = function() {
this.schedule();
}, e.prototype.schedule = function() {
this._isScheduled || (this._isScheduled = !0, jt.pendingReactions.push(this), _n());
}, e.prototype.isScheduled = function() {
return this._isScheduled;
}, e.prototype.runReaction = function() {
this.isDisposed || ($t(), this._isScheduled = !1, an(this) && (this._isTrackPending = !0, 
this.onInvalidate(), this._isTrackPending && f() && m({
name: this.name,
type: "scheduled-reaction"
})), en());
}, e.prototype.track = function(e) {
$t();
var t, n = f();
n && (t = Date.now(), h({
name: this.name,
type: "reaction"
})), this._isRunning = !0;
var r = ln(this, e, void 0);
this._isRunning = !1, this._isTrackPending = !1, this.isDisposed && cn(this), on(r) && this.reportExceptionInDerivation(r.cause), 
n && y({
time: Date.now() - t
}), en();
}, e.prototype.reportExceptionInDerivation = function(e) {
var t = this;
if (this.errorHandler) this.errorHandler(e, this); else {
var n = "[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '" + this;
console.error(n, e), f() && m({
type: "error",
name: this.name,
message: n,
error: "" + e
}), jt.globalReactionErrorHandlers.forEach(function(n) {
return n(e, t);
});
}
}, e.prototype.dispose = function() {
this.isDisposed || (this.isDisposed = !0, this._isRunning || ($t(), cn(this), en()));
}, e.prototype.getDisposer = function() {
var e = this.dispose.bind(this);
return e.$mobx = this, e;
}, e.prototype.toString = function() {
return "Reaction[" + this.name + "]";
}, e.prototype.trace = function(e) {
void 0 === e && (e = !1), hn(this, e);
}, e;
}();
function yn(e) {
return jt.globalReactionErrorHandlers.push(e), function() {
var t = jt.globalReactionErrorHandlers.indexOf(e);
t >= 0 && jt.globalReactionErrorHandlers.splice(t, 1);
};
}
var Sn = 100, vn = function(e) {
return e();
};
function _n() {
jt.inBatch > 0 || jt.isRunningReactions || vn(bn);
}
function bn() {
jt.isRunningReactions = !0;
for (var e = jt.pendingReactions, t = 0; e.length > 0; ) {
++t === Sn && (console.error("Reaction doesn't converge to a stable state after " + Sn + " iterations. Probably there is a cycle in the reactive function: " + e[0]), 
e.splice(0));
for (var n = e.splice(0), r = 0, o = n.length; r < o; r++) n[r].runReaction();
}
jt.isRunningReactions = !1;
}
var Tn = xt("Reaction", gn);
function En(e, t, n, r) {
return "function" == typeof n ? function o(e, t, n, r) {
return Je(e, t).observe(n, r);
}(e, t, n, r) : function i(e, t, n) {
return Je(e).observe(t, n);
}(e, t, n);
}
function Cn(e, t, n) {
return "function" == typeof n ? function r(e, t, n) {
return Je(e, t).intercept(n);
}(e, t, n) : function o(e, t) {
return Je(e).intercept(t);
}(e, t);
}
function In(e, t, n) {
return 1 === arguments.length || t && "object" == typeof t ? function r(e, t) {
0;
var n, r = new Promise(function(r, o) {
var i = An(e, r, a({}, t, {
onError: o
}));
n = function() {
i(), o("WHEN_CANCELLED");
};
});
return r.cancel = n, r;
}(e, t) : An(e, t, n || {});
}
function An(e, t, n) {
var r;
"number" == typeof n.timeout && (r = setTimeout(function() {
if (!i.$mobx.isDisposed) {
i();
var e = new Error("WHEN_TIMEOUT");
if (!n.onError) throw e;
n.onError(e);
}
}, n.timeout)), n.name = n.name || "When@" + bt();
var o = v(n.name + "-effect", t), i = B(function(t) {
e() && (t.dispose(), r && clearTimeout(r), o());
}, n);
return i;
}
function wn(e) {
return ce(e) ? e.$mobx.getKeys() : Xe(e) ? e._keys.slice() : Tt(!1);
}
function Pn(e) {
return ce(e) ? wn(e).map(function(t) {
return e[t];
}) : Xe(e) ? wn(e).map(function(t) {
return e.get(t);
}) : gt(e) ? e.slice() : Tt(!1);
}
function Rn(e, t, n) {
if (2 !== arguments.length) if (ce(e)) {
var r = e.$mobx, o = r.values[t];
o ? o.set(n) : oe(e, t, n, r.defaultEnhancer);
} else if (Xe(e)) e.set(t, n); else {
if (!gt(e)) return Tt(!1);
"number" != typeof t && (t = parseInt(t, 10)), Et(t >= 0, "Not a valid index: '" + t + "'"), 
$t(), t >= e.length && (e.length = t + 1), e[t] = n, en();
} else {
$t();
var i = t;
try {
for (var a in i) Rn(e, a, i[a]);
} finally {
en();
}
}
}
function On(e, t) {
if (ce(e)) e.$mobx.remove(t); else if (Xe(e)) e.delete(t); else {
if (!gt(e)) return Tt(!1);
"number" != typeof t && (t = parseInt(t, 10)), Et(t >= 0, "Not a valid index: '" + t + "'"), 
e.splice(t, 1);
}
}
function xn(e, t) {
if (ce(e)) {
var n = Je(e);
return n.getKeys(), n.values[t] instanceof ee;
}
return Xe(e) ? e.has(t) : gt(e) ? t >= 0 && t < e.length : Tt(!1);
}
function kn(e, t) {
if (xn(e, t)) return ce(e) ? e[t] : Xe(e) ? e.get(t) : gt(e) ? e[t] : Tt(!1);
}
function Ln(e, t) {
var n = "function" == typeof e ? e.prototype : e;
for (var r in t) {
var o = t[r], i = o(n, r, Object.getOwnPropertyDescriptor(n, r));
i && Object.defineProperty(n, r, i);
}
return e;
}
function Mn(e) {
void 0 !== e.enforceActions && (jt.enforceActions = !!e.enforceActions, jt.allowStateChanges = !e.enforceActions), 
void 0 !== e.computedRequiresReaction && (jt.computedRequiresReaction = !!e.computedRequiresReaction), 
!0 === e.isolateGlobalState && function t() {
Ht = !0, _t().__mobxInstanceCount--;
}(), void 0 !== e.disableErrorBoundaries && (!0 === e.disableErrorBoundaries && console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."), 
jt.disableErrorBoundaries = !!e.disableErrorBoundaries), "number" == typeof e.arrayBuffer && mt(e.arrayBuffer), 
e.reactionScheduler && function n(e) {
var t = vn;
vn = function(n) {
return e(function() {
return t(n);
});
};
}(e.reactionScheduler);
}
var Dn = 0;
function Nn(e) {
1 !== arguments.length && fail("Flow expects one 1 argument and cannot be used as decorator");
var t = e.name || "<unnamed flow>";
return function() {
var n, r = arguments, o = ++Dn, i = A(t + " - runid: " + o + " - init", e).apply(this, r), a = void 0, s = new Promise(function(e, r) {
var s = 0;
function u(e) {
var n;
a = void 0;
try {
n = A(t + " - runid: " + o + " - yield " + s++, i.next).call(i, e);
} catch (e) {
return r(e);
}
c(n);
}
function l(e) {
var n;
a = void 0;
try {
n = A(t + " - runid: " + o + " - yield " + s++, i.throw).call(i, e);
} catch (e) {
return r(e);
}
c(n);
}
function c(t) {
if (!t || "function" != typeof t.then) return t.done ? e(t.value) : (a = Promise.resolve(t.value)).then(u, l);
t.then(c, r);
}
n = r, u(void 0);
});
return s.cancel = A(t + " - runid: " + o + " - cancel", function() {
try {
a && Fn(a);
var e = i.return(), t = Promise.resolve(e.value);
t.then(At, At), Fn(t), n(new Error("FLOW_CANCELLED"));
} catch (e) {
n(e);
}
}), s;
};
}
function Fn(e) {
"function" == typeof e.cancel && e.cancel();
}
var Gn = {
detectCycles: !0,
exportMapsAsObjects: !0
};
function Un(e, t, n) {
void 0 === n && (n = []), "boolean" == typeof t && (t = {
detectCycles: t
}), t || (t = Gn);
var r = !0 === t.detectCycles;
function o(t) {
return r && n.push([ e, t ]), t;
}
if (fe(e)) {
if (r && null === n && (n = []), r && null !== e && "object" == typeof e) for (var i = 0, a = n.length; i < a; i++) if (n[i][0] === e) return n[i][1];
if (gt(e)) {
var s = o([]), u = e.map(function(e) {
return Un(e, t, n);
});
s.length = u.length;
for (i = 0, a = u.length; i < a; i++) s[i] = u[i];
return s;
}
if (ce(e)) {
s = o({});
for (var l in wn(e), e) s[l] = Un(e[l], t, n);
return s;
}
if (Xe(e)) {
if (!1 === t.exportMapsAsObjects) {
var c = o(new Map());
return e.forEach(function(e, r) {
c.set(r, Un(e, t, n));
}), c;
}
var p = o({});
return e.forEach(function(e, r) {
p[r] = Un(e, t, n);
}), p;
}
if (te(e)) return Un(e.get(), t, n);
}
return e;
}
function Bn(e, t, n) {
var r;
if (Xe(e) || gt(e) || te(e)) r = Je(e); else {
if (!ce(e)) return Tt(!1);
if ("string" != typeof t) return Tt(!1);
r = Je(e, t);
}
return void 0 !== r.dehancer ? Tt(!1) : (r.dehancer = "function" == typeof t ? t : n, 
function() {
r.dehancer = void 0;
});
}
"object" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
spy: S,
extras: {
getDebugName: Qe
}
});
}.call(this, n(337), n(185));
}, function(e, t, n) {
!function(e, t, n) {
"use strict";
var r = "default" in n ? n.default : n, o = void 0, i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
}, a = (function() {
function e(e) {
this.value = e;
}
function t(t) {
var n, r;
function o(n, r) {
try {
var a = t[n](r), s = a.value;
s instanceof e ? Promise.resolve(s.value).then(function(e) {
o("next", e);
}, function(e) {
o("throw", e);
}) : i(a.done ? "return" : "normal", a.value);
} catch (e) {
i("throw", e);
}
}
function i(e, t) {
switch (e) {
case "return":
n.resolve({
value: t,
done: !0
});
break;

case "throw":
n.reject(t);
break;

default:
n.resolve({
value: t,
done: !1
});
}
(n = n.next) ? o(n.key, n.arg) : r = null;
}
this._invoke = function a(e, t) {
return new Promise(function(i, a) {
var s = {
key: e,
arg: t,
resolve: i,
reject: a,
next: null
};
r ? r = r.next = s : (n = r = s, o(e, t));
});
}, "function" != typeof t.return && (this.return = void 0);
}
"function" == typeof Symbol && Symbol.asyncIterator && (t.prototype[Symbol.asyncIterator] = function() {
return this;
}), t.prototype.next = function(e) {
return this._invoke("next", e);
}, t.prototype.throw = function(e) {
return this._invoke("throw", e);
}, t.prototype.return = function(e) {
return this._invoke("return", e);
};
}(), function(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}), s = function() {
function e(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
return function(t, n, r) {
return n && e(t.prototype, n), r && e(t, r), t;
};
}(), u = function(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}, l = function(e, t) {
if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return !t || "object" != typeof t && "function" != typeof t ? e : t;
}, c = function() {
function e() {
a(this, e), this.listeners = [];
}
return s(e, [ {
key: "on",
value: function e(t) {
var n = this;
return this.listeners.push(t), function() {
var e = n.listeners.indexOf(t);
-1 !== e && n.listeners.splice(e, 1);
};
}
}, {
key: "emit",
value: function e(t) {
this.listeners.forEach(function(e) {
return e(t);
});
}
} ]), e;
}(), p = {
childContextTypes: !0,
contextTypes: !0,
defaultProps: !0,
displayName: !0,
getDefaultProps: !0,
mixins: !0,
propTypes: !0,
type: !0
}, d = {
name: !0,
length: !0,
prototype: !0,
caller: !0,
callee: !0,
arguments: !0,
arity: !0
}, f = Object.defineProperty, m = Object.getOwnPropertyNames, h = Object.getOwnPropertySymbols, g = Object.getOwnPropertyDescriptor, y = Object.getPrototypeOf, S = y && y(Object), v = function e(t, n, r) {
if ("string" != typeof n) {
if (S) {
var o = y(n);
o && o !== S && e(t, o, r);
}
var i = m(n);
h && (i = i.concat(h(n)));
for (var a = 0; a < i.length; ++a) {
var s = i[a];
if (!(p[s] || d[s] || r && r[s])) {
var u = g(n, s);
try {
f(t, s, u);
} catch (e) {}
}
}
return t;
}
return t;
};
function _(e) {
function n(n, r, o, i, a, s) {
for (var u = arguments.length, l = Array(u > 6 ? u - 6 : 0), c = 6; c < u; c++) l[c - 6] = arguments[c];
return t.untracked(function() {
if (i = i || "<<anonymous>>", s = s || o, null == r[o]) {
if (n) {
var t = null === r[o] ? "null" : "undefined";
return new Error("The " + a + " `" + s + "` is marked as required in `" + i + "`, but its value is `" + t + "`.");
}
return null;
}
return e.apply(void 0, [ r, o, i, a, s ].concat(l));
});
}
var r = n.bind(null, !1);
return r.isRequired = n.bind(null, !0), r;
}
function b(e) {
var t = void 0 === e ? "undefined" : i(e);
return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : function n(e, t) {
return "symbol" === e || ("Symbol" === t["@@toStringTag"] || "function" == typeof Symbol && t instanceof Symbol);
}(t, e) ? "symbol" : t;
}
function T(e, n) {
return _(function(r, o, i, a, s) {
return t.untracked(function() {
if (e && b(r[o]) === n.toLowerCase()) return null;
var a = void 0;
switch (n) {
case "Array":
a = t.isObservableArray;
break;

case "Object":
a = t.isObservableObject;
break;

case "Map":
a = t.isObservableMap;
break;

default:
throw new Error("Unexpected mobxType: " + n);
}
var u = r[o];
if (!a(u)) {
var l = function c(e) {
var t = b(e);
if ("object" === t) {
if (e instanceof Date) return "date";
if (e instanceof RegExp) return "regexp";
}
return t;
}(u), p = e ? " or javascript `" + n.toLowerCase() + "`" : "";
return new Error("Invalid prop `" + s + "` of type `" + l + "` supplied to `" + i + "`, expected `mobx.Observable" + n + "`" + p + ".");
}
return null;
});
});
}
function E(e, n) {
return _(function(r, o, i, a, s) {
for (var u = arguments.length, l = Array(u > 5 ? u - 5 : 0), c = 5; c < u; c++) l[c - 5] = arguments[c];
return t.untracked(function() {
if ("function" != typeof n) return new Error("Property `" + s + "` of component `" + i + "` has invalid PropType notation.");
var t = T(e, "Array")(r, o, i);
if (t instanceof Error) return t;
for (var u = r[o], c = 0; c < u.length; c++) if ((t = n.apply(void 0, [ u, c, i, a, s + "[" + c + "]" ].concat(l))) instanceof Error) return t;
return null;
});
});
}
var C = T(!1, "Array"), I = E.bind(null, !1), A = T(!1, "Map"), w = T(!1, "Object"), P = T(!0, "Array"), R = E.bind(null, !0), O = T(!0, "Object"), x = Object.freeze({
observableArray: C,
observableArrayOf: I,
observableMap: A,
observableObject: w,
arrayOrObservableArray: P,
arrayOrObservableArrayOf: R,
objectOrObservableObject: O
}), k = {
mobxStores: O
};
Object.seal(k);
var L = {
contextTypes: {
get: function e() {
return k;
},
set: function e(t) {
console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`");
},
configurable: !0,
enumerable: !1
},
isMobxInjector: {
value: !0,
writable: !0,
configurable: !0,
enumerable: !0
}
};
function M(e, t, r) {
var o, i, c = "inject-" + (t.displayName || t.name || t.constructor && t.constructor.name || "Unknown");
r && (c += "-with-" + r);
var p = (i = o = function(r) {
function o() {
var e, t, n;
a(this, o);
for (var r = arguments.length, i = Array(r), s = 0; s < r; s++) i[s] = arguments[s];
return n = l(this, (e = o.__proto__ || Object.getPrototypeOf(o)).call.apply(e, [ this ].concat(i))), 
t = n, n.storeRef = function(e) {
n.wrappedInstance = e;
}, l(n, t);
}
return u(o, r), s(o, [ {
key: "render",
value: function r() {
var o = {};
for (var i in this.props) this.props.hasOwnProperty(i) && (o[i] = this.props[i]);
var a = e(this.context.mobxStores || {}, o, this.context) || {};
for (var s in a) o[s] = a[s];
return function u(e) {
return !(e.prototype && e.prototype.render);
}(t) || (o.ref = this.storeRef), n.createElement(t, o);
}
} ]), o;
}(n.Component), o.displayName = c, i);
return v(p, t), p.wrappedComponent = t, Object.defineProperties(p, L), p;
}
function D() {
var e = void 0;
if ("function" == typeof arguments[0]) return e = arguments[0], function(t) {
var n = M(e, t);
return n.isMobxInjector = !1, (n = Y(n)).isMobxInjector = !0, n;
};
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
return e = function r(e) {
return function(t, n) {
return e.forEach(function(e) {
if (!(e in n)) {
if (!(e in t)) throw new Error("MobX injector: Store '" + e + "' is not available! Make sure it is provided by some Provider");
n[e] = t[e];
}
}), n;
};
}(t), function(n) {
return M(e, n, t.join("-"));
};
}
var N = !1, F = !1, G = !1, U = "undefined" != typeof WeakMap ? new WeakMap() : void 0, B = new c();
function j(e) {
if (o) try {
return o(e);
} catch (e) {
return null;
}
return null;
}
function H(e) {
var t = j(e);
t && U && U.set(t, e), B.emit({
event: "render",
renderTime: e.__$mobRenderEnd - e.__$mobRenderStart,
totalTime: Date.now() - e.__$mobRenderStart,
component: e,
node: t
});
}
function z() {
if ("undefined" == typeof WeakMap) throw new Error("[mobx-react] tracking components is not supported in this browser.");
N || (N = !0);
}
var V = new c();
function W(e, t) {
var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], r = e[t], o = X[t], i = r ? !0 === n ? function() {
o.apply(this, arguments), r.apply(this, arguments);
} : function() {
r.apply(this, arguments), o.apply(this, arguments);
} : o;
e[t] = i;
}
function q(e, t) {
if (K(e, t)) return !0;
if ("object" !== (void 0 === e ? "undefined" : i(e)) || null === e || "object" !== (void 0 === t ? "undefined" : i(t)) || null === t) return !1;
var n = Object.keys(e), r = Object.keys(t);
if (n.length !== r.length) return !1;
for (var o = 0; o < n.length; o++) if (!hasOwnProperty.call(t, n[o]) || !K(e[n[o]], t[n[o]])) return !1;
return !0;
}
function K(e, t) {
return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t;
}
var X = {
componentWillMount: function e() {
var r = this;
if (!0 !== F) {
var o = this.displayName || this.name || this.constructor && (this.constructor.displayName || this.constructor.name) || "<component>", i = this._reactInternalInstance && this._reactInternalInstance._rootNodeID || this._reactInternalFiber && this._reactInternalFiber._debugID, a = !1, s = !1;
d.call(this, "props"), d.call(this, "state");
var u = this.render.bind(this), l = null, c = !1, p = function e() {
c = !1;
var n = void 0, o = void 0;
if (l.track(function() {
N && (r.__$mobRenderStart = Date.now());
try {
o = t._allowStateChanges(!1, u);
} catch (e) {
n = e;
}
N && (r.__$mobRenderEnd = Date.now());
}), n) throw V.emit(n), n;
return o;
};
this.render = function e() {
return (l = new t.Reaction(o + "#" + i + ".render()", function() {
if (!c && (c = !0, "function" == typeof r.componentWillReact && r.componentWillReact(), 
!0 !== r.__$mobxIsUnmounted)) {
var e = !0;
try {
s = !0, a || n.Component.prototype.forceUpdate.call(r), e = !1;
} finally {
s = !1, e && l.dispose();
}
}
})).reactComponent = r, p.$mobx = l, r.render = p, p();
};
}
function d(e) {
var n = this[e], r = t.createAtom("reactive " + e);
Object.defineProperty(this, e, {
configurable: !0,
enumerable: !0,
get: function e() {
return r.reportObserved(), n;
},
set: function e(t) {
s || q(n, t) ? n = t : (n = t, a = !0, r.reportChanged(), a = !1);
}
});
}
},
componentWillUnmount: function e() {
if (!0 !== F && (this.render.$mobx && this.render.$mobx.dispose(), this.__$mobxIsUnmounted = !0, 
N)) {
var t = j(this);
t && U && U.delete(t), B.emit({
event: "destroy",
component: this,
node: t
});
}
},
componentDidMount: function e() {
N && H(this);
},
componentDidUpdate: function e() {
N && H(this);
},
shouldComponentUpdate: function e(t, n) {
return F && console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."), 
this.state !== n || !q(this.props, t);
}
};
function Y(e, t) {
if ("string" == typeof e) throw new Error("Store names should be provided as array");
if (Array.isArray(e)) return G || (G = !0, console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')), 
t ? D.apply(null, e)(Y(t)) : function(t) {
return Y(e, t);
};
var r, o, i = e;
if (!0 === i.isMobxInjector && console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"), 
!("function" != typeof i || i.prototype && i.prototype.render || i.isReactClass || n.Component.isPrototypeOf(i))) return Y((o = r = function(e) {
function t() {
return a(this, t), l(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
}
return u(t, e), s(t, [ {
key: "render",
value: function e() {
return i.call(this, this.props, this.context);
}
} ]), t;
}(n.Component), r.displayName = i.displayName || i.name, r.contextTypes = i.contextTypes, 
r.propTypes = i.propTypes, r.defaultProps = i.defaultProps, o));
if (!i) throw new Error("Please pass a valid component to 'observer'");
var c = i.prototype || i;
return function p(e) {
W(e, "componentWillMount", !0), [ "componentDidMount", "componentWillUnmount", "componentDidUpdate" ].forEach(function(t) {
W(e, t);
}), e.shouldComponentUpdate || (e.shouldComponentUpdate = X.shouldComponentUpdate);
}(c), i.isMobXReactObserver = !0, i;
}
var J = Y(function(e) {
var t = e.children, n = e.inject, o = e.render, i = t || o;
if (void 0 === i) return null;
if (!n) return i();
var a = D(n)(i);
return r.createElement(a, null);
});
J.displayName = "Observer";
var Q, Z, $ = function e(t, n, r, o, a) {
var s = "children" === n ? "render" : "children";
return "function" == typeof t[n] && "function" == typeof t[s] ? new Error("Invalid prop,do not use children and render in the same time in`" + r) : "function" != typeof t[n] && "function" != typeof t[s] ? new Error("Invalid prop `" + a + "` of type `" + i(t[n]) + "` supplied to `" + r + "`, expected `function`.") : void 0;
};
J.propTypes = {
render: $,
children: $
};
var ee = {
children: !0,
key: !0,
ref: !0
}, te = (Z = Q = function(e) {
function t() {
return a(this, t), l(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
}
return u(t, e), s(t, [ {
key: "render",
value: function e() {
return n.Children.only(this.props.children);
}
}, {
key: "getChildContext",
value: function e() {
var t = {}, n = this.context.mobxStores;
if (n) for (var r in n) t[r] = n[r];
for (var o in this.props) ee[o] || "suppressChangedStoreWarning" === o || (t[o] = this.props[o]);
return {
mobxStores: t
};
}
}, {
key: "componentWillReceiveProps",
value: function e(t) {
if (Object.keys(t).length !== Object.keys(this.props).length && console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"), 
!t.suppressChangedStoreWarning) for (var n in t) ee[n] || this.props[n] === t[n] || console.warn("MobX Provider: Provided store '" + n + "' has changed. Please avoid replacing stores as the change might not propagate to all children");
}
} ]), t;
}(n.Component), Q.contextTypes = {
mobxStores: O
}, Q.childContextTypes = {
mobxStores: O.isRequired
}, Z);
if (!n.Component) throw new Error("mobx-react requires React to be available");
if (!t.spy) throw new Error("mobx-react requires mobx to be available");
if ("object" === ("undefined" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ ? "undefined" : i(__MOBX_DEVTOOLS_GLOBAL_HOOK__))) {
var ne = {
spy: t.spy,
extras: {
getDebugName: t.getDebugName
}
}, re = {
renderReporter: B,
componentByNodeRegistery: U,
trackComponents: z
};
__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(re, ne);
}
e.propTypes = x, e.PropTypes = x, e.onError = function e(t) {
return V.on(t);
}, e.observer = Y, e.Observer = J, e.renderReporter = B, e.componentByNodeRegistery = U, 
e.trackComponents = z, e.useStaticRendering = function oe(e) {
F = e;
}, e.Provider = te, e.inject = D, Object.defineProperty(e, "__esModule", {
value: !0
});
}(t, n(3), n(1));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(52), i = n(84), a = n(95), s = (n(505), n(40));
if (a.globalScope.__styleClassInitialized) throw new Error("The StyleClass module has already been loaded.\nThis is most likely due to importing from '../twinkle' instead of 'twinkle'.\nIt can usually be found by checking the stacktrace below.\nOtherwise, run 'yarn ast-inspector' in /client");
a.globalScope.__styleClassInitialized = !0;
var u = i.options.enableDevWarnings ? "Missing debug name. If you see this, it means the transformer is broken, or the call was made in another type of file. In that case, you need to pass it manually." : "Missing debug name";
function l(e) {
return e && e.pushObjectsTo;
}
t.isStyleClass = l, t.countUsage = function c(e) {
e && t.usageCounter.SurfaceStyle++;
}, t.usageCounter = {};
var p = function() {
function e() {
0;
}
return e.prototype.getNumericStyle = function(e, t) {
var n = this.getStyleValue(e);
return "number" != typeof n || isNaN(n) ? t : n;
}, e;
}();
t.StyleClass = p;
var d = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.getStyleValue = function(e, t) {
var n = this.getStyle()[e];
return void 0 === n ? t : n;
}, t.prototype.getNumericStyle = function(e, t) {
var n = this.getStyle()[e];
return "number" == typeof n ? n : t;
}, t;
}(p);
t.NonMergedStyleClass = d;
var f = 1;
t.staticStyles = {};
var m = {}, h = s.getBuildInfo().hasGetStyle(), g = {}, y = function(e) {
function n(n, r) {
var o = e.call(this) || this;
return o.style = r, o.kind = "StaticStyle", o.isSentToNative = !1, o.id = f++, t.staticStyles[o.id + ""] = o, 
o;
}
return r.__extends(n, e), n.create = function(e, t) {
return new n(t, e);
}, n.hoist = function(e) {
throw new Error("Not hoisted, are the custom transformers broken?");
}, n.prototype.resetHooks = function() {
this.style = this.getStyle(), this.hookedStyle = void 0, this.isSentToNative = !1;
}, n.prototype.PRIVATE_style = function() {
return this.hookedStyle ? this.hookedStyle : this.hookStyle();
}, n.prototype.getStyle = function() {
return h && this.style === g ? o.nativeApi.getStyle(this.id) || g : this.style;
}, n.prototype.hookStyle = function() {
return this.hookedStyle = i.options.styleHook(this.debugName, this.style), this.hookedStyle;
}, n.prototype.sendToNative = function() {
o.nativeApi.createStyle(this.hookedStyle, this.id), this.isSentToNative = !0, h && (this.hookedStyle = g, 
this.style = g);
}, n.prototype.pushObjectsTo = function(e, n) {
t.usageCounter[this.kind]++, this.hookedStyle || this.hookStyle(), n && !this.isSentToNative && this.sendToNative(), 
e.push(this.id);
}, n.wrapLegacyStyle = function(e, t) {
if (!t) throw new Error(u);
if (m[t]) {
if (i.options.enableDevWarnings) throw new Error("You cannot call StaticStyle.wrapLegacyStyle twice for the same style: " + t);
return m[t];
}
return m[t] = n.create(e, t);
}, n.wrapLegacyStyleSheet = function(e, t) {
if (!t) throw new Error(u);
var r = {};
return Object.keys(e).forEach(function(o) {
r[o] = n.wrapLegacyStyle(e[o], t + "_" + o);
}), r;
}, n;
}(d);
function S(e, n, r) {
return void 0 === e && (e = t.emptyStyle), void 0 === n && (n = t.emptyStyle), e === t.emptyStyle ? n : n === t.emptyStyle ? e : new T(e, n, r);
}
t.StaticStyle = y, t.emptyStyle = new y("EmptyStyle", {}), t.emptyStyle.pushObjectsTo = function() {}, 
t.merge2 = S, t.merge3 = function v(e, n, r, o) {
return void 0 === e && (e = t.emptyStyle), void 0 === n && (n = t.emptyStyle), void 0 === r && (r = t.emptyStyle), 
new E(e, n, r, o);
}, t.merge4 = function _(e, n, r, o, i) {
return void 0 === e && (e = t.emptyStyle), void 0 === n && (n = t.emptyStyle), void 0 === r && (r = t.emptyStyle), 
void 0 === o && (o = t.emptyStyle), new C(e, n, r, o, i);
};
var b = function(e) {
function n(t, n) {
var r = e.call(this) || this;
return r.style = n, r.kind = "DynamicStyle", r;
}
return r.__extends(n, e), n.prototype.getStyle = function() {
return this.style;
}, n.create = function(e, t) {
return new n(t, e);
}, n.prototype.pushObjectsTo = function(e, n) {
t.usageCounter[this.kind]++, e.push(i.options.styleHook(this.debugName, this.style));
}, n.maybeLegacyStyle = function(e, r) {
if (!r) throw new Error(u);
if (e) {
if (Array.isArray(e)) {
for (var o = void 0, i = 0, a = e; i < a.length; i++) {
var s = a[i], c = n.maybeLegacyStyle(s, r);
o = o ? S(o, c) : c;
}
return o || t.emptyStyle;
}
return l(e) ? e : n.wrapLegacyStyle(e, r);
}
return t.emptyStyle;
}, n.wrapLegacyStyle = function(e, r) {
return e ? n.create(e, r) : t.emptyStyle;
}, n;
}(d);
t.DynamicStyle = b;
var T = function(e) {
function t(t, n, r) {
var o = e.call(this) || this;
return o.style1 = t, o.style2 = n, o.kind = "MergeStyle2", o;
}
return r.__extends(t, e), t.prototype.pushObjectsTo = function(e, t) {
this.style1.pushObjectsTo(e, t), this.style2.pushObjectsTo(e, t);
}, t.prototype.getStyleValue = function(e, t) {
var n = this.style2.getStyleValue(e);
return void 0 !== n ? n : this.style1.getStyleValue(e);
}, t;
}(p);
t.MergeStyle2 = T;
var E = function(e) {
function t(t, n, r, o) {
var i = e.call(this) || this;
return i.style1 = t, i.style2 = n, i.style3 = r, i.kind = "MergeStyle3", i;
}
return r.__extends(t, e), t.prototype.pushObjectsTo = function(e, t) {
this.style1.pushObjectsTo(e, t), this.style2.pushObjectsTo(e, t), this.style3.pushObjectsTo(e, t);
}, t.prototype.getStyleValue = function(e, t) {
var n = this.style3.getStyleValue(e);
if (void 0 !== n) return n;
var r = this.style2.getStyleValue(e);
return void 0 !== r ? r : this.style1.getStyleValue(e);
}, t;
}(p);
t.MergeStyle3 = E;
var C = function(e) {
function t(t, n, r, o, i) {
var a = e.call(this) || this;
return a.style1 = t, a.style2 = n, a.style3 = r, a.style4 = o, a.kind = "MergeStyle4", 
a;
}
return r.__extends(t, e), t.prototype.pushObjectsTo = function(e, t) {
this.style1.pushObjectsTo(e, t), this.style2.pushObjectsTo(e, t), this.style3.pushObjectsTo(e, t), 
this.style4.pushObjectsTo(e, t);
}, t.prototype.getStyleValue = function(e, t) {
var n = this.style4.getStyleValue(e);
if (void 0 !== n) return n;
var r = this.style3.getStyleValue(e);
if (void 0 !== r) return r;
var o = this.style2.getStyleValue(e);
return void 0 !== o ? o : this.style1.getStyleValue(e);
}, t;
}(p);
t.MergeStyle4 = C;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(21), a = n(4), s = n(5), u = n(7), l = n(381), c = n(19), p = n(17), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = u.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e, t = this.sparta.theme.getTheme(this).getFonts(), n = this.props.font || this.props.type && t[this.props.type] || t.normal, r = c.isArabicLanguage() ? p.CommonStyles.arabicLetterSpacing : s.emptyStyle;
this.props.color && (e = s.DynamicStyle.create({
color: this.props.color
}, "6fa32af1:42:25"));
var a = s.merge4(n.fontStyle(this.props.size || i.TextSize.M), e || l.ColorContext.getFromComponent(this), s.DynamicStyle.maybeLegacyStyle(this.props.style, "6fa32af1:47:63"), r);
return o.createElement("surface", {
onClick: this.props.onClick,
onMouseEnter: this.props.onMouseEnter,
onMouseDown: this.props.onMouseDown,
text: this.props.value,
style: a
});
}, t.contextTypes = r.__assign({}, u.SpartaContext.contextTypes, l.ColorContext.contextTypes), 
t = r.__decorate([ a.observer ], t);
}(o.Component);
t.Text = d;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(171);
t.SpartaContext = r.createContext("Sparta");
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(5), s = n(5), u = n(9);
function l(e, n) {
void 0 === n && (n = t.COMPRESSED);
var r = n ? 50 : 62, o = n ? 8 : 10;
return Math.floor(r * e + o * (e - 1));
}
function c(e, n) {
void 0 === n && (n = t.COMPRESSED);
var r = n ? 8 : 10;
return Math.floor(e * r);
}
t.COMPRESSED = u.SpartaGlobals.bundleIsPC && !0, t.GUTTER = t.COMPRESSED ? 8 : 10, 
t.COLUMNS = 24, t.getWidth = l, t.getHeight = c, t.spacer = function p(e, n) {
return void 0 === e && (e = 1), void 0 === n && (n = t.COMPRESSED), (n ? 8 : 10) * e;
};
var d = s.StaticStyle.wrapLegacyStyleSheet({
row: {
margin: [ 0, 0, t.GUTTER, 0 ],
flexDirection: "row",
flexWrap: "nowrap"
},
colWithGutter: {
margin: [ 0, t.GUTTER, 0, 0 ],
flexDirection: "column",
flexWrap: "nowrap"
},
colWithoutGutter: {
margin: [ 0, 0, 0, 0 ],
flexDirection: "column",
flexWrap: "nowrap"
},
rowElementSpacing: {
flewDirection: "row",
justifyContent: "space-between"
}
}, "fe76dcdf:45:15"), f = {}, m = {};
t.Row = function h(e) {
var t = e.height ? a.DynamicStyle.create(function n(e) {
var t = f[e];
return t || (t = f[e] = {
height: c(e)
}), t;
}(e.height), "fe76dcdf:94:39") : s.emptyStyle;
return o.createElement("surface", r.__assign({
style: a.merge3(d.row, t, a.DynamicStyle.maybeLegacyStyle(e.style, "fe76dcdf:97:51"))
}, e.surfaceProps || {}), e.children);
}, t.Col = function g(e) {
var t = e.width ? a.DynamicStyle.create(function n(e) {
var t = m[e];
return t || (t = m[e] = {
width: l(e)
}), t;
}(e.width), "fe76dcdf:112:37") : s.emptyStyle, r = !a.isStyleClass(e.style) && e.style && e.style.width ? d.colWithGutter : d.colWithoutGutter;
return o.createElement("surface", {
style: a.merge3(r, t, a.DynamicStyle.maybeLegacyStyle(e.style, "fe76dcdf:116:50"))
}, e.children);
};
var y = function(e) {
function n() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(n, e), n.prototype.getChildContext = function() {
return {
gridParentColumns: this.getColumns()
};
}, n.prototype.getColumns = function() {
return Math.floor((this.context.gridParentColumns || t.COLUMNS) * (this.props.width || 1));
}, n.prototype.render = function() {
var e = a.DynamicStyle.create({
width: l(this.getColumns(), this.props.compressed),
height: this.props.height ? c(this.props.height) : void 0
}, "fe76dcdf:158:21"), t = this.props.row ? a.merge3(e, d.rowElementSpacing, this.props.style) : a.merge2(e, this.props.style);
return o.createElement("surface", {
style: t
}, this.props.children);
}, n.childContextTypes = {
gridParentColumns: i.number
}, n.contextTypes = {
gridParentColumns: i.number
}, n;
}(o.Component);
t.Flex = y;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(40).getBuildInfo();
e.get("SpartaGlobals").info("Running " + r.buildConfig + " on " + r.platform);
var o = r.isPC ? "PC" : r.isPS4 ? "PS4" : r.isXboxOne ? "XBOXONE" : "UNKNOWN", i = "PC" === o, a = "PS4" === o, s = "XBOXONE" === o, u = !i, l = o;
t.SpartaGlobals = {
bundleIsPC: i,
bundleIsPS4: a,
bundleIsXBOXONE: s,
bundleIsConsole: u,
bundlePlatform: l
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(891), o = n(510), i = n(511), a = n(894), s = n(895), u = n(896), l = n(897), c = n(513), p = n(906), d = n(907), f = n(908), m = n(250), h = n(909), g = n(117), y = n(910), S = n(911), v = n(519), _ = n(912), b = n(915), T = n(916), E = n(917), C = n(918), I = n(919), A = n(920), w = n(921), P = n(922), R = n(923), O = n(924), x = n(925), k = n(24), L = n(927), M = n(928), D = n(930), N = n(379), F = n(941), G = n(946), U = n(524), B = n(525), j = n(368), H = n(67), z = n(947), V = n(128), W = n(121), q = n(59), K = n(955), X = n(956), Y = n(962), J = n(387), Q = n(963), Z = n(527), $ = n(964), ee = n(965), te = n(966), ne = n(968), re = n(969), oe = n(970), ie = n(971), ae = n(972), se = n(103), ue = n(303), le = n(93), ce = n(975), pe = n(976), de = n(977), fe = n(978), me = n(979), he = n(980), ge = n(981), ye = n(982), Se = n(983), ve = n(984), _e = n(530), be = n(985), Te = n(988), Ee = n(290), Ce = n(989), Ie = n(991), Ae = n(993), we = n(995), Pe = n(300), Re = n(997), Oe = n(999), xe = n(1001), ke = n(1002), Le = n(40), Me = n(1003), De = n(391), Ne = n(47), Fe = n(1004), Ge = n(22), Ue = n(1005), Be = n(222), je = n(1012), He = n(1014), ze = n(1015), Ve = n(1016), We = n(1018), qe = n(1019), Ke = n(1020), Xe = n(1022);
t.gatewayState = new m.GatewayState(), t.settingsStore = new o.SettingsStore(q.frostbite, g.coreEventStore, t.gatewayState), 
t.gameStore = new r.GameStore(), t.routeStore = new a.RouteStore(), t.locationStore = new i.LocationStore(t.routeStore, Ge.focusSystem), 
t.nativePropertiesStore = new y.NativePropertiesStore(t.gameStore), t.hostingGameStore = new w.HostingGameStore(t.nativePropertiesStore);
var Ye = new Fe.OriginAccountFlow(q.frostbite, function() {
return t.hostingGameStore.game;
});
t.presenceStateStore = new v.PresenceStateStore(Ye), t.userStore = new f.UserStore(), 
t.onlineState = new p.OnlineState(function() {
return Le.getBuildInfo();
}, t.gatewayState, t.userStore, t.presenceStateStore), t.spartaActivatedStore = new P.SpartaActivatedStore(q.frostbite, t.hostingGameStore, V.gameDataStore, t.onlineState), 
t.gameStateStoreLoader = new R.GameStateStoreLoader(t.nativePropertiesStore), t.partyStoreLoader = new ce.PartyStoreLoader(t.nativePropertiesStore), 
t.layoutVisibilityStore = new S.LayoutVisibilityStore(q.frostbite, t.gameStateStoreLoader, t.spartaActivatedStore), 
t.popupStore = new D.PopupStore(t.spartaActivatedStore, t.gameStateStoreLoader, t.layoutVisibilityStore), 
t.layoutStateStore = new s.LayoutStateStore(t.nativePropertiesStore, t.locationStore, t.routeStore, t.settingsStore, t.popupStore), 
t.resumablePurchasesStore = new Q.ResumablePurchasesStore(J.getResumablePurchasesClient, J.completePendingPurchaseClient), 
t.careerStore = new F.CareerStore(), t.friendStore = new d.FriendStore(t.userStore, t.onlineState), 
t.entitlementStore = new x.EntitlementStore(L.createClient(k.request)), t.freemiumStore = new A.FreemiumStore(t.settingsStore, t.layoutStateStore, t.gameStore, t.partyStoreLoader, function(e) {
return t.entitlementStore.hasPremiumAccess(e);
}), t.medalStore = new O.MedalStore(function() {
return t.settingsStore.getServerAdjustedTimestamp();
}, function(e) {
return t.gameStore.getGame(e);
}), t.gamePushNotifications = new B.GamePushNotifications(g.coreEventStore, t.gatewayState), 
t.matchmakingManager = new U.MatchmakingManager(t.gameStore), t.gameJoinNoticeState = new M.GameJoinNoticeState(t.matchmakingManager), 
t.crosslaunchManager = new N.CrosslaunchManager(t.entitlementStore, t.gameStore, t.nativePropertiesStore), 
t.serverDetailsStore = new de.ServerDetailsStore(pe.createServerDetailsClient(k.request)), 
t.expansionStore = new Ce.ExpansionStore(Ie.expansionClient), t.pinStore = new He.PinStore(je.uuidPromise, ze.createClients(k.request), t.nativePropertiesStore, t.locationStore), 
t.gaStore = new ne.GAStore(je.uuidPromise, je.gaClients);
var Je = function() {
return function e(n, r) {
var o = this;
this.twinkle = n, this.events = r, this.pinStore = t.pinStore, this.gaStore = t.gaStore, 
this.gatewayState = t.gatewayState, this.nowStore = ue.nowStore, this.localeState = se.localeState, 
this.gameStore = t.gameStore, this.routeStore = t.routeStore, this.locationStore = t.locationStore, 
this.nativePropertiesStore = t.nativePropertiesStore, this.hostingGameStore = t.hostingGameStore, 
this.spartaActivatedStore = t.spartaActivatedStore, this.gameStateStoreLoader = t.gameStateStoreLoader, 
this.partyStoreLoader = t.partyStoreLoader, this.popupStore = t.popupStore, this.layoutStateStore = t.layoutStateStore, 
this.storeAvailabilityStore = De.storeAvailabilityStore, this.backgroundMusicStore = new l.BackgroundMusicStore(this.nativePropertiesStore, this.twinkle), 
this.shortcutKitsStore = new u.ShortcutKitsStore(), this.resumablePurchasesStore = t.resumablePurchasesStore, 
this.inputStore = new h.InputStore(Ge.focusSystem), this.inputRouter = new K.InputRouter(this.nativePropertiesStore, this.twinkle.inputHandler, this.twinkle.buildInfo, this.twinkle.frostbite, this.twinkle.focus, this.inputStore), 
this.popupManager = new Ne.PopupManager(this.twinkle, this.spartaActivatedStore, this.inputStore), 
this.presenceStateStore = t.presenceStateStore, this.layoutVisibilityStore = t.layoutVisibilityStore, 
this.protocolVersionStore = I.createProtocolVersionStore(this.gameStore, this.nativePropertiesStore), 
this.userStore = t.userStore, this.careerStore = t.careerStore, this.onlineState = t.onlineState, 
this.friendStore = t.friendStore, this.settingsStore = t.settingsStore, this.sharedRecommendationsStore = new oe.RecommendationsStore(re.createClient(k.request), function(e, n) {
return t.pinStore.setUserSegment(e, n);
}, re.createPreviewClient(k.request)), this.feedStore = new E.FeedStore(this.friendStore, this.gameStore, this.partyStoreLoader, this.protocolVersionStore, this.onlineState), 
this.recommendationStore = new _.RecommendationStore(b.createRecommendationTrackingClients(k.request), this.nativePropertiesStore, this.sharedRecommendationsStore, this.feedStore), 
this.serverCountStore = new C.ServerCountStore(this.recommendationStore, this.protocolVersionStore), 
this.titleState = new _e.TitleState(), this.entitlementStore = t.entitlementStore, 
this.trialStore = new Me.TrialStore(this.twinkle.frostbite), this.freemiumStore = t.freemiumStore, 
this.medalStore = t.medalStore, this.gamePushNotifications = t.gamePushNotifications, 
this.matchmakingManager = t.matchmakingManager, this.gameJoinNoticeState = t.gameJoinNoticeState, 
this.crosslaunchManager = t.crosslaunchManager, this.installStateStore = new T.InstallStateStore(this.twinkle.frostbite, this.nativePropertiesStore), 
this.joinFlowLoader = new z.JoinFlowLoader({
twinkle: this.twinkle,
nativePropertiesStore: this.nativePropertiesStore,
matchmakingManager: this.matchmakingManager,
presenceStateStore: this.presenceStateStore,
gameStateStoreLoader: this.gameStateStoreLoader,
partyStoreLoader: this.partyStoreLoader,
freemiumStore: this.freemiumStore,
crosslaunchManager: this.crosslaunchManager,
installStateStore: this.installStateStore,
gamePushNotifications: this.gamePushNotifications,
popupManager: this.popupManager,
canPlayAsCommander: function(e) {
return o.careerStore.canPlayAsCommander(e);
},
hasPremiumAccess: function(e) {
return t.entitlementStore.hasPremiumAccess(e);
}
}), this.gameViewComponentStore = new G.GameViewComponentStore(this.matchmakingManager, this.gameStateStoreLoader, this.gameStore), 
this.gameViewCountdownWidgetStore = new qe.GameViewCountdownWidgetStore(this.gameStateStoreLoader), 
this.gameDataStore = V.gameDataStore, this.blackFadeState = W.blackFadeState, this.socialState = new j.SocialState(this.twinkle, this.inputRouter, this.friendStore, this.onlineState, this.gameDataStore, this.presenceStateStore, this.gameStateStoreLoader, this.partyStoreLoader, this.matchmakingManager, this.entitlementStore, this.nativePropertiesStore, this.installStateStore, this.popupManager, H.supportsSpectating, this.blackFadeState), 
this.comCenterState = new c.ComCenterState(this.inputRouter, this.layoutVisibilityStore, this.gameStateStoreLoader, this.partyStoreLoader, this.friendStore, this.presenceStateStore, this.installStateStore, this.nativePropertiesStore, this.socialState), 
this.gameServerDetailsStore = X.createGameServerDetailsStore(this.gameDataStore, this.presenceStateStore), 
this.offersStore = le.offersStore, this.ps4StoreIconStore = new Y.PS4StoreIconStore(this.layoutVisibilityStore, this.gameStateStoreLoader, this.layoutStateStore, this.socialState, this.twinkle.frostbite), 
this.coreEventStore = g.coreEventStore, this.countdownState = new ie.CountdownState(), 
this.backgroundStore = new ae.BackgroundStore(this.nativePropertiesStore, this.onlineState, this.coreEventStore, k.request), 
this.serverFilterOptionsStore = new ee.ServerFilterOptionsStore(new Z.GameDataServerFilterOptionsStore(this.gameStore, this.gameDataStore), new $.PopulatedServerFilterOptionsStore()), 
this.serverFilterStore = new te.ServerFilterStore(this.serverFilterOptionsStore, this.gameStore, this.onlineState), 
this.serversSortStore = new he.ServersSortStore(), this.serversStore = new me.ServersStore(this.twinkle, fe.createServersClient(k.request), this.protocolVersionStore, this.gameStore, this.serverFilterStore), 
this.bookmarkedServersStore = new ge.BookmarkedServersStore(ve.createBookmarkedServersClient(k.request)), 
this.serverHistoryStore = new Se.ServerHistoryStore(ye.createServerHistoryClient(t.onlineState)), 
this.serverDetailsStore = t.serverDetailsStore, this.bundleUpdateStore = Ee.bundleUpdateStore, 
this.noticeStore = new be.NoticeStore(Te.createNoticeClient(k.request), this.gameStore, this.bundleUpdateStore), 
this.premiumFriendsStore = new Ae.PremiumFriendsStore(we.premiumFriendsClient), 
this.expansionStore = t.expansionStore, this.viewState = new Pe.ViewState(this.layoutStateStore, new Pe.ViewComponentState("0", null), new Pe.ViewComponentState("1", null), new Pe.ViewComponentState("2", null), new Pe.ViewComponentState("3", null)), 
this.takeoverStore = new Re.TakeoverStore(Oe.takeoverClients, this.nativePropertiesStore), 
this.careerFetchingState = new xe.CareerFetchingState(this.layoutStateStore), this.subscriptionStatusStore = new ke.SubscriptionStatusStore(ke.createSubscriptionStatusClient(k.request), this.twinkle, t.onlineState), 
this.originAccountFlow = Ye, this.startScreenStore = new Ue.StartScreenStore({
twinkle: this.twinkle,
spartaActivatedStore: this.spartaActivatedStore,
hostingGameStore: this.hostingGameStore,
blackFadeState: this.blackFadeState,
onlineState: this.onlineState,
takeoverStore: this.takeoverStore,
originAccountFlow: this.originAccountFlow,
popupManager: this.popupManager,
tryShowLegal: function() {
return Be.tryShowLegal();
}
}), this.gameMixStore = new Ve.GameMixStore(Ve.createClient(k.request), this.gameDataStore), 
this.serverPresenceStore = new We.ServerPresenceStore(this.onlineState, this.friendStore, this.userStore, this.gameStateStoreLoader, t.gamePushNotifications, We.createFetchServerPresenceClient(k.request)), 
this.userStateStore = new Ke.UserStateStore(Xe.createUserStateClients(k.request));
};
}();
t.CoreStores = Je;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(293), o = n(52), i = 0, a = 0;
function s(e, t) {
var n = {};
return e.forEach(function(e) {
n[t(e)] = e;
}), n;
}
function u(e, t) {
var n = e.slice();
return n.sort(function(e, n) {
return e[t] > n[t] ? 1 : -1;
}), n;
}
var l = function() {
function e() {}
return e.byFBAction = function(t) {
return e._byFBAction[t];
}, e.Accept = new r.Key("Accept", 13, 5, [ "OK", "TwinkleAccept" ], i++, a++, !1), 
e.Decline = new r.Key("Decline", 27, 7, [ "Back", "TwinkleDecline" ], i++, a++, !1), 
e.Option1 = new r.Key("Option1", 88, 6, [ "View", "TwinkleOption1" ], i++, a++, !1), 
e.Option2 = new r.Key("Option2", 89, 4, [ "Edit", "TwinkleOption2" ], i++, a++, !1), 
e.Option3 = new r.Key("Option3", 45, 10, [ "LThumb", "TwinkleOption3" ], i++, a++, !1), 
e.Option4 = new r.Key("Option4", 46, 11, [ "RThumb", "TwinkleOption4" ], i++, a++, !1), 
e.Previous = new r.Key("Previous", 33, 16, [ "TabLeft", "TwinklePrevious" ], i++, a++, !1), 
e.Next = new r.Key("Next", 34, 17, [ "TabRight", "TwinkleNext" ], i++, a++, !1), 
e.Home = new r.Key("Home", 36, 14, [ "MenuTriggerLeft", "TwinkleHome" ], i++, a++, !1), 
e.End = new r.Key("End", 35, 15, [ "MenuTriggerRight", "TwinkleEnd" ], i++, a++, !1), 
e.Up = new r.Key("Up", 38, 0, [ "NavigateUp", "TwinkleUp" ], i++, a++, !0), e.Down = new r.Key("Down", 40, 1, [ "NavigateDown", "TwinkleDown" ], i++, a++, !0), 
e.Left = new r.Key("Left", 37, 2, [ "NavigateLeft", "TwinkleLeft" ], i++, a++, !0), 
e.Right = new r.Key("Right", 39, 3, [ "NavigateRight", "TwinkleRight" ], i++, a++, !0), 
e.Select = new r.Key("Select", 8, 13, [ "Deactivate", "TwinkleSelect" ], i++, a++, !1), 
e.ScrollUp = new r.Key("ScrollUp", 47, 29, [ "NavigateRUp", "TwinkleScrollUp" ], i++, a++, !0), 
e.ScrollDown = new r.Key("ScrollDown", 48, 30, [ "NavigateRDown", "TwinkleScrollDown" ], i++, a++, !0), 
e.Start = new r.Key("Start", 32, 12, [ "Start", "TwinkleStart" ], i++, a++, !1), 
e.list = [ e.Accept, e.Decline, e.Option1, e.Option2, e.Option3, e.Option4, e.Previous, e.Next, e.Home, e.End, e.Up, e.Down, e.Left, e.Right, e.Select, e.ScrollUp, e.ScrollDown, e.Start ], 
e._byFBAction = [ s(e.list, function(e) {
return e.fbAction[0];
}), s(e.list, function(e) {
return e.fbAction[1];
}) ], e.byKeyCode = s(e.list, function(e) {
return "" + e.keyCode;
}), e.byPadCode = s(e.list, function(e) {
return "" + e.padCode;
}), e.prioritized = u(e.list, "priority"), e.ordered = u(e.list, "order"), e;
}();
if (t.Keys = l, o.nativeApi.isEnterOnCircle()) {
var c = l.Accept;
l.Accept = l.Decline, l.Decline = c;
}
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t) {
this.label = e.label, this.action = e.action, this.holdAction = e.holdAction, this.releaseAction = e.releaseAction, 
this.key = e.key, this.visible = e.visible, this.fontStyle = e.fontStyle, this.blockInputFor = "number" == typeof e.blockInputFor ? e.blockInputFor : 0, 
this.icon = e.icon, this.lowPriority = e.lowPriority, this.debugName = e.debugName;
}
return e.prototype.equals = function(e) {
return this === e || this.label === e.label && this.action === e.action && this.holdAction === e.holdAction && this.releaseAction === e.releaseAction && this.key === e.key && this.visible === e.visible && this.blockInputFor === e.blockInputFor && this.fontStyle === e.fontStyle && this.icon === e.icon && this.lowPriority === e.lowPriority;
}, e.prototype.extend = function(t) {
return new e({
key: t.key || this.key,
label: t.label || this.label,
action: t.action || this.action,
holdAction: t.holdAction || this.holdAction,
releaseAction: t.releaseAction || this.releaseAction,
visible: "boolean" == typeof t.visible ? t.visible : this.visible,
blockInputFor: t.blockInputFor && t.blockInputFor > 0 ? t.blockInputFor : this.blockInputFor,
fontStyle: t.fontStyle || this.fontStyle,
lowPriority: t.lowPriority || this.lowPriority,
debugName: t.debugName ? t.debugName + "_extended" : void 0
});
}, e;
}();
function o(e) {
return Boolean(e.action && e.label);
}
t.Input = r, t.isInputWithAction = o, t.filterInputWithAction = function i(e) {
return e.filter(o);
};
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(5), a = n(14);
t.bbOfflineUrl = a.bbOfflineUrl, t.bbUrl = a.bbUrl;
var s = n(8), u = n(21), l = n(33), c = n(23), p = n(109), d = n(506), f = n(507), m = n(15), h = n(9), g = n(508), y = n(37), S = n(11), v = "Missing debug name";
function _(e, t, n) {
var r = o.observable.box(n, {
deep: !1
});
Object.defineProperty(e, t, {
enumerable: !0,
configurable: !0,
get: function() {
var e = r.get();
return C.is(e) ? e.getHotReloadableValue() : e;
},
set: function(e) {
r.set(e);
}
});
}
function b(e) {
Object.keys(e).forEach(function(t) {
var n = t;
try {
var r = e[n];
C.is(r) && r.getCacheableValue(), _(e, n, e[n]);
} catch (t) {
throw console.error("Error setting up attribute " + n + " in " + e.name), t;
}
});
}
function T(e) {
Object.keys(e).forEach(function(t) {
var n = t, r = e[n];
C.is(r) && (e[n] = r.getCacheableValue());
});
}
t.templateFiles = {}, t.Constants = {
isPC: h.SpartaGlobals.bundleIsPC,
isPS4: h.SpartaGlobals.bundleIsPS4,
isXBOXONE: h.SpartaGlobals.bundleIsXBOXONE,
useConsoleMenu: p.useConsoleMenu,
CompressedDisabled: h.SpartaGlobals.bundleIsPC && !1,
LINE_HEIGHTS: u.LINE_HEIGHTS,
ELLIPSIS_OFFSET: d.ELLIPSIS_OFFSET,
TextSize: u.TextSize,
TextType: l.TextType,
CardSize: g.CardSize,
OldCardSize: y.CardSize,
Keys: S.Keys,
tweenOptions: {
presets: m.Animation.presets,
default: m.Animation.defaultTweenOptions
}
}, t.Grid = {
getWidth: s.getWidth,
getHeight: s.getHeight,
GUTTER: s.GUTTER,
COLUMNS: s.COLUMNS,
COMPRESSED: s.COMPRESSED,
spacer: s.spacer
}, t.LayoutBounds = {
header: c.header,
footer: c.footer,
content: c.content,
tallContent: c.tallContent,
screen: c.screen,
background: c.background,
fadeAreaTop: c.fadeAreaTop,
fadeAreaBottom: c.fadeAreaBottom,
safeZone: c.safeZone,
dangerZoneSize: c.dangerZoneSize,
tabs: c.tabs,
mainMenu: c.mainMenu,
input: c.input,
logo: c.logo,
userBar: c.userBar,
startScreenLogo: c.startScreenLogo
}, t.withDefault = function E(e, t) {
return void 0 === e ? t : e;
}, t.makeAttributeObservable = _, t.makeTemplateHotReloadable = b, t.makeTemplateCached = T;
var C = function() {
function e() {}
return e.is = function(e) {
return e && e.getHotReloadableValue && e.getCacheableValue;
}, e;
}(), I = function() {
return function e(t) {
this.func = t;
var n = this;
this.reaction = new o.Reaction("mobx cache", function() {
this.track(function() {
n.cachedValue = t();
});
}), this.reaction.runReaction();
};
}(), A = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.getter = t, r.debugId = n, r;
}
return r.__extends(t, e), t.prototype.getHotReloadableValue = function() {
var e = this;
return this.cache || (this.cache = new I(function() {
return e.getCacheableValue();
})), this.cache.cachedValue;
}, t.prototype.getCacheableValue = function() {
return this.getter();
}, t;
}(C);
t.WrappedGetter = A;
var w = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.getter = t, r.debugId = n, r;
}
return r.__extends(t, e), t.prototype.getHotReloadableValue = function() {
var e = this;
return this.cache || (this.cache = new I(function() {
return e.getCacheableValue();
})), this.cache.cachedValue;
}, t.prototype.getCacheableValue = function() {
return {
events: this.getter(),
debugName: this.debugId
};
}, t;
}(C);
t.TimelineWrapper = w;
var P = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.baseFunc = t, r.conditional = n, r;
}
return r.__extends(t, e), t.prototype.getHotReloadableValue = function() {
var e = this;
return this.cache || (this.cache = new I(function() {
return e.baseFunc();
})), this.getMerged(this.cache.cachedValue);
}, t.prototype.getCacheableValue = function() {
return this.getMerged(this.baseFunc());
}, t.prototype.getMerged = function(e) {
var t = this;
return function(n) {
return new i.MergeStyle2(e, t.conditional(n));
};
}, t;
}(C);
t.StyleFuncWrapper = P, t.multistyle = function R(e) {
return new M(e);
}, t.multistyle2 = function O(e) {
return new M(e);
}, t.multistyle3 = function x(e) {
return new M(e);
}, t.multistyle4 = function k(e) {
return new M(e);
}, t.multistyle5 = function L(e) {
return new M(e);
};
var M = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.conditional = t, n.cache = {}, n;
}
return r.__extends(t, e), t.prototype.wrapInCache = function(e) {
var t = this.cache;
return function(n, r, o, i, a) {
var s = n + "" + r + o + i + a, u = t[s];
return u || (u = t[s] = e(n, r, o, i, a)), u;
};
}, t.prototype.getHotReloadableValue = function() {
var e = this;
return this.wrapInCache(function(t, n, r, i, a) {
var s;
return new o.Reaction("multistyle cache", function() {
this.track(function() {
delete e.cache[t + "" + n + r + i + a], s = e.conditional(t, n, r, i, a);
});
}).runReaction(), s;
});
}, t.prototype.getCacheableValue = function() {
return this.wrapInCache(this.conditional);
}, t;
}(C);
function D(e, t) {
return new A(e, t || "wrap");
}
t.timeline = function N(e, t) {
if (!t) throw new Error(v);
return new w(e, t);
}, t.tween = function F(e, t, n, r, o, i, a, s) {
return void 0 === s && (s = []), new f.ChainedTween(e, t, n, r, o, i, a, s);
}, t.sleep = function G(e, t) {
return void 0 === t && (t = []), new f.ChainedSleep(e, t);
}, t.trigger = function U(e, t) {
return new f.TriggerEvent(e, t);
}, t.tweenSwitch = m.Animation.tweenSwitch, t.wrap = D, t.template = function B(e) {
return e;
}, t.merge = function j(e, t, n) {
return new i.MergeStyle2(e, t, n);
}, t.value = function H(e, t) {
if (!t) throw new Error(v);
return new A(e, t);
}, t.valuefunc = function z(e) {
return e;
}, t.frames = function V(e) {
return e / 60 * 1e3;
}, t.dynamicStyle = function W(e, t) {
if (!t) throw new Error(v);
return i.DynamicStyle.create(e, t);
};
var q = !1;
t.enableHotReload = function K(e) {
q = e;
}, t.isHotReloadingEnabled = function X() {
return q;
}, t.Template = function Y(e) {
var n = {};
return t.templateFiles[e] = n, {
wrap: D,
style: function(e) {
n[e.name] = e, q ? b(e) : T(e);
}
};
}, t.TemplateUpdate = function J(n) {
return e.log("Reloading template " + n), {
wrap: D,
style: function(e) {
var r = t.templateFiles[n];
if (!r) throw new Error("Could not find template file: " + n);
var o = r[e.name];
if (!o) throw new Error("Could not find template: " + e.name);
return Object.keys(e).forEach(function(t) {
var n = t, r = e[n];
o[n] ? o[n] = r : _(o, n, r);
}), o;
}
};
}, t.style = function Q(e, t) {
if (!t) throw new Error(v);
return i.StaticStyle.create(e, t);
}, t.stylefunc = function Z(e, t) {
return new P(e, t);
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(503);
n(52), e.get("bbUrl");
t.bbUrl = function bbUrl(e) {
return r.onlinePrefix, r.onlinePrefix + e;
}, t.bbOfflineUrl = function bbOfflineUrl(e) {
return r.offlinePrefix, r.offlinePrefix + e;
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(889), i = n(27), a = n(5), s = n(77), u = n(78), l = n(9), c = 0, p = {
easing: i.Easing.CubicInOut,
duration: 22 / 60 * 1e3
}, d = {
transition: r.__assign({}, p, {
duration: p.duration / 1.5
}),
trickleUp: {
values: {
opacity: {
from: 0,
to: 1
},
translateY: {
from: 80,
to: 0
}
},
options: p
},
slideRight: {
values: {
opacity: {
from: 0,
to: 1
},
translateX: {
from: -91,
to: 0
}
},
options: r.__assign({}, p, {
delay: 500
})
},
list: {
enter: {
duration: p.duration / 4
},
leave: {
duration: p.duration / 2
},
scroll: {
easing: i.Easing.Linear,
duration: p.duration / 4
}
},
text: {
scroll: {
duration: p.duration / 2,
easing: i.Easing.CubicOut
}
},
focusables: {
enter: {
default: {
duration: l.SpartaGlobals.bundleIsPC ? p.duration / 4 : p.duration / 2.5
},
fast: {
easing: i.Easing.SineInOut,
duration: p.duration / 4
},
slow: {
duration: p.duration / 2
}
},
leave: {
easing: i.Easing.SineInOut,
duration: p.duration / 2
}
},
press: {
duration: l.SpartaGlobals.bundleIsPC ? p.duration / 10 : p.duration / 5
}
}, f = function() {
function e() {}
return e.number = {
subtract: function(e, t) {
return e - t;
},
magnitude: function(e) {
return Math.abs(e);
}
}, e.vector = {
subtract: function(e, t) {
e = o.ensureVector(e), t = o.ensureVector(t);
for (var n = Math.max(e.length, t.length), r = [ 0, 0, 0, 0 ], i = 0; i < n; i++) r[i] = (e[i] || 0) - (t[i] || 0);
return r;
},
magnitude: function(e) {
var t = (e = o.ensureVector(e)).reduce(function(e, t) {
return Math.abs(e) + Math.pow(t, 2);
}, 0);
return Math.sqrt(t);
}
}, e;
}(), m = function() {
function t() {}
return t.calculateSpeed = function(e, t, n) {
void 0 === n && (n = p.duration);
var r = 0;
return "number" == typeof e && "number" == typeof t ? r = f.number.magnitude(f.number.subtract(t, e)) : Array.isArray(e) && Array.isArray(t) && (r = f.vector.magnitude(f.vector.subtract(t, e))), 
r / (n || 1);
}, t.tweenBetween = function(e, n) {
return r.__assign({}, p, {
to: n,
from: e,
speed: t.calculateSpeed(e, n),
duration: null
});
}, t.tweenSwitchStyle = function(e, n, r, o, i, s, u) {
void 0 === i && (i = !1), void 0 === s && (s = {}), void 0 === u && (u = {});
var l = {};
return l[n] = t.tweenSwitch(r, o, i, s, u), a.DynamicStyle.wrapLegacyStyle(l, e);
}, t.tweenSwitch = function(n, o, i, a, s) {
void 0 === i && (i = !1), void 0 === a && (a = {}), void 0 === s && (s = {});
var u = i ? a : s, l = r.__assign({}, p, u), c = t.calculateSpeed(n, o, l.duration);
return c <= 0 ? ("string" == typeof n && "string" == typeof o || e.warn("Performing Animation.tweenSwitch with negative or 0 speed"), 
r.__assign({}, l, {
to: i ? o : n
})) : r.__assign({}, l, {
to: i ? o : n,
speed: c,
duration: null
});
}, t.tweenTo = function(e, t) {
return r.__assign({}, p, {
to: e
}, t);
}, t.tween = function(e, t, n) {
return new u.Tween(e + "_" + c++, t, r.__assign({}, p, n));
}, t.lazyTween = function(e, t, n, o) {
var i = new u.LazyTween(t + "_" + c++, n, function() {
return o ? r.__assign({}, p, o()) : p;
});
return s.addLifecycleHook(e, "componentWillUnmount", function() {
return i.destroy();
}), i;
}, t.componentTween = function(e, t, n, o) {
var i = new u.Tween(t + "_" + c++, n, r.__assign({}, p, o));
return s.addLifecycleHook(e, "componentWillUnmount", function() {
return i.destroy();
}), i;
}, t.defaultTweenOptions = p, t.presets = d, t;
}();
t.Animation = m;
}).call(this, n(20));
}, function(e, t, n) {
var r = n(57), o = n(54), i = n(114), a = n(106), s = n(164), u = function(e, t, n) {
var l, c, p, d, f = e & u.F, m = e & u.G, h = e & u.S, g = e & u.P, y = e & u.B, S = m ? r : h ? r[t] || (r[t] = {}) : (r[t] || {}).prototype, v = m ? o : o[t] || (o[t] = {}), _ = v.prototype || (v.prototype = {});
for (l in m && (n = t), n) p = ((c = !f && S && void 0 !== S[l]) ? S : n)[l], d = y && c ? s(p, r) : g && "function" == typeof p ? s(Function.call, p) : p, 
S && a(S, l, p, e & u.U), v[l] != p && i(v, l, d), g && _[l] != p && (_[l] = p);
};
r.core = o, u.F = 1, u.G = 2, u.S = 4, u.P = 8, u.B = 16, u.W = 32, u.U = 64, u.R = 128, 
e.exports = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("UIStyles"), a = function() {
function e() {}
return e.children = o.wrap(function() {
return o.style({
flex: 1,
zOffset: 2
}, "036349e9:19:33");
}), e.glow = o.wrap(function() {
return o.style({
position: "absolute",
bottom: -9,
left: -9,
right: -9,
top: -9,
zOffset: 1,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-blur-42d30442.png"),
textureMode: "fill",
textureBorder: [ 12, 12, 12, 12 ]
}, "036349e9:26:29");
}), e = r.__decorate([ i.style ], e);
}();
t.PressableStyles = a;
var s = function() {
function e() {}
return e.box = o.wrap(function() {
return o.style({
height: o.Grid.getHeight(21),
padding: [ 10, 10, 10, 10 ]
}, "036349e9:43:28");
}), e.infoText = o.wrap(function() {
return o.style({
textAlignForRTL: "left",
opacity: .66
}, "036349e9:50:33");
}), e.text = o.wrap(function() {
return o.style({
textAlignForRTL: "left"
}, "036349e9:57:29");
}), e.smallImage = o.wrap(function() {
return o.style({
height: 64
}, "036349e9:63:35");
}), e.dock = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
}, "036349e9:69:29");
}), e = r.__decorate([ i.style ], e);
}();
t.HighlightCardStyles = s;
var u = function() {
function e() {}
return e.container = o.wrap(function() {
return o.style({
marginRight: o.Grid.GUTTER,
marginBottom: o.Grid.GUTTER
}, "036349e9:82:34");
}), e.children = o.wrap(function() {
return o.style({
justifyContent: "flex-end"
}, "036349e9:89:33");
}), e = r.__decorate([ i.style ], e);
}();
t.CardStyles = u;
var l = function() {
function e() {}
var t;
return t = e, e.defaultAvatar = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/ui/avatars/default-76365f9d.jpg");
}, "036349e9:98:27"), e.defaultSize = o.value(function() {
return o.Grid.getHeight(4);
}, "036349e9:99:25"), e.indicatorWidth = o.value(function() {
return 2;
}, "036349e9:100:28"), e.indicatorSpacing = o.value(function() {
return 2;
}, "036349e9:101:30"), e.bgColor = o.value(function() {
return {
Joinable: "#02A0E2",
Playing: "#02A0E2",
Online: "#007F00",
Away: "#DC453E",
Offline: "#B3B3B3",
Default: "#00000000"
};
}, "036349e9:103:21"), e.container = o.stylefunc(function() {
return o.style({
position: "relative",
textureMode: "cover",
textureAtlas: "AvatarAtlas"
}, "036349e9:113:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture,
width: e.size,
height: e.size,
marginLeft: e.showPresence ? t.indicatorSpacing + t.indicatorSpacing : void 0
}, "036349e9:119:77");
}), e.presence = o.multistyle(function(e) {
return o.style({
zOffset: 1,
width: t.indicatorWidth,
position: "absolute",
top: 0,
bottom: 0,
left: -(t.indicatorWidth + t.indicatorSpacing),
backgroundColor: t.bgColor[e]
}, "036349e9:130:82");
}), e = t = r.__decorate([ i.style ], e);
}();
t.AvatarStyles = l;
var c = function() {
function e() {}
return e.avatar = o.wrap(function() {
return o.style({
backgroundColor: [ 0, 0, 0, 124 ],
marginRight: o.Grid.GUTTER / 2
}, "036349e9:145:31");
}), e.avatarContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
flexWrap: "wrap",
zOffset: 51,
marginBottom: o.Grid.GUTTER
}, "036349e9:152:40");
}), e = r.__decorate([ i.style ], e);
}();
t.PlayCardStyles = c;
var p = function() {
function e() {}
return e.margin = o.value(function() {
return [ o.Grid.spacer(), 0, o.Grid.spacer(), 0 ];
}, "036349e9:164:20"), e.container = o.stylefunc(function() {
return o.style({
flex: 1,
alignItems: "center",
justifyContent: "center",
paddingBottom: o.Grid.getHeight(2)
}, "036349e9:167:14");
}, function(e) {
return o.dynamicStyle({
height: e.centerVertically ? o.LayoutBounds.content.height : void 0
}, "036349e9:178:49");
}), e.text = o.stylefunc(function() {
return o.style({
marginBottom: o.Grid.spacer(),
textAlign: "center",
textAlignForRTL: "center",
textLetterSpacing: 2
}, "036349e9:185:14");
}, function(e) {
return o.dynamicStyle({
width: e.textWidth || o.Grid.getWidth(24)
}, "036349e9:192:41");
}), e.subText = o.stylefunc(function() {
return o.style({
margin: [ o.Grid.spacer(), 0, o.Grid.spacer(), 0 ],
textAlign: "center",
textAlignForRTL: "center",
opacity: .66
}, "036349e9:199:14");
}, function(e) {
return o.dynamicStyle({
width: e.textWidth || o.Grid.getWidth(24)
}, "036349e9:206:41");
}), e.subTextType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "036349e9:212:25"), e.btn = o.wrap(function() {
return o.style({
margin: [ o.Grid.spacer(2), 0, o.Grid.spacer(), 0 ],
width: o.Grid.getWidth(4)
}, "036349e9:214:28");
}), e = r.__decorate([ i.style ], e);
}();
t.EmptyStateStyles = p;
var d = function() {
function e() {}
return e.blendModeAdditive = o.wrap(function() {
return o.style({
blendMode: "gpu-blend-mode",
gpuBlendColorOp: "add",
gpuBlendAlphaOp: "add",
gpuBlendSourceColor: "one",
gpuBlendDestColor: "one",
gpuBlendSourceAlpha: "zero",
gpuBlendDestAlpha: "one"
}, "036349e9:225:42");
}), e.flexRow = o.wrap(function() {
return o.style({
flexDirection: "row"
}, "036349e9:236:32");
}), e.flexColumn = o.wrap(function() {
return o.style({
flexDirection: "column"
}, "036349e9:237:35");
}), e.flex1 = o.wrap(function() {
return o.style({
flex: 1
}, "036349e9:238:30");
}), e.flex4 = o.wrap(function() {
return o.style({
flex: 4
}, "036349e9:239:30");
}), e.flex5 = o.wrap(function() {
return o.style({
flex: 5
}, "036349e9:240:30");
}), e.flex7 = o.wrap(function() {
return o.style({
flex: 7
}, "036349e9:241:30");
}), e.justifyContentFlexStart = o.wrap(function() {
return o.style({
justifyContent: "flex-start"
}, "036349e9:242:48");
}), e.justifyContentFlexEnd = o.wrap(function() {
return o.style({
justifyContent: "flex-end"
}, "036349e9:243:46");
}), e.justifyContentCenter = o.wrap(function() {
return o.style({
justifyContent: "center"
}, "036349e9:244:45");
}), e.justifyContentSpaceBetween = o.wrap(function() {
return o.style({
justifyContent: "space-between"
}, "036349e9:245:51");
}), e.noLocalBounds = o.wrap(function() {
return o.style({
localBounds: !1
}, "036349e9:246:38");
}), e.disableMouseEvents = o.wrap(function() {
return o.style({
enableMouseEvents: !1
}, "036349e9:247:43");
}), e.mouseEvents = o.multistyle(function(e) {
return o.style({
enableMouseEvents: e
}, "036349e9:248:58");
}), e.leftAlignTextRTL = o.wrap(function() {
return o.style({
textAlignForRTL: "left"
}, "036349e9:249:41");
}), e.rightAlignTextRTL = o.wrap(function() {
return o.style({
textAlignForRTL: "right"
}, "036349e9:250:42");
}), e.alignItemsCenter = o.wrap(function() {
return o.style({
alignItems: "center"
}, "036349e9:251:41");
}), e.alignItemsFlexEnd = o.wrap(function() {
return o.style({
alignItems: "flex-end"
}, "036349e9:252:42");
}), e.alignSelfCenter = o.wrap(function() {
return o.style({
alignSelf: "center"
}, "036349e9:253:40");
}), e.spaceBetweenContent = o.wrap(function() {
return o.style({
justifyContent: "space-between"
}, "036349e9:254:44");
}), e.flexWrap = o.wrap(function() {
return o.style({
flexWrap: "wrap"
}, "036349e9:255:33");
}), e.whitespaceNoWrap = o.wrap(function() {
return o.style({
whiteSpace: "nowrap"
}, "036349e9:256:41");
}), e.textureModeCover = o.wrap(function() {
return o.style({
textureMode: "cover"
}, "036349e9:257:41");
}), e.textureModeContain = o.wrap(function() {
return o.style({
textureMode: "contain"
}, "036349e9:258:43");
}), e.textureModeFill = o.wrap(function() {
return o.style({
textureMode: "fill"
}, "036349e9:259:40");
}), e.textureModeNone = o.wrap(function() {
return o.style({
textureMode: "none"
}, "036349e9:260:40");
}), e.textureScale = o.multistyle(function(e) {
return o.style({
textureScale: e
}, "036349e9:261:73");
}), e.textAlignCenter = o.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center"
}, "036349e9:262:40");
}), e.textAlignRight = i.wrap(function() {
return o.style({
textAlign: "right"
}, "036349e9:263:28");
}), e.zOffset = o.multistyle(function(e) {
return o.style({
zOffset: e
}, "036349e9:264:64");
}), e.opacity = o.multistyle(function(e) {
return o.style({
opacity: e
}, "036349e9:265:71");
}), e.textLetterSpacing = o.multistyle(function(e) {
return o.style({
textLetterSpacing: e
}, "036349e9:266:76");
}), e.color = o.multistyle(function(e) {
return o.style({
color: e
}, "036349e9:267:86");
}), e.bgColor = o.multistyle(function(e) {
return o.style({
backgroundColor: e
}, "036349e9:269:120");
}), e.grayScale = o.multistyle(function(e) {
return o.style({
grayScale: e
}, "036349e9:272:48");
}), e.dockBottom = o.wrap(function() {
return o.style({
position: "absolute",
left: 0,
bottom: 0,
right: 0
}, "036349e9:273:35");
}), e.dock = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, "036349e9:274:29");
}), e.lastCard = o.wrap(function() {
return o.style({
marginRight: 0
}, "036349e9:275:33");
}), e.removeLastCardMargin = i.wrap(function() {
return o.style({
marginRight: -o.Grid.spacer(),
alignSelf: "flex-start"
}, "036349e9:276:34");
}), e.layer = i.wrap(function() {
return o.style({
layer: !0
}, "036349e9:277:19");
}), e.arabicLetterSpacing = i.wrap(function() {
return o.style({
textLetterSpacing: .4
}, "036349e9:278:33");
}), e.cleanStrokes = i.wrap(function() {
return o.style({
textSoftness: 2,
textEdgeOffset: 0
}, "036349e9:279:26");
}), e = r.__decorate([ i.style ], e);
}();
t.CommonStyles = d;
var f = function() {
function e() {}
return e.container = o.multistyle(function(e) {
return o.style({
flexDirection: "row",
height: e,
padding: 0,
borderRadius: [ 0, 0, 0, 0 ]
}, "036349e9:284:63");
}), e.defaultBarColorStyle = o.wrap(function() {
return o.style({
backgroundColor: "#ff9900"
}, "036349e9:293:45");
}), e.defaultBgColorStyle = o.wrap(function() {
return o.style({
backgroundColor: "#00000066"
}, "036349e9:299:44");
}), e = r.__decorate([ i.style ], e);
}();
t.ProgressBarStyles = f;
var m = function() {
function e() {}
return e.text = o.multistyle(function(e) {
return void 0 === e && (e = !1), o.style({
zOffset: 1,
flex: 1,
marginLeft: e ? void 0 : o.Grid.spacer(1),
marginRight: e ? o.Grid.spacer(1) : void 0
}, "036349e9:308:60");
}), e = r.__decorate([ i.style ], e);
}();
t.FilterOptionStyles = m;
var h = function() {
function e() {}
return e.small = o.value(function() {
return 16;
}, "036349e9:320:19"), e.medium = o.value(function() {
return 26;
}, "036349e9:321:20"), e.large = o.value(function() {
return 50;
}, "036349e9:322:19"), e.size = o.multistyle(function(e) {
return o.style({
width: e,
height: e
}, "036349e9:323:53");
}), e.spriteAnimation = o.wrap(function() {
return o.style({
spriteAnimation: {
spriteSheet: o.bbOfflineUrl("/sparta/assets/ui/sprites/spinner-9900576b.png"),
fps: 60,
frameWidth: 102,
frameHeight: 102,
totalFrames: 87,
looping: !0
}
}, "036349e9:330:40");
}), e.center = o.wrap(function() {
return o.style({
flex: 1,
justifyContent: "center",
alignItems: "center"
}, "036349e9:343:31");
}), e = r.__decorate([ i.style ], e);
}();
t.SpinnerStyles = h;
var g = function() {
function e() {}
var t;
return t = e, e.height = o.value(function() {
return o.Grid.getHeight(12);
}, "036349e9:354:20"), e.width = o.value(function() {
return o.Grid.getWidth(5);
}, "036349e9:355:19"), e.container = i.wrap(function() {
return o.style({
height: t.height,
width: t.width,
marginRight: o.Grid.spacer(1)
}, "036349e9:357:23");
}), e = t = r.__decorate([ i.style ], e);
}();
t.HomeWidgetStyles = g;
var y = function() {
function e() {}
return e.container = i.wrap(function() {
return o.style({
alignItems: "center",
justifyContent: "flex-start",
flexDirection: "row"
}, "036349e9:366:23");
}), e.labelElement = i.wrap(function() {
return o.style({
flex: 1,
flexWrap: "wrap"
}, "036349e9:372:26");
}), e = r.__decorate([ i.style ], e);
}();
t.LabeledIconStyles = y;
var S = function() {
function e() {}
return e.TRANSPARENT = o.value(function() {
return "#00000000";
}, "036349e9:381:25"), e.BLACK = o.value(function() {
return "#000000";
}, "036349e9:384:19"), e.BLACK_20 = o.value(function() {
return "#00000033";
}, "036349e9:385:22"), e.BLACK_30 = o.value(function() {
return "#0000004D";
}, "036349e9:386:22"), e.BLACK_40 = o.value(function() {
return "#00000066";
}, "036349e9:387:22"), e.BLACK_50 = o.value(function() {
return "#00000080";
}, "036349e9:388:22"), e.BLACK_60 = o.value(function() {
return "#00000099";
}, "036349e9:389:22"), e.BLACK_70 = o.value(function() {
return "#000000B3";
}, "036349e9:390:22"), e.BLACK_80 = o.value(function() {
return "#000000CC";
}, "036349e9:391:22"), e.BLACK_90 = o.value(function() {
return "#000000E6";
}, "036349e9:392:22"), e.WHITE = o.value(function() {
return "#FFFFFF";
}, "036349e9:395:19"), e.WHITE_20 = o.value(function() {
return "#FFFFFF20";
}, "036349e9:396:22"), e.WHITE_33 = o.value(function() {
return "#FFFFFF33";
}, "036349e9:397:22"), e.WHITE_40 = o.value(function() {
return "#FFFFFF66";
}, "036349e9:398:22"), e.WHITE_50 = o.value(function() {
return "#FFFFFF80";
}, "036349e9:399:22"), e.WHITE_60 = o.value(function() {
return "#FFFFFF99";
}, "036349e9:400:22"), e.WHITE_80 = o.value(function() {
return "#FFFFFF80";
}, "036349e9:401:22"), e.WHITE_90 = o.value(function() {
return "#FFFFFFE6";
}, "036349e9:402:22"), e.LIGHT_GRAY = o.value(function() {
return "#999999";
}, "036349e9:405:24"), e.GRAY = o.value(function() {
return "#666666";
}, "036349e9:406:18"), e = r.__decorate([ i.style ], e);
}();
t.CommonColors = S;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.quitSparta = r.createTypedAction(), t.gotoLocation = r.createTypedAction(), t.updateLocation = r.createTypedAction(), 
t.setNavigationEnabled = r.createTypedAction(), t.setClientVideoRecordingEnabled = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(103), a = n(174), s = n(5);
function u(e) {
return void 0 === e && (e = !1), e ? i.localeState.gameLocale === a.Locales.ARABIC : i.localeState.displayLocale === a.Locales.ARABIC;
}
function l() {
return i.localeState.displayLocale === a.Locales.JAPANESE;
}
function c() {
return i.localeState.displayLocale === a.Locales.CHINESE_TRADITIONAL;
}
function p() {
return i.localeState.displayLocale === a.Locales.CHINESE_SIMPLIFIED;
}
function d() {
return i.localeState.displayLocale === a.Locales.KOREAN;
}
t.isRTLLanguage = u, t.localeRearrange = function f(e, t) {
return void 0 === t && (t = !1), e && !u(t) ? e : e.reverse();
}, t.LocaleRearrange = function(e) {
var t = e.children, n = e.forceUserLocale, i = r.__rest(e, [ "children", "forceUserLocale" ]);
return o.createElement("surface", r.__assign({}, i), Array.isArray(t) && u(n) ? t.slice().reverse() : t);
}, t.LocaleRearrange.displayName = "LocaleRearrange", t.localeLetterSpacing = function m(e) {
return u() && e && (e.textLetterSpacing = 0), s.DynamicStyle.wrapLegacyStyle(e, "d6fcadaf:37:11");
}, t.isArabicLanguage = function h() {
return i.localeState.displayLocale === a.Locales.ARABIC;
}, t.isItalianLanguage = function g() {
return i.localeState.displayLocale === a.Locales.ITALIAN;
}, t.isRussianLanguage = function y() {
return i.localeState.displayLocale === a.Locales.RUSSIAN;
}, t.isFrenchLanguage = function S() {
return i.localeState.displayLocale === a.Locales.FRENCH;
}, t.isJapaneseLanguage = l, t.isTradChineseLanguage = c, t.isSimpChineseLanguage = p, 
t.isKoreanLanguage = d, t.isAsianLanguage = function v() {
return d() || p() || l() || c();
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(133);
e.exports = r.__Logger;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(9);
t.TextSize = {
XXXXL: "XXXXL",
XXXL: "XXXL",
XXL: "XXL",
XL: "XL",
L: "L",
M: "M",
S: "S",
XS: "XS",
XXS: "XXS"
}, t.PC_LINE_HEIGHTS = {
XXXXL: 92,
XXXL: 92,
XXL: 92,
XL: 62,
L: 42,
M: 32,
S: 22,
XS: 18,
XXS: 14
}, t.CONSOLE_LINE_HEIGHTS = {
XXXXL: 100,
XXXL: 100,
XXL: 100,
XL: 70,
L: 50,
M: 40,
S: 30,
XS: 25,
XXS: 20
}, t.RIME_LINE_HEIGHTS = {
XXXXL: 130,
XXXL: 130,
XXL: 89,
XL: 74,
L: 54,
M: 40,
S: 32,
XS: 24,
XXS: 20
}, t.LINE_HEIGHTS = r.SpartaGlobals.bundleIsPC ? t.PC_LINE_HEIGHTS : t.CONSOLE_LINE_HEIGHTS;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(900);
t.focusSystem = new r.FocusSystem();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(134), o = n(8), i = n(365), a = n(109);
t.dangerZoneSize = i.dangerZoneSize, t.safeZone = i.safeZone, t.screen = i.screen, 
t.background = i.screen;
var s = {
breadcrumbs: o.getHeight(o.COMPRESSED ? 4 : 3),
header: o.getHeight(o.COMPRESSED ? 5 : 4),
headerBottomMargin: o.getHeight(o.COMPRESSED ? 4 : 3),
tabs: o.getHeight(o.COMPRESSED ? 4 : 3),
fadeTop: o.getHeight(o.COMPRESSED ? 4 : 3),
fadeBottom: o.getHeight(o.COMPRESSED ? 0 : 3),
footerTopMargin: o.getHeight(o.COMPRESSED ? 0 : 1),
footer: o.getHeight(o.COMPRESSED ? 0 : 5),
tallContent: o.getHeight(o.COMPRESSED ? 14 : 10)
}, u = (o.COMPRESSED ? t.dangerZoneSize.height : 0) + t.safeZone.height - s.breadcrumbs - s.header - s.headerBottomMargin - s.tabs - s.fadeTop - s.fadeBottom - s.footerTopMargin - s.footer;
t.header = new r.Bounds(t.safeZone.left, t.safeZone.top, t.safeZone.width, s.breadcrumbs + s.header), 
t.tabs = new r.Bounds(t.safeZone.left, t.header.bottom + s.headerBottomMargin, o.getWidth(o.COLUMNS), s.tabs), 
t.fadeAreaTop = new r.Bounds(t.safeZone.left, t.tabs.bottom, o.getWidth(o.COLUMNS), s.fadeTop), 
t.footer = new r.Bounds(t.safeZone.left, t.safeZone.bottom - s.footer, t.safeZone.width, s.footer), 
t.input = t.footer, t.fadeAreaBottom = new r.Bounds(t.safeZone.left, t.footer.top - s.footerTopMargin - s.fadeBottom, t.safeZone.width, s.fadeBottom), 
t.content = new r.Bounds(t.safeZone.left, t.fadeAreaTop.bottom, o.getWidth(o.COLUMNS), u), 
t.tallContent = new r.Bounds(t.safeZone.left, t.content.top, t.safeZone.width, s.tallContent);
var l = Math.ceil(t.screen.width * (997 / 1920)), c = Math.ceil(t.screen.height * (273 / 1080)), p = o.COMPRESSED ? 189 : 277, d = o.COMPRESSED ? 63 : 76, f = o.getWidth(9), m = o.COMPRESSED ? o.getHeight(5) : t.footer.height, h = a.useConsoleMenu ? o.getWidth(7) + t.dangerZoneSize.width : i.sideOffset;
t.startScreenLogo = new r.Bounds(Math.floor(t.screen.width / 2 - l / 2), Math.floor(t.screen.height / 2.3 - c / 2), l, c), 
t.mainMenu = new r.Bounds(t.screen.left - h, t.screen.top, h, t.screen.height), 
t.logo = new r.Bounds(t.header.right - p, t.header.top, p, d), t.comCenterWidth = o.COMPRESSED ? o.getWidth(6) - 4 * o.GUTTER : o.getWidth(8) + t.dangerZoneSize.width, 
t.userBar = o.COMPRESSED ? new r.Bounds(t.safeZone.right - f, t.content.bottom - m, f, m) : new r.Bounds(t.footer.right - f, t.footer.bottom - m, f, m);
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(517), i = n(250), a = n(45), s = n(373), u = n(251), l = n(216), c = n(372), p = n(95), d = n(27);
t.onSuccess = a.createTypedAction(), t.onError = a.createTypedAction();
var f, m = e.get("GatewayClient");
!function(e) {
e.Request = "request", e.Response = "response", e.ResponseError = "response error";
}(f || (f = {}));
var h = function() {
function e() {
this.warning = "Attempt to use an unconfigured GatewayClient, please wait for nativeClientReadyMessage";
}
return e.prototype.warningFormat = function(e) {
return this.warning + " (" + e + ")";
}, e.prototype.request = function(e, t, n) {
var r = this.warningFormat(e);
return m.error(r), Promise.reject(new Error(r));
}, e.prototype.firstPartyRequest = function(e, t, n) {
var r = this.warningFormat(e);
return m.error(r), Promise.reject(new Error(r));
}, e.prototype.connect = function() {
m.error(this.warningFormat("connect"));
}, e.prototype.disconnect = function() {
m.error(this.warningFormat("disconnect"));
}, e;
}();
t.NullGatewayClient = h;
var g = new h();
t.connectWhenReady = function y() {
m.info("Native Client and Presence Ready, connecting..."), t.connect();
}, t.connect = function() {
return g.connect();
}, t.disconnect = function() {
return g.disconnect();
}, t.request = function(e, t, n) {
return void 0 === n && (n = !0), g.request(e, t, n);
}, t.firstPartyRequest = function(e, t, n) {
return void 0 === n && (n = !0), g.firstPartyRequest(e, t, n);
};
var S = function() {
function e(e, t, n, r, o, i) {
this.frostbite = e, this.getAuthCode = r, this.config = t, this.baseUrl = t.gatewayHost + "/jsonrpc/" + t.platform.toLowerCase() + "/api", 
m.info("GatewayClient configured: " + t.gatewayHost), t.authProps && (this.authProps = t.authProps), 
this.hostingGameId = t.hostingGameId, this.buildInfo = t.buildInfo, this.store = n, 
this.getAuthCode = r, this.getFirstPartyTokens = o, this.httpRequest = i || l.httpRequest;
}
return e.prototype.connect = function() {
return this.store.canConnect ? (this.store.setSessionState(i.GatewaySessionState.connecting), 
this.useSession()) : Promise.reject(new Error("Cannot connect in this state"));
}, e.prototype.disconnect = function() {
this.sessionPromise = null, this.endFirstPartyTokenRenewal();
}, e.prototype.useSession = function() {
var e = this;
return null != this.sessionPromise ? this.sessionPromise : null != this.store.session ? (this.sessionPromise = Promise.resolve(this.store.session.sessionId), 
this.sessionPromise) : this.store.sessionState !== i.GatewaySessionState.connecting ? Promise.reject(new Error("Making gateway request without a gateway session")) : (this.sessionPromise = this.getAuthCode().then(function(t) {
return e.requestSession(t);
}).then(function(t) {
return e.store.receiveSession(new o.GatewaySession(t.personaId, t.sessionId, t.envId, t.parameters)), 
t.sessionId;
}).catch(function(t) {
throw m.info("Failed to create session: ", t), e.sessionPromise = void 0, e.store.setSessionState(i.GatewaySessionState.failed), 
t;
}), this.sessionPromise);
}, e.prototype.requestSession = function(e) {
return this.gatewayRequest(null, "Authentication.getEnvIdViaAuthCode", r.__assign({
authCode: e
}, this.authProps)).then(function(t) {
var n = t.sessionId;
if (!n) throw new Error('Bad response from gateway "getEnvIdViaAuthCode" using auth code ' + e + ': No session id received (response.sessionId == "' + n + '")');
return t;
}, function(e) {
throw m.error("Authentication.getEnvIdViaAuthCode failed:", e.code, e.message), 
e;
});
}, e.prototype.request = function(e, t, n) {
var r = this;
return void 0 === n && (n = !0), this.store.sessionState === i.GatewaySessionState.failed ? Promise.reject(new Error("GatewayClient offline, call GatewayClient.connect to go online - " + e)) : this.useSession().then(function(n) {
return r.gatewayRequest(n, e, t);
}).catch(function(o) {
if (o.code === u.GatewayErrorCodes.INVALID_SESSION) {
if (r.sessionPromise && r.store.sessionState === i.GatewaySessionState.established && (r.sessionPromise = void 0, 
r.store.setSessionState(i.GatewaySessionState.connecting)), n) return r.request(e, t, !1);
throw o;
}
throw o;
});
}, e.prototype.logRequestOrResponse = function(e, t, n, r, o, i) {
if (this.buildInfo && ("debug" === this.buildInfo.buildConfig || "release" === this.buildInfo.buildConfig || "final" === this.buildInfo.buildConfig)) {
var a, s = c.start();
switch (e) {
case f.ResponseError:
a = m.error;
break;

case f.Request:
case f.Response:
a = m.debug;
break;

default:
m.warn("Missing logger type for " + e), a = m.info;
}
a("[Gateway JSONRPC] " + e + " --\x3e method: " + t + ", id: " + n + ", headers:", p.globalScope.isJSC ? "{" + Object.keys(r).map(function(e) {
return e + ": " + r[e];
}).join(", ") + "}" : r, ", data:", p.globalScope.isJSC ? JSON.stringify(o) : o), 
p.globalScope.isJSC || e !== f.Response || m.log(t, i, o);
var u = e.split(/\s+/).join("-");
c.end("JSONRPC-" + u, s);
}
}, e.prototype.gatewayRequest = function(e, n, r) {
var o = this, i = {
jsonrpc: "2.0",
method: n,
params: r || {},
id: s.createUUID()
}, a = {};
e && "" !== e ? a["X-GatewaySession"] = e : a["X-Guest"] = "no-session-id", a["X-ClientVersion"] = "release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod", 
this.buildInfo && (a["X-DbId"] = this.buildInfo.fbDatabaseId, this.buildInfo.codeChangeList && (a["X-CodeCL"] = this.buildInfo.codeChangeList), 
this.buildInfo.dataChangeList && (a["X-DataCL"] = this.buildInfo.dataChangeList), 
this.buildInfo.saveGameVersion && (a["X-SaveGameVersion"] = this.buildInfo.saveGameVersion)), 
this.hostingGameId && (a["X-HostingGameId"] = this.hostingGameId);
var c = [ "tenancyRootEnv=" + this.config.gatewayTenancyRootEnv, "tenancyBlazeEnv=" + this.config.gatewayTenancyBlazeEnv ];
a["X-Sparta-Info"] = c.join("; ");
var p = {
methodName: n,
params: r || {}
}, m = this;
return new Promise(function(e, s) {
m.logRequestOrResponse(f.Request, n, i.id, a, i);
var c = Object.keys(a).map(function(e) {
return e + ": " + a[e];
}).join("\r\n");
o.httpRequest(d.HttpMethod.POST, o.baseUrl + "?" + n, i, c, !0, function(o, a, c) {
var d = l.parseHeaders(c);
if (o && !a.error) m.logRequestOrResponse(f.Response, n, i.id, d, a.result, r), 
t.onSuccess(a.result, p), e(a.result); else {
p.traceId = d["X-GatewayTraceId"], m.logRequestOrResponse(f.ResponseError, n, i.id, d, a.error || a.result), 
t.onError(a.error, p);
var h = a.error ? new u.GatewayRequestError(a.error.message, a.error.code, p) : new u.GatewayRequestError("Unspecified error", 0, p);
s(h);
}
});
});
}, e.prototype.renewFirstPartyTokens = function() {
var e = this;
return this.renewFirstPartyTokensPromise ? this.renewFirstPartyTokensPromise : (this.renewFirstPartyTokensPromise = this.request("Inventory.getFirstPartyServices").then(function(t) {
return e.getFirstPartyTokens(e.frostbite, t);
}).then(function(t) {
return e.request("Inventory.registerFirstPartyTokens", {
tokens: t
});
}).then(function() {
return e.endFirstPartyTokenRenewal();
}).catch(function(t) {
throw m.error(t), e.endFirstPartyTokenRenewal(), t;
}), this.renewFirstPartyTokensPromise);
}, e.prototype.endFirstPartyTokenRenewal = function() {
this.renewFirstPartyTokensPromise = void 0;
}, e.prototype.firstPartyRequest = function(e, t, n) {
var r = this;
return void 0 === n && (n = !0), this.request(e, t).catch(function(o) {
if (o.code !== u.GatewayErrorCodes.FIRST_PARTY_TOKEN_EXPIRED) throw o;
if (n) return r.renewFirstPartyTokens().then(function() {
return r.firstPartyRequest(e, t, !1);
});
});
}, e;
}();
t.GatewayClient = S, t.setInstance = function v(e) {
g = e;
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.display = r.createTypedAction(), t.close = r.createTypedAction(), t.closeAll = r.createTypedAction(), 
t.closeGroup = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(3), s = n(382), u = n(7), l = n(300), c = 0, p = 0, d = {
viewComponentState: i.instanceOf(l.ViewComponentState),
parentInputDecoratedComponent: i.any
}, f = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t;
}(o.Component);
function m(e, t) {
var n;
return void 0 === t && (t = {}), (n = function(e) {
function n(n, o) {
var i = e.call(this, n, o) || this;
i.hasRegisteredInputs = !1, i.inputStore = u.SpartaContext.getFromComponent(i).stores.inputStore, 
i.inputOptions = r.__assign({
ignoreParentIsolation: !1,
passDownId: !0,
group: !1
}, t), i.state = i.state || {};
var a = i.context.parentInputDecoratedComponent, s = !1 !== i.inputOptions.group;
return i._allowIsolation = !0, i.isOwnInputGroup = s || !a || !a.inputOptions.passDownId, 
i.inputGroupId = i.isOwnInputGroup || !a ? "inputGroup" + c++ : a.inputGroupId, 
i.registrationId = "inputRegistration" + p++, i;
}
return r.__extends(n, e), n.prototype.getChildContext = function() {
var t = e.prototype.getChildContext && e.prototype.getChildContext.call(this);
return r.__assign({
parentInputDecoratedComponent: this
}, t);
}, Object.defineProperty(n.prototype, "isActive", {
get: function() {
return !this.context.viewComponentState || this.context.viewComponentState.isActive;
},
enumerable: !0,
configurable: !0
}), n.prototype.getInput = function() {
return this.isActive && e.prototype.getInput && e.prototype.getInput.call(this) || [];
}, n.prototype.updateInput = function(e) {
var t = [].concat(e || this.getInput());
!this.isActive || this.hasRegisteredInputs && 0 === t.length ? (this.hasRegisteredInputs = !1, 
this.inputStore.unregister(this.registrationId, this.inputGroupId)) : t.length > 0 && (this.hasRegisteredInputs = !0, 
this.inputStore.register(this.registrationId, this.inputGroupId, t));
}, n.prototype.componentDidMount = function() {
e.prototype.componentDidMount && e.prototype.componentDidMount.call(this), this.updateReaction();
}, n.prototype.componentDidUpdate = function() {
for (var t, n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
e.prototype.componentDidUpdate && (t = e.prototype.componentDidUpdate).call.apply(t, [ this ].concat(n)), 
this.updateReaction();
}, n.prototype.componentWillUnmount = function() {
this.disposeReaction && this.disposeReaction(), this.hasRegisteredInputs && (this.hasRegisteredInputs = !1, 
this.inputStore.unregister(this.registrationId, this.inputGroupId)), e.prototype.componentWillUnmount && e.prototype.componentWillUnmount.call(this);
}, n.prototype.updateReaction = function() {
var e = this;
this.disposeReaction && this.disposeReaction(), this.disposeReaction = a.reaction(function() {
return {
isActive: e.isActive,
inputs: e.getInput()
};
}, function(t) {
var n = t.inputs;
return e.updateInput(n);
}, {
fireImmediately: !0
});
}, n.prototype.allowIsolation = function(e) {
this._allowIsolation = e;
var t = this.context.parentInputDecoratedComponent;
t && t.allowIsolation(e);
}, n.prototype.isIsolationAllowed = function() {
if (this.inputOptions.ignoreParentIsolation) return this._allowIsolation;
if (!this._allowIsolation) return !1;
var e = this.context.parentInputDecoratedComponent;
return !e || e.isIsolationAllowed();
}, n.prototype.isolateInputGroup = function() {
if (this.isIsolationAllowed()) {
if (this.isOwnInputGroup) {
var e = this.context.parentInputDecoratedComponent;
e && e.allowIsolation(!1);
}
this.inputStore.isolateGroup(this.inputGroupId);
}
}, n.prototype.releaseInputGroup = function() {
if (this._allowIsolation) {
if (this.isOwnInputGroup) {
var e = this.context.parentInputDecoratedComponent;
e && e.allowIsolation(!0);
}
this.inputStore.releaseGroup(this.inputGroupId);
}
}, n;
}(e)).contextTypes = r.__assign({}, e.contextTypes, d, u.SpartaContext.contextTypes), 
n.childContextTypes = r.__assign({}, e.childContextTypes, d), n.displayName = s.getDisplayName(e), 
n;
}
t.InputComponent = f, t.inputWithOptions = function h(e) {
return function(t) {
return m(t, e);
};
}, t.input = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.InsertMarkup = "INSERT_MARKUP", e.MoveExisting = "MOVE_EXISTING", e.RemoveNode = "REMOVE_NODE";
}(t.SurfaceChildOperationType || (t.SurfaceChildOperationType = {})), function(e) {
e.Linear = "Linear", e.QuadraticIn = "QuadraticIn", e.QuadraticOut = "QuadraticOut", 
e.QuadraticInOut = "QuadraticInOut", e.CubicIn = "CubicIn", e.CubicOut = "CubicOut", 
e.CubicInOut = "CubicInOut", e.CubicOutBack = "CubicOutBack", e.SineIn = "SineIn", 
e.SineOut = "SineOut", e.SineInOut = "SineInOut", e.Bezier = "Bezier";
}(t.Easing || (t.Easing = {})), function(e) {
e[e.GET = 0] = "GET", e[e.POST = 1] = "POST";
}(t.HttpMethod || (t.HttpMethod = {})), function(e) {
e[e.onMouseDown = 0] = "onMouseDown", e[e.onMouseUp = 1] = "onMouseUp", e[e.onClick = 2] = "onClick", 
e[e.onDoubleClick = 3] = "onDoubleClick", e[e.onMouseScroll = 4] = "onMouseScroll", 
e[e.onMouseEnter = 5] = "onMouseEnter", e[e.onMouseLeave = 6] = "onMouseLeave";
}(t.MouseEventType || (t.MouseEventType = {})), function(e) {
e[e.onBoundsChanged = 7] = "onBoundsChanged";
}(t.OtherEventType || (t.OtherEventType = {})), function(e) {
e[e.None = -1] = "None", e[e.Primary = 0] = "Primary", e[e.Secondary = 1] = "Secondary", 
e[e.Wheel = 2] = "Wheel", e[e.Back = 3] = "Back", e[e.Forward = 4] = "Forward";
}(t.MouseButton || (t.MouseButton = {})), function(e) {
e[e.OK = 0] = "OK", e[e.KEY_INVALID = -1] = "KEY_INVALID", e[e.NO_FILESYSTEM = -2] = "NO_FILESYSTEM", 
e[e.KEY_NOT_FOUND = -3] = "KEY_NOT_FOUND", e[e.FAILED_FILE_INFO = -4] = "FAILED_FILE_INFO";
}(t.GetItemResult || (t.GetItemResult = {})), function(e) {
e[e.OK = 0] = "OK", e[e.KEY_INVALID = -1] = "KEY_INVALID", e[e.FILE_DELETE_FAILURE = -2] = "FILE_DELETE_FAILURE";
}(t.RemoveKeyResult || (t.RemoveKeyResult = {})), function(e) {
e[e.OK = 0] = "OK", e[e.KEY_INVALID = -1] = "KEY_INVALID", e[e.KEY_TOO_LONG = -2] = "KEY_TOO_LONG", 
e[e.NO_FILESYSTEM = -3] = "NO_FILESYSTEM", e[e.FILE_CREATION_FAILURE = -4] = "FILE_CREATION_FAILURE";
}(t.StoreItemResult || (t.StoreItemResult = {})), function(e) {
e[e.OK = 0] = "OK", e[e.FILE_SYSTEM_ERROR = -1] = "FILE_SYSTEM_ERROR", e[e.DELETE_ERROR = -2] = "DELETE_ERROR";
}(t.ClearResult || (t.ClearResult = {})), function(e) {
e[e.staticAtlas = 0] = "staticAtlas", e[e.singleTexture = 1] = "singleTexture", 
e[e.dynamicAtlas = 2] = "dynamicAtlas", e[e.invalid = 3] = "invalid";
}(t.TextureAtlas || (t.TextureAtlas = {})), function(e) {
e.Controller = "controller", e.Keyboard = "keyboard", e.Mouse = "mouse";
}(t.LastUsedInputMethod || (t.LastUsedInputMethod = {})), function(e) {
e[e.DEFAULT = 0] = "DEFAULT", e[e.FIXED = 1] = "FIXED", e[e.WINDOW_FACTOR = 2] = "WINDOW_FACTOR", 
e[e.CONTAINER_FACTOR = 3] = "CONTAINER_FACTOR";
}(t.DebugUiWidthInfo || (t.DebugUiWidthInfo = {}));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(15), i = n(26), a = n(12), s = n(11), u = n(4), l = n(6), c = n(62), p = n(5), d = n(21), f = n(33), m = n(7), h = n(77), g = n(42), y = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = m.SpartaContext.getFromComponent(r), r.focusItem = e.focusItem || r.sparta.twinkle.focus.create(r, e.name), 
r.props.disableAutoFocus || (r.focusItem.autoFocusCandidate = !0), h.onComponentUpdate(r, function(e) {
r.focusItem.setActive("fabddbc4:82:38", !e.disabled);
}), r;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this.sparta.theme.getTheme(this).button;
this.bgColorTween = o.Animation.tween("fabddbc4:88:45", e.backgroundColor, {
duration: e.tweenDuration
}), this.bgOverlayTween = o.Animation.tween("fabddbc4:91:47", e.backgroundOverlayColor, {
duration: e.tweenDuration
}), this.showOnHoverTween = o.Animation.tween("fabddbc4:94:49", 0, {
duration: e.tweenDuration
}), this.hideOnHoverTween = o.Animation.tween("fabddbc4:95:49", 1, {
duration: e.tweenDuration
});
}, n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return [ e.focusItem.isFocused, e.focusItem.isHovered ];
}, function(t) {
var n = t[0], r = t[1];
if (!e.showOnHoverTween.isDestroyed() && !e.hideOnHoverTween.isDestroyed()) {
var o = !e.props.noFocus && !e.props.disabled;
e.toggleHighlight(n && o, r && o);
}
}, {
fireImmediately: !0
}), this.props.stealFocus && this.sparta.twinkle.focus.setAsFocused(this.focusItem, g.FocusSource.Auto, !0);
}, n.prototype.componentWillUnmount = function() {
this.bgColorTween.destroy(), this.bgOverlayTween.destroy(), this.showOnHoverTween.destroy(), 
this.hideOnHoverTween.destroy();
}, n.prototype.componentWillReceiveProps = function(e) {
this.props.noFocus && void 0 !== e.highlight && this.props.highlight !== e.highlight && this.toggleHighlight(e.highlight);
}, n.prototype.toggleHighlight = function(e, t) {
var n = this.sparta.theme.getTheme(this).button, r = t ? n.backgroundHoverColor : e ? n.backgroundFocusColor : n.backgroundColor, i = t ? n.backgroundOverlayHoverColor : e ? n.backgroundOverlayFocusColor : n.backgroundOverlayColor, a = e || t, s = a ? 1 : 0, u = a ? 0 : 1;
n.tweenDuration ? (this.bgColorTween.to(r), this.bgOverlayTween.to(i), this.showOnHoverTween.to(s), 
this.hideOnHoverTween.to(u)) : this.sparta.twinkle.focus.controllerMode ? (this.bgColorTween.to(r, o.Animation.presets.focusables.enter.default), 
this.bgOverlayTween.to(i, o.Animation.presets.focusables.enter.default), this.showOnHoverTween.to(s, o.Animation.presets.focusables.enter.default), 
this.hideOnHoverTween.to(u, o.Animation.presets.focusables.enter.default)) : (this.bgColorTween.set(r), 
this.bgOverlayTween.set(i), this.showOnHoverTween.set(s), this.hideOnHoverTween.set(u));
}, n.prototype.getContent = function() {
return this.props.content ? {
disabled: this.props.content.disabled,
normal: r.createElement("surface", {
style: this.hideOnHoverTween.getStyleClass("opacity")
}, this.props.content.normal),
hover: r.createElement("surface", {
style: this.showOnHoverTween.getStyleClass("opacity")
}, this.props.content.hover)
} : this.props.icon ? this.getIcons() : this.props.text ? this.getTexts() : {
disabled: void 0,
normal: void 0,
hover: void 0
};
}, n.prototype.getTexts = function() {
var e = this.sparta.theme.getTheme(this).button, t = this.props, n = t.textSize, o = t.textType, i = t.textStyle, a = this.props.text && this.props.upperCase ? this.props.text.toUpperCase() : this.props.text || "";
return {
disabled: r.createElement(l.Text, {
value: a,
size: n,
key: "disabled",
type: o,
style: p.merge2(e.text(!1, !1), i)
}),
normal: r.createElement(l.Text, {
value: a,
size: n,
key: "normal",
type: o,
style: p.merge3(e.text(!1, !1), this.hideOnHoverTween.getStyleClass("opacity"), i)
}),
hover: r.createElement(l.Text, {
value: a,
size: n,
key: "hover",
type: e.boldHoverText ? f.TextType.EMPHASIS : o,
style: p.merge3(e.text(!0, this.focusItem.isHovered), this.showOnHoverTween.getStyleClass("opacity"), i)
})
};
}, n.prototype.getIcons = function() {
var e = this.sparta.theme.getTheme(this).button, t = this.props, n = t.icon, o = t.size;
return n ? {
disabled: r.createElement("surface", {
style: e.icon({
texture: n.normal,
size: o,
disabled: !0
})
}),
normal: r.createElement("surface", {
style: p.merge2(e.icon({
texture: n.normal,
size: o
}), this.hideOnHoverTween.getStyleClass("opacity"))
}),
hover: r.createElement("surface", {
style: p.merge2(e.icon({
texture: n.hover,
size: o,
hover: !0
}), this.showOnHoverTween.getStyleClass("opacity"))
})
} : {
disabled: void 0,
normal: void 0,
hover: void 0
};
}, n.prototype.getInput = function() {
var e = [];
return this.props.noFocus && this.props.highlight && e.push(new a.Input({
label: this.props.inputLabel ? this.props.inputLabel : __("ID_SPARTA_ACTION_SELECT"),
action: this.props.action,
key: s.Keys.Accept,
blockInputFor: this.props.blockInputFor
})), e;
}, n.prototype.render = function() {
var t = this.sparta.theme.getTheme(this), n = t.components.HoverSFX, o = t.button, i = this.props, u = i.text, d = i.inputLabel, f = i.action, m = i.disabled, h = i.style, g = i.blockInputFor, y = i.upperCase, S = i.fitContent, v = i.noFocus, _ = this.getContent(), b = p.merge2(o.button(m), p.DynamicStyle.maybeLegacyStyle(h, "fabddbc4:294:60")), T = this.bgColorTween.getStyleClass("backgroundColor"), E = this.bgOverlayTween.getStyleClass("backgroundColor");
if (m) return r.createElement(n, {
focusItem: this.focusItem
}, r.createElement("surface", e.__assign({
style: b
}, this.focusItem.hooks), r.createElement("surface", {
style: p.merge2(o.background, T)
}), r.createElement("surface", {
style: o.border
}), r.createElement("surface", {
style: o.textContainer(S)
}, _.disabled)));
if (v) return r.createElement(n, {
focusItem: this.focusItem
}, r.createElement("surface", {
style: b
}, r.createElement("surface", {
style: p.merge2(o.background, T)
}), r.createElement("surface", {
style: o.border
}), r.createElement("surface", {
style: o.textContainer(S)
}, _.hover), r.createElement("surface", {
style: o.textContainer(S)
}, _.normal)));
var C = f ? new a.Input({
label: d || __("ID_SPARTA_ACTION_SELECT"),
action: f,
key: s.Keys.Accept,
blockInputFor: g
}) : void 0, I = S && r.createElement(l.Text, {
value: u && y ? u.toUpperCase() : u,
size: this.props.textSize,
style: o.boxFiller
});
return r.createElement(n, {
focusItem: this.focusItem
}, r.createElement(c.Pressable, {
input: C,
glow: o.borderGlow,
style: b,
focusItem: this.focusItem
}, r.createElement("surface", {
style: p.merge2(o.background, T)
}), r.createElement("surface", {
style: p.merge2(o.backgroundOverlay, E)
}), r.createElement("surface", {
style: o.border
}), I, r.createElement("surface", {
style: o.textContainer(S)
}, _.hover), r.createElement("surface", {
style: o.textContainer(S)
}, _.normal)));
}, n.contextTypes = m.SpartaContext.contextTypes, n.defaultProps = {
noFocus: !1,
blockInputFor: 500,
textSize: d.TextSize.S,
textType: f.TextType.NORMAL,
text: " ",
upperCase: !0
}, n = e.__decorate([ i.input, u.observer ], n);
}(r.Component);
t.Button = y;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(5), s = n(7), u = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = s.SpartaContext.getFromComponent(r), r.setSurfaceId = function(e) {
r.surfaceId = e, r.surfaceId && !1 === r.props.wait && r.sparta.twinkle.nativeApi.playSpriteAnimation(r.surfaceId, !0);
}, r.timeout = 0, !1 !== e.wait && (r.waitTimeout = setTimeout(function() {
r.surfaceId && r.sparta.twinkle.nativeApi.playSpriteAnimation(r.surfaceId, !0);
}, r.props.wait ? r.props.wait : 500)), r;
}
return r.__extends(n, t), n.prototype.componentDidMount = function() {
var t = this;
this.timeout = setTimeout(function() {
var n = "Spinner component " + t.surfaceId + " has been mounted for 15+ seconds, stuck in an endless loading state?";
e.warn(n);
}, 15e3);
}, n.prototype.componentWillUnmount = function() {
clearTimeout(this.timeout), clearTimeout(this.waitTimeout);
}, n.prototype.render = function() {
var e = this.props, t = e.style, n = e.large, r = e.small, i = this.sparta.theme.getTheme(this).spinner, s = i.medium;
n ? s = i.large : r && (s = i.small);
var u = a.merge3(i.size(s), i.spriteAnimation, t || a.emptyStyle);
return o.createElement("surface", {
style: u,
onSurfaceId: this.setSurfaceId
});
}, n.contextTypes = s.SpartaContext.contextTypes, n = r.__decorate([ i.observer ], n);
}(o.Component);
t.Spinner = u;
var l = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).spinner;
return o.createElement("surface", {
style: e.center
}, o.createElement(u, r.__assign({}, this.props)));
}, t.contextTypes = s.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.CenteredSpinner = l;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(521), a = function() {
function t(e) {
this.paramsUsedToFetch = new WeakMap(), this.fragments = o.observable.map([], {
deep: !1
}), this.fragmentTtl = -1, this.fragmentFailstateTtl = 1e4, e && (void 0 !== e.fragmentTtl && (this.fragmentTtl = e.fragmentTtl), 
void 0 !== e.fragmentFailstateTtl && (this.fragmentFailstateTtl = e.fragmentFailstateTtl));
}
return t.prototype.saveParamsAndFetch = function(e, t) {
this.paramsUsedToFetch.set(e, t), this.fetch(e, t);
}, t.prototype.setFragment = function(e, t) {
this.fragments.set(e, t), this.deleteSurplusFragments();
}, t.prototype.deleteFragment = function(e) {
this.fragments.delete(e);
}, t.prototype.clearFragments = function() {
this.fragments.clear();
}, t.prototype.resetFragment = function(e) {
var t = this.fragments.get(e);
t && t.reset();
}, t.prototype.deleteSurplusFragments = function() {
var e = this;
this.fragmentLimit && this.fragments.size > this.fragmentLimit && o.values(this.fragments).slice().sort(function(e, t) {
var n = t.lastAccessed - e.lastAccessed;
return 0 !== n ? n : e.created > t.created ? 1 : -1;
}).slice(this.fragmentLimit).forEach(function(t) {
return e.deleteFragment(t.id);
});
}, t.prototype.expireFragment = function(e) {
var t = this.getFragment(e);
return !(!t || t.isLoading || t.hasExpired) && (t.expire(), !0);
}, t.prototype.expireFragments = function() {
var e = this;
this.fragments.forEach(function(t) {
return e.expireFragment(t.id);
});
}, t.prototype.refreshFragments = function(e) {
var t = this;
this.fragments.forEach(function(n) {
return t.refreshFragment(n.id, e);
});
}, t.prototype.refreshFragment = function(e, t) {
var n = this.getFragment(e);
return this.saveParamsAndFetch(n, t || this.paramsUsedToFetch.get(n)), n;
}, t.prototype.createEmptyFragment = function(e) {
return new i.Fragment(e, void 0, {
ttl: this.fragmentTtl,
failstateTtl: this.fragmentFailstateTtl,
valueMapper: this.valueMapper
});
}, t.prototype.getFragment = function(e) {
var t = this.fragments.get(e);
return t || (t = this.createEmptyFragment(e), this.setFragment(e, t)), t.updateLastAccessed(), 
t;
}, t.prototype.fetchFragment = function(t, n) {
var r = this;
e(o.action(function() {
t.needsFetch && r.saveParamsAndFetch(t, n);
}));
}, t.prototype.getOrFetchFragment = function(e, t) {
var n = this.getFragment(e);
return n.needsFetch && this.fetchFragment(n, t), n;
}, t.prototype.hasFragment = function(e) {
return this.fragments.has(e);
}, r.__decorate([ o.action ], t.prototype, "setFragment", null), r.__decorate([ o.action ], t.prototype, "deleteFragment", null), 
r.__decorate([ o.action ], t.prototype, "clearFragments", null), r.__decorate([ o.action ], t.prototype, "refreshFragment", null), 
t;
}();
t.FragmentStore = a;
}).call(this, n(276).setImmediate);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(40);
t.tunguskaGameId = r.getBuildInfo().isCTE() ? "bf1cte" : "tunguska", t.tunguskaConquestAssaultMaps = [ "mp_beachhead", "mp_harbor", "mp_naval", "mp_offensive", "mp_river" ];
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(8), s = n(34), u = n(23), l = n(407), c = n(262), p = n(5), d = n(9), f = n(7), m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = f.SpartaContext.getFromComponent(t), t.scroller = o.createRef(), 
t;
}
return r.__extends(t, e), t.prototype.scrollTo = function(e, t) {
this.scroller.current && this.scroller.current.scrollTo(e, t);
}, Object.defineProperty(t.prototype, "style", {
get: function() {
return this.sparta.theme.getTheme(this).legacyTemplate;
},
enumerable: !0,
configurable: !0
}), t.prototype.renderHeader = function() {
if (this.props.header) {
var e = this.props.shortHeader ? this.style.shortHeader : this.style.header;
return o.createElement("surface", {
style: p.merge2(e, this.props.headerStyle || p.emptyStyle)
}, this.props.header, this.props.showDivider && o.createElement(c.Divider, {
style: this.style.divider
}));
}
}, t.prototype.renderAboveContent = function() {
if (this.props.aboveContent) return o.createElement("surface", {
style: this.style.aboveContent
}, this.props.aboveContent);
}, t.prototype.renderBelowContent = function() {
if (this.props.belowContent) return o.createElement("surface", {
style: this.style.belowContent
}, this.props.belowContent);
}, t.prototype.render = function() {
var e = this.style, t = this.props.wideContent && a.COMPRESSED ? u.safeZone.width : u.content.width;
return this.props.scrollContent && a.COMPRESSED && this.props.verticalIndicator && this.props.wideContent && (t -= a.GUTTER), 
o.createElement("surface", {
style: e.container
}, (this.props.debugGrid || e.debugGrid, null), this.renderHeader(), this.renderAboveContent(), o.createElement("surface", {
style: e.contentWrapper(this.props.tallContent)
}, this.props.scrollContent ? o.createElement(s.Scroller, {
ref: this.scroller,
style: e.scroller({
width: t
}),
controller: this.props.scrollListener,
softClip: e.softClipping,
focus: this.props.scrollToFocus,
scrollbar: !!this.props.verticalIndicator && "auto",
noHorizontalScroll: this.props.noHorizontalScroll
}, this.props.children) : o.createElement(l.Clipper, {
width: t,
height: u.content.height,
clipContent: this.props.clipContent,
clipPadding: e.clipPadding,
softClip: e.softClipping
}, this.props.children)), this.renderBelowContent());
}, t.defaultProps = {
tallContent: a.COMPRESSED,
scrollContent: d.SpartaGlobals.bundleIsPC,
scrollToFocus: d.SpartaGlobals.bundleIsConsole,
clipContent: !1,
shortHeader: !1,
debugGrid: !1,
wideContent: !1,
verticalIndicator: a.COMPRESSED
}, t.contextTypes = f.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.Template = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.NORMAL = "normal", e.EMPHASIS = "emphasis", e.LIGHT = "light", e.HEADER_LIGHT = "headerLight", 
e.HEADER_NORMAL = "headerNormal", e.HEADER_EMPHASIS = "headerEmphasis";
}(t.TextType || (t.TextType = {}));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(66), i = n(5), a = n(134), s = n(4), u = n(3), l = n(15), c = n(11), p = n(8), d = n(26), f = n(12), m = n(17), h = n(9), g = n(5), y = n(22), S = n(42), v = function() {
function e(e, t) {
void 0 === e && (e = 0), void 0 === t && (t = 0), this.localX = e, this.localY = t;
}
return Object.defineProperty(e.prototype, "x", {
get: function() {
return this.localX;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "y", {
get: function() {
return this.localY;
},
enumerable: !0,
configurable: !0
}), e;
}(), _ = function() {
function t() {
var e = this;
this.scrollOffset = new v(), this.containerBounds = new a.Bounds(), this.contentBounds = new a.Bounds(), 
this.isHovered = !1, this.focusAncestor = y.focusSystem.createAncestor(o.autoId("scrollcontainer")), 
this.scrolledOnOldBoundsY = 0, this.scrolledOnOldBoundsX = 0, this.setHovered = function() {
e.isHovered = !0;
}, this.unsetHovered = function() {
e.isHovered = !1;
};
}
return Object.defineProperty(t.prototype, "canScrollUp", {
get: function() {
return this.scrollOffset.y > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canScrollLeft", {
get: function() {
return this.scrollOffset.x > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canScrollDown", {
get: function() {
return this.scrollOffset.y < this.maxScrollOffset.y;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canScrollRight", {
get: function() {
return this.scrollOffset.x < this.maxScrollOffset.x;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canScroll", {
get: function() {
return this.contentBounds.width > this.containerBounds.width || this.contentBounds.height > this.containerBounds.height;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "maxScrollOffset", {
get: function() {
return new v(Math.max(this.contentBounds.width - this.containerBounds.width, 0), Math.max(this.contentBounds.height - this.containerBounds.height, 0));
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "viewportBounds", {
get: function() {
return new a.Bounds(this.scrollOffset.x, this.scrollOffset.y, this.containerBounds.width, this.containerBounds.height);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "scrollbarOffset", {
get: function() {
var e = this.scrollOffset.y / this.contentBounds.height;
return new v(0, e * this.containerBounds.height);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "scrollbarHeight", {
get: function() {
return 0 === this.contentBounds.height ? 0 : this.containerBounds.height / this.contentBounds.height * this.containerBounds.height;
},
enumerable: !0,
configurable: !0
}), t.prototype.scrollInDirection = function(e, t, n) {
void 0 === n && (n = 100);
var r = this.scrollOffset.x + e * n, o = this.scrollOffset.y + t * n;
this.setScrollOffset(r, o);
}, t.prototype.scrollToBounds = function(e) {
var t = this.viewportBounds, n = 0, r = 0;
e.top < t.top ? n = e.top - t.top : e.bottom > t.bottom && (n = e.bottom - t.bottom), 
e.left < t.left ? r = e.left - t.left : e.right > t.right && (r = e.right - t.right), 
this.setScrollOffset(this.scrollOffset.x + r + this.scrolledOnOldBoundsX, this.scrollOffset.y + n + this.scrolledOnOldBoundsY), 
this.scrolledOnOldBoundsY = -n, this.scrolledOnOldBoundsX = -r;
}, t.prototype.setScrollOffset = function(e, t) {
var n = Math.max(Math.min(e, this.maxScrollOffset.x), 0), r = Math.max(Math.min(t, this.maxScrollOffset.y), 0);
this.scrollOffset.x === n && this.scrollOffset.y === r || (this.scrollOffset = new v(n, r));
}, t.prototype.setContainerBounds = function(e) {
e.equals(this.containerBounds, !1) || (this.containerBounds = e, this.setScrollOffset(this.scrollOffset.x, this.scrollOffset.y));
}, t.prototype.setContentBounds = function(e) {
e.equals(this.contentBounds, !1) || (this.contentBounds = e, this.scrolledOnOldBoundsY = 0, 
this.scrolledOnOldBoundsX = 0, this.setScrollOffset(this.scrollOffset.x, this.scrollOffset.y));
}, t.prototype.getLocalBounds = function(e) {
return e.offset(this.containerBounds.x - this.scrollOffset.x, this.containerBounds.y - this.scrollOffset.y);
}, Object.defineProperty(t.prototype, "smartSoftClipModifier", {
get: function() {
if (!this.canScroll) return [ 0, 0, 0, 0 ];
var e = this.scrollOffset, t = this.maxScrollOffset, n = [ 1, 1, 1, 1 ];
return 0 === e.x ? n[3] = 0 : e.x === t.x && (n[1] = 0), 0 === e.y ? n[0] = 0 : e.y === t.y && (n[2] = 0), 
n;
},
enumerable: !0,
configurable: !0
}), e.__decorate([ u.observable ], t.prototype, "scrollOffset", void 0), e.__decorate([ u.observable ], t.prototype, "containerBounds", void 0), 
e.__decorate([ u.observable ], t.prototype, "contentBounds", void 0), e.__decorate([ u.observable ], t.prototype, "isHovered", void 0), 
e.__decorate([ u.computed ], t.prototype, "canScrollUp", null), e.__decorate([ u.computed ], t.prototype, "canScrollLeft", null), 
e.__decorate([ u.computed ], t.prototype, "canScrollDown", null), e.__decorate([ u.computed ], t.prototype, "canScrollRight", null), 
e.__decorate([ u.computed ], t.prototype, "canScroll", null), e.__decorate([ u.computed ], t.prototype, "maxScrollOffset", null), 
e.__decorate([ u.computed ], t.prototype, "viewportBounds", null), e.__decorate([ u.computed ], t.prototype, "scrollbarOffset", null), 
e.__decorate([ u.computed ], t.prototype, "scrollbarHeight", null), e.__decorate([ u.action ], t.prototype, "scrollInDirection", null), 
e.__decorate([ u.action ], t.prototype, "scrollToBounds", null), e.__decorate([ u.action ], t.prototype, "setScrollOffset", null), 
e.__decorate([ u.action ], t.prototype, "setContainerBounds", null), e.__decorate([ u.action ], t.prototype, "setContentBounds", null), 
e.__decorate([ u.action ], t.prototype, "setHovered", void 0), e.__decorate([ u.action ], t.prototype, "unsetHovered", void 0), 
e.__decorate([ u.computed ], t.prototype, "smartSoftClipModifier", null), t;
}();
t.ScrollerState = _;
var b = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.canScroll = !1, r.onBounds = function(e) {
r.scrollerState.setContainerBounds(a.Bounds.fromRaw(e));
}, r.updateContentBounds = function(e) {
var t;
if (e instanceof a.Bounds ? t = e : (Math.abs(e.height - r.scrollerState.contentBounds.height) <= 1 && (e.height = r.scrollerState.contentBounds.height), 
t = a.Bounds.fromRaw(e)), !r.props.noHorizontalScroll) {
var n = P(r.scrollerState.focusAncestor.children);
n.width > t.width && (t = new a.Bounds(t.x, t.y, n.width, t.height, t.localX, t.localY));
}
r.scrollerState.setContentBounds(t);
}, r.onMouseScroll = function(e) {
r.scrollInDirection(0, e.scroll > 0 ? -1 : 1), r.props.onMouseScroll && r.props.onMouseScroll(e), 
e.stopPropagation();
}, r.shouldTween = function() {
return void 0 !== r.props.tween ? r.props.tween : y.focusSystem.controllerMode;
}, r.scrollerState = e.scrollerState || new _(), r.reaction(function() {
return r.scrollerState.focusAncestor.children.filter(function(e) {
return e.bounds;
}).length;
}, function() {
return r.updateContentBounds(r.scrollerState.contentBounds);
}), r.reaction(function() {
return r.scrollerState.canScrollUp || r.scrollerState.canScrollDown;
}, function(e) {
e === r.canScroll || r.props.noVerticalScroll || r.setCanScroll(e);
}, {
fireImmediately: !0
}), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.scrollerState.focusAncestor.focusedChild;
}, function(t) {
return e.onFocusChildChanged(t);
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.scrollerState.focusAncestor.destroy();
}, n.prototype.getInput = function() {
var e = this, t = (this.scrollerState.canScrollUp || this.scrollerState.canScrollDown) && y.focusSystem.controllerMode;
if (t && ("auto" === this.props.controller ? t = this.scrollerState.focusAncestor.hasFocusedChild : this.props.controller || (t = !1)), 
t) return [ new f.Input({
action: function() {
return e.scrollInDirection(0, -1);
},
key: c.Keys.ScrollUp,
visible: !1
}), new f.Input({
action: function() {
return e.scrollInDirection(0, 1);
},
key: c.Keys.ScrollDown,
label: __("ID_SPARTA_ACTION_SCROLL")
}) ];
}, n.prototype.setCanScroll = function(e) {
this.canScroll = e;
}, n.prototype.getNearestEdgeVector = function(e) {
var t = P(this.scrollerState.focusAncestor.children);
if (w(e.left, t.left) && this.scrollerState.canScrollLeft) return new v(0, this.scrollerState.scrollOffset.y);
if (w(e.right, t.right) && this.scrollerState.canScrollRight) {
var n = this.props.noHorizontalScroll ? 0 : this.scrollerState.maxScrollOffset.x;
return new v(n, this.scrollerState.scrollOffset.y);
}
if (w(e.top, t.top) && this.scrollerState.canScrollUp) return new v(this.scrollerState.scrollOffset.x, 0);
if (w(e.bottom, t.bottom) && this.scrollerState.canScrollDown) {
var r = this.props.noVerticalScroll ? 0 : this.scrollerState.maxScrollOffset.y;
return new v(this.scrollerState.scrollOffset.x, r);
}
}, n.prototype.shouldScrollToFocus = function() {
if (y.focusSystem.lastFocusSource === S.FocusSource.Auto) return !1;
var e = void 0 !== this.props.focus ? this.props.focus : y.focusSystem.controllerMode;
return !0 === e || "key" === e && y.focusSystem.lastFocusSource === S.FocusSource.Spatial;
}, n.prototype.onFocusChildChanged = function(e) {
if (e && this.shouldScrollToFocus()) {
var t = e.getBounds();
if (!t) return;
var n = this.getNearestEdgeVector(t);
n ? this.scrollTo(n.x, n.y) : this.scrollToBounds(t);
}
}, n.prototype.scrollInDirection = function(e, t) {
this.scrollerState.scrollInDirection(e, t);
}, n.prototype.scrollToElement = function(e) {
e.bounds && this.scrollerState.scrollToBounds(this.scrollerState.getLocalBounds(e.bounds));
}, n.prototype.scrollToBounds = function(e) {
this.scrollerState.scrollToBounds(this.scrollerState.getLocalBounds(e));
}, n.prototype.scrollTo = function(e, t) {
this.scrollerState.setScrollOffset(e, t);
}, n.prototype.render = function() {
var e, t, n = this.props.style;
return !n || Array.isArray(n) || i.isStyleClass(n) || (e = n.maxWidth, t = n.maxHeight), 
r.createElement("surface", {
style: this.props.style,
onBounds: this.onBounds
}, r.createElement(A, {
scrollerState: this.scrollerState,
clipMargin: this.props.clipMargin,
softClip: this.props.softClip,
maxWidth: e,
maxHeight: t,
onMouseScroll: this.onMouseScroll,
onMouseEnter: this.scrollerState.setHovered,
onMouseLeave: this.scrollerState.unsetHovered
}, r.createElement(T, {
shouldTween: this.shouldTween,
onBoundsChanged: this.updateContentBounds,
scrollerState: this.scrollerState
}, this.props.children)), this.canScroll && r.createElement(C, {
shouldTween: this.shouldTween,
scrollerState: this.scrollerState,
position: this.props.scrollbarPosition,
enabled: this.props.scrollbar
}), this.props.overlay);
}, n.defaultProps = {
controller: "auto",
noVerticalScroll: !1
}, e.__decorate([ u.observable ], n.prototype, "canScroll", void 0), e.__decorate([ u.action ], n.prototype, "setCanScroll", null), 
n = e.__decorate([ d.input, s.observer ], n);
}(r.Component);
t.Scroller = b;
var T = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.translateX = l.Animation.componentTween(e, "44db0545:566:56", 0, l.Animation.presets.list.scroll), 
e.translateY = l.Animation.componentTween(e, "44db0545:567:56", 0, l.Animation.presets.list.scroll), 
e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.scrollerState.scrollOffset;
}, function(t) {
return e.updateTweens(t);
}, {
fireImmediately: !0
});
}, n.prototype.updateTweens = function(e) {
this.props.shouldTween() ? (this.translateX.to(-e.x), this.translateY.to(-e.y)) : (this.translateX.set(-e.x), 
this.translateY.set(-e.y));
}, n.prototype.render = function() {
var t = g.merge2(this.translateX.getStyleClass("translateX"), this.translateY.getStyleClass("translateY"));
return r.createElement("surface", e.__assign({
style: t
}, this.props.scrollerState.focusAncestor.hooks, {
onBounds: this.props.onBoundsChanged
}), this.props.children);
}, n;
}(r.Component), E = g.StaticStyle.wrapLegacyStyleSheet({
scrollbarContainer: {
position: "absolute",
top: 0,
bottom: 0,
width: 2
},
inside: {
right: 0
},
outside: {
right: -p.GUTTER
},
scrollIndicator: {
position: "absolute",
top: 0,
right: 0,
left: 0,
backgroundColor: "#ffffffa6"
}
}, "44db0545:603:15"), C = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.shouldKeepScrollbarVisible = !1, e.translateTween = l.Animation.componentTween(e, "44db0545:645:60", 0, l.Animation.presets.list.scroll), 
e.heightTween = l.Animation.componentTween(e, "44db0545:646:57", 0), e.opacityTween = l.Animation.componentTween(e, "44db0545:647:58", 0), 
e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.scrollerState.scrollbarOffset;
}, function(t) {
return e.updateTweens(t);
}, {
fireImmediately: !0
}), this.reaction(function() {
return e.props.scrollerState.scrollbarHeight;
}, function(t) {
e.heightTween.set(t), e.opacityTween.to(e.visible ? 1 : 0), e.keepScrollbarVisibleFor(1e3);
}, {
fireImmediately: !0
}), this.reaction(function() {
return e.visible;
}, function(t) {
e.opacityTween.to(t ? 1 : 0);
}, {
fireImmediately: !0
});
}, n.prototype.shouldComponentUpdate = function(e) {
return !1;
}, n.prototype.updateTweens = function(e) {
this.props.shouldTween && this.props.shouldTween() ? this.translateTween.to(e.y > 0 && isFinite(e.y) ? e.y : 0) : this.translateTween.set(e.y > 0 && isFinite(e.y) ? e.y : 0), 
h.SpartaGlobals.bundleIsConsole && this.keepScrollbarVisibleFor(1e3);
}, n.prototype.keepScrollbarVisibleFor = function(e) {
var t = this;
this.shouldKeepScrollbarVisible = !0, clearTimeout(this.keepScrollbarVisibleTimeout), 
this.keepScrollbarVisibleTimeout = setTimeout(u.action(function() {
t.shouldKeepScrollbarVisible = !1;
}), e);
}, Object.defineProperty(n.prototype, "visible", {
get: function() {
return !(!this.props.scrollerState.canScrollUp && !this.props.scrollerState.canScrollDown) && (!(!this.shouldKeepScrollbarVisible || !1 === this.props.enabled) || ("auto" === this.props.enabled ? this.props.scrollerState.focusAncestor.hasFocusedChild || this.props.scrollerState.isHovered : !0 === this.props.enabled));
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = g.merge3(E.scrollbarContainer, (this.props.position, E.outside), this.opacityTween.getStyleClass("opacity")), t = g.merge3(E.scrollIndicator, this.heightTween.getStyleClass("height"), this.translateTween.getStyleClass("translateY"));
return r.createElement("surface", {
style: e
}, r.createElement("surface", {
style: t
}));
}, n.defaultProps = {
enabled: "auto",
position: "outside",
shouldTween: function() {
return y.focusSystem.controllerMode;
}
}, e.__decorate([ u.observable ], n.prototype, "shouldKeepScrollbarVisible", void 0), 
e.__decorate([ u.action ], n.prototype, "keepScrollbarVisibleFor", null), e.__decorate([ u.computed ], n.prototype, "visible", null), 
n;
}(r.Component);
t.Scrollbar = C;
var I = g.StaticStyle.create({
flex: 1,
flexDirection: "row",
layer: !0,
layerClip: !0
}, "44db0545:782:37"), A = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.softClipTweens = [ l.Animation.componentTween(e, "44db0545:752:39", 0), l.Animation.componentTween(e, "44db0545:753:39", 0), l.Animation.componentTween(e, "44db0545:754:39", 0), l.Animation.componentTween(e, "44db0545:755:39", 0) ], 
e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.reaction(function() {
return e.props.scrollerState.smartSoftClipModifier;
}, function() {
return e.updateSoftClip();
}, {
fireImmediately: !0
});
}, n.prototype.componentDidUpdate = function() {
this.updateSoftClip();
}, n.prototype.updateSoftClip = function() {
var e = this, t = this.props.softClip || [ 0, 0, 0, 0 ];
this.props.scrollerState.smartSoftClipModifier.map(function(n, r) {
return e.softClipTweens[r].set(Math.max(n * t[r], 0));
});
}, n.prototype.render = function() {
var e = this.props, t = e.clipMargin, n = e.maxWidth, o = e.maxHeight, i = g.merge3(I, g.merge4(this.softClipTweens[0].getStyleClass("layerSoftClipTop"), this.softClipTweens[1].getStyleClass("layerSoftClipRight"), this.softClipTweens[2].getStyleClass("layerSoftClipBottom"), this.softClipTweens[3].getStyleClass("layerSoftClipLeft")), g.DynamicStyle.create({
maxWidth: n,
maxHeight: o,
margin: t ? t.map(function(e) {
return -e;
}) : void 0,
padding: t
}, "44db0545:794:15"));
return r.createElement("surface", {
style: i,
onMouseScroll: this.props.onMouseScroll,
onMouseEnter: this.props.onMouseEnter,
onMouseLeave: this.props.onMouseLeave
}, r.createElement("surface", {
style: m.CommonStyles.flex1
}, this.props.children));
}, n = e.__decorate([ s.observer ], n);
}(r.Component);
function w(e, t, n) {
return void 0 === n && (n = 5), Math.abs(e - t) <= n;
}
function P(e) {
var t = e.map(function(e) {
return e.bounds;
}), n = Number.MAX_VALUE, r = Number.MAX_VALUE, o = -Number.MAX_VALUE, i = -Number.MAX_VALUE;
return t.forEach(function(e) {
e && (e.left < n && (n = e.left), e.top < r && (r = e.top), e.right > o && (o = e.right), 
e.bottom > i && (i = e.bottom));
}), new a.Bounds(n, r, o - n, i - r);
}
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(377);
function a(e, t) {
var n = JSON.stringify(t);
return e.currentRequests.list.filter(function(e) {
return JSON.stringify(e.params) === n;
}).length > 0;
}
function s(e, t, n, r) {
return t === l.ERROR;
}
var u = function() {
function e(e, t) {
this.endpoint = e, this.resultHandlers = [], this.currentRequests = new c(this), 
this.config = r.__assign({}, t);
}
return e.prototype.clearHandlers = function() {
this.resultHandlers = [], this.config.requirementDeterminators = [];
}, e.prototype.withThrottling = function(e, t) {
return this.config.throttleTimeout = e, t && t.throttleDeterminator && (this.config.throttleDeterminator = t.throttleDeterminator), 
this;
}, e.prototype.withRetries = function(e, t, n) {
return this.config.maxRetries = e, this.config.retryTimeout = t, n && (n.retryDeterminator && (this.config.retryDeterminator = n.retryDeterminator), 
n.retryParams && (this.config.retryParams = n.retryParams)), this;
}, e.prototype.withRequestPerformer = function(e) {
return this.config.requestPerformer = e, this;
}, e.prototype.addResultHandler = function(e) {
var t = this;
return this.resultHandlers.push(e), function() {
var n = t.resultHandlers.indexOf(e);
t.resultHandlers.splice(n, 1);
};
}, e.prototype.handleResult = function(e) {
return this.resultHandlers.forEach(function(t) {
t(e);
}), e;
}, e.prototype.addRequirement = function(e) {
var t = this.config.requirementDeterminators || [];
return t.push(e), this.config.requirementDeterminators = t, function() {
var n = t.indexOf(e);
t.splice(n, 1);
};
}, e.prototype.checkRequirements = function(e) {
var t = this, n = this.config.requirementDeterminators || [];
if (0 === n.length) return !0;
var r = !0;
return n.forEach(function(n) {
if (!r) return !1;
r = n(t, e);
}), r;
}, e.prototype.request = function(e) {
if (!this.checkRequirements(e)) {
var t = new f(l.UNSATISFIED);
return this.handleResult(t);
}
if (this.config.throttleTimeout) {
var n = this.config.throttleDeterminator || a;
if (this.currentRequests.list.length > 0 && n && n(this, e)) {
var r = new f(l.THROTTLED);
return this.handleResult(r);
}
}
var o = new d(this, e, this.config.requestPerformer), i = new f(l.PENDING, o);
return this.config.throttleTimeout && this.currentRequests.add(o), this.handleResult(i);
}, e;
}();
t.Client = u;
var l, c = function() {
function e(e) {
this.client = e, this.list = [];
}
return e.prototype.add = function(e) {
var t = this, n = this.client.config.throttleTimeout || 0;
n > 0 && (this.list.push(e), setTimeout(function() {
var n = t.list.indexOf(e);
n > -1 && t.list.splice(n, 1);
}, n));
}, e;
}();
!function(e) {
e[e.THROTTLED = 0] = "THROTTLED", e[e.UNSATISFIED = 1] = "UNSATISFIED", e[e.PENDING = 2] = "PENDING", 
e[e.RETRYING = 3] = "RETRYING", e[e.SUCCESS = 4] = "SUCCESS", e[e.ERROR = 5] = "ERROR";
}(l = t.RequestState || (t.RequestState = {}));
var p = [ l.THROTTLED, l.UNSATISFIED, l.ERROR, l.SUCCESS ], d = function() {
function e(e, t, n) {
this.client = e, this.performer = n, this.status = l.PENDING, this.attempt = 1, 
this.params = t, this.performRequest(t);
}
return e.prototype.performRequest = function(e, t) {
var n = this;
void 0 === t && (t = 1), this.params = e, this.attempt = t, this.update(l.PENDING), 
this.performer(this.client.endpoint, e).then(function(e) {
return n.shouldRetry(l.SUCCESS, e, void 0) || n.update(l.SUCCESS, e), null;
}).catch(function(e) {
n.shouldRetry(l.ERROR, void 0, e) || n.update(l.ERROR, void 0, e);
});
}, e.prototype.update = function(e, t, n) {
this.status = e, this.response = t, this.error = n;
}, e.prototype.shouldRetry = function(e, t, n) {
var r = this, o = this.client.config;
if (o.maxRetries && this.attempt <= o.maxRetries) {
var i = o.retryDeterminator || s;
if (i && i(this, e, t, n)) {
var a = o.retryParams ? o.retryParams(this) : this.params;
return setTimeout(function() {
r.performRequest(a, r.attempt + 1);
}, o.retryTimeout || 0), this.update(l.RETRYING), !0;
}
}
}, r.__decorate([ o.observable ], e.prototype, "status", void 0), r.__decorate([ o.action ], e.prototype, "update", null), 
e;
}();
t.Request = d;
var f = function() {
function t(e, t) {
this.initialStatus = e, this.request = t, this.disposers = [];
}
return Object.defineProperty(t.prototype, "status", {
get: function() {
return this.request ? this.request.status : this.initialStatus;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "error", {
get: function() {
return this.request ? this.request.error : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "response", {
get: function() {
return this.request ? this.request.response : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isComplete", {
get: function() {
switch (this.status) {
case l.PENDING:
case l.RETRYING:
return !1;

case l.UNSATISFIED:
case l.THROTTLED:
case l.SUCCESS:
case l.ERROR:
return !0;

default:
throw i.unexhaustiveSwitch(this.status);
}
},
enumerable: !0,
configurable: !0
}), t.prototype.dispose = function() {
this.disposers.forEach(function(e) {
e();
});
}, t.prototype.onStatusChange = function(t, n, r) {
var i = this;
void 0 === r && (r = !1), "function" == typeof n && this.disposers.push(o.reaction(function() {
return i.status;
}, function(o) {
o === t && (n(), r && e(function() {
return i.dispose();
}));
}, {
fireImmediately: !0
}));
}, t.prototype.onThrottled = function(e) {
return this.onStatusChange(l.THROTTLED, function() {
return e();
}, !0), this;
}, t.prototype.onPending = function(e) {
return this.onStatusChange(l.PENDING, function() {
return e();
}), this;
}, t.prototype.onUnsatisfied = function(e) {
return this.onStatusChange(l.UNSATISFIED, function() {
return e();
}, !0), this;
}, t.prototype.onRetrying = function(e) {
return this.onStatusChange(l.RETRYING, function() {
return e();
}), this;
}, t.prototype.onSuccess = function(e) {
var t = this;
return this.onStatusChange(l.SUCCESS, function() {
return e(t.response);
}, !0), this;
}, t.prototype.onError = function(e) {
var t = this;
return this.onStatusChange(l.ERROR, function() {
return e(t.error || new Error("An unknown error occured."));
}, !0), this;
}, t.prototype.onFinished = function(t) {
var n = this;
p.forEach(function(r) {
n.onStatusChange(r, function() {
e(function() {
return t();
});
});
});
}, r.__decorate([ o.computed ], t.prototype, "status", null), r.__decorate([ o.computed ], t.prototype, "isComplete", null), 
t;
}();
t.Result = f;
}).call(this, n(276).setImmediate);
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o, i = n(0), a = n(10), s = n(193), u = n(913), l = n(3), c = n(374), p = n(92), d = e.get("Telemetry"), f = new (function() {
function e() {
this.sources = {};
}
return e.prototype.add = function(e, t) {
this.sources[e] = t;
}, e.prototype.clear = function() {
this.sources = {};
}, e.prototype.get = function() {
var e = this;
return Object.keys(this.sources).map(function(t) {
return "recommendation" === t ? "recommendation/" + e.sources[t].group : t;
}).filter(function(e) {
return !!e;
});
}, e;
}())();
function m(e, t, n, r) {
a.gaStore.trackEvent(e, t, n, r);
}
function h() {
var e = {
gameType: "online",
gameMode: "sparta",
sessionDuration: a.pinStore.getSessionTime()
};
a.pinStore.trackEvent(s.PinEvents.SpartaEnd, e);
}
function g(e, t) {
d.info("trackJoinSource:", e, t), f.add(e, t);
}
function y(e, t, n, r) {
var o = a.locationStore.location.path.replace(t.game || "", ""), i = "" === o ? "home" : o.replace(/^\//, ""), u = {
messageType: "in-game",
messageService: "sparta-recommendation",
contentType: t.recommendationType,
content: r || "",
messageFormat: t.recommendationType,
clientState: "foreground",
status: e,
sdur: n,
messageId: t.telemetryId || t.id,
segmentId: a.pinStore.getSegmentString(t.game),
batchId: t.batchId,
destinationId: "number" == typeof t.positionIndex ? t.positionIndex.toString() : "",
destinationName: i,
custom: {
rec_segment_id: t.segmentId
}
};
if (c.isFilterRecommendation(t)) {
var l = t.filter, p = l.gameModes ? Object.keys(l.gameModes)[0] : void 0, d = l.maps ? Object.keys(l.maps)[0] : void 0;
u.custom.mode = p, u.custom.map = d;
}
a.pinStore.trackEvent(s.PinEvents.Message, u);
}
function S(e) {
a.gaStore.trackScreen("funnel/" + e);
}
function v(e, t) {
d.info("setCustomDimension", s.DimensionsLookup(e), t), a.gaStore.setCustomDimension(e, t);
}
function _(e, t) {
d.info("incrementMetric", s.MetricsLookup(e), t), a.gaStore.setCustomMetric(e, t);
}
t.initializeTelemetry = function b(e) {
var t = e.twinkle.buildInfo, n = e.stores, r = n.settingsStore, o = n.presenceStateStore, i = n.onlineState, a = e.stores, c = a.gaStore, p = a.pinStore;
c.useLogger(d.extend("GA")), p.useLogger(d.extend("PIN")), c.setProps({
aip: 1,
tid: "UA-63589416-1",
an: "Sparta-" + t.bundlePlatform,
aid: t.bundlePlatform + "-tunguska",
av: t.bundlePlatform + "-tunguska-release-bf1-lsu35-26385",
ds: t.bundlePlatform
}), v(s.Dimensions.Platform, t.bundlePlatform), v(s.Dimensions.BuildNumber, "26385"), 
p.platform = t.bundlePlatform, p.build = "release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod", 
l.reaction(function() {
return r.isTelemetryEnabled && o.hasInternet;
}, function(e) {
e ? (d.info("Enabling google analytics"), c.setEnabled(!0)) : (d.info("Disabling google analytics"), 
c.setEnabled(!1));
}, {
fireImmediately: !0
}), l.reaction(function() {
return r.isTelemetryEnabled && i.hasGatewaySession;
}, function(e) {
e ? (d.info("Enabling telemetry upload"), p.setEnabled(!0)) : (d.info("Disabling telemetry upload"), 
p.setEnabled(!1));
}, {
fireImmediately: !0
}), c.setUserIdGetter(function() {
return i.sessionUserId && i.sessionUserId.getPlatformId() || "";
}), u.initializeBindings(e);
}, t.trackError = function T(e) {
a.pinStore.trackEvent(s.PinEvents.Error, e);
}, t.trackEvent = m, t.trackException = function E(e, t) {
void 0 === t && (t = !1), a.gaStore.trackException(e, t);
}, t.trackSessionStart = function C(e) {
var t = e.stores, n = t.entitlementStore, r = t.nativePropertiesStore, o = e.stores.pinStore;
l.when(function() {
return n.hasLoaded;
}, function() {
var e = n.hasPremiumAccess(r.getHostingGameId());
o.trackEvent(s.PinEvents.SessionStart, {
premium: e
});
});
}, t.trackLogin = function I(e, t) {
var n = e.stores, r = n.entitlementStore, o = n.nativePropertiesStore, i = e.stores.pinStore;
l.when(function() {
return r.hasLoaded;
}, function() {
var e = r.hasPremiumAccess(o.getHostingGameId());
i.trackEvent(s.PinEvents.Login, {
status: t ? "success" : "error",
premium: e
});
});
}, t.trackLogout = function A(e) {
a.pinStore.trackEvent(s.PinEvents.Logout, {
reason: e ? "normal" : "error"
});
}, t.trackSpartaStart = function w() {
a.pinStore.generateGameSessionId(), a.pinStore.trackEvent(s.PinEvents.SpartaStart, {
gameType: "online",
gameMode: "sparta"
});
}, t.trackSpartaEnd = h, t.trackGameStart = function P(e) {
e && (o = new Date().getTime(), r = i.__assign({}, {
gameType: "",
gameMode: "",
params: {}
}, e), h(), a.pinStore.generateGameSessionId(), a.pinStore.trackEvent(s.PinEvents.GameStart, r));
}, t.trackGameEnd = function R() {
if (r) {
var e = Math.round((Date.now() - o) / 1e3), t = i.__assign({}, r, {
sessionDuration: a.pinStore.getSessionTime(),
careerPlayDuration: e
});
a.pinStore.trackEvent(s.PinEvents.GameEnd, t);
}
}, t.trackTransaction = function O(e) {
var t = i.__assign({}, e, {
transactionCode: e.transactionCode || "entitlement",
transactionSource: e.transactionSource || "battlepack_store"
});
a.pinStore.trackEvent(s.PinEvents.Transaction, t);
}, t.trackPurchase = function x(e, t, n, r, o, i) {
void 0 === i && (i = 1), a.gaStore.trackPurchase(e, t, n, r, o, i);
}, t.trackJoinSource = g, t.trackJoinSources = function k(e, t) {
void 0 === t && (t = !1), d.info("trackJoinSources:", arguments), f.get().forEach(function(t) {
a.gaStore.trackEvent("ServerJoin", e, t);
}), t && f.clear();
}, t.trackMultiplayerJoin = function L(e, t, n) {
var r = a.nativePropertiesStore.getHostingGame(), o = a.partyStoreLoader.get().party, i = !!a.entitlementStore.hasLoadedGame(r.gameId) && a.entitlementStore.hasPremiumAccess(r.gameId), u = {
joinStatus: t ? "found" : "success",
joinMethod: t ? "matchmaking" : "direct",
gameMode: e.mapMode,
map: e.mapName,
networkTopology: "client_server_dedicated",
gamePhase: "pre-game",
blazeGameSessionId: e.gameId,
gid: e.guid,
friends: (o ? o.members.map(function(e) {
return e.user.spartaUserId.nucleusId || "";
}) : n).join(","),
source: f.get().join(","),
isPremium: i,
isPremiumFriendsEnabled: a.freemiumStore.isInPremiumParty,
sc_freemium: -1,
partySize: o ? o.size : 0,
partyPremiumSponsors: o ? o.premiumMembers.length : 0,
matchmakingDuration: t ? Math.round(t.timeElapsed / 1e3) : void 0
};
a.pinStore.trackEvent(s.PinEvents.MultiplayerJoin, u), o && a.gaStore.trackEvent("Party", "MP Join", a.freemiumStore.isInPremiumParty ? "Premium" : "Non-Premium", o.size), 
t && a.gaStore.trackTimer("Matchmaking", "Success", t.timeElapsed);
}, t.trackRecommendationCard = y, t.trackRecommendationCardClick = function M(e, t) {
if (y("click", e, t ? (Date.now() - t) / 1e3 : 0), _(s.Metrics.RecommendationClick), 
c.isFilterRecommendation(e)) {
S("recommendation/filter/interaction");
var n = new p.GameFilter(e.filter);
Object.keys(n.categories).map(function(e) {
n.categories[e].values.forEach(function(t, n) {
a.gaStore.trackEvent("RecommendationFilterInteraction", e, n, "on" === t ? 1 : -1);
});
});
}
a.gaStore.trackEvent("RecommendationClick", e.recommendationType, e.telemetryId, e.positionIndex);
}, t.trackRecommendationCardImpression = function D(e, t, n) {
y("impression", e, n ? (Date.now() - n) / 1e3 : 0, t);
}, t.trackScreenState = function N(e) {
a.gaStore.trackScreen(a.locationStore.location.path + "/" + e);
}, t.trackFunnel = S, t.trackScreen = function F(e) {
var t = e.split("/").shift();
t && "funnel" !== t && v(s.Dimensions.Section, t), a.gaStore.trackScreen(e);
}, t.trackPlatoonCreated = function G(e) {
_(s.Metrics.PlatoonCreated, 1), v(s.Dimensions.Platoons, 1), a.gaStore.trackEvent("Platoons", "Created Platoon"), 
a.pinStore.trackEvent(s.PinEvents.Group, {
type: "strong",
groupClass: "platoon",
groupId: e,
status: "create"
});
}, t.trackPlatoonCreateFailed = function U(e) {
a.gaStore.trackEvent("Platoons", "Failed to Create Platoon", e.toString()), a.pinStore.trackEvent(s.PinEvents.Error, {
errorType: "connection_failure",
errorId: "failed_to_create_platoon",
categoryId: e.toString()
});
}, t.trackPlatoonDisbanded = function B() {
a.gaStore.trackEvent("Platoons", "Disbanded Platoon");
}, t.trackPremiumPassPageEvent = function j(e) {
a.gaStore.trackEvent("PremiumPassPage", e);
}, t.trackPremiumPassPageScreen = function H(e) {
a.gaStore.trackScreen("premiumpassinfo/" + e);
}, t.trackPlatoonInfoUpdated = function z(e) {
a.gaStore.trackEvent("Platoons", "Updated Platoon Info", e);
}, t.trackPlatoonInfoUpdateFailed = function V(e, t) {
a.gaStore.trackEvent("Platoons", "Failed to Update", e), a.pinStore.trackEvent(s.PinEvents.Error, {
errorType: "connection_failure",
errorId: "failed_to_platoon_info",
categoryId: t.toString()
});
}, t.trackPlatoonEmblemUpdated = function W(e) {
a.gaStore.trackEvent("Platoons", "Set Platoon Emblem", e);
}, t.trackPlatoonEmblemUpdateFailed = function q(e) {
a.gaStore.trackEvent("Platoons", "Failed to Set Platoon Emblem", e.toString()), 
a.pinStore.trackEvent(s.PinEvents.Error, {
errorType: "connection_failure",
errorId: "failed_to_set_platoon_emblem",
categoryId: e.toString()
});
}, t.trackPlatoonStartedRepresenting = function K(e, t) {
a.gaStore.trackEvent("Platoons", "Started representing Platoon", e);
}, t.trackPlatoonStoppedRepresenting = function X(e, t) {
a.gaStore.trackEvent("Platoons", "Stopped representing Platoon", e);
}, t.trackPlatoonJoined = function Y(e, t, n, r) {
void 0 === r && (r = !1), _(s.Metrics.PlatoonJoined), v(s.Dimensions.PlatoonMember, e), 
a.gaStore.trackEvent("Platoons", "Join", e), r && (_(s.Metrics.PlatoonFirstJoin), 
a.gaStore.trackEvent("Platoons", "First Join", t), a.pinStore.trackEvent(s.PinEvents.Milestone, {
type: "platoons",
moment: "success",
milestoneName: "first_platoon_join",
gameMode: "sparta"
})), a.pinStore.trackEvent(s.PinEvents.Group, {
type: "strong",
groupClass: "platoon",
groupId: t,
status: "add_member",
memberId: n,
statusCode: e,
memberType: "persona"
});
}, t.trackPlatoonAppliedToJoin = function J(e, t) {
a.gaStore.trackEvent("Platoons", "Applied to Join"), a.pinStore.trackEvent(s.PinEvents.Group, {
type: "strong",
groupClass: "platoon",
groupId: t,
status: "request_member",
memberId: e,
memberType: "persona"
});
}, t.trackPlatoonApplicationRemoved = function Q(e) {
a.gaStore.trackEvent("Platoons", "Removed Application to Join", e);
}, t.trackPlatoonLeft = function Z(e, t, n) {
void 0 === t && (t = ""), void 0 === n && (n = ""), a.gaStore.trackEvent("Platoons", "Left Platoon", e), 
a.pinStore.trackEvent(s.PinEvents.Group, {
type: "strong",
groupClass: "platoon",
groupId: t,
status: "remove_member",
memberId: n,
statusCode: e,
memberType: "persona"
});
}, t.trackPlayWithPlatoon = function $(e, t) {
void 0 === t && (t = !1), _(s.Metrics.PlatoonPlay), v(s.Dimensions.PlatoonMember, "Play"), 
g("platoon", null), a.gaStore.trackEvent("Platoons", "Play with Platoon", e), t && (_(s.Metrics.PlatoonFirstPlay), 
a.gaStore.trackEvent("Platoons", "First Play", e), a.pinStore.trackEvent(s.PinEvents.Milestone, {
type: "platoons",
moment: "success",
milestoneName: "first_platoon_play",
gameMode: "sparta"
}));
}, t.trackPlatoonServerJoin = function ee(e) {
a.gaStore.trackEvent("Platoons", "Platoon Server Joined", e);
}, t.trackPlatoonReported = function te(e) {
a.gaStore.trackEvent("Platoons", "Reported Platoon", e);
}, t.trackPlatoonRoleChanged = function ne(e, t) {
a.gaStore.trackEvent("Platoons", "Changed Role", e + "-" + t);
}, t.trackPlatoonRentedServedAssociated = function re(e) {
a.gaStore.trackEvent("Platoons", "Linked Rented Server to Platoon", e);
}, t.trackPlatoonRentedServedDisassociated = function oe(e) {
a.gaStore.trackEvent("Platoons", "Unlinked Rented Server from Platoon", e);
}, t.trackLocation = function ie(e) {
var t = e.args.tab ? e.path + "/" + e.args.tab : e.path;
e.cause && v(s.Dimensions.LocationChangeCause, e.cause), a.gaStore.trackScreen(t);
}, t.trackPresence = function ae(e) {
a.gaStore.trackEvent("Presence", e);
}, t.setDimension = v, t.incrementMetric = _, t.trackCteSignupVisit = function se() {
S("cte/signupvisit"), a.pinStore.trackEvent(s.PinEvents.Registration, {
origin: "cte",
status: "pop_up_seen"
});
}, t.trackCteRegistration = function ue() {
d.info("trackCteRegistration"), S("cte/signup/register"), a.pinStore.trackEvent(s.PinEvents.Registration, {
origin: "cte",
status: "code_verified"
});
}, t.trackCteRegistrationError = function le(e) {
d.info("trackCteRegistrationError"), S("cte/signup/error"), m("CTE", "Register", "Error: " + e.message), 
a.pinStore.trackEvent(s.PinEvents.Registration, {
origin: "cte",
status: "error",
statusCode: e.message
});
}, t.trackCteRegistrationSuccess = function ce() {
d.info("trackCteRegistrationSuccess"), m("CTE", "Register", "Success"), S("cte/signup/success"), 
a.pinStore.trackEvent(s.PinEvents.Registration, {
origin: "cte",
status: "profile_completed"
});
}, t.trackUserFacingError = function pe(e) {
m("UserError", e.action, e.label), a.pinStore.trackEvent(s.PinEvents.Error, {
errorType: "connection_failure",
categoryId: e.action,
errorId: e.label,
serverType: "Sparta"
});
}, t.trackServiceAssignments = function de(e, t) {
m("ServiceAssignment", e, t);
}, t.trackCompletedAssignments = function fe(e) {
v(s.Dimensions.CompletedAssignments, e);
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(9);
!function(e) {
e.SSL = "SSL", e.XL = "XL", e.L = "L", e.SSM = "SSM", e.M = "M", e.S = "S", e.SW = "SW";
}(t.CardSize || (t.CardSize = {})), function(e) {
e.S = "S";
}(r || (r = {}));
t.CARD_WIDTH = o.SpartaGlobals.bundleIsPC ? {
cells: {
SSL: 9.6,
XL: 6,
L: 8,
SSM: 4.8,
M: 4,
S: 5,
SW: 5.75
},
parts: {
S: 8
}
} : {
cells: {
SSL: 12,
XL: 6,
L: 10,
SSM: 6,
M: 5,
S: 4,
SW: 5.75
},
parts: {
S: 8
}
}, t.CARD_HEIGHT = o.SpartaGlobals.bundleIsPC ? {
cells: {
SSL: 43.5,
XL: 55,
L: 35.5,
SSM: 43.5,
M: 35.5,
S: 22,
SW: 22
},
parts: {
S: 3.55
}
} : {
cells: {
SSL: 55,
XL: 55,
L: 45,
SSM: 55,
M: 45,
S: 34,
SW: 22
},
parts: {
S: 3.4
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(932), i = n(6), a = n(9), s = 0;
var u = function() {
return function e(t) {
var n = this;
this.showCloseButton = !1, "string" == typeof t && (t = {
content: t
}), this.createdDate = new Date(), this.id = t.id || "popup" + s++, this.group = t.group || "default", 
this.content = function u(e) {
return "string" == typeof e ? r.createElement(i.Text, {
value: e
}) : e;
}(t.content);
var l = t.inputs || [];
this.createButtons = void 0 !== t.createButtons ? t.createButtons : a.SpartaGlobals.bundleIsPC, 
this.fullScreen = void 0 !== t.fullScreen && t.fullScreen, this.onTop = void 0 !== t.onTop && t.onTop, 
this.onClose = t.onClose, this.containContent = void 0 === t.containContent || t.containContent, 
this.centerContent = void 0 === t.centerContent || t.centerContent, this.texture = t.texture, 
this.backgroundColor = t.backgroundColor, this.requireOnline = t.requireOnline, 
this.disableBlur = t.disableBlur, this.buttonStyle = t.buttonStyle, this.useInputStore = t.useInputStore || !1, 
this.leftAlignInputs = void 0 !== t.leftAlignInputs && t.leftAlignInputs, "string" == typeof t.priority ? this.priority = parseInt(t.priority, 10) : "number" == typeof t.priority ? this.priority = t.priority : this.priority = 0, 
this.stackable = void 0 !== t.stackable && t.stackable, this.instantShow = void 0 !== t.instantShow && t.instantShow, 
this.inputs = l.map(function(e) {
return new o.PopupInput(Object.assign({}, e, {
popup: n
}));
});
var c = t.content;
"string" != typeof c && "string" != typeof c.type && (this.showCloseButton = function p(e) {
return !!e.showCloseButton;
}(c.type));
};
}();
t.Popup = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(26), a = n(12), s = n(11), u = n(75), l = n(5), c = n(9), p = n(33), d = n(22), f = n(7), m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = f.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getInput = function() {
if (d.focusSystem.controllerMode && this.props.retryAction) return [ new a.Input({
visible: !0,
label: __("ID_SPARTA_ACTION_RETRY"),
action: this.props.retryAction,
key: s.Keys.Accept
}) ];
}, n.prototype.render = function() {
var e = this.props, t = e.centerVertically, n = e.textWidth, i = this.sparta.theme.getTheme(this).emptyState, a = l.merge2(i.container({
centerVertically: t
}), this.props.style || l.emptyStyle), s = this.props.text ? r.createElement(o.Text, {
value: this.props.text.toUpperCase(),
size: "M",
type: p.TextType.NORMAL,
style: i.text({
textWidth: n
})
}) : void 0, d = this.props.subText ? r.createElement(o.Text, {
value: this.props.subText,
size: "S",
style: i.subText({
textWidth: n
}),
type: i.subTextType
}) : void 0, f = c.SpartaGlobals.bundleIsPC && this.props.retryAction && r.createElement(u.Button, {
name: "05d480a2:70:27",
text: __("ID_SPARTA_ACTION_RETRY"),
action: this.props.retryAction,
style: i.btn
});
return r.createElement("surface", {
style: a
}, s, d, f, this.props.children);
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ i.input ], n);
}(r.Component);
t.EmptyState = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(52), i = function() {
function e(e, t, n, r, o, i, a, s, u, l, c) {
this.platform = e, this.buildConfig = t, this.scriptEngine = n, this.fbBranchName = r, 
this.fbDatabaseId = o, this.features = i, this.functions = a, this.surfaceProps = s, 
this.codeChangeList = u, this.dataChangeList = l, this.saveGameVersion = c;
}
return e.prototype.isFeatureSupported = function(e) {
var t = this.features[e];
return !!t && t.enabled;
}, e.prototype.isFunctionSupported = function(e) {
return !!this.functions[e];
}, e.prototype.isAlpha = function() {
return -1 !== this.fbDatabaseId.indexOf("Alpha") || -1 !== this.fbBranchName.indexOf("Alpha");
}, e.prototype.isBeta = function() {
return -1 !== this.fbDatabaseId.indexOf("Beta") || -1 !== this.fbBranchName.indexOf("Beta");
}, e.prototype.isCTE = function() {
return -1 !== this.fbDatabaseId.indexOf("CTE");
}, e.prototype.isEventBuild = function() {
return -1 !== this.fbDatabaseId.indexOf("Events");
}, e.prototype.isRetail = function() {
return "retail" === this.buildConfig;
}, e.prototype.hasTextureFadeIn = function() {
return this.surfaceProps.hasOwnProperty("textureFadeInTime");
}, e.prototype.hasMutableDefaultSurface = function() {
return this.hasTextureFadeIn();
}, e.prototype.isEndUserBuild = function() {
return "final" !== this.buildConfig && "performance" !== this.buildConfig && "release" !== this.buildConfig && "debug" !== this.buildConfig;
}, e.prototype.getSurfaceProps = function() {
var e = Object.keys(this.surfaceProps);
return 0 === e.length ? [ "enable", "zIndex", "zOffset", "blendMode", "layer", "layerOpacity", "layerBlur", "layerBlurStrength", "layerBlurTintColor", "layerBlurSamples", "layerBlurPass", "layerClip", "layerSoftClip", "layerGrabBackground", "layerClearColor", "layerGrayScale", "layerStereoPostProcess", "layerStereoPostProcessIntensity", "layerStereoPostProcessColorShift", "layerStereoPostProcessScanlines", "layerStereoPostProcessDistort", "localBounds", "focusable", "events", "opacity", "selfOpacity", "backgroundColor", "borderColor", "color", "grayScale", "text", "textEdgeOffset", "textSoftness", "textLetterSpacing", "textLineSpacing", "enableMouseEvents", "texture", "video", "textureMode", "textureAlign", "textureOffset", "textureOffsetX", "textureOffsetY", "textureScale", "textureRotateZ", "textureBorder", "texture1", "video1", "texture1Mode", "texture1Align", "texture1Offset", "texture1OffsetX", "texture1OffsetY", "texture1Scale", "texture1RotateZ", "texture1Border", "texture2", "video2", "texture2Mode", "texture2Align", "texture2Offset", "texture2OffsetX", "texture2OffsetY", "texture2Scale", "texture2RotateZ", "texture2Border", "texture3", "video3", "texture3Mode", "texture3Align", "texture3Offset", "texture3OffsetX", "texture3OffsetY", "texture3Scale", "texture3RotateZ", "texture3Border", "width", "height", "minWidth", "maxWidth", "minHeight", "maxHeight", "flex", "flexWrap", "flexDirection", "fontFamily", "fontSize", "justifyContent", "alignContent", "alignItems", "alignSelf", "textAlign", "wordWrap", "whiteSpace", "position", "margin", "marginTop", "marginRight", "marginBottom", "marginLeft", "padding", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "left", "top", "right", "bottom", "translate", "translateX", "translateY", "translateZ", "rotate", "rotateX", "rotateY", "rotateZ", "scale", "scaleX", "scaleY", "borderSize", "shaderUrl", "shaderProgram", "shaderSurfaceUv", "spriteAnimation", "borderRadius" ] : ([ "texture", "texture1", "texture2", "texture3", "spriteAnimation" ].forEach(function(t) {
-1 === e.indexOf(t) && e.push(t);
}), e);
}, e.prototype.isRemoteEngine = function() {
return "remote" === this.scriptEngine;
}, e.prototype.hasBatchedRemoteCalls = function() {
return this.isRemoteEngine() && this.isFeatureSupported("BatchedRemoteCalls");
}, e.prototype.hasLoadAssetRequest = function() {
return this.isFeatureSupported("LoadAssetRequest");
}, e.prototype.hasConsoleCalls = function() {
return this.isFeatureSupported("ConsoleCalls");
}, e.prototype.hasDebugHttp = function() {
return this.isFeatureSupported("DebugHttp");
}, e.prototype.hasGetStyle = function() {
return this.isFunctionSupported("getStyle");
}, e.prototype.hasVerifyCodeSignature = function() {
return this.isFeatureSupported("VerifyCodeSignature");
}, e.prototype.hasUseTextureUrl = function() {
return this.isFeatureSupported("UseTextureUrl");
}, e.prototype.hasJsStartSync = function() {
return this.isFeatureSupported("JsStartSync");
}, e.prototype.hasJsCreateAtlas = function() {
return this.isFeatureSupported("JsCreateAtlas");
}, e.prototype.hasAudioBus = function() {
return this.isFeatureSupported("AudioBus");
}, e.prototype.hasVideoSaveCacheOnDisk = function() {
return this.isFeatureSupported("VideoSaveCacheOnDisk");
}, e.prototype.hasVideoRenderWorld = function() {
return this.isFeatureSupported("VideoRenderWorld");
}, e.prototype.hasSetGlyphSamplesSync = function() {
return this.isFeatureSupported("SetGlyphSamplesSync");
}, e.prototype.hasSetGlyphTextureSizeSync = function() {
return this.isFeatureSupported("SetGlyphTextureSizeSync");
}, e.prototype.hasSetFullscreenResampleSync = function() {
return this.isFeatureSupported("SetFullscreenResampleSync");
}, e.prototype.hasSurfaceDebugHighlight = function() {
return this.isFeatureSupported("SurfaceDebugHighlight");
}, e.prototype.hasOpenUrl = function() {
return this.isFeatureSupported("OpenUrl");
}, Object.defineProperty(e.prototype, "isPC", {
get: function() {
return "win64" === this.platform;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isXboxOne", {
get: function() {
return "xboxone" === this.platform;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isConsole", {
get: function() {
return !this.isPC;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "bundlePlatform", {
get: function() {
return this.isPC ? "PC" : this.isPS4 ? "PS4" : this.isXboxOne ? "XBOXONE" : "UNKNOWN";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPS4", {
get: function() {
return "ps4" === this.platform;
},
enumerable: !0,
configurable: !0
}), e.prototype.hasSDF = function() {
return this.hasConsoleCalls();
}, e;
}();
t.BuildInfo = i, t.getBuildInfo = function a() {
if (!r) try {
var e = o.nativeApi.getBuildInfoSync(), t = e.features, n = e.platform, a = e.buildConfig, s = e.scriptEngine, u = e.branchName || "", l = e.databaseId || "", c = e.functions || {}, p = e.surfaceProps || {}, d = e.codeChangeList, f = e.dataChangeList, m = e.saveGameVersion;
r = new i(n, a, s, u, l, t, c, p, d, f, m);
} catch (e) {
r = new i("unknown", "unknown", "unknown", "unknown", "unknown", {}, {}, {}, void 0, void 0, void 0);
}
return r;
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(12), i = n(25), a = n(38), s = n(66), u = n(11), l = n(8), c = n(6), p = n(75), d = n(112), f = n(19), m = n(29), h = n(36), g = n(5), y = n(3), S = n(383), v = n(7), _ = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = v.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props, t = this.sparta.theme.getTheme(this).popup, n = t.message, o = [];
return e.title && o.push(r.createElement(c.Text, {
key: "title",
value: e.title.toUpperCase(),
size: t.titleTextSize,
type: t.titleTextType,
style: t.header
})), e.image ? o.push(r.createElement("surface", {
key: "image",
style: g.merge2(g.DynamicStyle.create({
texture: e.image
}, "8ade4bb3:53:52"), t.image)
})) : e.customContent && o.push(e.customContent), e.switchTitleAndImage && (o = o.reverse()), 
r.createElement("surface", {
style: t.container
}, o, r.createElement(c.Text, {
value: e.message,
style: n,
size: t.messageTextSize,
type: t.messageTextType
}));
}, n.contextTypes = v.SpartaContext.contextTypes, n;
}(r.Component);
function b(e, n, r, i) {
return void 0 === i && (i = 500), new o.Input({
label: r || t.buttonLabels.confirm(),
key: n,
blockInputFor: i,
action: e
});
}
t.buttonLabels = {
confirm: function() {
return __("ID_SPARTA_ACTION_OK", !0);
},
deny: function() {
return __("ID_SPARTA_ACTION_CANCEL", !0);
},
continue: function() {
return __("ID_SPARTA_ACTION_CONTINUE", !0);
}
}, t.createInput = b;
var T = function() {
return function e(t, n) {
this.action = t, this.label = n;
};
}();
function E(e, n, o, s, l, c) {
return void 0 === l && (l = !1), new Promise(function(p) {
i.display(new a.Popup({
content: r.createElement(_, {
message: e,
title: n,
image: o,
switchTitleAndImage: l
}),
inputs: [ b(p, u.Keys.Accept, t.buttonLabels.confirm()), b(s.action, s.key, s.label) ],
createButtons: !0,
onTop: !0,
buttonStyle: c
}));
});
}
function C(n, o, s, l, c, p, d) {
return void 0 === c && (c = null), void 0 === p && (p = {}), void 0 === d && (d = {}), 
new Promise(function(m, h) {
var g = c ? {
id: c
} : {}, y = d.blockInputFor ? d.blockInputFor : 500;
i.display(new a.Popup(e.__assign({
content: r.createElement(_, {
message: n,
title: o
}),
inputs: function S(e, n, r, o, i) {
return void 0 === i && (i = 0), f.localeRearrange([ b(e, u.Keys.Accept, r || t.buttonLabels.confirm(), i), b(n, u.Keys.Decline, o || t.buttonLabels.deny()) ], !0);
}(function() {
return m(!0);
}, function() {
return m(!1);
}, s, l, y),
createButtons: !0,
onTop: !0
}, p, g)));
});
}
t.UserError = T, t.getMessageContent = function I(e, t) {
return r.createElement(_, {
message: e,
title: t
});
}, t.errorWithImageAndOption = function A(e, t, n, r, o, i, a) {
return void 0 === i && (i = !1), h.trackUserFacingError(e), E(t, n, r, o, i, a);
}, t.alertWithImageAndOption = E, t.loading = function w(t, n, o) {
return new Promise(function(s) {
var u = t ? {
id: t
} : {};
i.display(new a.Popup(e.__assign({
content: r.createElement(_, {
message: o || "",
title: n,
customContent: r.createElement(m.Spinner, {
key: "spinner",
style: S.PopupStyles.spinner,
large: !0
}),
switchTitleAndImage: !0
}),
onClose: s,
onTop: !0
}, u)));
});
}, t.displayLoadingUntilDefined = function P(e, t, n) {
var o = s.autoId("when_loading"), u = !1, l = function() {
u || (u = !0, i.close(o));
};
i.display(new a.Popup({
content: r.createElement(_, {
message: n.message || "",
title: n.title,
customContent: r.createElement(m.Spinner, {
key: "spinner",
style: S.PopupStyles.spinner,
large: !0
}),
switchTitleAndImage: !0
}),
onTop: !0,
id: o
}));
var c = setTimeout(function() {
l(), p(), n.onTimeout();
}, n.timeout), p = y.autorun(function() {
var n = e();
void 0 !== n && y.untracked(function() {
l(), p(), clearTimeout(c), t(n);
});
});
return function() {
l(), p(), c && clearTimeout(c);
};
}, t.confirm = C, t.legacyConfirm = function R(t, n, r, o, i, a, s) {
return void 0 === i && (i = null), void 0 === a && (a = {}), void 0 === s && (s = {}), 
e.__awaiter(this, void 0, Promise, function() {
return e.__generator(this, function(e) {
switch (e.label) {
case 0:
return [ 4, C(t, n, r, o, i, a, s) ];

case 1:
if (!e.sent()) throw new Error("confirm onDeny callback triggered");
return [ 2 ];
}
});
});
};
var O = function(n) {
function o(e, t) {
var o = n.call(this, e, t) || this;
return o.sparta = v.SpartaContext.getFromComponent(o), o.inputField = r.createRef(), 
o.onOk = function() {
o.inputField.current && o.props.onOk(o.inputField.current.state.value), o.props.popupInfo && i.close(o.props.popupInfo.id);
}, o.onOkClicked = function() {
o.props.onOkValidate && o.inputField.current ? o.props.onOkValidate(o.inputField.current.state.value).then(function() {
return o.onOk();
}).catch(function(e) {
console.error(e), o.setState({
isValid: !1,
validationMessage: e
});
}) : o.onOk();
}, o.onCancel = function() {
o.props.popupInfo && i.close(o.props.popupInfo.id), o.props.onCancel();
}, o.onTypingInput = function(e) {
if (!o.sparta.twinkle.buildInfo.isConsole) {
var t = o.isTypingValid(e);
o.state.isValid !== t && o.setState({
isValid: t
});
}
}, o.state = {
isValid: !0,
validationMessage: null
}, o;
}
return e.__extends(o, n), o.prototype.getInput = function() {
return [ b(this.onCancel, u.Keys.Decline, t.buttonLabels.deny()) ];
}, o.prototype.isTypingValid = function(e) {
var t = this.props, n = t.minLength, r = t.maxLength, o = t.onTypingValidate, i = e.trim(), a = i.length >= n && i.length <= r;
return a && o ? o(i) : a;
}, o.prototype.renderButtons = function() {
var e = this.sparta.twinkle.buildInfo, n = this.sparta.theme.getTheme(this).popup;
return r.createElement("surface", {
style: n.promptButtonContainer
}, r.createElement(p.Button, {
name: "8ade4bb3:398:27",
text: t.buttonLabels.confirm(),
style: n.promptButton,
textSize: n.buttonTextSize,
action: this.onOkClicked,
disabled: !this.state.isValid && e.isPC
}), e.isPC ? r.createElement(p.Button, {
name: "8ade4bb3:407:31",
text: t.buttonLabels.deny(),
style: n.promptButton,
textSize: n.buttonTextSize,
action: this.onCancel
}) : null);
}, o.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).popup, t = this.renderButtons();
return r.createElement("surface", {
style: e.container
}, this.props.title ? r.createElement(c.Text, {
value: this.props.title.toUpperCase(),
size: e.titleTextSize,
type: e.titleTextType,
style: e.header
}) : null, r.createElement(c.Text, {
value: this.state.validationMessage || this.props.defaultMessage,
size: e.messageTextSize,
type: e.messageTextType,
style: {
marginBottom: l.GUTTER
}
}), r.createElement(d.InputField, {
key: "field",
ref: this.inputField,
title: this.props.title || "",
description: this.props.title || "",
style: e.input,
type: this.props.inputType,
maxLength: this.props.maxLength,
isInvalid: !this.state.isValid,
onValueChanged: this.onTypingInput,
deactivateOnBlur: !1,
editKey: u.Keys.Accept
}), t);
}, o.contextTypes = v.SpartaContext.contextTypes, o.defaultProps = {
defaultMessage: ""
}, o;
}(r.Component);
t.prompt = function x(t, n, o, s, u) {
return void 0 === u && (u = {}), new Promise(function(l, c) {
i.display(new a.Popup(e.__assign({
id: "prompt",
onTop: !0,
content: r.createElement(O, {
title: t,
minLength: n,
maxLength: o,
inputType: s.inputType,
defaultMessage: s.message,
onTypingValidate: s.onTypingValidate,
onOkValidate: s.onOkValidate,
onOk: l,
onCancel: function() {
return c(new Error("Prompt onCancel callback triggered"));
}
})
}, u)));
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.Left = 0] = "Left", e[e.Right = 1] = "Right", e[e.Up = 2] = "Up", e[e.Down = 3] = "Down";
}(t.Direction || (t.Direction = {})), function(e) {
e[e.HORIZONTAL = 1] = "HORIZONTAL", e[e.VERTICAL = 2] = "VERTICAL", e[e.WRAP_AROUND = 4] = "WRAP_AROUND", 
e[e.EDGE_STOP = 8] = "EDGE_STOP", e[e.REMEMBER_LAST_FOCUSED_MEMBER = 16] = "REMEMBER_LAST_FOCUSED_MEMBER", 
e[e.PREFER_FIRST_MEMBER_OVER_TARGET = 32] = "PREFER_FIRST_MEMBER_OVER_TARGET";
}(t.GroupBehavior || (t.GroupBehavior = {})), function(e) {
e[e.STOP = 0] = "STOP", e[e.FALLTHROUGH = 1] = "FALLTHROUGH", e[e.HIT = 2] = "HIT";
}(t.NavigationResultType || (t.NavigationResultType = {})), function(e) {
e[e.Spatial = 0] = "Spatial", e[e.Mouse = 1] = "Mouse", e[e.Auto = 2] = "Auto";
}(t.FocusSource || (t.FocusSource = {}));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.stopGame = r.createTypedAction(), t.joinServer = r.createTypedAction(), t.joinLanServer = r.createTypedAction(), 
t.joinFriend = r.createTypedAction(), t.joinMatchmakingResult = r.createTypedAction(), 
t.handleJoinReady = r.createTypedAction(), t.refreshInstalledGames = r.createTypedAction(), 
t.setInstalledExpansions = r.createTypedAction(), t.joinedServer = r.createTypedAction(), 
t.leftServer = r.createTypedAction(), t.sendServerInvite = r.createTypedAction(), 
t.activateEor = r.createTypedAction(), t.enterSpecificGameMode = r.createTypedAction();
}, function(e, t) {
e.exports = function(e) {
try {
return !!e();
} catch (e) {
return !0;
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(364), o = n(77);
t.createTypedAction = function i() {
var e = new r.Publisher(), t = function() {
var t = Array.prototype.slice.call(arguments);
e.publish.apply(e, t);
};
return t.listen = e.listen.bind(e), t.subscribeTo = function(t, n) {
o.addLifecycleHook(t, "componentWillUnmount", e.listen(n));
}, t;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(940);
function o(e) {
return r.requesterClient(e);
}
function i() {
r.instances.forEach(function(e) {
return e.reset();
});
}
t.createClient = o, t.resetClients = i, t.requester = {
createClient: o,
resetClients: i
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(295), i = n(56), a = n(41), s = n(38), u = n(25), l = n(11), c = n(36), p = function() {
function e(e, t, n) {
this.twinkle = e, this.spartaActivatedStore = t, this.inputStore = n, this.showAlert = o.frostbiteAction(this.twinkle.frostbite, "sparta.showPopup"), 
this.onAlertDismissed = o.frostbiteListenable(this.twinkle.frostbite, "sparta.onPopupDismissed");
}
return e.standardAlert = function(e, t, n, o) {
void 0 === o && (o = {}), u.display(new s.Popup(r.__assign({
content: a.getMessageContent(e, t),
inputs: [ a.createInput(n, l.Keys.Accept, a.buttonLabels.confirm()) ],
createButtons: !0,
onTop: !0
}, o)));
}, e.standardAlertWithOption = function(e, t, n, r, o) {
var i = [];
n.useConfirmInput && i.push(a.createInput(r, l.Keys.Accept, a.buttonLabels.confirm()));
var c = n.customInput;
c && i.push(a.createInput(c.action, c.key, c.label)), u.display(new s.Popup({
content: a.getMessageContent(e, t),
inputs: i,
createButtons: !0,
onTop: !0,
id: o
}));
}, e.prototype.alert = function(t, n, r, o) {
void 0 === o && (o = {}), this.spartaActivatedStore.navigationState, i.NavigationStates.LoadingScreen, 
e.standardAlert(t, n, r, o);
}, e.prototype.displayError = function(t, n, o, i, a) {
c.trackUserFacingError(t), a && a.customInput ? e.standardAlertWithOption(n, o, r.__assign({
useConfirmInput: !0
}, a), i) : this.alert(n, o, i);
}, e;
}();
t.PopupManager = p;
}, function(e, t) {
e.exports = function(e) {
return "object" == typeof e ? null !== e : "function" == typeof e;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.showLocalUserSelectionUI = r.createTypedAction(), t.getOnlinePrivileges = r.createTypedAction(), 
t.showUserProfile = r.createTypedAction(), t.setUGCAccessLevel = r.createTypedAction(), 
t.refreshCareer = r.createTypedAction(), t.onSignInChange = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(39), u = n(29), l = n(7), c = function(e) {
return !!e.value;
}, p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = l.SpartaContext.getFromComponent(t), t.onSuccess = function() {
var e, n = t.fragments.map(function(e) {
return e.value;
});
return (e = t.props).children.apply(e, n);
}, t.onLoading = function() {
return o.createElement(s.EmptyState, {
centerVertically: t.props.emptyCenterVertically,
style: t.props.emptyStyle
}, o.createElement(u.Spinner, {
large: !0
}));
}, t;
}
return r.__extends(t, e), t.prototype.expireFailedFragmentsOnReconnect = function() {
var e = this, t = this.sparta.stores.presenceStateStore.isReady;
this.reaction(function() {
return e.sparta.stores.presenceStateStore.isReady;
}, function(n) {
n && n !== t && e.fragments.forEach(function(e) {
e.failstate && !e.isLoading && e.expire();
}), t = n;
});
}, t.prototype.componentWillMount = function() {
this.expireFailedFragmentsOnReconnect();
}, Object.defineProperty(t.prototype, "fragments", {
get: function() {
return Array.isArray(this.props.load) ? this.props.load : [ this.props.load ];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "successCondition", {
get: function() {
var e = c, t = this.props.successCondition;
return t && (e = t), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isSuccessful", {
get: function() {
return this.fragments.every(this.successCondition);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasSomeLoading", {
get: function() {
return this.fragments.some(function(e) {
return e.isLoading;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasSomeErrors", {
get: function() {
var e = this;
return this.fragments.some(function(t) {
return t.isReady && !e.successCondition(t);
});
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
return this.isSuccessful ? this.onSuccess() : this.hasSomeLoading ? this.onLoading() : this.hasSomeErrors ? this.onError() : null;
}, t.contextTypes = l.SpartaContext.contextTypes, r.__decorate([ i.computed ], t.prototype, "fragments", null), 
r.__decorate([ i.computed ], t.prototype, "successCondition", null), r.__decorate([ i.computed ], t.prototype, "isSuccessful", null), 
r.__decorate([ i.computed ], t.prototype, "hasSomeLoading", null), r.__decorate([ i.computed ], t.prototype, "hasSomeErrors", null), 
t;
}(o.Component), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onError = function() {
var e = t.props, n = e.errorMessage, r = e.errorSubText, i = "function" == typeof n ? n.apply(void 0, t.fragments) : n, a = "function" == typeof r ? r.apply(void 0, t.fragments) : r;
return o.createElement(s.EmptyState, {
centerVertically: !0,
text: i,
subText: a,
style: t.props.emptyStyle
});
}, t;
}
return r.__extends(t, e), t = r.__decorate([ a.observer ], t);
}(p);
t.FragmentLoader = d;
var f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onError = function() {
var e;
return (e = t.props).children.apply(e, t.props.defaultValues);
}, t;
}
return r.__extends(t, e), t = r.__decorate([ a.observer ], t);
}(p);
t.DefaultValueFragmentLoader = f;
var m = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
r.onError = function() {
return o.createElement("surface", null);
};
r.sparta.stores.locationStore.location.url;
return r;
}
return r.__extends(t, e), t = r.__decorate([ a.observer ], t);
}(p);
t.OptimisticFragmentLoader = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45), o = n(135), i = n(175);
t.getCampaignEpisodes = r.createTypedAction(), t.selectCurrentMedal = r.createTypedAction(), 
t.getCurrentMedals = r.createTypedAction(), t.gameShowOptions = r.createTypedAction(), 
t.gameShowCredits = r.createTypedAction(), t.joinGame = r.createTypedAction(), t.enterOperations = r.createTypedAction(), 
t.enterCampaign = r.createTypedAction(), t.quitCampaign = r.createTypedAction(), 
t.fetchEorData = r.createTypedAction(), t.updateUnrankedEorData = r.createTypedAction(), 
t.endOfRoundCountdownCompleted = r.createTypedAction(), t.showLoadout = r.createTypedAction(), 
t.viewBlueprint = r.createTypedAction(), t.claimBlueprint = r.createTypedAction(), 
t.scrapItem = r.createTypedAction(), t.scrapDuplicateItems = r.createTypedAction(), 
t.getBattlepackScrapExchange = r.createTypedAction(), t.buyBattlepackScrapExchange = r.createTypedAction(), 
t.showCodex = r.createTypedAction(), t.showReportEmblemFromGame = r.createTypedAction(), 
t.receivedPlayerList = i.frostbiteListenable("tunguska.getPlayerListResponse"), 
t.getPlayerList = o.frostbiteAction("tunguska.getPlayerList");
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(870), i = n(498), a = n(499), s = n(872), u = n(874), l = n(95);
if (l.globalScope.TwinkleNative) r = new i.InprocDelegate(); else if (l.globalScope.__TEST__) r = new a.MockDelegate(); else {
var c = new u.RemoteEngine();
r = new o.RemoteDelegate(c);
}
t.nativeApi = new s.NativeAPI(r), r instanceof o.RemoteDelegate ? r.remoteEngine.onScriptCalls = t.nativeApi.onScriptCalls.bind(t.nativeApi) : r instanceof i.InprocDelegate ? l.globalScope.onScriptCalls = t.nativeApi.onScriptCalls.bind(t.nativeApi) : r instanceof a.MockDelegate && (r.onScriptCalls = t.nativeApi.onScriptCalls.bind(t.nativeApi));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.show = r.createTypedAction(), t.hide = r.createTypedAction(), t.route = r.createTypedAction(), 
t.browseWhileWaiting = r.createTypedAction();
}, function(e, t) {
var n = e.exports = {
version: "2.5.3"
};
"number" == typeof __e && (__e = n);
}, function(e, t, n) {
var r = n(48);
e.exports = function(e) {
if (!r(e)) throw TypeError(e + " is not an object!");
return e;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.None = 0] = "None", e[e.FrontEnd = 1] = "FrontEnd", e[e.LoadingScreen = 2] = "LoadingScreen", 
e[e.InGameMenu = 3] = "InGameMenu", e[e.EndOfRound = 4] = "EndOfRound";
}(t.NavigationStates || (t.NavigationStates = {}));
}, function(e, t) {
var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
"number" == typeof __g && (__g = n);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(1), a = n(3), s = n(4), u = n(15), l = n(6), c = n(19), p = n(1070), d = n(17), f = n(5), m = n(257), h = n(27);
!function(e) {
e.Left = "left", e.Right = "right";
}(r = t.Direction || (t.Direction = {}));
var g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.translateX = u.Animation.componentTween(t, "38e8cd1c:41:56", t.origin), 
t.loopTimeout = 0, t.shuttleTimeout = 0, t.delayTimeout = 0, t.animationStarted = !1, 
t.autoShuttleId = 0, t.currentShuttleId = -1, t;
}
return o.__extends(t, e), Object.defineProperty(t.prototype, "origin", {
get: function() {
return this.props.direction === r.Right || this.props.rtl ? 0 : this.props.getOuterWidth() - this.props.getInnerWidth();
},
enumerable: !0,
configurable: !0
}), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return [ e.shouldScroll, e.props.getInnerWidth(), e.props.getOuterWidth() ];
}, function() {
e.componentDidUpdate();
}, {
fireImmediately: !0
});
}, t.prototype.componentWillUnmount = function() {
clearTimeout(this.delayTimeout), clearTimeout(this.loopTimeout), clearTimeout(this.shuttleTimeout);
}, t.prototype.componentDidUpdate = function() {
var e = this;
this.props.getInnerWidth() && this.props.getOuterWidth() && (this.props.delay ? (clearTimeout(this.delayTimeout), 
this.delayTimeout = setTimeout(function() {
return e.update();
}, this.props.delay)) : this.update());
}, Object.defineProperty(t.prototype, "shouldScroll", {
get: function() {
return this.props.scroll || this.props.focusItem && this.props.focusItem.isFocusedOrHovered;
},
enumerable: !0,
configurable: !0
}), t.prototype.getDistance = function(e) {
return this.props.loop ? e : Math.max(0, e - this.props.getOuterWidth());
}, t.prototype.update = function() {
var e = this.props.getOuterWidth(), t = this.props.getInnerWidth(), n = this.getDistance(t);
clearTimeout(this.loopTimeout), clearTimeout(this.shuttleTimeout), this.reset(), 
t > 0 && e > 0 && e < t ? this.props.loop ? this.loop(n, !0) : this.shouldScroll && (this.props.direction !== r.Right || this.props.rtl || (n = -n), 
this.autoShuttleId++, this.currentShuttleId = this.autoShuttleId, this.scroll(0, n, this.currentShuttleId)) : this.translateX.set(0);
}, t.prototype.loop = function(e, t) {
var n = this;
void 0 === t && (t = !1), this.animationStarted || (this.animationStarted = !0, 
this.props.onScrollChange(!0));
var o = +this.props.speed.toFixed(3), i = this.props.direction === r.Left || this.props.rtl, a = i ? e : -e, s = i ? -this.props.getOuterWidth() : this.props.getOuterWidth(), u = t ? 0 : s, l = (i ? a - u : u - a) / (10 * o * 60) * 1e3, c = {
duration: l,
speed: null,
easing: h.Easing.Linear
};
this.translateX.set(u), this.translateX.to(a, c), this.loopTimeout = setTimeout(function() {
n.props.loop && (n.translateX.set(s), n.loop(e));
}, l);
}, t.prototype.scroll = function(e, t, n) {
var r = this;
if (!this.props.shuttle || this.currentShuttleId === n) {
this.animationStarted || (this.animationStarted = !0, this.props.onScrollChange(!0));
var o = {
duration: null,
speed: this.props.speed,
easing: h.Easing.Linear
};
this.translateX.to(t, o, function() {
r.props.shuttle && r.currentShuttleId === n && (r.shuttleTimeout = setTimeout(function() {
r.scroll(t, e, n);
}, 500));
});
}
}, t.prototype.reset = function() {
var e = this;
if (this.animationStarted && !this.props.loop && !this.shouldScroll) {
var t = {
duration: null,
speed: this.props.speed,
easing: h.Easing.Linear
};
this.translateX.to(this.origin, t, function() {
e.props.onScrollChange(!1);
}), this.animationStarted = !1, this.currentShuttleId = -1;
}
}, t.prototype.render = function() {
return i.createElement("surface", {
style: f.merge2(this.translateX.getStyleClass("translateX"), d.CommonStyles.disableMouseEvents),
onBounds: this.props.onBoundsChanged
}, this.props.children);
}, o.__decorate([ a.computed ], t.prototype, "shouldScroll", null), t = o.__decorate([ s.observer ], t);
}(i.Component), y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.twinkle = m.TwinkleContext.getFromComponent(t), t.outerWidth = 0, t.innerWidth = 0, 
t.isAnimated = !1, t.updateOuterBounds = a.action(function(e) {
n.isSizeEqual(t.outerWidth, e.width) || (t.outerWidth = e.width);
}), t.updateInnerBounds = a.action(function(e) {
n.isSizeEqual(t.innerWidth, e.width) || (t.innerWidth = e.width);
}), t.onScrollChange = a.action(function(e) {
t.isAnimated = e;
}), t.getOuterWidth = function() {
return t.props.width || t.outerWidth;
}, t.getInnerWidth = function() {
return t.innerWidth;
}, t;
}
var n;
return o.__extends(t, e), n = t, Object.defineProperty(t.prototype, "hasOverflow", {
get: function() {
var e = this.getOuterWidth(), t = this.getInnerWidth();
return t > 0 && e > 0 && e < t || !1;
},
enumerable: !0,
configurable: !0
}), t.isSizeEqual = function(e, t) {
if (e && t) {
return Math.abs(e - t) < 2 && Math.abs(e - t) < 2;
}
return !1;
}, t.prototype.wrapWithEllipsis = function(e, t) {
return this.props.showEllipsis && this.hasOverflow ? i.createElement("surface", {
style: f.merge3(e, this.props.style, p.MarqueeStyles.containerMargin)
}, i.createElement(S, {
focusItem: this.props.focusItem,
scroll: this.props.scroll
}), t) : t;
}, t.prototype.render = function() {
var e, t = this.props.scrollTo === r.Left || this.props.rtl, n = this.hasOverflow || this.isAnimated;
e = this.props.width ? f.DynamicStyle.create({
width: this.props.width
}, "38e8cd1c:304:25") : f.emptyStyle;
var o = f.merge4(e, p.MarqueeStyles.marquee(n), t ? d.CommonStyles.justifyContentFlexEnd : f.emptyStyle, f.merge2(this.props.style, n ? this.props.overflowStyle : f.emptyStyle));
return this.wrapWithEllipsis(e, i.createElement("surface", {
style: o,
onBounds: this.updateOuterBounds
}, i.createElement(g, {
scroll: this.props.scroll,
focusItem: this.props.focusItem,
loop: this.props.loop,
delay: this.props.delay,
direction: this.props.scrollTo,
getInnerWidth: this.getInnerWidth,
getOuterWidth: this.getOuterWidth,
speed: this.props.speed,
onScrollChange: this.onScrollChange,
onBoundsChanged: this.updateInnerBounds,
shuttle: this.props.shuttle && this.twinkle.buildInfo.isFeatureSupported("TweenerAttachTweenFinishedFix"),
rtl: this.props.rtl
}, this.props.children)));
}, t.contextTypes = m.TwinkleContext.contextTypes, t.defaultProps = {
scroll: !1,
scrollTo: r.Right,
loop: !1,
showEllipsis: !1,
speed: .1,
rtl: !1
}, o.__decorate([ a.observable ], t.prototype, "outerWidth", void 0), o.__decorate([ a.observable ], t.prototype, "innerWidth", void 0), 
o.__decorate([ a.observable ], t.prototype, "isAnimated", void 0), o.__decorate([ a.computed ], t.prototype, "hasOverflow", null), 
t = n = o.__decorate([ s.observer ], t);
}(i.Component);
t.Marquee = y;
var S = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.opacityTween = u.Animation.componentTween(t, "38e8cd1c:349:50", 0), t;
}
return o.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.scroll || e.props.focusItem && (e.props.focusItem.isFocused || e.props.focusItem.isHovered);
}, function(t) {
e.opacityTween.to(t ? 0 : 1);
}, {
fireImmediately: !0
});
}, t.prototype.render = function() {
var e = f.merge2(p.MarqueeStyles.ellipsis(c.isRTLLanguage()), this.opacityTween.getStyleClass("opacity"));
return i.createElement(l.Text, {
value: "...",
style: e
});
}, t = o.__decorate([ s.observer ], t);
}(i.Component);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(116), o = n(84), i = n(52), a = n(372), s = n(133).__Logger.get("Frostbite"), u = {}, l = new Set([ "sparta.audioMessage" ]);
t.frostbite = {
sendMessage: function(e, n) {
void 0 === n && (n = null), o.options.enableLogging && (l.has(e) ? s.debug("Frostbite event (send):", e, n) : s.info("Frostbite event (send):", e, n)), 
t.frostbite.getMessageListener("frostbiteMessageSent").trigger(e, n), i.nativeApi.sendMessage(e, n);
},
getMessageListener: function(e) {
return u[e] || (u[e] = new r.TwinkleEvent());
},
registerMessageListener: function(e, t) {
return this.getMessageListener(e).listen(function() {
t && t.apply(t, arguments);
});
}
}, i.nativeApi.onFrostbiteMessage = function(e, n) {
var r = a.start(), i = u[e];
if (o.options.enableLogging && (i ? l.has(e) ? s.debug("Frostbite event (receive):", e, n) : s.info("Frostbite event (receive):", e, n) : o.options.enableDevWarnings && s.warn("Unhandled Frostbite Event received! Is this a legacy message or did you forget to add a listener? :", e, n)), 
i) try {
i.trigger(e, n);
} catch (t) {
throw t.message = "Failed to handle frostbite message " + e + ":" + t.message, t;
}
t.frostbite.getMessageListener("frostbiteMessageReceived").trigger(e, n), a.end("msg-" + e, r);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.setFilterOptions = r.createTypedAction(), t.fetchServerCounts = r.createTypedAction(), 
t.trackFilterJoin = r.createTypedAction(), t.toggleBookmark = r.createTypedAction(), 
t.serverBookmarkingFailed = r.createTypedAction(), t.refreshBookmarks = r.createTypedAction(), 
t.refreshHistory = r.createTypedAction(), t.refreshRentedServers = r.createTypedAction(), 
t.requestPings = r.createTypedAction();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(103);
function r(t) {
var n = e.localeState.gameLocaleOrDefault;
if ("number" != typeof t || void 0 === u[n]) return "";
var r = t.toFixed(2), o = u[n].decimal;
return r.replace(".", o);
}
function o(t) {
if (void 0 === t) return "";
var n = e.localeState.gameLocaleOrDefault, r = t.toString().split("."), o = u[n];
return r[0] = r[0].replace(/\B(?=(\d{3})+(?!\d))/g, o.thousand), r.join(o.decimal);
}
t.formatNumber = function i(e) {
return isNaN(e) ? "0" : o(Math.round(10 * e) / 10);
}, t.formatRatio = r, t.formatRatioBetweenNumbers = function a(e, t) {
return "number" != typeof e || "number" != typeof t ? "" : r(e / Math.max(t, 1));
}, t.formatThousands = o, t.formatDecimals = function s(t, n) {
var r = 2, o = 100, i = e.localeState.gameLocaleOrDefault, a = u[i], s = function(e) {
return void 0 === u[i] ? e : e.replace(".", a.decimal);
};
return isNaN(t) ? s("0.00") : ((n && !isNaN(n) || 0 === n) && (r = n, o = Math.pow(10, n)), 
s((Math.round(t * o) / o).toFixed(r)));
}, t.formatDateDifference = function(e, t, n) {
void 0 === n && (n = !1);
var r = t / 1e3, o = Math.floor(r / 86400);
r -= 86400 * o;
var i = Math.floor(r / 3600) % 24;
r -= 3600 * i;
var a = Math.floor(r / 60) % 60, s = __("ID_SPARTA_NUM_DAY");
o > 1 && (s = __("ID_SPARTA_NUM_DAYS"));
var u = __("ID_SPARTA_NUM_HOUR");
i > 1 && (u = __("ID_SPARTA_NUM_HOURS"));
var l = __("ID_SPARTA_NUM_MINUTE");
a > 1 && (l = __("ID_SPARTA_NUM_MINUTES")), s = s.replace("[DAYS]", o + ""), u = u.replace("[HOURS]", i + ""), 
l = l.replace("[MINUTES]", a + "");
var c = "", p = "", d = "";
return o > 0 ? (c = s, n || (p = u)) : i > 0 ? (p = u, n || (d = l)) : d = l, e.replace("[NUMDAYS]", c).replace("[NUMHOURS]", p).replace("[NUMMINUTES]", d).replace(/\s+/g, " ");
};
var u = {
"ar-sa": {
decimal: ".",
thousand: ","
},
"cs-cz": {
decimal: ".",
thousand: ","
},
"de-de": {
decimal: ",",
thousand: "."
},
"en-us": {
decimal: ".",
thousand: ","
},
"es-es": {
decimal: ",",
thousand: " "
},
"es-mx": {
decimal: ".",
thousand: " "
},
"fr-fr": {
decimal: ",",
thousand: " "
},
"it-it": {
decimal: ",",
thousand: "."
},
"ja-jp": {
decimal: ".",
thousand: ","
},
"ko-kr": {
decimal: ".",
thousand: ","
},
"pl-pl": {
decimal: ",",
thousand: " "
},
"pt-br": {
decimal: ",",
thousand: "."
},
"ru-ru": {
decimal: ",",
thousand: " "
},
"tr-tr": {
decimal: ",",
thousand: "."
},
"zh-cn": {
decimal: ".",
thousand: ","
},
"zh-tw": {
decimal: ".",
thousand: ","
}
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(26), a = n(12), s = n(88), u = n(15), l = n(11), c = n(4), p = n(17), d = n(5), f = n(22), m = n(77), h = n(27), g = n(78);
function y(e, t) {
return e && t ? function() {
for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
if (!(n && n.length && n[0].isRepeat)) {
var o = e.apply(void 0, n);
o instanceof Promise ? o.then(t) : t.apply(void 0, n);
}
} : e || t;
}
var S = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.glowTween = u.Animation.componentTween(t, "e6be625a:40:47", 0), t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.focusItem.isFocusedOrHovered;
}, function(t) {
e.glowTween.set(t ? .2 : 0);
}, {
fireImmediately: !0
});
}, t.prototype.shouldComponentUpdate = function() {
return !1;
}, t.prototype.render = function() {
return o.createElement("surface", {
style: d.merge2(p.PressableStyles.glow, this.glowTween.getStyleClass("opacity"))
});
}, t;
}(o.Component), v = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
if (r.failedEnterPlay = !1, r.tweens = {
scaleX: u.Animation.componentTween(r, "e6be625a:106:47", 1),
scaleY: u.Animation.componentTween(r, "e6be625a:107:47", 1)
}, r.playEnter = function() {
if (r.props.scaleValues) if (r.props.scale && 1 === r.props.scaleValues.scaleX.to && 1 === r.props.scaleValues.scaleY.to) r.failedEnterPlay = !0; else if (r.props.scale && r.props.scaleInOptions) return r.playAnimation(r.props.scaleValues, "to", r.props.scaleInOptions);
}, r.playLeave = function() {
if (r.props.scale && r.props.scaleValues && r.props.scaleOutOptions) return r.playAnimation(r.props.scaleValues, "from", r.props.scaleOutOptions);
}, !e.focusItem) throw new Error("No focus item passed to <Pressable>");
r.triggerInput = s.debounce(function() {
r.mutatedInput.length && r.mutatedInput.forEach(function(e) {
return e.action && e.action();
});
}, 250, !0, !1);
var o = e.focusItem;
return m.onComponentUpdate(r, function(e) {
o.setActive("e6be625a:136:33", !e.disabled);
}), r;
}
return r.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.mutateInput(this.props.input), this.props.disableFocusInputUpdate || this.reaction(function() {
return f.focusSystem.controllerMode && e.props.focusItem.isFocused;
}, function(t) {
t && e.updateInput();
}, {
fireImmediately: !0
}), this.pressInOptions = {
easing: h.Easing.Linear,
duration: u.Animation.presets.press.duration
}, this.pressOutOptions = {
easing: h.Easing.CubicOut,
duration: u.Animation.presets.press.duration
}, this.updateAnimationSettings();
var t = this.props.focusItem;
this.eventListeners = [ t.onClick.listen(this.triggerInput), t.onFocusOrHover(this.playEnter), t.onBlurOrLeave(this.playLeave) ];
}, n.prototype.componentWillReceiveProps = function(e) {
this.mutateInput(e.input);
}, n.prototype.componentDidUpdate = function(e) {
this.failedEnterPlay && (this.failedEnterPlay = !1, this.playEnter()), this.updateAnimationSettings();
}, n.prototype.componentWillUnmount = function() {
for (this._animating && e.error("Un-mounting Pressable that is currently animating!"); this.eventListeners.length; ) {
var t = this.eventListeners.pop();
t && t();
}
}, n.prototype.getInput = function() {
if (this.props.focusItem.isFocused) return this.mutatedInput;
}, n.prototype.updateAnimationSettings = function() {
this.props.scaleValues && this.props.pressScale && (this.pressAnimation = {
scaleX: {
from: this.props.scale ? this.props.scaleValues.scaleX.to : 1,
to: this.props.scale ? this.props.pressScale : 1
},
scaleY: {
from: this.props.scale ? this.props.scaleValues.scaleY.to : 1,
to: this.props.scale ? this.props.pressScale : 1
}
});
}, n.prototype.mutateInput = function(e) {
var t = this;
switch (e && (e = Array.isArray(e) ? e : [ e ]), e && 0 !== e.length || (e = [], 
this.props.useDefaultInput && e.push(new a.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: l.Keys.Accept
}))), this.props.triggerMode) {
case "before":
this.mutatedInput = e.map(function(e) {
return e.extend({
action: y(e.action, function() {
return t.playPress();
})
});
});
break;

case "between":
this.mutatedInput = e.map(function(e) {
var n = e.action;
return e.extend({
action: y(function() {
return t.playPressDown();
}, function() {
return n && n(), t.playReleaseUp();
})
});
});
break;

case "after":
this.mutatedInput = e.map(function(e) {
return e.extend({
action: y(function() {
return t.playPress();
}, e.action)
});
});
}
}, n.prototype.playPressDown = function() {
return this.playAnimation(this.pressAnimation, "to", this.pressInOptions);
}, n.prototype.playReleaseUp = function() {
if (this.props.focusItem.isFocusedOrHovered) return this.playAnimation(this.pressAnimation, "from", this.pressOutOptions);
}, n.prototype.playPress = function() {
var e = this;
if (!this.props.disabled) return this.playPressDown().then(function() {
return e.playReleaseUp();
});
}, n.prototype.playAnimation = function(e, t, n) {
var r = this;
this._animating = !0;
var o = Object.keys(e).map(function(o) {
return r.tweens[o].isDestroyed() ? Promise.resolve() : r.tweens[o].promiseTo(e[o][t], n);
});
return Promise.all(o).then(function() {
r._animating = !1;
});
}, n.prototype.render = function() {
var e = g.Tween.getStyleClass("e6be625a:317:48", this.tweens), t = d.merge2(e, this.props.style || d.emptyStyle), n = d.merge2(p.PressableStyles.children, this.props.childrenStyle || d.emptyStyle);
return o.createElement("surface", r.__assign({
style: t
}, this.props.focusItem.hooks), this.props.glow && o.createElement(S, {
focusItem: this.props.focusItem
}), o.createElement("surface", {
style: n
}, this.props.children));
}, n.defaultProps = {
glow: !1,
scale: !1,
scaleValues: {
scaleX: {
from: 1,
to: 1.057
},
scaleY: {
from: 1,
to: 1.057
}
},
useDefaultInput: !1,
scaleInOptions: u.Animation.presets.focusables.enter.default,
scaleOutOptions: u.Animation.presets.focusables.leave,
triggerMode: "between",
pressScale: .965,
disabled: !1,
disableFocusInputUpdate: !1
}, n = r.__decorate([ c.observer, i.input ], n);
}(i.InputComponent);
t.Pressable = v;
}).call(this, n(20), n(2));
}, function(e, t, n) {
var r = n(341)("wks"), o = n(186), i = n(57).Symbol, a = "function" == typeof i;
(e.exports = function(e) {
return r[e] || (r[e] = a && i[e] || (a ? i : o)("Symbol." + e));
}).store = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(382);
function i(e, t) {
var n;
return (n = function(n) {
function o(e, r) {
var o = n.call(this, e, r) || this;
return o._isMounted = !0, o._storeUnsubscribes = [], o.state || (o.state = {}), 
t && o.subscribeToStores(t, !1), o;
}
return r.__extends(o, n), o.prototype.componentWillUnmount = function() {
e.prototype.componentWillUnmount && e.prototype.componentWillUnmount.call(this), 
this._isMounted = !1, this.unsubscribeFromStores();
}, o.prototype.subscribeToStores = function(e, t) {
var n = this;
void 0 === t && (t = !0);
var o = !1, i = {};
return Object.keys(e).forEach(function(t) {
var r = t, a = e[r];
a && ("function" == typeof a.getState && (i[t] = a.getState.apply(a), o = !0), n._storeUnsubscribes.push(a.listen(n.onStoreChange.bind(n, r))));
}), o && (t ? this.setState(i) : this.state = r.__assign({}, this.state, i)), i;
}, o.prototype.unsubscribeFromStores = function() {
this._storeUnsubscribes.forEach(function(e) {
return e();
}), this._storeUnsubscribes = [];
}, o.prototype.onStoreChange = function(e, t) {
if (this._isMounted) {
var n = {};
n[e] = t, this.setState(n);
}
}, o;
}(e)).displayName = o.getDisplayName(e), n;
}
t.subscribeToStores = function a(e) {
return function(t) {
return i(t, e);
};
}, t.storeSubscriber = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("LayoutStyles"), a = function() {
function e() {}
return e.viewportSafety = o.value(function() {
return -2001;
}, "540caa5d:22:28"), e.background = o.value(function() {
return -1e3;
}, "540caa5d:23:24"), e.backgroundEdges = o.value(function() {
return 1001;
}, "540caa5d:24:29"), e.content = o.value(function() {
return 1e3;
}, "540caa5d:25:21"), e.logo = o.value(function() {
return 1200;
}, "540caa5d:26:18"), e.header = o.value(function() {
return 1200;
}, "540caa5d:27:20"), e.viewContainer = o.value(function() {
return 1e4;
}, "540caa5d:28:27"), e.gameView = o.value(function() {
return 15e3;
}, "540caa5d:29:22"), e.gameJoinNotice = o.value(function() {
return 19999;
}, "540caa5d:30:28"), e.tint = o.value(function() {
return 2e4;
}, "540caa5d:31:18"), e.comCenter = o.value(function() {
return 40001;
}, "540caa5d:32:23"), e.mainMenu = o.value(function() {
return 5e4;
}, "540caa5d:33:22"), e.socialOverlay = o.value(function() {
return 5e4;
}, "540caa5d:34:27"), e.startScreen = o.value(function() {
return 9e4;
}, "540caa5d:35:25"), e.contextMenu = o.value(function() {
return 9e4;
}, "540caa5d:36:25"), e.popups = o.value(function() {
return 1e5;
}, "540caa5d:37:20"), e.popupCloseButton = o.value(function() {
return 100001;
}, "540caa5d:38:30"), e.inputs = o.value(function() {
return 2e5;
}, "540caa5d:39:20"), e.watermark = o.value(function() {
return 2e5;
}, "540caa5d:40:23"), e.blackFade = o.value(function() {
return 1e6;
}, "540caa5d:41:23"), e.socialWidget = o.value(function() {
return 1000001;
}, "540caa5d:42:26"), e = r.__decorate([ i.style ], e);
}();
t.OffsetStyles = a;
var s = function() {
function e() {}
return e.topContent = o.wrap(function() {
return o.style({
marginTop: o.Constants.isPC ? o.Grid.getHeight(36) : o.Grid.getHeight(12)
}, "540caa5d:47:35");
}), e.heading = o.wrap(function() {
return o.style({
height: o.Constants.LINE_HEIGHTS.L,
width: o.Grid.getWidth(24),
alignSelf: "center"
}, "540caa5d:53:32");
}), e.headingInner = o.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center",
alignSelf: "center"
}, "540caa5d:61:37");
}), e.message = o.wrap(function() {
return o.style({
textLetterSpacing: 4,
alignSelf: "center"
}, "540caa5d:69:32");
}), e = r.__decorate([ i.style ], e);
}();
t.OverviewHeadingStyles = s;
var u = function() {
function e() {}
var t;
return t = e, e.eaLogo = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-ea-300d3ce5.png");
}, "540caa5d:79:20"), e.diceLogo = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-dice-c4e44205.png");
}, "540caa5d:80:22"), e.progressStyle = o.wrap(function() {
return o.style({
position: "absolute",
width: o.LayoutBounds.screen.width,
left: o.LayoutBounds.screen.left,
top: o.LayoutBounds.startScreenLogo.bottom + o.Grid.getHeight(4, !1),
flexDirection: "column",
alignItems: "center",
justifyContent: "flex-start",
zOffset: 20
}, "540caa5d:82:38");
}), e.backdrop = o.wrap(function() {
return o.style({
padding: [ o.Grid.spacer(2), o.Grid.spacer(3), o.Grid.spacer(2), o.Grid.spacer(3) ],
backgroundColor: "#00000099",
color: "#ffffff",
height: o.Constants.isPC ? o.Grid.getHeight(6) : o.Grid.getHeight(5),
alignItems: "center",
justifyContent: "center"
}, "540caa5d:95:33");
}), e.betaDisclaimer = o.wrap(function() {
return o.style({
width: o.LayoutBounds.startScreenLogo.width,
color: "#ffffff",
textAlign: "center",
textAlignForRTL: "center"
}, "540caa5d:106:39");
}), e.betaDisclaimerContainer = o.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(8),
padding: o.Grid.spacer(),
backgroundColor: "#00000050"
}, "540caa5d:115:48");
}), e.bottomBarContainer = o.wrap(function() {
return o.style({
zOffset: 3,
position: "absolute",
bottom: o.LayoutBounds.dangerZoneSize.height,
left: o.LayoutBounds.dangerZoneSize.width,
right: o.LayoutBounds.dangerZoneSize.width,
flexDirection: "row",
alignItems: "center"
}, "540caa5d:123:43");
}), e.ea = i.wrap(function() {
return o.style({
texture: t.eaLogo,
textureMode: "contain",
backgroundColor: "#ffffff",
marginRight: 20,
height: 50,
width: 50
}, "540caa5d:135:16");
}), e.dice = i.wrap(function() {
return o.style({
texture: t.diceLogo,
textureAlignX: 0,
textureMode: "contain",
backgroundColor: "#ffffff",
flex: 1,
height: 18,
width: 74
}, "540caa5d:144:18");
}), e.copyright = i.wrap(function() {
return o.style({
color: "#ffffff"
}, "540caa5d:154:23");
}), e = t = r.__decorate([ i.style ], e);
}();
t.StartScreenStyles = u;
var l = function() {
function e() {}
return e.container = o.multistyle(function(e) {
return o.style({
zOffset: a.content,
position: "absolute",
left: o.LayoutBounds.screen.left,
top: o.LayoutBounds.screen.top,
width: o.LayoutBounds.screen.width,
height: o.LayoutBounds.screen.height,
opacity: o.tweenSwitch(0, 1, e),
enableMouseEvents: e
}, "540caa5d:161:58");
}), e = r.__decorate([ i.style ], e);
}();
t.ContentStyles = l;
var c = function() {
function e() {}
var t;
return t = e, e.itemHeight = o.value(function() {
return o.Grid.getHeight(8);
}, "540caa5d:177:24"), e.itemContentHeight = o.value(function() {
return t.itemHeight - o.Grid.spacer(2);
}, "540caa5d:178:31"), e.itemLabelBlurred = i.wrap(function() {
return o.style({
color: "#5f6165"
}, "540caa5d:180:30");
}), e.itemDisabled = i.wrap(function() {
return o.style({
opacity: .3
}, "540caa5d:184:26");
}), e.disabledItem = i.wrap(function() {
return o.style({
layer: !0,
layerGrabBackground: !1,
layerGrayScale: 1
}, "540caa5d:188:26");
}), e.itemLabel = o.multistyle(function(e) {
return o.style({
color: e ? "#000000" : "#5f6165"
}, "540caa5d:194:58");
}), e.itemLabelFiller = i.wrap(function() {
return o.style({
opacity: 0,
height: 1,
marginBottom: -1
}, "540caa5d:200:29");
}), e.item = i.wrap(function() {
return o.style({
zOffset: 10,
height: t.itemHeight,
flexDirection: "row",
padding: [ o.Grid.spacer(), 0, o.Grid.spacer(), 0 ]
}, "540caa5d:206:18");
}), e.menu = i.wrap(function() {
return o.style({
zOffset: a.mainMenu,
position: "absolute",
right: o.LayoutBounds.screen.width,
backgroundColor: "#ffffff",
justifyContent: "center",
alignItems: "flex-end"
}, "540caa5d:213:18");
}), e.menuTransition = o.value(function() {
return o.Constants.isPC ? {
duration: 22 / 60 * 1e3 / 1.5
} : {};
}, "540caa5d:223:28"), e.menuWrapper = o.multistyle(function(e) {
return o.style({
enableMouseEvents: e,
opacity: o.Constants.isPC ? o.tweenSwitch(0, 1, e, t.menuTransition, t.menuTransition) : 1,
translateX: o.tweenSwitch(0, o.LayoutBounds.mainMenu.width, e, t.menuTransition, t.menuTransition)
}, "540caa5d:225:60");
}), e.wrapper = o.multistyle(function(e) {
return o.style({
paddingTop: o.LayoutBounds.dangerZoneSize.height,
paddingBottom: o.LayoutBounds.dangerZoneSize.height,
height: o.LayoutBounds.mainMenu.height,
width: (e ? o.Grid.spacer(3) : 0) + o.LayoutBounds.mainMenu.width - o.LayoutBounds.dangerZoneSize.width
}, "540caa5d:243:51");
}), e.itemsPC = i.wrap(function() {
return o.style({
height: 10.5 * t.itemHeight
}, "540caa5d:251:21");
}), e.itemsConsole = i.wrap(function() {
return o.style({
height: 9.5 * t.itemHeight
}, "540caa5d:254:26");
}), e.logo = i.wrap(function() {
return o.style({
width: 261,
height: 50,
marginBottom: o.Grid.getHeight(5.5),
textureMode: "contain",
textureAlign: [ 0, .5 ],
texture: o.bbOfflineUrl("/sparta/assets/layout/logos/logo-gray-on-white-e3651836.png")
}, "540caa5d:258:18");
}), e.activeIndicator = i.wrap(function() {
return o.style({
position: "absolute",
right: 0,
zOffset: 100,
top: o.Grid.spacer(),
width: o.Grid.spacer(),
height: t.itemContentHeight,
backgroundColor: [ 255, 153, 0, 255 ]
}, "540caa5d:267:29");
}), e.betaIcon = i.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/beta_small-05316fb7.png"),
width: 60,
height: 24,
marginLeft: 3 * o.Grid.GUTTER
}, "540caa5d:277:22");
}), e.labelIcon = i.wrap(function() {
return o.style({
flex: 1,
marginRight: o.Grid.spacer(4)
}, "540caa5d:284:23");
}), e = t = r.__decorate([ i.style ], e);
}();
t.MainMenuStyles = c;
var p = function() {
function e() {}
return e.base = i.wrap(function() {
return o.style({
zOffset: a.tint,
position: "absolute"
}, "540caa5d:292:18");
}), e.tint = o.multistyle2(function(e, t) {
return o.style({
layer: !0,
layerBlur: 1,
layerBlurStrength: 5,
layerGrabBackground: !0,
backgroundColor: o.tweenSwitch("#000000cc", "#00000088", t),
layerOpacity: o.tweenSwitch(0, 1, e),
enableMouseEvents: e
}, "540caa5d:297:72");
}), e = r.__decorate([ i.style ], e);
}();
t.TintStyles = p;
var d = function() {
function e() {}
return e.displayIcon = o.value(function() {
return !0;
}, "540caa5d:312:25"), e.displayColor = o.value(function() {
return !0;
}, "540caa5d:313:26"), e.textType = o.value(function() {
return "emphasis";
}, "540caa5d:314:22"), e.container = i.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center",
alignSelf: "center"
}, "540caa5d:316:23");
}), e.notice = o.stylefunc(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/notice-white-fc04f4ac.png"),
width: 24,
height: 24,
marginRight: o.Grid.spacer(2)
}, "540caa5d:323:14");
}, function(e) {
return o.dynamicStyle({
color: e.color
}, "540caa5d:330:37");
}), e.noticeText = i.wrap(function() {
return o.style({}, "540caa5d:336:24");
}), e = r.__decorate([ i.style ], e);
}();
t.NoticeStyles = d;
var f = function() {
function e() {}
return e.mainMenuWidth = o.value(function() {
return o.LayoutBounds.mainMenu.width;
}, "540caa5d:341:27"), e.transitionOptions = o.value(function() {
return o.Constants.isPC ? o.Constants.tweenOptions.presets.transition : o.Constants.tweenOptions.default;
}, "540caa5d:342:31"), e.viewport = i.wrap(function() {
return o.style({
zOffset: a.viewContainer,
position: "absolute",
left: o.LayoutBounds.screen.left,
top: o.LayoutBounds.screen.top,
width: o.LayoutBounds.screen.width,
height: o.LayoutBounds.screen.height
}, "540caa5d:346:22");
}), e = r.__decorate([ i.style ], e);
}();
t.ViewContainerStyles = f;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), n(1), n(0), n(878), n(879), n(880);
var r = n(84), o = n(52);
t.loadFont = function(e, t) {
r.options.urlHook && (t = r.options.urlHook(t)), o.nativeApi.loadFont(e, t);
};
var i = 0;
t.autoId = function a(e) {
return e + "_" + i++;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(10), i = n(10), a = n(522);
function s(e) {
var t = i.nativePropertiesStore.getHostingGameId();
if (!t) throw new Error("Cannot check hosting game before it is set!");
return t === e;
}
t.isHostingGame = s, t.routeIsHostingGame = r.computed(function() {
return s(o.layoutStateStore.current.config.gameId);
}), t.supportsSpectating = function u(e) {
var t = i.gameStore.getGame(e);
return !!(t && t.serverConfig.supportedRoles && t.serverConfig.supportedRoles.indexOf("spectator") > -1) && (!t.serverConfig.hasSpectatorFeatureFlag || (t.serverConfig.spectatorFeatureFlag ? t.serverConfig.spectatorFeatureFlag.isEnabled() : a.gameFeatureFlags.spectator.isEnabled()));
}, t.supportsCommander = function l(e) {
var t = i.gameStore.getGame(e);
return t && t.serverConfig.supportedRoles && t.serverConfig.supportedRoles.indexOf("commander") > -1;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(257), s = n(77), u = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.twinkle = a.TwinkleContext.getFromComponent(r), r.focusItem = r.twinkle.focus.create(r, r.props.id), 
r.focusItem.autoFocusCandidate = !!t.autoFocusCandidate, t.group && t.group.addMember(r.focusItem, t.groupIndex), 
r.reaction(function() {
return r.focusItem.bounds;
}, function(e) {
"function" == typeof r.props.onBounds && e && r.props.onBounds(e);
}, {
fireImmediately: !0
}), s.onComponentDidUpdate(r, function(e) {
void 0 !== e.focusOnHover && (r.focusItem.focusOnHover = e.focusOnHover), r.focusItem.setActive("Focusable.tsx", "boolean" != typeof e.isActive || e.isActive);
}), r;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.focusItem.onFocus(function() {
"function" == typeof e.props.onFocus && e.props.onFocus(e.props.groupIndex);
}), this.focusItem.onBlur(function() {
"function" == typeof e.props.onBlur && e.props.onBlur(e.props.groupIndex);
}), this.focusItem.onHover(function() {
"function" == typeof e.props.onHover && e.props.onHover(e.props.groupIndex);
}), this.focusItem.onLeave(function() {
"function" == typeof e.props.onLeave && e.props.onLeave(e.props.groupIndex);
});
}, t.prototype.render = function() {
return this.props.children(this.focusItem) || null;
}, t.contextTypes = a.TwinkleContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.Focusable = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(1187), r = n(24), o = -35101, i = -35220;
var a = e.createClients(function s(e, t) {
return new Promise(function(n, a) {
r.request(e, t).then(n, function(e) {
var t = e.code, n = e.message;
e.localizedMessage = t >= i && t <= o ? n : __("ID_SHARED_PLATOONS_ERROR_INTERNAL_ERROR"), 
a(e);
});
});
});
t.platoonsStores = e.createStores(a);
}).call(this, n(2));
}, function(e, t, n) {
var r = n(55), o = n(463), i = n(165), a = Object.defineProperty;
t.f = n(83) ? Object.defineProperty : function e(t, n, s) {
if (r(t), n = i(n, !0), r(s), o) try {
return a(t, n, s);
} catch (e) {}
if ("get" in s || "set" in s) throw TypeError("Accessors not supported!");
return "value" in s && (t[n] = s.value), t;
};
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
});
var o = n(1006), i = n(1007), a = n(84), s = n(40), u = n(149), l = n(1008), c = n(52), p = n(133), d = n(77), f = p.__Logger.get("TextureHandler");
t.GAME_SCREEN_TEXTURE = "GAME_SCREEN_TEXTURE", t.STATIC_ATLAS = "STATIC_ATLAS", 
t.SINGLE_TEXTURE = "SINGLE_TEXTURE", t.DYNAMIC_ATLAS = "DYNAMIC_ATLAS", t.twinkleAtlasIds = {
StaticAtlas: 0,
SingleTexture: 1,
DynamicAtlas: 2
}, t.atlasToId = ((r = {})[t.STATIC_ATLAS] = t.twinkleAtlasIds.StaticAtlas, r[t.SINGLE_TEXTURE] = t.twinkleAtlasIds.SingleTexture, 
r[t.DYNAMIC_ATLAS] = t.twinkleAtlasIds.DynamicAtlas, r);
var m = function() {
function e(e) {
var t = this;
this.unmounted = !1, this.unloaders = [], this.textures = [], e && d.addLifecycleHook(e, "componentWillUnmount", function() {
t.destroy();
});
}
return e.prototype.isLoaded = function() {
return this.textures.length > 0 && this.textures.every(function(e) {
return e.isLoaded();
});
}, e.prototype.onLoaded = function(e) {
if (this.isLoaded()) e(); else var t = this.textures.length, n = this.textures.map(function(r) {
return r.onLoaded(function() {
0 === --t && (n && n.forEach(function(e) {
return e();
}), e());
});
});
}, e.prototype.preload = function(e, n) {
var r = this;
if (this.unmounted) throw new Error("Trying to preload on an unmounted component");
var o = t.textureHandler.getOrCreateTexture(a.options.urlHook(e), n);
this.textures.push(o), t.textureHandler.keepAlive.increaseRefCount(o);
var i = !1, s = function() {
if (!i) {
i = !0;
var e = r.textures.indexOf(o);
r.textures.splice(e, 1), t.textureHandler.keepAlive.decreaseRefCount(o);
}
};
return this.unloaders.push(s), s;
}, e.prototype.unloadAll = function() {
this.unloaders.forEach(function(e) {
return e();
}), this.unloaders.length = 0;
}, e.prototype.destroy = function() {
this.unmounted = !0, this.unloadAll();
}, e;
}();
t.TexturePreloader = m;
var h = function() {
function e() {
var e = this;
this.keyToTexture = {}, this.keepAlive = new l.TextureKeepAlive(), this.getPendingTextures = function() {
return e.getTextures().filter(function(e) {
return !e.isLoaded();
});
};
}
return e.backwardsCompatibleAtlas = function(e, n) {
if ("string" == typeof n) return s.getBuildInfo().hasJsCreateAtlas() ? n : "SpartaCommonAtlas" === n ? t.DYNAMIC_ATLAS : t.SINGLE_TEXTURE;
if ("number" == typeof n) {
if (n === t.twinkleAtlasIds.StaticAtlas) return t.STATIC_ATLAS;
if (n === t.twinkleAtlasIds.SingleTexture) return t.SINGLE_TEXTURE;
if (n === t.twinkleAtlasIds.DynamicAtlas) return t.DYNAMIC_ATLAS;
} else if (void 0 === n) return t.SINGLE_TEXTURE;
throw new Error("Got invalid atlas " + n + " for url " + e);
}, e.prototype.unmount = function(e) {
this.keepAlive.unmount(e), o.TextureFadeIn.unmount(e);
}, e.prototype.createPreloader = function(e) {
return new m(e);
}, e.prototype.getTextures = function() {
var e = this;
return Object.keys(this.keyToTexture).map(function(t) {
return e.keyToTexture[t];
});
}, e.prototype.loadDefaultTexture = function(e, t, n) {
c.nativeApi.loadDefaultTexture(e, a.options.urlHook(t), n);
}, e.prototype.getTexture = function(t, n) {
var r = i.Texture.toReference(t, e.backwardsCompatibleAtlas(t, n));
return this.keyToTexture[r.key];
}, e.prototype.getOrCreateTexture = function(t, n) {
var r = i.Texture.toReference(t, e.backwardsCompatibleAtlas(t, n)), o = this.keyToTexture[r.key];
return o || (o = this.keyToTexture[r.key] = new i.Texture(r)), o;
}, e.prototype.getAtlas = function(n, r, o) {
return r === t.GAME_SCREEN_TEXTURE ? t.SINGLE_TEXTURE : "" !== r ? e.backwardsCompatibleAtlas(r, o) : void f.error("Trying to load empty string as texture in surface. " + n);
}, e.prototype.handle = function(e, n, r, i) {
if (n === t.GAME_SCREEN_TEXTURE) return t.SINGLE_TEXTURE;
if ("" !== n) {
var a = this.getOrCreateTexture(n, r);
return a.isLoaded() || a.loading(), i && (this.keepAlive.handle(e, a, i), o.TextureFadeIn.handle(e, a, i)), 
a.reference.atlas;
}
f.error("Trying to load empty string as texture in surface: " + e._rootNodeID);
}, e.prototype.update = function(e, n, r) {
"string" == typeof n.texture && (n.texture = a.options.urlHook(n.texture), n.textureAtlas = this.handle(e, n.texture, n.textureAtlas, r ? void 0 : n)), 
"string" == typeof n.texture1 && (n.texture1 = a.options.urlHook(n.texture1), n.texture1Atlas = this.handle(e, n.texture1, n.texture1Atlas)), 
"string" == typeof n.texture2 && (n.texture2 = a.options.urlHook(n.texture2), n.texture2Atlas = this.handle(e, n.texture2, n.texture2Atlas)), 
"string" == typeof n.texture3 && (n.texture3 = a.options.urlHook(n.texture3), n.texture3Atlas = this.handle(e, n.texture3, n.texture3Atlas)), 
n.spriteAnimation && "string" == typeof n.spriteAnimation.spriteSheet && (n.spriteAnimation.spriteSheet = a.options.urlHook(n.spriteAnimation.spriteSheet), 
n.spriteAnimation.spriteSheetAtlas = this.handle(e, n.spriteAnimation.spriteSheet, t.SINGLE_TEXTURE)), 
delete n.isPreloader;
}, e.prototype.onTextureUnloaded = function(e, n) {
if (e !== t.GAME_SCREEN_TEXTURE) {
var r = this.getTexture(e, n);
r ? r.unloaded() : f.warn("Got unload for unknown texture:", e, n);
}
}, e.prototype.onTextureLoaded = function(e, n, r, o, i) {
e !== t.GAME_SCREEN_TEXTURE && (this.getOrCreateTexture(e, n).loaded(r), u.onTextureLoaded.trigger());
}, e.prototype.waitForReady = function(e, t, n) {
return void 0 === t && (t = 5e3), new Promise(function(r) {
var o, i;
0 !== n().length ? (i = u.onTextureLoaded.listen(function() {
0 === n().length && a(!0);
}), o = setTimeout(function() {
f.warn(e + " timed out waiting " + t + "ms for all textures to be ready.", "Textures still loading:", n().map(function(e) {
return e.reference.url;
})), a(!1);
}, t)) : r(!0);
function a(e) {
i(), clearTimeout(o), r(e);
}
});
}, e;
}();
t.TextureHandler = h, t.textureHandler = new h(), c.nativeApi.onTextureLoaded = t.textureHandler.onTextureLoaded.bind(t.textureHandler), 
c.nativeApi.onTextureUnloaded = t.textureHandler.onTextureUnloaded.bind(t.textureHandler);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(34), a = n(4), s = n(3), u = n(14), l = n(15), c = n(8), p = n(365), d = n(5), f = n(9), m = n(17), h = n(22), g = d.StaticStyle.create({
texture: u.bbOfflineUrl("/sparta/jsclient/builds/assets/right_white-8a3f8212.png")
}, "9817d95f:16:21");
t.sideSoftClip = f.SpartaGlobals.bundleIsConsole ? p.dangerZoneSize.width : c.getWidth(2.5);
var y = c.getWidth(1), S = d.StaticStyle.wrapLegacyStyleSheet({
arrow: {
zOffset: 1e3,
width: y,
height: y,
padding: [ c.GUTTER, 1.5 * c.GUTTER, c.GUTTER, 1.5 * c.GUTTER ],
position: "absolute"
},
arrowTexture: {
flex: 1,
textureAtlas: "SpartaCommonAtlas",
textureMode: "cover"
}
}, "9817d95f:22:15"), v = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.shouldKeepArrowsVisible = !1, r.visiblityTween = l.Animation.tween("9817d95f:51:38", 0), 
r.onMouseScroll = function(e) {
r.props.onMouseScroll(e);
}, r.focusItem = h.focusSystem.create(r, "arrow_" + t.direction + "-" + t.id), r.focusItem.onClick.listen(function() {
r.keepArrowsVisibleFor(1e3), r.props.onClick(t.direction);
}), r;
}
return r.__extends(t, e), t.prototype.componentWillUnmount = function() {
clearTimeout(this.keepArrowsVisibleTimeout), this.visiblityTween.destroy();
}, Object.defineProperty(t.prototype, "isVisible", {
get: function() {
var e = this.props.scrollerState[this.props.canScroll] || this.shouldKeepArrowsVisible;
return this.visiblityTween.to(e ? 1 : 0, e ? l.Animation.presets.focusables.enter.fast : l.Animation.presets.focusables.leave), 
e;
},
enumerable: !0,
configurable: !0
}), t.prototype.keepArrowsVisibleFor = function(e) {
var t = this;
this.shouldKeepArrowsVisible = !0, this.keepArrowsVisibleTimeout = setTimeout(s.action(function() {
t.shouldKeepArrowsVisible = !1;
}), e);
}, t.prototype.render = function() {
var e = m.CommonStyles.textureScale("left" === this.props.direction ? [ -1, 1 ] : [ 1, 1 ]), t = m.CommonStyles.color(this.focusItem.isHovered ? "#000000" : "#ffffff"), n = d.DynamicStyle.create({
top: (this.props.scrollerState.containerBounds.height - y) / 2,
enableMouseEvents: this.isVisible,
backgroundColor: this.focusItem.isHovered ? "#ffffff" : "#00000055",
left: "left" === this.props.direction ? c.GUTTER - y / 2 : void 0,
right: "right" === this.props.direction ? -c.getWidth(1.5) : void 0
}, "9817d95f:100:27");
return o.createElement("surface", r.__assign({
style: d.merge3(S.arrow, this.visiblityTween.getStyleClass("opacity"), n)
}, this.focusItem.hooks, {
onMouseScroll: this.onMouseScroll
}), o.createElement("surface", {
style: d.merge4(S.arrowTexture, g, e, t)
}));
}, r.__decorate([ s.observable ], t.prototype, "shouldKeepArrowsVisible", void 0), 
r.__decorate([ s.computed ], t.prototype, "isVisible", null), r.__decorate([ s.action ], t.prototype, "keepArrowsVisibleFor", null), 
t = r.__decorate([ a.observer ], t);
}(o.Component), _ = function(e) {
function n() {
var t = null !== e && e.apply(this, arguments) || this;
return t.scrollerState = new i.ScrollerState(), t.scroll = function(e) {
var n = b(t.scrollerState, e);
n && t.scrollerState.scrollToBounds(t.scrollerState.getLocalBounds(n));
}, t.onMouseScroll = function(e) {
t.props.mouseScroll && (t.scrollerState.canScrollLeft || t.scrollerState.canScrollRight) && (e.stopPropagation(), 
t.scroll(e.scroll > 0 ? "left" : "right"));
}, t;
}
return r.__extends(n, e), n.prototype.renderArrows = function() {
return !h.focusSystem.controllerMode && [ o.createElement(v, {
key: "left",
scrollerState: this.scrollerState,
canScroll: "canScrollLeft",
direction: "left",
id: this.props.id,
onClick: this.scroll,
onMouseScroll: this.onMouseScroll
}), o.createElement(v, {
key: "right",
scrollerState: this.scrollerState,
canScroll: "canScrollRight",
direction: "right",
id: this.props.id,
onClick: this.scroll,
onMouseScroll: this.onMouseScroll
}) ];
}, n.prototype.render = function() {
var e = f.SpartaGlobals.bundleIsPC && this.props.width === c.getWidth(24) ? c.getWidth(23) : this.props.width, n = d.merge2(d.DynamicStyle.create({
width: e
}, "9817d95f:181:30"), d.DynamicStyle.maybeLegacyStyle(this.props.style, "9817d95f:181:59")), a = d.merge2(d.DynamicStyle.create({
flexWrap: "nowrap",
flexDirection: "row"
}, "9817d95f:182:35"), d.DynamicStyle.maybeLegacyStyle(this.props.innerStyle, "9817d95f:183:77"));
return o.createElement(i.Scroller, r.__assign({
tween: !0,
scrollbar: !1,
noVerticalScroll: !0,
scrollerState: this.scrollerState,
onMouseScroll: this.onMouseScroll,
softClip: [ 0, t.sideSoftClip, 0, this.props.clipLeft ? t.sideSoftClip : 0 ],
style: n,
clipMargin: [ 3 * c.GUTTER, t.sideSoftClip, 3 * c.GUTTER, f.SpartaGlobals.bundleIsPC ? this.props.clipLeft ? t.sideSoftClip : 5 * c.GUTTER : c.getWidth(this.props.clipLeft ? .5 : 2) ]
}, this.props.scrollerProps, {
overlay: f.SpartaGlobals.bundleIsPC && this.renderArrows()
}), o.createElement("surface", {
style: a
}, this.props.children));
}, n.defaultProps = {
mouseScroll: !0
}, n = r.__decorate([ a.observer ], n);
}(o.Component);
function b(e, t) {
return h.focusSystem.withBounds(function() {
var n = e.focusAncestor.children.map(function(e) {
return e.getBounds();
}).filter(function(e) {
return !!e;
}), r = e.containerBounds.left, o = e.containerBounds.right, i = Number.MAX_VALUE, a = [], s = [];
"left" === t ? (a = n.map(function(e) {
return e && e.right < r ? r - e.right : i;
}), s = n.map(function(e) {
return e && e.right > r && e.left < r ? r - e.left : i;
})) : (a = n.map(function(e) {
return e && e.left > o ? e.left - o : i;
}), s = n.map(function(e) {
return e && e.left < o && e.right > o ? e.right - o : i;
}));
var u = T(a), l = T(s);
return u && u.delta !== i ? n[u.index] : l && l.delta !== i ? n[l.index] : void 0;
});
}
function T(e) {
return e.map(function(e, t) {
return {
delta: e,
index: t
};
}).sort(function(e, t) {
return e.delta > t.delta ? 1 : -1;
})[0];
}
t.CardCarousel = _, t.getBoundsForOverflowingChildInDirection = b;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(322), a = n(10), s = n(159), u = n(43);
!function(e) {
e[e.highlights = 0] = "highlights", e[e.personal = 1] = "personal", e[e.scoreboard = 2] = "scoreboard", 
e[e.squad = 3] = "squad", e[e.feedback = 4] = "feedback", e[e.operations = 5] = "operations", 
e[e.stats = 6] = "stats";
}(t.EorPages || (t.EorPages = {})), t.isEorPayload = function l(e, t) {
return "EOR_UPDATE" === t;
};
var c = function() {
function e() {
var e = this;
this.data = void 0, this.unrankedData = void 0, this.battlePacksData = void 0, this.scrapsData = void 0, 
this.error = void 0, this.isActive = !1, this.fallbackMapName = "", this.fallbackGameMode = "", 
this.nextLevelName = void 0, this.nextGameMode = void 0, this.loadingScreenReady = !1, 
this.quitInProgress = !1, this.viewedPages = [], this.gameReadyToQuit = !1, this.reportedPlayers = [], 
this.unrankedGame = !1, this.readyToShowNextInfo = !1, this.surveySeen = !1, this.surveyComplete = !1, 
this.mustQuitAfterUpdate = !1, this.hasReceivedNextRoundInfo = !1, this.mustQuitAfterUpdateDisposer = o.reaction(function() {
return e.mustQuitAfterUpdate;
}, function(t) {
t && (e.setMustQuitAfterUpdate(!1), s.toggleQuittingOverlay(!1));
}), u.stopGame.listen(function() {
e.data && e.clearEndOfRoundData();
});
}
return e.prototype.initializeEor = function() {
this.loadingScreenReady = !1;
}, e.prototype.setEndOfRoundData = function(e) {
this.data = e;
}, e.prototype.setError = function(e) {
this.error = e;
}, e.prototype.clearEndOfRoundData = function(e) {
this.viewedPages = [], this.reportedPlayers = [], this.data = void 0, this.unrankedData = void 0, 
this.error = void 0, this.gameReadyToQuit = !1, this.surveySeen = !1, this.battlePacksData && this.battlePacksData.gameReportId !== e && (this.battlePacksData = void 0), 
this.fallbackGameMode = "", this.fallbackMapName = "", this.nextGameMode = void 0, 
this.nextLevelName = void 0, this.readyToShowNextInfo = !1, this.hasReceivedNextRoundInfo = !1, 
this.surveyComplete = !1;
}, Object.defineProperty(e.prototype, "battlePacks", {
get: function() {
return this.data && this.data.battlePacks || this.battlePacksData;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "scraps", {
get: function() {
return this.data && this.data.scraps && this.data.scraps.totalAmount > 0 ? this.data.scraps : this.scrapsData && this.scrapsData.totalAmount > 0 ? this.scrapsData : new i.EndOfRoundScraps(0, 0, 0);
},
enumerable: !0,
configurable: !0
}), e.prototype.setBattlepacks = function(e) {
this.battlePacksData = e;
}, e.prototype.setScraps = function(e) {
this.scrapsData = e;
}, e.prototype.setFallbackMapName = function(e) {
this.fallbackMapName = e;
}, e.prototype.setFallbackGameMode = function(e) {
this.fallbackGameMode = e;
}, e.prototype.setQuitProgress = function(e) {
this.quitInProgress = e;
}, e.prototype.setGameReadyToQuit = function(e) {
this.gameReadyToQuit = e;
}, e.prototype.setReadyToShowNextInfo = function() {
this.readyToShowNextInfo = !0;
}, e.prototype.setLoadingState = function(e) {
var t = this, n = e.levelName || "";
-1 === n.toLowerCase().indexOf("frontend") ? (n && "" !== n && (this.nextLevelName = function r(e) {
var t = e.lastIndexOf("/");
return t > -1 ? e.substring(t + 1) : void 0;
}(n)), e.gameMode && "" !== e.gameMode && (this.nextGameMode = e.gameMode && e.gameMode.replace(/[_0-9]+$/, "")), 
this.loadingScreenReady = !0, this.hasReceivedNextRoundInfo || (this.hasReceivedNextRoundInfo = !0, 
setTimeout(function() {
t.setReadyToShowNextInfo();
}, 1e3))) : (this.nextLevelName = void 0, this.nextGameMode = void 0);
}, e.prototype.clearViewedPages = function() {
this.viewedPages = [];
}, e.prototype.viewPage = function(e) {
this.isViewed(e) || this.viewedPages.push(e);
}, e.prototype.reportPlayer = function(e) {
this.isReported(e) || this.reportedPlayers.push(e);
}, e.prototype.setUnrankedGame = function(e) {
this.unrankedGame = e;
}, e.prototype.setSurveySeen = function() {
this.surveySeen = !0;
}, e.prototype.setUnRankedData = function(e) {
this.unrankedData = e;
}, e.prototype.setSurveyComplete = function(e) {
this.surveyComplete = e;
}, e.prototype.setMustQuitAfterUpdate = function(e) {
this.mustQuitAfterUpdate = e;
}, e.prototype.isViewed = function(e) {
return this.viewedPages.indexOf(e) >= 0;
}, e.prototype.isReported = function(e) {
return this.reportedPlayers.indexOf(e) >= 0;
}, r.__decorate([ o.observable ], e.prototype, "data", void 0), r.__decorate([ o.observable ], e.prototype, "unrankedData", void 0), 
r.__decorate([ o.observable ], e.prototype, "battlePacksData", void 0), r.__decorate([ o.observable ], e.prototype, "scrapsData", void 0), 
r.__decorate([ o.observable ], e.prototype, "error", void 0), r.__decorate([ o.observable ], e.prototype, "isActive", void 0), 
r.__decorate([ o.observable ], e.prototype, "fallbackMapName", void 0), r.__decorate([ o.observable ], e.prototype, "fallbackGameMode", void 0), 
r.__decorate([ o.observable ], e.prototype, "nextLevelName", void 0), r.__decorate([ o.observable ], e.prototype, "nextGameMode", void 0), 
r.__decorate([ o.observable ], e.prototype, "loadingScreenReady", void 0), r.__decorate([ o.observable ], e.prototype, "quitInProgress", void 0), 
r.__decorate([ o.observable ], e.prototype, "viewedPages", void 0), r.__decorate([ o.observable ], e.prototype, "gameReadyToQuit", void 0), 
r.__decorate([ o.observable ], e.prototype, "reportedPlayers", void 0), r.__decorate([ o.observable ], e.prototype, "unrankedGame", void 0), 
r.__decorate([ o.observable ], e.prototype, "readyToShowNextInfo", void 0), r.__decorate([ o.observable ], e.prototype, "surveySeen", void 0), 
r.__decorate([ o.observable ], e.prototype, "surveyComplete", void 0), r.__decorate([ o.observable ], e.prototype, "mustQuitAfterUpdate", void 0), 
r.__decorate([ o.action ], e.prototype, "initializeEor", null), r.__decorate([ o.action ], e.prototype, "setEndOfRoundData", null), 
r.__decorate([ o.action ], e.prototype, "setError", null), r.__decorate([ o.action ], e.prototype, "clearEndOfRoundData", null), 
r.__decorate([ o.computed ], e.prototype, "battlePacks", null), r.__decorate([ o.computed ], e.prototype, "scraps", null), 
r.__decorate([ o.action ], e.prototype, "setBattlepacks", null), r.__decorate([ o.action ], e.prototype, "setScraps", null), 
r.__decorate([ o.action ], e.prototype, "setFallbackMapName", null), r.__decorate([ o.action ], e.prototype, "setFallbackGameMode", null), 
r.__decorate([ o.action ], e.prototype, "setQuitProgress", null), r.__decorate([ o.action ], e.prototype, "setGameReadyToQuit", null), 
r.__decorate([ o.action ], e.prototype, "setReadyToShowNextInfo", null), r.__decorate([ o.action ], e.prototype, "setLoadingState", null), 
r.__decorate([ o.action ], e.prototype, "clearViewedPages", null), r.__decorate([ o.action ], e.prototype, "viewPage", null), 
r.__decorate([ o.action ], e.prototype, "reportPlayer", null), r.__decorate([ o.action ], e.prototype, "setUnrankedGame", null), 
r.__decorate([ o.action ], e.prototype, "setSurveySeen", null), r.__decorate([ o.action ], e.prototype, "setUnRankedData", null), 
r.__decorate([ o.action ], e.prototype, "setSurveyComplete", null), r.__decorate([ o.action ], e.prototype, "setMustQuitAfterUpdate", null), 
e;
}();
t.TunguskaEndOfRoundStore = c, t.tunguskaEndOfRoundStore = new c(), a.gameStateStoreLoader.onLoad(function(e) {
o.reaction(function() {
return e.hasLoadedLevel;
}, function(e) {
return t.tunguskaEndOfRoundStore.setGameReadyToQuit(e);
});
});
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = e.get("GameViewState");
t.GameViewRoute = {
NONE: "none",
EOR: "eor",
OPERATIONS_PRE_EOR: "operationspreeor",
BATTLEPLAN_PRE_EOR: "battleplanpreeor",
PLAYING: "playing",
LOADING: "loading"
}, t.GameViewSubRoute = {
NONE: "none",
DEFAULT: "default",
RSP_ADMIN: "rspadmin",
SERVER_DETAILS: "serverdetails",
BATTLEPACKS: "battlepacks",
SURVEY: "survey",
MEDALS: "medals",
MISSIONS: "missions",
HELP: "help"
};
var a = function() {
function e() {
this.route = t.GameViewSubRoute.NONE, this.subRoute = t.GameViewSubRoute.NONE, this.previousRoute = t.GameViewRoute.NONE, 
this.previousSubRoute = t.GameViewSubRoute.NONE, this.isVisible = !1, this.hold = !1;
}
return e.prototype.setHold = function(e) {
i.debug("setHold", e), this.hold = e;
}, e.prototype.setVisible = function(e) {
i.debug("setVisible", e), this.isVisible = e, e || (this.route = t.GameViewRoute.NONE, 
this.subRoute = t.GameViewSubRoute.NONE);
}, e.prototype.setRoute = function(e) {
i.debug("setRoute", e), this.previousRoute = this.route, this.route = e;
}, e.prototype.setSubRoute = function(e) {
i.debug("setSubRoute", e), this.previousSubRoute = this.subRoute, this.subRoute = e;
}, e.prototype.clearPreviousRoutes = function() {
this.previousRoute = t.GameViewRoute.NONE, this.previousSubRoute = t.GameViewSubRoute.NONE;
}, e.prototype.isRoute = function(e) {
return this.route === e;
}, e.prototype.hasSubRoute = function() {
return this.subRoute !== t.GameViewSubRoute.NONE;
}, e.prototype.hasRoute = function() {
return this.route !== t.GameViewRoute.NONE;
}, r.__decorate([ o.observable ], e.prototype, "route", void 0), r.__decorate([ o.observable ], e.prototype, "subRoute", void 0), 
r.__decorate([ o.observable ], e.prototype, "previousRoute", void 0), r.__decorate([ o.observable ], e.prototype, "previousSubRoute", void 0), 
r.__decorate([ o.observable ], e.prototype, "isVisible", void 0), r.__decorate([ o.observable ], e.prototype, "hold", void 0), 
r.__decorate([ o.action ], e.prototype, "setHold", null), r.__decorate([ o.action ], e.prototype, "setVisible", null), 
r.__decorate([ o.action ], e.prototype, "setRoute", null), r.__decorate([ o.action ], e.prototype, "setSubRoute", null), 
r.__decorate([ o.action ], e.prototype, "clearPreviousRoutes", null), e;
}();
t.GameViewState = a;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(5), a = n(42), s = n(12), u = n(11), l = n(6), c = n(21), p = n(7), d = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = p.SpartaContext.getFromComponent(r), r.focusItem = e.focusItem || r.sparta.twinkle.focus.create(r, e.name), 
r.focusItem.autoFocusCandidate = !e.disableAutoFocus, r.input = new s.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
return r.props.action && r.props.action();
},
key: u.Keys.Accept,
blockInputFor: e.blockInputFor
}), r.sparta.stores.inputStore.bindInputToFocusItem(function() {
return r.props.disabled ? void 0 : r.input;
}, r.focusItem), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.props.stealFocus && this.sparta.twinkle.focus.setAsFocused(this.focusItem, a.FocusSource.Auto, !0);
}, n.prototype.render = function() {
var t = this.props, n = t.text, o = t.disabled, a = t.style, s = t.upperCase, u = t.textSize, c = t.children, p = this.focusItem.isFocused, d = this.focusItem.isHovered, m = this.focusItem.isPressed, h = this.sparta.theme.getTheme(this), g = h.components.HoverSFX, y = h.button2;
return r.createElement(g, {
focusItem: this.focusItem
}, r.createElement("surface", e.__assign({
style: i.merge2(y.button(o, p, d, m), a)
}, this.focusItem.hooks), y.showGlow && r.createElement(f, {
focusItem: this.focusItem
}), y.showBorder && r.createElement("surface", {
style: y.border
}), y.showOverlay && r.createElement("surface", {
style: y.overlay(o, p, d, m)
}), c && c(y.icon(o, p, d, m)), r.createElement(l.Text, {
value: s ? n.toUpperCase() : n,
size: u,
type: y.textType,
style: y.text(o, p, d, m)
})));
}, n.contextTypes = p.SpartaContext.contextTypes, n.defaultProps = {
blockInputFor: 500,
disabled: !1,
upperCase: !0,
text: " ",
textSize: c.TextSize.S
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.Button = d;
var f = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = p.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).button2;
return r.createElement("surface", {
style: e.glow(this.props.focusItem.isFocusedOrHovered)
});
}, n.contextTypes = p.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(66), a = n(4), s = n(3), u = n(137), l = n(37), c = n(6), p = n(8), d = n(15), f = n(567), m = n(19), h = n(5), g = n(33), y = n(7), S = h.StaticStyle.wrapLegacyStyleSheet({
heading: {
opacity: .8,
marginBottom: p.GUTTER
},
iconContainer: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
alignItems: "center",
justifyContent: "center"
},
icon: {
textureMode: "contain",
textureAlign: [ .5, 1 ]
}
}, "4b10a21b:18:15"), v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = y.SpartaContext.getFromComponent(t), t.iconScaleTween = d.Animation.componentTween(t, "4b10a21b:126:52", 1), 
t.iconGrayScaleTween = d.Animation.componentTween(t, "4b10a21b:127:56", 1), t.iconTween = d.Animation.componentTween(t, "4b10a21b:128:47", 1), 
t.iconSizeTween = d.Animation.componentTween(t, "4b10a21b:129:51", 0), t.iconColorTween = d.Animation.componentTween(t, "4b10a21b:130:52", "#ffffff"), 
t.mounted = !1, t.setCard = function(e) {
t.card = e;
}, t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "iconSize", {
get: function() {
if (this.props.iconSize && this.card) {
var e = this.props.staticContentSize ? this.card.height : this.card.backgroundHeight;
if (e > 0) return Math.ceil(e * this.props.iconSize);
}
return 0;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentWillMount = function() {
var e = this;
this.mounted = !0;
var t = this.props.debugName || i.autoId("basicCard");
this.focusItem = this.props.focusItem || this.sparta.twinkle.focus.create(this, t), 
this.reaction(function() {
return e.focusItem.isFocusedOrHovered;
}, function() {
return e.updateTweens();
}, {
fireImmediately: !0
}), this.reaction(function() {
return e.iconSize;
}, function(t) {
e.iconSizeTween.set(t);
}, {
fireImmediately: !0
});
}, t.prototype.componentWillUnmount = function() {
this.mounted = !1;
}, t.prototype.componentDidUpdate = function() {
this.updateTweens();
}, t.prototype.updateTweens = function() {
if (this.mounted) {
var e = !1 !== this.props.enabled, t = 1, n = 0;
(this.props.useGrayScale || this.props.forceGrayScale) && (t = this.props.forceGrayScale || !e ? .5 : 1, 
n = this.props.forceGrayScale || !e ? 1 : 0), this.props.activeIconColor && (this.focusItem.isFocusedOrHovered ? this.iconColorTween.to(this.props.activeIconColor, u.tweenInOptions) : this.iconColorTween.to("#ffffff", u.tweenOutOptions)), 
this.iconTween.set(Math.min(1, t)), this.iconGrayScaleTween.to(n, u.tweenOutOptions), 
this.sparta.twinkle.buildInfo.isConsole && this.iconScaleTween.to(1, u.tweenOutOptions);
}
}, t.prototype.renderTexts = function() {
var e = this.props, t = e.heading, n = e.description, r = e.layout, i = e.textHeight, a = "split" === r, s = this.props.headingType || g.TextType.NORMAL, u = h.DynamicStyle.create({
opacity: a ? .66 : 1,
textAlignForRTL: m.isRTLLanguage() ? "left" : "right"
}, "4b10a21b:204:26");
t && "string" == typeof t && (t = t.toUpperCase());
var l = h.DynamicStyle.create({
color: this.props.headingColor,
textAlignForRTL: m.isRTLLanguage() ? "left" : "right",
marginBottom: n ? S.heading.getStyleValue("marginBottom") : 0
}, "4b10a21b:213:29");
return o.createElement("surface", {
style: {
height: i
}
}, _(t, {
style: h.merge2(S.heading, l),
size: a ? "M" : "XS",
type: s
}), _(n, {
style: u,
size: a ? "XS" : "M"
}));
}, t.prototype.renderIcon = function(e, t) {
var n;
return n = this.props.iconShadow ? o.createElement(f.ShadowedTexture, {
src: e,
style: t
}) : o.createElement("surface", {
style: [ t, {
texture: e
} ]
}), o.createElement("surface", {
style: [ S.iconContainer, this.iconTween.getStyleClass("opacity") ]
}, n);
}, t.prototype.render = function() {
var e, t, n, i = this.props, a = (i.heading, i.description, i.activeIconColor, i.debugName, 
i.textHeight, i.iconSize, i.headingColor, i.iconShadow, i.forceGrayScale, i.headingType, 
i.children), s = i.bottom, l = i.enabled, c = i.layout, p = i.icon, d = r.__rest(i, [ "heading", "description", "activeIconColor", "debugName", "textHeight", "iconSize", "headingColor", "iconShadow", "forceGrayScale", "headingType", "children", "bottom", "enabled", "layout", "icon" ]), f = !1 !== l, m = this.renderTexts();
if ("split" === (void 0 !== c ? c : p ? "split" : "inline") ? e = m : t = m, s && (e = s, 
t = m), p) {
var g = h.merge4(S.icon, this.iconSizeTween.getStyleClass("width"), this.iconSizeTween.getStyleClass("height"), h.merge4(this.iconScaleTween.getStyleClass("scaleX"), this.iconScaleTween.getStyleClass("scaleY"), this.iconColorTween.getStyleClass("color"), this.iconGrayScaleTween.getStyleClass("grayScale")));
n = this.renderIcon(p, g);
}
return o.createElement(u.Card, r.__assign({
ref: this.setCard
}, d, {
focusItem: this.focusItem,
enabled: f,
bottom: e
}), n, a, t);
}, t.contextTypes = y.SpartaContext.contextTypes, t.defaultProps = {
size: l.CardSize.SSM,
useGrayScale: !0,
forceGrayScale: !1,
iconSize: .75
}, r.__decorate([ s.observable ], t.prototype, "card", void 0), r.__decorate([ s.computed ], t.prototype, "iconSize", null), 
r.__decorate([ s.action ], t.prototype, "setCard", void 0), t = r.__decorate([ a.observer ], t);
}(o.Component);
function _(e, t) {
return "string" == typeof e ? o.createElement(c.Text, r.__assign({
value: e
}, t)) : e;
}
t.BasicCard = v;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(3);
function i(e, t, n) {
var r = e._lifecycleHooks || (e._lifecycleHooks = {}), i = !!r[t], a = r[t] || (r[t] = []);
if (a.push(n), !i) {
var s = e[t];
e[t] = function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
o.transaction(function() {
s && s.apply(e, t), a.forEach(function(e) {
return e.apply(void 0, t);
});
});
};
}
return function() {
var e = a.indexOf(n);
e > -1 && a.splice(e, 1);
};
}
t.addReactHelperFunctions = function a() {
r.Component.prototype.reaction = function e(t, n, r) {
i(this, "componentWillUnmount", o.reaction(t, n, r));
}, r.Component.prototype.autorun = function e(t) {
i(this, "componentWillUnmount", o.autorun(t));
}, r.Component.prototype.when = function e(t, n, r) {
i(this, "componentWillUnmount", o.when(t, n, r));
};
}, t.onComponentUpdate = function s(e, t) {
i(e, "componentWillMount", function() {
t(e.props, e.state);
}), i(e, "componentWillUpdate", function(e, n) {
t(e, n);
});
}, t.onComponentDidUpdate = function u(e, t) {
i(e, "componentDidMount", function() {
t(e.props, e.state);
}), i(e, "componentDidUpdate", function() {
t(e.props, e.state);
});
}, t.addLifecycleHook = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3), a = n(40), s = n(84), u = n(288), l = n(52), c = n(5), p = {};
!function(e) {
e[e.finished = 0] = "finished";
}(r || (r = {}));
var d = a.getBuildInfo().isFeatureSupported("TweenerAttachTweenFinishedFix");
function f() {
return {};
}
function m(e) {
if (!a.getBuildInfo().isRetail()) throw new Error(e);
}
function h(e) {
return "string" == typeof e ? "#" === e.substr(0, 1) : "number" == typeof e ? isFinite(e) : void 0 === e || "object" == typeof e && (null === e || Array.isArray(e) && 4 === e.length);
}
t.emptyTweenOptions = f;
var g = function() {
function e(e, t, n) {
void 0 === n && (n = {});
var r = this;
this.id = e, this.initialValue = t, this.defaultOptions = n, this._isDestroyed = !1, 
this.runCallback = function() {
r.callback && (r.callback(), r.callback = void 0);
}, this.previousInstruction = {
to: t,
options: n
}, p[e] = this, l.nativeApi.createTween(e, void 0 !== t ? t : null);
}
return e.destroyTweens = function(e) {
Object.keys(e).forEach(function(t) {
e[t].destroy();
});
}, e.instructionsEquals = function(t, n) {
return t.from === n.from && t.to === n.to && e.optionsEquals(t.options, n.options);
}, e.optionsEquals = function(e, t) {
return e.duration === t.duration && e.speed === t.speed && e.easing === t.easing && e.delay === t.delay;
}, e.getStyles = function(t) {
var n = {};
return Object.keys(t).forEach(function(r) {
var o = t[r];
n[r] = o instanceof e ? o.getStyle() : e.getStyles(o || {});
}), n;
}, e.getStyleClass = function(t, n) {
var r;
return Object.keys(n).forEach(function(t) {
var o = n[t];
if (o instanceof e) {
var i = o.getStyleClass(t);
r = r ? c.merge2(r, i) : i;
} else if (s.options.enableDevWarnings) throw new Error("Tween.getStyleClass called with non-tween (property: " + t + ")");
}), r || c.emptyStyle;
}, e.prototype.onTweenStatus = function(e) {
e === r.finished && this.runCallback();
}, e.prototype.isDestroyed = function() {
return this._isDestroyed;
}, e.prototype.destroy = function() {
this.cancelAutorun && this.cancelAutorun(), this._isDestroyed = !0, delete p[this.id], 
l.nativeApi.destroyTween(this.id);
}, e.getTotalDuration = function(e) {
var t = e.loopCount || 0;
if (t < 0) return -1;
var n = e.duration || 0, r = (e.delay || 0) + n;
return t > 0 && (r += (n + (e.loopDelay || 0)) * t), r;
}, e.prototype.instruct = function(t, n) {
if (this._isDestroyed) return n && n(), void (s.options.enableDevWarnings && m("Tween.transition: Trying to update destroyed Tween with id " + this.id));
if (this.cancelAutorun && this.cancelAutorun(), void 0 === t.from && e.instructionsEquals(this.previousInstruction, t)) n && n(); else {
if (this.runCallback(), n && (this.callback = n, !d)) {
var r = e.getTotalDuration(t.options);
r >= 0 && setTimeout(this.runCallback, r);
}
t = function o(e) {
if (h(e.from) || (e = Object.assign({}, e, {
from: null
}), m("Infinity or NaN passed in Tween from value")), h(e.to) || (e = Object.assign({}, e, {
to: null
}), m("Infinity or NaN passed in Tween to value")), e.options && null != e.options.duration && !isFinite(e.options.duration)) {
var t = Object.assign({}, e.options, {
duration: null
});
e = Object.assign({}, e, {
options: t
}), m("Infinity or NaN passed in Tween duration value");
}
return e;
}(t), this.previousInstruction = t, u.tweenBatcher.batch.push({
tween: this,
instruction: t
}), 0 === u.tweenBatcher.depth && u.tweenBatcher.flush(l.nativeApi);
}
}, e.prototype.transition = function(e, t, n, r) {
this.instruct({
from: e,
to: t,
options: o.__assign({}, this.defaultOptions, n)
}, r);
}, e.prototype.promiseTransition = function(e, t, n) {
var r = this;
return new Promise(function(o) {
r.transition(e, t, n, o);
});
}, e.prototype.autorun = function(e) {
var t = this;
this.cancelAutorun && this.cancelAutorun(), this.cancelAutorun = i.autorun(function() {
return e(t);
});
}, e.prototype.to = function(e, t, n) {
this.transition(void 0, e, t, n);
}, e.prototype.promiseTo = function(e, t) {
var n = this;
return new Promise(function(r) {
n.to(e, t, r);
});
}, e.prototype.set = function(e) {
this.transition(e, e, {
speed: null,
duration: 1
});
}, e.prototype.get = function() {
return this._isDestroyed ? (s.options.enableDevWarnings && m("Tween.get: Trying to get a value for destroyed Tween with id " + this.id), 
0) : l.nativeApi.getTweenValueSync(this.id);
}, e.prototype.getStyle = function() {
return this.id;
}, e.prototype.getStyleClass = function(e) {
var t, n = ((t = {})[e] = this.id, t);
return c.DynamicStyle.create(n, "Tween-" + this.id + "-" + e);
}, e;
}();
t.Tween = g, l.nativeApi.onTweenStatus = d ? function(e, t) {
var n = p[e];
n && n.onTweenStatus(t);
} : function() {};
var y = function() {
function e(e, t, n) {
this.id = e, this.initialValue = t, this.options = n;
}
return e.prototype.ensureTween = function(e) {
return this.tween ? e(this.tween) : e(this.createTween(this.initialValue()));
}, e.prototype.createTween = function(e) {
return this.tween = new g(this.id, this.initialValue(), this.options ? this.options() : void 0), 
this.tween;
}, e.prototype.to = function(e) {
return this.ensureTween(function(t) {
return t.to(e);
});
}, e.prototype.promiseTo = function(e) {
return this.ensureTween(function(t) {
return t.promiseTo(e);
});
}, e.prototype.set = function(e) {
return this.createTween(e);
}, e.prototype.destroy = function() {
this.tween && this.tween.destroy();
}, e.prototype.getStyle = function() {
return this.ensureTween(function(e) {
return e.getStyle();
});
}, e.prototype.getStyleClass = function(e) {
return this.ensureTween(function(t) {
return t.getStyleClass(e);
});
}, e;
}();
t.LazyTween = y;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(302), o = n(959), i = [ "OFFICIAL", "RANKED", "UNRANKED", "PRIVATE" ], a = function() {
function e(t) {
void 0 === t && (t = {});
var n = this;
this.region = t.region || "", this.country = t.country || "", this.game = t.game || "", 
this.gameId = t.gameId ? t.gameId + "" : "", this.platform = t.platform || "", this.guid = t.guid || "", 
this.protocolVersion = t.protocolVersion || "", this.mapMode = t.mapMode || "", 
this.mapModePretty = t.mapModePretty || "", this.mapVariant = t.mapVariant || "", 
this.mapName = t.mapName || "", this.mapNamePretty = t.mapNamePretty || "", this.mapImageUrl = t.mapImageUrl || "", 
this.name = t.name ? t.name.trim() : "", this.description = t.description || "", 
this.ranked = t.ranked || !1, this.preset = t.preset || "", this.serverType = e.isCorrectServerType(t.serverType) ? t.serverType : "OFFICIAL", 
this.tickRate = t.tickRate || -1, this.ip = t.ip || "", this.pingSiteAlias = t.pingSiteAlias || "", 
this.passwordProtected = t.passwordProtected || !1, this.custom = t.custom || !1, 
this.isFavorite = t.isFavorite || !1, this.mapExpansion = t.mapExpansion || new r.GameExpansion({
name: "DEFAULT",
mask: 1,
license: "",
prettyName: ""
}), this.isActive = void 0 === t.isActive || t.isActive, this.experience = t.experience || "", 
this.operationIndex = t.operationIndex, this.forceJoin = t.forceJoin || !1, this.imageUrl = t.imageUrl || void 0, 
this.mixId = t.mixId || void 0, this.expansions = Array.isArray(t.expansions) ? t.expansions.map(function(e) {
return new r.GameExpansion(e);
}) : [];
var i = t.slots || {};
this.slots = {
soldier: new o.GameServerSlot(i.soldier || i.Soldier),
commander: new o.GameServerSlot(i.commander || i.Commander),
queue: new o.GameServerSlot(i.queue || i.Queue),
spectator: new o.GameServerSlot(i.spectator || i.Spectator)
}, this.expansionMask = 0, this.expansions && this.expansions.forEach(function(e) {
n.expansionMask += e.mask;
}), this.rsp = t.rsp || {};
}
return e.fromBackend = function(t) {
return new e(t);
}, e.prototype.hasAvailableSlotsForRole = function(e) {
var t = this.slots[e];
return t && t.current < t.max;
}, e.prototype.isRoleSupported = function(e) {
var t = this.slots[e];
return t && t.max > 0;
}, e.isCorrectServerType = function(e) {
return !!e && i.indexOf(e) > -1;
}, e;
}();
t.GameServer = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(3), o = n(314), i = n(140), a = n(229);
t.defaultPlatoonEmblem = "[BB_PREFIX]/sparta/jsclient/builds/assets/platoon_emblem_default_grey-e370d35d.png";
var s = function() {
function n(n) {
var r = e.__assign({}, n);
r.displayMembers && (r.displayMembers = r.displayMembers.map(function(e) {
return o.PlatoonMember.fromBackend(r.guid, e);
})), r.emblem || (r.emblem = t.defaultPlatoonEmblem), r.description || (r.description = ""), 
this.name = r.name, this.emblem = r.emblem, this.size = r.size, this.guid = r.guid, 
this.description = r.description, this.tag = r.tag, this.verified = r.verified, 
this.creatorId = r.creatorId, this.dateCreated = r.dateCreated, this.joinConfig = r.joinConfig, 
this.displayMembers = r.displayMembers;
}
return n.fromBackend = function(e) {
return e ? new n(e) : null;
}, n.fromDummyData = function(e) {
return new n(e);
}, n.prototype.setTag = function(e) {
this.tag = e;
}, n.prototype.getTag = function() {
return this.tag ? i.formatTag(this.tag) : "";
}, n.prototype.setGuid = function(e) {
this.guid = e;
}, n.prototype.setName = function(e) {
this.name = e;
}, n.prototype.getName = function() {
return i.formatName(this.name);
}, n.prototype.setDescription = function(e) {
this.description = e;
}, n.prototype.setEmblem = function(e) {
this.emblem = e;
}, Object.defineProperty(n.prototype, "accessType", {
get: function() {
return a.joinConfigToAccessType(this.joinConfig);
},
enumerable: !0,
configurable: !0
}), e.__decorate([ r.observable ], n.prototype, "name", void 0), e.__decorate([ r.observable ], n.prototype, "emblem", void 0), 
e.__decorate([ r.observable ], n.prototype, "size", void 0), e.__decorate([ r.observable ], n.prototype, "guid", void 0), 
e.__decorate([ r.observable ], n.prototype, "description", void 0), e.__decorate([ r.observable ], n.prototype, "tag", void 0), 
e.__decorate([ r.observable ], n.prototype, "verified", void 0), e.__decorate([ r.observable ], n.prototype, "creatorId", void 0), 
e.__decorate([ r.observable ], n.prototype, "dateCreated", void 0), e.__decorate([ r.observable ], n.prototype, "joinConfig", void 0), 
e.__decorate([ r.observable ], n.prototype, "displayMembers", void 0), e.__decorate([ r.action ], n.prototype, "setTag", null), 
e.__decorate([ r.action ], n.prototype, "setGuid", null), e.__decorate([ r.action ], n.prototype, "setName", null), 
e.__decorate([ r.action ], n.prototype, "setDescription", null), e.__decorate([ r.action ], n.prototype, "setEmblem", null), 
e.__decorate([ r.computed ], n.prototype, "accessType", null), n;
}();
t.Platoon = s;
var u = function() {
function e(e) {
this.displayMembers = [], this.guid = e.guid, this.name = e.name, this.tag = e.tag, 
this.size = e.size, this.emblem = e.emblem || t.defaultPlatoonEmblem, this.verified = e.verified, 
this.displayMembers = e.displayMembers ? e.displayMembers.map(function(t) {
return o.PlatoonMember.fromBackend(e.guid, t);
}) : [];
}
return e.fromBackend = function(t) {
return new e(t);
}, e.prototype.getTag = function() {
return this.tag ? i.formatTag(this.tag) : "";
}, e.prototype.getName = function() {
return this.name ? this.name : __("ID_SHARED_PLATOONS_NAME_HIDDEN").toUpperCase();
}, e;
}();
t.LightPlatoon = u;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(24), o = n(3), i = n(46), a = n(51), s = n(67), u = n(31), l = n(87), c = n(36), p = n(35), d = n(268), f = n(605), m = n(606), h = n(207), g = n(607), y = n(440), S = n(10), v = e.get("TunguskaBattlepackClients"), _ = function(e, t, n, r) {
var o = {
transactionSource: e,
transactionType: "item_purchase_scraps",
transactionCode: "drain",
itemId: t,
price: n,
balance: r,
currency: "scraps",
status: "complete",
revenueModel: "virtual"
};
c.trackTransaction(o);
};
t.buyScrapExchangeOffer = i.requester.createClient({
requestOn: [ a.buyBattlepackScrapExchange ],
throttle: 500,
request: function(e, t, n) {
return new Promise(function(o, i) {
r.request("ScrapExchange.buyItemForScraps", {
game: "tunguska",
item: e
}).then(function(r) {
o(r || void 0), _("scrap_store", e, t, n - t), S.gaStore.trackEvent("ScrapExchange", "Buy", "Success");
}).catch(function(e) {
i(e), S.gaStore.trackEvent("ScrapExchange", "Buy", "Failure");
});
});
},
parse: function(e) {
return e;
},
update: function(e) {
this.publish(e);
}
}), t.getScrapExchangeOffers = i.requester.createClient({
requestOn: [ a.getBattlepackScrapExchange ],
throttle: 500,
request: function() {
return r.request("ScrapExchange.getOffers", {
game: "tunguska"
});
},
parse: function(e) {
return e;
},
update: function(e) {
l.tunguskaBattlepackScrapExchangeStore.setRevision(e), this.publish(e);
}
}), t.claimBlueprint = i.requester.createClient({
requestOn: [ a.claimBlueprint ],
throttle: 2e3,
shouldPerformRequest: function() {
return !0;
},
request: function(e) {
return r.request("Battlepack.open", {
game: u.tunguskaGameId,
withVoucher: e
});
},
parse: function(e) {
return e;
},
onRequestError: function(e, t) {
this.publish(new Error("Request error when attempting to claim blueprint"), t);
},
update: function(e, t, n) {
e ? this.publish(null, e) : this.publish(new Error("Failed to claim blueprint"));
}
}), t.scrap = i.requester.createClient({
requestOn: [ a.scrapItem ],
throttle: 500,
shouldPerformRequest: function() {
return !0;
},
request: function(e) {
return r.request("Battlepack.scrapItem", {
game: u.tunguskaGameId,
item: e.key
});
},
parse: function(e) {
return e;
},
onRequestError: function(e, t) {
this.publish(new Error("Request error when attempting to scrap item"), t);
},
update: function(e, t, n) {
e ? (n.quantity -= 1, this.publish(null, n)) : this.publish(new Error("Failed to scrap item"), n), 
a.getBattlepackScrapExchange();
}
}), t.scrapDuplicates = i.requester.createClient({
requestOn: [ a.scrapDuplicateItems ],
throttle: 500,
shouldPerformRequest: function() {
return !0;
},
request: function() {
return r.request("Battlepack.scrapDuplicateItems", {
game: u.tunguskaGameId
});
},
parse: function(e) {
return e;
},
onRequestError: function(e) {
this.publish(new Error("Request error when attempting to scrap item"));
},
update: function(e, t) {
e ? this.publish(e) : this.publish(new Error("Failed to scrap item"));
}
}), t.handleStalePurchases = i.requester.createClient({
throttle: 2e4,
shouldPerformRequest: function() {
return !0;
},
request: function() {
return new Promise(function(e, t) {
r.firstPartyRequest("Inventory.getPurchases", {
games: [ u.tunguskaGameId ],
categories: [ "battlepacks" ]
}).then(function(n) {
if (!n || !n.purchases) return t();
var o = Promise.resolve({});
n.purchases.forEach(function(e) {
0 === e.state.value ? o = o.then(function() {
return new Promise(function(t, n) {
r.firstPartyRequest("Inventory.startPurchase", {
game: e.game,
productId: "",
data: e.data,
pinData: null,
deviceIdType: "machash",
deviceId: S.pinStore.uuid
}).then(function(o) {
if (!o || !o.purchaseId) return n();
r.firstPartyRequest("Inventory.completePurchase", {
game: e.game,
productId: "",
purchaseId: o.purchaseId,
result: "completed",
pinData: null,
deviceIdType: "machash",
deviceId: S.pinStore.uuid
}).then(t, n);
}, n);
});
}) : 1 === e.state.value && (o = o.then(function() {
return r.firstPartyRequest("Inventory.completePurchase", {
game: e.game,
productId: "",
purchaseId: e.purchaseId,
result: "completed",
pinData: null,
deviceIdType: "machash",
deviceId: S.pinStore.uuid
});
}));
});
var i = n.purchases.length > 0;
o.then(function() {
e(i), i && y.tunguskaBattlepackUnopenedStore.refetch(u.tunguskaGameId);
}).catch(function(e) {
v.error(e);
});
}, t);
});
},
parse: function(e) {
return e;
},
update: function(e) {
this.publish(e);
}
}), t.getPuzzleCategories = new p.Client("Battlepack.getPuzzleCategories", {
requestPerformer: r.request
}), t.getFullInventory = new p.Client("Battlepack.listFullInventory", {
requestPerformer: r.request
}), t.getUnopened = new p.Client("Battlepack.listBattlepackVouchers", {
requestPerformer: r.request
}), t.getSummary = new p.Client("Battlepack.getSummary", {
requestPerformer: r.request
}), t.getLoadingScreenSuggestion = new p.Client("Battlepack.getLoadingScreenSuggestion", {
requestPerformer: r.request
}), t.getBattlepackWidget = new p.Client("Battlepack.getWidgetData", {
requestPerformer: r.request
}), t.getBattlepackOffers = new p.Client("Battlepack.getBattlepackOffers", {
requestPerformer: r.firstPartyRequest
}), t.getPurchasablePacks = new p.Client("Battlepack.getAllPurchasablePacks", {
requestPerformer: r.request
}), t.openBattlepack = new p.Client("Battlepack.open", {
requestPerformer: r.request
}), t.buyForScraps = new p.Client("Battlepack.buyForScraps", {
requestPerformer: r.request
}), t.buyForScraps.addResultHandler(function(e) {
e.onSuccess(function() {
if (e.response && e.request) {
var t = e.request.params;
_("battlepack_store", t.pack, t.price, t.balance - t.price);
}
});
}), t.initialFetch = i.requester.createClient({
throttle: 1e3,
shouldPerformRequest: function() {
return s.isHostingGame(u.tunguskaGameId) && !0;
},
request: function() {
return new Promise(function(e) {
t.handleStalePurchases.trigger(), e();
});
},
parse: function(e) {
return e;
},
update: function(e) {
this.publish(e);
}
}), t.expireTunguskaBattlepackFragments = function(e) {
o.when(function() {
return S.onlineState.isOnlineBlazeAndGateway;
}, function() {
v.info("The fragments has been expired"), m.battlepackWidgetStore.expireFragment(u.tunguskaGameId), 
g.tunguskaBattlepackSuggestionStore.expireFragment(u.tunguskaGameId), e ? (h.tunguskaBattlepackSummaryStore.expireFragment(u.tunguskaGameId), 
y.tunguskaBattlepackUnopenedStore.expireFragment(u.tunguskaGameId), d.tunguskaBattlepackInventoryStore.expireFragment(u.tunguskaGameId)) : (h.tunguskaBattlepackSummaryStore.refetch(u.tunguskaGameId), 
y.tunguskaBattlepackUnopenedStore.refetch(u.tunguskaGameId), d.tunguskaBattlepackInventoryStore.refetch(u.tunguskaGameId), 
f.tunguskaBattlepackPuzzleCategoriesStore.refetch(u.tunguskaGameId));
});
}, t.buyForScraps.addResultHandler(function(e) {
e.onSuccess(function() {
return t.expireTunguskaBattlepackFragments();
});
}), t.openBattlepack.addResultHandler(function(e) {
e.onSuccess(function() {
return t.expireTunguskaBattlepackFragments();
});
}), t.scrap.listen(function() {
t.expireTunguskaBattlepackFragments();
}), t.scrapDuplicates.listen(function() {
t.expireTunguskaBattlepackFragments();
}), t.buyScrapExchangeOffer.listen(function() {
t.expireTunguskaBattlepackFragments();
}), t.claimBlueprint.listen(function() {
t.expireTunguskaBattlepackFragments();
});
var b = [ t.scrap, t.claimBlueprint, t.buyScrapExchangeOffer, t.getScrapExchangeOffers, t.scrapDuplicates ];
t.startListening = function T() {
b.forEach(function(e) {
return e.startListening();
});
}, t.stopListening = function E() {
b.forEach(function(e) {
return e.stopListening();
});
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110);
t.tunguskaFeatureFlags = r.featureFlags.register({
tunguskaAssignmentsPauseMenu: new r.FeatureFlag({}),
tunguskaAssignments: new r.FeatureFlag({}),
tunguskaCTEAssignments: new r.FeatureFlag({}),
tunguskaCustomizeFrontend: new r.FeatureFlag({}),
tunguskaRSP: new r.FeatureFlag({}),
tunguskaPremiumPassPagePrio: new r.FeatureFlag({}),
tunguskaCTERegister: new r.FeatureFlag({}),
tunguskaICERegister: new r.FeatureFlag({}),
tunguskaCTESpectator: new r.FeatureFlag({}),
ingameBattlepackVideos: new r.FeatureFlag({}),
disableBattlepackVideos: new r.FeatureFlag({}),
eorPersonalTabForFreemium: new r.FeatureFlag({}),
bf1CteEorFeedback: new r.FeatureFlag({}),
tunguskaEorFeedback: new r.FeatureFlag({}),
tunguskaCTEShowInstallMessage: new r.FeatureFlag({}),
ingameBattlepacks: new r.FeatureFlag({}),
simultaneousMedals: new r.FeatureFlag({}),
tunguskaConquestAssaultEnabled: new r.FeatureFlag({}),
tunguskaConquestAssaultTutorials: new r.FeatureFlag({}),
tunguskaEndOfRoundBattleplan: new r.FeatureFlag({}),
tunguskaEndOfRoundBattleplanClaimButton: new r.FeatureFlag({})
});
}, function(e, t, n) {
e.exports = !n(44)(function() {
return 7 != Object.defineProperty({}, "a", {
get: function() {
return 7;
}
}).a;
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(871), o = function() {
return function e() {
this.defaultTextStyle = void 0, this.enableRTV = !1, this.useNativeStyles = !1, 
this.useNativeTextureFadeIn = !1, this.enableMouse = !0, this.enableDevWarnings = !0, 
this.enableLogging = !0, this.onErrorCallback = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
}, this.urlHook = function(e) {
return e;
}, this.styleHook = function(e, t) {
return t;
}, this.batchCallTransformer = function(e) {
return e;
}, this.diffProps = r.diffProps;
};
}();
t.Options = o, t.options = new o();
}, function(e, t, n) {
e.exports = n(886)();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(1), a = n(17), s = n(5);
!function(e) {
e[e.S = 4] = "S", e[e.M = 8] = "M", e[e.L = 16] = "L", e[e.XL = 20] = "XL";
}(r || (r = {}));
var u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return o.__extends(t, e), t.prototype.render = function() {
var e = Math.max(0, Math.min(this.props.completed, 1)), t = 1 - e, n = s.DynamicStyle.create({
flex: e
}, "b2b45145:29:26"), o = s.DynamicStyle.create({
flex: t
}, "b2b45145:30:30"), u = r[this.props.height || "M"], l = this.props.bgColorStyle || a.ProgressBarStyles.defaultBgColorStyle, c = this.props.barColorStyle || a.ProgressBarStyles.defaultBarColorStyle;
return i.createElement("surface", {
style: s.merge3(a.ProgressBarStyles.container(u), this.props.style, l)
}, e > 0 && i.createElement("surface", {
style: s.merge3(n, a.CommonStyles.zOffset(1), c)
}), t > 0 && i.createElement("surface", {
style: o
}));
}, t;
}(i.Component);
t.ProgressBar = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(432), i = n(1248), a = n(1249), s = n(1250), u = n(1251), l = n(1252), c = n(1254), p = n(1256), d = n(51), f = n(371), m = n(10), h = n(1257), g = n(1259), y = n(1261), S = n(31), v = n(1262), _ = n(1267), b = n(594);
t.tunguskaVoipState = new f.VoipState(m.settingsStore), t.tunguskaBattlepackScrapExchangeStore = new s.TunguskaBattlepackScrapExchangeStore(), 
t.teamsStore = new u.TeamsStore(d.receivedPlayerList), t.tunguskaMissionsStore = new l.TunguskaMissionsStore(c.missionsClients), 
t.tunguskaAssignmentsSelectState = new a.TunguskaAssignmentsSelectState(), t.tunguskaAssignmentsStore = new o.TunguskaAssignmentsStore(S.tunguskaGameId, h.tunguskaAssignmentsClients), 
t.tunguskaTrackedAssignmentStore = new i.TunguskaTrackedAssignmentStore(h.tunguskaAssignmentsClients, y.tunguskaIngameAssignmentProgressClient, t.tunguskaAssignmentsStore, m.spartaActivatedStore, m.onlineState), 
t.tunguskaOperationsCampaignStore = new p.TunguskaOperationsCampaignStore(S.tunguskaGameId, g.tunguskaOperationsCampaignClient);
var T = function(e) {
function n(n, r) {
var o = e.call(this, n) || this;
return o.tunguskaVoipState = t.tunguskaVoipState, o.tunguskaBattlepackScrapExchangeStore = t.tunguskaBattlepackScrapExchangeStore, 
o.teamsStore = t.teamsStore, o.tunguskaMissionsStore = t.tunguskaMissionsStore, 
o.tunguskaAssignmentsSelectState = t.tunguskaAssignmentsSelectState, o.tunguskaAssignmentsStore = t.tunguskaAssignmentsStore, 
o.tunguskaTrackedAssignmentStore = t.tunguskaTrackedAssignmentStore, o.tunguskaOperationsCampaignStore = t.tunguskaOperationsCampaignStore, 
o.quickmatchState = new v.QuickmatchState(n, n.stores.gameStore, n.stores.nativePropertiesStore, S.tunguskaGameId), 
o.tunguskaEndOfRoundBattleplanStore = new _.TunguskaEndOfRoundBattleplanStore(r), 
o;
}
return r.__extends(n, e), n;
}(b.GameStores);
t.TunguskaStores = T;
}, function(e, t, n) {
"use strict";
function r(e, t, n, r) {
var o;
return void 0 === n && (n = !0), void 0 === r && (r = !0), function() {
var i = this, a = arguments;
n && !o ? (e.apply(this, a), o = setTimeout(function() {
o = null;
}, t)) : (o && clearTimeout(o), o = setTimeout(function() {
r && e.apply(i, a), o = null;
}, t));
};
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.debounce = r, t.debounced = function o(e) {
return function(t, n, o) {
if (!o) throw new Error("Failed to decorate " + n + " with debounced(" + e + "), missing property descriptor");
if ("function" != typeof o.value) throw new Error("Failed to decorate " + n + " with debounced(" + e + "), " + n + " is not a function");
o.value = r(o.value, e.duration, e.isLeading, e.isTailing);
};
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(85), i = n(3), a = n(4), s = n(12), u = n(11), l = n(6), c = n(58), p = n(226), d = n(5), f = n(33), m = n(7), h = n(26), g = n(42);
t.ListContextTypes = {
focusGroup: o.object.isRequired
};
var y = function(n) {
function o(e, t) {
var r = n.call(this, e, t) || this;
return r.sparta = m.SpartaContext.getFromComponent(r), e.focusGroup ? r.focusGroup = e.focusGroup : r.focusGroup = r.sparta.twinkle.focus.createComponentGroup(r, "list", g.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | g.GroupBehavior.VERTICAL), 
r;
}
return e.__extends(o, n), o.prototype.getChildContext = function() {
return {
focusGroup: this.focusGroup
};
}, o.prototype.render = function() {
var t = this.props, n = (t.focusGroup, t.children), o = t.style, i = e.__rest(t, [ "focusGroup", "children", "style" ]), a = this.sparta.theme.getTheme(this).list;
return r.createElement("surface", e.__assign({}, i, {
style: d.merge2(a.list, o)
}), n);
}, o.childContextTypes = t.ListContextTypes, o.contextTypes = m.SpartaContext.contextTypes, 
o = e.__decorate([ a.observer ], o);
}(r.Component);
t.List = y;
var S = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "isActive", {
get: function() {
return this.props.selectionState.activeItemIndex === this.props.index && !this.props.disableActiveIndicator;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).list, t = this.props, n = t.faded, o = void 0 !== n && n, i = t.focusItem, a = i.isFocused, s = i.isHovered, u = i.isPressed, l = this.isActive;
return r.createElement("surface", {
style: e.backgroundContainer(o, l, a, s, u)
}, r.createElement("surface", {
style: e.backgroundOverlay(o, l, a, s, u)
}));
}, n.contextTypes = m.SpartaContext.contextTypes, e.__decorate([ i.computed ], n.prototype, "isActive", null), 
n = e.__decorate([ a.observer ], n);
}(r.Component);
t.ListItemBackground = S;
var v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e.opacityTween = p.TweenStyle.create("de2e38e8:125:38", e, "opacity", e.sparta.theme.getTheme, function(t, n) {
t.set(e.isActive ? 1 : 0);
}, e.isActive ? 1 : 0), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "isActive", {
get: function() {
return this.props.selectionState.activeItemIndex === this.props.index;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).list;
return r.createElement("surface", {
key: "activeIndicator",
style: d.merge2(e.activeIndicator, this.opacityTween)
});
}, n.contextTypes = m.SpartaContext.contextTypes, e.__decorate([ i.computed ], n.prototype, "isActive", null), 
n = e.__decorate([ a.observer ], n);
}(r.Component);
t.ListItemContextTypes = {
index: o.number.isRequired,
focusItem: o.object.isRequired,
selectionState: o.object.isRequired,
disableActiveIndicator: o.bool.isRequired,
faded: o.bool.isRequired
};
var _ = function(n) {
function o(e, t) {
var r = n.call(this, e, t) || this;
return r.sparta = m.SpartaContext.getFromComponent(r), r.focusItem = e.focusItem || r.sparta.twinkle.focus.create(r, e.debugName), 
r.focusItem.autoFocusCandidate = !0, r.focusItem.onClick.listen(function() {
[].concat(r.input).forEach(function(e) {
e.action && e.action();
});
}), t.focusGroup.addMember(r.focusItem, r.props.index), r;
}
return e.__extends(o, n), Object.defineProperty(o.prototype, "input", {
get: function() {
return this.props.input ? this.props.input : (this.defaultInput || (this.defaultInput = new s.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: u.Keys.Accept,
action: this.inputAction
})), this.defaultInput);
},
enumerable: !0,
configurable: !0
}), o.prototype.getInput = function() {
if (this.focusItem.isFocused && this.sparta.twinkle.focus.controllerMode) return this.input;
}, o.prototype.getChildContext = function() {
return {
index: this.props.index,
focusItem: this.focusItem,
selectionState: this.props.selectionState,
disableActiveIndicator: !!this.props.disableActiveIndicator,
faded: !!this.props.faded
};
}, o.prototype.render = function() {
var t = this.props, n = t.children, o = t.selectionState, i = t.index, a = t.style, s = t.faded, u = void 0 !== s && s, l = this.sparta.theme.getTheme(this), c = this.focusItem, p = l.components.HoverSFX, f = l.list;
return r.createElement(p, {
focusItem: this.focusItem
}, r.createElement("surface", e.__assign({
style: d.merge2(f.container(u), a)
}, c.hooks), f.showSeparator && 0 === i && r.createElement("surface", {
style: f.separator
}), r.createElement(S, {
focusItem: this.focusItem,
selectionState: o,
index: i,
faded: this.props.faded,
disableActiveIndicator: this.props.disableActiveIndicator
}), !this.props.disableActiveIndicator && r.createElement(v, {
focusItem: this.focusItem,
selectionState: o,
index: i
}), "function" == typeof n ? n(c, f.itemContent) : r.createElement("surface", {
style: f.itemContent
}, n), f.showSeparator && r.createElement("surface", {
style: f.separator
})));
}, o.childContextTypes = t.ListItemContextTypes, o.contextTypes = e.__assign({}, t.ListContextTypes, m.SpartaContext.contextTypes), 
o;
}(r.Component), b = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "inputAction", {
get: function() {
var e = this;
return function(t) {
t || e.focusItem.setFocused(g.FocusSource.Mouse, !0), e.props.selectionState.setActiveItem(e.props.index);
};
},
enumerable: !0,
configurable: !0
}), n = e.__decorate([ a.observer, h.input ], n);
}(_);
t.ListItem = b;
var T = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "inputAction", {
get: function() {
return function() {};
},
enumerable: !0,
configurable: !0
}), n.prototype.componentDidMount = function() {
var e = this;
t.prototype.componentDidMount && t.prototype.componentDidMount.call(this), this.reaction(function() {
return e.focusItem.isFocusedOrHovered;
}, function(t) {
var n = e.props, r = n.selectionState, o = n.index;
t ? r.setActiveItem(o) : r.keepLastSelection || r.activeItemIndex !== o || r.setActiveItem(-1);
}, {
fireImmediately: !0
});
}, n = e.__decorate([ a.observer, h.input ], n);
}(_);
t.ListItemAutoActive = T;
var E = function(n) {
function o() {
var e = null !== n && n.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e;
}
return e.__extends(o, n), o.prototype.render = function() {
var e = this.props, t = e.value, n = e.right, o = e.flex, i = e.textSize, a = e.textType, s = e.color, u = e.rtl, l = e.noMarquee, p = this.sparta.theme.getTheme(this).list.label(n, o), d = r.createElement(C, {
value: t,
textSize: i,
textType: a,
color: s
});
return l ? r.createElement("surface", {
style: p
}, d) : r.createElement(c.Marquee, {
style: p,
focusItem: this.context.focusItem,
speed: n ? .3 : void 0,
delay: n ? 0 : 100,
scrollTo: n ? c.Direction.Left : c.Direction.Right,
rtl: u
}, d);
}, o.defaultProps = {
right: !1,
flex: 1
}, o.contextTypes = e.__assign({}, t.ListItemContextTypes, m.SpartaContext.contextTypes), 
o = e.__decorate([ a.observer ], o);
}(r.Component);
t.ListItemLabel = E;
var C = function(n) {
function o() {
var e = null !== n && n.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e;
}
return e.__extends(o, n), Object.defineProperty(o.prototype, "textSize", {
get: function() {
return this.props.textSize || "S";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(o.prototype, "textType", {
get: function() {
return this.props.textType || f.TextType.NORMAL;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(o.prototype, "isActive", {
get: function() {
return this.context.selectionState.activeItemIndex === this.context.index && !this.context.disableActiveIndicator;
},
enumerable: !0,
configurable: !0
}), o.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).list, t = this.context.focusItem, n = this.props.color, o = this.context.faded, i = this.isActive, a = t.isFocused, s = t.isHovered, u = t.isPressed, c = d.merge2(e.labelText, n ? e.labelTextDynamicColor({
faded: o,
active: i,
focused: a,
hovered: s,
pressed: u,
color: n
}) : e.labelTextColor(o, i, a, s, u));
return r.createElement(l.Text, {
size: this.textSize,
style: c,
value: this.props.value,
type: this.textType
});
}, o.contextTypes = e.__assign({}, t.ListItemContextTypes, m.SpartaContext.contextTypes), 
e.__decorate([ i.computed ], o.prototype, "isActive", null), o = e.__decorate([ a.observer ], o);
}(r.Component), I = function(n) {
function o() {
var e = null !== n && n.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e.colorTween = p.TweenStyle.create("de2e38e8:454:36", e, "color", e.sparta.theme.getTheme, function(t, n) {
if (e.props.invertOnActive) {
var r = e.context.selectionState.activeItemIndex === e.context.index && !e.context.disableActiveIndicator;
t.set(r ? n.list.foregroundActiveColor : n.list.foregroundColor);
} else if (e.props.invertOnFocus) {
var o = e.context.focusItem.isFocused;
t.set(o ? n.list.foregroundFocusColor : n.list.foregroundColor);
}
}, "#ffffff"), e;
}
return e.__extends(o, n), o.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).list.icon({
size: this.props.size,
texture: this.props.src
});
return r.createElement("surface", {
style: d.merge2(e, this.colorTween)
});
}, o.contextTypes = e.__assign({}, t.ListItemContextTypes, m.SpartaContext.contextTypes), 
o = e.__decorate([ a.observer ], o);
}(r.Component);
t.ListItemIcon = I;
var A = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).list;
return r.createElement("surface", {
style: e.container(!1)
}, r.createElement("surface", {
style: e.headerContent
}, r.createElement(l.Text, {
size: "S",
type: f.TextType.EMPHASIS,
style: e.headerText,
value: this.props.value.toUpperCase()
})), r.createElement("surface", {
style: e.separator
}));
}, n.contextTypes = m.SpartaContext.contextTypes, n = e.__decorate([ a.observer ], n);
}(r.Component);
t.ListHeader = A;
}).call(this, n(2));
}, function(e, t, n) {
var r = n(146), o = Math.min;
e.exports = function(e) {
return e > 0 ? o(r(e), 9007199254740991) : 0;
};
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.soldier = "soldier", e.spectator = "spectator", e.commander = "commander";
}(r = t.JoinRole || (t.JoinRole = {}));
var o = function() {
return function e(t, n) {
void 0 === t && (t = ""), void 0 === n && (n = 0), this.address = t, this.port = n;
};
}();
t.JoinLanServerOptions = o;
var i = function() {
function e(e, t, n) {
void 0 === t && (t = r.soldier), this.password = null, this.server = e, this.role = t, 
n && (this.squad = n.squad, this.party = n.party, this.password = n.password, this.friend = n.friend, 
this.platoonMember = n.platoonMember, this.platoonGuid = n.platoonGuid, this.matchmakingSession = n.matchmakingSession, 
this.competitive = !!n.competitive);
}
return e.prototype.withPassword = function(t) {
var n = this, r = n.party, o = n.squad, i = n.friend, a = n.platoonMember, s = n.platoonGuid, u = n.competitive;
return new e(this.server, this.role, {
party: r,
squad: o,
friend: i,
platoonMember: a,
platoonGuid: s,
password: t,
competitive: u
});
}, e.isMultiplayerServerOptions = function(t) {
return !!t && t instanceof e;
}, e;
}();
t.JoinMultiplayerServerOptions = i;
var a = function() {
return function e(t, n, o, i) {
void 0 === o && (o = r.soldier), this.friend = t, this.gameId = n, this.role = o, 
this.server = i;
};
}();
t.JoinMultiplayerFriendOptions = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(176), a = n(377), s = n(3), u = n(914);
!function(e) {
e.ON = "on", e.OFF = "off";
}(r = t.FilterValue || (t.FilterValue = {}));
var l = function() {
return function e() {};
}();
function c(e) {
var t = s.observable.map();
return e && Object.keys(e).forEach(function(n) {
return t.set(n, e[n]);
}), t;
}
t.FilterCategory = l;
var p = function(e) {
function t(t, n, r) {
var o = e.call(this) || this;
return o.name = t, o.values = c(n), o.optionsCategory = r, o;
}
return o.__extends(t, e), t;
}(l);
t.CheckBoxFilterCategory = p;
var d = function(e) {
function t(t, n, r) {
var o = e.call(this) || this;
return o.name = t, o.values = c(n), o.optionsCategory = r, o;
}
return o.__extends(t, e), t;
}(l);
t.OnOffFilterCategory = d;
var f = function(e) {
function t(t, n, r) {
var o = e.call(this) || this;
return o.name = t, o.values = c(n), o.optionsCategory = r, o;
}
return o.__extends(t, e), t;
}(l);
t.RangeFilterCategory = f;
var m, h = function(e) {
function t(t, n, r) {
var o = e.call(this) || this;
return o.name = t, o.values = c(n), o.optionsCategory = r, o;
}
return o.__extends(t, e), t;
}(l);
function g(e) {
if (e instanceof i.BoolFilterOptionsCategory) return e;
}
t.ScalesFilterCategory = h, function(e) {
e.Maps = "maps", e.GameModes = "gameModes", e.Slots = "slots", e.ServerType = "serverType", 
e.Regions = "regions", e.PingSites = "pingSites", e.Presets = "presets", e.TickRates = "tickRates", 
e.GameSizes = "gameSizes", e.Advanced = "advanced", e.Rules = "rules", e.Kits = "kits", 
e.Vehicles = "vehicles", e.WeaponClasses = "weaponClasses", e.Misc = "misc", e.Scales = "scales", 
e.Experiences = "experiences", e.Mixes = "mixes", e.ServerMode = "serverMode";
}(m = t.FilterCategoryName || (t.FilterCategoryName = {})), t.FilterCategoryNames = [ m.Maps, m.GameModes, m.Slots, m.ServerType, m.Regions, m.PingSites, m.Presets, m.TickRates, m.GameSizes, m.Advanced, m.Rules, m.Kits, m.Vehicles, m.WeaponClasses, m.Misc, m.Scales, m.Experiences, m.Mixes, m.ServerMode ], 
t.ServerFilterNameField = "name";
var y = function() {
function e(e, t) {
void 0 === t && (t = {}), this.filterOptions = t, this.name = s.observable({
name: ""
}), this.version = e.version || 6, this.categories = {
maps: new p(m.Maps, e.maps, g(t.maps)),
gameModes: new p(m.GameModes, e.gameModes, g(t.gameModes)),
vehicles: new d(m.Vehicles, e.vehicles, g(t.vehicles)),
weaponClasses: new d(m.WeaponClasses, e.weaponClasses, g(t.weaponClasses)),
slots: new p(m.Slots, this.prepareSlotsDict(e.slots), g(t.slots)),
serverType: new p(m.ServerType, e.serverType, g(t.serverType)),
regions: new p(m.Regions, e.regions, g(t.regions)),
pingSites: new p(m.PingSites, e.pingSites, g(t.pingSites)),
kits: new d(m.Kits, e.kits, g(t.kits)),
presets: new p(m.Presets, e.presets, g(t.presets)),
misc: new d(m.Misc, e.misc, g(t.misc)),
scales: new h(m.Scales, e.scales, function n(e) {
if (e instanceof i.ScalesFilterOptionsCategory) return e;
}(t.scales)),
advanced: new d(m.Advanced, e.advanced, g(t.advanced)),
rules: new f(m.Rules, e.rules, function r(e) {
if (e instanceof i.IntFilterOptionsCategory) return e;
}(t.rules)),
tickRates: new p(m.TickRates, e.tickRates, g(t.tickRates)),
gameSizes: new p(m.GameSizes, e.gameSizes, g(t.gameSizes)),
experiences: new p(m.Experiences, e.experiences, g(t.experiences)),
mixes: new p(m.Mixes, e.mixes, g(t.mixes)),
serverMode: new d(m.ServerMode, e.serverMode, g(t.serverMode))
}, "string" == typeof e.name ? this.name.name = e.name : e.name && e.name.name && (this.name.name = e.name.name), 
this.id = e.id || 0, this.filterName = e.filterName || "", this.role = e.role, this.passwordProtected = e.passwordProtected, 
this.mapRotation = e.mapRotation, this.modeRotation = e.modeRotation, this.operationIndex = e.operationIndex;
}
return e.prototype.prepareSlotsDict = function(e) {
var t = {};
return e && Object.keys(e).forEach(function(n) {
var r = e[n];
void 0 !== r && (t[n] = r);
}), t;
}, e.prototype.getCategory = function(e) {
return this.categories[e];
}, e.prototype.serialize = function() {
return u.formatFilter(Object.assign({
version: this.version,
name: this.name,
role: this.role,
passwordProtected: this.passwordProtected,
mapRotation: this.mapRotation,
modeRotation: this.modeRotation,
operationIndex: this.operationIndex
}, a.mapValues(this.categories, function(e) {
return e.values.toJSON();
})));
}, Object.defineProperty(e.prototype, "json", {
get: function() {
return JSON.stringify(this.serialize());
},
enumerable: !0,
configurable: !0
}), e.prototype.toggleAll = function(e) {
var t = this.getCategory(e);
if (!t || !t.optionsCategory) return this;
var n, o = t.optionsCategory.options.map(function(e) {
return e.filterKey;
});
if (t instanceof p) {
var i = o.every(function(e) {
return t.values.get(e) === r.ON;
});
o.forEach(function(e) {
return t.values.set(e, i ? void 0 : r.ON);
});
}
t instanceof d && (n = o.every(function(e) {
return t.values.get(e) === r.ON;
}) ? r.OFF : o.every(function(e) {
return t.values.get(e) === r.OFF;
}) ? void 0 : r.ON, o.every(function(e) {
return t.values.get(e) === n;
}) || o.forEach(function(e) {
return t.values.set(e, n);
}));
}, e.prototype.invertCategory = function(e) {
var t = this.getCategory(e);
if (!t || !t.optionsCategory) return this;
t.optionsCategory.options.map(function(e) {
return e.filterKey;
}).forEach(function(e) {
null == t.values.get(e) ? t.values.set(e, r.ON) : t.values.delete(e);
});
}, e.prototype.setName = function(e) {
this.name.name = e;
}, e.prototype.toggleFilterCondition = function(e, t) {
var n, o = this.getCategory(e), i = o.values.get(t);
if (o instanceof p && (i === r.ON ? o.values.delete(t) : o.values.set(t, r.ON)), 
o instanceof d) {
var a = void 0;
a = i === r.ON ? r.OFF : i === r.OFF ? void 0 : r.ON, o.values.set(t, a);
}
if (o instanceof f && o.optionsCategory) {
var s = void 0, u = o.optionsCategory.options.find(function(e) {
return e.filterKey === t;
});
if (!u) return;
null == i && "number" == typeof u.defaultValue && (s = [ u.defaultValue, u.defaultValue ]), 
o.values.set(t, s);
}
if (o instanceof h && o.optionsCategory) {
var l = o.optionsCategory.options.find(function(e) {
return e.filterKey === t;
});
if (!l) return;
var c = Object.keys(l.options).sort(function(e, t) {
return l.options[e] - l.options[t];
}), m = c.filter(function(e) {
return o.values.get(e) === r.ON;
}), g = m.length > 0 ? m[0] : null, y = g ? ((n = {})[g] = l.options[g], n) : null, S = -1, v = void 0;
y && (v = Object.keys(y)[0], S = c.indexOf(v));
var _ = S + 1;
if (_ < c.length) {
var b = c[_];
v && o.values.delete(v), o.values.set(b, r.ON);
} else c.forEach(function(e) {
return o.values.delete(e);
});
}
}, e.prototype.resetFilterId = function() {
(this.id || this.filterName) && (this.id = 0, this.filterName = void 0);
}, o.__decorate([ s.observable ], e.prototype, "version", void 0), o.__decorate([ s.observable ], e.prototype, "categories", void 0), 
o.__decorate([ s.observable ], e.prototype, "name", void 0), o.__decorate([ s.observable ], e.prototype, "id", void 0), 
o.__decorate([ s.observable ], e.prototype, "filterName", void 0), o.__decorate([ s.observable ], e.prototype, "role", void 0), 
o.__decorate([ s.observable ], e.prototype, "passwordProtected", void 0), o.__decorate([ s.observable ], e.prototype, "mapRotation", void 0), 
o.__decorate([ s.observable ], e.prototype, "modeRotation", void 0), o.__decorate([ s.observable ], e.prototype, "operationIndex", void 0), 
o.__decorate([ s.computed ], e.prototype, "json", null), o.__decorate([ s.action ], e.prototype, "toggleAll", null), 
o.__decorate([ s.action ], e.prototype, "invertCategory", null), o.__decorate([ s.action ], e.prototype, "setName", null), 
o.__decorate([ s.action ], e.prototype, "toggleFilterCondition", null), o.__decorate([ s.action ], e.prototype, "resetFilterId", null), 
e;
}();
t.GameFilter = y;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(973), i = n(974), a = n(30), s = n(24), u = n(103), l = [ "destination" ], c = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.client = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = u.localeState.commerceLocale, r = u.localeState.gameLocaleOrDefault, o = [ "access" ], a = [];
l.indexOf(t.game) > -1 ? a.push(t.game) : o.push(t.game);
var s = this.client.request({
games: o,
extraFeeds: a,
locale: n || r
});
e.useClientResult(s, function(e) {
var n = e.feeds.reduce(function(e, t) {
return e = e.concat(t.offers);
}, []);
return i.GameOffers.fromBackend(t.game, n);
});
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t.prototype.refresh = function(e) {
return this.refreshFragment(e, {
game: e
});
}, t;
}(a.FragmentStore);
t.offersStore = new c(o.createClient(s.firstPartyRequest));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(532), a = n(23), s = n(5), u = n(149), l = function() {
function e() {
this.left = 0, this.top = 0, this.width = 0, this.height = 0;
}
return r.__decorate([ o.observable ], e.prototype, "left", void 0), r.__decorate([ o.observable ], e.prototype, "top", void 0), 
r.__decorate([ o.observable ], e.prototype, "width", void 0), r.__decorate([ o.observable ], e.prototype, "height", void 0), 
e;
}(), c = function() {
function e() {
this.extra = new i.ExtraElements("UIState");
}
return r.__decorate([ o.observable ], e.prototype, "reactComponent", void 0), e;
}(), p = function() {
function e() {
this.window = new l(), this.layout = new c();
}
return Object.defineProperty(e.prototype, "viewportScale", {
get: function() {
var e = this.window.width / a.screen.style.width, t = this.window.height / a.screen.style.height, n = Math.min(e, t);
return {
scaleX: n,
scaleY: n
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewportScaleStyle", {
get: function() {
return s.DynamicStyle.wrapLegacyStyle(this.viewportScale, "89a21824:35:15");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewportPosition", {
get: function() {
return {
left: this.window.width / 2 - a.screen.style.width / 2 + a.screen.style.left,
top: this.window.height / 2 - a.screen.style.height / 2 + a.screen.style.top
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewportPositionStyle", {
get: function() {
return s.DynamicStyle.wrapLegacyStyle(this.viewportPosition, "89a21824:49:15");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewportWindowStyle", {
get: function() {
return s.DynamicStyle.wrapLegacyStyle({
left: this.window.left,
top: this.window.top,
width: this.window.width,
height: this.window.height
}, "89a21824:55:15");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewportSizeStyle", {
get: function() {
return s.DynamicStyle.wrapLegacyStyle({
width: this.window.width,
height: this.window.height
}, "89a21824:66:15");
},
enumerable: !0,
configurable: !0
}), e.prototype.setWindowSize = function(e, t) {
this.window.width = e, this.window.height = t;
}, r.__decorate([ o.computed ], e.prototype, "viewportScale", null), r.__decorate([ o.computed ], e.prototype, "viewportScaleStyle", null), 
r.__decorate([ o.computed ], e.prototype, "viewportPosition", null), r.__decorate([ o.computed ], e.prototype, "viewportPositionStyle", null), 
r.__decorate([ o.computed ], e.prototype, "viewportWindowStyle", null), r.__decorate([ o.computed ], e.prototype, "viewportSizeStyle", null), 
r.__decorate([ o.action ], e.prototype, "setWindowSize", null), e;
}();
t.UIState = p, t.uiState = new p(), u.onWindowSizeChanged.listen(function(e, n) {
t.uiState.setWindowSize(e, n);
});
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
}), t.globalScope = e;
}).call(this, n(185));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(892), i = n(502), a = function() {
function e(t, n) {
t = "string" == typeof t ? e.parse(t) : e.parse(t.path, t.args), this.path = t.path, 
this.args = t.args || e.defaultArgs, this.cause = n;
}
return Object.defineProperty(e.prototype, "section", {
get: function() {
return e.determineSection(this.path);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "queryString", {
get: function() {
return o.stringify(this.args);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "url", {
get: function() {
return this.queryString ? this.path + "?" + this.queryString : this.path;
},
enumerable: !0,
configurable: !0
}), e.prototype.equals = function(e) {
return e.path === this.path && i.isEqual(e.args, this.args);
}, e.prototype.extend = function(t, n) {
return new e({
path: this.path,
args: r.__assign({}, this.args, t)
}, n || this.cause);
}, e.prototype.toString = function() {
return this.url;
}, e.indexOfBestMatch = function(e, t, n) {
for (var r = n ? this.testFullMatch : this.testPartialMatch, o = -1, i = Number.MAX_VALUE, a = 0; a < e.length; a++) {
var s = e[a];
if (r(t, s)) {
var u = Math.abs(s.path.length - t.path.length);
u < i && (o = a, i = u);
}
}
return -1 === o && t.path.length > 0 && (o = 0), o;
}, e.testFullMatch = function(e, t) {
return e.path === t.path;
}, e.testPartialMatch = function(e, t) {
return e.path.startsWith(t.path);
}, e.determineSection = function(e) {
"#/" === e.substr(0, 2) && (e = e.substr(2)), "/" === e[0] && (e = e.substr(1));
var t = e.indexOf("/", 1);
return -1 !== t ? e.substr(0, t) : e;
}, e.parse = function(e, t) {
var n, i, a = e.indexOf("?");
if (-1 === a) n = e, i = r.__assign({}, t); else {
var s = e.substr(a + 1);
n = e.substr(0, a), i = r.__assign({}, o.parse(s), t);
}
return {
path: n,
args: i
};
}, e.defaultArgs = {}, e;
}();
t.Location = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(96), o = [ "logoUrl", "disableBackground", "backgroundDisableViewOffset", "backgroundSize", "backgroundUrl", "backgroundOverlayUrl", "backgroundOverlaySize", "backgroundVideoUrl", "backgroundVideoFirstFrame", "backgroundVideoTint", "backgroundMusicTrack", "backgroundColor", "backgroundMusicUrl", "backgroundSkyColor", "dynamicBackground", "requireOnline", "requireMpInstalled", "isBeta", "gameId", "postProcess", "disableHorizontalNavigation", "disableBreadcrumbs" ], i = function() {
function e(e) {
this.parent = void 0, this.skipToFirstChild = !1, this.args = {}, this.gameId = void 0, 
this.logoUrl = void 0, this.customLogo = !1, this.excludeFromHistory = !1, this.visible = void 0, 
this.enableMainMenu = !0, this.hideInMainMenu = !1, this.showHeader = !0, this.disableBackground = void 0, 
this.backgroundSize = void 0, this.backgroundUrl = void 0, this.backgroundOverlayUrl = void 0, 
this.backgroundOverlaySize = void 0, this.backgroundVideoUrl = void 0, this.backgroundVideoFirstFrame = void 0, 
this.backgroundVideoTint = void 0, this.backgroundMusicTrack = void 0, this.backgroundMusicUrl = void 0, 
this.backgroundSkyColor = void 0, this.backgroundColor = void 0, this.backgroundDisableDepthZoom = !1, 
this.backgroundDisableViewOffset = void 0, this.dynamicBackground = void 0, this.requireOnline = void 0, 
this.requireMpInstalled = !1, this.normalIconUrl = void 0, this.disableHorizontalNavigation = void 0, 
this.disableBreadcrumbs = void 0, this.disabled = !1, this.isBeta = void 0, this.children = [], 
this.priority = void 0, this.postProcess = void 0, this.disableBackNavigation = void 0, 
this.backgroundDisableBlur = void 0, this.getTitle = function() {
return "";
}, this.getSubtitle = function() {
return "";
}, Object.assign(this, e), this.children = this.children.filter(function(e) {
return !!e;
});
}
return e.prototype.getDisabledLabel = function() {
return this.disabledLabel ? this.disabledLabel : __("ID_SPARTA_MENU_DISABLED_LABEL", !0);
}, e.declare = function(t, n) {
if (n.location = new r.Location(t), void 0 === n.visible) {
var o = !!n.getTitle;
n.visible = o;
}
return new e(n);
}, e.inheritProperties = function(e, t) {
e.location = new r.Location([ t.location.path, e.location.path ].filter(function(e) {
return !!e;
}).join("/")), o.forEach(function(n) {
var r = e[n], o = t[n];
if (!e.hasOwnProperty(n)) throw Error("Invalid inheritable property: Unknown property name " + n);
void 0 === r && (e[n] = o);
});
}, e.createChildrenWithInheritance = function(t, n) {
return n.map(function(n, r) {
var o = Object.assign({}, n);
return void 0 === o.priority && (o.priority = r), e.inheritProperties(o, t), o.parent = t, 
o.children = e.createChildrenWithInheritance(o, o.children), new e(o);
});
}, e.prototype.cascade = function() {
return new e(Object.assign({}, this, {
children: e.createChildrenWithInheritance(this, this.children)
}));
}, e.prototype.flatten = function() {
for (var e = [ this ], t = []; e.length; ) {
var n = e.pop();
if (n) {
t.push(n);
for (var r = 0, o = n.children; r < o.length; r++) {
var i = o[r];
e.push(i);
}
}
}
return t;
}, e.prototype.asSubMenuRoute = function() {
var t = this;
return new e({
getTitle: function() {
return t.getSubtitle();
},
location: this.location,
priority: -1
});
}, e.Empty = new e({}), e;
}();
t.Route = i;
var a = function(t) {
function n(e, n) {
if (n.location = new r.Location(e), void 0 === n.visible) {
var o = !!n.getTitle;
n.visible = o;
}
return t.call(this, n) || this;
}
return e.__extends(n, t), n;
}(i);
t.RouteDeclaration = a;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
void 0 === e && (e = !1), this.keepLastSelection = e, this.activeItemIndex = 0;
}
return e.prototype.setActiveItem = function(e) {
this.activeItemIndex = e;
}, r.__decorate([ o.observable ], e.prototype, "activeItemIndex", void 0), r.__decorate([ o.action ], e.prototype, "setActiveItem", null), 
e;
}();
t.ListSelectionState = i;
}, function(e, t) {
var n = {}.hasOwnProperty;
e.exports = function(e, t) {
return n.call(e, t);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.None = 0] = "None", e[e.Joinable = 1] = "Joinable", e[e.Playing = 2] = "Playing", 
e[e.Online = 3] = "Online", e[e.Away = 4] = "Away", e[e.Offline = 5] = "Offline";
}(t.UserPresenceStates || (t.UserPresenceStates = {}));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(292);
e.exports = r.tempTranslate;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o, i = n(376), a = n(35), s = n(24), u = n(135), l = n(175), c = n(296), p = n(520), d = n(10), f = e.get("Purchase"), m = {
requestPerformer: s.firstPartyRequest
}, h = new a.Client("Inventory.startPurchase", m), g = new a.Client("Inventory.completePurchase", m), y = u.frostbiteAction("sparta.commerceCheckout"), S = l.frostbiteListenable("sparta.commerceStatusMessage");
!function(e) {
e.IDLE = "IDLE", e.STARTED = "STARTED", e.REGISTERED = "REGISTERED", e.RESUMED = "RESUMED", 
e.CHECKOUT = "CHECKOUT", e.SUCCESS = "SUCCESS", e.ERROR = "ERROR", e.CANCELLED = "CANCELLED";
}(r = t.PurchaseFlowState || (t.PurchaseFlowState = {})), function(e) {
e.PURCHASE = "PURCHASE", e.CLAIM = "CLAIM";
}(o = t.PurchaseType || (t.PurchaseType = {}));
var v = [ r.SUCCESS, r.ERROR, r.CANCELLED ], _ = 0, b = function() {
function e(e, t, n, o) {
var a, s = this;
this.offer = e, this.type = t, this.purchaseId = null, this.response = null, this.checkoutMessageBuffer = new p.SimpleBuffer(S), 
this.purchaseData = n || e.rawData, this.listeners = new c.ScopedRegistry("PurchaseFlow.listeners"), 
this.jobId = ++_, a = o ? [ this.getIdleState(), this.getStartedState(r.RESUMED), this.getResumedState(), this.getSuccessState(), this.getErrorState() ] : [ this.getIdleState(), this.getStartedState(r.REGISTERED), this.getRegisteredState(), this.getCheckoutState(), this.getSuccessState(), this.getErrorState(), this.getCancelledState() ], 
this.state = new i.StateMachine("PurchaseFlow", r.IDLE, a, {
debug: !0
}), this.state.start();
var u = this.state.onStateChange(function(e) {
s.listeners.list(e.stateId.toString()).forEach(function(e) {
return e(s);
}), T.list(e.stateId.toString()).forEach(function(e) {
return e(s);
}), v.indexOf(e.stateId) >= 0 && (u(), s.listeners.disposeAll());
});
}
return e.start = function(t, n) {
return new e(t, o.PURCHASE, n);
}, e.claim = function(t, n) {
return new e(t, o.CLAIM, n);
}, e.resumeOrphaned = function(t, n, r) {
return new e(t, o.PURCHASE, n, r);
}, e.prototype.getIdleState = function() {
var e = this;
return {
id: r.IDLE,
transitions: [ r.STARTED ],
onEnter: function() {
setTimeout(function() {
e.state.transitionTo(r.STARTED);
}, 1);
}
};
}, e.prototype.getStartedState = function(e) {
var t = this;
return {
id: r.STARTED,
transitions: [ e, r.ERROR ],
onEnter: function() {
f.debug("Starting flow for", t.offer.type, t.offer.group), h.request({
game: t.offer.gameId,
productId: t.offer.offerId,
data: t.purchaseData,
pinData: t.offer.pinData,
deviceIdType: "machash",
deviceId: d.pinStore.uuid
}).onSuccess(function(n) {
t.purchaseId = n.purchaseId, t.state.transitionTo(e);
}).onError(function(e) {
t.error = e, t.state.transitionTo(r.ERROR);
});
}
};
}, e.prototype.getRegisteredState = function() {
var e = this;
return {
id: r.REGISTERED,
transitions: [ r.CHECKOUT ],
requirement: function() {
return !!e.purchaseId;
},
onEnter: function() {
y({
offerId: e.offer.productId,
crossTitleCheckout: "game" === e.offer.type,
owned: !!e.offer.owned,
jobId: e.jobId
}), e.state.transitionTo(r.CHECKOUT);
}
};
}, e.prototype.getResumedState = function() {
var e = this;
return {
id: r.RESUMED,
transitions: [ r.SUCCESS, r.ERROR ],
requirement: function() {
return !!e.purchaseId;
},
onEnter: function() {
e.purchaseId ? (e.checkoutResult = "completed", g.request({
game: e.offer.gameId,
productId: e.offer.offerId,
purchaseId: e.purchaseId,
pinData: e.offer.pinData,
result: e.checkoutResult,
deviceIdType: "machash",
deviceId: d.pinStore.uuid
}).onSuccess(function(t) {
e.response = t, e.state.transitionTo(r.SUCCESS);
}).onError(function(t) {
e.error = t, e.state.transitionTo(r.ERROR);
})) : f.error("Missing purchaseId, this should never happen");
}
};
}, e.prototype.getCheckoutState = function() {
var e = this;
return {
id: r.CHECKOUT,
transitions: [ r.SUCCESS, r.ERROR, r.CANCELLED ],
requirement: function() {
return !!e.purchaseId;
},
onEnter: function() {
e.checkoutMessageBuffer.read(function(t) {
e.purchaseId ? t.jobId === e.jobId && (e.checkoutResult = "error", t.status === t.CHECKOUT_COMPLETED ? e.checkoutResult = "completed" : t.status === t.CHECKOUT_CANCELLED ? e.checkoutResult = "cancelled" : t.status === t.CHECKOUT_FAILURE ? e.checkoutResult = "error" : t.status === t.CHECKOUT_OIG_DISABLED && (e.checkoutResult = "disabled"), 
g.request({
game: e.offer.gameId,
productId: e.offer.offerId,
purchaseId: e.purchaseId,
pinData: e.offer.pinData,
result: e.checkoutResult,
deviceIdType: "machash",
deviceId: d.pinStore.uuid
}).onSuccess(function(n) {
e.response = n, t.status === t.CHECKOUT_COMPLETED ? e.state.transitionTo(r.SUCCESS) : t.status === t.CHECKOUT_CANCELLED ? e.state.transitionTo(r.CANCELLED) : (e.error = t, 
e.state.transitionTo(r.ERROR));
}).onError(function(t) {
e.error = t, e.state.transitionTo(r.ERROR);
})) : f.error("Missing purchaseId, this should never happen");
});
},
onLeave: function() {
e.checkoutMessageBuffer.dispose();
}
};
}, e.prototype.getSuccessState = function() {
return {
id: r.SUCCESS,
transitions: []
};
}, e.prototype.getErrorState = function() {
var e = this;
return {
id: r.ERROR,
transitions: [],
requirement: function() {
return e.error;
}
};
}, e.prototype.getCancelledState = function() {
return {
id: r.CANCELLED,
transitions: []
};
}, e.prototype.onFinished = function(e) {
var t = this, n = v.map(function(n) {
return t.listeners.add(e, n.toString());
});
return function() {
return n.forEach(function(e) {
return e();
});
};
}, e.prototype.listen = function(e, t) {
return this.listeners.add(t, e.toString());
}, e.onFinished = function(e) {
var t = v.map(function(t) {
return T.add(e, t.toString());
});
return function() {
return t.forEach(function(e) {
return e();
});
};
}, e.listen = function(e, t) {
return T.add(t, e.toString());
}, e;
}();
t.PurchaseFlow = b;
var T = new c.ScopedRegistry("PurchaseFlow.globalListeners");
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(219), a = n(934), s = n(174), u = n(935), l = n(252), c = n(9), p = n(59), d = n(149), f = n(66), m = e.get("FontState"), h = function() {
function t(e) {
this.locales = o.observable.array(), this.gameLocale = null, this.registeredFonts = o.observable.array(), 
this.displayLocale = s.Locales.ENGLISH, this.fallback = !1, this.translationsAreDone = !1, 
this.isReady = !1, this.fallbackCache = !1, this.accountInfoPSN = new a.AccountInfoPSN(e);
}
return t.prototype.withTranslations = function(e) {
var t = this;
this.translationsAreDone ? e() : o.when(function() {
return t.translationsAreDone;
}, e);
}, t.prototype.initialize = function(e, t, n, r) {
var a = this;
o.observe(this.accountInfoPSN, "language", function(e) {
var t = i.psnAccountLanguageToSpartaLocale(e.newValue);
a.updateFontsForLocale(t);
}), o.reaction(function() {
return t.ready;
}, function(n) {
if (n) {
var i = t.locale, s = t.region, l = t.hostingGame;
if (!i || !s || !l) throw new Error("Missing locale, region or hostingGame (" + i + ", " + s + ", " + l);
var c = a.getSupportedRegion(s), p = a.getSupportedLocale(i, c, l);
a.localeSupport = u.getLocaleSupport(e.getRegisteredGames(), c, p), a.setInitialLocales(p, t.commerceLocale || p, a.localeSupport.requiresFallback), 
a.localeSupport.requiresFallback && r.onLoad(function(e) {
o.reaction(function() {
return e.isGameViewVisible;
}, function(e) {
e ? (a.fallbackCache = a.fallback, a.fallback = !1) : a.fallback = a.fallbackCache;
});
}), a.isReady = !0;
}
}), o.reaction(function() {
return n.location.section;
}, function(e) {
var t = !!a.localeSupport && a.localeSupport.sectionNeedsFallback(e);
a.setFallbackAndSection({
section: e,
fallback: !!a.needsFallback && t
});
}, {
fireImmediately: !0
});
}, t.prototype.setInitialLocales = function(e, t, n) {
this.gameLocale = e.toLowerCase(), this.displayLocale = this.gameLocale, this.commerceLocale = t.toLowerCase(), 
this.needsFallback = n;
}, t.prototype.updateFontsForLocale = function(e) {
var t = this;
return new Promise(function(n, r) {
if (e && i.fontConfig.hasOwnProperty(e) ? -1 === t.locales.indexOf(e) && t.locales.push(e) : m.warn("Locale not found in fontConfig. Falling back to en-us. Got locale: " + e), 
t.commerceLocale) {
var o = i.commerceLocaleToRegionFontLocale(t.commerceLocale);
o && -1 === t.locales.indexOf(o) && t.locales.push(o);
}
var a = t.getFontsToLoad();
0 === a.length && n(), t.loadFonts(a);
var s = setTimeout(function() {
if (!a.every(function(e) {
return e.loaded;
})) {
var e = a.filter(function(e) {
return !e.loaded;
}).map(function(e) {
return e.name;
});
m.warn("These fonts could not be loaded in time:", e);
}
clearTimeout(s), n();
}, 3e4), u = d.onAssetLoaded.listen(function(e, t) {
var o = !1;
a.every(function(n, i) {
var s = n.url.replace("http://offline.twinkle", "");
return -1 === e.indexOf(s) || (o = !0, t ? a[i].loaded = !0 : (u(), r()), !1);
}), o && a.every(function(e) {
return e.loaded;
}) && (clearTimeout(s), u(), n());
});
});
}, Object.defineProperty(t.prototype, "gameLocaleOrDefault", {
get: function() {
return this.gameLocale || "en-us";
},
enumerable: !0,
configurable: !0
}), t.prototype.getSupportedRegion = function(e) {
return l.isRegion(e) ? e : l.Regions.NA;
}, t.prototype.getSupportedLocale = function(t, n, r) {
if ("en-us" === t) return "en-us";
var o = r.locales[n.toLowerCase()];
return o ? ("zh-cn" === t && -1 === o.indexOf(t) && (t = s.Locales.CHINESE_TRADITIONAL), 
-1 === o.indexOf(t) ? (e.get("LocaleState").error("Missing locale in list of supported locales (locale: '" + t + "', platform: '" + c.SpartaGlobals.bundlePlatform + "', region: '" + n + "', game '" + r.displayName() + "')"), 
s.Locales.ENGLISH) : t) : (e.get("LocaleState").error("Missing region in list of supported locales (region: '" + n + "', game: '" + r.displayName() + "'"), 
s.Locales.ENGLISH);
}, t.prototype.getFontsToLoad = function() {
var e = this, t = [];
return this.locales.forEach(function(n) {
var r = i.fontConfig[n];
if (r) {
var o = function(n) {
if (!r.hasOwnProperty(n)) return "continue";
var o = r[n];
if (!o) return "continue";
Object.keys(o).forEach(function(n) {
var r = o[n];
r && e.isFontNotRegistered(r) && (e.registeredFonts.push(r.fontName), t.push({
name: r.fontName,
url: r.fontUrl,
loaded: !1
}));
});
};
for (var a in r) o(a);
}
}), t;
}, t.prototype.loadFonts = function(e) {
e.forEach(g);
}, t.prototype.isFontNotRegistered = function(e) {
return -1 === this.registeredFonts.indexOf(e.fontName);
}, t.prototype.setFallbackAndSection = function(e) {
this.section = e.section, this.fallback = e.fallback, this.displayLocale = e.fallback ? s.Locales.ENGLISH : this.gameLocaleOrDefault;
}, t.prototype.markTranslationsAsDone = function() {
this.translationsAreDone = !0;
}, r.__decorate([ o.observable ], t.prototype, "gameLocale", void 0), r.__decorate([ o.observable ], t.prototype, "commerceLocale", void 0), 
r.__decorate([ o.observable ], t.prototype, "displayLocale", void 0), r.__decorate([ o.observable ], t.prototype, "needsFallback", void 0), 
r.__decorate([ o.observable ], t.prototype, "section", void 0), r.__decorate([ o.observable ], t.prototype, "fallback", void 0), 
r.__decorate([ o.observable ], t.prototype, "translationsAreDone", void 0), r.__decorate([ o.observable ], t.prototype, "isReady", void 0), 
r.__decorate([ o.action ], t.prototype, "setInitialLocales", null), r.__decorate([ o.action ], t.prototype, "updateFontsForLocale", null), 
r.__decorate([ o.computed ], t.prototype, "gameLocaleOrDefault", null), r.__decorate([ o.action ], t.prototype, "getFontsToLoad", null), 
r.__decorate([ o.action ], t.prototype, "setFallbackAndSection", null), r.__decorate([ o.action ], t.prototype, "markTranslationsAsDone", null), 
t;
}();
function g(e) {
f.loadFont(e.name, e.url);
}
t.LocaleState = h, t.localeState = new h(p.frostbite);
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(84), o = n(52), i = 1, a = function() {
function e(e, t, n, r) {
void 0 === n && (n = !1), void 0 === r && (r = 1), this.id = e, this.url = t, this.loop = n, 
this.volume = r, this.unload = this.stop;
}
return e.prototype.play = function() {
o.nativeApi.playSound(this.id, this.url, this.loop), o.nativeApi.setSoundVolume(this.id, this.volume);
}, e.prototype.playInAudioBus = function(e) {
o.nativeApi.playSoundAudioBus(this.id, this.url, this.loop, e), o.nativeApi.setSoundVolume(this.id, this.volume);
}, e.prototype.stop = function() {
o.nativeApi.stopSound(this.id);
}, e.prototype.stopWithFadeOut = function(e) {
void 0 === e && (e = 3e3), o.nativeApi.stopSoundWithFadeout(this.id, e);
}, e.prototype.setVolume = function(e) {
this.volume = e;
}, e.prototype.setLoop = function(e) {
this.loop = e;
}, e.load = function(t) {
return r.options.urlHook && (t = r.options.urlHook(t)), new e(i++, t);
}, e.stopAll = function() {
o.nativeApi.stopAllSounds();
}, e;
}();
t.Sound = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(15), s = n(6), u = n(21), l = n(14).bbOfflineUrl("/sparta/jsclient/builds/assets/icon-scraps-white2-l-bb954c75.png"), c = n(19), p = n(27);
t.ScrapIcon = function(e) {
var t = e.color, n = e.iconSize;
return o.createElement("surface", {
key: "asset",
style: {
texture: l,
color: t,
textureMode: "contain",
width: n,
height: n,
marginLeft: 4,
marginRight: 4
}
});
};
var d = function(e) {
function n(t) {
var n = e.call(this, t) || this;
return n.scaleTween = a.Animation.tween("4519789d:50:34", 1), n.state = {
animatedValue: t.animated ? t.value : null
}, n;
}
return r.__extends(n, e), n.prototype.componentWillReceiveProps = function(e) {
var t = this;
e.animated && (e.value > this.props.value ? this.scaleTween.to(2, {
delay: 1800,
duration: 100,
easing: p.Easing.CubicIn
}, function() {
t.scaleTween.isDestroyed() || t.setState({
animatedValue: e.value
}, function() {
t.scaleTween.to(1, {
duration: 500,
easing: p.Easing.CubicOut
});
});
}) : this.setState({
animatedValue: e.value
}));
}, n.prototype.componentWillUnmount = function() {
this.scaleTween.destroy();
}, n.prototype.render = function() {
var e = this.props.color || (this.props.dark ? "#000000" : "#ffffff"), n = this.props.size ? u.LINE_HEIGHTS[this.props.size] : u.LINE_HEIGHTS.M, r = !!this.props.prefix && o.createElement(s.Text, {
value: this.props.prefix.trim() + " ",
key: "prefix",
color: e,
size: this.props.size,
style: {
marginRight: 8
}
}), i = !!this.props.suffix && o.createElement(s.Text, {
value: " " + this.props.suffix.trim(),
key: "suffix",
color: e,
size: this.props.size,
style: {
marginLeft: 8
}
}), a = (this.props.animated ? this.state.animatedValue : this.props.value) || 0;
return o.createElement("surface", {
style: [ {
flexDirection: "row"
}, this.props.style ]
}, c.localeRearrange([ r, [ o.createElement(t.ScrapIcon, {
key: "icon",
color: e,
iconSize: n
}), o.createElement(s.Text, {
key: "value",
value: "" + a,
color: e,
size: this.props.size,
style: {
scaleX: this.scaleTween.getStyle(),
scaleY: this.scaleTween.getStyle()
}
}) ], i ]));
}, n = r.__decorate([ i.observer ], n);
}(o.Component);
t.TunguskaBattlepackScraps = d;
}, function(e, t, n) {
var r = n(57), o = n(114), i = n(99), a = n(186)("src"), s = Function.toString, u = ("" + s).split("toString");
n(54).inspectSource = function(e) {
return s.call(e);
}, (e.exports = function(e, t, n, s) {
var l = "function" == typeof n;
l && (i(n, "name") || o(n, "name", t)), e[t] !== n && (l && (i(n, a) || o(n, a, e[t] ? "" + e[t] : u.join(String(t)))), 
e === r ? e[t] = n : s ? e[t] ? e[t] = n : o(e, t, n) : (delete e[t], o(e, t, n)));
})(Function.prototype, "toString", function e() {
return "function" == typeof this && this[a] || s.call(this);
});
}, function(e, t, n) {
var r = n(240), o = n(168);
e.exports = function(e) {
return r(o(e));
};
}, function(e, t, n) {
var r = n(16), o = n(44), i = n(168), a = /"/g, s = function(e, t, n, r) {
var o = String(i(e)), s = "<" + t;
return "" !== n && (s += " " + n + '="' + String(r).replace(a, "&quot;") + '"'), 
s + ">" + o + "</" + t + ">";
};
e.exports = function(e, t) {
var n = {};
n[e] = t(s), r(r.P + r.F * o(function() {
var t = ""[e]('"');
return t !== t.toLowerCase() || t.split('"').length > 3;
}), "String", n);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(9);
t.useConsoleMenu = r.SpartaGlobals.bundleIsConsole || !1;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function() {
function e(e) {
this.name = e.name || "";
}
return e.prototype.init = function(e, t) {
return "" === this.name && (this.name = e), this.flagStore = t, this;
}, e;
}(), i = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.isEnabled = function() {
return this.flagStore.isFeatureEnabled(this.name);
}, t;
}(o);
t.FeatureFlag = i;
var a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.isEnabledFor = function(e) {
return this.flagStore.isFeatureEnabled(e.toLowerCase() + "_" + this.name);
}, t;
}(o);
t.GameFeatureFlag = a;
var s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.isEnabled = function() {
return this.flagStore.hasUGCAccess() && this.flagStore.isFeatureEnabled(this.name);
}, t;
}(o);
t.UGCRestrictedFeatureFlag = s;
var u = function() {
function e() {
this.flagsRegistered = {};
}
return e.prototype.isFeatureEnabled = function(e) {
return !!this.settingsStore && this.settingsStore.isFeatureEnabled(e);
}, e.prototype.hasUGCAccess = function() {
return !!this.settingsStore && (!!this.settingsStore.UGCAccessLevel && this.settingsStore.hasUGCAccess());
}, e.prototype.register = function(e) {
var t = this;
return Object.keys(e).forEach(function(n) {
var r = e[n];
if (r.init(n, t), t.flagsRegistered[r.name]) throw new Error("There is already a feature flag registered with the name '" + n + "'");
t.flagsRegistered[n] = r;
}), e;
}, e;
}();
t.featureFlags = new u();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(10), r = n(41), o = n(11), i = n(12), a = n(18), s = n(8), u = n(939), l = n(112), c = n(379), p = n(9), d = n(5), f = n(47), m = n(36);
t.showStopMatchmaking = function h(e) {
return r.legacyConfirm(__("ID_SPARTA_GAMESTATE_STOP_QUICKMATCH", !0), __("ID_SPARTA_GAMESTATE_STOP_MATCHMAKING_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "quitMatchmaking" + e);
}, t.showLeaveQueue = function g() {
return r.legacyConfirm(__("ID_SPARTA_GAMESTATE_LEAVE_QUEUE", !0), __("ID_SPARTA_MATCHMAKING_LEAVE_QUEUE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "leaveQueue");
}, t.showPartyLeaderRestriction = function y() {
var e = __("ID_SPARTA_USER_PARTY_WARNING_NOT_LEADER_PC", !0), t = __("ID_SPARTA_USER_PARTY_WARNING_NOT_LEADER_TITLE_PC", !0);
return p.SpartaGlobals.bundleIsPS4 ? (e = __("ID_SPARTA_USER_PARTY_WARNING_NOT_LEADER_PS4", !0), 
t = __("ID_SPARTA_USER_PARTY_WARNING_NOT_LEADER_TITLE_PS4", !0)) : p.SpartaGlobals.bundleIsXBOXONE && (e = __("ID_SPARTA_USER_PARTY_WARNING_NOT_LEADER_XB1", !0), 
t = __("ID_SPARTA_USER_PARTY_WARNING_NOT_LEADER_TITLE_XB1", !0)), r.legacyConfirm(e, t, __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "proceedNotPartyLeader");
};
var S = d.StaticStyle.create({
width: s.getWidth(4.5)
}, "684acb14:132:14");
t.showNotInHostingGame = function v(t, n) {
void 0 === t && (t = "gamePopups");
var s = e.nativePropertiesStore.getHostingGame(), u = e.layoutStateStore.current.config.gameId || "", l = e.gameStore.getGame(u), p = __("ID_SPARTA_RIME_NO_ACCESS", !0).replace("[[game]]", s.displayName());
function d() {
var e = new r.UserError(t, (void 0 !== n ? n + ":" : "") + "RIME_NO_ACCESS");
m.trackUserFacingError(e), f.PopupManager.standardAlert(p);
}
if (l) {
var h = e.entitlementStore.ownsGame(l.gameId), g = e.crosslaunchManager.setting === c.CrosslaunchManager.SettingOptions.Full;
if (!h || g) {
var y = __(h ? "ID_SPARTA_RIME_NO_ACCESS_LAUNCH_GAME" : "ID_SPARTA_RIME_NO_ACCESS_BUY_GAME", !0), v = l.displayName(), _ = {
title: p,
details: __("ID_SPARTA_RIME_NO_ACCESS_SWITCH_GAME", !0).replace("[[game]]", v),
label: y.replace("[[game]]", v),
image: l.boxShot || ""
}, b = new r.UserError(t, (void 0 !== n ? n + ":" : "") + (h ? "RIME_NO_ACCESS_LAUNCH_GAME" : "RIME_NO_ACCESS_BUY_GAME"));
r.errorWithImageAndOption(b, _.details, _.title, _.image, new i.Input({
action: function() {
h ? e.crosslaunchManager.continueCrosslaunch(l.gameId, {}) : a.gotoLocation(l.storeConfig.route + "?tab=game");
},
key: o.Keys.Option2,
label: _.label
}), !0, S).then(function() {});
} else d();
} else d();
}, t.showMissingGame = function _(t, n, s) {
void 0 === n && (n = "gamePopups");
var u = e.gameStore.getGame(t), l = u ? u.displayName() : "", c = {
title: __("ID_SPARTA_COMMERCE_UNOWNED_GAME", !0).replace("[[game]]", l.toUpperCase()),
details: __("ID_SPARTA_COMMERCE_UNOWNED_GAME_DESC", !0).replace("[[game]]", l),
label: __("ID_SPARTA_COMMERCE_UNOWNED_GAME_GET", !0),
image: u && u.boxShot || ""
}, p = new r.UserError(n, (void 0 !== s ? s + ":" : "") + "COMMERCE_UNOWNED_GAME_GET");
return r.errorWithImageAndOption(p, c.details, c.title, c.image, new i.Input({
action: function() {
return a.gotoLocation(u ? u.startRoute + "/store/list?tab=game" : "");
},
key: o.Keys.Option2,
label: c.label
}), !0);
}, t.showNotSupportedRole = function b(e, t) {
var n = "";
switch (t) {
case "spectator":
n = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_SUPPORTED_SPECTATOR", !0);
break;

case "commander":
n = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_SUPPORTED_COMMANDER", !0);
break;

default:
n = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_SUPPORTED", !0).replace("[[role]]", t);
}
e.alert(n, __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE", !0));
}, t.showPartyContentMissing = function T() {
return r.legacyConfirm(__("ID_SPARTA_USER_PARTY_MISSING_CONTENT_MESSAGE", !0), __("ID_SPARTA_USER_PARTY_MISSING_CONTENT_TITLE", !0), __("ID_SPARTA_ACTION_CONTINUE", !0), __("ID_SPARTA_ACTION_CANCEL", !0), "missingContent");
}, t.showPasswordPrompt = function E(e) {
return r.prompt(__("ID_SPARTA_ONLINE_JOIN_PASSWORD_PROTECTED"), 1, 36, {
onOkValidate: function(t) {
return new Promise(function(n, r) {
t.trim().length < 1 && r(__("ID_SPARTA_ONLINE_JOIN_ENTER_VALID_PASSWORD")), u.ServerVerifyPasswordClient.triggerAsPromise(e, t).then(function(e) {
e.gameId, e.verified ? n(t) : r(__("ID_SPARTA_ONLINE_JOIN_INVALID_PASSWORD"));
});
});
},
inputType: l.CharacterType.Password,
message: __("ID_SPARTA_ONLINE_JOIN_ENTER_PASSWORD")
});
}, t.showTooFewSlotsOnServer = function C() {
return r.legacyConfirm(__("ID_SPARTA_USER_PARTY_TOO_FEW_SLOTS_MESSAGE", !0), __("ID_SPARTA_USER_PARTY_TOO_FEW_SLOTS_TITLE", !0), __("ID_SPARTA_ACTION_CONTINUE", !0), __("ID_SPARTA_ACTION_CANCEL", !0), "fewSlots");
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(0), o = n(1), i = n(4), a = n(26), s = n(15), u = n(12), l = n(18), c = n(11), p = n(6), d = n(937), f = n(938), m = n(21), h = n(5), g = n(5), y = n(17), S = n(9), v = n(7), _ = n(27), b = /[\u0020-\u007E\u00A0-\u017F\u0192\u01FA-\u01FF\u20AC\u2122\u2012\u2013\u2014\u2018\u2019\u201C\u201D\u0410-\u042F\u0490\u0406\u0402\u0452\u0403\u0453\u0456\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\u040B\u045B\u040C\u045C\u0455\u040E\u045E\u040F\u045F\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E]/, T = h.StaticStyle.create({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
paddingLeft: 10,
flexDirection: "row",
zOffset: 10
}, "a81a1502:32:20");
function E(e, t, n) {
return e < t ? t : e > n ? n : e;
}
!function(e) {
e[e.LatinFull = 1] = "LatinFull", e[e.Numeric = 2] = "Numeric", e[e.Alphabet = 4] = "Alphabet", 
e[e.Gamertag = 8] = "Gamertag", e[e.Password = 16] = "Password", e[e.AlphabetSpace = 32] = "AlphabetSpace";
}(e = t.CharacterType || (t.CharacterType = {}));
var C = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.sparta = v.SpartaContext.getFromComponent(r), r.onKeyDown = function(e) {
switch (e) {
case 9:
r.onTab();
break;

case 13:
S.SpartaGlobals.bundleIsPC && (r.props.onEnter ? r.props.onEnter() : r.insertValue("\n"));
break;

case 27:
r.props.useVirtualKeyboard || r.deactivate();
break;

case 37:
r.offsetCursor(-1);
break;

case 39:
r.offsetCursor(1);
break;

case 8:
r.deleteOffset(-1);
break;

case 46:
r.deleteOffset(1);
break;

case 35:
r.offsetCursor(r.value.length);
break;

case 36:
r.offsetCursor(-r.value.length);
break;

case 65:
r.isControlDown && r.setState({
cursorStart: 0,
cursorEnd: r.value.length
});
break;

case 67:
r.isControlDown && r.onCopy();
break;

case 88:
r.isControlDown && r.onCut();
break;

case 86:
r.isControlDown && r.onPaste();
}
}, r.onModifierKeyDown = function(e) {
switch (e) {
case 160:
r.isShiftDown = !0;
break;

case 162:
r.isControlDown = !0;
}
}, r.onModifierKeyUp = function(e) {
switch (e) {
case 160:
r.isShiftDown = !1;
break;

case 162:
case 164:
r.isControlDown = !1;
}
}, r.onClick = function() {
r.state.isActive || r.activate();
}, r.onCharacterClicked = function(e) {
r.state.isActive ? r.setState({
cursorStart: e,
cursorEnd: e
}) : r.activate();
}, r.onCharacterMouseEnter = function(e, t) {
r.state.isActive && r.isMouseDown && (t.stopPropagation(), r.setState({
cursorEnd: e
}));
}, r.onCharacterMouseDown = function(e) {
if (r.state.isActive) {
switch (r.isMouseDown = !0, r.multiClickTimer ? (clearTimeout(r.multiClickTimer), 
r.numClicks += 1) : r.numClicks = 1, r.numClicks) {
case 1:
r.setState({
cursorStart: e,
cursorEnd: e
});
break;

case 2:
var t = r.value.lastIndexOf(" ", e) + 1, n = r.value.indexOf(" ", e);
-1 === n && (n = r.value.length), r.setState({
cursorStart: t,
cursorEnd: n
});
break;

case 3:
r.setState({
cursorStart: 0,
cursorEnd: r.value.length
});
}
r.multiClickTimer = setTimeout(function() {
return r.multiClickTimer = 0;
}, 300);
}
}, r.toggleCursorVisibility = function() {
r.cursorOpacity.set(r.cursorOpacity.previousInstruction.to ? 0 : 1);
};
var o = e.initialValue || e.value || "";
return r.state = {
value: o,
cursorStart: o.length,
cursorEnd: o.length
}, r.focusItem = r.props.focusItem || r.sparta.twinkle.focus.create(r, r.props.debugName || "inputfield"), 
r.focusItem.autoFocusCandidate = void 0 === e.autoFocusCandidate || e.autoFocusCandidate, 
r.props.useVirtualKeyboard ? (r.focusItem.onFocus(function() {
return r.activate();
}), r.focusItem.onBlur(function() {
return r.deactivate();
})) : (r.focusItem.onFocus(function() {
r.isolateInputGroup(), r.updateInput();
}), r.focusItem.onBlur(function() {
return r.releaseInputGroup();
})), r.eventSubscriptions = [], r.modifierKeySubscriptions = [], r.cursorOpacity = s.Animation.tween("a81a1502:182:46", 0), 
r;
}
var C;
return r.__extends(n, t), C = n, Object.defineProperty(n.prototype, "value", {
get: function() {
return void 0 !== this.props.value ? this.props.value : this.state.value;
},
enumerable: !0,
configurable: !0
}), n.prototype.getFocusItem = function() {
return this.focusItem;
}, n.prototype.componentWillReceiveProps = function(e) {
if (e.initialValue !== this.props.initialValue) {
var t = e.initialValue || "";
this.setState({
value: t,
cursorStart: t.length,
cursorEnd: t.length
});
}
}, n.prototype.componentDidMount = function() {
C.mountedInstances.push(this), this.subscribeToModifierEvents();
}, n.prototype.componentWillUnmount = function() {
C.mountedInstances.splice(C.mountedInstances.indexOf(this), 1), this.deactivate(), 
this.cursorOpacity.destroy(), this.unsubscribeFromModifierEvents();
}, n.prototype.getInput = function() {
var e = this;
if (this.focusItem.isFocusedOrHovered) {
if (!this.props.useVirtualKeyboard && this.state.isActive) return [ new u.Input({
label: __("ID_SPARTA_ACTION_CANCEL"),
action: function() {
return e.deactivate();
},
key: this.props.cancelKey
}) ];
var t = this.props.useVirtualKeyboard ? function() {
return e.showVirtualKeyboard();
} : function() {
return e.activate();
};
return [ new u.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: t,
key: this.props.editKey
}) ];
}
}, n.prototype.onTab = function() {
var e = C.mountedInstances.indexOf(this), t = e + (this.isShiftDown ? -1 : 1);
t < 0 ? t = C.mountedInstances.length - 1 : t > C.mountedInstances.length - 1 && (t = 0), 
t !== e && (this.deactivate(), C.mountedInstances[t].activate());
}, n.prototype.onCopy = function() {
if (0 !== this.selectionSize()) {
var e = this.value.substring(this.cursorMin(), this.cursorMax());
this.sparta.twinkle.nativeApi.setClipboardText(e);
}
}, n.prototype.onCut = function() {
this.onCopy(), this.splice(this.cursorMin(), this.selectionSize());
}, n.prototype.onPaste = function() {
var e = this.sparta.twinkle.nativeApi.getClipboardText();
"string" == typeof e && this.insertValue(e);
}, n.prototype.cursorMin = function() {
return Math.min(this.state.cursorStart, this.state.cursorEnd);
}, n.prototype.cursorMax = function() {
return Math.max(this.state.cursorStart, this.state.cursorEnd);
}, n.prototype.selectionSize = function() {
return this.cursorMax() - this.cursorMin();
}, n.prototype.subscribeToEvents = function() {
var e = this;
this.unsubscribeFromEvents();
var t = this.sparta.twinkle, n = t.inputHandler, r = t.frostbite;
this.props.useVirtualKeyboard || (this.eventSubscriptions.push(n.onMouseEventBeforePropagation.listen(function(t) {
return e.deactivateOnClickOutside(t);
})), this.eventSubscriptions.push(n.onKeyDown.listen(this.onKeyDown)), this.eventSubscriptions.push(n.onTypingInput.listen(function(t, n, r) {
return e.insertValue(r);
})), r.sendMessage("sparta.toggleVirtualKeyboard", {
show: !0
}), this.eventSubscriptions.push(function() {
r.sendMessage("sparta.toggleVirtualKeyboard", {
show: !1
});
}), this.eventSubscriptions.push(n.onMouseEventAfterPropagation.listen(function(t) {
e.isMouseDown && t.button === _.MouseButton.Primary && t.event === _.MouseEventType.onMouseUp && (e.isMouseDown = !1);
})));
}, n.prototype.subscribeToModifierEvents = function() {
this.unsubscribeFromModifierEvents();
var e = this.sparta.twinkle.inputHandler;
this.modifierKeySubscriptions.push(e.onKeyUp.listen(this.onModifierKeyUp)), this.modifierKeySubscriptions.push(e.onKeyDown.listen(this.onModifierKeyDown));
}, n.prototype.unsubscribeFromEvents = function() {
this.eventSubscriptions.forEach(function(e) {
return e();
}), this.eventSubscriptions = [];
}, n.prototype.unsubscribeFromModifierEvents = function() {
this.modifierKeySubscriptions.forEach(function(e) {
return e();
}), this.modifierKeySubscriptions = [];
}, n.prototype.deactivate = function() {
this.state.isActive && (this.props.useCursor && (this.releaseInputGroup(), l.setNavigationEnabled(!0), 
clearInterval(this.cursorVisibilityInterval), this.cursorOpacity.set(0)), this.unsubscribeFromEvents(), 
this.setState({
isActive: !1,
cursorStart: this.value.length,
cursorEnd: this.value.length
}), this.props.onDeactivate && this.props.onDeactivate());
}, n.prototype.activate = function() {
this.props.disabled || (this.state.isActive ? this.offsetCursor(this.value.length) : (this.props.useCursor && (this.isolateInputGroup(), 
l.setNavigationEnabled(!1), clearInterval(this.cursorVisibilityInterval), this.cursorVisibilityInterval = setInterval(this.toggleCursorVisibility, 500), 
this.cursorOpacity.set(1)), this.subscribeToEvents(), this.setState({
isActive: !0
}), this.props.onActivate && this.props.onActivate()));
}, n.prototype.deactivateOnClickOutside = function(e) {
var t = this;
if (e.event === _.MouseEventType.onClick && e.button <= _.MouseButton.Wheel) {
if (this.focusItem.surfaceId) {
var n = this.focusItem.getSurfaceElement();
if (n && e.surfaces.some(function(e) {
var r = t.sparta.twinkle.reconciler.getSurfaceById(e.surfaceId);
return !!r && n.isDescendantOf(r);
})) return;
}
this.deactivate();
}
}, n.prototype.insertValue = function(e) {
var t = this, n = e.split("").filter(function(e) {
return b.test(e) || S.SpartaGlobals.bundleIsPC && t.props.multiline && "\n" === e;
}).join("");
n && this.splice(this.cursorMin(), this.selectionSize(), n);
}, n.prototype.replaceValue = function(e) {
var t = e.split("").filter(function(e) {
return b.test(e);
}).join("");
this.setState({
value: t,
cursorStart: t.length,
cursorEnd: t.length
}), this.props.onValueChanged && this.props.onValueChanged(e);
}, n.prototype.splice = function(e, t, n) {
var r;
e < 0 && (r = e + t, e = 0, t = r > 0 ? r : 0), (r = e + t) > this.value.length && (e >= this.value.length ? (e = this.value.length, 
t = 0) : t = this.value.length - e);
var o = this.value.split("");
if (n && n.length > 0 && "number" == typeof this.props.maxLength) {
var i = this.props.maxLength - (o.length - t);
n = n.substring(0, i);
} else n = "";
o.splice(e, t, n);
var a = o.join(""), s = E(e + n.length, 0, a.length);
this.setState({
value: a,
cursorStart: s,
cursorEnd: s
}), this.props.onValueChanged && this.props.onValueChanged(a);
}, n.prototype.deleteOffset = function(e) {
var t = this.selectionSize();
if (t) this.splice(this.cursorMin(), t); else if (e > 0) this.splice(this.state.cursorStart, e); else if (e < 0) {
var n = Math.abs(e);
this.splice(this.state.cursorStart - n, n);
}
}, n.prototype.offsetCursor = function(e) {
if (!e) return this.value.length;
var t;
if (this.isShiftDown || this.isMouseDown) t = E(this.state.cursorEnd + e, 0, this.value.length), 
this.setState({
cursorEnd: t
}); else {
var n = e < 0 ? this.cursorMin() : this.cursorMax();
t = this.selectionSize() ? n : E(n + e, 0, this.value.length), this.setState({
cursorStart: t,
cursorEnd: t
});
}
}, n.prototype.showVirtualKeyboard = function() {
var e = this, t = this.sparta.twinkle, n = t.inputHandler, r = t.frostbite;
if (this.props.disabled) return !1;
this.props.useVirtualKeyboard && this.eventSubscriptions.length < 1 && this.eventSubscriptions.push(n.onTypingInput.listen(function(t, n, r) {
n && e.replaceValue(r);
})), r.sendMessage("sparta.toggleVirtualKeyboard", {
show: !0,
title: this.props.title || "",
description: this.props.description || "",
defaultText: this.value,
maxTextLength: this.props.maxLength,
characterType: this.props.type
});
}, n.prototype.renderPaddingChar = function(e, t, n) {
var r = "padding-char-" + n;
return " " === e ? o.createElement(p.Text, {
key: r,
value: "_",
style: t,
size: this.props.size
}) : o.createElement(p.Text, {
key: r,
value: e,
style: t,
size: this.props.size
});
}, n.prototype.render = function() {
var t, n = this, r = this.value;
if (this.props.type === e.Password && (r = "*".repeat(this.value.length)), this.props.multiline) return o.createElement(f.TextArea, {
onClick: this.onClick,
onCharacterClicked: this.onCharacterClicked,
onCharacterMouseEnter: this.onCharacterMouseEnter,
onCharacterMouseDown: this.onCharacterMouseDown,
selectionStart: this.cursorMin(),
focusItem: this.focusItem,
selectionEnd: this.cursorMax(),
style: this.props.style,
size: this.props.size,
isActive: this.state.isActive,
disabled: this.props.disabled,
isInvalid: this.props.isInvalid,
placeholder: this.props.placeholder,
useCursor: this.props.useCursor,
value: r
});
if (this.props.useCursor && 0 === this.selectionSize()) {
var i = r.substr(0, this.state.cursorStart), a = this.sparta.theme.getTheme(this).getFonts().normal.fontStyle(this.props.size || m.TextSize.M).getStyleValue("textLetterSpacing") || 0, s = g.DynamicStyle.create(a > 0 ? {
paddingLeft: a,
opacity: 0
} : {
opacity: 0
}, "a81a1502:767:30"), u = Array.from(i).map(function(e, t) {
return n.renderPaddingChar(e, s, t);
});
t = o.createElement("surface", {
style: T
}, u, o.createElement(p.Text, {
value: "|",
size: this.props.size,
style: h.merge2(y.CommonStyles.color("#ffffff"), this.cursorOpacity.getStyleClass("opacity"))
}));
}
return o.createElement(d.TextField, {
onClick: this.onClick,
onCharacterClicked: this.onCharacterClicked,
onCharacterMouseEnter: this.onCharacterMouseEnter,
onCharacterMouseDown: this.onCharacterMouseDown,
selectionStart: this.cursorMin(),
focusItem: this.focusItem,
selectionEnd: this.cursorMax(),
style: g.DynamicStyle.maybeLegacyStyle(this.props.style, "a81a1502:797:24"),
size: this.props.size,
isActive: this.state.isActive,
disabled: this.props.disabled,
isInvalid: this.props.isInvalid,
placeholder: this.props.placeholder,
value: r
}, t);
}, n.contextTypes = v.SpartaContext.contextTypes, n.defaultProps = {
type: e.LatinFull,
title: "",
maxLength: 255,
useVirtualKeyboard: S.SpartaGlobals.bundleIsConsole,
useCursor: S.SpartaGlobals.bundleIsPC,
initialValue: "",
size: m.TextSize.M,
isInvalid: !1,
deactivateOnBlur: !0,
disabled: !1,
cancelKey: c.Keys.Decline,
multiline: !1
}, n.mountedInstances = [], n = C = r.__decorate([ i.observer, a.inputWithOptions({
group: S.SpartaGlobals.bundleIsPC
}) ], n);
}(a.InputComponent);
t.InputField = C;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(142), a = n(262), s = n(68), u = n(4), l = n(22), c = n(42), p = n(5), d = function(e) {
function t(t) {
var n = e.call(this, t) || this;
if (n.focusGroup = l.focusSystem.createComponentGroup(n, "list"), n.descendantDidFocus = function(e) {
if ("number" == typeof e && n.props.autoActivateItems) {
var t = n.props.items[e];
t && !o.isValidElement(t) && t.id && n.setActive(t.id);
}
}, t.items.length > 0) {
var r = t.items[0], i = o.isValidElement(r) ? void 0 : r.id;
n.state = {
activeItemId: i
};
} else n.state = {
activeItemId: void 0
};
return n.focusGroup.behavior = c.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | c.GroupBehavior.VERTICAL, 
n;
}
return r.__extends(t, e), t.prototype.setActive = function(e) {
this.setState({
activeItemId: e
});
}, t.prototype.renderDivider = function(e, t) {
e.push(o.createElement(a.Divider, {
key: "divider" + t
}));
}, t.prototype.renderItem = function(e, t) {
var n = this;
if (o.isValidElement(e)) return e;
var a = e.id || "item-" + t, u = e.id || t, l = u === this.state.activeItemId;
return o.createElement(s.Focusable, {
key: a,
groupIndex: t,
group: this.focusGroup,
focusOnHover: this.props.autoActivateItems,
onFocus: this.descendantDidFocus,
id: "listitem_" + u
}, function(t) {
return o.createElement(i.ListItem, r.__assign({
isActive: l,
id: u,
focusItem: t,
showActiveIndicator: n.props.showActiveIndicator,
ignoreRTL: e.ignoreRTL
}, e));
});
}, t.prototype.render = function() {
var e = this, t = this.props, n = t.items, r = t.divider, i = t.style, a = t.styleClass, s = t.onMouseDown, u = [];
"none" !== r && this.renderDivider(u, u.length);
var l = n.length - 1;
return n.forEach(function(t, n) {
u.push(e.renderItem(t, n)), "item" === r && n !== l && e.renderDivider(u, u.length);
}), "group" === r && this.renderDivider(u, u.length), o.createElement("surface", {
onMouseDown: s,
style: p.DynamicStyle.maybeLegacyStyle(a || i, "bd8bf973:121:55")
}, u);
}, t.defaultProps = {
divider: "group"
}, t = r.__decorate([ u.observer ], t);
}(o.Component);
t.List = d;
}, function(e, t, n) {
var r = n(70), o = n(166);
e.exports = n(83) ? function(e, t, n) {
return r.f(e, t, o(1, n));
} : function(e, t, n) {
return e[t] = n, e;
};
}, function(e, t, n) {
var r = n(168);
e.exports = function(e) {
return Object(r(e));
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function() {
for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
t(), e.apply(void 0, n);
});
return t;
}, e.prototype.trigger = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
for (var n = 0, r = this.callbacks.slice(); n < r.length; n++) {
r[n].apply(null, e);
}
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleEvent = r;
var o = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function() {
t(), e();
});
return t;
}, e.prototype.trigger = function() {
for (var e = 0, t = this.callbacks.slice(); e < t.length; e++) {
(0, t[e])();
}
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleSignal = o;
var i = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function(n) {
t(), e(n);
});
return t;
}, e.prototype.trigger = function(e) {
for (var t = 0, n = this.callbacks.slice(); t < n.length; t++) {
(0, n[t])(e);
}
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleTypedEvent = i;
var a = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function(n, r) {
t(), e(n, r);
});
return t;
}, e.prototype.trigger = function(e, t) {
for (var n = 0, r = this.callbacks.slice(); n < r.length; n++) {
(0, r[n])(e, t);
}
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleTypedEvent2 = a;
var s = function() {
function e() {
this.callbacks = [];
}
return e.prototype.listen = function(e) {
var t = this;
return this.callbacks.push(e), function() {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
};
}, e.prototype.listenOnce = function(e) {
var t = this.listen(function(n, r, o) {
t(), e(n, r, o);
});
return t;
}, e.prototype.trigger = function(e, t, n) {
for (var r = 0, o = this.callbacks.slice(); r < o.length; r++) {
(0, o[r])(e, t, n);
}
}, e.prototype.destroy = function() {
this.callbacks.length = 0;
}, e;
}();
t.TwinkleTypedEvent3 = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(116), a = function() {
function e() {
this.allModulesLoaded = !1, this.firstPartyConnectedMessage = null, this.nativeClientSettingsMessage = null, 
this.nativeClientReadyMessage = null, this.blazeConfigReadyMessage = null, this.spartaErrorEvent = new i.TwinkleTypedEvent();
}
return e.prototype.onAllModulesLoaded = function() {
this.allModulesLoaded = !0;
}, e.prototype.onFirstPartyConnectedMessage = function(e) {
this.firstPartyConnectedMessage = e;
}, e.prototype.onNativeClientReadyMessage = function(e) {
this.nativeClientReadyMessage = e;
}, e.prototype.onBlazeConfigReadyMessage = function(e) {
this.blazeConfigReadyMessage = e;
}, e.prototype.onNativeClientSettingsMessage = function(e) {
this.nativeClientSettingsMessage = e;
}, e.prototype.spartaErrorMessage = function(e, t, n) {
this.spartaErrorEvent.trigger({
message: e,
title: t,
closeCallback: n
});
}, r.__decorate([ o.observable ], e.prototype, "allModulesLoaded", void 0), r.__decorate([ o.observable ], e.prototype, "firstPartyConnectedMessage", void 0), 
r.__decorate([ o.observable ], e.prototype, "nativeClientSettingsMessage", void 0), 
r.__decorate([ o.observable ], e.prototype, "nativeClientReadyMessage", void 0), 
r.__decorate([ o.observable ], e.prototype, "blazeConfigReadyMessage", void 0), 
r.__decorate([ o.action ], e.prototype, "onAllModulesLoaded", null), r.__decorate([ o.action ], e.prototype, "onFirstPartyConnectedMessage", null), 
r.__decorate([ o.action ], e.prototype, "onNativeClientReadyMessage", null), r.__decorate([ o.action ], e.prototype, "onBlazeConfigReadyMessage", null), 
r.__decorate([ o.action ], e.prototype, "onNativeClientSettingsMessage", null), 
e;
}();
t.CoreEventStore = a, t.coreEventStore = new a();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.playEffect = r.createTypedAction(), t.playTrack = r.createTypedAction(), t.stopTrack = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.onJoinMultiplayerServerResult = r.createTypedAction(), t.onMultiplayerServerDisconnection = r.createTypedAction(), 
t.onJoinMultiplayerFailed = r.createTypedAction(), t.onLeaveServerQueue = r.createTypedAction();
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.IDLE = "IDLE", e.NEGOTIATING = "NEGOTIATING", e.PREFLIGHT = "PREFLIGHT", e.STARTING_TO_SQUAD_UP = "STARTING_TO_SQUAD_UP", 
e.WAITING_FOR_SQUAD = "WAITING_FOR_SQUAD", e.WAITING_FOR_SQUAD_BACKFILLING = "WAITING_FOR_SQUAD_BACKFILLING", 
e.SQUAD_FOUND = "SQUAD_FOUND", e.WAITING_FOR_LEADER = "WAITING_FOR_LEADER", e.STARTING = "STARTING", 
e.WAITING = "WAITING", e.GAME_FOUND = "GAME_FOUND", e.SUCCESS = "SUCCESS", e.ERROR = "ERROR", 
e.CANCELING = "CANCELING", e.RETRYING = "RETRYING", e.CANCELED = "CANCELED", e.COMPETITIVE_VERIFYING = "COMPETITIVE_VERIFYING", 
e.COMPETITIVE_MATCH_STARTED = "COMPETITIVE_MATCH_STARTED", e.ROYALE_FORK = "ROYALE_FORK", 
e.ROYALE_STARTING_SOLO = "ROYALE_STARTING_SOLO", e.ROYALE_WAITING_FOR_LEAVE_PARTY = "ROYALE_WAITING_FOR_LEAVE_PARTY";
}(r = t.MatchmakingState || (t.MatchmakingState = {})), t.MATCHMAKING_FINISHED_STATES = [ r.CANCELED, r.ERROR, r.SUCCESS ];
var o = function() {
return function e(t, n, r, o, i) {
void 0 === o && (o = !1), this.title = t, this.description = n, this.debugMessage = r, 
this.silent = o, this.code = i;
};
}();
t.MatchmakingError = o, function(e) {
e[e.mp = 0] = "mp", e[e.coop = 1] = "coop", e[e.competitive = 2] = "competitive", 
e[e.royale = 3] = "royale";
}(t.MatchmakingSessionType || (t.MatchmakingSessionType = {}));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(10), a = e.get("BlackFade"), s = function() {
function e(e) {
void 0 === e && (e = 15e3), this.maximumBlackFadeDuration = e, this.timeout = 0, 
this.isVisible = !1;
}
return e.prototype.setReady = function(e) {
this.transitionComplete(e ? 1 : 0), e && this.hideAfterTimeout(this.maximumBlackFadeDuration);
}, e.prototype.transitionStarted = function(e) {
1 === e && (this.isVisible = !0);
}, e.prototype.transitionComplete = function(e) {
this.isVisible = !!e;
}, e.prototype.transition = function(e, t) {
var n = this;
this.transitionStarted(e);
var o = r.__assign({}, t, {
callback: function() {
n.transitionComplete(e), t && t.callback && t.callback();
}
});
this.current = r.__assign({
to: e
}, o);
}, e.prototype.show = function(e, t) {
void 0 === t && (t = !0), a.log("show"), this.transition(1, e), t ? this.hideAfterTimeout(this.maximumBlackFadeDuration) : this.clearTimeout();
}, e.prototype.hide = function(e) {
a.log("hide"), this.transition(0, e), this.clearTimeout();
}, e.prototype.hideAfterTimeout = function(e) {
var t = this;
this.clearTimeout(), this.timeout = setTimeout(function() {
if (i.gameStateStoreLoader.get().isLoadingBackToFrontend) return a.warn("Trying to hide the black fade but the game is still in a loading state. Re-initiating a timeout of " + e + "ms"), 
void t.hideAfterTimeout(t.maximumBlackFadeDuration);
var n = "BlackFade - BlackFade wasn't hidden within a reasonable timelimit (" + e + "ms). Forcing BlackFade to hide";
a.warn(n), t.hide();
}, e);
}, e.prototype.clearTimeout = function() {
clearTimeout(this.timeout);
}, r.__decorate([ o.observable.ref ], e.prototype, "current", void 0), r.__decorate([ o.action ], e.prototype, "setReady", null), 
r.__decorate([ o.observable ], e.prototype, "isVisible", void 0), r.__decorate([ o.action ], e.prototype, "transitionStarted", null), 
r.__decorate([ o.action ], e.prototype, "transitionComplete", null), r.__decorate([ o.action ], e.prototype, "transition", null), 
r.__decorate([ o.action ], e.prototype, "show", null), r.__decorate([ o.action ], e.prototype, "hide", null), 
e;
}();
t.BlackFadeState = s, t.blackFadeState = new s();
var u = {
in: {
duration: 700
},
out: {
duration: 1e3
}
};
t.blackFadeTransition = function l(e, n) {
void 0 === n && (n = u), t.blackFadeState.show({
options: n.in,
callback: function() {
e(), t.blackFadeState.hide({
options: n.out
});
}
});
}, t.blackFadeUntil = function c(e, n) {
void 0 === n && (n = u), t.blackFadeState.show({
options: n.in,
callback: function() {
return e().then(function() {
return t.blackFadeState.hide({
options: n.out
});
});
}
});
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(12), a = n(26), s = n(398), u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.visualButton = o.createRef(), t;
}
return r.__extends(t, e), t.prototype.getInput = function() {
if (this.props.action || this.props.holdAction || this.props.releaseAction) return new i.Input({
visible: !1,
key: this.props.inputKey,
action: this.props.action,
holdAction: this.props.holdAction,
releaseAction: this.props.releaseAction,
blockInputFor: this.props.blockInputFor || 0
});
}, t.prototype.render = function() {
var e = this.props, t = e.inputKey, n = e.useConsoleStyle, r = e.iconSize, i = e.large, a = e.inverted, u = e.style, l = e.styleSheetOverride, c = e.label, p = e.labelDecoration, d = e.fontStyle, f = e.icon, m = e.animatedLabeledIcon;
return o.createElement(s.VisualButton, {
inputKey: t,
useConsoleStyle: n,
iconSize: r,
large: i,
inverted: a,
style: u,
styleSheetOverride: l,
label: c,
labelDecoration: p,
fontStyle: d,
icon: f,
ref: this.visualButton,
animatedLabeledIcon: m
});
}, t = r.__decorate([ a.input ], t);
}(o.Component);
t.InputButton = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(3);
t.ThemeProviderContextTypes = {
providedTheme: i.func
};
var s = function(e) {
function n(t) {
var n = e.call(this, t) || this;
return n.setTheme(t.theme), n;
}
return r.__extends(n, e), n.prototype.setTheme = function(e) {
this.providedTheme = e;
}, n.prototype.componentWillReceiveProps = function(e) {
this.setTheme(e.theme);
}, n.prototype.getChildContext = function() {
var e = this;
return {
providedTheme: function() {
return e.providedTheme;
}
};
}, n.prototype.render = function() {
return this.props.children || null;
}, n.childContextTypes = t.ThemeProviderContextTypes, r.__decorate([ a.observable ], n.prototype, "providedTheme", void 0), 
r.__decorate([ a.action ], n.prototype, "setTheme", null), n;
}(o.Component);
t.ThemeProvider = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.unlocked = !1, this.valueAcquired = 0, this.valueNeeded = 0, this.percentage = 0, 
t && (this.valueAcquired = t.valueAcquired || 0, this.valueNeeded = t.valueNeeded || 0, 
this.unlocked = !!t.unlocked), this.unlocked ? this.percentage = 1 : this.valueAcquired >= 0 && this.valueNeeded > 0 && (this.percentage = Math.min(this.valueAcquired / this.valueNeeded, 1));
};
}();
t.Progression = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.getArticles = r.createTypedAction(), t.getArticleDetail = r.createTypedAction(), 
t.saveArticleMetrics = r.createTypedAction(), t.resetArticleDetailState = r.createTypedAction(), 
t.getContactChannels = r.createTypedAction(), t.updateLocation = r.createTypedAction(), 
t.updateSource = r.createTypedAction(), t.updateCategories = r.createTypedAction(), 
t.updateArticleId = r.createTypedAction(), t.updateSelectedCategory = r.createTypedAction(), 
t.resetContextDetails = r.createTypedAction(), t.updateContactDetails = r.createTypedAction(), 
t.createCase = r.createTypedAction(), t.updateSelectedChannel = r.createTypedAction(), 
t.resetCaseDetailState = r.createTypedAction(), t.resetChannelDetailState = r.createTypedAction();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(14);
t.standard = e.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_white_flare-a3a0b83b.png"), 
t.special = e.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_white_flare-a3a0b83b.png"), 
t.distinguished = e.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_blue_flare-3f82da1b.png"), 
t.legendary = e.bbOfflineUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_orange_flare-68d1e160.png"), 
t.mixed = e.bbUrl("/gamedata/tunguska/UI/Assets/Rarity/medium_orange_flare-68d1e160.png");
var r = "fb://Sparta/UI/Movies/tunguskapack_enhanced_2", o = "fb://Sparta/UI/Movies/tunguskapack_superior_3";
t.videos = {
0: [ "fb://Sparta/UI/Movies/tunguskapack_standard_1", "fb://Sparta/UI/Movies/tunguskapack_standard_2", "fb://Sparta/UI/Movies/tunguskapack_standard_3" ],
1: [ r, r, "fb://Sparta/UI/Movies/tunguskapack_enhanced_3" ],
2: [ o, o, o ]
}, t.level = {
0: t.special,
1: t.distinguished,
2: t.legendary,
3: t.mixed
}, t.fade = {
0: e.bbUrl("/sparta/assets/tunguska/battlepacks/flare-white-grid-6df9d5a2.png"),
1: e.bbUrl("/sparta/assets/tunguska/battlepacks/flare-blue-grid-0712865c.png"),
2: e.bbUrl("/sparta/assets/tunguska/battlepacks/flare-orange-grid-55edbcfe.png"),
width: 206,
height: 170
}, t.flare = {
0: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-white-9297467d.jpg"),
1: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-blue-7e706f88.jpg"),
2: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-orange-0b2a170f.jpg"),
3: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-orange-0b2a170f.jpg"),
width: 408,
height: 1e3
}, t.sideFlare = {
0: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-white-46ef71e7.jpg"),
1: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-blue-627243c1.jpg"),
2: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-orange-84ff029e.jpg"),
3: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/flare-side-orange-84ff029e.jpg"),
width: 1782,
height: 922
}, t.bottomGlow = {
0: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-white-db827b5b.jpg"),
1: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-blue-c1f2b771.jpg"),
2: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-orange-1e65fd65.jpg"),
3: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/bottom-flare-orange-1e65fd65.jpg"),
width: 1e3,
height: 455
}, t.circleTexture = e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/CircleBoom-d69f3cbb.png");
var i = e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/Battlepack_TankSkin-e5669d14.wav");
t.openingAudio = {
DEFAULT: i,
VEHICLE: i,
WEAPON: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/Battlepack_WeaponSkin_WHITE_Small_WITH_TAIL_STE-a70cab95.wav"),
NUGGET: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/Battlepack_WeaponSkin_BLUE_Medium_WITH_TAIL_STE-1e40f11e.wav")
}, t.backgroundEnd = e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/opening/endframe-8d869f8a.jpg"), 
t.openingFrames = {
0: {
frames: [ e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f1-5290508a.dds"), e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f2-50222f29.dds") ],
0: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f3_0-39f4d8f9.dds"),
1: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f3_1-b21130e3.dds"),
2: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/standard_f3_2-e9f7c6bd.dds")
},
1: {
frames: [ e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f1-c606bf16.dds"), e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f2-1a493088.dds"), e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f3-fb397a41.dds") ],
1: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f4_1-b21ed798.dds"),
2: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/enhanced_f4_2-fcce5e8b.dds")
},
2: {
frames: [ e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f1-9eca1ab6.dds"), e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f2-59efaf46.dds"), e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f3-533da6a1.dds"), e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f4-fc815f1c.dds") ],
2: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/superior_f5_2-50caedf7.dds")
}
}, t.frameSounds = {
0: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/tunguska_battlepack_open_standard-024d5c78.wav"),
1: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/tunguska_battlepack_open_enhanced-ded90293.wav"),
2: e.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/frames/tunguska_battlepack_open_superior-b25bc55e.wav")
}, t.rgb = {
0: "#ffffffee",
1: "#6baee5",
2: "#d48311",
3: "#d48311"
}, t.getName = function a(e) {
switch (e) {
case 0:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_SPECIAL");

case 1:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_DISTINGUISHED");

case 2:
case 3:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_RARITY_LEGENDARY");

default:
return "";
}
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
var r = n(44);
e.exports = function(e, t) {
return !!e && r(function() {
t ? e.call(null, function() {}, 1) : e.call(null);
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(952), o = n(954);
t.gameDataStore = new o.GameDataStore(r.gameDataClient);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.Highlight = 1] = "Highlight", e[e.Select = 2] = "Select", e[e.Expand = 3] = "Expand", 
e[e.Collapse = 4] = "Collapse";
}(t.AudioEffect || (t.AudioEffect = {})), function(e) {
e[e.Effect = 1] = "Effect", e[e.Track = 2] = "Track";
}(t.AudioType || (t.AudioType = {})), function(e) {
e[e.Play = 1] = "Play", e[e.Stop = 2] = "Stop";
}(t.AudioAction || (t.AudioAction = {}));
}, function(e, t, n) {
var r = n(278), o = n(166), i = n(107), a = n(165), s = n(99), u = n(463), l = Object.getOwnPropertyDescriptor;
t.f = n(83) ? l : function e(t, n) {
if (t = i(t), n = a(n, !0), u) try {
return l(t, n);
} catch (e) {}
if (s(t, n)) return o(!r.f.call(t, n), t[n]);
};
}, function(e, t, n) {
var r = n(164), o = n(240), i = n(115), a = n(90), s = n(725);
e.exports = function(e, t) {
var n = 1 == e, u = 2 == e, l = 3 == e, c = 4 == e, p = 6 == e, d = 5 == e || p, f = t || s;
return function(t, s, m) {
for (var h, g, y = i(t), S = o(y), v = r(s, m, 3), _ = a(S.length), b = 0, T = n ? f(t, _) : u ? f(t, 0) : void 0; _ > b; b++) if ((d || b in S) && (g = v(h = S[b], b, y), 
e)) if (n) T[b] = g; else if (g) switch (e) {
case 3:
return !0;

case 5:
return h;

case 6:
return b;

case 2:
T.push(h);
} else if (c) return !1;
return p ? -1 : l || c ? c : T;
};
};
}, function(e, t, n) {
var r = n(16), o = n(54), i = n(44);
e.exports = function(e, t) {
var n = (o.Object || {})[e] || Object[e], a = {};
a[e] = t(n), r(r.S + r.F * i(function() {
n(1);
}), "Object", a);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(95), o = n(40), i = {}, a = r.globalScope.TwinkleNative ? void 0 : console, s = r.globalScope.TwinkleNative ? S.bind(void 0, 2) : console.log, u = r.globalScope.TwinkleNative ? S.bind(void 0, 2) : console.info, l = r.globalScope.TwinkleNative ? S.bind(void 0, 4) : console.warn, c = r.globalScope.TwinkleNative ? S.bind(void 0, 2) : console.error, p = r.globalScope.TwinkleNative ? S.bind(void 0, 2) : console.debug || u, d = 0;
var f = {}, m = function() {
function e() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.context = e, this.log = h("log", e), this.info = h("info", e), this.warn = h("warn", e), 
this.error = h("error", e), this.debug = h("debug", e);
}
return Object.defineProperty(e, "default", {
get: function() {
return e.get();
},
enumerable: !0,
configurable: !0
}), e.prototype.extend = function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
var r = this.context.concat(t);
return e.get.apply(e, r);
}, e.get = function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
var r = t.join("_");
return i[r] || (i[r] = new (e.bind.apply(e, [ void 0 ].concat(t)))());
}, Object.defineProperty(e, "log", {
get: function() {
return e.default.log;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "info", {
get: function() {
return e.default.info;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "warn", {
get: function() {
return e.default.warn;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "error", {
get: function() {
return e.default.error;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e, "debug", {
get: function() {
return e.default.debug;
},
enumerable: !0,
configurable: !0
}), e;
}();
function h(e, t) {
var n, o = [];
if (r.globalScope.isJSC) {
var i = t.join(":") + " ";
o.push(i);
} else {
i = (i = "%c" + t.join(":")).slice(0, 50), i += Array(52 - i.length).join(" ") + "", 
f[t[0]] || (f[t[0]] = function m() {
return d += .618033988749895, 360 * (d %= 1);
}());
var h = "color: hsl(" + f[t[0]] + ",99%,40%); font-weight: bold";
o.push(i, h);
}
return (n = function g(e) {
switch (e) {
case "log":
return s;

case "info":
return u;

case "warn":
return l;

case "error":
return c;

case "debug":
return p;

default:
throw Error("Unknown Logger emitter type: " + e);
}
}(e)).bind.apply(n, [ a ].concat(o));
}
t.__Logger = m;
var g = 1e4, y = o.getBuildInfo().isEndUserBuild();
function S(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
if (!y) {
var o = t[0];
try {
t.length > 1 ? o = JSON.stringify(t) : "string" != typeof o && (o = JSON.stringify(o));
} catch (e) {
o = "ERROR: Could not log object. JSON.stringify failed. " + e;
}
"string" == typeof o && o.length > g ? r.globalScope.TwinkleNative.handleCall("log", [ e, "[Following log message was cut in JS to " + g + " characters, original messsage was " + o.length + " characters] " + o.slice(0, g) ]) : r.globalScope.TwinkleNative.handleCall("log", [ e, o ]);
}
}
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(888), o = n(5), i = function() {
function e(e, t, n, o, i, a) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = 0), void 0 === o && (o = 0), 
this.x = e, this.y = t, this.width = n, this.height = o, this.localX = i, this.localY = a, 
this.top = t, this.right = e + n, this.bottom = t + o, this.left = e, this.center = new r.Point(this.left + (this.right - this.left) / 2, this.top + (this.bottom - this.top) / 2), 
this.style = {
left: this.left,
top: this.top,
width: this.width,
height: this.height
};
}
return e.prototype.getStyleClass = function(e) {
return o.DynamicStyle.wrapLegacyStyle(this.style, e);
}, e.fromRaw = function(t) {
return new e(t.x, t.y, t.width, t.height, t.localX, t.localY);
}, e.prototype.equals = function(e, t) {
void 0 === t && (t = !0);
var n = !0;
return t && (n = this.localX === e.localX && this.localY === e.localY), this.x === e.x && this.y === e.y && this.width === e.width && this.height === e.height && n;
}, e.prototype.empty = function() {
return 0 === this.width && 0 === this.height;
}, e.prototype.intersects = function(e) {
return e.x < this.x + this.width && this.x < e.x + e.width && e.y < this.y + this.height && this.y <= e.y + e.height;
}, e.prototype.offset = function(t, n) {
return void 0 === t && (t = 0), void 0 === n && (n = 0), new e(this.x - t, this.y - n, this.width, this.height);
}, e.prototype.subtract = function(t) {
var n = this.right, r = this.left, o = this.top, i = this.bottom;
return t && (n = t.left < this.right && t.left > this.left ? t.left : this.right, 
r = t.right > this.left && t.right < this.right ? t.right : this.left, o = t.bottom > this.top && t.bottom < this.bottom ? t.bottom : this.top, 
i = t.top < this.bottom && t.top > this.top ? t.top : this.bottom), new e(r, o, n - r, i - o);
}, e.prototype.edgeDistance = function(e) {
var t = this.edgePoint(this.center.angle(e.center)), n = e.edgePoint(e.center.angle(this.center));
return t.distance(n);
}, e.prototype.edgeDistanceSquared = function(e) {
var t = this.edgePoint(this.center.angle(e.center)), n = e.edgePoint(e.center.angle(this.center));
return t.squaredDistance(n);
}, e.prototype.edgePoint = function(e) {
var t = Math.cos(e), n = Math.sin(e), o = Math.abs(t), i = Math.abs(n), a = this.width / 2 * i <= this.height / 2 * o ? this.width / 2 / (o || 1) : this.height / 2 / (i || 1);
return new r.Point(this.center.x + t * a, this.center.y + n * a);
}, e;
}();
t.Bounds = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(59);
t.frostbiteAction = function o(e) {
return function(t) {
r.frostbite.sendMessage.call(this, e, t);
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(178), o = n(152), i = n(389), a = new o.InternalStorage("PingSiteStore");
t.PingSiteStore = r.createStore({
init: function() {
var e = this;
i.setPingSites.listen(function(t, n) {
var r = {};
n.forEach(function(e) {
e.alias && (r[e.alias] = e);
}), a.set(t, r), e.trigger(e.getState());
}), i.updatePingSites.listen(function(t, n) {
var r = Object.assign({}, a.get(t));
n.forEach(function(e) {
e.alias && (r[e.alias] = e);
}), a.set(t, r), e.trigger(e.getState());
});
},
getState: function() {
return a.getState();
},
getPingSitesByAddress: function(e, t) {
var n = a.get(e) || {};
return Object.keys(n).filter(function(e) {
return n[e].address === t;
}).map(function(e) {
return n[e];
});
},
getBestPingSiteAlias: function(e) {
var t = this.getBestPingSite(e);
return null != t ? t.alias : null;
},
getBestPingSite: function(e) {
var t = a.get(e) || {}, n = Object.keys(t).filter(function(e) {
var n = t[e].ping;
return n && n > 0;
}).sort(function(e, n) {
return (t[e].ping || 999) - (t[n].ping || 999);
});
return n.length > 0 ? t[n[0]] : null;
}
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(66), i = n(71), a = n(4), s = n(3), u = n(14), l = n(15), c = n(62), p = n(8), d = n(1064), f = n(11), m = n(37), h = n(12), g = n(17), y = n(5), S = n(7), v = n(381), _ = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, b = y.StaticStyle.wrapLegacyStyle(_, "3132c7f8:136:18"), T = y.StaticStyle.wrapLegacyStyle({
position: "absolute",
top: 0,
right: 0,
left: 0
}, "3132c7f8:137:21");
t.tweenInOptions = l.Animation.presets.focusables.enter.fast, t.tweenOutOptions = l.Animation.presets.focusables.leave;
var E = p.GUTTER, C = y.StaticStyle.wrapLegacyStyleSheet({
top: {
flex: 1
},
layer: {
layer: !0,
layerClip: !0
},
backgroundShade: {
zOffset: 1,
textureMode: "fill",
texture: u.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-active-news-abc6b204.png")
},
content: e.__assign({}, _, {
flex: 1,
zOffset: 3,
padding: 3 * p.GUTTER
}),
highlight: {
zOffset: 2,
justifyContent: "flex-end"
},
bottom: {
padding: 3 * p.GUTTER
},
blind: {
position: "absolute",
bottom: 0,
left: 0,
right: 0
},
overlay: e.__assign({}, _, {
enableMouseEvents: !1,
zOffset: 4
}),
dimmer: e.__assign({}, _, {
enableMouseEvents: !1,
backgroundColor: "#000000",
zOffset: 5
})
}, "3132c7f8:142:15"), I = y.StaticStyle.create({
flex: 1,
justifyContent: "flex-end"
}, "3132c7f8:627:45"), A = function(n) {
function u(e, t) {
var r = n.call(this, e, t) || this;
return r.sparta = S.SpartaContext.getFromComponent(r), r.backgroundUrls = s.observable.array(), 
r.width = 0, r.height = 0, r.foldHeight = 0, r.bottomHeight = 0, r.isActiveOverride = !1, 
r.cardOpacityTween = l.Animation.componentTween(r, "3132c7f8:227:54", .01), r.contentTextColorTween = l.Animation.componentTween(r, "3132c7f8:228:59", "#ffffff"), 
r.bottomTextColorTween = l.Animation.componentTween(r, "3132c7f8:229:58", "#ffffff"), 
r.highlightColorTween = l.Animation.componentTween(r, "3132c7f8:231:14", r.props.inactiveHighlightColor ? r.props.inactiveHighlightColor : "#00000085"), 
r.contentTopTween = l.Animation.componentTween(r, "3132c7f8:235:53", 0), r.blindHeightTween = l.Animation.componentTween(r, "3132c7f8:236:54", 0), 
r.backgroundHeightTween = l.Animation.componentTween(r, "3132c7f8:237:59", 0), r.foldBottomTween = l.Animation.componentTween(r, "3132c7f8:238:53", 0), 
r.highlightHeightTween = l.Animation.componentTween(r, "3132c7f8:240:58", 0), r.foldSeparatorTween = l.Animation.componentTween(r, "3132c7f8:241:56", 0), 
r.dimmerTween = l.Animation.componentTween(r, "3132c7f8:242:49", 0), r.textureOffsetYTween = l.Animation.componentTween(r, "3132c7f8:243:57", 0), 
r.textureScaleTween = l.Animation.componentTween(r, "3132c7f8:245:14", r.props.backgroundScale ? r.props.backgroundScale : 1), 
r.onBottomBounds = s.action("Card onBottomBounds", function(e) {
r.bottomHeight = e.height;
}), r.onFoldBounds = s.action("Card onFoldBounds", function(e) {
r.foldHeight = e.height;
}), r.getActiveOverride = function() {
return r.isActiveOverride;
}, r.focusItem = e.focusItem || r.sparta.twinkle.focus.create(r, o.autoId("card")), 
r.focusItem.onFocus(function() {
r.props.onFocus && r.props.onFocus();
}), r.focusItem.onBlur(function() {
r.props.onBlur && r.props.onBlur();
}), r.setBackground(e.background), r.updateActiveOverride(e.forcedActive, e.enabled), 
r.setSize(e.size, e.style), r;
}
return e.__extends(u, n), Object.defineProperty(u.prototype, "isActive", {
get: function() {
return this.isActiveOverride || this.focusItem.isFocused || this.focusItem.isHovered;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(u.prototype, "scaleValues", {
get: function() {
var e = 2 * p.GUTTER;
return {
scaleX: {
from: 1,
to: 0 === this.width ? 1 : (this.width + e) / this.width
},
scaleY: {
from: 1,
to: 0 === this.height ? 1 : (this.height + e) / this.height
}
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(u.prototype, "backgroundHeight", {
get: function() {
return this.height - this.bottomHeight;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(u.prototype, "hasBackground", {
get: function() {
return !(!this.backgroundUrls.length && void 0 === this.props.backgroundVideo);
},
enumerable: !0,
configurable: !0
}), u.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return [ e.isActive, e.hasBackground, e.foldHeight, e.backgroundHeight ];
}, function() {
return e.updateTweens();
}, {
fireImmediately: !0
}), null !== this.focusItem.bounds ? this.cardOpacityTween.to(1, l.Animation.defaultTweenOptions) : this.when(function() {
return null !== e.focusItem.bounds;
}, function() {
return e.cardOpacityTween.to(1, l.Animation.defaultTweenOptions);
});
}, u.prototype.componentWillReceiveProps = function(e) {
this.setBackground(e.background), this.updateActiveOverride(e.forcedActive, e.enabled), 
this.setSize(e.size, e.style);
}, u.prototype.componentDidUpdate = function() {
this.updateTweens();
}, u.prototype.updateActiveOverride = function(e, t) {
this.isActiveOverride = !!t && !!e;
}, u.prototype.wrapCause = function(e) {
var t = this;
if (e) return function() {
t.sparta.stores.locationStore.injectLocationCause("cardInteraction"), e(), t.sparta.stores.locationStore.injectLocationCause(void 0);
};
}, u.prototype.getInput = function() {
var e = this;
return this.props.input ? (Array.isArray(this.props.input) ? this.props.input : [ this.props.input ]).map(function(t) {
return t.extend({
action: e.wrapCause(t.action),
holdAction: e.wrapCause(t.holdAction),
releaseAction: e.wrapCause(t.releaseAction)
});
}) : this.props.onPress ? new h.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.wrapCause(this.props.onPress),
blockInputFor: 500,
key: f.Keys.Accept
}) : void 0;
}, u.prototype.setBackground = function(e) {
"string" == typeof e ? this.backgroundUrls.replace(e.length > 0 ? [ e ] : []) : this.backgroundUrls.replace(e || []);
}, u.prototype.setSize = function(e, t) {
if (e) {
var n = Math.ceil(p.getWidth(m.CARD_WIDTH.cells[e])), r = Math.ceil(p.getHeight(m.CARD_HEIGHT.cells[e]));
if (t) {
var o = y.isStyleClass(t) ? t : y.DynamicStyle.create(t, "3132c7f8:404:65");
o.getNumericStyle && (o.getNumericStyle("width", 0) && (n = o.getNumericStyle("width", 0)), 
o.getNumericStyle("height", 0) && (r = o.getNumericStyle("height", 0)));
}
"number" == typeof n && "number" == typeof r && (this.width = n, this.height = r);
}
}, u.prototype.updateTweens = function() {
var e = this.props.backgroundStyle, n = (e ? e.textureScale : void 0) || this.props.backgroundScale;
if ("number" == typeof n) {
if (this.backgroundUrls.length > 1 && (n += .1), this.isActive) {
this.contentTextColorTween.to(this.hasBackground ? "#ffffff" : "#000000", t.tweenInOptions), 
this.bottomTextColorTween.to("#000000", t.tweenInOptions), this.foldBottomTween.to(0, t.tweenInOptions), 
this.textureOffsetYTween.to(-p.GUTTER, t.tweenInOptions);
var r = this.sparta.twinkle.buildInfo.isConsole ? .05 : 0;
if (this.textureScaleTween.to(n + r, t.tweenInOptions), this.highlightHeightTween.to(this.hasBackground ? E : 0, t.tweenInOptions), 
this.props.removeFoldSeparator && this.props.fold ? (this.contentTopTween.to(-(this.foldHeight - 2 * p.GUTTER) / 2, t.tweenInOptions), 
this.foldSeparatorTween.to(2 * p.GUTTER, t.tweenInOptions)) : this.props.fold && this.contentTopTween.to(-this.foldHeight / 2, t.tweenInOptions), 
this.sparta.twinkle.buildInfo.isConsole) {
var o = this.foldHeight + this.bottomHeight || E;
this.blindHeightTween.to(this.hasBackground ? o : this.height, t.tweenInOptions);
} else {
var i = this.props.activeHighlightColor;
i && this.highlightColorTween.to(i, t.tweenInOptions);
}
} else {
this.contentTextColorTween.to("#ffffff", t.tweenOutOptions), this.bottomTextColorTween.to("#ffffff", t.tweenOutOptions), 
this.foldBottomTween.to(-this.foldHeight, t.tweenOutOptions), this.textureOffsetYTween.to(0, t.tweenOutOptions), 
this.textureScaleTween.to(n, t.tweenOutOptions), this.highlightHeightTween.to(0, t.tweenOutOptions), 
this.foldSeparatorTween.to(0, t.tweenOutOptions), this.contentTopTween.to(0, t.tweenOutOptions);
var a = this.props.inactiveHighlightColor;
a && this.highlightColorTween.to(a, t.tweenOutOptions), this.sparta.twinkle.buildInfo.isConsole && this.blindHeightTween.to(0, t.tweenOutOptions);
}
this.backgroundHeightTween.set(this.backgroundHeight), this.dimmerTween.to(this.props.enabled ? 0 : .5, this.props.enabled ? t.tweenInOptions : t.tweenOutOptions);
}
}, u.prototype.renderBackground = function() {
var e = this.backgroundUrls.length > 1, t = y.merge2(T, this.backgroundHeightTween.getStyleClass("height")), n = y.merge4(g.CommonStyles.textureModeCover, this.textureOffsetYTween.getStyleClass("textureOffsetY"), y.merge2(this.textureScaleTween.getStyleClass("textureScaleX"), this.textureScaleTween.getStyleClass("textureScaleY")), y.merge2(g.CommonStyles.grayScale(this.props.useGrayScale && !this.props.enabled ? 1 : 0), y.DynamicStyle.create({
textureAtlas: this.props.textureAtlas
}, "3132c7f8:512:96")));
if (e) return r.createElement(d.TextureCrossfade, {
style: t,
textures: this.backgroundUrls,
textureStyle: n
});
var o = y.merge3(t, n, y.DynamicStyle.maybeLegacyStyle({
texture: this.backgroundUrls.length ? this.backgroundUrls[0] : void 0
}, "3132c7f8:526:26"));
return void 0 !== this.props.backgroundVideo ? r.createElement(w, {
style: o,
getActiveOverride: this.getActiveOverride,
focusItem: this.focusItem,
source: this.props.backgroundVideo,
option: this.props.backgroundVideoOption
}) : r.createElement("surface", {
style: o
});
}, u.prototype.render = function() {
var e = this.props.fold && r.createElement("surface", {
style: {
marginBottom: this.foldBottomTween.getStyle()
},
onBounds: this.onFoldBounds
}, this.props.fold), t = this.props.bottom && r.createElement("surface", {
style: [ C.bottom, this.foldSeparatorTween.getStyleClass("translateY") ],
onBounds: this.onBottomBounds
}, this.props.bottom), n = this.hasBackground && this.props.backgroundShade && r.createElement("surface", {
style: [ this.backgroundHeightTween.getStyleClass("height"), T, C.backgroundShade ]
}), o = this.props.overlay && r.createElement("surface", {
style: C.overlay
}, this.props.overlay), i = this.sparta.twinkle.buildInfo.isConsole && r.createElement("surface", {
style: [ C.blind, this.blindHeightTween.getStyleClass("height"), {
backgroundColor: this.props.activeHighlightColor
} ]
}), a = [ C.top ], s = void 0, u = void 0;
if (this.props.staticContentSize) {
var l = this.height * (this.props.contentSize || 1);
a = [ C.top, b, y.DynamicStyle.wrapLegacyStyle({
height: l
}, "3132c7f8:586:47") ], s = y.merge2(y.DynamicStyle.create({
height: l
}, "3132c7f8:587:35"), this.contentTopTween.getStyleClass("top")), u = g.CardStyles.children;
}
this.hasBackground && Array.isArray(a) && a.push(C.layer);
var d = this.props.size;
if (!d) return null;
var f = {
width: p.getWidth(m.CARD_WIDTH.cells[d]),
height: p.getHeight(m.CARD_HEIGHT.cells[d]),
opacity: this.cardOpacityTween.getStyle(),
backgroundColor: this.highlightColorTween.getStyle(),
layer: !!e || void 0,
layerClip: !!e || void 0
}, h = y.merge3(y.DynamicStyle.wrapLegacyStyle(f, "3132c7f8:606:36"), g.CardStyles.container, y.DynamicStyle.maybeLegacyStyle(this.props.style, "3132c7f8:608:34"));
return r.createElement(c.Pressable, {
focusItem: this.focusItem,
input: this.getInput(),
scale: this.sparta.twinkle.buildInfo.isConsole && !this.props.dontScale,
scaleValues: this.scaleValues,
triggerMode: this.props.triggerMode,
childrenStyle: u,
style: h
}, r.createElement("surface", {
style: a
}, this.renderBackground(), n, r.createElement(v.ColorContext.Provider, {
value: this.contentTextColorTween.getStyleClass("color")
}, r.createElement("surface", {
style: [ C.content, s ]
}, r.createElement("surface", {
style: I
}, "object" == typeof this.props.children ? this.props.children : null)))), r.createElement(v.ColorContext.Provider, {
value: this.bottomTextColorTween.getStyleClass("color")
}, r.createElement("surface", {
style: [ C.highlight, this.highlightHeightTween.getStyleClass("minHeight") ]
}, t, e)), i, o, r.createElement("surface", {
style: [ C.dimmer, this.dimmerTween.getStyleClass("opacity") ]
}));
}, u.contextTypes = S.SpartaContext.contextTypes, u.defaultProps = {
size: m.CardSize.M,
enabled: !0,
backgroundScale: 1,
backgroundStyle: {},
backgroundShade: !0,
backgroundVideoOption: "focus",
activeHighlightColor: "#ffffff",
inactiveHighlightColor: "#00000085",
textureAtlas: i.SINGLE_TEXTURE
}, e.__decorate([ s.observable ], u.prototype, "width", void 0), e.__decorate([ s.observable ], u.prototype, "height", void 0), 
e.__decorate([ s.observable ], u.prototype, "foldHeight", void 0), e.__decorate([ s.observable ], u.prototype, "bottomHeight", void 0), 
e.__decorate([ s.observable ], u.prototype, "isActiveOverride", void 0), e.__decorate([ s.computed ], u.prototype, "isActive", null), 
e.__decorate([ s.computed ], u.prototype, "scaleValues", null), e.__decorate([ s.computed ], u.prototype, "backgroundHeight", null), 
e.__decorate([ s.computed ], u.prototype, "hasBackground", null), e.__decorate([ s.action ], u.prototype, "updateActiveOverride", null), 
e.__decorate([ s.action ], u.prototype, "setBackground", null), e.__decorate([ s.action ], u.prototype, "setSize", null), 
u = e.__decorate([ a.observer ], u);
}(r.Component);
t.Card = A;
var w = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = S.SpartaContext.getFromComponent(e), e.isPlaying = !1, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.updateVideo(this.props.source);
var t = this.sparta.twinkle.focus;
this.reaction(function() {
return e.props.getActiveOverride() || e.props.focusItem.isFocused && !t.hoveredItem && t.controllerMode || e.props.focusItem.isHovered;
}, function(t) {
t ? e.play() : e.video.isFullScreen || e.stop();
});
}, n.prototype.componentWillUpdate = function(e) {
this.reactToChanges(this.props, e);
}, n.prototype.componentWillUnmount = function() {
this.stop();
}, n.prototype.reactToChanges = function(e, t) {
t.source !== e.source && (this.stop(), this.updateVideo(t.source));
}, n.prototype.updateVideo = function(e) {
this.video = "string" == typeof e ? this.sparta.twinkle.video.loadVideo(e) : e, 
this.video.setVolume(0), "auto" === this.props.option && this.play();
}, n.prototype.play = function() {
this.video && !this.isPlaying && (this.isPlaying = !0, this.video.play());
}, n.prototype.stop = function() {
this.video && (this.isPlaying = !1, this.video.stop());
}, n.prototype.render = function() {
var e = {
video: this.isPlaying ? this.video.id : void 0
}, t = Array.isArray(this.props.style) ? this.props.style.concat(e) : [ this.props.style, e ];
return r.createElement("surface", {
style: t
});
}, n.contextTypes = S.SpartaContext.contextTypes, e.__decorate([ s.observable ], n.prototype, "video", void 0), 
e.__decorate([ s.observable ], n.prototype, "isPlaying", void 0), e.__decorate([ s.action ], n.prototype, "updateVideo", null), 
e.__decorate([ s.action ], n.prototype, "play", null), e.__decorate([ s.action ], n.prototype, "stop", null), 
n = e.__decorate([ a.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(9), o = n(42), i = n(22);
t.quicklinksGroup = i.focusSystem.createStaticGroup("quicklinks"), t.comcenterGroup = i.focusSystem.createStaticGroup("comcenter"), 
t.mainmenuGroup = i.focusSystem.createStaticGroup("mainmenu"), t.minimainmenuGroup = i.focusSystem.createStaticGroup("minimainmenu"), 
t.topmenuGroup = i.focusSystem.createStaticGroup("topmenu"), t.contextMenuGroup = i.focusSystem.createStaticGroup("contextmenu"), 
t.scoreboardTeamLeftGroup = i.focusSystem.createStaticGroup("teamleft"), t.scoreboardTeamRightGroup = i.focusSystem.createStaticGroup("teamright"), 
t.battlepackWinnersGroup = i.focusSystem.createStaticGroup("battlepackwinners"), 
t.handleIfNotTheSameGroup = function(e, t) {
return function(n, r) {
var a = i.focusSystem.findNextItem(n, r);
return a && a.group === e ? {
result: o.NavigationResultType.HIT,
toItem: a
} : t(n, r);
};
}, t.stopIfNotTheSameGroup = function(e) {
return t.handleIfNotTheSameGroup(e, function(e, t) {
return {
result: o.NavigationResultType.STOP
};
});
}, t.comcenterGroup.handleDirection(o.Direction.Up, t.stopIfNotTheSameGroup(t.comcenterGroup)), 
t.comcenterGroup.handleDirection(o.Direction.Down, t.stopIfNotTheSameGroup(t.comcenterGroup)), 
t.quicklinksGroup.behavior = o.GroupBehavior.HORIZONTAL | o.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | o.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.quicklinksGroup.handleDirection(o.Direction.Right, t.handleIfNotTheSameGroup(t.quicklinksGroup, function(e, n) {
return t.comcenterGroup.navigateToGroup(e, n);
})), t.quicklinksGroup.handleDirection(o.Direction.Left, t.handleIfNotTheSameGroup(t.quicklinksGroup, function(e, n) {
return r.SpartaGlobals.bundleIsPC ? t.minimainmenuGroup.navigateToGroup(e, n) : t.mainmenuGroup.navigateToGroup(e, n);
})), t.mainmenuGroup.behavior = o.GroupBehavior.VERTICAL, t.mainmenuGroup.handleDirection(o.Direction.Left, function(e, t) {
return {
result: o.NavigationResultType.STOP
};
}), t.minimainmenuGroup.behavior = o.GroupBehavior.VERTICAL | o.GroupBehavior.WRAP_AROUND, 
t.minimainmenuGroup.handleDirection(o.Direction.Left, function(e, t) {
return {
result: o.NavigationResultType.STOP
};
}), t.contextMenuGroup.behavior = o.GroupBehavior.VERTICAL | o.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.contextMenuGroup.handleDirection(o.Direction.Left, function(e, t) {
return {
result: o.NavigationResultType.STOP
};
}), t.contextMenuGroup.handleDirection(o.Direction.Right, function(e, t) {
return {
result: o.NavigationResultType.STOP
};
}), t.contextMenuGroup.handleDirection(o.Direction.Up, t.stopIfNotTheSameGroup(t.contextMenuGroup)), 
t.contextMenuGroup.handleDirection(o.Direction.Down, t.stopIfNotTheSameGroup(t.contextMenuGroup)), 
t.scoreboardTeamLeftGroup.behavior = o.GroupBehavior.VERTICAL | o.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | o.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.scoreboardTeamRightGroup.behavior = o.GroupBehavior.VERTICAL | o.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | o.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET, 
t.battlepackWinnersGroup.behavior = o.GroupBehavior.HORIZONTAL | o.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | o.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.joinMultiplayerServer = r.createTypedAction(), t.joinLanServer = r.createTypedAction(), 
t.joinMultiplayerFriend = r.createTypedAction(), t.continueSinglePlayer = r.createTypedAction();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(156);
function r(e) {
return e.length > 0 ? "[" + e + "]" : "";
}
t.formatName = function o(e) {
return e || __("ID_SHARED_PLATOONS_NAME_HIDDEN").toUpperCase();
}, t.formatTag = r, t.appendTag = function i(e, t) {
return t ? r(t) + " " + e : e;
}, t.highlightPlatoonName = function a(e, t) {
var n = 0, r = e.length, o = r;
t = t.replace(/ /g, "").split("").join("[ ]?");
var i = new RegExp("(" + t + ")", "i"), a = e.match(i);
return a && (o = a[1].length, r = (n = e.indexOf(a[1])) + o), {
begin: n,
end: r,
len: o
};
}, t.getMembershipStatus = function s(t, n) {
if (t) {
if (t.role === e.MemberRole.PENDING) return __("ID_SHARED_PLATOONS_PENDING_APPLICATION").toUpperCase();
var r = e.enumToLocalized(t.role).toUpperCase();
return n ? __("ID_SHARED_PLATOONS_REPRESENTING").toUpperCase() : r;
}
return "";
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(151), i = n(150), a = n(1173), s = n(9), u = n(103), l = n(3), c = function(e) {
function t() {
var t = e.call(this, {}) || this;
return (s.SpartaGlobals.bundleIsPC || s.SpartaGlobals.bundleIsXBOXONE) && i.onReady.listen(function() {
l.when(function() {
return u.localeState.isReady;
}, function() {
t.setCopy({}), t.setThreeLetterCountry("usa"), t.setApiEnv(), t.setPlatform(), t.setLocale(), 
t.setCountryAndCopy();
});
}), t;
}
return r.__extends(t, e), t.prototype.setCountryAndCopy = function() {
var e = this;
a.getJson({
url: "https://api1.origin.com/ecommerce2/ipToStoreFront",
headers: "Accept: application/json",
retry: 5,
success: function(t) {
e.setThreeLetterCountry(t.country), e.retrieveCopy();
},
failure: function() {
e.retrieveCopy();
}
});
}, t.prototype.retrieveCopy = function() {
var e = this, t = "https://data1.origin.com/{apiEnv}/odc/messaging/sparta/{platform}.{locale}.{country}.xjson".replace("{apiEnv}", this.getApiEnv()).replace("{platform}", this.getPlatform().toLowerCase()).replace("{locale}", this.getLocale()).replace("{country}", this.getThreeLetterCountry());
a.getJson({
url: t,
retry: 3,
success: function(t) {
e.setCopy(t), e.retrieveUrlData();
}
});
}, t.prototype.retrieveUrlData = function() {
var e = this, t = this.getProperty(this.getCopy(), "settings.url.accessTos") || "";
t = t.replace("{country}", this.getThreeLetterCountry()).replace("{lang}", this.getLanguage());
var n = this.getProperty(this.getCopy(), "settings.url.accessTosData") || "", r = this.getProperty(this.getCopy(), "settings.url.accessTosPrepend") || "", o = this.getProperty(this.getCopy(), "settings.url.accessTosDate") || "";
"" !== o && (o = new Date(o).toLocaleDateString()), "" !== n ? (n = (n = r + n).replace("%accessTosDate%", o), 
this.getCopy().settings.url.accessTosData = this.sanitizeUrlData(n)) : "" !== t && a.get({
url: t,
retry: 3,
success: function(t) {
n = (n = r + t).replace("%accessTosDate%", o), e.getCopy().settings.url.accessTosData = e.sanitizeUrlData(n);
}
});
}, t.prototype.sanitizeUrlData = function(e) {
return (e = (e = (e = (e = e.replace(new RegExp("<br>", "g"), "\n")).replace(new RegExp("\n\n", "g"), "\n")).trim()).replace(new RegExp(/<.*?>/g), "")).split(/\n/);
}, t.prototype.strReplace = function(e, t, n) {
return "string" != typeof e || "string" != typeof n ? e : e = (e = e.replace(t.toLowerCase(), n)).replace(t.toUpperCase(), n.toUpperCase());
}, t.prototype.updateCopyRecurse = function(e, t, n) {
for (var r = "%" + t + "%", o = Object.keys(e), i = 0; i < o.length; i++) {
var a = o[i];
"string" == typeof e[a] ? e[a] = this.strReplace(e[a], r, n) : "object" == typeof e[a] && (e[a] = this.updateCopyRecurse(e[a], t, n));
}
return e;
}, t.prototype.getProperty = function(e, t, n) {
return t.split(".").reduce(function(e, t) {
return void 0 === e || null === e ? e : e[t];
}, e) || n;
}, t.prototype.getCopyPage = function(e, t) {
if ("object" != typeof this.getCopy()) return {};
if ("object" != typeof this.getCopy()[e]) return {};
var n = this.getCopy()[e];
if ("object" == typeof t) for (var r = Object.keys(t), o = 0; o < r.length; o++) n = this.updateCopyRecurse(n, r[o], t[r[o]]);
return n;
}, t.prototype.getLanguage = function() {
var e = this.getLocale().substr(0, 2);
return -1 === [ "de", "es", "fr", "it", "ja", "ko", "pl", "pt", "ru", "zh" ].indexOf(e) && (e = "en"), 
e;
}, t.prototype.setCopy = function(e) {
this.copy = e;
}, t.prototype.getCopy = function() {
return this.copy;
}, t.prototype.setPlatform = function() {
this.platform = s.SpartaGlobals.bundlePlatform;
}, t.prototype.getPlatform = function() {
return this.platform;
}, t.prototype.setApiEnv = function() {
this.apiEnv = "live";
}, t.prototype.getApiEnv = function() {
return this.apiEnv;
}, t.prototype.setLocale = function() {
this.locale = u.localeState.displayLocale;
}, t.prototype.getLocale = function() {
return "en" === this.locale.substr(0, 2) ? "en-us" : this.locale;
}, t.prototype.setThreeLetterCountry = function(e) {
this.threeLetterCountry = e;
}, t.prototype.getThreeLetterCountry = function() {
return this.threeLetterCountry;
}, t;
}(o.Store);
t.copyStore = new c();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(12), s = n(11), u = n(8), l = n(6), c = n(21), p = n(399), d = n(62), f = n(58), m = n(19), h = n(10), g = n(5), y = n(17), S = n(33), v = n(22), _ = g.StaticStyle.wrapLegacyStyleSheet({
background: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
backgroundColor: "#ffffff",
zOffset: 3
},
itemBase: {
paddingLeft: 2 * u.GUTTER,
paddingRight: 2 * u.GUTTER,
flex: 1,
zOffset: 3,
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center",
backgroundColor: "#ffffff00",
height: u.getHeight(7)
},
itemActive: {
backgroundColor: "#ffffff33"
},
activeIndicator: {
position: "absolute",
left: 0,
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#ffffff",
zOffset: 2
},
mutedText: {
opacity: .5
},
text: {
marginLeft: u.GUTTER / 2,
zOffset: 4
},
subLabel: {
marginTop: 3
}
}, "09dae019:25:15"), b = g.StaticStyle.create({
marginLeft: u.GUTTER / 2,
zOffset: 4,
flex: 1
}, "09dae019:229:36"), T = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.focusItem = this.props.focusItem || v.focusSystem.create(this, "listitem-" + this.props.label), 
this.focusItem.autoFocusCandidate = !0;
}, Object.defineProperty(n.prototype, "isFocused", {
get: function() {
return this.focusItem.isHovered;
},
enumerable: !0,
configurable: !0
}), n.prototype.wrapCause = function(e) {
if (e) return function() {
h.locationStore.injectLocationCause("listItemInteraction"), e(), h.locationStore.injectLocationCause(void 0);
};
}, n.prototype.getInput = function() {
var e = this;
return this.props.input ? (Array.isArray(this.props.input) ? this.props.input : [ this.props.input ]).map(function(t) {
return t.extend({
action: e.wrapCause(t.action),
holdAction: e.wrapCause(t.holdAction),
releaseAction: e.wrapCause(t.releaseAction)
});
}) : this.props.onTrigger ? new a.Input({
label: this.props.inputLabel || __("ID_SPARTA_ACTION_SELECT"),
action: this.wrapCause(this.props.onTrigger),
blockInputFor: this.props.blockInputFor ? this.props.blockInputFor : 0,
key: s.Keys.Accept
}) : void 0;
}, n.prototype.renderLabel = function(e, t) {
var n = g.merge3(_.text, this.props.muted ? _.mutedText : g.emptyStyle, g.DynamicStyle.create({
flex: this.props.labelFlex
}, "09dae019:165:62")), o = this.props.label || " ";
if ("function" == typeof o && (o = o(e, t, this.focusItem)), "string" == typeof o) {
var i = (this.isFocused || this.props.isActive && !0 === this.props.showActiveIndicator) && !this.props.muted ? S.TextType.EMPHASIS : S.TextType.NORMAL, a = t ? f.Direction.Left : f.Direction.Right, s = m.isRTLLanguage() ? y.CommonStyles.leftAlignTextRTL : y.CommonStyles.rightAlignTextRTL;
o = this.props.scrollLabel ? r.createElement(f.Marquee, {
style: n,
focusItem: this.focusItem,
scrollTo: a,
delay: 100
}, r.createElement(l.Text, {
value: this.props.upperCase ? o.toUpperCase() : o,
size: this.props.fontSize,
style: y.CommonStyles.flex1,
color: e,
type: i
})) : r.createElement(l.Text, {
value: this.props.upperCase ? o.toUpperCase() : o,
size: this.props.fontSize,
onClick: this.props.onLabelClick,
color: e,
type: i,
style: g.merge2(n, s)
});
}
var u = this.props.icon || (this.isFocused && !this.props.muted ? this.props.focusIcon : this.props.blurIcon);
if (u) {
var d = this.props.iconSize ? this.props.iconSize : this.props.fontSize || "M";
o = r.createElement(p.LabeledIcon, {
style: g.DynamicStyle.create({
zOffset: 4,
opacity: this.props.muted ? .5 : 1
}, "09dae019:213:28"),
iconSize: c.LINE_HEIGHTS[d],
icon: u,
label: o,
iconSpace: this.props.iconSpace
});
}
return o;
}, n.prototype.renderSubLabel = function(t, n) {
if (this.props.subLabel) {
var o = b;
this.props.muted && (o = g.merge2(o, _.mutedText));
var i = this.props.subLabel;
if ("function" == typeof this.props.subLabel && (i = this.props.subLabel()), "string" == typeof i) {
var a = i || " ";
return r.createElement(f.Marquee, {
style: o,
focusItem: this.focusItem,
scrollTo: n ? f.Direction.Right : f.Direction.Left,
speed: .3
}, r.createElement(l.Text, {
value: a,
size: "XS",
color: t,
style: _.subLabel
}));
}
return "function" != typeof i && i ? (i = r.cloneElement(i, e.__assign({}, i.props, {
focused: this.isFocused,
fontColor: this.props.fontColor,
isArabic: n
})), r.createElement("surface", {
onClick: this.props.onSubLabelClick,
style: {
zOffset: 4,
justifyContent: "flex-end"
}
}, i)) : void 0;
}
}, n.prototype.renderContent = function(e) {
var t = g.emptyStyle;
this.props.style instanceof g.StaticStyle && (t = g.DynamicStyle.create({
height: this.props.style.getNumericStyle("height", u.getHeight(7))
}, "09dae019:273:26"));
var n = g.merge3(_.itemBase, e ? _.itemActive : g.emptyStyle, t);
if (this.props.children) return r.createElement("surface", {
style: n
}, this.props.children);
var o = this.props.fontColor ? this.props.fontColor : "#ffffff", i = void 0 !== this.props.subLabelColor ? this.props.subLabelColor : o;
this.isFocused && !this.props.muted && (i = o = "#000000");
var a = e && r.createElement("surface", {
style: _.activeIndicator
}), s = !this.props.ignoreRTL && m.isRTLLanguage();
return r.createElement("surface", null, r.createElement(m.LocaleRearrange, {
style: n
}, this.renderLabel(o, s), this.renderSubLabel(i, s)), a);
}, n.prototype.render = function() {
var e = this.props.isActive && !this.isFocused && !0 === this.props.showActiveIndicator, t = y.CommonStyles.opacity(this.isFocused && !this.props.muted ? 1 : 0);
return r.createElement(d.Pressable, {
input: this.getInput(),
glow: !0,
style: this.props.style,
focusItem: this.focusItem,
useDefaultInput: !1
}, r.createElement("surface", {
style: g.merge2(_.background, t)
}), this.renderContent(e));
}, n.defaultProps = {
fontSize: "S",
labelFlex: 1,
upperCase: !0,
muted: !1
}, e.__decorate([ i.computed ], n.prototype, "isFocused", null), n = e.__decorate([ o.observer ], n);
}(r.Component);
t.ListItem = T;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(5), a = n(7), s = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = a.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.value, n = e.style, r = this.sparta.theme.getTheme(this).checkbox;
return o.createElement("surface", {
style: i.merge2(r.checkbox(t), n)
});
}, t.contextTypes = a.SpartaContext.contextTypes, t;
}(o.Component);
t.Checkbox = s;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(125), i = n(151), a = n(10), s = n(3), u = function(t) {
function n() {
var n = t.call(this, {}) || this, i = e.get("WWCE SupportStore");
return o.updateSource.listen(function(e) {
i.debug("source", e), n.setState(r.__assign({}, n.getState(), {
source: e
}));
}), a.gameStateStoreLoader.onLoad(function(e) {
var t = a.nativePropertiesStore.hostingGame;
s.reaction(function() {
return {
isMultiplayer: e.isMultiplayer,
isOnPlayableLevel: e.isOnPlayableLevel
};
}, function(o) {
var a, s = o.isOnPlayableLevel, u = o.isMultiplayer;
t && t.getInGameHelpContext ? a = t.getInGameHelpContext(s, u) : a = s ? u ? "mp_" + (e.server ? e.server.mapName : "").replace("mp_", "") : "sp_" + (e.levelName || "").split("/")[2] : "";
i.debug("contextForInGame", a.toLowerCase()), n.setState(r.__assign({}, n.getState(), {
contextForInGame: a.toLowerCase()
}));
});
}), o.updateCategories.listen(function(e) {
i.debug("categories", e.map(function(e) {
return e.name;
})), n.setState(r.__assign({}, n.getState(), {
categories: e
}));
}), o.updateSelectedCategory.listen(function(e) {
i.debug("selectedCategory", e), n.setState(r.__assign({}, n.getState(), {
selectedCategory: e
}));
}), o.updateArticleId.listen(function(e) {
i.debug("articleId", e), n.setState(r.__assign({}, n.getState(), {
articleId: e
}));
}), o.updateLocation.listen(function(e) {
i.debug("userLocation", e), n.setState(r.__assign({}, n.getState(), {
userLocation: e
}));
}), o.updateContactDetails.listen(function(e, t) {
i.debug("countryCode", e, "phoneNumber", t), n.setState(r.__assign({}, n.getState(), {
countryCode: e,
phoneNumber: t
}));
}), o.updateSelectedChannel.listen(function(e) {
i.debug("selectedChannel", e && e.name), n.setState(r.__assign({}, n.getState(), {
selectedChannel: e
}));
}), o.resetContextDetails.listen(function() {
i.debug("source", void 0), n.setState(r.__assign({}, n.getState(), {
source: void 0
}));
}), n;
}
return r.__extends(n, t), n;
}(i.Store);
t.WwceSupportStore = new u();
}).call(this, n(20));
}, function(e, t) {
e.exports = function(e) {
if ("function" != typeof e) throw TypeError(e + " is not a function!");
return e;
};
}, function(e, t) {
var n = Math.ceil, r = Math.floor;
e.exports = function(e) {
return isNaN(e = +e) ? 0 : (e > 0 ? r : n)(e);
};
}, function(e, t, n) {
var r = n(55), o = n(466), i = n(342), a = n(340)("IE_PROTO"), s = function() {}, u = function() {
var e, t = n(464)("iframe"), r = i.length;
for (t.style.display = "none", n(467).appendChild(t), t.src = "javascript:", (e = t.contentWindow.document).open(), 
e.write("<script>document.F=Object<\/script>"), e.close(), u = e.F; r--; ) delete u.prototype[i[r]];
return u();
};
e.exports = Object.create || function e(t, n) {
var i;
return null !== t ? (s.prototype = r(t), i = new s(), s.prototype = null, i[a] = t) : i = u(), 
void 0 === n ? i : o(i, n);
};
}, function(e, t, n) {
"use strict";
if (n(83)) {
var r = n(244), o = n(57), i = n(44), a = n(16), s = n(286), u = n(360), l = n(164), c = n(248), p = n(166), d = n(114), f = n(247), m = n(146), h = n(90), g = n(495), y = n(188), S = n(165), v = n(99), _ = n(242), b = n(48), T = n(115), E = n(343), C = n(147), I = n(169), A = n(190).f, w = n(241), P = n(186), R = n(63), O = n(131), x = n(339), k = n(496), L = n(282), M = n(189), D = n(348), N = n(246), F = n(349), G = n(478), U = n(70), B = n(130), j = U.f, H = B.f, z = o.RangeError, V = o.TypeError, W = o.Uint8Array, q = Array.prototype, K = u.ArrayBuffer, X = u.DataView, Y = O(0), J = O(2), Q = O(3), Z = O(4), $ = O(5), ee = O(6), te = x(!0), ne = x(!1), re = L.values, oe = L.keys, ie = L.entries, ae = q.lastIndexOf, se = q.reduce, ue = q.reduceRight, le = q.join, ce = q.sort, pe = q.slice, de = q.toString, fe = q.toLocaleString, me = R("iterator"), he = R("toStringTag"), ge = P("typed_constructor"), ye = P("def_constructor"), Se = s.CONSTR, ve = s.TYPED, _e = s.VIEW, be = O(1, function(e, t) {
return Ae(k(e, e[ye]), t);
}), Te = i(function() {
return 1 === new W(new Uint16Array([ 1 ]).buffer)[0];
}), Ee = !!W && !!W.prototype.set && i(function() {
new W(1).set({});
}), Ce = function(e, t) {
var n = m(e);
if (n < 0 || n % t) throw z("Wrong offset!");
return n;
}, Ie = function(e) {
if (b(e) && ve in e) return e;
throw V(e + " is not a typed array!");
}, Ae = function(e, t) {
if (!(b(e) && ge in e)) throw V("It is not a typed array constructor!");
return new e(t);
}, we = function(e, t) {
return Pe(k(e, e[ye]), t);
}, Pe = function(e, t) {
for (var n = 0, r = t.length, o = Ae(e, r); r > n; ) o[n] = t[n++];
return o;
}, Re = function(e, t, n) {
j(e, t, {
get: function() {
return this._d[n];
}
});
}, Oe = function e(t) {
var n, r, o, i, a, s, u = T(t), c = arguments.length, p = c > 1 ? arguments[1] : void 0, d = void 0 !== p, f = w(u);
if (void 0 != f && !E(f)) {
for (s = f.call(u), o = [], n = 0; !(a = s.next()).done; n++) o.push(a.value);
u = o;
}
for (d && c > 2 && (p = l(p, arguments[2], 2)), n = 0, r = h(u.length), i = Ae(this, r); r > n; n++) i[n] = d ? p(u[n], n) : u[n];
return i;
}, xe = function e() {
for (var t = 0, n = arguments.length, r = Ae(this, n); n > t; ) r[t] = arguments[t++];
return r;
}, ke = !!W && i(function() {
fe.call(new W(1));
}), Le = function e() {
return fe.apply(ke ? pe.call(Ie(this)) : Ie(this), arguments);
}, Me = {
copyWithin: function e(t, n) {
return G.call(Ie(this), t, n, arguments.length > 2 ? arguments[2] : void 0);
},
every: function e(t) {
return Z(Ie(this), t, arguments.length > 1 ? arguments[1] : void 0);
},
fill: function e(t) {
return F.apply(Ie(this), arguments);
},
filter: function e(t) {
return we(this, J(Ie(this), t, arguments.length > 1 ? arguments[1] : void 0));
},
find: function e(t) {
return $(Ie(this), t, arguments.length > 1 ? arguments[1] : void 0);
},
findIndex: function e(t) {
return ee(Ie(this), t, arguments.length > 1 ? arguments[1] : void 0);
},
forEach: function e(t) {
Y(Ie(this), t, arguments.length > 1 ? arguments[1] : void 0);
},
indexOf: function e(t) {
return ne(Ie(this), t, arguments.length > 1 ? arguments[1] : void 0);
},
includes: function e(t) {
return te(Ie(this), t, arguments.length > 1 ? arguments[1] : void 0);
},
join: function e(t) {
return le.apply(Ie(this), arguments);
},
lastIndexOf: function e(t) {
return ae.apply(Ie(this), arguments);
},
map: function e(t) {
return be(Ie(this), t, arguments.length > 1 ? arguments[1] : void 0);
},
reduce: function e(t) {
return se.apply(Ie(this), arguments);
},
reduceRight: function e(t) {
return ue.apply(Ie(this), arguments);
},
reverse: function e() {
for (var t, n = Ie(this).length, r = Math.floor(n / 2), o = 0; o < r; ) t = this[o], 
this[o++] = this[--n], this[n] = t;
return this;
},
some: function e(t) {
return Q(Ie(this), t, arguments.length > 1 ? arguments[1] : void 0);
},
sort: function e(t) {
return ce.call(Ie(this), t);
},
subarray: function e(t, n) {
var r = Ie(this), o = r.length, i = y(t, o);
return new (k(r, r[ye]))(r.buffer, r.byteOffset + i * r.BYTES_PER_ELEMENT, h((void 0 === n ? o : y(n, o)) - i));
}
}, De = function e(t, n) {
return we(this, pe.call(Ie(this), t, n));
}, Ne = function e(t) {
Ie(this);
var n = Ce(arguments[1], 1), r = this.length, o = T(t), i = h(o.length), a = 0;
if (i + n > r) throw z("Wrong length!");
for (;a < i; ) this[n + a] = o[a++];
}, Fe = {
entries: function e() {
return ie.call(Ie(this));
},
keys: function e() {
return oe.call(Ie(this));
},
values: function e() {
return re.call(Ie(this));
}
}, Ge = function(e, t) {
return b(e) && e[ve] && "symbol" != typeof t && t in e && String(+t) == String(t);
}, Ue = function e(t, n) {
return Ge(t, n = S(n, !0)) ? p(2, t[n]) : H(t, n);
}, Be = function e(t, n, r) {
return !(Ge(t, n = S(n, !0)) && b(r) && v(r, "value")) || v(r, "get") || v(r, "set") || r.configurable || v(r, "writable") && !r.writable || v(r, "enumerable") && !r.enumerable ? j(t, n, r) : (t[n] = r.value, 
t);
};
Se || (B.f = Ue, U.f = Be), a(a.S + a.F * !Se, "Object", {
getOwnPropertyDescriptor: Ue,
defineProperty: Be
}), i(function() {
de.call({});
}) && (de = fe = function e() {
return le.call(this);
});
var je = f({}, Me);
f(je, Fe), d(je, me, Fe.values), f(je, {
slice: De,
set: Ne,
constructor: function() {},
toString: de,
toLocaleString: Le
}), Re(je, "buffer", "b"), Re(je, "byteOffset", "o"), Re(je, "byteLength", "l"), 
Re(je, "length", "e"), j(je, he, {
get: function() {
return this[ve];
}
}), e.exports = function(e, t, n, u) {
var l = e + ((u = !!u) ? "Clamped" : "") + "Array", p = "get" + e, f = "set" + e, m = o[l], y = m || {}, S = m && I(m), v = !m || !s.ABV, T = {}, E = m && m.prototype, w = function(e, n) {
j(e, n, {
get: function() {
return function(e, n) {
var r = e._d;
return r.v[p](n * t + r.o, Te);
}(this, n);
},
set: function(e) {
return function(e, n, r) {
var o = e._d;
u && (r = (r = Math.round(r)) < 0 ? 0 : r > 255 ? 255 : 255 & r), o.v[f](n * t + o.o, r, Te);
}(this, n, e);
},
enumerable: !0
});
};
v ? (m = n(function(e, n, r, o) {
c(e, m, l, "_d");
var i, a, s, u, p = 0, f = 0;
if (b(n)) {
if (!(n instanceof K || "ArrayBuffer" == (u = _(n)) || "SharedArrayBuffer" == u)) return ve in n ? Pe(m, n) : Oe.call(m, n);
i = n, f = Ce(r, t);
var y = n.byteLength;
if (void 0 === o) {
if (y % t) throw z("Wrong length!");
if ((a = y - f) < 0) throw z("Wrong length!");
} else if ((a = h(o) * t) + f > y) throw z("Wrong length!");
s = a / t;
} else s = g(n), i = new K(a = s * t);
for (d(e, "_d", {
b: i,
o: f,
l: a,
e: s,
v: new X(i)
}); p < s; ) w(e, p++);
}), E = m.prototype = C(je), d(E, "constructor", m)) : i(function() {
m(1);
}) && i(function() {
new m(-1);
}) && D(function(e) {
new m(), new m(null), new m(1.5), new m(e);
}, !0) || (m = n(function(e, n, r, o) {
var i;
return c(e, m, l), b(n) ? n instanceof K || "ArrayBuffer" == (i = _(n)) || "SharedArrayBuffer" == i ? void 0 !== o ? new y(n, Ce(r, t), o) : void 0 !== r ? new y(n, Ce(r, t)) : new y(n) : ve in n ? Pe(m, n) : Oe.call(m, n) : new y(g(n));
}), Y(S !== Function.prototype ? A(y).concat(A(S)) : A(y), function(e) {
e in m || d(m, e, y[e]);
}), m.prototype = E, r || (E.constructor = m));
var P = E[me], R = !!P && ("values" == P.name || void 0 == P.name), O = Fe.values;
d(m, ge, !0), d(E, ve, l), d(E, _e, !0), d(E, ye, m), (u ? new m(1)[he] == l : he in E) || j(E, he, {
get: function() {
return l;
}
}), T[l] = m, a(a.G + a.W + a.F * (m != y), T), a(a.S, l, {
BYTES_PER_ELEMENT: t
}), a(a.S + a.F * i(function() {
y.of.call(m, 1);
}), l, {
from: Oe,
of: xe
}), "BYTES_PER_ELEMENT" in E || d(E, "BYTES_PER_ELEMENT", t), a(a.P, l, Me), N(l), 
a(a.P + a.F * Ee, l, {
set: Ne
}), a(a.P + a.F * !R, l, Fe), r || E.toString == de || (E.toString = de), a(a.P + a.F * i(function() {
new m(1).slice();
}), l, {
slice: De
}), a(a.P + a.F * (i(function() {
return [ 1, 2 ].toLocaleString() != new m([ 1, 2 ]).toLocaleString();
}) || !i(function() {
E.toLocaleString.call([ 1, 2 ]);
})), l, {
toLocaleString: Le
}), M[l] = R ? P : O, r || R || d(E, me, O);
};
} else e.exports = function() {};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(116);
t.onTextureLoaded = new r.TwinkleSignal(), t.beginScriptCalls = new r.TwinkleSignal(), 
t.endScriptCalls = new r.TwinkleSignal(), t.onWindowSizeChanged = new r.TwinkleTypedEvent2(), 
t.onAssetLoaded = new r.TwinkleTypedEvent2(), t.onVideoStopped = new r.TwinkleTypedEvent(), 
t.onVideoLooped = new r.TwinkleTypedEvent(), t.onVideoStartPlaying = new r.TwinkleTypedEvent(), 
t.onManifestDownloaded = new r.TwinkleTypedEvent(), t.onManifestAssetsDownloadStarted = new r.TwinkleTypedEvent(), 
t.onManifestDownloadUpdate = new r.TwinkleTypedEvent(), t.onManifestAssetsDownloadCompleted = new r.TwinkleTypedEvent();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.onReady = r.createTypedAction(), t.onDisconnected = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(364), i = n(152), a = n(95), s = function(e) {
function t(t, n) {
void 0 === n && (n = !1);
var r = e.call(this, n) || this;
return t && (r.previousPayload = [ t ]), r.scopeStores = {}, null !== t && void 0 !== t && r.setState(t), 
r;
}
return r.__extends(t, e), t.prototype.setState = function(e) {
e && "object" == typeof e && (e = e), this.state = e, this.publishPayload([ e ]);
var t = this.constructor.name;
a.globalScope.__storage && t && -1 === [ "JoinedStore", "Store" ].indexOf(t) && i.setStorage(t, e);
}, t.prototype.getState = function() {
return this.state;
}, t.prototype.scope = function(e) {
var t = this.scopeStores[e];
return t || (this.scopeStores[e] = this.transform(function n(e, t) {
for (var n = 0, r = e; n < r.length; n++) {
var o = r[n];
if (!t || !t.hasOwnProperty(o)) return;
t = t[o];
}
return t;
}.bind(null, [ e ])));
}, t.prototype.transform = function(e) {
return u(this, e);
}, t.prototype.connect = function(e) {
var t, n = this, r = function() {
!1 === e(n.getState()) && t.unsubscribe();
};
return t = this.subscribe(r), r(), t;
}, t.prototype.promise = function(e, t) {
var n = this;
return void 0 === e && (e = function() {}), void 0 === t && (t = function() {}), 
new Promise(function(r, o) {
n.connect(function(n) {
return e(n) ? (r(), !1) : t(n) ? (o(), !1) : void 0;
});
});
}, t;
}(o.Publisher);
function u(e, t) {
var n = new s(t(e.getState()), !0);
return e.subscribe(function() {
n.setState(t(e.getState()));
}), n;
}
t.Store = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(942), o = n(95);
function i(e) {
return o.globalScope.__storage[e];
}
function a(e, t) {
var n;
o.globalScope.__storage = r.update(o.globalScope.__storage, ((n = {})[e] = t, n));
}
o.globalScope.__storage = r.immutable({}), t.getStorage = i, t.setStorage = a;
var s = function() {
function e(e, t) {
this.id = e, o.globalScope.__storage.hasOwnProperty(e) || a(e, t || {});
}
return e.prototype.get = function(e) {
return this.getState()[e];
}, e.prototype.set = function(e, t) {
var n, o = this.getState(), i = r.update(o, ((n = {})[e] = t, n));
this.setState(i);
}, e.prototype.merge = function(e) {
var t = this.getState(), n = r.update(t, e);
this.setState(n);
}, e.prototype.setState = function(e) {
a(this.id, e);
}, e.prototype.getState = function() {
return i(this.id);
}, e;
}();
t.InternalStorage = s;
}, function(e, t, n) {
"use strict";
(function(__, __t) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(66), i = n(4), a = n(3), s = n(137), u = n(58), l = n(6), c = n(8), p = n(201), d = n(11), f = n(26), m = n(21), h = n(37), g = n(12), y = n(19), S = n(258), v = n(225), _ = n(260), b = n(1071), T = n(17), E = n(5), C = n(307), I = n(33), A = n(7), w = E.StaticStyle.wrapLegacyStyleSheet({
heading: {
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
flex: 1,
justifyContent: "flex-end",
zOffset: 51
},
premiumTreatment: {
position: "absolute",
top: -c.GUTTER,
right: -c.GUTTER
},
headingText: {
zOffset: 51
},
type: {
opacity: .8
},
custom: {
color: _.customTextColor,
marginBottom: c.GUTTER
},
text: {
textLineSpacing: m.LINE_HEIGHTS.S
},
secondaryText: {
textLineSpacing: m.LINE_HEIGHTS.S,
opacity: .65
},
textRTL: {
textAlignForRTL: "left"
},
infoZone: {
height: c.getHeight(13),
zOffset: 51
},
joinButton: {
marginTop: 1.5 * c.GUTTER,
marginBottom: 1.5 * c.GUTTER,
flexDirection: "row",
textAlign: "center",
textAlignForRTL: "center"
},
hrLine: {
height: 1,
flexDirection: "row",
backgroundColor: "#0000001a"
},
contextMenu: {
zOffset: 52,
width: c.spacer(6),
height: c.spacer(4),
padding: c.spacer(2),
margin: -c.spacer(3),
marginLeft: 3,
marginRight: -c.spacer(2)
},
contextMenuRTL: {
zOffset: 52,
width: c.spacer(6),
height: c.spacer(4),
padding: c.spacer(2),
margin: -c.spacer(3),
marginRight: 3,
marginLeft: -c.spacer(2)
},
bottomRowContainer: {
alignItems: "center",
justifyContent: "space-between",
flexDirection: "row",
marginTop: c.GUTTER
},
platoonEmblem: {
width: c.getWidth(2),
height: c.getWidth(2),
zOffset: 51,
alignSelf: "flex-end"
},
gameLogo: {
position: "absolute",
top: 0,
left: 0,
textureMode: "contain",
textureAlign: [ 0, 0 ],
width: c.getWidth(2),
height: c.getHeight(4)
},
earlyAccess: {
marginLeft: c.GUTTER,
marginRight: c.GUTTER
},
headerRow: {
flex: 1,
flexDirection: "row",
justifyContent: "space-between"
},
headerColumnLeft: {
flex: 1,
flexDirection: "column",
justifyContent: "flex-end"
},
headerColumnRight: {
justifyContent: "flex-end"
}
}, "17d3e621:35:15"), P = function(t) {
function n(e, n) {
var i = t.call(this, e, n) || this;
return i.sparta = A.SpartaContext.getFromComponent(i), i.isContextMenuOpen = !1, 
i.contextMenu = r.createRef(), i.getCardBounds = function() {
var e = i.focusItem.bounds;
return {
x: e ? e.x : 0,
y: e ? e.y + e.height : 0
};
}, i.onPreOpen = a.action(function() {
return i.isContextMenuOpen = !0;
}), i.onClose = a.action(function() {
return i.isContextMenuOpen = !1;
}), i.focusItem = e.focusItem || i.sparta.twinkle.focus.create(i, o.autoId("playCard")), 
i;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "currentGameId", {
get: function() {
return this.sparta.stores.layoutStateStore.current.config.gameId;
},
enumerable: !0,
configurable: !0
}), n.prototype.getInput = function() {
var e = this;
if (this.isContextMenuOpen) return new g.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: d.Keys.Decline,
action: function() {
e.contextMenu.current && e.contextMenu.current.close();
}
});
}, n.prototype.renderInfoZone = function() {
var e = y.isRTLLanguage(), t = e ? u.Direction.Left : u.Direction.Right, n = e ? E.DynamicStyle.wrapLegacyStyle({
textLineSpacing: m.LINE_HEIGHTS.S + c.GUTTER / 2
}, "17d3e621:224:14") : E.emptyStyle, o = !!this.props.modes && r.createElement(l.Text, {
value: this.props.modes,
style: E.merge2(w.text, n),
type: I.TextType.EMPHASIS,
size: "S"
}), i = !!this.props.maps && r.createElement(l.Text, {
value: this.props.maps,
style: w.text,
type: I.TextType.EMPHASIS,
size: "S"
}), a = !!this.props.expansion && r.createElement(v.PremiumTreatment, {
expansion: this.props.expansion,
textStyle: E.merge2(w.text, T.CommonStyles.flex1),
fontSize: "S",
showEarlyAccess: !0
});
return r.createElement(u.Marquee, {
scroll: this.isContextMenuOpen,
focusItem: this.focusItem,
scrollTo: t,
rtl: e,
style: T.CommonStyles.flex1,
shuttle: !0
}, r.createElement("surface", {
style: e ? T.CommonStyles.alignItemsFlexEnd : E.emptyStyle
}, o, i, a));
}, n.prototype.renderFriendNames = function(e) {
return 1 === e.length ? __("ID_SPARTA_GENERIC_PLAYING_ONE_USER").replace("[[x]]", R(e[0].displayName)) : 2 === e.length ? __("ID_SPARTA_GENERIC_PLAYING_TWO_USERS").replace("[[x]]", R(e[0].displayName)).replace("[[y]]", R(e[1].displayName)) : __("ID_SPARTA_GENERIC_PLAYING_MORE_USERS").replace("[[x]]", R(e[0].displayName)).replace("[[y]]", R(e[1].displayName)).replace("[[z]]", (e.length - 2).toString());
}, n.prototype.renderFriendAvatars = function(e) {
var t = e.map(function(e, t) {
return r.createElement(p.Avatar, {
user: e,
key: t,
size: 57,
style: T.PlayCardStyles.avatar
});
});
return r.createElement("surface", {
style: T.PlayCardStyles.avatarContainer
}, t);
}, n.prototype.renderHeading = function() {
var e = this.props.heading ? this.props.heading.toUpperCase() : "", t = (this.props.friends ? this.props.friends : []).slice(0, 3), n = t.length > 0 && this.renderFriendAvatars(t);
t.length > 0 && (e += (e ? __t(" - ") : "") + this.renderFriendNames(t));
var o = !!this.props.platoon && r.createElement(S.PlatoonEmblem, {
emblem: this.props.platoon.emblem,
style: w.platoonEmblem
}), i = this.props.custom && r.createElement(l.Text, {
value: __("ID_SPARTA_SERVER_TYPE_CUSTOM_GAME"),
size: "XS",
style: E.merge2(w.custom, w.textRTL)
}), a = E.DynamicStyle.wrapLegacyStyle({
color: this.props.headingColor
}, "17d3e621:315:27"), s = !!e && r.createElement(l.Text, {
value: e,
type: I.TextType.EMPHASIS,
size: "XS",
style: E.merge3(w.type, a, w.headingText)
}), c = this.props.game && this.sparta.stores.gameStore.getGame(this.props.game), p = c && !this.currentGameId && r.createElement("surface", {
style: [ w.gameLogo, {
texture: c.logoConfig.logoUrl
} ]
}), d = !!this.props.expansion && r.createElement(v.PremiumTreatment, {
showP: !0,
expansion: this.props.expansion,
containerStyle: w.premiumTreatment
}), f = y.isRTLLanguage() ? u.Direction.Left : u.Direction.Right;
return o ? r.createElement("surface", {
style: w.heading
}, d, p, r.createElement("surface", {
style: w.headerRow
}, r.createElement("surface", {
style: w.headerColumnLeft
}, n, i, r.createElement(u.Marquee, {
showEllipsis: !0,
focusItem: this.focusItem,
scrollTo: f,
shuttle: !0
}, s)), r.createElement("surface", {
style: w.headerColumnRight
}, o))) : r.createElement("surface", {
style: w.heading
}, d, p, n, i, r.createElement(u.Marquee, {
showEllipsis: !0,
focusItem: this.focusItem,
scrollTo: f,
shuttle: !0
}, s));
}, n.prototype.renderBottom = function() {
var e = this.focusItem.isFocusedOrHovered || this.isContextMenuOpen, t = this.props.size, n = y.isRTLLanguage();
if (!t) return r.createElement("surface", null);
var o = this.props.contextMenu && r.createElement(C.ContextMenuButton, {
key: "contextMenuButton",
ref: this.contextMenu,
dark: e,
position: this.getCardBounds,
menuItems: this.props.contextMenu.menuItems,
style: n ? w.contextMenuRTL : w.contextMenu,
onOpen: this.onPreOpen,
onClose: this.onClose,
menuWidth: c.getWidth(h.CARD_WIDTH.cells[t])
}), i = !!this.props.counterId && r.createElement(b.ServerCount, {
key: "serverCount",
style: E.merge2(w.secondaryText, E.DynamicStyle.wrapLegacyStyle({
zOffset: 1
}, "17d3e621:394:52")),
size: "XS",
counterId: this.props.counterId
}), a = n ? u.Direction.Left : u.Direction.Right, s = !!this.props.playersInfo && r.createElement(u.Marquee, {
key: "playersInfoMarquee",
scroll: this.isContextMenuOpen,
focusItem: this.focusItem,
scrollTo: a,
style: T.CommonStyles.flex1,
shuttle: !0
}, r.createElement("surface", {
style: T.CommonStyles.flexRow
}, r.createElement(l.Text, {
value: this.props.playersInfo,
style: E.merge2(w.text, T.CommonStyles.flex1),
size: "S"
}))), p = !!this.props.extraInfo && r.createElement(u.Marquee, {
key: "extraInfoMarquee",
scroll: this.isContextMenuOpen,
focusItem: this.focusItem,
scrollTo: a,
style: T.CommonStyles.flex1,
shuttle: !0
}, r.createElement("surface", {
style: T.CommonStyles.flexRow
}, r.createElement(l.Text, {
value: this.props.extraInfo,
style: E.merge2(w.secondaryText, T.CommonStyles.flex1),
size: m.TextSize.XS
}))), d = !!this.props.filters && r.createElement(l.Text, {
size: "XS",
value: this.props.filters,
style: w.secondaryText
});
return r.createElement("surface", null, this.renderInfoZone(), d, r.createElement("surface", {
style: w.bottomRowContainer
}, y.localeRearrange([ s, i, p, o ])));
}, n.prototype.renderFold = function() {
return !!this.props.joinButtonName && r.createElement("surface", null, r.createElement("surface", {
style: w.hrLine
}), r.createElement(l.Text, {
value: this.props.joinButtonName,
style: w.joinButton,
type: I.TextType.EMPHASIS,
size: "S"
}));
}, n.prototype.render = function() {
var t = this.props, n = (t.heading, t.friends, t.platoon, t.modes, t.maps, t.playersInfo, 
t.filters, t.custom, t.joinButtonName, t.headingColor, t.contextMenu, t.game, t.counterId, 
t.expansion, t.children), o = e.__rest(t, [ "heading", "friends", "platoon", "modes", "maps", "playersInfo", "filters", "custom", "joinButtonName", "headingColor", "contextMenu", "game", "counterId", "expansion", "children" ]);
return r.createElement(s.Card, e.__assign({}, o, {
forcedActive: this.isContextMenuOpen,
focusItem: this.focusItem,
bottom: this.renderBottom(),
fold: this.renderFold()
}), this.renderHeading(), n);
}, n.contextTypes = A.SpartaContext.contextTypes, n.defaultProps = {
size: h.CardSize.M,
friends: [],
custom: !1
}, e.__decorate([ a.observable ], n.prototype, "isContextMenuOpen", void 0), e.__decorate([ a.computed ], n.prototype, "currentGameId", null), 
n = e.__decorate([ i.observer, f.input ], n);
}(r.Component);
function R(e) {
return e.replace(/\s/g, "");
}
t.PlayCard = P;
}).call(this, n(2), n(101));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(411);
t.Icon = function(e) {
var t = e.size, n = void 0 === t ? o.IconSize.S : t, i = e.isDisabled, a = e.style, s = e.image, u = e.color, l = o.getIconSizes(), c = {
width: l[n],
height: l[n],
grayScale: i ? 1 : 0,
color: u,
texture: s || void 0,
textureMode: "contain",
textureAtlas: "SpartaCommonAtlas"
}, p = Array.isArray(a) ? a.concat(c) : [ c, a ];
return r.createElement("surface", {
style: p
});
}, t.Icon.displayName = "Icon";
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.state = {}, e.updateText = function() {
var t = e.props, n = t.format, r = t.doneText, o = e.getTimeDelta(), i = o > 0 || !r ? (n || a)(o) : r;
e.state.formattedText !== i && e.setState({
formattedText: i
}), o <= 0 && (e.intervalId && clearInterval(e.intervalId), e.props.onDone && e.props.onDone());
}, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.updateText(), this.intervalId = setInterval(this.updateText, 1e3);
}, n.prototype.componentWillUnmount = function() {
this.intervalId && clearInterval(this.intervalId);
}, n.prototype.getTimeDelta = function() {
var e = this.props, t = e.targetTime, n = e.timeDelta;
return "function" == typeof n ? n() : "number" == typeof t ? t - Date.now() : 0;
}, n.prototype.render = function() {
return r.createElement(o.Text, {
value: this.state.formattedText,
type: this.props.type,
size: this.props.size,
color: this.props.color,
style: this.props.style,
font: this.props.font
});
}, n;
}(r.Component);
function a(e) {
var t = e / 60 / 60 / 1e3;
if (t > 24) {
var n = Math.round(t / 24);
return n + " " + __(1 === n ? "ID_SPARTA_DATETIME_DAY" : "ID_SPARTA_DATETIME_DAYS");
}
var r = Math.floor(t), o = (r < 10 ? "0" : "") + r, i = t - r, a = 60 * i, s = Math.floor(a), u = 60 * (i = a - s), l = Math.floor(u);
return o + ":" + ((s < 10 ? "0" : "") + s) + ":" + ((l < 10 ? "0" : "") + l);
}
t.Countdown = i, t.simpleTimeFormat = a;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
var e;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.UNKNOWN = -2] = "UNKNOWN", e[e.PENDING = -1] = "PENDING", e[e.PRIVATE = 0] = "PRIVATE", 
e[e.LIEUTENANT = 3] = "LIEUTENANT", e[e.COLONEL = 6] = "COLONEL", e[e.GENERAL = 9] = "GENERAL";
}(e = t.MemberRole || (t.MemberRole = {})), t.roleDisplayOrder = Object.keys(e).map(function(e) {
return Number(e);
}).filter(function(t) {
return t >= e.PRIVATE;
}).reverse(), t.stringToEnum = function n(e) {
return parseInt(e.substr(4), 10);
}, t.enumToString = function r(e) {
return "role" + e;
}, t.enumToLocalized = function o(t, n) {
switch (t) {
case e.GENERAL:
return __("ID_SHARED_PLATOONS_ROLE_GENERAL");

case e.COLONEL:
return __(n ? "ID_SHARED_PLATOONS_ROLE_COLONELS" : "ID_SHARED_PLATOONS_ROLE_COLONEL");

case e.LIEUTENANT:
return __(n ? "ID_SHARED_PLATOONS_ROLE_LIEUTENANTS" : "ID_SHARED_PLATOONS_ROLE_LIEUTENANT");

case e.PRIVATE:
return __(n ? "ID_SHARED_PLATOONS_ROLE_PRIVATES" : "ID_SHARED_PLATOONS_ROLE_PRIVATE");

default:
return "";
}
}, t.getLowerRole = function i(t) {
if (t > e.PRIVATE) for (;t >= e.PRIVATE; ) if (e[--t]) return t;
return e.PRIVATE;
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(8), s = n(23), u = n(18), l = n(96), c = n(3), p = n(221), d = n(300), f = n(15), m = n(14), h = n(32), g = n(4), y = n(1174), S = n(5), v = function() {
return function e(t, n) {
this.index = t, this.tab = n;
};
}(), _ = function(e) {
function t(t, n) {
var r = e.call(this, t) || this;
return r.content = null, r.setContent(n), r;
}
return r.__extends(t, e), t.prototype.setContent = function(e) {
this.content = e;
}, t.prototype.contentEquals = function(e) {
return !!this.content && this.content.index === e.index;
}, r.__decorate([ c.observable ], t.prototype, "content", void 0), r.__decorate([ c.action ], t.prototype, "setContent", null), 
t;
}(p.ItemState);
t.TabSlotItem = _;
var b = function(e) {
function t(t, n) {
for (var r = [], o = 2; o < arguments.length; o++) r[o - 2] = arguments[o];
var i = e.apply(this, [ n ].concat(r)) || this;
return i.viewComponentState = t, i;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "leftToRight", {
get: function() {
return !!(this.previous && this.current && this.previous.content && this.current.content) && this.previous.content.index > this.current.content.index;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "activeTabIndex", {
get: function() {
return this.current && this.current.content ? this.current.content.index : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "activeTab", {
get: function() {
return this.current && this.current.content && this.current.content.tab;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "location", {
get: function() {
return this.viewComponentState && this.viewComponentState.aggregate && this.viewComponentState.aggregate.location;
},
enumerable: !0,
configurable: !0
}), t.prototype.setActiveTab = function(e, t, n) {
if (!this.activeTab || this.activeTabIndex !== e) {
var o = t[e];
if (n && this.location) {
var i = void 0;
if (0 === e && this.location.path) {
var a = r.__assign({}, this.location.args);
delete a.tab, i = new l.Location({
path: this.location.path,
args: a
});
} else this.location.args && this.location.args.tab !== o.name && (i = new l.Location({
path: this.location.path,
args: r.__assign({}, this.location.args, {
tab: o.name
})
}));
i && u.updateLocation(i);
} else this.switchToItem(new v(e, o));
}
}, r.__decorate([ c.computed ], t.prototype, "leftToRight", null), r.__decorate([ c.computed ], t.prototype, "activeTabIndex", null), 
r.__decorate([ c.computed ], t.prototype, "activeTab", null), r.__decorate([ c.computed ], t.prototype, "location", null), 
r.__decorate([ c.action ], t.prototype, "setActiveTab", null), t;
}(p.EnterLeaveState), T = S.StaticStyle.wrapLegacyStyleSheet({
header: {
flex: 1,
flexDirection: "row",
justifyContent: "space-between"
},
contentHeader: {
flexDirection: "row",
alignSelf: "center",
height: a.getHeight(2.4)
},
backgroundImage: {
textureMode: "fill",
texture2: m.bbOfflineUrl("/sparta/jsclient/builds/assets/emblemgradient-8596ee37.png"),
texture2Mode: "fill",
texture2Offset: [ 0, -100 ],
position: "absolute",
top: -128,
right: 0,
height: 512,
width: 512,
opacity: .2
}
}, "20321c20:127:15"), E = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tweens = {
translateX: f.Animation.tween("TabslotTranlateX", 0)
}, t;
}
return r.__extends(t, e), t.prototype.getChildContext = function() {
return {
tabSlotState: this.props.item
};
}, t.prototype.componentDidMount = function() {
var e = this;
this.dispose = c.reaction(function() {
return e.props.item.currentState;
}, function() {
var t = e.props.item;
e.handleSlideOutOrIn(t.previousState, t.currentState);
});
}, t.prototype.handleSlideOutOrIn = function(e, t) {
var n = this, r = c.untracked(function() {
return n.props.tabbedTemplate.leftToRight;
}) ? -1 : 1;
t === p.EnterLeaveStates.LEAVING && this.tweens.translateX.to(-1920 * r), t === p.EnterLeaveStates.ENTERING && (e !== p.EnterLeaveStates.IDLE ? this.tweens.translateX.to(0) : this.tweens.translateX.transition(1920 * r, 0)), 
t === p.EnterLeaveStates.ACTIVE && this.tab && this.tab.onSelect && this.tab.onSelect();
}, Object.defineProperty(t.prototype, "tab", {
get: function() {
return this.props.item.content && this.props.item.content.tab;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentWillUnmount = function() {
this.dispose(), this.tweens.translateX.destroy();
}, t.prototype.render = function() {
var e, t = this.tab;
if (!t) return null;
if (!this.props.item.isVisible) return null;
if (t.render) e = t.render(); else if (t.component) {
var n = t.component;
e = o.createElement(n, r.__assign({
key: t.name
}, t.props));
}
var i = S.DynamicStyle.create({
width: s.content.width,
position: "absolute",
marginTop: this.props.topGutter ? a.GUTTER : 0,
translateX: this.tweens.translateX.getStyle()
}, "20321c20:237:22");
return o.createElement("surface", {
style: i
}, e);
}, t.childContextTypes = {
tabSlotState: i.instanceOf(_)
}, t = r.__decorate([ g.observer ], t);
}(o.Component), C = g.observer(function(e) {
var t = null;
if (e.header) t = e.header; else {
var n = e.tabbedTemplate.activeTab;
n && n.renderHeader && (t = n.renderHeader());
}
var r = S.merge2(T.contentHeader, f.Animation.tweenSwitchStyle("20321c20:268:36", "opacity", 0, 1, !!t)), i = void 0 === e.enableInput || e.enableInput;
return o.createElement("surface", {
style: T.header
}, o.createElement(y.TabMenu, {
tabs: e.tabs,
enableInput: i,
activeTabIndex: e.tabbedTemplate.activeTabIndex,
onTabSelect: function(t) {
e.tabbedTemplate.setActiveTab(t, e.tabs, !0);
},
fontSizeOverride: e.fontSizeOverride
}), o.createElement("surface", {
style: r
}, t));
}), I = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
var e = this, t = this.props.tabs.map(function(e, t) {
return new _("slot" + t, null);
});
this.tabbedTemplate = new (b.bind.apply(b, [ void 0, this.context.viewComponentState, new v(this.props.defaultTab || 0, null) ].concat(t)))(), 
this.locationObserver = c.autorun(function() {
return e.handleLocationChanged(e.tabbedTemplate.location);
});
var n = this.tabbedTemplate.location, r = n && n.args && n.args.tab;
this.props.defaultTab && !r && this.handleTabSelected(this.props.defaultTab);
}, t.prototype.componentWillUnmount = function() {
this.locationObserver();
}, t.prototype.handleLocationChanged = function(e) {
var t = 0;
if (e && e.args && e.args.tab) {
var n = this.props.tabs.find(function(t) {
return t.name === e.args.tab;
});
n && (t = this.props.tabs.indexOf(n));
}
this.handleTabSelected(t, !1);
}, t.prototype.handleTabSelected = function(e, t) {
void 0 === t && (t = !0), this.tabbedTemplate.setActiveTab(e, this.props.tabs, t);
}, t.prototype.navigateTo = function(e) {
var t = this.props.tabs, n = t.filter(function(t) {
return t.name === e;
}).pop();
n && this.handleTabSelected(t.indexOf(n));
}, t.prototype.render = function() {
var e = this, t = this.tabbedTemplate.items.map(function(t) {
return o.createElement(E, {
key: t.name,
topGutter: e.props.topGutter,
item: t,
tabbedTemplate: e.tabbedTemplate
});
}), n = o.createElement(C, {
tabbedTemplate: this.tabbedTemplate,
enableInput: this.props.enableInput,
tabs: this.props.tabs,
header: this.props.header,
fontSizeOverride: this.props.fontSizeOverride
}), r = this.props.bgImage ? o.createElement("surface", {
style: S.merge2(T.backgroundImage, S.DynamicStyle.create({
texture: this.props.bgImage
}, "20321c20:376:59"))
}) : null;
return o.createElement(h.Template, {
tallContent: !0,
wideContent: this.props.wideContent,
scrollContent: this.props.scrollContent,
scrollToFocus: this.props.scrollToFocus,
header: n,
shortHeader: this.props.shortHeader,
showDivider: this.props.showDivider
}, r, t);
}, t.contextTypes = {
viewComponentState: i.instanceOf(d.ViewComponentState).isRequired
}, t.defaultProps = {
scrollContent: !1,
scrollToFocus: !1,
shortHeader: !1,
topGutter: !0,
enableInput: !0
}, t;
}(o.Component);
t.TabbedTemplate = I;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(171);
t.TunguskaContext = r.createContext("Tunguska");
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(53), r = n(43), o = n(194), i = n(25), a = n(11), s = n(73), u = n(41), l = n(206), c = n(12), p = n(10), d = n(121), f = n(47), m = n(59);
function h(t) {
var n = new Promise(function(t) {
e.hide(), t();
});
p.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
return n.then(t);
}, 1);
}
function g(e) {
e.withBlackFade ? function t(e) {
d.blackFadeUntil(function() {
return o.changeGameViewContentVisibility(!1), new Promise(function(t) {
return y(e, t);
});
});
}(e) : y(e);
}
function y(t, n) {
void 0 === n && (n = function() {}), h(function() {
t.changeRoute && e.route(t.changeRoute), p.gameStateStoreLoader.get().setWaitingForUserActionToPlay(!1), 
m.frostbite.sendMessage("sparta.gameResume"), n();
});
}
t.delayedCrossFadeOptions = {
in: {
duration: 700
},
out: {
duration: 500,
delay: 700
}
}, t.delayedCrossFadeDuration = t.delayedCrossFadeOptions.in.duration + t.delayedCrossFadeOptions.out.duration + t.delayedCrossFadeOptions.out.delay, 
t.hideSparta = h, t.goToGame = function S(e) {
void 0 === e && (e = {}), e.showGameReadyPopup ? u.legacyConfirm(__("ID_SPARTA_TUNGUSKA_PLAYING_JOIN_NOW", !0), __("ID_SPARTA_TUNGUSKA_PLAYING_GAME_READY", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "gotoGame").then(function() {
g(e);
}) : g(e);
}, t.quitWithConfirm = function v(e) {
e && u.legacyConfirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_PROMPT", !0), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_CANCEL", !0), "leaveServer").then(function() {
return e();
});
}, t.toggleQuittingOverlay = function _(e, t) {
e ? (s.tunguskaEndOfRoundStore.setQuitProgress(!0), f.PopupManager.standardAlertWithOption("", __("ID_SPARTA_GAMESTATE_END_OF_ROUND_STATUS_QUITTING"), {
useConfirmInput: !1,
customInput: new c.Input({
action: function() {
return s.tunguskaEndOfRoundStore.setQuitProgress(!1);
},
key: a.Keys.Decline,
label: __("ID_SPARTA_ACTION_CANCEL")
})
}, void 0, "quitprogresspopup")) : (s.tunguskaEndOfRoundStore.setQuitProgress(!1), 
i.close("quitprogresspopup"), l.nextRoundCountDown.stop(), r.stopGame({}), t && t());
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(10), a = n(15), s = n(8), u = n(86), l = n(6), c = n(14), p = n(11), d = n(12), f = n(218), m = n(302), h = n(5), g = n(1376), y = n(9), S = n(22), v = n(77), _ = n(7), b = {
in: {
duration: a.Animation.defaultTweenOptions.duration / 2
},
out: {
duration: a.Animation.defaultTweenOptions.duration / 4
}
}, T = h.StaticStyle.create({
position: "absolute",
right: 5,
bottom: 6,
opacity: .3,
width: s.getHeight(2),
height: s.getHeight(2),
texture: c.bbOfflineUrl("/sparta/assets/career/icon-lock-white-27283301.png")
}, "406882d2:49:21");
t.LockIcon = function(e) {
var t = e.isSelected, n = e.activeColor, o = e.inactiveColor;
return r.createElement("surface", {
style: [ T, {
color: t ? n : o
} ]
});
}, t.LockIcon.displayName = "LockIcon";
var E = h.StaticStyle.create({
flexDirection: "row",
alignItems: "center",
position: "absolute",
right: 5,
bottom: 6,
zOffset: 10
}, "406882d2:351:28"), C = function(n) {
function T(e, t) {
var r = n.call(this, e, t) || this;
return r.sparta = _.SpartaContext.getFromComponent(r), r.focusItem = r.props.focusItem || S.focusSystem.create(r, "awardimage"), 
v.onComponentUpdate(r, function(e) {
r.focusItem.id = "awarditem_" + e.awardCode, e.input ? r.sparta.stores.inputStore.bindInputToFocusItem(e.input, r.focusItem) : e.onFocus && y.SpartaGlobals.bundleIsPC && r.sparta.stores.inputStore.bindInputToFocusItem(new d.Input({
action: function() {
return e.onFocus && e.onFocus(r.props.item, r.props.index);
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: p.Keys.Accept
}), r.focusItem);
}), r.props.onFocus && r.focusItem.onChange.listen(function(e) {
e && S.focusSystem.controllerMode && r.props.onFocus && r.props.onFocus(r.props.item, r.props.index);
}), r;
}
return e.__extends(T, n), Object.defineProperty(T.prototype, "width", {
get: function() {
var e = this.props, t = e.style;
return e.width || (t ? t.getNumericStyle("width", 0) : 0);
},
enumerable: !0,
configurable: !0
}), T.prototype.renderAward = function(e) {
var t = h.merge4(g.AwardItemStyle.award, h.DynamicStyle.create({
color: e ? this.props.activeColor : this.props.inactiveColor,
width: this.width,
texture: this.props.awardImage,
textureAtlas: this.props.atlas,
textureScale: "rectangle" === this.props.imageType ? .5 : "normal" === this.props.imageType ? 1.2 : void 0
}, "406882d2:166:34"), this.props.unlocked ? g.AwardItemStyle.unlockedImage : h.emptyStyle, h.DynamicStyle.maybeLegacyStyle(this.props.imageStyle, "406882d2:175:77")), n = g.AwardItemStyle.multiplier(e, void 0 !== this.props.expansion), o = 0;
return this.props.hideAwardCount || (o = this.props.awardCount ? this.props.awardCount : Math.floor(this.props.dependencyAcquired / this.props.dependencyNeeded)), 
r.createElement("surface", {
style: g.AwardItemStyle.positionWrapper
}, r.createElement("surface", {
style: t
}), o > 0 && r.createElement(l.Text, {
value: "x" + o,
type: "emphasis",
size: "S",
style: n
}));
}, T.prototype.renderDependency = function(e, t, n) {
var o = [ g.AwardItemStyle.dependency, {
texture: e,
width: this.width
}, this.props.unlocked ? g.AwardItemStyle.unlockedImage : void 0 ], i = g.AwardItemStyle.multiplier(n, !1);
return r.createElement("surface", {
key: "dependency" + t,
style: g.AwardItemStyle.positionWrapper
}, r.createElement("surface", {
style: o
}), r.createElement(l.Text, {
value: "x" + this.props.dependencyAcquired,
size: "XS",
type: "emphasis",
style: i
}));
}, T.prototype.renderDependencies = function(e) {
if (!this.props.dependencies) return null;
for (var t = [], n = 0; n <= this.props.dependencies.length; n++) {
var o = this.props.dependencies[n];
o && o.images && o.images.Small && t.push(this.renderDependency(o.images.Small, n, e));
}
return r.createElement("surface", null, this.renderSeparator(e), t);
}, T.prototype.renderSeparator = function(e) {
return r.createElement("surface", {
style: g.AwardItemStyle.dependencySeparator(e)
});
}, T.prototype.renderProgressBar = function(e) {
var t = h.emptyStyle;
return this.props.style && this.width && "number" == typeof this.width && (t = h.DynamicStyle.create({
width: this.width
}, "406882d2:243:25")), r.createElement(u.ProgressBar, {
height: "S",
completed: e,
style: h.merge2(g.AwardItemStyle.progressBar, t),
bgColorStyle: h.DynamicStyle.create({
backgroundColor: this.props.progressionBackground
}, "406882d2:250:31")
});
}, T.prototype.renderStars = function(e) {
var t = this.props.star;
if (!t) return r.createElement("surface", null);
var n = 100 === t.timesAquired, o = n && !e ? "#ff9900" : e ? "#000000" : "#ffffff", i = h.DynamicStyle.create({
color: o
}, "406882d2:265:27"), a = n ? 100 : t.timesAquired;
return r.createElement("surface", {
style: g.AwardItemStyle.starContainer
}, r.createElement("surface", {
style: [ g.AwardItemStyle.star, i ]
}), r.createElement(l.Text, {
style: h.merge2(g.AwardItemStyle.starNumber, i),
value: "" + a,
size: "XS"
}));
}, T.prototype.renderCheckmark = function(e, t) {
void 0 === e && (e = this.props.checked);
var n = h.merge2(g.AwardItemStyle.checkmark, h.DynamicStyle.create({
color: t ? "#000000" : "#ffffff",
opacity: a.Animation.tweenSwitch(0, 1, e, b.in, b.out)
}, "406882d2:278:38"));
return r.createElement("surface", {
style: n
});
}, T.prototype.renderDependencyIcon = function() {
var e = i.gameStore.getGame(this.props.gameId), t = e && e.expansionAssets && e.expansionAssets.icons, n = e && e.premiumConfig && e.premiumConfig.premiumIconUrl, o = this.props, a = o.expansion, s = o.icon, u = void 0, l = a && a instanceof m.GameExpansion ? a.license : a;
if (l && t && t[l]) u = t[l]; else if ("string" == typeof a) {
var p = i.expansionStore.get(this.props.gameId, y.SpartaGlobals.bundlePlatform);
if (!p.isLoading && p.value) {
var d = p.value.getXpack(a);
!d || i.entitlementStore.hasExpansionAccess(this.props.gameId, d.name) || (u = n);
}
} else switch (s) {
case f.DepType.Rank:
u = c.bbUrl("/sparta/jsclient/builds/assets/icon-rank-dd34db7c.png");
break;

case f.DepType.Previous:
u = c.bbUrl("/sparta/jsclient/builds/assets/icon-prerequisite-62c37f63.png");
break;

case f.DepType.Premium:
u = c.bbUrl("/sparta/jsclient/builds/assets/icon-p-shield-a91bad20.png");
break;

default:
u = void 0;
}
return r.createElement("surface", {
style: [ g.AwardItemStyle.expansionIcon, {
texture: u || void 0,
opacity: this.props.unlocked ? 1 : .5
} ]
});
}, T.prototype.renderLockIcon = function(e) {
var n = this.props.gating;
return !n || n.canBeEquipped ? null : n.canBeBought ? r.createElement("surface", {
style: E
}, r.createElement(l.Text, {
size: "XXS",
value: n.price + "",
color: e ? "#000000" : void 0
}), r.createElement("surface", {
style: h.DynamicStyle.create({
marginLeft: 5,
width: s.getHeight(2),
height: s.getHeight(2),
color: e ? this.props.activeColor : this.props.inactiveColor,
texture: c.bbUrl("/sparta/assets/career/icon-warbonds-8de69417.png")
}, "406882d2:363:32")
})) : r.createElement(t.LockIcon, {
isSelected: e,
activeColor: this.props.activeColor,
inactiveColor: this.props.inactiveColor
});
}, Object.defineProperty(T.prototype, "bounds", {
get: function() {
return this.focusItem.bounds;
},
enumerable: !0,
configurable: !0
}), T.prototype.render = function() {
var t, n = this.props.itemState.active, o = this.focusItem.isFocusedOrHovered, i = g.AwardItemStyle.card(o, n);
this.props.showLockIcon && !this.props.unlocked && (t = this.renderLockIcon(o));
var a = void 0 !== this.props.progressPercent ? this.renderProgressBar(this.props.progressPercent) : void 0;
return r.createElement("surface", e.__assign({
style: [ g.AwardItemStyle.box, this.props.style ]
}, this.focusItem.hooks), r.createElement("surface", {
style: i
}, this.renderAward(o), this.props.dependencies && this.props.dependencies.length > 0 && this.renderDependencies(o), this.props.gameId && this.renderDependencyIcon(), this.renderStars(o), this.renderCheckmark(this.props.checked, o), t), a);
}, T.contextTypes = _.SpartaContext.contextTypes, T.defaultProps = {
checked: !1,
stages: [],
dependencies: [],
dependencyAcquired: 0,
dependencyNeeded: 1,
progressionBackground: "#FFFFFF99"
}, T = e.__decorate([ o.observer ], T);
}(r.Component);
t.AwardItem = C;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(10), o = n(3), i = n(67), a = n(111), s = n(47), u = function() {
function t() {
this.isMatchmaking = !1;
}
return Object.defineProperty(t.prototype, "isQueued", {
get: function() {
return r.gameStateStoreLoader.get().queue && r.gameStateStoreLoader.get().queue.isPending;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasServer", {
get: function() {
return !!r.gameStateStoreLoader.get().server;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isInJoinFlow", {
get: function() {
return this.isMatchmaking || this.isQueued || this.hasServer;
},
enumerable: !0,
configurable: !0
}), e.__decorate([ o.observable ], t.prototype, "isMatchmaking", void 0), e.__decorate([ o.computed ], t.prototype, "isQueued", null), 
e.__decorate([ o.computed ], t.prototype, "hasServer", null), e.__decorate([ o.computed ], t.prototype, "isInJoinFlow", null), 
t;
}();
function l(e, n, r, o) {
i.isHostingGame(e) ? t.rimeTransitionState.isMatchmaking ? function u() {
return s.PopupManager.standardAlert(__("ID_SPARTA_RIME_NO_ACCESS_MATCHMAKING", !0));
}() : t.rimeTransitionState.isQueued ? function l() {
return s.PopupManager.standardAlert(__("ID_SPARTA_RIME_NO_ACCESS_QUEUED", !0));
}() : t.rimeTransitionState.hasServer ? console.warn("RIME screen requested while joining a server, ignored") : n() : a.showNotInHostingGame(r, o);
}
t.rimeTransitionState = new u(), r.matchmakingManager.onStart(o.action(function() {
t.rimeTransitionState.isMatchmaking = !0;
})), r.matchmakingManager.onFinished(o.action(function() {
t.rimeTransitionState.isMatchmaking = !1;
})), t.requiresHostingGame = function c(e, t, n, r) {
i.isHostingGame(e) ? t() : a.showNotInHostingGame(n || "requiresHostingGame", r);
}, t.requiresRime = function p(e, t, n, r) {
l(e, t, n || "requiresRime", r);
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.showOptions = r.createTypedAction(), t.showCredits = r.createTypedAction(), t.showBattlepacks = r.createTypedAction(), 
t.showCampaign = r.createTypedAction(), t.showSquadJoin = r.createTypedAction(), 
t.joinGame = r.createTypedAction(), t.purchaseRSP = r.createTypedAction(), t.playTestRange = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(17), a = n(542), s = n(544), u = n(27), l = o.Template("BattleplanStyles"), c = function() {
function e() {}
var t;
return t = e, e.height = o.value(function() {
return o.Grid.getHeight(18);
}, "57daaf7b:27:20"), e.heightTall = o.value(function() {
return o.Grid.getHeight(40);
}, "57daaf7b:28:24"), e.width = o.value(function() {
return o.Grid.getWidth(5);
}, "57daaf7b:29:19"), e.rewardContainer = l.wrap(function() {
return o.style({
height: t.height,
width: t.width,
marginBottom: o.Grid.spacer()
}, "57daaf7b:31:29");
}), e.offerContainer = l.wrap(function() {
return o.style({
width: t.width,
height: t.heightTall,
marginTop: o.Grid.spacer(3),
marginBottom: o.Grid.spacer(4)
}, "57daaf7b:37:28");
}), e.contentContainer = o.wrap(function() {
return o.merge(i.CommonStyles.dock, o.style({
padding: o.Grid.spacer(2),
flexDirection: "row",
justifyContent: "flex-end",
alignItems: "center"
}, "57daaf7b:46:31"));
}), e.textContainer = l.wrap(function() {
return o.style({
flex: 1,
flexDirection: "column",
justifyContent: "flex-end",
alignItems: "center",
alignSelf: "flex-end"
}, "57daaf7b:56:27");
}), e.text = l.wrap(function() {
return o.style({
flex: 1,
textAlign: "center",
textAlignForRTL: "center",
alignSelf: "flex-end",
zOffset: 5
}, "57daaf7b:64:18");
}), e.amountText = l.wrap(function() {
return o.style({
position: "absolute",
top: o.Grid.spacer(2),
left: o.Grid.spacer(2),
zOffset: 5
}, "57daaf7b:72:24");
}), e.locked = l.wrap(function() {
return o.style({
opacity: .33
}, "57daaf7b:79:20");
}), e.imageBlur = l.wrap(function() {
return o.style({
textureAlign: [ .5, .5 ],
layer: !0,
layerBlur: .5,
layerGrayScale: 1,
layerBlurPass: 1
}, "57daaf7b:83:23");
}), e.imageReward = o.stylefunc(function() {
return o.merge(i.CommonStyles.dock, o.style({
textureMode: "contain",
textureAlign: [ .5, .4 ],
textureScale: [ .65, .65 ],
zOffset: 2
}, "57daaf7b:94:35"));
}, function(e) {
return o.dynamicStyle({
texture: e.texture || void 0
}, "57daaf7b:102:39");
}), e.imageRewardFill = o.stylefunc(function() {
return o.merge(i.CommonStyles.dock, o.style({
textureMode: "cover",
zOffset: 2
}, "57daaf7b:111:35"));
}, function(e) {
return o.dynamicStyle({
texture: e.texture || void 0
}, "57daaf7b:117:39");
}), e.imageOffer = o.stylefunc(function() {
return o.merge(i.CommonStyles.dock, o.style({
textureMode: "contain",
zOffset: 2,
width: t.width - o.Grid.spacer(4),
height: o.Grid.getHeight(20),
margin: o.Grid.spacer(2)
}, "57daaf7b:126:35"));
}, function(e) {
return o.dynamicStyle({
texture: e.texture || void 0
}, "57daaf7b:135:39");
}), e.focused = l.wrap(function() {
return o.style({
height: o.Grid.spacer(.5),
position: "absolute",
bottom: 0,
left: 0,
right: 0,
zOffset: 5,
backgroundColor: "#ffffff"
}, "57daaf7b:141:21");
}), e.premiumIcon = o.stylefunc(function() {
return o.style({
position: "absolute",
top: o.Grid.spacer(2),
right: o.Grid.spacer(2),
textureMode: "contain",
height: 21,
width: 21,
zOffset: 5
}, "57daaf7b:152:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture || void 0
}, "57daaf7b:162:39");
}), e.lock = o.wrap(function() {
return o.merge(t.locked, o.style({
position: "absolute",
top: o.Grid.spacer(2),
left: o.Grid.spacer(2),
textureMode: "contain",
height: 21,
width: 21,
texture: o.bbOfflineUrl("/sparta/assets/ui/icon-lock-white-1128e83b.png"),
zOffset: 5
}, "57daaf7b:170:43"));
}), e.offerTitle = l.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center",
alignSelf: "flex-start",
width: t.width - o.Grid.spacer(4),
zOffset: 5
}, "57daaf7b:184:24");
}), e.claimOfferText = o.wrap(function() {
return o.merge(t.offerTitle, o.style({
marginTop: o.Grid.spacer(),
color: "#ff9900"
}, "57daaf7b:194:47"));
}), e.claimText = l.wrap(function() {
return o.style({
position: "absolute",
top: o.Grid.spacer(2),
left: o.Grid.spacer(2),
zOffset: 5,
color: "#ff9900"
}, "57daaf7b:202:23");
}), e.claimSpinner = o.wrap(function() {
return o.merge(i.CommonStyles.dock, o.style({
height: t.height,
width: t.width,
alignItems: "center",
justifyContent: "center",
zOffset: 10,
backgroundColor: "#00000033"
}, "57daaf7b:212:31"));
}), e.hoverOverlay = o.wrap(function() {
return o.merge(i.CommonStyles.blendModeAdditive, o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
backgroundColor: "#00000000",
layer: !0,
layerGrabBackground: !0
}, "57daaf7b:226:44"));
}), e = t = r.__decorate([ l.style ], e);
}();
t.BattleplanRewardStyles = c;
var p = function() {
function e() {}
var t;
return t = e, e.progressBarSize = o.value(function() {
return o.Constants.TextSize.M;
}, "57daaf7b:243:29"), e.progressBarContainer = l.wrap(function() {
return o.style({
height: o.Grid.getHeight(6),
marginTop: o.Grid.spacer(2),
alignItems: "center"
}, "57daaf7b:245:34");
}), e.progressBar = l.wrap(function() {
return o.style({
width: c.width,
height: o.Grid.spacer(),
marginBottom: o.Grid.spacer()
}, "57daaf7b:251:25");
}), e.progressBarBg = l.wrap(function() {
return o.style({
backgroundColor: "#ffffff55"
}, "57daaf7b:257:27");
}), e.lockContainer = l.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(),
flexDirection: "row",
alignItems: "center",
height: o.Grid.getHeight(2)
}, "57daaf7b:261:27");
}), e.labelContainer = l.wrap(function() {
return o.style({
width: c.width,
marginBottom: o.Grid.spacer(),
flexDirection: "row",
alignItems: "center",
justifyContent: "flex-end",
height: o.Grid.getHeight(2)
}, "57daaf7b:268:28");
}), e.labelContainerFirst = o.wrap(function() {
return o.merge(t.labelContainer, o.style({
justifyContent: "space-between"
}, "57daaf7b:279:50"));
}), e.estimatedContainer = l.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2),
flexDirection: "row",
alignItems: "center",
justifyContent: "flex-end",
height: o.Grid.getHeight(2),
width: c.width
}, "57daaf7b:286:32");
}), e.lock = l.wrap(function() {
return o.style({
textureMode: "contain",
marginRight: o.Grid.spacer(),
width: 21,
height: 21,
texture: o.bbOfflineUrl("/sparta/assets/ui/icon-lock-white-1128e83b.png")
}, "57daaf7b:295:18");
}), e.container = l.wrap(function() {
return o.style({
marginLeft: o.Grid.spacer()
}, "57daaf7b:303:23");
}), e = t = r.__decorate([ l.style ], e);
}();
t.BattleplanStageStyles = p;
var d = function() {
function e() {}
var t;
return t = e, e.countdown = l.wrap(function() {
return o.style({
position: "absolute",
top: s.TemplateStyles.dangerZone.top + s.TemplateStyles.passepartout.top + s.TemplateStyles.emptySpace.top + s.TemplateStyles.headerHeight,
height: o.Grid.spacer(5),
marginTop: -o.Grid.spacer(7),
right: s.TemplateStyles.dangerZone.right + s.TemplateStyles.passepartout.right,
alignItems: "flex-end",
justifyContent: "flex-end"
}, "57daaf7b:310:23");
}), e.content = l.wrap(function() {
return o.style({
marginBottom: o.Constants.isPC ? 0 : o.Grid.spacer(2.5),
marginRight: o.Constants.isPC ? -10 : 0
}, "57daaf7b:324:21");
}), e.subtitle = l.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(.5),
color: "#ffffff",
opacity: .33
}, "57daaf7b:329:22");
}), e.stages = l.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.spacer(3),
marginLeft: -o.Grid.spacer()
}, "57daaf7b:335:20");
}), e.separator = l.wrap(function() {
return o.style({
width: 8,
marginRight: o.Grid.getWidth(1) + o.Grid.spacer(),
marginLeft: o.Constants.isPC ? o.Grid.getWidth(1) : 4,
color: "#ffffff",
opacity: .33,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/vline-2e85d023.png")
}, "57daaf7b:341:23");
}), e.sideCol = l.wrap(function() {
return o.style({
marginRight: o.Constants.isPC ? 0 : o.Grid.getWidth(1),
marginBottom: -1
}, "57daaf7b:350:21");
}), e.sideColRight = o.wrap(function() {
return o.merge(t.sideCol, i.CommonStyles.alignItemsFlexEnd);
}), e = t = r.__decorate([ l.style ], e);
}();
t.BattleplanStyles = d;
var f = function() {
function e() {}
var t;
return t = e, e.logoSize = o.value(function() {
return 60;
}, "57daaf7b:360:22"), e.logoMarginY = o.value(function() {
return (i.HomeWidgetStyles.height - t.logoSize) / 2;
}, "57daaf7b:361:25"), e.container = l.wrap(function() {
return o.style({
width: i.HomeWidgetStyles.width,
height: i.HomeWidgetStyles.height,
flexDirection: "row",
alignItems: "center",
position: "absolute",
top: -o.Grid.spacer(3),
left: -o.Grid.spacer(3)
}, "57daaf7b:363:23");
}), e.logo = o.multistyle(function(e) {
return o.style({
margin: [ t.logoMarginY, o.Grid.spacer(e ? 2 : 1, !1), t.logoMarginY, o.Grid.spacer(e ? 1 : 2, !1) ],
width: t.logoSize,
height: t.logoSize,
textureMode: "contain",
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-battle-87bbeafa.png")
}, "57daaf7b:373:49");
}), e.textContainer = o.multistyle(function(e) {
return o.style({
flex: 1,
marginRight: e ? void 0 : (i.HomeWidgetStyles.height - t.logoSize) / 2,
marginLeft: e ? (i.HomeWidgetStyles.height - t.logoSize) / 2 : void 0
}, "57daaf7b:388:58");
}), e.progressText = l.wrap(function() {
return o.style({
opacity: .66
}, "57daaf7b:396:26");
}), e = t = r.__decorate([ l.style ], e);
}();
t.BattleplanWidgetStyles = f;
var m = function() {
function e() {}
return e.container = l.wrap(function() {
return o.style({
width: o.LayoutBounds.content.width,
flexDirection: "column",
alignItems: "center"
}, "57daaf7b:403:23");
}), e.header = l.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/engagement/battleplan/battleplan-summary-bfv-logo-ce0daac2.png"),
width: 518,
height: 90,
textureMode: "contain",
marginBottom: o.Grid.spacer(5)
}, "57daaf7b:409:20");
}), e.description = l.wrap(function() {
return o.style({
width: o.Grid.getWidth(16),
color: "#ffffff",
textAlign: "center",
textAlignForRTL: "center",
opacity: .66,
marginBottom: o.Grid.spacer(5),
textLineSpacing: o.Constants.isPC ? 30 : 36
}, "57daaf7b:417:25");
}), e.button = l.wrap(function() {
return o.style({
width: o.Grid.getWidth(8),
height: o.Grid.getHeight(8),
marginBottom: o.Grid.spacer(5)
}, "57daaf7b:427:20");
}), e.gridHeader = l.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(),
marginBottom: o.Grid.spacer(2)
}, "57daaf7b:433:24");
}), e.gridInfo = l.wrap(function() {
return o.style({
opacity: .66
}, "57daaf7b:438:22");
}), e.grid = o.multistyle(function(e) {
return o.style({
width: 3 * (c.width + o.Grid.spacer()),
justifyContent: e ? "flex-start" : "center",
flexDirection: "row",
flexWrap: "wrap"
}, "57daaf7b:442:55");
}), e.item = l.wrap(function() {
return o.style({
height: c.height,
width: c.width,
margin: o.Grid.spacer(.5)
}, "57daaf7b:451:18");
}), e.image = o.stylefunc(function() {
return o.style({
textureMode: "contain",
zOffset: 2,
width: o.Grid.getHeight(24),
height: o.Grid.getHeight(20),
margin: [ o.Grid.getHeight(2), 0, o.Grid.getHeight(2), 0 ]
}, "57daaf7b:458:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture || void 0
}, "57daaf7b:466:38");
}), e = r.__decorate([ l.style ], e);
}();
t.LootbagStyles = m;
var h = function() {
function e() {}
var t;
return t = e, e.container = l.wrap(function() {
return o.style({
justifyContent: "center",
alignItems: "center",
width: o.LayoutBounds.screen.width,
height: o.LayoutBounds.screen.height
}, "57daaf7b:475:23");
}), e.text = l.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2),
width: o.Grid.getWidth(20),
textAlign: "center",
textAlignForRTL: "center",
zOffset: 3
}, "57daaf7b:482:18");
}), e.button = l.wrap(function() {
return o.style({
width: o.Grid.getWidth(6),
marginTop: 2 * o.Grid.GUTTER,
zOffset: 3
}, "57daaf7b:490:20");
}), e.imageReward = o.stylefunc(function() {
return o.style({
textureMode: "contain",
zOffset: 3,
width: 768,
marginTop: o.Grid.getHeight(4),
marginBottom: o.Grid.getHeight(4)
}, "57daaf7b:497:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture || void 0,
height: e.large ? 398 : 256
}, "57daaf7b:505:54");
}), e.imageOffer = o.stylefunc(function() {
return o.style({
textureMode: "contain",
zOffset: 3,
width: o.Grid.getHeight(20, !1),
height: 280,
marginTop: o.Grid.getHeight(4),
marginBottom: o.Grid.getHeight(4)
}, "57daaf7b:513:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture || void 0
}, "57daaf7b:522:38");
}), e.claimTimeline = o.timeline(function() {
return [ o.trigger(400, "playSound"), o.tween(500, "background", "opacity", 0, 1, 2e3, u.Easing.CubicOut), o.tween(700, "sideFlare", "opacity", 0, 1, 700, u.Easing.CubicOut), o.tween(500, "movingFlare", "opacity", 0, 1, 200, u.Easing.CubicOut), o.tween(500, "movingFlare", "translateX", -2500, 4420, 1e3, u.Easing.CubicInOut, [ o.tween(-200, "movingFlare", "opacity", 1, 0, 200, u.Easing.CubicOut) ]), o.tween(500, "image", "translateY", 50, 0, 500, u.Easing.CubicOut), o.tween(500, "image", "opacity", 0, 1, 500, u.Easing.CubicOut, [ o.tween(0, "bottomFlare", "opacity", 0, 1, 300, u.Easing.CubicOut), o.tween(0, "name", "translateY", 25, 0, 500, u.Easing.CubicOut), o.tween(0, "name", "opacity", 0, 1, 500, u.Easing.CubicOut), o.tween(0, "title", "translateY", 25, 0, 500, u.Easing.CubicOut), o.tween(0, "title", "opacity", 0, 1, 500, u.Easing.CubicOut, [ o.trigger(400, "activateButton"), o.tween(300, "button", "opacity", 0, 1, 500, u.Easing.CubicOut) ]) ]) ];
}, "57daaf7b:528:27"), e.claimSound = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/layout/animations/reward_bp-bc6de377.wav");
}, "57daaf7b:553:24"), e.backgroundTexture = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/layout/animations/bp_lights-157cd91d.jpg");
}, "57daaf7b:555:31"), e.movingFlareTexture = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/layout/animations/player_flare-22159d30.jpg");
}, "57daaf7b:556:32"), e.sideFlareTexture = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/layout/animations/flare-side-orange-bp-de741959.jpg");
}, "57daaf7b:557:30"), e.background = l.wrap(function() {
return o.style({
texture: t.backgroundTexture,
textureMode: "contain",
blendMode: "screen",
position: "absolute",
top: -300,
bottom: 0,
left: 0,
right: -300,
zOffset: 1
}, "57daaf7b:561:24");
}), e.movingFlare = l.wrap(function() {
return o.style({
texture: t.movingFlareTexture,
textureMode: "contain",
blendMode: "screen",
position: "absolute",
width: 2500,
height: 473,
left: -2500,
top: 303,
zOffset: 2
}, "57daaf7b:573:25");
}), e.sideFlare = l.wrap(function() {
return o.style({
texture: t.sideFlareTexture,
textureMode: "cover",
blendMode: "screen",
position: "absolute",
width: 2447,
height: 922,
left: -665,
top: 79,
zOffset: 2
}, "57daaf7b:585:23");
}), e = t = r.__decorate([ l.style ], e);
}();
t.BattleplanPopupStyles = h;
var g = function() {
function e() {}
var t;
return t = e, e.backgroundColor = o.value(function() {
return "#00000032";
}, "57daaf7b:600:29"), e.content = o.wrap(function() {
return o.merge(a.BaseBoxStyles.content, o.style({
backgroundColor: t.backgroundColor
}, "57daaf7b:604:35"));
}), e = t = r.__decorate([ l.style ], e);
}();
t.BattleplanDimmedBaseBoxStyles = g;
var y = function() {
function e() {}
var t;
return t = e, e.maxWidth = o.value(function() {
return o.Grid.getWidth(7);
}, "57daaf7b:614:22"), e.checkboxPaddedWidth = o.value(function() {
return 16 + o.Grid.spacer(2);
}, "57daaf7b:615:33"), e.container = o.multistyle(function(e) {
return o.style({
marginTop: o.Grid.spacer(1.5),
alignItems: e ? "flex-end" : "flex-start",
minWidth: o.Grid.getWidth(5),
maxWidth: t.maxWidth
}, "57daaf7b:617:54");
}), e.checkbox = o.multistyle(function(e) {
return o.style({
marginRight: e ? void 0 : o.Grid.spacer(2),
marginLeft: e ? o.Grid.spacer(2) : void 0
}, "57daaf7b:626:53");
}), e.title = l.wrap(function() {
return o.style({
maxWidth: t.maxWidth - t.checkboxPaddedWidth
}, "57daaf7b:633:19");
}), e.subtitle = o.multistyle(function(e) {
return o.style({
marginTop: o.Grid.spacer(.5),
marginLeft: e ? void 0 : t.checkboxPaddedWidth,
marginRight: e ? t.checkboxPaddedWidth : void 0,
color: "#ffffff",
opacity: .33
}, "57daaf7b:637:53");
}), e = t = r.__decorate([ l.style ], e);
}();
t.DailyTaskStyles = y;
}, function(e, t, n) {
var r = n(145);
e.exports = function(e, t, n) {
if (r(e), void 0 === t) return e;
switch (n) {
case 1:
return function(n) {
return e.call(t, n);
};

case 2:
return function(n, r) {
return e.call(t, n, r);
};

case 3:
return function(n, r, o) {
return e.call(t, n, r, o);
};
}
return function() {
return e.apply(t, arguments);
};
};
}, function(e, t, n) {
var r = n(48);
e.exports = function(e, t) {
if (!r(e)) return e;
var n, o;
if (t && "function" == typeof (n = e.toString) && !r(o = n.call(e))) return o;
if ("function" == typeof (n = e.valueOf) && !r(o = n.call(e))) return o;
if (!t && "function" == typeof (n = e.toString) && !r(o = n.call(e))) return o;
throw TypeError("Can't convert object to primitive value");
};
}, function(e, t) {
e.exports = function(e, t) {
return {
enumerable: !(1 & e),
configurable: !(2 & e),
writable: !(4 & e),
value: t
};
};
}, function(e, t, n) {
var r = n(465), o = n(342);
e.exports = Object.keys || function e(t) {
return r(t, o);
};
}, function(e, t) {
e.exports = function(e) {
if (void 0 == e) throw TypeError("Can't call method on  " + e);
return e;
};
}, function(e, t, n) {
var r = n(99), o = n(115), i = n(340)("IE_PROTO"), a = Object.prototype;
e.exports = Object.getPrototypeOf || function(e) {
return e = o(e), r(e, i) ? e[i] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? a : null;
};
}, function(e, t, n) {
var r = n(186)("meta"), o = n(48), i = n(99), a = n(70).f, s = 0, u = Object.isExtensible || function() {
return !0;
}, l = !n(44)(function() {
return u(Object.preventExtensions({}));
}), c = function(e) {
a(e, r, {
value: {
i: "O" + ++s,
w: {}
}
});
}, p = e.exports = {
KEY: r,
NEED: !1,
fastKey: function(e, t) {
if (!o(e)) return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
if (!i(e, r)) {
if (!u(e)) return "F";
if (!t) return "E";
c(e);
}
return e[r].i;
},
getWeak: function(e, t) {
if (!i(e, r)) {
if (!u(e)) return !0;
if (!t) return !1;
c(e);
}
return e[r].w;
},
onFreeze: function(e) {
return l && p.NEED && u(e) && !i(e, r) && c(e), e;
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(4), s = 0;
t.createContext = function u(e, t) {
var n = "" + s++;
function u(e) {
var t;
return (t = {})["contextValue_" + n] = e, t;
}
var l = u(i.any);
function c(r) {
var o = r["contextValue_" + n];
if (void 0 === o) {
if (void 0 === t) throw new Error(e + ": value not found in context");
return t;
}
return o;
}
return {
Provider: function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return r.__extends(n, t), n.prototype.getChildContext = function() {
return u(this.props.value);
}, n.prototype.render = function() {
return this.props.children;
}, n.displayName = e + "Provider", n.childContextTypes = l, n;
}(o.Component),
Consumer: function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return r.__extends(n, t), n.prototype.render = function() {
return this.props.children(c(this.context));
}, n.displayName = e + "Consumer", n.contextTypes = l, n = r.__decorate([ a.observer ], n);
}(o.Component),
contextTypes: l,
getFromComponent: function p(t) {
if (!t.context) throw new Error(e + ": No context found in " + (t.displayName || t.name));
return c(t.context);
},
getFromContext: c,
getContextObject: u
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(9);
function o(e) {
return "0" === e ? null : e;
}
var i = function() {
function e(e) {
void 0 === e && (e = {}), e.sceNpId && (this.sceNpId = "" + e.sceNpId), e.xUid && "0" !== e.xUid && (this.xUid = "" + e.xUid), 
e.nucleusId && "0" !== e.nucleusId && (this.nucleusId = "" + e.nucleusId), e.personaId && "0" !== e.personaId && (this.personaId = "" + e.personaId), 
e.personaName && (this.personaName = "" + e.personaName);
}
return e.update = function(t, n) {
return void 0 === t && (t = {}), void 0 === n && (n = {}), new e({
sceNpId: n.sceNpId || t.sceNpId,
xUid: o(n.xUid) || t.xUid,
nucleusId: o(n.nucleusId) || t.nucleusId,
personaId: o(n.personaId) || t.personaId,
personaName: n.personaName || t.personaName
});
}, e.prototype.getPlatformId = function() {
return e.getPlatformId(this);
}, e.getPlatformId = function(e) {
return r.SpartaGlobals.bundleIsPS4 && e.sceNpId ? e.sceNpId : r.SpartaGlobals.bundleIsXBOXONE && e.xUid ? o(e.xUid) : r.SpartaGlobals.bundleIsPC && e.nucleusId ? o(e.nucleusId) : void 0;
}, e.fromPlatformId = function(t) {
if (r.SpartaGlobals.bundleIsPS4) return new e({
sceNpId: t
});
if (r.SpartaGlobals.bundleIsXBOXONE) return new e({
xUid: t
});
if (r.SpartaGlobals.bundleIsPC) return new e({
nucleusId: t
});
throw Error("Unknown platform");
}, e.prototype.equals = function(e) {
return e ? !(!this.sceNpId || !e.sceNpId || this.sceNpId !== e.sceNpId) || (!(!this.xUid || !e.xUid || this.xUid !== e.xUid) || (!(!this.nucleusId || !e.nucleusId || this.nucleusId !== e.nucleusId) || (!(!this.personaId || !e.personaId || this.personaId !== e.personaId) || !(!this.personaName || !e.personaName || this.personaName !== e.personaName)))) : this.isNull();
}, e.prototype.isNull = function() {
var e = this.getPlatformId();
return !e || "0" === e;
}, e;
}();
t.SpartaUserId = i;
}, function(e, t, n) {
"use strict";
var r, o, i;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.none = 0] = "none", e[e.modeChanged = 1] = "modeChanged", e[e.disconnected = 2] = "disconnected", 
e[e.backendDisconnected = 3] = "backendDisconnected", e[e.connecting = 4] = "connecting", 
e[e.connectFailed = 5] = "connectFailed", e[e.connectionReady = 6] = "connectionReady", 
e[e.onlineFlowDone = 7] = "onlineFlowDone", e[e.telemetryTokenReceived = 8] = "telemetryTokenReceived", 
e[e.firstPartyConnected = 9] = "firstPartyConnected", e[e.firstPartyDisconnected = 10] = "firstPartyDisconnected", 
e[e.pingValueResolved = 11] = "pingValueResolved", e[e.connectionMessage = 12] = "connectionMessage", 
e[e.qualityOfServiceDone = 13] = "qualityOfServiceDone", e[e.loginAccountFailed = 14] = "loginAccountFailed";
}(r = t.ConnectionEventType || (t.ConnectionEventType = {})), function(e) {
e[e.none = 0] = "none", e[e.success = 1] = "success", e[e.authCodeFailed = 2] = "authCodeFailed", 
e[e.connectionFailed = 3] = "connectionFailed", e[e.duplicateLogin = 4] = "duplicateLogin", 
e[e.failure = 5] = "failure", e[e.invalidUser = 6] = "invalidUser", e[e.loginCancelled = 7] = "loginCancelled", 
e[e.missingOnlineAccess = 8] = "missingOnlineAccess", e[e.needUserInteraction = 9] = "needUserInteraction", 
e[e.networkDisconnect = 10] = "networkDisconnect", e[e.networkError = 11] = "networkError", 
e[e.noMultiplayerPrivilege = 12] = "noMultiplayerPrivilege", e[e.originOffline = 13] = "originOffline", 
e[e.originStartupFailed = 14] = "originStartupFailed", e[e.requiredUpdateExists = 15] = "requiredUpdateExists", 
e[e.serverConfiguration = 16] = "serverConfiguration", e[e.serverDisconnect = 17] = "serverDisconnect", 
e[e.serverNotFound = 18] = "serverNotFound", e[e.systemError = 19] = "systemError", 
e[e.timeout = 20] = "timeout", e[e.tooYoung = 21] = "tooYoung", e[e.tooYoungForContent = 22] = "tooYoungForContent", 
e[e.userLost = 23] = "userLost", e[e.originMandatoryUpdate = 24] = "originMandatoryUpdate", 
e[e.noService = 25] = "noService", e[e.originNotLoggedIn = 26] = "originNotLoggedIn", 
e[e.psuLimitExceeded = 27] = "psuLimitExceeded", e[e.accountBanned = 28] = "accountBanned", 
e[e.gameClientVersionMissmatch = 29] = "gameClientVersionMissmatch";
}(o = t.ConnectionResultType || (t.ConnectionResultType = {})), function(e) {
e[e.none = 0] = "none", e[e.offline = 1] = "offline", e[e.silentOnline = 2] = "silentOnline", 
e[e.online = 3] = "online";
}(i = t.PresenceModeType || (t.PresenceModeType = {}));
var a = function() {
function e(e) {
var t = void 0 === e ? {} : e, n = t.customMessage, a = void 0 === n ? "" : n, s = t.eventType, u = void 0 === s ? r.none : s, l = t.mode, c = void 0 === l ? i.none : l, p = t.resultType, d = void 0 === p ? o.none : p, f = t.isQoSReady, m = void 0 !== f && f;
this.customMessage = a, this.eventType = u, this.resultType = d, this.mode = c, 
this.isQoSReady = m;
}
return e.prototype.toString = function() {
return [ [ "customMessage", this.customMessage ], [ "event", r[this.eventType] ], [ "result", o[this.resultType] ], [ "mode", i[this.mode] ] ].filter(function(e) {
return null != e[1] && "" !== e[1];
}).map(function(e) {
return e[0] + "=" + e[1];
}).join(", ");
}, e;
}();
t.PresenceStatusMessage = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.ARABIC = "ar-sa", e.CHINESE_SIMPLIFIED = "zh-cn", e.CHINESE_TRADITIONAL = "zh-tw", 
e.CZECH = "cs-cz", e.ENGLISH = "en-us", e.FRENCH = "fr-fr", e.GERMAN = "de-de", 
e.ITALIAN = "it-it", e.JAPANESE = "ja-jp", e.KOREAN = "ko-kr", e.POLISH = "pl-pl", 
e.PORTUGUESE_BRAZIL = "pt-br", e.RUSSIAN = "ru-ru", e.SPANISH = "es-es", e.SPANISH_MEXICO = "es-mx", 
e.TURKISH = "tr-tr";
}(t.Locales || (t.Locales = {}));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(59);
t.frostbiteListenable = function o(e) {
return {
listen: function(t) {
return r.frostbite.registerMessageListener(e, function(e, n) {
t(n);
});
}
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0);
!function(e) {
e.Bool = "bool", e.Scale = "scale", e.Int = "int";
}(t.FilterOptionType || (t.FilterOptionType = {}));
var o = function() {
return function e() {};
}();
t.FilterOptionsCategory = o;
var i = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.options = t, n;
}
return r.__extends(t, e), t;
}(o);
t.BoolFilterOptionsCategory = i;
var a = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.options = t, n;
}
return r.__extends(t, e), t;
}(o);
t.ScalesFilterOptionsCategory = a;
var s = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.options = t, n;
}
return r.__extends(t, e), t;
}(o);
t.IntFilterOptionsCategory = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.purchasePsPlus = r.createTypedAction(), t.updateRSPTemplate = r.createTypedAction(), 
t.getShortcutKitsByLicense = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(151);
t.createStore = function o(e) {
var t = new r.Store();
for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
return t.init && t.init.apply(t), t;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(529);
!function(e) {
e.RSP = "rsp", e.BATTLEPACKS = "battlepacks", e.GAME = "game", e.DELUXE = "deluxe", 
e.PREMIUM = "premium", e.XPACKS = "xpacks", e.SHORTCUTS = "shortcuts", e.PREORDER = "pre-order", 
e.BETA = "beta", e.CTE = "cte", e.ACCESS = "access", e.PROMOTIONS = "promotions", 
e.CURRENCY = "currency";
}(t.OfferGroup || (t.OfferGroup = {}));
var a = function() {
function e(e, t) {
this.thriftOffer = e, this.gameId = t;
}
return Object.defineProperty(e.prototype, "id", {
get: function() {
return this.thriftOffer.ownership.id;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "offerId", {
get: function() {
return this.thriftOffer.offerId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "productId", {
get: function() {
return this.thriftOffer.productId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "displayName", {
get: function() {
return this.thriftOffer.displayName;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "state", {
get: function() {
return this.thriftOffer.state.name.toLowerCase();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "rawData", {
get: function() {
return this.thriftOffer.data;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "data", {
get: function() {
if (!this.thriftOffer.data) return {};
var e = this.thriftOffer.data.split(":"), t = e[0], n = e[1];
return t && n ? n.split(",").reduce(function(e, t) {
var n = t.split("="), r = n[0], o = n[1];
return r && o ? e[r.toLowerCase()] = o : e.type = r.toLowerCase(), e;
}, {}) : {};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "pinData", {
get: function() {
return this.thriftOffer.pinData;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "images", {
get: function() {
return this.thriftOffer.images.reduce(function(e, t) {
return e[t.type] = t.url, e;
}, {});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "shortDesc", {
get: function() {
return this.thriftOffer.description.shortDesc;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "longDesc", {
get: function() {
var e = this.thriftOffer.description.longDesc;
return e ? i.stripHTML(e) : "";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "backgroundUrl", {
get: function() {
return this.images.card || this.images.offer || this.images.boxart;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "owned", {
get: function() {
return this.thriftOffer.ownership.owned;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "ownershipId", {
get: function() {
return this.thriftOffer.ownership.id;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "licenses", {
get: function() {
return this.thriftOffer.meta.licenses ? this.thriftOffer.meta.licenses.split(",") : [];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "meta", {
get: function() {
return this.thriftOffer.meta;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "type", {
get: function() {
return this.thriftOffer.ownership.type.name.toLowerCase();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "group", {
get: function() {
return this.thriftOffer.ownership.group;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isRepurchaseable", {
get: function() {
return "bundle" === this.type || "consumable" === this.type;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "price", {
get: function() {
return this.thriftOffer.price;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "listPrice", {
get: function() {
return this.thriftOffer.listPrice;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "rebatePrice", {
get: function() {
return this.thriftOffer.rebatePrice;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isDiscounted", {
get: function() {
return !!this.listPrice && this.price !== this.listPrice;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.computed ], e.prototype, "data", null), r.__decorate([ o.computed ], e.prototype, "images", null), 
r.__decorate([ o.computed ], e.prototype, "longDesc", null), e;
}();
t.Offer = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(91);
t.createJoinOptions = function o(e, t, n, i, a) {
var s = i || {}, u = e.get(), l = u.party;
if (l && u.canGroupJoin && !a) if (u.isInSquadJoin) {
if (null == l.id) throw new Error("Attempting to squad join without a party id!");
s.squad = {
size: u.squadSize,
expansionMask: l.expansionMask,
id: l.id
};
} else s.party = u.getJoiningPartyOptions();
return new r.JoinMultiplayerServerOptions(t, n, s);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(1151), a = n(1152), s = n(1153), u = n(416), l = n(566), c = n(1159), p = n(1160), d = n(1161), f = n(313), m = n(374), h = n(37), g = n(7), y = n(4), S = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = g.SpartaContext.getFromComponent(t), t.cardSizer = function(e, n) {
return void 0 === e && (e = !1), t.props.cardSizer ? t.props.cardSizer(e, n) : t.sparta.twinkle.buildInfo.isPC ? e ? h.CardSize.SSM : 0 === n ? h.CardSize.SSL : h.CardSize.SSM : e ? h.CardSize.M : 0 === n ? h.CardSize.L : h.CardSize.M;
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this, t = this.sparta.stores, n = t.onlineState, r = t.entitlementStore;
this.reaction(function() {
return {
isOnline: n.isOnlineBlazeAndGateway,
entitlementsAreLoaded: r.hasLoaded,
gameId: e.props.game,
category: e.props.category
};
}, function(t) {
var n = t.isOnline, r = t.entitlementsAreLoaded, o = t.gameId, i = t.category;
n && r && e.sparta.stores.recommendationStore.fetch(o, i);
}, {
fireImmediately: !0
});
}, t.prototype.getRecommendations = function() {
return this.sparta.stores.recommendationStore.get(this.props.game, this.props.category, this.props.addFeedRecommendations);
}, t.prototype.getRandomArbitrary = function(e, t) {
return Math.random() * (t - e) + e;
}, Object.defineProperty(t.prototype, "cards", {
get: function() {
var e = this.getRecommendations();
if (!e) return null;
if (0 === e.length) return [];
for (var t = [], n = [], r = 0, i = 0, a = e; i < a.length; i++) {
var s = a[i];
if (-1 === n.indexOf(s.contentHash)) {
var u = this.getCardComponent(s);
if (u) {
s.positionIndex = r++;
var l = s.contentHash;
t.push(o.createElement(u, {
key: l,
id: l,
recommendation: s,
size: this.cardSizer(s.onlySmallCard, s.positionIndex)
})), n.push(l);
} else console.warn("Recommendation has no card implementation", s);
}
}
return t;
},
enumerable: !0,
configurable: !0
}), t.prototype.getCardComponent = function(e) {
if (m.isRouteRecommendation(e)) return d.RouteRecommendationCard;
if (m.isFilterRecommendation(e)) return i.FilterRecommendationCard;
if (m.isArticleRecommendation(e)) return s.ArticleRecommendationCard;
if (m.isVideoRecommendation(e)) return u.VideoRecommendationCard;
if (m.isSinglePlayerRecommendation(e)) return a.SinglePlayerRecommendationCard;
if (m.isServerRecommendation(e)) return e.platoon ? f.PlatoonServerRecommendationCard : l.ServerRecommendationCard;
if (m.isFriendsRecommendation(e)) return c.PlayingFriendsRecommendationCard;
if (m.isPartyRecommendation(e)) return p.PlayingPartyRecommendationCard;
var t = this.sparta.stores.gameStore.getGame(e.game);
return t && this.sparta.stores.nativePropertiesStore.getHostingGameId() === e.game ? t.recommendations[e.recommendationType] : void 0;
}, t.prototype.render = function() {
return this.props.children ? this.props.children(this.cards) : this.cards;
}, t.contextTypes = g.SpartaContext.contextTypes, t = r.__decorate([ y.observer ], t);
}(o.Component);
t.RecommendationRenderer = S;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(265), a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.shouldComponentUpdate = function(e) {
return this.props.recommendation.imageSlots !== e.recommendation.imageSlots;
}, t.prototype.render = function() {
var e = this.props.recommendation.imageSlots;
if (!e) return null;
var t = [];
return e.topLeft && t.push(o.createElement("surface", {
key: "tl",
style: i.ImageSlotsStyles.topLeft({
texture: e.topLeft
})
})), e.topRight && t.push(o.createElement("surface", {
key: "tr",
style: i.ImageSlotsStyles.topRight({
texture: e.topRight
})
})), o.createElement("surface", {
style: i.ImageSlotsStyles.container
}, t);
}, t;
}(o.Component);
t.ImageSlots = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(7), s = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = a.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "area", {
get: function() {
return this.context.isPopup ? this.sparta.stores.ps4StoreIconStore.popup : this.sparta.stores.ps4StoreIconStore.content;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentDidMount = function() {
this.sparta.twinkle.buildInfo.isPS4 && this.area.add();
}, t.prototype.componentWillUnmount = function() {
this.sparta.twinkle.buildInfo.isPS4 && this.area.remove();
}, t.prototype.render = function() {
return this.props.children || null;
}, t.contextTypes = r.__assign({}, a.SpartaContext.contextTypes, {
isPopup: i.bool
}), t;
}(o.Component);
t.PS4StoreContent = s;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(64), i = n(26), a = n(12), s = n(11), u = n(32), l = n(29), c = n(144), p = n(39), d = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e = this, t = [];
return "InGame" === this.state.context.source && this.props.onBackClick && t.push(new a.Input({
label: __("ID_SPARTA_ACTION_BACK"),
action: function() {
return e.props.onBackClick();
},
key: s.Keys.Decline,
visible: !0
})), t;
}, n.prototype.render = function() {
return this.props.loading ? r.createElement(p.EmptyState, {
centerVertically: !0
}, r.createElement(l.Spinner, {
large: !0
})) : "InGame" === this.state.context.source ? r.createElement("surface", null, this.props.children) : r.createElement(u.Template, {
tallContent: !0
}, this.props.children);
}, n = e.__decorate([ i.input, o.subscribeToStores({
context: c.WwceSupportStore
}) ], n);
}(r.Component);
t.WwceSupportTemplate = d;
}).call(this, n(2));
}, function(e, t) {
var n;
n = function() {
return this;
}();
try {
n = n || Function("return this")() || (0, eval)("this");
} catch (e) {
"object" == typeof window && (n = window);
}
e.exports = n;
}, function(e, t) {
var n = 0, r = Math.random();
e.exports = function(e) {
return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + r).toString(36));
};
}, function(e, t) {
var n = {}.toString;
e.exports = function(e) {
return n.call(e).slice(8, -1);
};
}, function(e, t, n) {
var r = n(146), o = Math.max, i = Math.min;
e.exports = function(e, t) {
return (e = r(e)) < 0 ? o(e + t, 0) : i(e, t);
};
}, function(e, t) {
e.exports = {};
}, function(e, t, n) {
var r = n(465), o = n(342).concat("length", "prototype");
t.f = Object.getOwnPropertyNames || function e(t) {
return r(t, o);
};
}, function(e, t, n) {
"use strict";
var r = n(242), o = {};
o[n(63)("toStringTag")] = "z", o + "" != "[object z]" && n(106)(Object.prototype, "toString", function e() {
return "[object " + r(this) + "]";
}, !0);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(172), i = n(249), a = n(899), s = n(100), u = function() {
function e(e) {
void 0 === e && (e = {}), this.friendState = void 0 !== e.friendState ? a.parseFriendState(e.friendState) : void 0, 
this.spartaUserId = new o.SpartaUserId(e.spartaUserId), this.avatarUrl = e.avatarUrl, 
this.name = e.name || "", this.displayName = e.name || "", e.presence instanceof i.UserPresence && e.presence.userId ? this.presence = e.presence : this.presence = new i.UserPresence(r.__assign({}, e.presence, {
userId: this.id || void 0
}));
}
return Object.defineProperty(e.prototype, "id", {
get: function() {
return this.spartaUserId.getPlatformId();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "personaId", {
get: function() {
return this.spartaUserId.personaId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isFriend", {
get: function() {
return void 0 !== this.friendState;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPlaying", {
get: function() {
return this.presence.state === s.UserPresenceStates.Playing || this.presence.state === s.UserPresenceStates.Joinable;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isJoinable", {
get: function() {
return !!this.presence.server;
},
enumerable: !0,
configurable: !0
}), e.prototype.extend = function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
return new e([ this ].concat(t).reduce(function(e, t) {
return Object.keys(t).forEach(function(n) {
var r = t[n];
void 0 !== r && "" !== r && (e[n] = r);
}), e;
}, {}));
}, e.prototype.updateFrom = function(t) {
var n = this, o = {}, i = !1;
return Object.keys(t).forEach(function(e) {
"spartaUserId" !== e && "presence" !== e && n.hasOwnProperty(e) && t[e] !== n[e] && (o[e] = t[e], 
i = !0);
}), t.spartaUserId && (t.spartaUserId.personaId && this.spartaUserId.personaId !== t.spartaUserId.personaId || t.spartaUserId.personaName && this.spartaUserId.personaName !== t.spartaUserId.personaName) && (o.spartaUserId = t.spartaUserId, 
i = !0), t.presence && (this.presence.equals(t.presence) || (o.presence = t.presence, 
i = !0)), i ? new e(r.__assign({
friendState: this.friendState,
spartaUserId: this.spartaUserId,
avatarUrl: this.avatarUrl,
displayName: this.displayName,
name: this.name,
presence: this.presence
}, o)) : this;
}, e;
}();
t.User = u;
}, function(e, t, n) {
"use strict";
var r, o;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.Error = "error", e.GameEnd = "game_end", e.GameStart = "game_start", e.Login = "login", 
e.Logout = "logout", e.Message = "message", e.MultiplayerJoin = "mp_match_join", 
e.PageView = "page_view", e.SessionStart = "boot_start", e.Transaction = "transaction", 
e.SpartaStart = "game_start", e.SpartaEnd = "game_end", e.Group = "group", e.Friends = "friends", 
e.Challenge = "challenge", e.SocialMessage = "soc_message", e.Registration = "registration", 
e.Milestone = "milestone", e.Survey = "survey";
}(t.PinEvents || (t.PinEvents = {})), function(e) {
e[e.Platform = 1] = "Platform", e[e.Game = 2] = "Game", e[e.Language = 3] = "Language", 
e[e.Section = 4] = "Section", e[e.Environment = 5] = "Environment", e[e.BuildNumber = 6] = "BuildNumber", 
e[e.UserSegments = 7] = "UserSegments", e[e.Platoons = 8] = "Platoons", e[e.PlatoonMember = 9] = "PlatoonMember", 
e[e.LocationChangeCause = 10] = "LocationChangeCause", e[e.PremiumUser = 11] = "PremiumUser", 
e[e.ABTestingBucket = 12] = "ABTestingBucket", e[e.CompletedAssignments = 13] = "CompletedAssignments";
}(r = t.Dimensions || (t.Dimensions = {})), function(e) {
e[e.RecommendationClick = 1] = "RecommendationClick", e[e.PlatoonCreated = 2] = "PlatoonCreated", 
e[e.PlatoonJoined = 3] = "PlatoonJoined", e[e.PlatoonFirstJoin = 4] = "PlatoonFirstJoin", 
e[e.PlatoonPlay = 5] = "PlatoonPlay", e[e.PlatoonFirstPlay = 6] = "PlatoonFirstPlay";
}(o = t.Metrics || (t.Metrics = {})), t.MetricsLookup = function i(e) {
return o[e];
}, t.DimensionsLookup = function a(e) {
return r[e];
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.handleStartScreenClosed = r.createTypedAction(), t.changeGameViewContentVisibility = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110), o = n(9), i = n(40).getBuildInfo().isCTE();
t.platoonsFeatureFlags = r.featureFlags.register({
platoons: new r.UGCRestrictedFeatureFlag({
name: "platoons_" + (i ? "cte_" : "") + o.SpartaGlobals.bundlePlatform.toLowerCase()
})
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(3);
t.QueueStatus = {
None: "None",
Joined: "Joined",
Queued: "Queued",
Failed: "Failed",
Canceled: "Canceled"
};
var o = function() {
function n(e) {
void 0 === e && (e = {}), this.gameId = e.gameId, this.blazeGameId = e.blazeGameId, 
this.status = e.status || t.QueueStatus.None, this.position = e.position ? e.position : -1;
}
return n.prototype.getPrettyStatus = function(e) {
return this.status !== t.QueueStatus.Queued ? "" : -1 === this.position ? __("ID_SPARTA_ONLINE_QUEUE_RESERVING_SLOT") : 0 === this.position && this.status === t.QueueStatus.Queued ? __("ID_SPARTA_ONLINE_QUEUED") : this.position && this.position > 0 && this.status === t.QueueStatus.Queued ? e ? __("ID_SPARTA_ONLINE_QUEUE_POSITION_PREMIUM").replace(/\[\[position]]/, "" + this.position) : __("ID_SPARTA_ONLINE_QUEUE_POSITION").replace(/\[\[position]]/, "" + this.position) : (console.warn("QueueInfo - Impossible to find a queue message, we should never enter this else"), 
"");
}, Object.defineProperty(n.prototype, "isPending", {
get: function() {
return this.status === t.QueueStatus.Queued;
},
enumerable: !0,
configurable: !0
}), n.prototype.updateQueue = function(e) {
if (!this.blazeGameId || this.blazeGameId === e.gameId) {
this.blazeGameId = e.gameId;
var t = e.queueStatus;
t && (t.position && (this.position = t.position), t.status && (this.status = t.status.value));
}
}, n.prototype.resetQueue = function(e) {
this.position = -1, this.gameId = e, this.blazeGameId = void 0, this.status = t.QueueStatus.None;
}, e.__decorate([ r.observable ], n.prototype, "gameId", void 0), e.__decorate([ r.observable ], n.prototype, "blazeGameId", void 0), 
e.__decorate([ r.observable ], n.prototype, "status", void 0), e.__decorate([ r.observable ], n.prototype, "position", void 0), 
e.__decorate([ r.computed ], n.prototype, "isPending", null), e.__decorate([ r.action ], n.prototype, "updateQueue", null), 
e.__decorate([ r.action ], n.prototype, "resetQueue", null), n;
}();
t.QueueInfo = o;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(9);
t.JoinResultType = {
none: 0,
unknownError: 1,
success: 2,
timeOut: 3,
gameNotFound: 4,
gameFull: 5,
gameNotJoinable: 6,
invalidGameState: 7,
wrongVersion: 8,
noServerFound: 9,
playerNotFound: 10,
failedReputationCheck: 11,
banned: 12,
roleFull: 13,
roleNotAllowed: 14,
roleCriteriaFailed: 15,
indirectJoinFail: 16,
queued: 17,
rankCriteriaFailed: 18,
noMultiplayerPrivilege: 19,
alreadyInSession: 20,
inviteExpired: 21,
tooYoung: 22,
streamInstallInProgress: 23,
reservationAlreadyExists: 24,
noReservationFound: 25,
notPartyLeader: 26
}, t.JoinEventType = {
none: 0,
joined: 1,
joinFailed: 2,
queued: 3,
disconnected: 4,
gameAttributeUpdated: 5,
playerClaimingReservation: 6,
otherPlayerJoined: 7,
otherPlayerLeft: 8
};
t.JoinResultType.noServerFound, t.JoinResultType.gameFull, t.JoinResultType.roleFull, 
t.JoinResultType.alreadyInSession, t.JoinResultType.invalidGameState, t.JoinResultType.playerNotFound, 
t.JoinResultType.banned, t.JoinResultType.rankCriteriaFailed, t.JoinResultType.wrongVersion, 
t.JoinResultType.roleFull, t.JoinResultType.reservationAlreadyExists, t.JoinResultType.roleNotAllowed, 
t.JoinResultType.roleFull, t.JoinResultType.roleCriteriaFailed, t.JoinResultType.failedReputationCheck;
var o = function(t) {
function n(e, r, o) {
var i = t.call(this, e) || this;
return i.debugMessage = e, i.alertOptions = r, i.customHandler = o, Object.setPrototypeOf(i, n.prototype), 
i;
}
return e.__extends(n, t), n;
}(Error);
function i(e) {
var n = "";
switch (e) {
case t.JoinResultType.success:
return;

case t.JoinResultType.gameFull:
n = __("ID_SPARTA_ONLINE_JOIN_SERVER_FULL");
break;

case t.JoinResultType.timeOut:
n = __("ID_SPARTA_ONLINE_JOIN_TIMEOUT");
break;

case t.JoinResultType.gameNotFound:
n = __("ID_SPARTA_ONLINE_JOIN_GAME_NOT_FOUND");
break;

case t.JoinResultType.gameNotJoinable:
n = __("ID_SPARTA_ONLINE_JOIN_UNABLE_TO_JOIN");
break;

case t.JoinResultType.invalidGameState:
n = __("ID_SPARTA_ONLINE_JOIN_INVALID_GAME_STATE");
break;

case t.JoinResultType.wrongVersion:
n = __("ID_SPARTA_ONLINE_DISCONNECT_WRONG_TITLEVERSION"), n += " " + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case t.JoinResultType.noServerFound:
n = __("ID_SPARTA_ONLINE_JOIN_SERVER_NOT_FOUND");
break;

case t.JoinResultType.playerNotFound:
n = __("ID_SPARTA_ONLINE_JOIN_PLAYER_NOT_FOUND");
break;

case t.JoinResultType.failedReputationCheck:
n = __("ID_SPARTA_ONLINE_JOIN_FAILED_REPUTATION_CHECK");
break;

case t.JoinResultType.banned:
n = r.SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_ONLINE_JOIN_BANNED_XB1") : r.SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_ONLINE_JOIN_BANNED_PS4") : __("ID_SPARTA_ONLINE_JOIN_BANNED_PC");
break;

case t.JoinResultType.roleFull:
n = __("ID_SPARTA_ONLINE_JOIN_ROLE_FULL");
break;

case t.JoinResultType.roleNotAllowed:
n = __("ID_SPARTA_ONLINE_JOIN_ROLE_NOT_ALLOWED");
break;

case t.JoinResultType.roleCriteriaFailed:
n = __("ID_SPARTA_ONLINE_JOIN_ROLE_CRITERIA_FAILED");
break;

case t.JoinResultType.indirectJoinFail:
n = __("ID_SPARTA_ONLINE_JOIN_INDIRECT_JOIN_FAILED");
break;

case t.JoinResultType.rankCriteriaFailed:
n = __("ID_SPARTA_ONLINE_JOIN_RANK_CRITERIA_FAILED");
break;

case t.JoinResultType.noMultiplayerPrivilege:
n = __("ID_SPARTA_ONLINE_JOIN_NO_MULTIPLAYER_PRIVILEGE");
break;

case t.JoinResultType.alreadyInSession:
n = __("ID_SPARTA_ONLINE_JOIN_ALREADY_IN_SESSION");
break;

case t.JoinResultType.inviteExpired:
n = __("ID_SPARTA_ONLINE_JOIN_INVITATION_EXPIRED");
break;

case t.JoinResultType.tooYoung:
n = __("ID_SPARTA_ONLINE_JOIN_TOO_YOUNG");
break;

case t.JoinResultType.streamInstallInProgress:
n = __("ID_SPARTA_ONLINE_JOIN_STREAM_INSTALL_IN_PROGRESS");
break;

case t.JoinResultType.notPartyLeader:
n = r.SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_ONLINE_JOIN_NOT_PARTY_LEADER_XB1") : r.SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_ONLINE_JOIN_NOT_PARTY_LEADER_PS4") : __("ID_SPARTA_ONLINE_JOIN_NOT_PARTY_LEADER_PC");
break;

case t.JoinResultType.reservationAlreadyExists:
n = __("ID_SPARTA_ONLINE_JOIN_RESERVATION_ALREADY_EXISTS");
break;

case t.JoinResultType.noReservationFound:
n = __("ID_SPARTA_ONLINE_JOIN_NO_RESERVATION_FOUND");
break;

case t.JoinResultType.unknownError:
default:
n = __("ID_SPARTA_ONLINE_JOIN_UNKNOWN_ERROR").replace("[[errorCode]]", e.toString());
}
return n;
}
t.JoinMultiplayerError = o, t.getHumanReadableMessage = i;
var a = function() {
function e(e) {
void 0 === e && (e = {}), this.gameId = e.gameId, this.blazeGameId = e.blazeGameId, 
this.customMessage = e.customMessage, this.resultType = e.resultType || t.JoinResultType.none, 
this.eventType = e.eventType || t.JoinEventType.none;
}
return e.prototype.toHumanReadable = function() {
return this.customMessage ? this.customMessage : i(this.resultType);
}, e.prototype.getTitle = function() {
return __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE_UPPERCASE");
}, e;
}();
t.JoinMultiplayerServerResult = a;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(949), o = n(41), i = n(11), a = n(18), s = n(10), u = n(12), l = n(47);
function c(t, n, r) {
var l = s.gameStore.getGame(t), c = l && l.showMissingExpansionsPopupOverride;
if (c) return new Promise(function(o) {
e.info("Custom showMissingExpansionsPopupOverride called."), c(t, n, r) && e.info("Custom missing expansion Popup rendered."), 
o();
});
var p = "";
n.length && (p = __("ID_SPARTA_ONLINE_JOIN_MISSING_EXPANSION_MESSAGE") + "\n\n" + n.map(function(e) {
return "- " + (e.prettyName || e.name);
}).join("\n")), r.length && (n.length && (p += "\n\n"), p = p + __("ID_SPARTA_ONLINE_JOIN_EXPANSION_NOT_INSTALLED") + "\n\n" + r.map(function(e) {
return "- " + (e.prettyName || e.name);
}).join("\n"));
var d = {
title: __("ID_SPARTA_ONLINE_JOIN_MISSING_EXPANSION_TITLE"),
details: p,
image: l && l.expansionAssets && l.expansionAssets.image,
label: __("ID_SPARTA_ACTION_GET_EXPANSIONS")
};
return o.alertWithImageAndOption(d.details, d.title, d.image || "", new u.Input({
action: function() {
a.gotoLocation(l ? l.storeConfig.route + "?tab=expansions" : "");
},
key: i.Keys.Option2,
label: d.label
}));
}
function p(e, t) {
var n = function o(e, t) {
return t.filter(function(t) {
return "DEFAULT" !== t.name && !s.entitlementStore.hasExpansionAccess(e, t.name);
});
}(e, t), i = function a(e, t) {
var n = r.installedExpansions.getMask(e);
return n ? t.filter(function(e) {
return !(e.mask & n);
}) : [];
}(e, t).filter(function(e) {
return !n.some(function(t) {
return t.license === e.license;
});
});
return [ n, i ];
}
t.showMissingExpansionsPopup = c, t.showNoPremiumAccessPopup = function d(e, t) {
var n = __("ID_SPARTA_ONLINE_JOIN_MISSING_PREMIUM_MESSAGE"), r = t.map(function(e) {
return "- " + e.prettyName;
}), o = s.gameStore.getGame(e);
l.PopupManager.standardAlertWithOption(n + "\n\n" + r.join("\n"), __("ID_SPARTA_ONLINE_JOIN_MISSING_PREMIUM_TITLE"), {
useConfirmInput: !0,
customInput: new u.Input({
action: function() {
a.gotoLocation(o ? o.storeConfig.route + "?tab=premium" : "");
},
key: i.Keys.Option2,
label: __("ID_SPARTA_ACTION_GET_PREMIUM_ACCESS")
})
});
}, t.validateExpansionAccess = function f(e, t, n) {
var o = s.gameStore.getGame(e);
if (o && o.validateExpansionAccessOverride) return o.validateExpansionAccessOverride(t, n);
if ("DEFAULT" === t.name) return !0;
var i = r.installedExpansions.getMask(e), a = s.entitlementStore.hasExpansionAccess(e, t.name);
return i ? a && !!(t.mask & i) : a;
}, t.getMissingExpansions = p, t.validateContentAccessToServerWithPopup = function m(e, t) {
var n = p(e, t), r = n[0], o = n[1];
return !r.length && !o.length || (c(e, r, o), !1);
};
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.Popup = "POPUP", e.FirstTime = "FIRST_TIME";
}(r = t.TakeoverType || (t.TakeoverType = {}));
var o = function() {
function e(e, t, n, o, i, a, s, u, l, c, p) {
this.id = e, this.title = t, this.backgroundUrl = n, this.cta = o, this.telemetryId = i, 
this.description = a, this.subtitle = s, this.ctaText = u, this.headline = l, this.legal = c, 
this.videoUrl = p, this.takeoverType = r.Popup;
}
return e.fromBackend = function(t) {
return new e(t.id, t.title, t.backgroundUrl, t.cta, t.telemetryId || t.id, t.description, t.subtitle, t.ctaText, t.headline, t.legal, t.videoUrl);
}, e.isType = function(e) {
return !!e && e.takeoverType === r.Popup;
}, e;
}();
t.Takeover = o;
var i = function() {
function e(e) {
this.component = e, this.takeoverType = r.FirstTime;
}
return e.isType = function(e) {
return !!e && e.takeoverType === r.FirstTime;
}, e;
}();
t.FirstTimeTakeover = i;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(393), o = n(27), i = e.get("StorageClient"), a = function() {
function e() {}
return e.prototype.get = function(e, t) {
r.getItem(e, function(e, n, r) {
var a;
if (r !== o.GetItemResult.OK && r !== o.GetItemResult.KEY_NOT_FOUND && i.warn("Error " + r + " loading key " + e), 
n) try {
a = JSON.parse(n);
} catch (t) {
i.warn("Error parsing JSON from kvstorage:", e, n, t);
}
t(a);
});
}, e.prototype.load = function(e, t) {
r.getItem(e, function(e, n, a) {
if (a !== o.GetItemResult.KEY_NOT_FOUND) {
if (a !== o.GetItemResult.OK) return i.warn("Error " + a + " loading key " + e), 
void (t && t(null));
if (r.removeItem(e, function(e, t) {
t < 0 && i.warn("Got error  " + t + " removing key " + e + ".");
}), n) {
var s = null;
try {
s = JSON.parse(n);
} catch (t) {
i.warn("Error parsing JSON from kvstorage:", e, n, t);
}
t && t(s);
}
} else t && t(null);
});
}, e.prototype.save = function(e, t) {
if (null != t) if (e) {
var n = JSON.stringify(t);
r.storeItem(e, n, function(e, t) {
t < 0 ? i.warn("Got error " + t + " saving key " + e) : i.info("Key " + e + " got properly stored with serialized data " + n);
});
} else i.error("Key parameter is missing"); else i.error("data is null/undefined");
}, e;
}();
t.StorageClient = a;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
});
var o, i = n(1), a = n(100), s = n(5), u = n(17);
!function(e) {
e.Joinable = "Joinable", e.Playing = "Playing", e.Online = "Online", e.Away = "Away", 
e.Offline = "Offline", e.Default = "Default";
}(o || (o = {}));
var l = ((r = {})[a.UserPresenceStates.Joinable] = o.Joinable, r[a.UserPresenceStates.Playing] = o.Playing, 
r[a.UserPresenceStates.Online] = o.Online, r[a.UserPresenceStates.Away] = o.Away, 
r[a.UserPresenceStates.Offline] = o.Offline, r[a.UserPresenceStates.None] = o.Default, 
r);
t.Avatar = function(e) {
var t = e.user, n = e.size, r = e.showPresence, o = e.style, a = "auto" === n ? void 0 : n || u.AvatarStyles.defaultSize, c = r && t.presence ? t.presence.state : void 0, p = s.merge2(u.AvatarStyles.container({
texture: function d(e) {
return e.avatarUrl || e.avatar || u.AvatarStyles.defaultAvatar;
}(t),
size: a,
showPresence: "number" == typeof c
}), o || s.emptyStyle);
return i.createElement("surface", {
style: p
}, "number" == typeof c && i.createElement("surface", {
style: u.AvatarStyles.presence(l[c])
}));
}, t.Avatar.displayName = "Avatar";
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110), o = n(9);
t.commerceFeatureFlags = r.featureFlags.register({
subscriberAccess: new r.GameFeatureFlag({
name: "Access_" + o.SpartaGlobals.bundlePlatform.toLowerCase()
}),
subscriberAccessPDP: new r.GameFeatureFlag({
name: "AccessPDP_" + o.SpartaGlobals.bundlePlatform.toLowerCase()
}),
premierCTA: new r.GameFeatureFlag({}),
disableSubscribeAndSell: new r.GameFeatureFlag({})
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(156);
!function(e) {
e[e.DISBAND_PLATOON = 0] = "DISBAND_PLATOON", e[e.EDIT_EMBLEM = 1] = "EDIT_EMBLEM", 
e[e.EDIT_TAG = 2] = "EDIT_TAG", e[e.EDIT_NAME = 3] = "EDIT_NAME", e[e.EDIT_DESCRIPTION = 4] = "EDIT_DESCRIPTION", 
e[e.EDIT_ACCESS_TYPE = 5] = "EDIT_ACCESS_TYPE", e[e.MANAGE_APPLICATIONS = 6] = "MANAGE_APPLICATIONS", 
e[e.ACCEPT_APPLICATION = 7] = "ACCEPT_APPLICATION", e[e.REJECT_APPLICATION = 8] = "REJECT_APPLICATION", 
e[e.KICK_MEMBER = 9] = "KICK_MEMBER", e[e.LINK_RENTED_SERVER = 10] = "LINK_RENTED_SERVER", 
e[e.PROMOTE_MEMBER = 11] = "PROMOTE_MEMBER", e[e.DEMOTE_MEMBER = 12] = "DEMOTE_MEMBER", 
e[e.CHANGE_ROLE = 13] = "CHANGE_ROLE", e[e.MANAGE_MEMBER = 14] = "MANAGE_MEMBER", 
e[e.ACCESS_MANAGE = 15] = "ACCESS_MANAGE", e[e.MANAGE_INFO = 16] = "MANAGE_INFO";
}(e = t.Permission || (t.Permission = {}));
var o = {};
function i(e, t, n) {
var r = !1;
if (Array.isArray(t)) r = t.every(function(t) {
return !0 === i(e, t, n);
}); else {
var a = o[t];
!function s(e) {
return "function" == typeof e;
}(a) ? Array.isArray(a) && e && (r = -1 !== a.indexOf(e)) : r = !!e && a(e, n);
}
return r;
}
o[e.DISBAND_PLATOON] = [ r.MemberRole.GENERAL ], o[e.EDIT_TAG] = [ r.MemberRole.GENERAL ], 
o[e.EDIT_NAME] = [ r.MemberRole.GENERAL ], o[e.EDIT_ACCESS_TYPE] = [ r.MemberRole.GENERAL ], 
o[e.EDIT_DESCRIPTION] = [ r.MemberRole.GENERAL, r.MemberRole.COLONEL ], o[e.EDIT_EMBLEM] = [ r.MemberRole.GENERAL, r.MemberRole.COLONEL ], 
o[e.LINK_RENTED_SERVER] = [ r.MemberRole.GENERAL, r.MemberRole.COLONEL, r.MemberRole.LIEUTENANT ], 
o[e.ACCEPT_APPLICATION] = function(e) {
return e >= r.MemberRole.LIEUTENANT;
}, o[e.REJECT_APPLICATION] = function(e) {
return e >= r.MemberRole.LIEUTENANT;
}, o[e.PROMOTE_MEMBER] = function(e, t) {
return "number" == typeof t && (e > t || e === r.MemberRole.GENERAL);
}, o[e.DEMOTE_MEMBER] = function(e, t) {
return "number" == typeof t && e > t;
}, o[e.CHANGE_ROLE] = function(t, n) {
return i(t, e.PROMOTE_MEMBER, n) || i(t, e.DEMOTE_MEMBER, n);
}, o[e.KICK_MEMBER] = function(e, t) {
return "number" == typeof t && e > t;
}, o[e.MANAGE_MEMBER] = function(t, n) {
return i(t, e.KICK_MEMBER, n) || i(t, e.CHANGE_ROLE, n);
}, o[e.ACCESS_MANAGE] = function(t) {
return i(t, e.MANAGE_INFO) || i(t, e.EDIT_EMBLEM) || i(t, e.DISBAND_PLATOON);
}, o[e.MANAGE_INFO] = function(t) {
return i(t, e.EDIT_ACCESS_TYPE) || i(t, e.EDIT_DESCRIPTION) || i(t, e.EDIT_TAG) || i(t, e.EDIT_NAME);
}, o[e.MANAGE_APPLICATIONS] = function(t) {
return i(t, e.ACCEPT_APPLICATION) || i(t, e.REJECT_APPLICATION);
}, t.hasPermission = i, t.permissionsDisplayOrder = [ e.KICK_MEMBER, e.PROMOTE_MEMBER, e.DEMOTE_MEMBER, e.LINK_RENTED_SERVER, e.EDIT_EMBLEM, e.EDIT_DESCRIPTION, e.EDIT_NAME, e.EDIT_TAG, e.EDIT_ACCESS_TYPE, e.DISBAND_PLATOON ], 
t.permissionToLocalized = function a(t) {
switch (t) {
case e.DISBAND_PLATOON:
return __("ID_SHARED_PLATOONS_PERMISSION_DISBAND");

case e.EDIT_EMBLEM:
return __("ID_SHARED_PLATOONS_PERMISSION_EDIT_EMBLEM");

case e.EDIT_TAG:
return __("ID_SHARED_PLATOONS_PERMISSION_EDIT_TAG");

case e.EDIT_NAME:
return __("ID_SHARED_PLATOONS_PERMISSION_EDIT_NAME");

case e.EDIT_DESCRIPTION:
return __("ID_SHARED_PLATOONS_PERMISSION_EDIT_DESCRIPTION");

case e.EDIT_ACCESS_TYPE:
return __("ID_SHARED_PLATOONS_PERMISSION_EDIT_ACCESS_TYPE");

case e.MANAGE_APPLICATIONS:
return __("ID_SHARED_PLATOONS_PERMISSION_MANAGE_APPLICATIONS");

case e.KICK_MEMBER:
return __("ID_SHARED_PLATOONS_PERMISSION_KICK");

case e.LINK_RENTED_SERVER:
return __("ID_SHARED_PLATOONS_PERMISSION_LINK_RSP");

case e.PROMOTE_MEMBER:
return __("ID_SHARED_PLATOONS_PERMISSION_PROMOTE");

case e.DEMOTE_MEMBER:
return __("ID_SHARED_PLATOONS_PERMISSION_DEMOTE");

default:
return "";
}
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(68), u = n(262), l = n(15), c = n(5), p = n(9), d = n(42), f = n(22);
var m = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return null;
}, t;
}(o.Component);
t.ItemScrollerItem = m;
var h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.keepVisible = !1, t.isVisibleCache = !1, t.opacityTween = l.Animation.componentTween(t, "80649936:131:50", 0, l.Animation.presets.list.scroll), 
t.topTween = l.Animation.componentTween(t, "80649936:132:46", 0), t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return {
isVisible: e.isVisible,
keepVisible: e.keepVisible
};
}, function(t) {
!1 === t.isVisible && !0 === e.isVisibleCache && p.SpartaGlobals.bundleIsConsole ? (e.keepScrollbarVisible(), 
e.opacityTween.to(1)) : e.opacityTween.to(t.isVisible || t.keepVisible ? 1 : 0), 
e.isVisibleCache = t.isVisible;
}), this.reaction(function() {
return e.props.getCurrentTop() / e.props.scrollHeight * e.props.height;
}, function(t) {
e.topTween.set(t);
});
}, t.prototype.componentWillUnmount = function() {
clearTimeout(this.keepVisibleTimeout);
}, t.prototype.keepScrollbarVisible = function() {
var e = this;
this.keepVisible = !0, clearTimeout(this.keepVisibleTimeout), this.keepVisibleTimeout = setTimeout(i.action(function() {
e.keepVisible = !1;
}), 1e3);
}, Object.defineProperty(t.prototype, "isVisible", {
get: function() {
var e = this.props, t = e.height, n = e.scrollHeight, r = (0, e.getCurrentWidth)();
return !(t >= n || 0 === r) && (this.props.focusGroup.hasFocusedMember || this.props.isHovered());
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = this.props, t = e.height, n = e.left, r = e.scrollHeight, i = (0, e.getCurrentWidth)(), a = t / r * t, s = c.merge3(c.DynamicStyle.wrapLegacyStyle({
position: "absolute",
width: 2,
height: Math.max(10, a),
backgroundColor: "#ffffffa6",
left: i + n
}, "80649936:198:30"), this.topTween.getStyleClass("top"), this.opacityTween.getStyleClass("opacity"));
return o.createElement("surface", {
style: s
});
}, r.__decorate([ i.observable ], t.prototype, "keepVisible", void 0), r.__decorate([ i.action ], t.prototype, "keepScrollbarVisible", null), 
r.__decorate([ i.computed ], t.prototype, "isVisible", null), t = r.__decorate([ a.observer ], t);
}(o.Component);
t.Scrollbar = h;
var g = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
for (var e, t = Array.isArray(this.props.children) ? this.props.children : [], n = [], r = 0, i = -1, a = 0; a < t.length; a++) {
var s = t[a];
if (s && !Array.isArray(s) && "object" == typeof s) {
var u = s.props;
u.initialFocus && (i = a), n.push({
top: r,
height: u.height,
debugName: u.debugName,
isFocusable: (e = u, !!e.hasOwnProperty("isFocusable") && u.isFocusable),
render: u.children
}), r += u.height;
}
}
return o.createElement(y, {
items: n,
focusGroup: this.props.focusGroup,
scrollHeight: r,
softClip: this.props.softClip,
scrollToIndex: i,
debugName: this.props.debugName,
onScroll: this.props.onScroll,
height: this.props.height
});
}, t;
}(o.Component);
t.ItemScroller = g;
var y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.visibleAreaTop = 0, t.visibleAreaWidth = 0, t.isHovered = !1, t.groupNavigation = function(e, n) {
var r = t.getNextFocusIndex(e, n);
if (-1 === r) return n === d.Direction.Up && t.setVisibleAreaTop(0), {
result: d.NavigationResultType.STOP
};
var o = t.visibleAreaTop, i = o + t.props.height, a = t.props.items[r], s = a.top + a.height;
a.top < o ? t.setVisibleAreaTop(a.top) : s > i && t.setVisibleAreaTop(s - t.props.height);
var u = t.focusGroup.members[r];
return u ? {
result: d.NavigationResultType.HIT,
toItem: u
} : {
result: d.NavigationResultType.STOP
};
}, t.onBounds = function(e) {
return t.setVisibleAreaWidth(e.width);
}, t.onMouseEnter = i.action(function() {
return t.isHovered = !0;
}), t.onMouseLeave = i.action(function() {
return t.isHovered = !1;
}), t.getIsHovered = function() {
return t.isHovered;
}, t.getVisibleAreaWidth = function() {
return t.visibleAreaWidth;
}, t.getVisibleAreaTop = function() {
return t.visibleAreaTop;
}, t.onMouseScroll = function(e) {
t.props.scrollHeight > t.props.height && t.setVisibleAreaTop(t.visibleAreaTop + -100 * e.scroll);
}, t;
}
return r.__extends(t, e), t.prototype.setVisibleAreaTop = function(e) {
var t = this.props.scrollHeight - this.props.height;
this.visibleAreaTop = Math.max(0, Math.min(t, e)), this.props.onScroll && this.props.onScroll({
top: 0 === this.visibleAreaTop,
bottom: this.visibleAreaTop === t
});
}, t.prototype.setVisibleAreaWidth = function(e) {
this.visibleAreaWidth = e;
}, t.prototype.getNextFocusIndex = function(e, t) {
for (var n = this.focusGroup.members.indexOf(e), r = t === d.Direction.Down ? 0 : 1, o = this.focusGroup.members.length - (t === d.Direction.Down ? 2 : 1); n >= r && n <= o; ) if (n += t === d.Direction.Down ? 1 : -1, 
this.focusGroup.members[n]) return n;
return -1;
}, t.prototype.componentWillMount = function() {
var e = this;
this.focusGroup = this.props.focusGroup || f.focusSystem.createComponentGroup(this, this.props.debugName), 
this.focusGroup.handleDirection(d.Direction.Down, this.groupNavigation), this.focusGroup.handleDirection(d.Direction.Up, this.groupNavigation), 
this.focusGroup.navigateToGroup = function() {
for (var t = e.visibleAreaTop, n = t + e.props.height, r = 0; r < e.props.items.length; r++) {
var o = e.props.items[r], i = o.top + o.height;
if (o.top > t && o.top < n || i > t && i < n) return {
result: d.NavigationResultType.HIT,
toItem: e.focusGroup.members[r]
};
}
return {
result: d.NavigationResultType.FALLTHROUGH
};
}, this.scrollToIndexItem();
}, t.prototype.componentDidMount = function() {
if (this.props.scrollToIndex >= 0 && this.focusGroup) {
var e = this.focusGroup.members[this.props.scrollToIndex];
e && e.setFocused(d.FocusSource.Auto, !0);
}
}, t.prototype.componentWillReceiveProps = function() {
this.props.scrollToIndex >= 0 ? this.scrollToIndexItem() : this.setVisibleAreaTop(0);
}, t.prototype.scrollToIndexItem = function() {
this.props.scrollToIndex >= 0 && this.focusGroup && this.setVisibleAreaTop(this.props.items[this.props.scrollToIndex].top);
}, t.prototype.renderItem = function(e, t) {
return e.isFocusable ? o.createElement(s.Focusable, {
id: e.debugName,
key: t,
group: this.focusGroup,
groupIndex: t
}, e.render) : e.render("item" + t);
}, t.prototype.render = function() {
for (var e = this.props.items, t = [], n = this.visibleAreaTop, r = n + this.props.height, i = -1, a = void 0, s = 0; s < e.length; s++) {
var u = e[s];
if (u.top + u.height >= n && u.top <= r) {
if (!a) if (i > -1) {
for (var l = i; l < s; l++) t.push(this.renderItem(e[l], l));
a = e[i];
} else a = u;
t.push(this.renderItem(u, s));
} else if (u.top >= r && (t.push(this.renderItem(u, s)), u.isFocusable)) break;
u.isFocusable && (i = s);
}
var c = a ? a.top - n : 0, p = {
height: this.props.height,
layer: !0,
layerClip: !0
};
if (this.props.softClip) {
var d = this.props.softClip.slice();
0 === this.visibleAreaTop && (d[0] = 0), this.visibleAreaTop >= this.props.scrollHeight - this.props.height && (d[2] = 0), 
p.layerSoftClip = d;
}
return o.createElement("surface", null, o.createElement("surface", {
style: p,
onMouseScroll: this.onMouseScroll,
onBounds: this.onBounds,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave
}, o.createElement("surface", {
style: {
top: c
}
}, t)), o.createElement(h, {
focusGroup: this.focusGroup,
left: 4,
height: this.props.height,
scrollHeight: this.props.scrollHeight,
isHovered: this.getIsHovered,
getCurrentWidth: this.getVisibleAreaWidth,
getCurrentTop: this.getVisibleAreaTop
}));
}, r.__decorate([ i.observable ], t.prototype, "visibleAreaTop", void 0), r.__decorate([ i.observable ], t.prototype, "visibleAreaWidth", void 0), 
r.__decorate([ i.observable ], t.prototype, "isHovered", void 0), r.__decorate([ i.action ], t.prototype, "setVisibleAreaTop", null), 
r.__decorate([ i.action ], t.prototype, "setVisibleAreaWidth", null), t = r.__decorate([ a.observer ], t);
}(o.Component);
t.ItemScrollerInternal = y;
var S = function(e, t) {
return o.createElement(m, {
debugName: e,
key: e,
isNonFocusable: !0,
height: 1
}, function() {
return o.createElement(u.Divider, {
key: e,
spacing: t
});
});
};
t.withDividers = function(e, t, n, r) {
if (void 0 === e && (e = []), void 0 === t && (t = !0), void 0 === n && (n = !0), 
void 0 === r && (r = void 0), 0 === e.length) return [];
var o = [];
t && o.push(S("divider:top", r));
var i = e.length;
return e.forEach(function(e, t) {
o.push(e), (t + 1 < i || n) && o.push(S("divider:" + (e.props.debugName || t), r));
}), o;
};
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o, i = n(0), a = n(3), s = n(232), u = n(321), l = n(31), c = n(10), p = n(49), d = n(43), f = n(119), m = n(53), h = n(56), g = n(51), y = n(206), S = n(74), v = n(92), _ = n(430), b = n(24), T = n(121), E = n(120), C = n(47), I = n(59), A = e.get("TunguskaOperationFlowState");
!function(e) {
e[e.none = 0] = "none", e[e.globe = 1] = "globe", e[e.matchmaking = 2] = "matchmaking", 
e[e.queued = 3] = "queued", e[e.joined = 4] = "joined", e[e.playing = 5] = "playing", 
e[e.eor = 6] = "eor", e[e.error = 7] = "error";
}(r = t.OperationState || (t.OperationState = {})), function(e) {
e[e.success = 0] = "success", e[e.failure = 1] = "failure", e[e.timeout = 2] = "timeout", 
e[e.canceled = 3] = "canceled";
}(o || (o = {}));
var w = function() {
function e() {
this.state = r.none, this.byPassGlobe = !1, this.index = -1, this.debug = !1;
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && A.log.apply(A, [ e ].concat(t));
}, e.prototype.setGlobeByPassing = function(e) {
this.log("setGlobeByPassing to", e), this.byPassGlobe = e;
}, e.prototype.enter = function(e, t, n) {
var o = this;
void 0 === n && (n = null), this.state !== r.globe && (this.log("enter", this.state), 
this.state = r.none, this.index = -1, n ? (n(), this.enterGlobe()) : t.get().checkGameState().then(function() {
e.flyToClouds(function() {
e.fadeOutFromWhite(200, function() {
c.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
e.setToSpace(), u.globeState.set("Disable", !0);
});
}), o.enterGlobe(), I.frostbite.sendMessage("game.enterOperations");
}, s.CloudTransitionSound.planet);
}).catch(function(e) {
t.get().handleChecksError(e);
}));
}, e.prototype.enterGlobe = function() {
this.log("enterGlobe", this.state), this.state = r.globe;
}, e.prototype.buildFilterForOperationIndex = function(e, t) {
var n, r = e.find(function(e) {
return "operationindex" === e.name;
}), o = r && r.values && r.values.length > 0 ? parseInt(r.values[0], 10) : -1, i = ((n = {})[t.toString()] = v.FilterValue.ON, 
n);
return this.index = o, -1 === o ? (A.warn("sparta.startMatchmaking event triggered with no valid operationIndex.Falling back to any operation"), 
this.buildFilterForAnyOperation()) : Promise.resolve({
operationIndex: o,
gameSizes: i
});
}, e.prototype.buildFilterForAnyOperation = function() {
return this.index = -1, new Promise(function(e, t) {
var n = {
game: l.tunguskaGameId,
gameModeKeys: [ "BT", "BTL" ],
hasFreemium: c.freemiumStore.canJoinWithFreemium
};
b.request("Quickmatch.getExperienceIDs", n).then(function(t) {
var n = {};
t.forEach(function(e) {
n[e] = v.FilterValue.ON;
}), e({
gameModes: {
Breakthrough: "on",
BreakthroughLarge: "on"
},
experiences: n
});
}).catch(function(e) {
t(e);
});
});
}, e.prototype.setMatchmaking = function() {
this.log("startMatchmaking", this.state), this.state = r.matchmaking;
}, e.prototype.startMatchmaking = function(e) {
this.setMatchmaking(), (e.settings.length > 0 ? this.buildFilterForOperationIndex(e.settings, e.gameSize) : this.buildFilterForAnyOperation()).then(function(e) {
c.matchmakingManager.start(l.tunguskaGameId, new v.GameFilter(Object.assign({}, _.QuickmatchData.baseFilter, e)));
});
}, e.prototype.failMatchmaking = function(e) {
this.log("failMatchmaking", this.state);
var t = "JoinFailed" === e.blazeStatus ? o.failure : o.timeout;
I.frostbite.sendMessage("sparta.matchmakingResult", {
gameId: l.tunguskaGameId,
result: t
});
}, e.prototype.cancelMatchmaking = function(e) {
var t = this;
void 0 === e && (e = !1), e ? I.frostbite.sendMessage("sparta.matchmakingResult", {
gameId: l.tunguskaGameId,
result: o.canceled
}) : c.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
t.enterGlobe(), I.frostbite.sendMessage("sparta.matchmakingResult", {
gameId: l.tunguskaGameId,
result: o.canceled
});
});
}, e.prototype.startPlaying = function() {
this.log("startPlaying", this.state), this.state = r.playing;
}, e.prototype.queued = function() {
this.log("queued", this.state), this.state = r.queued;
}, e.prototype.join = function() {
this.log("join", this.state), this.state = r.joined;
}, e.prototype.endRound = function() {
this.log("endRound", this.state), this.state === r.playing && (this.state = r.eor);
}, e.prototype.error = function() {
this.log("error", this.state), this.state !== r.none && (this.state = r.error);
}, e.prototype.clear = function() {
this.log("clear"), this.state = r.none, this.index = -1, u.globeState.set("Sparta"), 
this.setGlobeByPassing(!1);
}, Object.defineProperty(e.prototype, "isMatchmakingToAny", {
get: function() {
return this.state === r.matchmaking && -1 === this.index;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hideMatchmakingDetails", {
get: function() {
return this.state !== r.none && !this.isMatchmakingToAny;
},
enumerable: !0,
configurable: !0
}), e.prototype.handleMatchmakingError = function(e, n, r) {
c.presenceStateStore.isReady ? r.error instanceof E.MatchmakingError && C.PopupManager.standardAlert(r.error.description, r.error.title, function() {
c.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
t.operationFlow.enter(e, n, function() {
t.operationFlow.failMatchmaking(r);
});
});
}) : (t.operationFlow.failMatchmaking(r), c.layoutVisibilityStore.setVisibilities({
all: !0
}, function() {
t.operationFlow.clear(), e.landOnEarth(), r.error instanceof E.MatchmakingError && C.PopupManager.standardAlert(r.error.description, r.error.title);
}));
}, e.prototype.handleMatchmakingCancelled = function(e, n) {
var r = !(!n.cancelOptions || !n.cancelOptions.joinNewSession);
t.operationFlow.cancelMatchmaking(r), r ? (e.setToEarth(), t.operationFlow.clear(), 
m.hide(), m.route(S.GameViewRoute.NONE)) : e.setToSpace();
}, i.__decorate([ a.observable ], e.prototype, "state", void 0), i.__decorate([ a.observable ], e.prototype, "byPassGlobe", void 0), 
i.__decorate([ a.observable ], e.prototype, "index", void 0), i.__decorate([ a.action ], e.prototype, "setGlobeByPassing", null), 
i.__decorate([ a.action ], e.prototype, "enter", null), i.__decorate([ a.action ], e.prototype, "enterGlobe", null), 
i.__decorate([ a.action ], e.prototype, "buildFilterForOperationIndex", null), i.__decorate([ a.action ], e.prototype, "buildFilterForAnyOperation", null), 
i.__decorate([ a.action ], e.prototype, "setMatchmaking", null), i.__decorate([ a.action ], e.prototype, "failMatchmaking", null), 
i.__decorate([ a.action ], e.prototype, "startPlaying", null), i.__decorate([ a.action ], e.prototype, "queued", null), 
i.__decorate([ a.action ], e.prototype, "join", null), i.__decorate([ a.action ], e.prototype, "endRound", null), 
i.__decorate([ a.action ], e.prototype, "error", null), i.__decorate([ a.action ], e.prototype, "clear", null), 
i.__decorate([ a.computed ], e.prototype, "isMatchmakingToAny", null), i.__decorate([ a.computed ], e.prototype, "hideMatchmakingDetails", null), 
e;
}();
function P(e, n, o, i) {
var a = c.gameStateStoreLoader.get().gameMode, l = a && a.length > 0, p = l && a && a.indexOf("Breakthrough") >= 0;
if (t.operationFlow.state === r.none) {
if (!p) return;
t.operationFlow.join();
}
switch (n) {
case h.NavigationStates.LoadingScreen:
l && !p ? (t.operationFlow.clear(), y.nextRoundCountDown.stop(), m.route(S.GameViewRoute.LOADING), 
m.show()) : t.operationFlow.state !== r.joined && t.operationFlow.state !== r.eor || c.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
m.route(S.GameViewRoute.PLAYING), m.hide(), t.operationFlow.startPlaying();
});
break;

case h.NavigationStates.InGameMenu:
t.operationFlow.state !== r.eor && m.route(S.GameViewRoute.PLAYING), T.blackFadeState.hide(), 
e.state !== s.CloudTransitionState.earth && e.setToEarth();
break;

case h.NavigationStates.FrontEnd:
if (t.operationFlow.byPassGlobe) t.operationFlow.clear(); else if (t.operationFlow.state === r.globe) {
e.setToSpace(s.CloudTransitionState.clouds), u.globeState.set("Sparta"), m.hide(), 
m.route(S.GameViewRoute.NONE);
var d = o.blockInput();
setTimeout(function() {
d(), e.landOnEarth(function() {
t.operationFlow.clear();
}, s.CloudTransitionSound.planet);
}, 600);
} else t.operationFlow.state === r.matchmaking ? (m.route(S.GameViewRoute.LOADING), 
m.show()) : t.operationFlow.state === r.error ? (t.operationFlow.clear(), e.setToEarth()) : function f(e, n) {
c.presenceStateStore.isReady && !t.operationFlow.byPassGlobe && c.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
e.setToSpace(), t.operationFlow.enter(e, n, function() {
m.route("none"), I.frostbite.sendMessage("game.enterOperations");
});
});
}(e, i);
}
}
function R(e) {
t.operationFlow.state !== r.none && (c.spartaActivatedStore.navigationState === h.NavigationStates.FrontEnd ? (t.operationFlow.clear(), 
e.setToEarth()) : t.operationFlow.error());
}
t.TunguskaOperationFlowState = w, t.operationFlow = new w(), t.startOperationFlow = function O(e, n, o) {
g.enterOperations.listen(function() {
t.operationFlow.enter(e, o);
}), d.enterSpecificGameMode.listen(function(n) {
"operations" === n && t.operationFlow.enter(e, o);
}), a.reaction(function() {
return c.gameStateStoreLoader.get().server;
}, function(e) {
if (e) {
var n = e.mapMode.indexOf("Breakthrough") >= 0;
t.operationFlow.state !== r.none && t.operationFlow.state !== r.queued || !n ? t.operationFlow.state === r.none || n || t.operationFlow.clear() : ("Queued" === c.gameStateStoreLoader.get().queue.status ? t.operationFlow.queued() : t.operationFlow.join(), 
t.operationFlow.setGlobeByPassing(!0));
}
}), a.reaction(function() {
return c.gameStateStoreLoader.get().queue.status;
}, function(e) {
t.operationFlow.state === r.joined && "Queued" === e ? (t.operationFlow.queued(), 
T.blackFadeState.hide()) : t.operationFlow.state === r.queued && "Cancelled" === e && t.operationFlow.clear();
}), f.onJoinMultiplayerFailed.listen(function() {
t.operationFlow.state !== r.none && (T.blackFadeState.hide(), t.operationFlow.clear());
}), f.onMultiplayerServerDisconnection.listen(function(n) {
n.event.shouldShowErrorMessage() && t.operationFlow.state !== r.none && (c.spartaActivatedStore.navigationState === h.NavigationStates.FrontEnd ? (t.operationFlow.clear(), 
e.setToEarth()) : t.operationFlow.error());
}), a.reaction(function() {
return c.spartaActivatedStore.lastReceived;
}, function() {
c.spartaActivatedStore.isSpartaActive && P(e, c.spartaActivatedStore.navigationState, n, o);
}), p.onSignInChange.listen(function() {
R(e);
}), I.frostbite.registerMessageListener("sparta.durango.userSwitched", function() {
R(e);
}), a.reaction(function() {
return c.spartaActivatedStore.navigationState;
}, function(t) {
P(e, t, n, o);
});
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(303), a = function() {
function e() {
var e = this;
this.countdown = 0, this.startTime = 0, this.stop = o.action(function() {
e.countdown = 0;
});
}
return Object.defineProperty(e.prototype, "timeLeft", {
get: function() {
if (this.countdown > 0) {
var e = i.nowStore.seconds - this.startTime;
return this.countdown - e;
}
return 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "active", {
get: function() {
return this.timeLeft > 0;
},
enumerable: !0,
configurable: !0
}), e.prototype.start = function(e, t) {
this.startTime = i.nowStore.seconds, this.countdown = Math.ceil(60 * e + t);
}, r.__decorate([ o.observable ], e.prototype, "countdown", void 0), r.__decorate([ o.observable ], e.prototype, "startTime", void 0), 
r.__decorate([ o.computed ], e.prototype, "timeLeft", null), r.__decorate([ o.computed ], e.prototype, "active", null), 
r.__decorate([ o.action ], e.prototype, "start", null), e;
}();
t.NextRoundCountDown = a, t.nextRoundCountDown = new a();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(1283), a = n(81), s = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.fragmentTtl = 3e5, t;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = a.getSummary.request(t);
e.useClientResult(n, i.BattlepackSummary.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t.prototype.refetch = function(e) {
this.refreshFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.tunguskaBattlepackSummaryStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(10), a = n(4), s = n(23), u = n(15), l = n(8), c = n(194), p = n(232), d = n(1301), f = n(138), m = n(5), h = n(9), g = n(17), y = n(7), S = l.getHeight(11, !1), v = l.getHeight(7, !1), _ = l.getHeight(h.SpartaGlobals.bundleIsPC ? 9 : 3, !1), b = s.footer.top - s.dangerZoneSize.height - _, T = Math.max(1, (s.screen.height - b) / 2), E = v + _, C = {
duration: 100
}, I = {
duration: 50
}, A = {
header: {
rotate: {
duration: 200,
delay: 200
},
opacity: {
duration: 100,
delay: 200
}
},
inputBar: {
translation: {
duration: 150
},
opacity: {
duration: 100
}
}
}, w = m.StaticStyle.wrapLegacyStyleSheet({
container: r.__assign({
zOffset: 11e3
}, s.screen.style, {
position: "absolute"
}),
containerForeground: r.__assign({}, {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, {
zOffset: 20,
layer: !0,
layerGrabBackground: !1
}),
header: {
padding: [ s.dangerZoneSize.height, s.dangerZoneSize.width, s.dangerZoneSize.height, s.dangerZoneSize.width ],
flexDirection: "row",
zOffset: 1,
height: S,
justifyContent: "center",
pivot: [ 0, S / 4, 0 ],
alignItems: "center"
},
column: {
flex: 1,
justifyContent: "center",
zOffset: 1
},
content: {
justifyContent: "center",
flex: 1,
padding: [ Math.floor(s.dangerZoneSize.height / 2), s.dangerZoneSize.width, s.dangerZoneSize.height + E, s.dangerZoneSize.width ]
},
footer: {
position: "absolute",
width: s.footer.width,
left: s.footer.left,
height: s.userBar.height,
top: s.userBar.top - (h.SpartaGlobals.bundleIsPC ? l.spacer(3) : 0)
},
input: {
position: "absolute",
left: 0,
top: b,
height: v,
width: s.screen.width,
flexDirection: "row",
justifyContent: "space-between",
alignContent: "stretch",
alignItems: "flex-end",
marginLeft: 0,
marginRight: 0,
zOffset: 100050
},
borderContainerMiddle: {
flex: 1,
height: h.SpartaGlobals.bundleIsConsole ? 32 : l.getHeight(4, !1)
},
borderContainerRight: {
flex: 0,
width: s.dangerZoneSize.width,
height: h.SpartaGlobals.bundleIsConsole ? 32 : l.getHeight(4, !1)
},
borderContainerLeft: {
flex: 0,
width: s.dangerZoneSize.width,
height: h.SpartaGlobals.bundleIsConsole ? 32 : l.getHeight(4, !1)
},
rightButtons: {
flex: 0,
zOffset: 1,
alignItems: "center"
},
storeButtons: {
flex: 0
},
inputBorder: {
position: "absolute",
left: 0,
right: 0,
bottom: 0,
height: 2,
backgroundColor: "#e6e6e680"
}
}, "47e7007d:44:15"), P = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.rotateTween = u.Animation.componentTween(t, "47e7007d:157:49", 90), t.opacityTween = u.Animation.componentTween(t, "47e7007d:158:50", 0), 
t;
}
return r.__extends(t, e), t.prototype.animate = function(e) {
this.rotateTween && this.opacityTween && (e ? (this.rotateTween.to(0, A.header.rotate), 
this.opacityTween.to(1, A.header.opacity)) : (this.rotateTween.to(90, I), this.opacityTween.to(0, I)));
}, t.prototype.render = function() {
var e = this.props.header, t = {
rotateX: this.rotateTween.getStyle(),
opacity: this.opacityTween.getStyle()
};
return o.createElement("surface", {
style: [ w.header, t ]
}, o.createElement("surface", {
style: [ {
alignItems: "flex-start"
}, w.column ]
}, e.left), o.createElement("surface", {
style: [ {
alignItems: "center"
}, w.column ]
}, e.middle), o.createElement("surface", {
style: [ {
alignItems: "flex-end"
}, w.column ]
}, e.right));
}, t;
}(o.Component), R = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
r.sparta = y.SpartaContext.getFromComponent(r), r.didMount = !1, r.containerBlurTween = u.Animation.componentTween(r, "47e7007d:216:63", 0, C), 
r.defaultLayoutComponents = {
userBar: h.SpartaGlobals.bundleIsConsole,
comCenter: void 0
}, r.header = o.createRef(), r.focusAncestor = r.sparta.twinkle.focus.createAncestor("gameview"), 
r.state = {
mouseEventsEnabled: !1
};
var a = r.props.disableFooterAnimation;
return r.opacityTween = u.Animation.componentTween(r, "47e7007d:239:59", a ? 1 : 0), 
r.inputOpacityTween = u.Animation.componentTween(r, "47e7007d:240:64", a ? 1 : 0), 
r.inputTranslateTween = u.Animation.componentTween(r, "47e7007d:241:66", a ? 0 : T), 
r.rightButtonsOpacityTween = u.Animation.componentTween(r, "47e7007d:242:71", a ? 1 : 0), 
r.reaction(function() {
return r.sparta.stores.comCenterState.focusAncestor.children;
}, function(e) {
r.focusAncestor.isolationExceptions.replace(e.concat(f.contextMenuGroup.definedMembers));
}, {
fireImmediately: !0
}), r.cancelQueryListener = r.sparta.twinkle.focus.onInvalidQuery.listen(function(e) {
i.gameStateStoreLoader.get().isGameViewVisible && e.setAsVisible(r.focusAncestor.children);
}), r;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
var e = this, t = i.gameStateStoreLoader.get();
this.reaction(function() {
return t.isGameViewVisible;
}, function(t) {
e.configureVisibility(t);
}, {
fireImmediately: !0
});
}, t.prototype.runAnimations = function(e) {
if (this.didMount) {
var t = e || this.props.disableFooterAnimation ? 1 : 0, n = e || this.props.disableFooterAnimation ? 0 : T;
this.sparta.stores.comCenterState.isEnabled && this.sparta.stores.comCenterState.isExpanded ? (this.inputOpacityTween.set(t), 
this.inputTranslateTween.set(n)) : (this.inputOpacityTween.to(t, e ? A.inputBar.opacity : I), 
this.inputTranslateTween.to(n, e ? A.inputBar.translation : I)), e || this.props.disableFooterAnimation ? this.opacityTween.to(1) : this.opacityTween.to(0), 
this.header.current && this.header.current.animate(e);
}
}, t.prototype.configureVisibility = function(e) {
this.opacityTween && (this.runAnimations(e), this.focusAncestor.setActive("gameViewVisibility", e), 
e ? (this.focusAncestor.isolate(), this.sparta.twinkle.focus.recalculate(), i.layoutVisibilityStore.setVisibilities({
only: this.defaultLayoutComponents
})) : (this.focusAncestor.deisolate(), i.layoutVisibilityStore.setVisibilities({
only: !1
})), h.SpartaGlobals.bundleIsPC && this.state.mouseEventsEnabled !== e && this.setState({
mouseEventsEnabled: e
}));
}, t.prototype.componentDidMount = function() {
var e = this;
this.didMount = !0, this.reaction(function() {
return e.sparta.stores.comCenterState.isEnabled && e.sparta.stores.comCenterState.isExpanded;
}, function(t) {
e.rightButtonsOpacityTween.to(t ? 0 : 1, t ? I : C), h.SpartaGlobals.bundleIsConsole && e.containerBlurTween.to(t ? 1 : 0, t ? C : I);
}, {
fireImmediately: !0
}), i.gameStateStoreLoader.get().isGameViewVisible && this.configureVisibility(!0), 
c.changeGameViewContentVisibility.subscribeTo(this, function(t) {
return e.configureVisibility(t);
});
}, t.prototype.componentWillUnmount = function() {
this.didMount = !1, this.focusAncestor.children.forEach(function(e) {
e.setActive("47e7007d:353:29", !1);
}), this.cancelQueryListener && this.cancelQueryListener(), this.configureVisibility(!1), 
this.focusAncestor.destroy();
}, t.prototype.render = function() {
var e = this.sparta.stores.comCenterState, t = h.SpartaGlobals.bundleIsPC && !(e.isEnabled && e.isExpanded), n = h.SpartaGlobals.bundleIsConsole ? this.containerBlurTween.getStyleClass("layerBlur") : m.emptyStyle, a = m.merge4(this.inputOpacityTween.getStyleClass("opacity"), this.inputTranslateTween.getStyleClass("translateY"), g.CommonStyles.mouseEvents(this.state.mouseEventsEnabled && t), m.DynamicStyle.create({
layer: !!h.SpartaGlobals.bundleIsConsole || !t,
layerClip: !!h.SpartaGlobals.bundleIsConsole || !t
}, "47e7007d:380:96")), s = m.merge3(this.opacityTween.getStyleClass("opacity"), p.gameViewTweenY.getStyleClass("translateY"), g.CommonStyles.mouseEvents(this.state.mouseEventsEnabled)), u = this.props.header ? o.createElement(P, {
ref: this.header,
header: this.props.header,
key: "header"
}) : null, l = !this.props.rightButtons || i.layoutStateStore.hasVisiblePopups || e.isEnabled && e.isExpanded ? null : o.createElement(d.ButtonsGroup, {
style: m.merge2(w.rightButtons, this.rightButtonsOpacityTween.getStyleClass("opacity")),
custom: this.props.rightButtons
}), c = o.createElement("surface", {
style: [ w.input, a ],
key: "inputContent"
}, o.createElement("surface", {
style: w.borderContainerLeft
}, o.createElement("surface", {
style: w.inputBorder
})), o.createElement(d.ButtonsGroup, {
style: w.storeButtons,
overrideInputVisibility: !0
}), o.createElement("surface", {
style: w.borderContainerMiddle
}, o.createElement("surface", {
style: w.inputBorder
})), l, o.createElement("surface", {
style: w.borderContainerRight
}, o.createElement("surface", {
style: w.inputBorder
}))), f = o.createElement("surface", {
style: [ w.containerForeground, n, i.layoutStateStore.viewportScaleStyle ]
}, u, o.createElement("surface", {
style: w.content,
key: "content"
}, this.props.children));
return o.createElement("surface", r.__assign({
style: [ w.container, s ]
}, this.focusAncestor.hooks), f, !i.layoutStateStore.hasVisiblePopups && c, o.createElement("surface", {
style: w.footer,
key: "footer"
}, this.props.footer));
}, t.contextTypes = y.SpartaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.TunguskaGameViewRoute = R;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o, i = n(0), a = n(1), s = n(4), u = n(1355), l = n(642);
!function(e) {
e[e.S = .5] = "S", e[e.M = .75] = "M", e[e.L = 1] = "L", e[e.XL = 2] = "XL", e[e.XXL = 4] = "XXL";
}(r || (r = {})), function(e) {
e.S = "Png180xANY", e.M = "Png300xANY", e.L = "Png1024xANY", e.XL = "Png1024xANY", 
e.XXL = "Png1024xANY";
}(o || (o = {}));
var c = s.observer(function(e) {
var t = e.focusItem, n = e.scale, r = t && (t.isFocused || t.isHovered);
return a.createElement(l.PuzzlePieceIcon, {
scale: n,
color: r ? "#000000" : "#ffffff"
});
}), p = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i.__extends(t, e), t.prototype.render = function() {
var e, t = this.props, n = t.item, i = t.dimmed, s = t.focusItem, l = t.style, p = t.size, d = n.itemType.toUpperCase(), f = "BLUEPRINT" === d, m = r[p || "L"], h = o[p || "L"], g = n.images[h];
return s && (s.isFocused || s.isHovered) && "BOOST" === d && (e = "#000000"), a.createElement("surface", {
style: [ u.TunguskaBattlepackImage.container, l ]
}, a.createElement("surface", {
style: u.TunguskaBattlepackImage.itemTexture({
image: g,
dimmed: i,
color: e
})
}), f && a.createElement(c, {
scale: m,
focusItem: s
}));
}, t = i.__decorate([ s.observer ], t);
}(a.Component);
t.BattlepackImage = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(23), a = n(32), s = n(34), u = n(211), l = n(4), c = n(98), p = n(212), d = n(3), f = n(9);
function m(e, t) {
return t;
}
function h(e) {
return (e.items || []).filter(function(e) {
return !!e.progression && e.progression.unlocked;
}).length;
}
function g(e) {
var t = [];
return (e.items || []).forEach(function(e) {
t = t.concat(e.items || []);
}), t;
}
t.getCategoryUnlockStatus = function y(e, t) {
if (!e) return {
allUnlocked: 0,
numTotal: 0,
numUnlocked: 0
};
var n = 0, r = 0;
return m(0, t) ? (e.items || []).forEach(function(e) {
n += h(e), r += (e.items || []).length;
}) : (n = h(e), r = (e.items || []).length), {
allUnlocked: n === r,
numTotal: r,
numUnlocked: n
};
}, t.contentSoftClip = [ i.fadeAreaTop.height, -50, f.SpartaGlobals.bundleIsPC ? i.dangerZoneSize.height : i.fadeAreaBottom.height, -50 ];
var S = function(e) {
function t(t) {
var n = e.call(this, t) || this;
if (n.itemSelectionState = new p.CareerSelectionState(), n.listSelectionState = t.listSelectionState || new c.ListSelectionState(), 
t.preSelectedItemId) {
var r = function o(e, t, n) {
for (var r = 0; r < t.length; r++) for (var o = t[r], i = m(0, n) ? g(o) : o.items || [], a = 0; a < i.length; a++) {
var s = i[a];
if (s.code === e) return {
categoryIndex: r,
itemIndex: a,
item: s
};
}
}(t.preSelectedItemId, t.categories || [], t.hasSubCategories || !1);
r && (n.listSelectionState.setActiveItem(r.categoryIndex), n.itemSelectionState.setActiveItem(r.item, r.itemIndex));
}
return n.cancelReaction = d.reaction(function() {
return n.listSelectionState.activeItemIndex;
}, function() {
n.itemSelectionState.setActiveItem(void 0, -1);
}), n;
}
return r.__extends(t, e), t.prototype.componentWillUnmount = function() {
this.cancelReaction();
}, t.prototype.render = function() {
return this.props.children(this.listSelectionState, this.itemSelectionState);
}, t;
}(o.Component);
t.CareerSectionSelectionHandler = S, t.CareerSectionContainer = l.observer(function(e) {
return o.createElement(a.Template, {
tallContent: !0,
scrollContent: !1,
header: e.header
}, o.createElement("surface", {
style: u.CareerSectionStyle.container
}, e.children));
}), t.CareerSectionHeader = l.observer(function(e) {
return o.createElement("surface", {
style: u.CareerSectionStyle.header
}, e.children);
}), t.CareerSectionMenu = l.observer(function(e) {
return o.createElement("surface", {
style: u.CareerSectionStyle.menu
}, e.children);
}), t.CareerSectionContent = l.observer(function(e) {
return o.createElement("surface", {
style: u.CareerSectionStyle.content
}, e.children);
}), t.CareerSectionFullContent = l.observer(function(e) {
return o.createElement("surface", {
style: u.CareerSectionStyle.fullContent
}, e.children);
});
var v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.scroller = o.createRef(), t;
}
return r.__extends(t, e), t.prototype.componentDidUpdate = function() {
this.scroller.current && this.scroller.current.scrollTo(0, 0);
}, t.prototype.render = function() {
return o.createElement(s.Scroller, {
ref: this.scroller,
style: u.CareerSectionStyle.focusPane,
controller: !0
}, this.props.children);
}, t = r.__decorate([ l.observer ], t);
}(o.Component);
t.CareerSectionFocusPane = v;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("CareerSectionStyle"), a = function() {
function e() {}
return e.isEnabled = o.value(function() {
return !0;
}, "1d57d6c1:18:23"), e.header = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row",
alignItems: "center",
justifyContent: "flex-end"
}, "1d57d6c1:20:31");
}), e.headerText = o.wrap(function() {
return o.style({
marginRight: o.Grid.spacer()
}, "1d57d6c1:29:35");
}), e.warBond = o.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/assets/career/icon-warbonds-8de69417.png"),
height: o.Grid.getHeight(3),
width: o.Grid.getHeight(3),
marginRight: o.Grid.spacer(),
marginLeft: o.Grid.spacer()
}, "1d57d6c1:35:32");
}), e.container = o.wrap(function() {
return o.style({
flexDirection: "row"
}, "1d57d6c1:45:34");
}), e.menu = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(6)
}, "1d57d6c1:51:29");
}), e.content = o.wrap(function() {
return o.style({
marginLeft: o.Grid.getWidth(1),
width: o.Grid.getWidth(11)
}, "1d57d6c1:57:32");
}), e.fullContent = o.wrap(function() {
return o.style({
marginLeft: o.Grid.getWidth(1),
width: o.Grid.getWidth(18)
}, "1d57d6c1:64:36");
}), e.focusPane = o.wrap(function() {
return o.style({
marginLeft: o.Grid.getWidth(.5),
width: o.Grid.getWidth(6),
height: o.LayoutBounds.content.height - o.Grid.spacer(2)
}, "1d57d6c1:71:34");
}), e.tableWidth = o.value(function() {
return o.Grid.getWidth(10.6);
}, "1d57d6c1:79:24"), e.tableHeight = o.value(function() {
return o.LayoutBounds.content.height - o.Grid.spacer(2);
}, "1d57d6c1:80:25"), e.gameviewTableHeight = o.value(function() {
return o.LayoutBounds.content.height - o.Grid.spacer(20);
}, "1d57d6c1:81:33"), e.itemHeaderHeight = o.value(function() {
return o.Grid.getHeight(2) + o.Grid.spacer(5);
}, "1d57d6c1:83:30"), e.containerTitleMargin = i.wrap(function() {
return o.style({
marginTop: -o.Grid.spacer(3)
}, "1d57d6c1:84:34");
}), e.itemHeader = o.stylefunc(function() {
return o.style({
height: o.Grid.getHeight(2),
marginBottom: o.Grid.spacer(2),
marginTop: o.Grid.spacer(3),
position: "absolute"
}, "1d57d6c1:86:14");
}, function(e) {
return o.dynamicStyle({
top: e.top
}, "1d57d6c1:93:34");
}), e.itemWidth = o.value(function() {
return o.Grid.getWidth(3) - o.Grid.spacer(2);
}, "1d57d6c1:99:23"), e.itemHeight = o.value(function() {
return o.Grid.getHeight(12) + o.Grid.spacer(1);
}, "1d57d6c1:100:24"), e.itemStyle = o.stylefunc(function() {
return o.style({
position: "absolute",
width: o.Grid.getWidth(3) - o.Grid.spacer(3),
height: o.Grid.getHeight(12)
}, "1d57d6c1:103:14");
}, function(e) {
return o.dynamicStyle({
left: e.left + o.Grid.spacer(),
top: e.top
}, "1d57d6c1:109:48");
}), e = r.__decorate([ i.style ], e);
}();
t.CareerSectionStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t) {
this.selectionState = e, this.index = t;
}
return Object.defineProperty(e.prototype, "active", {
get: function() {
return this.selectionState.index === this.index;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.computed ], e.prototype, "active", null), e;
}();
t.CareerItemSelectionState = i;
var a = function() {
function e() {
this.index = -1, this.page = 1, this.itemStates = {};
}
return e.prototype.setActiveItem = function(e, t, n) {
this.item = e, this.index = t, n && this.setActiveCategory(n);
}, e.prototype.setActiveCategory = function(e) {
this.category = e;
}, e.prototype.incPage = function() {
this.page++;
}, e.prototype.getItemState = function(e) {
return this.itemStates[e] || (this.itemStates[e] = new i(this, e)), this.itemStates[e];
}, r.__decorate([ o.observable ], e.prototype, "item", void 0), r.__decorate([ o.observable ], e.prototype, "category", void 0), 
r.__decorate([ o.observable ], e.prototype, "index", void 0), r.__decorate([ o.observable ], e.prototype, "page", void 0), 
r.__decorate([ o.action ], e.prototype, "setActiveItem", null), r.__decorate([ o.action ], e.prototype, "setActiveCategory", null), 
r.__decorate([ o.action ], e.prototype, "incPage", null), e;
}();
t.CareerSelectionState = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(171);
t.BattleplanContext = r.createContext("Battleplan");
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("BFVPromoStyles"), a = function() {
function e() {}
var t;
return t = e, e.container = i.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
width: o.LayoutBounds.screen.width,
height: o.LayoutBounds.screen.height
}, "794a94e3:15:23");
}), e.page = i.wrap(function() {
return o.style({
position: "absolute",
left: 0,
top: o.LayoutBounds.fadeAreaTop.bottom,
width: o.LayoutBounds.screen.width,
height: o.LayoutBounds.content.height,
alignItems: "center"
}, "794a94e3:23:18");
}), e.logo = i.wrap(function() {
return o.style({
width: 600,
height: 220,
textureMode: "contain",
texture: o.bbOfflineUrl("/sparta/casablanca/bfv_logo_vertical_big-069062a6.png")
}, "794a94e3:32:18");
}), e.textContainer = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(14),
marginTop: o.Grid.spacer(5),
marginBottom: o.Grid.spacer(6)
}, "794a94e3:39:27");
}), e.text = i.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center",
textLineSpacing: o.Constants.isPC ? 30 : 35,
opacity: 1
}, "794a94e3:45:18");
}), e.buttons = i.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center",
width: o.LayoutBounds.content.width,
justifyContent: "center"
}, "794a94e3:52:21");
}), e.button = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(8)
}, "794a94e3:59:20");
}), e.buttonContainer = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(6),
marginRight: o.Grid.spacer(.5),
marginLeft: o.Grid.spacer(.5)
}, "794a94e3:63:29");
}), e.friends = i.wrap(function() {
return o.style({
alignItems: "center",
marginTop: o.Grid.spacer(6)
}, "794a94e3:69:21");
}), e.friendsTextContainer = i.wrap(function() {
return o.style({
marginBottom: o.Grid.getHeight(2)
}, "794a94e3:74:34");
}), e.friendsText = i.wrap(function() {
return o.style({
textLetterSpacing: 1.2
}, "794a94e3:78:25");
}), e.pageIndicator = i.wrap(function() {
return o.style({
zOffset: 10,
position: "absolute",
left: o.Constants.isPC ? o.LayoutBounds.mainMenu.width + o.Grid.getWidth(1) : o.LayoutBounds.safeZone.left,
top: 0,
height: o.LayoutBounds.screen.height,
justifyContent: "center",
alignItems: "flex-start"
}, "794a94e3:82:27");
}), e.pageIndicatorItem = i.wrap(function() {
return o.style({
height: 30,
marginBottom: 6,
flexDirection: "row",
alignItems: "center",
opacity: .4
}, "794a94e3:92:31");
}), e.pageIndicatorItemActive = i.wrap(function() {
return o.style({
height: 30,
marginBottom: 6,
flexDirection: "row",
alignItems: "center"
}, "794a94e3:100:37");
}), e.pageIndicatorDot = i.wrap(function() {
return o.style({
width: 10,
height: 10,
marginRight: 10,
marginLeft: 5,
marginTop: 2,
texture: o.bbOfflineUrl("/sparta/casablanca/destination/page_indicator-a9682c9f.png"),
textureMode: "contain"
}, "794a94e3:107:30");
}), e.pageIndicatorDotActive = i.wrap(function() {
return o.style({
width: 20,
height: 20,
marginRight: 10,
texture: o.bbOfflineUrl("/sparta/casablanca/destination/page_indicator_active-a37066a5.png"),
textureMode: "contain"
}, "794a94e3:117:36");
}), e.pageIndicatorText = i.wrap(function() {
return o.style({
marginTop: 1
}, "794a94e3:125:31");
}), e.backgroundSlider = i.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
layer: !0,
enableMouseEvents: !1
}, "794a94e3:129:30");
}), e.backgroundSliderClip = i.wrap(function() {
return o.style({
layerSoftClip: [ 0, o.Grid.getWidth(4), 0, o.Grid.getWidth(4) ]
}, "794a94e3:137:34");
}), e.contentSlider = i.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
width: o.LayoutBounds.screen.width,
height: o.LayoutBounds.screen.height,
layerClip: !0,
layer: !0
}, "794a94e3:141:27");
}), e.background = i.wrap(function() {
return o.style({
textureMode: "cover",
position: "absolute",
left: 0,
top: 0
}, "794a94e3:151:24");
}), e.pageContent = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(14)
}, "794a94e3:158:25");
}), e.pageHeader = i.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center",
marginBottom: 0,
marginTop: 0,
fontSize: 32,
textLetterSpacing: 1,
textLineSpacing: 55
}, "794a94e3:162:24");
}), e.pageSubHeader = i.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center",
opacity: .6,
marginBottom: 0,
marginTop: 0,
textLetterSpacing: 2
}, "794a94e3:172:27");
}), e.pageBodyText = o.multistyle(function(e) {
return o.style({
marginTop: o.Grid.spacer(4),
textAlign: "center",
textAlignForRTL: "center",
opacity: .6,
textLineSpacing: o.Constants.isPC ? e ? 40 : 30 : e ? 40 : 35
}, "794a94e3:181:57");
}), e.slides = i.wrap(function() {
return o.style({
flexDirection: "row",
position: "absolute",
bottom: o.Constants.isPC ? o.Grid.getHeight(36) : o.Grid.getHeight(12),
width: o.LayoutBounds.screen.width,
left: 0,
justifyContent: "center"
}, "794a94e3:191:20");
}), e.slideWidth = o.value(function() {
return 250;
}, "794a94e3:200:24"), e.slideHeight = o.value(function() {
return 160;
}, "794a94e3:201:25"), e.slide = i.wrap(function() {
return o.style({
width: t.slideWidth,
height: t.slideHeight,
marginLeft: o.Grid.spacer(.6),
marginRight: o.Grid.spacer(.6)
}, "794a94e3:203:19");
}), e.slideImage = i.wrap(function() {
return o.style({
width: t.slideWidth,
height: t.slideHeight,
textureMode: "contain",
position: "absolute",
zOffset: 1
}, "794a94e3:212:24");
}), e.slideGradient = i.wrap(function() {
return o.style({
width: t.slideWidth,
height: t.slideHeight,
textureMode: "fill",
position: "absolute",
texture: o.bbOfflineUrl("/sparta/assets/card_gradient_blue_2-f270d01e-e1faea6d.png"),
zOffset: 2
}, "794a94e3:221:27");
}), e.slideTitleContainer = i.wrap(function() {
return o.style({
position: "absolute",
bottom: 0,
width: t.slideWidth,
height: 70,
justifyContent: "center",
zOffset: 3
}, "794a94e3:230:33");
}), e.slideTitleBackground = i.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
backgroundColor: "#ffffff",
zOffset: 0
}, "794a94e3:239:34");
}), e.slideTitle = i.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center",
fontSize: o.Constants.isPC ? 13 : 12,
marginTop: 4,
color: "#ffffff",
zOffset: 1
}, "794a94e3:249:24");
}), e.slideSubTitle = i.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center",
fontSize: o.Constants.isPC ? 12 : 11,
marginTop: 4,
color: "#ffffff",
opacity: .35,
zOffset: 1
}, "794a94e3:258:27");
}), e.pageIcon = i.wrap(function() {
return o.style({
width: 120,
height: 120,
alignSelf: "center",
marginBottom: o.Grid.spacer(4)
}, "794a94e3:268:22");
}), e.scrollIcon = i.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/casablanca/icons/cas_scroll_v-dc0ad3c5.png"),
width: 50,
height: 50,
left: o.LayoutBounds.screen.width / 2 - 25,
position: "absolute",
bottom: o.Constants.isPC ? 120 : 0,
zOffset: 10
}, "794a94e3:275:24");
}), e = t = r.__decorate([ i.style ], e);
}();
t.BFVPromoStyles = a;
}, function(e, t, n) {
var r = n(48);
e.exports = function(e, t) {
if (!r(e) || e._t !== t) throw TypeError("Incompatible receiver, " + t + " required!");
return e;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(52), o = 1, i = new (function() {
function e() {
this.queuedIds = [], this.requestMap = {}, this.numInProgress = 0;
}
return e.prototype.next = function() {
if (0 !== this.queuedIds.length) if (this.numInProgress >= 8) console.warn("Queueing request, max concurrent HTTP requests reached:", 8); else {
var e = this.queuedIds.shift();
if (e) {
var t = this.requestMap[e];
t && (this.numInProgress++, r.nativeApi.httpRequest(t.id, t.method, t.url, t.data, t.headers));
}
}
}, e.prototype.add = function(e) {
this.requestMap[e.id] = e, this.queuedIds.push(e.id), this.next();
}, e.prototype.remove = function(e) {
delete this.requestMap[e.id], this.numInProgress--, this.next();
}, e;
}())();
t.httpRequest = function a(e, t, n, r, s, u) {
s && (n = "string" == typeof n ? n : JSON.stringify(n));
var l = {
id: o++,
method: e,
url: t,
data: n,
headers: r,
isJson: s,
callback: u
};
i.add(l);
}, r.nativeApi.onHttpRequestCompleted = function(e, t, n, r, o) {
var a = i.requestMap[e];
if (a) {
if (a.isJson) {
try {
n = "" !== n ? JSON.parse(n) : {};
} catch (e) {
console.error("Bad JSON from server:", n), n = {};
}
null === n && (n = {}), n || (n = {}), t || n.error || (n.error = {
message: "HTTP REQUEST FAILED (status code: " + o + ")",
code: o
});
}
i.remove(a), a.callback && a.callback(t, n, r);
} else console.warn("Unable to handle unknown http response", {
requestId: e,
data: n,
headers: r,
statusCode: o
});
}, t.parseHeaders = function s(e) {
var t = {};
return (e = e || "").split("\n").forEach(function(e) {
var n = e.split(": ");
2 === n.length && (t[n[0]] = n[1]);
}), t;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.connect = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.None = 0] = "None", e[e.Premium = 1] = "Premium", e[e.Rank = 2] = "Rank", e[e.Previous = 3] = "Previous", 
e[e.Expansion = 4] = "Expansion";
}(t.DepType || (t.DepType = {}));
var r = function() {
function e(e) {
this.code = e.code, this.images = e.images || {}, this.description = e.description, 
this.name = e.name, this.dependencies = e.dependencies, this.progression = e.progression, 
this.criterias = e.criterias, this.expansions = e.expansions;
}
return Object.defineProperty(e.prototype, "criteriaProgression", {
get: function() {
if (!this.criterias) return 0;
var e = this.criterias.length, t = 0;
return this.criterias.forEach(function(e) {
e.progression && (t += e.progression.percentage);
}), 0 !== t ? t / e : 0;
},
enumerable: !0,
configurable: !0
}), e;
}();
t.BaseAward = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(220), o = n(5);
t.fontConfig = function i() {
var e = {};
return Object.keys(r.defaultFonts).forEach(function(t) {
var n = r.defaultFonts[t];
n && (e[t] = {
generic: n
});
}), e;
}(), t.emptyFontConfig = {
generic: {
normal: {
fontName: "",
fontUrl: "",
fontStyle: function() {
return o.emptyStyle;
}
},
emphasis: {
fontName: "",
fontUrl: "",
fontStyle: function() {
return o.emptyStyle;
}
}
}
}, t.registerSectionFonts = function a(e, n) {
Object.keys(n).forEach(function(r) {
var o = t.fontConfig[r];
o && (o[e] = n[r]);
});
}, t.psnAccountLanguageToSpartaLocale = function s(e) {
var n = null;
for (var r in t.fontConfig) if (t.fontConfig.hasOwnProperty(r) && r.split("-")[0] === e) {
n = r;
break;
}
return n || console.warn("Could not find locale to use for PSN account language: " + e), 
n;
}, t.commerceLocaleToRegionFontLocale = function u(e) {
for (var n = e.split("-")[1], r = 0, o = Object.keys(t.fontConfig); r < o.length; r++) {
var i = o[r];
if (i.split("-")[1] === n) return i;
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(933);
t.PuristaFonts = {
normal: r.PuristaNormal,
emphasis: r.PuristaEmphasis
}, t.ARHeitiFonts = {
normal: r.ARHeiti,
emphasis: r.ARHeiti
}, t.BFTextRegularSCFonts = {
normal: r.BFTextRegularSC,
emphasis: r.BFTextRegularSC
}, t.DFPSougeitaiFonts = {
normal: r.DFPSougeitai,
emphasis: r.DFPSougeitai
}, t.AsiaJungGothicFonts = {
normal: r.AsiaJungGothic,
emphasis: r.AsiaJungGothic
}, t.FuturaMaxiFonts = {
normal: r.FuturaMaxiNormal,
emphasis: r.FuturaMaxiEmphasis
}, t.FuturaMaxiJPFonts = {
normal: r.FuturaMaxiJP,
emphasis: r.FuturaMaxiJP
}, t.FuturaMaxiTCFonts = {
normal: r.FuturaMaxiTC,
emphasis: r.FuturaMaxiTC
}, t.FuturaMaxiArabicFonts = {
normal: r.FuturaMaxiArabic,
emphasis: r.FuturaMaxiArabic
}, t.defaultFonts = {
"ar-sa": t.FuturaMaxiArabicFonts,
"cs-cz": t.PuristaFonts,
"de-de": t.PuristaFonts,
"en-us": t.PuristaFonts,
"es-es": t.PuristaFonts,
"es-mx": t.PuristaFonts,
"fr-fr": t.PuristaFonts,
"it-it": t.PuristaFonts,
"ja-jp": t.DFPSougeitaiFonts,
"ko-kr": t.AsiaJungGothicFonts,
"pl-pl": t.PuristaFonts,
"pt-br": t.PuristaFonts,
"ru-ru": t.FuturaMaxiFonts,
"tr-tr": t.PuristaFonts,
"zh-tw": t.ARHeitiFonts,
"zh-cn": t.BFTextRegularSCFonts,
"zh-sg": t.BFTextRegularSCFonts,
"zh-hk": t.ARHeitiFonts
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3);
!function(e) {
e[e.IDLE = 0] = "IDLE", e[e.ENTERING = 1] = "ENTERING", e[e.ACTIVE = 2] = "ACTIVE", 
e[e.LEAVING = 3] = "LEAVING";
}(r = t.EnterLeaveStates || (t.EnterLeaveStates = {}));
var a = 0, s = function() {
function e(e) {
this.name = e, this.currentState = r.IDLE, this.previousState = r.IDLE, this.stateTimer = 0, 
this.stateTimeout = 250, this.lastChangeId = 0;
}
return e.prototype.changeState = function(e) {
var t = this;
this.lastChangeId = a++, this.previousState = this.currentState, this.currentState = e, 
e === r.IDLE && this.setContent(null), clearTimeout(this.stateTimer), e === r.LEAVING && (this.stateTimer = setTimeout(function() {
t.currentState === r.LEAVING && t.changeState(r.IDLE);
}, this.stateTimeout)), e === r.ENTERING && (this.stateTimer = setTimeout(function() {
t.currentState === r.ENTERING && t.changeState(r.ACTIVE);
}, this.stateTimeout));
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
return this.currentState === r.ACTIVE || this.currentState === r.ENTERING;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isVisible", {
get: function() {
return this.currentState === r.ACTIVE || this.currentState === r.ENTERING || this.currentState === r.LEAVING;
},
enumerable: !0,
configurable: !0
}), o.__decorate([ i.observable ], e.prototype, "currentState", void 0), o.__decorate([ i.observable ], e.prototype, "previousState", void 0), 
o.__decorate([ i.action ], e.prototype, "changeState", null), o.__decorate([ i.computed ], e.prototype, "isActive", null), 
o.__decorate([ i.computed ], e.prototype, "isVisible", null), e;
}();
t.ItemState = s;
var u = function() {
function e(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.states = r, this.previous = null, this.items = t, this.switchToItem(e);
}
return Object.defineProperty(e.prototype, "current", {
get: function() {
for (var e = null, t = 0, n = this.items; t < n.length; t++) {
var r = n[t];
if (r.isActive) {
if (e) throw console.error(this.items), new Error("Cannot have more than one active item!");
e = r;
}
}
return e;
},
enumerable: !0,
configurable: !0
}), e.prototype.allocateItem = function(e) {
for (var t = null, n = [], o = 0, i = this.items; o < i.length; o++) {
var a = i[o];
if (!a.isActive) {
if (a.contentEquals(e)) return a;
a.currentState === r.IDLE && (t = a), a.currentState === r.LEAVING && n.push(a);
}
}
if (!t) {
if (n.length > 0) return n.sort(function(e, t) {
return e.lastChangeId - t.lastChangeId;
}), n[0];
throw console.error("Cannot allocate an item, they are all busy (" + this.items.length + ")"), 
new Error("Cannot allocate an item, they are all busy (" + this.items.length + ")");
}
return t;
}, e.prototype.switchToItem = function(e) {
if (this.current && this.current.contentEquals(e)) this.current.setContent(e); else {
var t = this.current, n = this.allocateItem(e);
this.previous = t, t && t.changeState(r.LEAVING), n.changeState(r.ENTERING), n.setContent(e);
}
}, o.__decorate([ i.observable ], e.prototype, "previous", void 0), o.__decorate([ i.computed ], e.prototype, "current", null), 
o.__decorate([ i.action ], e.prototype, "switchToItem", null), e;
}();
t.EnterLeaveState = u;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(200), i = n(10), a = n(998), s = n(394), u = n(9), l = n(103), c = n(59);
t.tryShowLegal = function p() {
return r || (r = new Promise(function(e) {
v().then(function(t) {
var n = i.nativePropertiesStore.getHostingGame(), r = _(t), o = Promise.resolve(), a = n.legalConfigStore && n.legalConfigStore.getConfig(), s = u.SpartaGlobals.bundleIsConsole || a && a.showLegalOnAllPlatforms;
a && a.textsToAccept && s && (o = r ? g(r, function() {
return S(a);
}) : S(a));
var l = a && a.companion;
if (l && r) {
var c = l.showPopup, p = l.getContent;
o = o.then(function() {
return y(r, function() {
return c(p());
});
});
}
return o.then(e);
});
}).then(function() {
c.frostbite.sendMessage("sparta.legalAccepted");
})), r;
}, t.clearLegalPromise = function d() {
r = null;
};
var f, m = new o.StorageClient();
function h(e, t, n) {
return new Promise(function(r, o) {
m.get(e, function(o) {
void 0 === o && (o = {}), t.find(function(e) {
return o[e];
}) ? r() : n().then(function() {
t.forEach(function(e) {
o[e] = !0;
}), m.save(e, o);
}).then(r);
});
});
}
!function(e) {
e.Legal = "legal", e.LegalCompanion = "legal_companion";
}(f = t.LegalStorageKeys || (t.LegalStorageKeys = {}));
var g = h.bind(void 0, f.Legal), y = h.bind(void 0, f.LegalCompanion);
function S(t) {
var n = l.localeState.gameLocaleOrDefault, r = t.getAcceptMessage(n);
return s.loadLegalDocuments(t, n).then(function(e) {
return a.displayLegalPopup(t, {
documents: e,
acceptMessage: r,
initialDocument: "EULA"
});
}).catch(function(t) {
return e.error("Legal flow aborted:", t);
});
}
function v() {
return new Promise(function(e) {
var t = c.frostbite.registerMessageListener("sparta.getLocalUserResp", function(n, r) {
t(), e({
gamerTag: r.gamerTag,
PlatformId: r.PlatformId
});
});
c.frostbite.sendMessage("sparta.getLocalUser");
});
}
function _(e) {
var t = [];
return e.PlatformId && "" !== e.PlatformId && t.push(e.PlatformId), e.gamerTag && "" !== e.gamerTag && t.push(e.gamerTag), 
t;
}
t.getLocalUserGameInfo = v, t.collectLocalUserIdentifiers = _;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(15), a = n(5), s = n(27), u = n(78), l = {
easing: s.Easing.CubicOut,
duration: i.Animation.defaultTweenOptions.duration / 2
}, c = {
easing: s.Easing.CubicIn,
duration: l.duration
}, p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.state = {
tweenState: "in"
}, t.inTweens = {}, t.outTweens = {}, t.allowUpdates = !0, t._didMount = !1, t;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
var e = this;
this._didMount = !0, this.content = this.props.children, this.updateTweens(this.props), 
this.props.playInOnMount || this.props.inTweens.map(function(t) {
e.inTweens[t.propertyName].set(t.toValue);
});
}, t.prototype.componentDidMount = function() {
this.props.playInOnMount && this.playIn(this.props);
}, t.prototype.componentWillReceiveProps = function(e) {
var t = this;
if (e.transitionId === this.props.transitionId) return this.content = e.children, 
void (this.nextContent = e.children);
this.nextContent = e.children, this.updateTweens(e), this.setState({
tweenState: "out"
}, function() {
t.allowUpdates = !1, t.playOut(e).then(function() {
t.allowUpdates = !0, t.content = t.nextContent, t.updateTweens(e), t._didMount && t.setState({
tweenState: "in"
}, function() {
var n = t.playIn(e);
"function" == typeof t.props.onTransitionFinished && n.then(t.props.onTransitionFinished);
});
});
});
}, t.prototype.shouldComponentUpdate = function() {
return this.allowUpdates;
}, t.prototype.componentWillUnmount = function() {
var e = this;
this._didMount = !1, Object.keys(this.inTweens).forEach(function(t) {
e.inTweens[t].destroy();
}), Object.keys(this.outTweens).forEach(function(t) {
e.outTweens[t].destroy();
});
}, t.prototype.updateTweens = function(e) {
var t = this;
this._didMount && (e.inTweens.forEach(function(e) {
var n = t.inTweens[e.propertyName];
n && n.destroy();
var r = void 0 !== e.fromValue ? e.fromValue : e.toValue;
t.inTweens[e.propertyName] = i.Animation.tween("272d4095:142:64", r);
}), e.outTweens.forEach(function(e) {
var n = t.outTweens[e.propertyName];
n && n.destroy();
var r = void 0 !== e.fromValue ? e.fromValue : e.toValue;
t.outTweens[e.propertyName] = i.Animation.tween("272d4095:152:65", r);
}));
}, t.prototype.playOut = function(e) {
var t = this;
return void 0 === e && (e = this.props), Promise.all(e.outTweens.map(function(e) {
var n = t.outTweens[e.propertyName], r = e.options || c;
return n.transition(e.fromValue, e.toValue, r);
}));
}, t.prototype.playIn = function(e) {
var t = this;
return void 0 === e && (e = this.props), Promise.all(e.inTweens.map(function(e) {
var n = t.inTweens[e.propertyName], r = e.options || l;
return n.transition(e.fromValue, e.toValue, r);
}));
}, t.prototype.render = function() {
var e = "in" === this.state.tweenState ? this.inTweens : this.outTweens, t = u.Tween.getStyleClass("272d4095:179:49", e);
return o.createElement("surface", {
style: a.merge2(this.props.style, t)
}, this.content);
}, t.defaultProps = {
playInOnMount: !0
}, t;
}(o.Component);
t.FlexibleTweener = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(535), a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.duration, n = r.__rest(e, [ "duration" ]), a = {
propertyName: "opacity",
inValue: 1,
outValue: 0
};
return t && (a.inOptions = {
duration: t
}, a.outOptions = {
duration: t
}), o.createElement(i.SimpleTweener, r.__assign({}, n, {
tweens: [ a ]
}));
}, t;
}(o.Component);
t.Fader = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(8), a = n(19), s = n(4), u = n(5), l = n(7), c = i.getHeight(1.3), p = .5 * c, d = [ p, p, p, p ], f = {
newMarker: {
backgroundColor: "#FF9900",
padding: [ 2, i.GUTTER, 2, i.GUTTER ],
color: "#ffffff"
},
blip: {
height: c,
width: c,
alignItems: "center",
justifyContent: "center",
backgroundColor: "#FF9900",
borderRadius: d
},
premiumEarlyAccessText: u.StaticStyle.create({
color: "#FF9900"
}, "c7e3635d:48:28"),
premiumIcon: {
textureMode: "contain",
height: 21,
width: 21
},
containerStyle: {
flexDirection: "row",
alignItems: "center"
},
divider: {
marginLeft: i.GUTTER,
marginRight: i.GUTTER
}
}, m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = l.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.renderPremiumIcon = function(e) {
return r.createElement("surface", {
key: "pIcon",
style: [ {
texture: e
}, f.premiumIcon ]
});
}, n.prototype.renderNewMarker = function() {
return r.createElement("surface", {
key: "pNewMarker",
style: f.newMarker
}, r.createElement(o.Text, {
value: __("ID_SPARTA_PREMIUM_TREATMENT_NEW").toUpperCase(),
size: "XXS"
}));
}, n.prototype.renderBlip = function() {
return r.createElement("surface", {
key: "pBlip",
style: f.blip
});
}, n.prototype.renderExpansionName = function(e) {
var t = e.prettyName && e.prettyName.toUpperCase(), n = this.props, i = n.fontSize, a = n.textStyle;
return r.createElement(o.Text, {
key: "pXpackName",
value: t,
size: i,
style: a
});
}, n.prototype.renderEarlyAccessPeriod = function() {
var e = this.props, t = e.fontSize, n = e.textStyle;
return r.createElement(o.Text, {
key: "pEAP",
style: u.merge2(u.DynamicStyle.maybeLegacyStyle(n, "c7e3635d:122:31"), f.premiumEarlyAccessText),
value: __("ID_SPARTA_PREMIUM_EARLY_ACCESS"),
size: t
});
}, n.prototype.renderSeparator = function(e) {
var t = e ? "pDivider_" + e : "pDivider", n = this.props, i = n.textStyle, a = n.separator, s = n.fontSize;
return r.createElement("surface", {
key: t,
style: f.divider
}, r.createElement(o.Text, {
style: i,
value: a,
size: s
}));
}, n.prototype.renderSeparatedContent = function(e) {
var t = [];
e[0] && (this.props.showPrefixSeparator && t.push(this.renderSeparator(0)), t.push(e[0]));
for (var n = 1; n < e.length; n++) t.push(this.renderSeparator(n)), t.push(e[n]);
return a.localeRearrange(t);
}, n.prototype.render = function() {
var e = this.sparta.stores, t = e.layoutStateStore, n = e.gameStateStoreLoader, o = e.gameStore, s = e.entitlementStore, u = e.expansionStore, l = this.props.expansion, c = t.current.config.gameId || n.get().serverGameId, p = o.getGame(c);
if (!(p && p.premiumConfig && p.premiumConfig.enablePremiumTreatment && l)) return r.createElement("surface", null);
var d = u.get(c, this.sparta.twinkle.buildInfo.bundlePlatform);
if (d.isLoading) return r.createElement("surface", null);
var m = !!s.hasLoadedGame(c) && s.hasPremiumAccess(c), h = d.value, g = h ? h.getXpack(l) : null;
if (!g || "DEFAULT" === g.name) return r.createElement("surface", null);
var y = s.hasExpansionAccess(c, g.name), S = h ? h.isXpackInEarlyAccess(g) : null, v = [];
this.props.showP && !y && v.push(this.renderPremiumIcon(p.premiumConfig.premiumIconUrl)), 
this.props.showNew && m && S && v.push(this.renderNewMarker()), this.props.showBlip && m && S && v.push(this.renderBlip()), 
this.props.showExpansionName && v.push(this.renderExpansionName(g)), this.props.showEarlyAccess && m && S && v.push(this.renderEarlyAccessPeriod());
var _ = this.renderSeparatedContent(v), b = {
marginLeft: this.props.marginLeft ? i.GUTTER : void 0,
marginRight: this.props.marginRight ? a.isRTLLanguage() ? 2 * i.GUTTER : i.GUTTER : void 0,
justifyContent: a.isRTLLanguage() ? "flex-end" : "flex-start"
};
return _.length ? r.createElement("surface", {
style: [ b, f.containerStyle, this.props.containerStyle ]
}, _) : null;
}, n.contextTypes = l.SpartaContext.contextTypes, n.defaultProps = {
fontSize: "S",
separator: "-"
}, n = e.__decorate([ s.observer ], n);
}(r.Component);
t.PremiumTreatment = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(5), i = n(15), a = function(e) {
function t(t, n, r, o, i, a, s) {
var u = e.call(this) || this;
return u.debugName = t, u.component = n, u.property = r, u.getTheme = o, u.updater = i, 
u.initialValue = a, u.extraOptions = s, u;
}
return r.__extends(t, e), t.create = function(e, n, r, o, i, a, s) {
return void 0 === a && (a = 0), new t(e, n, r, o, i, a, s);
}, t.prototype.getTween = function() {
var e = this;
if (!this.tween) {
var t = "function" == typeof this.initialValue ? this.initialValue(this.getTheme(this.component)) : this.initialValue, n = "function" == typeof this.extraOptions ? this.extraOptions(this.getTheme(this.component)) : this.extraOptions, r = this.tween = i.Animation.componentTween(this.component, this.debugName, t, n);
return this.component.autorun(function() {
return e.updater(r, e.getTheme(e.component));
}), r;
}
return this.tween;
}, t.prototype.pushObjectsTo = function(e, t) {
this.getTween().getStyleClass(this.property).pushObjectsTo(e, t);
}, t.prototype.getStyleValue = function(e, t) {
if ("textureFadeInTime" !== e) return this.getTween().get();
}, t;
}(o.StyleClass);
t.TweenStyle = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(15), i = n(62), a = n(3), s = n(4), u = n(12), l = n(11), c = n(5), p = {
duration: o.Animation.defaultTweenOptions.duration / 8
}, d = {
duration: o.Animation.defaultTweenOptions.duration / 4
}, f = c.StaticStyle.wrapLegacyStyleSheet({
icon: {
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
zOffset: 1
}
}, "2604350a:20:15"), m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.input = new u.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
return e.props.action && e.props.action();
},
blockInputFor: 500,
key: l.Keys.Accept
}), e.opacityTween = o.Animation.tween("2604350a:54:36", e.getOpacity(!1)), e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.cancelReaction = a.reaction(function() {
return e.props.focusItem.isFocusedOrHovered;
}, function(t) {
e.setOpacity(t);
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.cancelReaction(), this.opacityTween.destroy();
}, n.prototype.componentDidUpdate = function(e) {
e.muted === this.props.muted && e.opacity === this.props.opacity || this.setOpacity(this.props.focusItem.isFocusedOrHovered);
}, n.prototype.getOpacity = function(e) {
var t = this.props.muted ? .85 : 1;
return 1 === this.props.opacity && (t = .5), e ? t : this.props.opacity || .66;
}, n.prototype.setOpacity = function(e) {
this.opacityTween.isDestroyed() || this.opacityTween.to(this.getOpacity(e), e ? p : d);
}, n.prototype.render = function() {
var e = c.DynamicStyle.create({
width: this.props.size,
height: this.props.size,
texture: this.props.icon
}, "2604350a:95:26"), t = c.merge2(this.opacityTween.getStyleClass("opacity"), c.DynamicStyle.maybeLegacyStyle(this.props.style, "2604350a:102:56"));
return r.createElement(i.Pressable, {
input: this.input,
triggerMode: "after",
focusItem: this.props.focusItem,
style: t,
pressScale: .7
}, r.createElement("surface", {
style: [ e, f.icon, this.props.iconStyle ]
}));
}, n = e.__decorate([ s.observer ], n);
}(r.Component);
t.IconButton = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(263), i = n(15), a = n(560), s = n(64), u = n(10), l = n(6), c = n(4), p = n(385), d = n(5), f = n(1127), m = n(17), h = n(9), g = n(27), y = n(52), S = {
initialState: "from",
values: {
scaleX: {
from: .3,
to: .7
},
scaleY: {
from: .3,
to: .7
},
opacity: {
from: .01,
to: 1
}
},
options: Object.assign({}, i.Animation.defaultTweenOptions, {
easing: g.Easing.CubicOut,
duration: 250
})
}, v = {
initialState: "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: Object.assign({}, i.Animation.defaultTweenOptions, {
easing: g.Easing.CubicOut,
duration: 250
})
}, _ = {
initialState: "from",
values: {
opacity: {
from: 0,
to: .5
}
},
options: Object.assign({}, i.Animation.defaultTweenOptions, {
easing: g.Easing.Linear,
duration: 375
})
}, b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.rankBadgeRadial = r.createRef(), e.progress = r.createRef(), e.animation = r.createRef(), 
e.flare = r.createRef(), e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.componentDidUpdate();
}, n.prototype.componentDidUpdate = function() {
var e = this;
this.props.noAnimation ? (this.flare.current && this.flare.current.rewind(0), this.progress.current && this.progress.current.rewind(0)) : (this.play(300), 
setTimeout(function() {
if (e.rankBadgeRadial.current) {
var t = e.rankBadgeRadial.current.getSurfaceId();
void 0 !== t && null !== t && y.nativeApi.playSpriteAnimation(t, !0);
}
}, 400), setTimeout(function() {
e.progress.current && (e.progress.current.play(), e.progress.current.rewind((_.options.duration || 0) + 100));
}, 940));
}, Object.defineProperty(n.prototype, "rank", {
get: function() {
var e, t = this.state.career.gameStats[this.props.gameId];
return t && (e = "freemium" === this.props.rankType ? t.freemiumRank : t.rank), 
e || new p.Rank();
},
enumerable: !0,
configurable: !0
}), n.prototype.getLeftInfo = function() {
return r.createElement("surface", {
style: f.RankBadgeStyles.infoRightWrapper({
badgeSize: this.props.badgeSize
})
}, r.createElement(l.Text, {
value: __("ID_SPARTA_CAREER_RANK").toUpperCase() + " " + this.rank.number,
size: "S"
}));
}, n.prototype.getRightInfo = function() {
return r.createElement("surface", {
style: f.RankBadgeStyles.infoLeftWrapper({
badgeSize: this.props.badgeSize
})
}, r.createElement(l.Text, {
value: __("ID_SPARTA_CAREER_RANK").toUpperCase() + " " + this.rank.number,
size: "S"
}));
}, n.prototype.getBottomInfo = function() {
var e = this.props.bottomInfoScale || 1, t = this.props.barSize || 10;
return r.createElement("surface", {
style: f.RankBadgeStyles.infoBottomWrapper({
scale: e,
barSize: t
})
}, r.createElement(l.Text, {
value: "" + this.rank.number,
size: "S",
style: m.CommonStyles.alignSelfCenter
}));
}, n.prototype.play = function(e) {
this.animation.current && this.animation.current.play(e), this.flare.current && (this.flare.current.play(e + 400), 
this.flare.current.rewind(e + (S.options.duration || 0) + 400));
}, n.prototype.render = function() {
if (void 0 === this.state.career.gameStats[this.props.gameId]) return null;
var e = this.rank.imageUrl, t = this.props.badgeSize || 130, n = this.props.barSize || 10, i = S;
this.props.rankIconScaling && (i = Object.assign({}, S, {
values: {
scaleX: this.props.rankIconScaling,
scaleY: this.props.rankIconScaling
}
})), i.initialState = this.props.skipAnimation ? "to" : "from", v.initialState = this.props.skipAnimation ? "to" : "from", 
_.initialState = this.props.skipAnimation ? "to" : "from";
var s = d.DynamicStyle.create({
width: t,
height: t
}, "91c1d58b:197:28"), u = d.DynamicStyle.create({
position: "absolute",
width: t + 3 * n,
height: t + 3 * n,
left: 1.5 * -n,
top: 1.5 * -n
}, "91c1d58b:202:25"), l = d.DynamicStyle.create({
position: "absolute",
width: t + 5 * n,
height: t + 5 * n,
left: 2.5 * -n,
top: 2.5 * -n
}, "91c1d58b:210:28"), c = d.DynamicStyle.create({
flexDirection: "row",
marginLeft: "left" === this.props.align ? -t * (h.SpartaGlobals.bundleIsPC ? .35 : .5) : void 0
}, "91c1d58b:218:29");
return r.createElement("surface", {
onClick: this.props.onClick,
style: d.merge2(c, this.props.style)
}, "left" === this.props.align && this.getLeftInfo(), r.createElement("surface", {
style: d.merge2(s, this.props.badgeStyle)
}, r.createElement(o.AnimatedSurface, {
ref: this.animation,
animation: i,
style: d.merge2(f.RankBadgeStyles.badge({
texture: e
}), s)
}), r.createElement(o.AnimatedSurface, {
ref: this.flare,
animation: v,
style: d.merge2(l, f.RankBadgeStyles.flare)
}), r.createElement(o.AnimatedSurface, {
ref: this.progress,
animation: _,
style: d.merge2(l, f.RankBadgeStyles.glow)
}), r.createElement("surface", {
style: d.merge2(l, f.RankBadgeStyles.rankBadgeRadial),
ref: this.rankBadgeRadial
}), r.createElement(a.RadialProgressBar, {
progress: this.rank.progress.percentage || 0,
progressColor: "#ff9900ff",
bgColor: "#33333333",
size: this.props.barSize,
style: u
}), "bottom" === this.props.align && this.getBottomInfo()), "right" === this.props.align && this.getRightInfo());
}, n.defaultProps = {
bottomInfoScale: h.SpartaGlobals.bundleIsConsole ? 1.5 : 1.45,
badgeSize: 130,
barSize: 10,
align: "none"
}, n = e.__decorate([ c.observer, s.subscribeToStores({
career: u.careerStore
}) ], n);
}(r.Component);
t.RankBadge = b;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
var e;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.CLOSED = -1] = "CLOSED", e[e.OPEN = 0] = "OPEN", e[e.APPLY = 1] = "APPLY", e[e.DEFAULT = 0] = "DEFAULT";
}(e = t.AccessType || (t.AccessType = {})), t.joinConfigToAccessType = function n(t) {
return t.isFreeJoin ? e.OPEN : t.canApplyMembership ? e.APPLY : e.CLOSED;
}, t.enumToLocalized = function r(t) {
switch (t) {
case e.OPEN:
return __("ID_SHARED_PLATOONS_ACCESS_TYPE_OPEN");

case e.APPLY:
return __("ID_SHARED_PLATOONS_ACCESS_TYPE_APPLY");

case e.CLOSED:
return __("ID_SHARED_PLATOONS_ACCESS_TYPE_CLOSED");

default:
return "";
}
}, t.enumToLocalizedDesc = function o(t) {
switch (t) {
case e.OPEN:
return __("ID_SHARED_PLATOONS_ACCESS_TYPE_OPEN_DESC");

case e.APPLY:
return __("ID_SHARED_PLATOONS_ACCESS_TYPE_APPLY_DESC");

case e.CLOSED:
return __("ID_SHARED_PLATOONS_ACCESS_TYPE_CLOSED_DESC");

default:
return "";
}
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(1172), s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("surface", {
style: this.props.style
}, o.createElement(i.Text, {
value: this.props.value,
size: this.props.size,
color: this.props.color
}), o.createElement("surface", {
style: a.StrikethroughStyle.strike(this.props.color || "#ffffff")
}));
}, t;
}(o.Component);
t.Strikethrough = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(5), a = n(4), s = n(7), u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.focused, n = void 0 !== t && t, r = e.disabled, a = void 0 !== r && r, s = e.value, u = void 0 !== s && s, l = e.style, c = this.sparta.theme.getTheme(this).checkmark;
return o.createElement("surface", {
style: i.merge2(c.checkmark(n, a, u), l || i.emptyStyle)
});
}, t.contextTypes = s.SpartaContext.contextTypes, t;
}(o.Component);
t.Checkmark = u;
var l = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.value, n = e.focusItem, r = e.disabled, i = void 0 !== r && r, a = this.sparta.theme.getTheme(this).checkmark;
return o.createElement("surface", {
style: a.observableCheckmark(n.isFocusedOrHovered, i, t)
});
}, t.contextTypes = s.SpartaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.ObservableCheckmark = l;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o, i = n(1), a = n(94), s = n(321), u = n(14), l = n(15), c = n(4), p = n(22), d = n(104), f = n(27), m = e.get("TunguskaCloudTransition"), h = u.bbOfflineUrl("/sparta/assets/tunguska/animations/background_transition_clouds-fedb40b8.png"), g = 1e3, y = 540, S = u.bbOfflineUrl("/sparta/assets/tunguska/UI_Globe_WarStories_EpisodeBack_Whoosh-f6614d1a.wav"), v = u.bbOfflineUrl("/sparta/assets/tunguska/Sparta_Whoosh_Up-1eac9f4c.wav"), _ = u.bbOfflineUrl("/sparta/assets/tunguska/Sparta_Whoosh_Down-ebbd3dac.wav");
!function(e) {
e[e.earth = 0] = "earth", e[e.clouds = 1] = "clouds", e[e.space = 2] = "space";
}(r = t.CloudTransitionState || (t.CloudTransitionState = {})), function(e) {
e[e.down = 0] = "down", e[e.up = 1] = "up", e[e.planet = 2] = "planet";
}(o = t.CloudTransitionSound || (t.CloudTransitionSound = {}));
var b = c.observer(function(e) {
var t = Math.round(e.scale * g * a.uiState.viewportScale.scaleX), n = Math.round(e.scale * y * a.uiState.viewportScale.scaleY), r = {
width: t,
height: n,
left: -(t - a.uiState.window.width) / 2,
top: -n,
position: "absolute",
texture: h,
opacity: 1,
zOffset: 1e6,
enableMouseEvents: !1,
translateY: e.yTween.getStyle()
};
return i.createElement("surface", {
style: r
});
}), T = c.observer(function(e) {
var t = {
width: a.uiState.window.width,
height: a.uiState.window.height,
left: 0,
top: 0,
position: "absolute",
backgroundColor: "#ffffff",
opacity: e.opacityTween.getStyle(),
zOffset: 1e6,
enableMouseEvents: !1
};
return i.createElement("surface", {
style: t
});
}), E = c.observer(function(e) {
var t = 6 * a.uiState.window.height, n = {
width: a.uiState.window.width,
height: t,
top: -t,
left: 0,
zOffset: -2e3,
position: "absolute",
backgroundColor: e.backgroundContainer.getSkyColor() || "#657790",
enableMouseEvents: !1,
opacity: e.opacityTween.getStyle()
};
return i.createElement("surface", {
style: n
});
}), C = 1;
t.gameViewTweenY = l.Animation.tween("41adda09:91:47", 0), t.gameBackgroundTweenY = l.Animation.tween("41adda09:92:53", 0);
var I = function() {}, A = function() {
function e(e, t, n) {
this.inputStore = e, this.comCenterState = t, this.backgroundContainer = n, this.debug = !1, 
this.whiteFadeOpacityTween = l.Animation.tween("41adda09:105:53", 0), this.skyOpacityTween = l.Animation.tween("41adda09:106:47", 1), 
this.id = C++, this.yTweenCloud1 = l.Animation.tween("41adda09:112:44", 0), this.yTweenCloud2 = l.Animation.tween("41adda09:113:44", 0), 
this.planetTransitionSound = d.Sound.load(S), this.cloudTransitionSoundUp = d.Sound.load(v), 
this.cloudTransitionSoundDown = d.Sound.load(_), this.state = r.earth, this.destination = r.earth, 
this.currentTransitionTimeouts = [], this.sky = i.createElement(E, {
key: "sky" + this.id,
opacityTween: this.skyOpacityTween,
backgroundContainer: n
}), this.whiteFade = i.createElement(T, {
key: "whitefade" + this.id,
opacityTween: this.whiteFadeOpacityTween
}), this.cloud1 = i.createElement(b, {
key: "cloud1" + this.id,
scale: 7,
yTween: this.yTweenCloud1
}), this.cloud2 = i.createElement(b, {
key: "cloud2" + this.id,
scale: 4,
yTween: this.yTweenCloud2
});
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && m.log.apply(m, [ e ].concat(t));
}, e.prototype.flyToSpace = function(e) {
var t = this;
if (void 0 === e && (e = I), this.log("flyToSpace - currentState: " + this.state + ", currentDestination: " + this.destination + ", newDestination: " + r.space), 
this.destination === r.space) return this.log("Transition ignored."), void m.warn("Calling flyToSpace while already in/going to space");
this.stopTransition(), this.destination = r.space, this.playSound(o.planet), this.moveFromEarthToClouds(function() {
s.globeState.show(), t.zoomFromCloudsToSpace(1500, e);
});
}, e.prototype.landOnEarth = function(e, t) {
var n = this;
if (void 0 === e && (e = I), void 0 === t && (t = o.down), this.log("landOnEarth - currentState: " + this.state + ", currentDestination: " + this.destination + ", newDestination: " + r.earth), 
this.destination === r.earth) return this.log("Transition ignored."), void m.warn("Calling landOnEarth while already on/going to earth");
this.stopTransition(), this.state === r.space || this.destination === r.space ? (this.destination = r.earth, 
this.playSound(o.planet), this.zoomFromSpaceToClouds(1e3, function() {
n.moveFromCloudsToEarth(e);
})) : this.state !== r.clouds && this.destination !== r.clouds || (this.destination = r.earth, 
this.playSound(t), this.moveFromCloudsToEarth(e));
}, e.prototype.flyToClouds = function(e, t) {
if (void 0 === e && (e = I), void 0 === t && (t = o.up), this.log("flyToClouds - currentState: " + this.state + ", currentDestination: " + this.destination + ", newDestination: " + r.clouds), 
this.destination === r.clouds) return this.log("Transition ignored."), void m.warn("Calling flyToClouds while already in/going to clouds");
this.stopTransition(), this.destination = r.clouds, this.playSound(t), this.moveFromEarthToClouds(function() {
e();
});
}, e.prototype.setToEarth = function(e) {
void 0 === e && (e = {
changeGlobe: !0
}), this.log("SET EARTH"), this.stopTransition(), this.state = r.earth, this.destination = r.earth, 
t.gameViewTweenY.set(0), t.gameBackgroundTweenY.set(0), this.comCenterState.translateY.set(0), 
a.uiState.layout.reactComponent && a.uiState.layout.reactComponent.tweenTranslateY.set(0), 
this.skyOpacityTween.set(0), this.yTweenCloud1.set(0), this.yTweenCloud2.set(0), 
this.whiteFadeOpacityTween.set(0), e.changeGlobe && (s.globeState.hide(), s.globeState.setOffViewport());
}, e.prototype.setToSpace = function(e) {
void 0 === e && (e = r.space), this.log("SET TO SPACE", e), this.stopTransition(), 
this.state = e, this.destination = e, a.uiState.layout.reactComponent && a.uiState.layout.reactComponent.tweenTranslateY.autorun(function(e) {
return e.set(6 * a.uiState.window.height);
}), t.gameViewTweenY.autorun(function(e) {
return e.set(-6 * a.uiState.window.height * (1 / a.uiState.viewportScale.scaleY));
}), t.gameBackgroundTweenY.autorun(function(e) {
return e.set(-6 * a.uiState.window.height);
}), this.comCenterState.translateY.autorun(function(e) {
return e.set(-6 * a.uiState.window.height * (1 / a.uiState.viewportScale.scaleY));
}), this.skyOpacityTween.set(0), this.yTweenCloud1.set(-200), this.yTweenCloud2.set(800), 
s.globeState.show(), s.globeState.setOnClouds();
}, e.prototype.fadeOutFromWhite = function(e, t) {
void 0 === t && (t = I), this.whiteFadeOpacityTween.to(0, {
duration: e
}), this.currentTransitionTimeouts.push(setTimeout(function() {
return t();
}, e));
}, e.prototype.stopTransition = function() {
this.currentTransitionTimeouts.forEach(function(e) {
clearTimeout(e);
}), this.currentTransitionTimeouts = [];
}, e.prototype.moveFromEarthToClouds = function(e) {
var n = this;
this.log("EARTH ---\x3e CLOUDS"), s.globeState.setOnClouds();
var o = {
duration: 1e3,
easing: f.Easing.CubicIn
};
this.inputStore.blockInputFor(1300);
var i = 6 * -a.uiState.window.height * (1 / a.uiState.viewportScale.scaleY), u = 6 * -a.uiState.window.height;
a.uiState.layout.extra.addElement("tunguskaWhiteFade", this.whiteFade), this.backgroundContainer.extra.addElement("tunguskaClouds", [ this.sky, this.cloud1, this.cloud2 ]), 
this.skyOpacityTween.set(1), this.currentTransitionTimeouts.push(setTimeout(function() {
a.uiState.layout.reactComponent && a.uiState.layout.reactComponent.tweenTranslateY.to(6 * a.uiState.window.height, o), 
t.gameViewTweenY.to(i, o), t.gameBackgroundTweenY.set(u), n.comCenterState.translateY.to(i, o), 
n.yTweenCloud1.to(-200, o);
}, 300)), this.yTweenCloud2.to(800, o), this.currentTransitionTimeouts.push(setTimeout(function() {
n.fadeToWhite(300, function() {
n.skyOpacityTween.set(0), n.yTweenCloud2.set(600), n.state = r.clouds, e();
});
}, 1e3));
}, e.prototype.moveFromCloudsToEarth = function(e) {
var n = this;
this.log("CLOUDS ---\x3e EARTH");
var o = {
duration: 1e3,
easing: f.Easing.CubicOut
};
this.inputStore.blockInputFor(1300), a.uiState.layout.extra.addElement("tunguskaWhiteFade", this.whiteFade), 
this.backgroundContainer.extra.addElement("tunguskaClouds", [ this.sky, this.cloud1, this.cloud2 ]), 
this.fadeToWhite(300, function() {
s.globeState.hide(), n.fadeOutFromWhite(300), n.skyOpacityTween.set(1), n.yTweenCloud1.to(0, o), 
n.currentTransitionTimeouts.push(setTimeout(function() {
n.yTweenCloud2.to(0, o);
}, 600)), a.uiState.layout.reactComponent && a.uiState.layout.reactComponent.tweenTranslateY.to(0, o), 
t.gameViewTweenY.to(0, o), t.gameBackgroundTweenY.set(0), n.comCenterState.translateY.to(0, o), 
n.currentTransitionTimeouts.push(setTimeout(function() {
n.state = r.earth, n.skyOpacityTween.set(0), s.globeState.setOffViewport(), a.uiState.layout.extra.removeAll("tunguskaWhiteFade"), 
n.backgroundContainer.extra.removeAll("tunguskaClouds"), n.currentTransitionTimeouts.push(setTimeout(function() {
p.focusSystem.focusedItem || p.focusSystem.recalculate();
}, 100));
}, 1e3)), e();
});
}, e.prototype.zoomFromCloudsToSpace = function(e, t) {
var n = this;
this.state === r.clouds ? (this.log("CLOUDS ---\x3e SPACE"), this.inputStore.blockInputFor(e), 
s.globeState.moveToSpace({
duration: e,
easing: f.Easing.CubicOut
}), this.fadeOutFromWhite(400), this.currentTransitionTimeouts.push(setTimeout(function() {
n.state = r.space, t();
}, e))) : t();
}, e.prototype.zoomFromSpaceToClouds = function(e, t) {
var n = this;
this.state === r.space ? (this.log("SPACE ---\x3e CLOUDS"), this.inputStore.blockInputFor(e), 
s.globeState.moveToClouds({
duration: e,
easing: f.Easing.CubicIn
}), this.currentTransitionTimeouts.push(setTimeout(function() {
n.fadeToWhite(200);
}, e - 200)), this.currentTransitionTimeouts.push(setTimeout(function() {
n.state = r.clouds, t();
}, e))) : t();
}, e.prototype.fadeToWhite = function(e, t) {
void 0 === t && (t = I), this.whiteFadeOpacityTween.to(1, {
duration: e
}), this.currentTransitionTimeouts.push(setTimeout(function() {
return t();
}, e));
}, e.prototype.playSound = function(e) {
switch (e) {
case o.down:
this.cloudTransitionSoundDown.setVolume(.6), this.cloudTransitionSoundDown.play();
break;

case o.up:
this.cloudTransitionSoundUp.setVolume(.6), this.cloudTransitionSoundUp.play();
break;

case o.planet:
this.planetTransitionSound.setVolume(.5), this.planetTransitionSound.play();
}
}, e;
}();
t.TunguskaCloudTransition = A;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(124);
t.sortItemsByProgression = function o(e, t) {
return e.progression.valueNeeded > 1 && t.progression.valueNeeded > 1 ? e.progression.valueNeeded - t.progression.valueNeeded : e.progression.valueNeeded > 1 ? -1 : t.progression.valueNeeded > 1 ? 1 : e.progression.valueNeeded === t.progression.valueNeeded ? e.progression.unlocked ? -1 : t.progression.unlocked ? 1 : 0 : 1 === e.progression.valueNeeded ? 1 : 1 === t.progression.valueNeeded ? -1 : e.progression.valueNeeded - t.progression.valueNeeded;
}, t.sortByExpansion = function i(e, t) {
var n = [ "xp0", "xp1", "xp2", "xp3", "xp4", "xp5", "xp6", "xp7" ], r = e.expansions || [], o = t.expansions || [];
return (r.length > 0 ? n.indexOf(r[0].license) : -1) - (o.length > 0 ? n.indexOf(o[0].license) : -1);
}, t.adjustTimeBasedProgression = function a(e, t) {
var n = 0;
return -1 !== e.indexOf("__si") ? n = 60 : -1 !== e.indexOf("__so") && (n = 3600), 
n && (t = Object.assign({}, t, {
valueNeeded: Math.ceil((t.valueNeeded || 0) / n),
valueAcquired: Math.floor((t.valueAcquired || 0) / n)
})), new r.Progression(t);
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(269), r = n(14), o = n(61), i = function() {
function e(e) {
this.canBuy = e.canBuy, this.statKey = e.statKey, this.compOperator = e.compOperator, 
this.currentValue = e.currentValue, this.valueNeeded = e.valueNeeded;
}
return Object.defineProperty(e.prototype, "displayText", {
get: function() {
var e = "";
switch (this.statKey) {
case "rank":
e = "min" === this.compOperator ? __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MIN_RANK") : __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MAX_RANK");
break;

case "kr_medic":
e = "min" === this.compOperator ? __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MIN_MEDIC") : __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MAX_MEDIC");
break;

case "kr_assault":
e = "min" === this.compOperator ? __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MIN_ASSAULT") : __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MAX_ASSAULT");
break;

case "kr_support":
e = "min" === this.compOperator ? __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MIN_SUPPORT") : __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MAX_SUPPORT");
break;

case "kr_scout":
e = "min" === this.compOperator ? __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MIN_SCOUT") : __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MAX_SCOUT");
break;

case "kr_tanker":
e = "min" === this.compOperator ? __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MIN_TANKER") : __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MAX_TANKER");
break;

case "kr_pilot":
e = "min" === this.compOperator ? __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MIN_PILOT") : __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MAX_PILOT");
break;

case "kr_cavalry":
e = "min" === this.compOperator ? __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MIN_CAVALRY") : __("ID_SPARTA_TUNGUSKA_BATTLEPACK_LOCKED_MAX_CAVALRY");
}
return e.replace("[[NUM]]", String(this.valueNeeded));
},
enumerable: !0,
configurable: !0
}), e;
}(), a = function() {
function t(t) {
if (this.items = [], this.descriptionText = t.descriptionText || "", this.origin = t.origin, 
this.packId = t.packId, this.packKey = t.packKey || "", this.packName = t.packName || "", 
this.personaId = t.personaId, this.prices = t.prices, "number" == typeof t.quantity) this.quantity = t.quantity; else if ("string" == typeof t.quantity) {
var n = parseInt(t.quantity, 10);
n > 0 && (this.quantity = n);
}
if (this.rarenessLevel = t.rarenessLevel, this.revision = t.revision || "", this.visualName = t.visualName || t.packName || "", 
this.images = t.images, this.endTime = t.endTime, this.purchaseGate = new i(t.purchaseGate || {
canBuy: !0
}), this.canBuyRealMoney = void 0 === t.canBuyRealMoney || t.canBuyRealMoney, this.canBuyScraps = void 0 === t.canBuyScraps || t.canBuyScraps, 
this.probabilityGroups = t.probabilityGroups || {}, this.packType = t.packType, 
t.items && Array.isArray(t.items.slice())) {
var r = t.items.sort(function(e, t) {
return e.isSuperRare !== t.isSuperRare ? e.isSuperRare ? -1 : 1 : t.rarenessLevel.value - e.rarenessLevel.value;
});
this.items = r.map(function(t) {
return new e.BattlepackItem(t);
});
} else this.items = [];
this.numItems = t.numItems || this.items.length;
}
return Object.defineProperty(t.prototype, "scrapPrice", {
get: function() {
var e = 0;
return this.prices && this.prices.forEach(function(t) {
var n = t[0];
"scraps" === n.name && (e = parseInt(n.quantity, 10));
}), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "displayScrapPrice", {
get: function() {
return o.formatNumber(this.scrapPrice);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "rarities", {
get: function() {
var e = !1, t = !1, n = !1;
return this.items && this.items.forEach(function(r) {
r.rarenessLevel && "Standard" === r.rarenessLevel.name && (e = !0), r.rarenessLevel && "Enhanced" === r.rarenessLevel.name && (t = !0), 
r.rarenessLevel && "Superior" === r.rarenessLevel.name && (n = !0);
}), {
hasSpecial: e,
hasDistinguished: t,
hasLegendary: n
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "packTypeReadable", {
get: function() {
switch (this.packType) {
case "OUTSTANDING":
return __("ID_SPARTA_TUNGUSKA_BATTLEPACK_PT_OUTSTANDING");

case "EXCEPTIONAL":
return __("ID_SPARTA_TUNGUSKA_BATTLEPACK_PT_EXCEPTIONAL");

case "SPECTACULAR":
return __("ID_SPARTA_TUNGUSKA_BATTLEPACK_PT_SPECTACULAR");

case "CLASS":
return __("ID_SPARTA_TUNGUSKA_BATTLEPACK_PT_CLASS");

case "PUZZLE":
return __("ID_SPARTA_TUNGUSKA_BATTLEPACK_PT_PUZZLE");

case "SXPB":
return __("ID_SPARTA_TUNGUSKA_BATTLEPACK_PT_SXPB");

default:
return;
}
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "packTypeIcon", {
get: function() {
switch (this.packType) {
case "SPECTACULAR":
return r.bbUrl("/sparta/jsclient/builds/assets/spectacular_battlepack_icon-ebcd8795.png");

case "CLASS":
return r.bbUrl("/sparta/jsclient/builds/assets/class_battlepack_icon-12f699d7.png");

case "PUZZLE":
return r.bbUrl("/sparta/jsclient/builds/assets/puzzle_battlepack_icon-4373bfd1.png");

case "SXPB":
return r.bbUrl("/sparta/jsclient/builds/assets/boost_battlepack_icon-88735650.png");

default:
return;
}
},
enumerable: !0,
configurable: !0
}), t;
}();
t.Battlepack = a;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(68), u = n(204), l = n(13), c = n(42), p = n(22), d = function() {
return function e(t, n, r, o, i, a, s) {
this.debugName = t, this.top = n, this.left = r, this.rowIndex = o, this.columnIndex = i, 
this.row = a, this.render = s.bind(null, this);
};
}();
t.TableCell = d;
var f = function() {
function e(e, t, n) {
this.table = e, this.rowIndex = t, this.top = n, this.type = "row", this.cells = [], 
this.numCells = 0, this.width = 0, this.itemIndex = -1;
}
return e.prototype.addCell = function(e) {
this.cells.push(e), this.numCells = this.cells.length, this.width += this.table.cellWidth;
}, e;
}();
t.TableRow = f;
var m = function() {
return function e(t, n, r) {
this.top = t, this.itemIndex = n, this.render = r, this.type = "header";
};
}();
t.TableHeader = m;
var h = function() {
function e(e, t, n, r, o, i, a, s, u, l) {
this.debugName = e, this.columns = t, this.tableWidth = n, this.tableHeight = r, 
this.headerHeight = o, this.cellWidth = i, this.cellHeight = a, this.softClip = s, 
this.preselectedCellId = u, this.scrollBarLeft = l, this.items = [], this.currentTop = 0, 
this.rowIndex = 0, this.scrollToIndex = -1;
}
return e.prototype.addHeader = function(e) {
this.endRow(), this.items.push(new m(this.currentTop, this.items.length, e)), this.currentTop += this.headerHeight;
}, e.prototype.addRowCell = function(e, t) {
this.currentRow || (this.currentRow = new f(this, this.rowIndex, this.currentTop), 
this.rowIndex++), this.preselectedCellId === e && (this.scrollToIndex = this.currentRow.rowIndex), 
this.currentRow.addCell(new d(e, this.currentTop, this.currentRow.width, this.currentRow.rowIndex, this.currentRow.numCells, this.currentRow, t)), 
this.currentRow.cells.length === this.columns && this.endRow();
}, e.prototype.end = function() {
this.endRow();
}, e.prototype.endRow = function() {
this.currentRow && (this.currentTop += this.cellHeight, this.currentRow.itemIndex = this.items.length, 
this.items.push(this.currentRow), this.currentRow = void 0);
}, e.prototype.render = function() {
return o.createElement(g, {
scrollBarLeft: this.scrollBarLeft,
debugName: this.debugName,
tableHeight: this.tableHeight,
tableWidth: this.tableWidth,
headerHeight: this.headerHeight,
columns: this.columns,
scrollToIndex: this.scrollToIndex,
cellHeight: this.cellHeight,
cellWidth: this.cellWidth,
softClip: this.softClip,
items: this.items
});
}, e;
}();
t.TableRenderer = h;
var g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.focusGroup = p.focusSystem.createComponentGroup(t, t.props.debugName), 
t.visibleAreaTop = 0, t.visibleAreaWidth = 0, t.isHovered = !1, t.groupNavigation = function(e, n) {
var r = t.getNextFocusIndex(e, n);
if (-1 === r && n === c.Direction.Up && t.visibleAreaTop > 0) return t.setVisibleAreaTop(0), 
{
result: c.NavigationResultType.STOP
};
if (-1 === r) return {
result: c.NavigationResultType.FALLTHROUGH
};
var o = t.visibleAreaTop, i = o + t.props.tableHeight, a = t.getCellByFocusIndex(r);
if (!a) return {
result: c.NavigationResultType.STOP
};
var s = a.top + t.props.cellHeight;
a.top < o ? t.setVisibleAreaTop(a.top) : s > i && t.setVisibleAreaTop(s - t.props.tableHeight);
var u = t.focusGroup.members[r];
return u ? {
result: c.NavigationResultType.HIT,
toItem: u
} : {
result: c.NavigationResultType.STOP
};
}, t.onBounds = function(e) {
return t.setVisibleAreaWidth(e.width);
}, t.onMouseEnter = i.action(function() {
return t.isHovered = !0;
}), t.onMouseLeave = i.action(function() {
return t.isHovered = !1;
}), t.getIsHovered = function() {
return t.isHovered;
}, t.getVisibleAreaWidth = function() {
return t.visibleAreaWidth;
}, t.getVisibleAreaTop = function() {
return t.visibleAreaTop;
}, t.onMouseScroll = function(e) {
t.scrollHeight > t.props.tableHeight && t.setVisibleAreaTop(t.visibleAreaTop + -50 * e.scroll);
}, t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "scrollHeight", {
get: function() {
var e = this.props.items[this.props.items.length - 1];
return e ? e.top + this.getHeight(e) : 0;
},
enumerable: !0,
configurable: !0
}), t.prototype.setVisibleAreaTop = function(e) {
var t = this.scrollHeight - this.props.tableHeight;
this.visibleAreaTop = Math.max(0, Math.min(t, e));
}, t.prototype.setVisibleAreaWidth = function(e) {
this.visibleAreaWidth = e;
}, t.prototype.getIndexInDirection = function(e, t) {
var n = Math.floor(e / this.props.columns), r = e - n * this.props.columns;
switch (t) {
case c.Direction.Up:
return (n - 1) * this.props.columns + r;

case c.Direction.Down:
return (n + 1) * this.props.columns + r;

case c.Direction.Left:
return n * this.props.columns + r - 1;

case c.Direction.Right:
return n * this.props.columns + r + 1;
}
return -1;
}, t.prototype.getNextFocusIndex = function(e, t) {
var n = this.focusGroup.members.indexOf(e);
if (-1 === n) return -1;
for (;;) {
if ((n = this.getIndexInDirection(n, t)) < 0 || n >= this.focusGroup.members.length) return -1;
if (this.focusGroup.members[n]) return n;
}
}, t.prototype.getHeight = function(e) {
return "header" === e.type ? this.props.headerHeight : this.props.cellHeight;
}, t.prototype.getCellByFocusIndex = function(e) {
for (var t = Math.floor(e / this.props.columns), n = e - t * this.props.columns, r = t; r < this.props.items.length; r++) {
var o = this.props.items[r];
if ("row" === o.type && o.rowIndex === t) return o.cells[n];
}
}, t.prototype.componentWillMount = function() {
var e = this;
this.focusGroup.handleDirection(c.Direction.Down, this.groupNavigation), this.focusGroup.handleDirection(c.Direction.Up, this.groupNavigation), 
this.focusGroup.navigateToGroup = function() {
for (var t = e.visibleAreaTop, n = (e.props.tableHeight, 0); n < e.props.items.length; n++) {
var r = e.props.items[n];
if (r instanceof f && r.top + e.getHeight(r) / 2 > t) {
var o = r.rowIndex * e.props.columns, i = e.focusGroup.members[o];
return {
result: c.NavigationResultType.HIT,
toItem: i
};
}
}
return {
result: c.NavigationResultType.FALLTHROUGH
};
}, this.scrollToIndexItem();
}, t.prototype.componentDidMount = function() {
var e = this.focusGroup, t = this.props.scrollToIndex;
if (t >= 0 && e && e.members.length >= t) {
var n = e.members[t];
n && n.setFocused(c.FocusSource.Auto, !0);
}
}, t.prototype.componentDidUpdate = function(e) {
e !== this.props && (this.props.scrollToIndex >= 0 ? this.scrollToIndexItem() : this.setVisibleAreaTop(0));
}, t.prototype.scrollToIndexItem = function() {
this.props.scrollToIndex >= 0 && this.focusGroup && this.setVisibleAreaTop(this.props.items[this.props.scrollToIndex].top);
}, t.prototype.renderCell = function(e) {
return o.createElement(s.Focusable, {
id: e.debugName,
key: e.debugName + "_" + e.rowIndex + "_" + e.columnIndex,
group: this.focusGroup,
groupIndex: e.rowIndex * this.props.columns + e.columnIndex
}, e.render);
}, t.prototype.renderItems = function(e, t) {
var n = this;
return "row" === e.type ? e.cells.map(function(e) {
return n.renderCell(e);
}) : [ e.render(e) ];
}, t.prototype.render = function() {
for (var e = this.props.items, t = [], n = this.visibleAreaTop, r = n + this.props.tableHeight, i = -1, a = void 0, s = 0; s < e.length; s++) {
var c = e[s], p = this.getHeight(c);
if (c.top + p >= n && c.top <= r) {
if (!a) if (i > -1) {
for (var d = i; d < s; d++) t.push.apply(t, this.renderItems(e[d], d));
a = e[i];
} else a = c;
t.push.apply(t, this.renderItems(c, s));
} else if (c.top >= r && (t.push.apply(t, this.renderItems(c, s)), "row" === c.type)) break;
"row" === c.type && (i = s);
}
var f = l.Grid.spacer(1), m = {
position: "relative",
height: this.props.tableHeight + 2 * f,
width: this.props.tableWidth - f,
layer: !0,
layerClip: !0,
margin: -f,
padding: f
};
if (this.props.softClip) {
var h = this.props.softClip.slice();
0 === this.visibleAreaTop && (h[0] = 0), this.visibleAreaTop >= this.scrollHeight - this.props.tableHeight && (h[2] = 0), 
m.layerSoftClip = h;
}
return o.createElement("surface", null, o.createElement("surface", {
style: m,
onMouseScroll: this.onMouseScroll,
onBounds: this.onBounds,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave
}, o.createElement("surface", {
style: {
position: "relative",
top: -this.visibleAreaTop
}
}, t)), o.createElement(u.Scrollbar, {
focusGroup: this.focusGroup,
left: void 0 === this.props.scrollBarLeft ? 4 : this.props.scrollBarLeft,
height: this.props.tableHeight,
scrollHeight: this.scrollHeight,
isHovered: this.getIsHovered,
getCurrentWidth: this.getVisibleAreaWidth,
getCurrentTop: this.getVisibleAreaTop
}));
}, r.__decorate([ i.observable ], t.prototype, "visibleAreaTop", void 0), r.__decorate([ i.observable ], t.prototype, "visibleAreaWidth", void 0), 
r.__decorate([ i.observable ], t.prototype, "isHovered", void 0), r.__decorate([ i.action ], t.prototype, "setVisibleAreaTop", null), 
r.__decorate([ i.action ], t.prototype, "setVisibleAreaWidth", null), t = r.__decorate([ a.observer ], t);
}(o.Component);
t.TableScroller = g;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(1306), i = n(6), a = n(19), s = n(8), u = n(9), l = {
text: {
textLetterSpacing: 9,
marginTop: u.SpartaGlobals.bundleIsPC ? 2 * s.GUTTER : 4 * s.GUTTER
},
RTLText: {
textLetterSpacing: 0,
marginTop: u.SpartaGlobals.bundleIsPC ? 2 * s.GUTTER : 4 * s.GUTTER
}
};
t.Title = function(e) {
var t = e.text;
return r.createElement(o.Masher, {
transitionId: t
}, r.createElement(i.Text, {
style: a.isRTLLanguage() ? l.RTLText : l.text,
size: "XXL",
value: t.toUpperCase()
}));
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaBattlepackPuzzle2"), a = function() {
function e() {}
return e.content = o.wrap(function() {
return o.style({
paddingLeft: o.Grid.getWidth(1),
width: o.Grid.getWidth(18)
}, "c0470a8e:22:32");
}), e.tableWidth = o.value(function() {
return o.Grid.getWidth(18);
}, "c0470a8e:29:24"), e.tableHeight = o.value(function() {
return o.LayoutBounds.content.height - o.Grid.spacer(2);
}, "c0470a8e:30:25"), e.gameviewTableHeight = o.value(function() {
return o.LayoutBounds.content.height - o.Grid.spacer(o.Constants.isPC ? 15 : 5);
}, "c0470a8e:31:33"), e.cellWidth = o.value(function() {
return o.Grid.getWidth(5.75) + o.Grid.spacer(1);
}, "c0470a8e:33:23"), e.cellHeight = o.value(function() {
return o.Grid.getHeight(22) + o.Grid.spacer(1);
}, "c0470a8e:34:24"), e.cellStyle = o.stylefunc(function() {
return o.style({
position: "absolute"
}, "c0470a8e:36:14");
}, function(e) {
return o.dynamicStyle({
left: e.left,
top: e.top
}, "c0470a8e:40:48");
}), e.cellTitle = o.stylefunc(function() {
return o.style({
textAlignForRTL: "left"
}, "c0470a8e:48:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.isUnlocked ? 1 : .66
}, "c0470a8e:52:42");
}), e.progressBarStyle = o.wrap(function() {
return o.style({
position: "absolute",
bottom: 0,
right: 0,
left: 0
}, "c0470a8e:58:41");
}), e.puzzlePieceImage = o.wrap(function() {
return o.style({
height: o.Grid.getHeight(10),
bottom: void 0
}, "c0470a8e:67:41");
}), e.popupContainer = o.wrap(function() {
return o.style({
flex: 1,
alignItems: "center",
justifyContent: "center"
}, "c0470a8e:78:39");
}), e.popupContent = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(13)
}, "c0470a8e:86:37");
}), e.popupImageContainer = o.wrap(function() {
return o.style({
height: o.Grid.getHeight(o.Constants.isPC ? 50 : 35),
backgroundColor: "#00000066",
marginBottom: o.Grid.spacer(6)
}, "c0470a8e:92:44");
}), e.popupImage = o.wrap(function() {
return o.style({
left: o.Grid.spacer(5),
right: o.Grid.spacer(5)
}, "c0470a8e:100:35");
}), e.popupInfo = o.wrap(function() {
return o.style({
alignItems: "center"
}, "c0470a8e:107:34");
}), e.popupInfoHeader = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(11),
flexDirection: "row",
justifyContent: "space-between"
}, "c0470a8e:113:40");
}), e.popupPuzzlePieceIcon = o.wrap(function() {
return o.style({
texture: o.bbUrl("/sparta/jsclient/builds/assets/icon-puzzle-white-e253d349.png"),
width: o.Constants.LINE_HEIGHTS.S,
height: o.Constants.LINE_HEIGHTS.S,
marginTop: 6
}, "c0470a8e:121:45");
}), e.popupName = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2),
textAlignForRTL: "left"
}, "c0470a8e:130:34");
}), e.popupDescription = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(6),
textAlignForRTL: "left",
width: o.Grid.getWidth(11)
}, "c0470a8e:137:41");
}), e.popupPieceCount = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2),
marginTop: 5
}, "c0470a8e:145:40");
}), e.popupActionContainer = o.wrap(function() {
return o.style({
height: o.Grid.spacer(14) + o.Grid.spacer(1),
width: o.Grid.getWidth(11)
}, "c0470a8e:152:45");
}), e.puzzlePieceCountContainer = o.stylefunc(function() {
return o.style({
flexDirection: "row"
}, "c0470a8e:164:14");
}, function(e) {
return o.dynamicStyle({
justifyContent: e.isRTL ? "flex-end" : void 0
}, "c0470a8e:168:37");
}), e.popupPuzzlePieceCountText = o.stylefunc(function() {
return o.style({}, "c0470a8e:175:14");
}, function(e) {
return o.dynamicStyle({
marginLeft: e.isRTL ? 0 : 8,
marginRight: e.isRTL ? 8 : 0
}, "c0470a8e:176:37");
}), e.popupPuzzlePieceCountBuilt = o.stylefunc(function() {
return o.style({}, "c0470a8e:184:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTL ? 0 : o.Grid.spacer(3),
marginLeft: e.isRTL ? o.Grid.spacer(3) : 0
}, "c0470a8e:185:37");
}), e.openingDock = o.wrap(function() {
return o.style({
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0
}, "c0470a8e:196:36");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaBattlepackPuzzle2 = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(8), s = n(113), u = n(34), l = n(23), c = n(28), p = n(6), d = n(10), f = n(5), m = n(17), h = n(9), g = n(22), y = n(42), S = l.content.height - 2 * a.GUTTER;
function v(e) {
return "function" == typeof e;
}
var _ = 0, b = [ l.fadeAreaTop.height + a.getHeight(2), l.dangerZoneSize.width, h.SpartaGlobals.bundleIsPC ? l.dangerZoneSize.height : l.fadeAreaBottom.height, h.SpartaGlobals.bundleIsPC ? l.content.left - l.mainMenu.width - 1 : 0 ], T = [ l.fadeAreaTop.height, -50, h.SpartaGlobals.bundleIsPC ? l.dangerZoneSize.height : l.fadeAreaBottom.height, -50 ];
function E(e) {
return (e.items || []).filter(function(e) {
return !!e.progression && e.progression.unlocked;
}).length;
}
var C = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var t = d.gameStore.getGame(this.props.gameId), n = t && !this.props.isFocused && this.props.isCompleted && !this.props.muted && t ? t.styles.completedText : void 0, o = f.merge3(f.DynamicStyle.maybeLegacyStyle(this.props.style, "aba46692:146:36"), f.DynamicStyle.maybeLegacyStyle(n, "aba46692:147:61"), m.CommonStyles.opacity(this.props.muted ? .5 : 1));
return r.createElement(p.Text, e.__assign({}, this.props, {
style: o
}));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.CompletedText = C;
var I = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
if (!this.props.category) return r.createElement("surface", null);
var e = this.props.categoryUnlockStatus, t = this.props.fontColor ? this.props.fontColor : "#ffffff";
return this.props.focused && (t = "#000000"), r.createElement(C, {
style: m.CommonStyles.zOffset(10),
gameId: this.props.gameId,
size: "S",
isFocused: this.props.focused,
color: t,
muted: this.props.muted,
isCompleted: e.numUnlocked === e.numTotal,
value: e.numUnlocked + "/" + e.numTotal
});
}, n;
}(r.Component), A = f.StaticStyle.create({
justifyContent: "space-between",
width: l.content.width
}, "aba46692:661:30"), w = f.StaticStyle.create({
height: S
}, "aba46692:664:42"), P = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.currentlySelectedItem = null, n.focusPane = r.createRef(), n.itemScroller = r.createRef(), 
n.list = r.createRef(), n.itemRefs = {}, n.onItemFocus = function(e, t, r, o) {
void 0 === o && (o = !1), n.props.selectionState.setActiveItem(e, t), n.focusPaneScroller && !o && n.focusPaneScroller.scrollTo(0, 0);
}, n.onItemSelect = function(e, t) {
n.currentlySelectedItem = {
item: e,
category: n.props.selectionState.category,
index: t
}, h.SpartaGlobals.bundleIsPC && n.focusPaneScroller && n.focusPaneScroller.scrollTo(0, 0);
}, n.compareCategories = function(e, t) {
if (void 0 !== e.sortOrder || void 0 !== t.sortOrder) {
var r = void 0 !== e.sortOrder ? e.sortOrder : Number.MAX_VALUE, o = void 0 !== t.sortOrder ? t.sortOrder : Number.MAX_VALUE;
if (r !== o) return r < o ? -1 : 1;
}
if (n.props.sortCategoriesByLabel) {
var i = String(e.label).toLowerCase(), a = String(t.label).toLowerCase();
return i.localeCompare(a);
}
return 0;
}, n.scrollToSelectedItem = function(e, t) {
void 0 === e && (e = 10), void 0 === t && (t = !1);
var r = n.props.selectionState.index, o = void 0 !== r && n.itemRefs[r];
o && o.bounds && void 0 !== o.bounds.localY ? t && o.focusItem ? o.focusItem.setFocused(y.FocusSource.Spatial) : n.itemScroller.current && n.itemScroller.current.scrollToElement(o) : e > 0 && setTimeout(function() {
return n.scrollToSelectedItem(e - 1, t);
}, 250);
}, e.selectionState.setActiveCategory(e.categorizedData[0] || null), n;
}
var c;
return e.__extends(n, t), c = n, n.prototype.componentDidMount = function() {
this.preSelect(this.props);
}, n.prototype.componentWillReceiveProps = function(e) {
e.categorizedData.length && (this.updateActiveItems(e), this.preSelect(e, !0));
}, Object.defineProperty(n.prototype, "focusPaneScroller", {
get: function() {
return this.focusPane.current && this.focusPane.current.focusPaneScroller.current;
},
enumerable: !0,
configurable: !0
}), n.prototype.updateActiveItems = function(e) {
var t, n, r = e.selectionState;
if (r.category) {
var o = r.category;
t = e.categorizedData.find(function(e) {
return e.name === o.name;
});
}
r.item && (n = this.findItemInfo(e.categorizedData, r.item.code || r.item.name)), 
n && t ? this.props.selectionState.setActiveItem(n.item, n.index, t) : t && this.props.selectionState.setActiveCategory(t);
}, n.prototype.getFirstItem = function(e) {
var t = e.items || [];
return this.props.hasCategories && (t = t[0] || []), t[0];
}, n.prototype.getWidthGridCells = function() {
return void 0 !== this.props.widthGridCells ? this.props.widthGridCells : c.defaultProps.widthGridCells;
}, n.prototype.getRowItemLength = function() {
return void 0 !== this.props.rowItemLength ? this.props.rowItemLength : c.defaultProps.rowItemLength;
}, n.prototype.preSelect = function(e, t) {
void 0 === t && (t = !1);
var n, r, o, i, a = e.categorizedData, s = void 0 === a ? [] : a, u = e.preSelectedCategory, l = e.preSelectedId, c = s.slice().sort(this.compareCategories);
if (s.length) {
var p = c.find(function(e) {
return (e.items || []).length > 0;
}), d = u && s.find(function(e) {
return !!e.name && e.name.toLowerCase() === u.toLowerCase();
}), f = void 0;
if (this.props.selectionState.category && t) {
var m = this.props.selectionState.category;
f = s.find(function(e) {
return !!e.name && e.name === m.name;
});
}
n = d || f || p;
}
(this.currentlySelectedItem ? i = this.currentlySelectedItem : l && (i = this.findItemInfo(s, l)), 
i && (n = i.category, r = i.item, o = i.index), this.props.ensureItemFocus && n && !r && (r = this.getFirstItem(n), 
o = 0), n) && ((n.hasOwnProperty("name") ? this.props.selectionState.category && n.name === this.props.selectionState.category.name : n === this.props.selectionState.category) || this.setActiveCategory(n, t));
var y = n && c.indexOf(n) || -1;
(h.SpartaGlobals.bundleIsConsole && y >= 0 && this.props.showCategorization, !this.props.onlyPreselectCategory && r) && (void 0 !== l && this.onItemFocus(r, o, void 0, t), 
this.scrollToSelectedItem(void 0, g.focusSystem.controllerMode));
}, n.prototype.findItemInfo = function(e, t) {
var n, r, o, i, a, s = function(e, n) {
var r = !1;
if (n.packages ? r = n.packages.some(function(e) {
return e === t;
}) : n.code === t ? r = !0 : n.name === t && (r = !0), r) return !0;
};
if (this.props.hasCategories) for (n = 0; n < e.length; n++) {
var u = (i = e[n]).items || [], l = -1;
for (r = 0; r < u.length; r++) {
var c = u[r];
for (o = 0; o < c.items.length; o++) if (l++, s(0, a = c.items[o])) return {
category: i,
item: a,
index: l
};
}
} else for (n = 0; n < e.length; n++) {
u = (i = e[n]).items || [];
for (r = 0; r < u.length; r++) if (s(0, a = u[r])) return {
category: i,
item: a,
index: r
};
}
}, n.prototype.setActiveCategory = function(e, t) {
if (void 0 === t && (t = !1), this.list.current) {
var n = e.name;
if (v(n)) {
0;
var r = n();
"string" == typeof r && (n = r);
}
this.list.current.setActive(n || "");
}
if (this.props.ensureItemFocus) {
var o = this.getFirstItem(e);
this.onItemFocus(o, 0);
} else this.props.selectionState.setActiveItem();
this.itemScroller.current && !t && this.itemScroller.current.scrollTo(0, 0), this.props.selectionState.setActiveCategory(e);
}, n.prototype.renderCategories = function() {
var e = this;
if (!this.props.categorizedData) return r.createElement("surface", null);
var t = (this.props.categorizedData || []).slice().sort(this.compareCategories).map(function(t) {
var n = t.name;
if (v(n)) {
0;
var o = n();
"string" == typeof o && (n = o);
}
var i = function a(e, t) {
if (!e || !e.items) return {};
var n = 0, r = 0;
return t ? e.items.forEach(function(e) {
n += E(e), r += e.items.length;
}) : (n = E(e), r = e.items.length), {
allUnlocked: n === r,
numTotal: r,
numUnlocked: n
};
}(t, e.props.hasCategories || !1), s = t.muted || !1, u = e.props.selectionState.category, l = u && t.name === u.name;
return {
label: n || "",
scrollLabel: !0,
id: n,
muted: s,
showActiveIndicator: l,
onTrigger: function() {
return e.setActiveCategory(t);
},
subLabel: r.createElement(I, {
gameId: e.props.gameId,
categoryUnlockStatus: i,
category: t,
muted: s
})
};
});
return r.createElement(s.List, {
ref: this.list,
items: t,
divider: "item"
});
}, n.prototype.render = function() {
var t = this, n = this.props.disableFocusPane ? 2 : 3;
n = this.props.showCategorization ? n : n - 1;
var o = {
clipPadding: b,
clipContent: !0,
scrollToFocus: g.focusSystem.controllerMode,
softClip: T,
scrollbar: !0
}, i = this.props.selectionState.category, s = this.props.categoryInFocusPane && i ? i.name : null;
if (!this.props.categorizedData) return r.createElement("surface", null);
var c = this.props.showCategorization ? 6 : 0, p = this.props.showCategorization ? this.getWidthGridCells() : 18, d = 24 - c - p - (n - 1), f = !this.props.disableFocusPane && r.createElement(x, {
ref: this.focusPane,
category: s,
widthPaneContent: d,
scrollerHeight: S,
scrollerProps: o,
renderFocusPane: this.props.renderFocusPane
}), y = l.content.height;
this.props.renderCategoryInfo && (y -= 4 * a.GUTTER), h.SpartaGlobals.bundleIsPC && (y -= 2 * a.GUTTER);
var v = this.props.selectionState.category ? this.props.selectionState.category.name : "itemScroller" + ++_, E = function(e, n) {
t.itemRefs[e] = n;
};
return r.createElement(a.Row, {
style: A
}, this.props.showCategorization ? r.createElement(a.Col, {
key: "categories",
width: c
}, r.createElement(u.Scroller, e.__assign({
style: w
}, o), this.renderCategories())) : null, r.createElement(a.Col, {
key: "items",
width: p
}, this.props.renderCategoryInfo ? this.props.renderCategoryInfo(this.props.selectionState.category) : null, r.createElement("surface", {
key: "sc",
style: m.CommonStyles.flex1
}, r.createElement(u.Scroller, e.__assign({
ref: this.itemScroller,
key: v,
style: {
height: y
}
}, o, {
controller: !1
}), this.props.hasCategories ? r.createElement(R, {
itemRefCallback: E,
selectionState: this.props.selectionState,
showCategorization: this.props.showCategorization,
rowItemLength: this.getRowItemLength(),
widthGridCells: this.getWidthGridCells(),
renderItem: this.props.renderItem,
onItemSelect: this.onItemSelect,
onItemFocus: this.onItemFocus
}) : r.createElement(O, {
itemRefCallback: E,
selectionState: this.props.selectionState,
indexOffset: 0,
showCategorization: this.props.showCategorization,
rowItemLength: this.getRowItemLength(),
widthGridCells: this.getWidthGridCells(),
renderItem: this.props.renderItem,
onItemSelect: this.onItemSelect,
onItemFocus: this.onItemFocus
})))), f);
}, n.defaultProps = {
onlyPreselectCategory: !1,
ensureItemFocus: !1,
sortCategoriesByLabel: !0,
categoryInFocusPane: !1,
showCategorization: !0,
rowItemLength: 4,
widthGridCells: 10
}, e.__decorate([ o.action ], n.prototype, "updateActiveItems", null), e.__decorate([ o.action ], n.prototype, "setActiveCategory", null), 
n = c = e.__decorate([ i.observer ], n);
}(r.Component);
t.CareerSection = P;
var R = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this;
if (!this.props.selectionState.category || !this.props.selectionState.category.items) return r.createElement("surface", null);
var t = 0, n = this.props.selectionState.category.items, o = n.length - 1, i = n.map(function(n, i) {
var s = n.items || [];
if (!s.length) return null;
var u = i === o, l = 0 === i, c = r.createElement(O, {
itemRefCallback: e.props.itemRefCallback,
selectionState: e.props.selectionState,
indexOffset: t,
showCategorization: e.props.showCategorization,
rowItemLength: e.props.rowItemLength,
widthGridCells: e.props.widthGridCells,
renderItem: e.props.renderItem,
onItemSelect: e.props.onItemSelect,
onItemFocus: e.props.onItemFocus,
category: n
});
t += s.length;
var d = "icat-" + n.name, m = f.DynamicStyle.wrapLegacyStyle({
marginBottom: a.GUTTER,
marginTop: l ? 0 : 2 * a.GUTTER
}, "aba46692:761:31");
return r.createElement("surface", {
key: d,
style: {
localBounds: !1,
marginBottom: u ? 0 : a.GUTTER
}
}, r.createElement(p.Text, {
value: n.name,
size: "S",
style: m
}), c);
});
return r.createElement("surface", null, i);
}, n = e.__decorate([ i.observer ], n);
}(r.Component), O = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.buttonAction = function() {
return e.props.selectionState.incPage();
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = this.props.category || this.props.selectionState.category;
if (!t) return r.createElement("surface", null);
var n = t.items;
if (!n || !n.length) return r.createElement("surface", {
key: "noitems"
});
var o = this.props.showCategorization ? this.props.rowItemLength : 6, i = this.props.showCategorization ? this.props.widthGridCells : 18, s = a.GUTTER, u = s * (o - 1), l = a.getWidth(i) / o - u / o, p = Math.ceil(n.length / o), d = n.map(function(n, r) {
var i = Math.floor(r / o) + 1, a = {
width: l,
marginBottom: i === p ? 0 : s,
marginLeft: r % o == 0 ? 0 : s
}, u = e.props.indexOffset + r;
return e.props.renderItem(a, n, u, function() {
return e.props.onItemSelect(n, u);
}, function() {
return e.props.onItemFocus(n, u);
}, t, e.props.itemRefCallback);
}), f = 100 * this.props.selectionState.page, g = d.slice(0, f), y = h.SpartaGlobals.bundleIsConsole ? 4 * l + 3 * s : 2 * l + s, S = d.length - f;
return S > 100 && (S = 100), r.createElement("surface", {
style: m.CommonStyles.noLocalBounds
}, r.createElement("surface", {
key: "pagedItems",
style: [ m.CommonStyles.flexRow, m.CommonStyles.flexWrap, m.CommonStyles.noLocalBounds ]
}, g), r.createElement("surface", {
key: "footer",
style: [ m.CommonStyles.alignItemsCenter, m.CommonStyles.noLocalBounds ]
}, d.length > f ? r.createElement(c.Button, {
name: "aba46692:858:35",
textSize: "M",
text: __("ID_SPARTA_CAREER_ITEMS_NEXT100").replace("100", S + ""),
style: {
width: y
},
action: this.buttonAction
}) : r.createElement("surface", null)));
}, n = e.__decorate([ i.observer ], n);
}(r.Component), x = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.focusPaneScroller = r.createRef(), e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(a.Col, {
key: "focusPane",
width: this.props.widthPaneContent
}, r.createElement(u.Scroller, e.__assign({
style: {
height: this.props.scrollerHeight
},
controller: !0
}, this.props.scrollerProps, {
ref: this.focusPaneScroller
}), this.props.renderFocusPane(this.props.widthPaneContent)));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(50), s = n(214), u = n(123), l = n(7), c = n(336), p = n(15), d = n(12), f = n(11), m = n(26), h = n(1574), g = n(1576), y = n(1577), S = n(1578);
t.TEXT_TWEEN_DURATION = 2 * p.Animation.defaultTweenOptions.duration, t.TEXT_OPACITY_TWEEN_DURATION = 4 * p.Animation.defaultTweenOptions.duration, 
t.BACKGROUND_TWEEN_DURATION = 2 * p.Animation.defaultTweenOptions.duration, t.CONTENT_MOVE_DELAY = 50, 
t.STORE_LOCATION = "destination/store";
var v = function() {
function n(e, n, i, a) {
var s = this;
this.locationStore = n, this.backgroundContainer = i, this.focusSystem = a, this.pageChangeLockTimeout = -1, 
this.currentPageIndex = 0, this.currentSlideIndex = 0, this.currentSlide = o.observable.map(), 
this.slideRotationActive = !1, this.changeSlideTimeStamp = 0, this.backgroundFadedOut = !0, 
this.backgroundBlured = !1, this.prevPage = function() {
s.changePage(1);
}, this.nextPage = function() {
s.changePage(-1);
}, this.rotateSlide = function() {
s.slideRotationActive && s.goToNextSlide();
}, this.changePage = o.action(function(e) {
-1 === e ? s.isLastPage || s.setPage(s.currentPageIndex + 1) : 1 === e && s.currentPageIndex > 0 && s.setPage(s.currentPageIndex - 1);
}), this.setPage = o.action(function(e) {
-1 === s.pageChangeLockTimeout && (s.pageChangeLockTimeout = setTimeout(function() {
s.pageChangeLockTimeout = -1;
}, s.focusSystem.controllerMode ? 620 : 480), s.previousPageIndex = s.currentPageIndex, 
s.currentPageIndex = e, s.triggerSlideRotation());
}), this.destinationData = e.fragment, this.currentSlide.observe(o.action(function() {
s.changeSlideTimeStamp = Date.now();
})), o.when(function() {
return void 0 !== s.destinationData.value;
}, function() {
var e, n;
o.reaction(function() {
return s.locationStore.location;
}, function(o) {
0 === o.url.indexOf("destination") ? (e && clearTimeout(e), n || (n = s.backgroundContainer.extra.addElement("destinationBackgroundSlider", r.createElement(g.BackgroundSlider, {
key: "destinationBackgroundSlider",
pageUIState: s
}))), s.fadeBackgroundIn(), "destination" === o.url ? s.unblurBackground() : 0 === o.url.indexOf("destination") && (s.setPage(0), 
s.blurBackground())) : (s.fadeBackgroundOut(), e = setTimeout(function() {
n && (n(), n = void 0), s.reset();
}, t.BACKGROUND_TWEEN_DURATION));
}, {
fireImmediately: !0
});
});
}
return n.prototype.fadeBackgroundOut = function() {
this.backgroundFadedOut = !0;
}, n.prototype.fadeBackgroundIn = function() {
this.backgroundFadedOut = !1;
}, n.prototype.blurBackground = function() {
this.backgroundBlured = !0;
}, n.prototype.unblurBackground = function() {
this.backgroundBlured = !1;
}, Object.defineProperty(n.prototype, "pages", {
get: function() {
return this._pages || (this._pages = h.getPages()), this.destinationData.value ? this._pages.concat(this.destinationData.value.promoPages) : this._pages;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "currentPage", {
get: function() {
var e = this.pages;
return e[this.currentPageIndex] || e[0];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "isLastPage", {
get: function() {
return this.currentPageIndex === this.pages.length - 1;
},
enumerable: !0,
configurable: !0
}), n.prototype.stopSlideRotation = function() {
clearInterval(this.slideRotationInterval), this.slideRotationActive = !1;
}, n.prototype.triggerSlideRotation = function() {
this.slideRotationActive = !0, clearInterval(this.slideRotationInterval), this.slideRotationInterval = setInterval(this.rotateSlide, 15e3);
}, n.prototype.setSlide = function(e, t) {
this.getSlide(e) !== t && (this.currentSlide.set(e, t), this.stopSlideRotation());
}, n.prototype.goToNextSlide = function() {
var e = this.currentPage.slides, t = e && e.length, n = this.getSlide(this.currentPage.id);
if (t && t > 1) {
var r = n + 1;
r >= t && (r = 0), this.currentSlide.set(this.currentPage.id, r);
}
}, n.prototype.getSlide = function(e) {
return this.currentSlide.get(e) || 0;
}, n.prototype.getSlides = function(e) {
var t = this.pages[e];
if (!t) return [];
var n = [ t.backgroundUrl ];
return t.slides && (n = t.slides.map(function(e) {
return e.backgroundUrl;
})), n;
}, n.prototype.reset = function() {
this.currentPageIndex = 0, this.currentSlideIndex = 0, this.currentSlide.clear();
}, e.__decorate([ o.observable ], n.prototype, "currentPageIndex", void 0), e.__decorate([ o.observable ], n.prototype, "currentSlideIndex", void 0), 
e.__decorate([ o.observable ], n.prototype, "changeSlideTimeStamp", void 0), e.__decorate([ o.observable ], n.prototype, "backgroundFadedOut", void 0), 
e.__decorate([ o.observable ], n.prototype, "backgroundBlured", void 0), e.__decorate([ o.action ], n.prototype, "fadeBackgroundOut", null), 
e.__decorate([ o.action ], n.prototype, "fadeBackgroundIn", null), e.__decorate([ o.action ], n.prototype, "blurBackground", null), 
e.__decorate([ o.action ], n.prototype, "unblurBackground", null), e.__decorate([ o.computed ], n.prototype, "currentPage", null), 
e.__decorate([ o.computed ], n.prototype, "isLastPage", null), e.__decorate([ o.action ], n.prototype, "setSlide", null), 
e.__decorate([ o.action ], n.prototype, "goToNextSlide", null), e.__decorate([ o.action ], n.prototype, "reset", null), 
n;
}();
t.BFVPromoUIState = v;
var _ = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = l.SpartaContext.getFromComponent(e), e.onMouseScroll = function(t) {
e.props.pageUIState.changePage(t.scroll > 0 ? 1 : -1);
}, e;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e = this, t = [];
return this.sparta.twinkle.focus.controllerMode && (t = t.concat([ new d.Input({
visible: !1,
label: __("ID_SPARTA_ACTION_SCROLL"),
key: f.Keys.ScrollUp,
action: function() {
e.props.pageUIState.currentPageIndex > 0 && e.props.pageUIState.changePage(1);
}
}), new d.Input({
visible: !0,
label: __("ID_SPARTA_ACTION_SCROLL"),
key: f.Keys.ScrollDown,
action: function() {
e.props.pageUIState.isLastPage || e.props.pageUIState.changePage(-1);
}
}) ])), t;
}, n.prototype.render = function() {
return r.createElement("surface", {
style: s.BFVPromoStyles.container,
onMouseScroll: this.onMouseScroll
}, r.createElement(S.ContentSlider, {
pageUIState: this.props.pageUIState,
data: this.props.data
}), r.createElement(y.PageIndicator, {
pageUIState: this.props.pageUIState
}));
}, n.contextTypes = l.SpartaContext.contextTypes, n = e.__decorate([ m.input, i.observer ], n);
}(r.Component), b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.destination = c.DestinationContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this;
return r.createElement(u.ThemeProvider, {
debugName: "abcb15ff:334:39",
theme: this.destination.theme
}, r.createElement(a.OptimisticFragmentLoader, {
load: this.destination.destinationDataStore.get()
}, function(t) {
return r.createElement(_, {
data: t,
pageUIState: e.destination.pageUIState
});
}));
}, n.contextTypes = c.DestinationContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.BFVPromo = b;
}).call(this, n(2));
}, function(e, t, n) {
var r = n(187);
e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
return "String" == r(e) ? e.split("") : Object(e);
};
}, function(e, t, n) {
var r = n(242), o = n(63)("iterator"), i = n(189);
e.exports = n(54).getIteratorMethod = function(e) {
if (void 0 != e) return e[o] || e["@@iterator"] || i[r(e)];
};
}, function(e, t, n) {
var r = n(187), o = n(63)("toStringTag"), i = "Arguments" == r(function() {
return arguments;
}());
e.exports = function(e) {
var t, n, a;
return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n = function(e, t) {
try {
return e[t];
} catch (e) {}
}(t = Object(e), o)) ? n : i ? r(t) : "Object" == (a = r(t)) && "function" == typeof t.callee ? "Arguments" : a;
};
}, function(e, t, n) {
var r = n(70).f, o = n(99), i = n(63)("toStringTag");
e.exports = function(e, t, n) {
e && !o(e = n ? e : e.prototype, i) && r(e, i, {
configurable: !0,
value: t
});
};
}, function(e, t) {
e.exports = !1;
}, function(e, t, n) {
var r = n(63)("unscopables"), o = Array.prototype;
void 0 == o[r] && n(114)(o, r, {}), e.exports = function(e) {
o[r][e] = !0;
};
}, function(e, t, n) {
"use strict";
var r = n(57), o = n(70), i = n(83), a = n(63)("species");
e.exports = function(e) {
var t = r[e];
i && t && !t[a] && o.f(t, a, {
configurable: !0,
get: function() {
return this;
}
});
};
}, function(e, t, n) {
var r = n(106);
e.exports = function(e, t, n) {
for (var o in t) r(e, o, t[o], n);
return e;
};
}, function(e, t) {
e.exports = function(e, t, n, r) {
if (!(e instanceof t) || void 0 !== r && r in e) throw TypeError(n + ": incorrect invocation!");
return e;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(100), o = n(898), i = function() {
function e(e) {
if (void 0 === e && (e = {}), this.userId = e.userId + "", this.state = e.state || r.UserPresenceStates.Offline, 
this.firstPartyState = e.firstPartyState || r.UserPresenceStates.Offline, this.text = e.text, 
this.server = e.server, !(this.state in r.UserPresenceStates)) throw Error("Unknown presence state: " + this.state);
this.state !== r.UserPresenceStates.Joinable || this.server || (this.state = r.UserPresenceStates.Playing);
}
return e.getStateString = function(e) {
return o.getTranslatedPresence(e);
}, e.prototype.getServerGame = function(e) {
var t = this.server && e.getGame(this.server.game);
if (t) return t;
}, e.prototype.equals = function(e) {
return !(e.hasOwnProperty("state") && this.state !== e.state || e.hasOwnProperty("firstPartyState") && this.firstPartyState !== e.firstPartyState || e.hasOwnProperty("text") && this.text !== e.text || e.hasOwnProperty("server") && this.server !== e.server);
}, e.prototype.toString = function() {
return this.text || e.getStateString(this.state);
}, e;
}();
t.UserPresence = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3), a = n(45);
!function(e) {
e[e.none = 0] = "none", e[e.connecting = 1] = "connecting", e[e.established = 2] = "established", 
e[e.failed = 3] = "failed";
}(r = t.GatewaySessionState || (t.GatewaySessionState = {}));
var s = function() {
function e() {
var e = this;
this.onSessionEstablished = a.createTypedAction(), this.sessionState = r.none, i.reaction(function() {
return e.session;
}, function(t) {
null != t && e.setSessionEstablished(t);
});
}
return Object.defineProperty(e.prototype, "canConnect", {
get: function() {
return this.sessionState === r.none || this.sessionState === r.failed;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasResolved", {
get: function() {
return this.sessionState === r.established || this.sessionState === r.failed;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "environmentId", {
get: function() {
return this.session ? this.session.envId : void 0;
},
enumerable: !0,
configurable: !0
}), e.prototype.setSessionEstablished = function(e) {
this.sessionState = r.established, this.onSessionEstablished(e);
}, e.prototype.receiveSession = function(e) {
this.session = e;
}, e.prototype.dropSession = function() {
this.sessionState = r.none, this.session = void 0;
}, e.prototype.setSessionState = function(e) {
this.sessionState = e, this.session = void 0;
}, o.__decorate([ i.observable ], e.prototype, "session", void 0), o.__decorate([ i.observable ], e.prototype, "sessionState", void 0), 
o.__decorate([ i.computed ], e.prototype, "canConnect", null), o.__decorate([ i.computed ], e.prototype, "hasResolved", null), 
o.__decorate([ i.computed ], e.prototype, "environmentId", null), o.__decorate([ i.action ], e.prototype, "setSessionEstablished", null), 
o.__decorate([ i.action ], e.prototype, "receiveSession", null), o.__decorate([ i.action ], e.prototype, "dropSession", null), 
o.__decorate([ i.action ], e.prototype, "setSessionState", null), e;
}();
t.GatewayState = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.NONE = 0] = "NONE", e[e.INVALID_SESSION = -32501] = "INVALID_SESSION", e[e.AUTHENTICATION_FAILED = -32502] = "AUTHENTICATION_FAILED", 
e[e.FIRST_PARTY_TOKEN_INVALID = -22300] = "FIRST_PARTY_TOKEN_INVALID", e[e.FIRST_PARTY_TOKEN_EXPIRED = -22301] = "FIRST_PARTY_TOKEN_EXPIRED", 
e[e.KILLSWITCH_SERVICE_DISABLED = -32800] = "KILLSWITCH_SERVICE_DISABLED", e[e.KILLSWITCH_SERVICE_RATE_LIMITED = -32801] = "KILLSWITCH_SERVICE_RATE_LIMITED", 
e[e.GAME_NOT_SUPPORTED = -32802] = "GAME_NOT_SUPPORTED", e[e.SERVICE_NOT_AVAILABLE = -32804] = "SERVICE_NOT_AVAILABLE", 
e[e.MAXIMUM_BOOKMARKS_REACHED = -32805] = "MAXIMUM_BOOKMARKS_REACHED", e[e.MISSING_PINGSITES = -34601] = "MISSING_PINGSITES", 
e[e.MM_ALREADY_IN_PROGRESS = -34602] = "MM_ALREADY_IN_PROGRESS", e[e.BLAZE_ERROR = -34600] = "BLAZE_ERROR";
}(t.GatewayErrorCodes || (t.GatewayErrorCodes = {}));
var r = function() {
function e(e, t, n) {
this.message = e, this.code = t, this.requestInfo = n, this.name = "GatewayRequestError", 
this.stack = "";
}
return e.is = function(e) {
return "GatewayRequestError" === e.name;
}, e;
}();
t.GatewayRequestError = r;
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.EU = "eu", e.JP = "jp", e.RU = "ru", e.NA = "na";
}(r = t.Regions || (t.Regions = {})), t.isRegion = function o(e) {
return e.toUpperCase() in r;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.id = t.id, this.name = t.name, this.items = t.items, this.infoComponent = t.infoComponent, 
this.muted = !t.items || 0 === t.items.length, this.sortOrder = t.sortOrder || 0;
};
}();
t.AwardCategory = r;
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
});
var o = n(1), i = n(14), a = n(252), s = n(9), u = n(929);
t.AlignBadgeInfoPosition = {
bottom: "bottom",
right: "right",
left: "left",
none: "none"
};
var l = ((r = {})[a.Regions.EU] = [], r[a.Regions.JP] = [], r[a.Regions.NA] = [], 
r[a.Regions.RU] = [], r), c = function() {
return function e(t) {
void 0 === t && (t = {}), this.isEnabled = function() {
return !1;
}, Object.assign(this, t);
};
}();
t.RSPGameConfig = c;
var p = function() {
return function e(t) {
this.items = [], this.showUnlockInfo = !0, Object.assign(this, t);
};
}();
t.CareerConfig = p;
var d, f = function() {
function e(e) {
void 0 === e && (e = {}), this.serverListRoute = "", this.serverListDefaultFilter = {}, 
this.serverLimit = 100, this.supportedRoles = [ "soldier" ], this.supportedServerTypes = [ "OFFICIAL", "RANKED", "UNRANKED", "PRIVATE" ], 
this.hasSpectatorFeatureFlag = !1, this.supportsFavorite = !0, Object.assign(this, e);
}
return Object.defineProperty(e.prototype, "recentServersRoute", {
get: function() {
return this.serverListRoute + "?tab=recent";
},
enumerable: !0,
configurable: !0
}), e;
}();
t.ServerConfig = f, function(e) {
e.footer = "footer", e.header = "header";
}(d = t.GameJoinNoticePlacement || (t.GameJoinNoticePlacement = {}));
var m = function() {
return function e(t) {
void 0 === t && (t = {}), this.useGameJoinNotice = !1, this.gameJoinNoticePlacement = d.header, 
Object.assign(this, t);
};
}();
t.JoinConfig = m;
var h = function() {
return function e(t) {
void 0 === t && (t = {}), this.supportsMixId = !1, Object.assign(this, t);
};
}();
t.QuickmatchConfig = h;
var g = function() {
return function e(t) {
this.premiumIconUrl = i.bbOfflineUrl("/sparta/assets/ui/icons/ui/icon_premium-186e97c5.jpg"), 
this.acceptsPremiumTrial = !1, this.acceptsPremiumFriends = !1, this.enablePremiumTreatment = !1, 
Object.assign(this, t);
};
}();
t.PremiumConfig = g;
var y = function() {
return function e(t) {
void 0 === t && (t = {}), this.useFirstParty = !0;
var n = 0;
s.SpartaGlobals.bundleIsPC ? n = 16 : s.SpartaGlobals.bundleIsXBOXONE ? n = 5 : s.SpartaGlobals.bundleIsPS4 && (n = 8), 
this.maxPartySize = n, Object.assign(this, t);
};
}();
t.PartyConfig = y;
var S = function() {
function e() {
this.onboardingMessages = {}, this.copyrightYear = new Date().getFullYear(), this.invalidateStats = !1, 
this.originAccountFlowInJs = !1, this.isEnabled = !0, this.locales = l, this.comCenterConfig = {
isModal: s.SpartaGlobals.bundleIsConsole,
showBackground: !1,
isEnabled: function() {
return !0;
}
}, this.rspConfig = new c(), this.joinConfig = new m(), this.partyConfig = new y(), 
this.quickmatchConfig = new h(), this.soldierConfig = {
showCategorizationForVehicles: !1,
showBiggerCardImages: !1,
showAccessoriesForWeapons: !1
}, this.serverConfig = new f(), this.homeWidgets = [], this.styles = {}, this.alignBadgeInfo = t.AlignBadgeInfoPosition.none, 
this.recommendations = {};
}
return e.prototype.customizeSoldierAction = function() {}, e.prototype.hasCareerCard = function() {
return !0;
}, e.prototype.hasCareerSection = function(e) {
return null != this.careerConfig.items.find(function(t) {
return t.route === e;
});
}, e.prototype.getCurrencyName = function() {
return "";
}, e.prototype.shouldDisplayEorFeedback = function() {
return !1;
}, e.prototype.hasCustomizeSoldier = function() {
return !1;
}, e.prototype.hasCustomEmblems = function() {
return !0;
}, e.prototype.getDebugScreenInfo = function() {
return {};
}, e.prototype.hasOnboardingMessages = function(e) {
return this.onboardingMessages.hasOwnProperty(e);
}, e.prototype.getOnboardingMessages = function(e) {
return this.hasOnboardingMessages(e) ? this.onboardingMessages[e] : [];
}, e.prototype.isCTE = function() {
return -1 !== this.gameId.toLowerCase().indexOf("cte");
}, e.prototype.getSoldierImageUrl = function(e) {
return "http://eaassets-a.akamaihd.net/battlelog/bb/sparta/soldier-silhouette-40850146.png";
}, e.prototype.overrideTutorialFunction = function(e, t, n) {}, e.prototype.wrapEntryPoint = function(e, t) {
var n = this, r = function(r) {
return o.createElement(e.Provider, {
value: n
}, o.createElement(t, r));
};
return r.displayName = t.displayName || t.name, r;
}, e.prototype.generatePinEvent = function(e) {
return new u.BasicPinEvent(e);
}, e;
}();
t.Game = S;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(3), o = function() {
return function e(t, n) {
this.key = t, this.value = n;
};
}();
t.Setting = o;
var i = function() {
function t(e, t, n, r, o, i, a, s) {
this.id = e, this.label = t, this.description = n, this.options = r, this.defaultSetting = o, 
this.initialSetting = i, this._isEnabled = !0, this.setting = i, this.optionFormatter = a, 
this.optionQualifier = s;
}
return Object.defineProperty(t.prototype, "value", {
get: function() {
return this.formatSetting(this.setting);
},
enumerable: !0,
configurable: !0
}), t.prototype.set = function(e) {
this.setting = e;
}, t.prototype.enable = function() {
this._isEnabled = !0;
}, t.prototype.disable = function() {
this._isEnabled = !1;
}, Object.defineProperty(t.prototype, "modified", {
get: function() {
return this.setting.value !== this.initialSetting.value;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isEnabled", {
get: function() {
return this._isEnabled;
},
enumerable: !0,
configurable: !0
}), t.prototype.formatSetting = function(e) {
return this.optionFormatter ? this.optionFormatter(e, this.defaultSetting) : e.value;
}, t.prototype.toSetting = function() {
var e;
return (e = {})[this.setting.key] = "on", e;
}, t.prototype.equalSettings = function(e, t) {
return e.value === t.value;
}, t.prototype.isValid = function(e) {
return !this.optionQualifier || this.optionQualifier(e);
}, t.prototype.nextSetting = function() {
var e = this, t = this.options.find(function(t) {
return e.equalSettings(t, e.setting);
}) || this.options[0], n = this.options.indexOf(t), r = this.options.slice(n + 1).find(function(t) {
return e.isValid(t);
});
return r || (r = this.options.find(function(t) {
return e.isValid(t);
})), r || t;
}, t.prototype.toggle = function() {
this.set(this.nextSetting());
}, e.__decorate([ r.observable ], t.prototype, "setting", void 0), e.__decorate([ r.observable ], t.prototype, "_isEnabled", void 0), 
e.__decorate([ r.computed ], t.prototype, "value", null), e.__decorate([ r.action ], t.prototype, "set", null), 
e.__decorate([ r.action ], t.prototype, "enable", null), e.__decorate([ r.action ], t.prototype, "disable", null), 
e.__decorate([ r.computed ], t.prototype, "modified", null), t;
}();
t.Option = i;
var a = function(t) {
function n(e, n, r, i, a, s, u) {
var l = [ new o(e, !0), new o(e, !1) ];
return t.call(this, e, n, r, l, new o(e, !!i), new o(e, !!a), s, u) || this;
}
return e.__extends(n, t), n.prototype.toSetting = function() {
var e;
return (e = {})[this.setting.key] = this.setting.value ? "on" : "off", e;
}, n.fromSetting = function(e) {
return "on" === e;
}, n;
}(i);
t.BooleanOption = a;
var s = function(t) {
function n(e, n, r, i, a, s, u, l) {
var c = i.map(function(t) {
return new o(e, t);
});
return t.call(this, e, n, r, c, new o(e, a), new o(e, s), u, l) || this;
}
return e.__extends(n, t), n;
}(i);
t.ObjectOption = s;
var u = function() {
function e(e) {
this.images = e;
}
return e.prototype.image = function(e) {
var t = this.images.find(function(t) {
return t.id === e;
});
return t ? t.url : null;
}, e;
}();
t.ImageSet = u;
var l = function() {
return function e(t, n, r, o, i, a) {
this.id = t, this.label = n, this.images = r, this.gameModes = o, this.groupIndex = i, 
this.groupName = a;
};
}();
t.Map = l;
var c = function() {
return function e(t, n, r, o, i, a, s) {
this.id = t, this.filterKey = n, this.label = r, this.description = o, this.images = i, 
this.groupIndex = a, this.groupName = s;
};
}();
function p(e) {
return e.gameMode.filterKey + "/" + e.map.id;
}
t.GameMode = c, t.reduceToGroups = function d(e) {
return e.reduce(function(e, t) {
var n = e[t.groupIndex];
return n || (n = {
index: t.groupIndex,
name: t.groupName || __("ID_SPARTA_QUICKMATCH_BASE_GAME"),
options: []
}), n.options.push(t), e[t.groupIndex] = n, e;
}, []).filter(function(e) {
return !!e;
}).sort(function(e, t) {
return e.index - t.index;
});
};
var f = function() {
function t(e, t, n, r, o) {
this.id = e, this.mapOptions = t, this.gameModeOptions = n, this.defaultEntry = r, 
this.minimumMapEntries = 1, this.maximumMapEntries = 32;
var i = o && 0 !== o.length ? o : [ r ];
this.entries = i, this.initialEntries = i;
}
return Object.defineProperty(t.prototype, "modified", {
get: function() {
return this.initialEntries.map(function(e) {
return p(e);
}).join(",") !== this.entries.map(function(e) {
return p(e);
}).join(",");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasMaxEntries", {
get: function() {
return this.entries.length === this.maximumMapEntries;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasMinEntries", {
get: function() {
return this.entries.length === this.minimumMapEntries;
},
enumerable: !0,
configurable: !0
}), t.prototype.addEntry = function(e) {
if (!this.hasMaxEntries) return this.entries.push(e || this.defaultEntry), this.entries[this.entries.length - 1];
}, t.prototype.changeEntry = function(e, t) {
this.entries.splice(e, 1, t);
}, t.prototype.removeEntry = function(e) {
e < 0 || e >= this.entries.length || this.hasMinEntries || this.entries.splice(e, 1);
}, t.prototype.toSetting = function() {
return this.entries.map(function(e) {
return {
gameMode: e.gameMode.id,
mapName: e.map.id
};
});
}, e.__decorate([ r.observable ], t.prototype, "entries", void 0), e.__decorate([ r.observable ], t.prototype, "initialEntries", void 0), 
e.__decorate([ r.computed ], t.prototype, "modified", null), e.__decorate([ r.computed ], t.prototype, "hasMaxEntries", null), 
e.__decorate([ r.computed ], t.prototype, "hasMinEntries", null), e.__decorate([ r.action ], t.prototype, "addEntry", null), 
e.__decorate([ r.action ], t.prototype, "changeEntry", null), e.__decorate([ r.action ], t.prototype, "removeEntry", null), 
t;
}();
t.MapRotationOption = f;
var m = function() {
function t(e, t, n, r) {
void 0 === n && (n = ""), void 0 === r && (r = 255), this.id = e, this.label = t, 
this.defaultSetting = n, this.maxLength = r, this._isVisible = !0, this._isEnabled = !0, 
this.setting = n;
}
return Object.defineProperty(t.prototype, "value", {
get: function() {
return this.setting;
},
enumerable: !0,
configurable: !0
}), t.prototype.toSetting = function() {
var e;
return (e = {})[this.id] = this.value, e;
}, t.prototype.change = function(e) {
this.setting = e;
}, t.prototype.hide = function() {
this._isVisible = !1;
}, t.prototype.disable = function() {
this._isEnabled = !1;
}, Object.defineProperty(t.prototype, "modified", {
get: function() {
return this.setting !== this.defaultSetting;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isEnabled", {
get: function() {
return this._isEnabled;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isVisible", {
get: function() {
return this._isVisible;
},
enumerable: !0,
configurable: !0
}), e.__decorate([ r.observable ], t.prototype, "setting", void 0), e.__decorate([ r.computed ], t.prototype, "value", null), 
e.__decorate([ r.action ], t.prototype, "change", null), e.__decorate([ r.action ], t.prototype, "hide", null), 
e.__decorate([ r.action ], t.prototype, "disable", null), e.__decorate([ r.computed ], t.prototype, "modified", null), 
t;
}();
t.TextOption = m;
var h = function() {
function t(e, t, n, r, o) {
this.id = e, this.label = t, this.items = n, this.configurator = r, this.configFormatter = o;
}
return Object.defineProperty(t.prototype, "value", {
get: function() {
return this.configFormatter ? this.configFormatter(this.items) : this.items.length;
},
enumerable: !0,
configurable: !0
}), e.__decorate([ r.computed ], t.prototype, "value", null), t;
}();
t.ConfigGroup = h;
var g = function() {
function e(e, t) {
this.rspSettings = e, this.groups = t.filter(function(e) {
return e instanceof h;
});
}
return e.prototype.getOption = function(e) {
return this.groups.reduce(function(e, t) {
return e.concat(t.items);
}, []).find(function(t) {
return e === t.id;
});
}, e.prototype.getGroup = function(e) {
return this.groups.find(function(t) {
return t.id === e;
});
}, e;
}();
t.RSPConfig = g;
var y = function() {
function e(e, t, n) {
this.levels = e, this.gameModes = t, this.masks = n;
}
return e.prototype.getLevel = function(e) {
return this.levels.find(function(t) {
return t.levelName === e;
});
}, e.prototype.getGameMode = function(e) {
return this.gameModes.find(function(t) {
return t.gameModeName === e;
});
}, e.prototype.getSmallestGameModeSize = function(e) {
var t = this;
return e.map(function(e) {
var n = t.getGameMode(e);
return n ? n.playerCount : 0;
}).sort()[0];
}, e.prototype.getMask = function(e) {
return this.masks.find(function(t) {
return t.maskName === e;
});
}, e;
}();
t.RSPTemplate = y;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.milliseconds = function r(e) {
var t = e.seconds || 0;
return 60 * (e.minutes || 0) * 1e3 + 1e3 * t;
}, t.seconds = function o(e) {
var t = e.seconds || 0;
return 60 * (e.minutes || 0) + t;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(171);
t.TwinkleContext = r.createContext("Twinkle");
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(8), a = n(306), s = n(7), u = n(259), l = n(5).StaticStyle.wrapLegacyStyleSheet({
container: {
width: i.getWidth(4),
height: i.getWidth(4),
textureMode: "contain"
}
}, "2b517a1d:8:15"), c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.emblem, n = e.size, r = e.format, i = e.style, a = u.getValidEmblemUrl(this.sparta.stores.hostingGameStore, p(t, n, r)), s = {};
return a && (s = {
texture: a
}), o.createElement("surface", {
style: [ l.container, s, i ]
});
}, t.contextTypes = s.SpartaContext.contextTypes, t;
}(o.Component);
function p(e, t, n) {
return a.imageUrlFromTemplate(e, t || 256, n || "png");
}
t.PlatoonEmblem = c, t.getEmblemUrl = p;
}, function(e, t, n) {
"use strict";
function r(e) {
return e && -1 === e.indexOf("/exclusive/");
}
Object.defineProperty(t, "__esModule", {
value: !0
}), t.isCustomEmblem = r, t.getValidEmblemUrl = function o(e, t) {
var n = !1;
return e.game && (n = e.game.hasCustomEmblems()), n || !r(t) ? t : "";
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.customTextColor = "#d9d91d";
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o, i = n(0), a = n(1), s = n(3), u = n(68), l = n(549), c = n(11), p = n(26), d = n(12), f = n(6), m = n(134), h = n(4), g = n(138), y = n(5), S = n(23), v = n(123), _ = n(7), b = n(118), T = n(129), E = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = _.SpartaContext.getFromComponent(t), t.onSelected = function() {
t.props.onSelected(), t.props.menuItem.action();
}, t;
}
return i.__extends(t, e), t.prototype.componentDidMount = function() {
this.props.focusItem.onClick.listen(this.onSelected), this.sparta.theme.getTheme(this).tabMenu.playHoverSound && this.props.focusItem.onFocusOrHover(function() {
return b.playEffect(T.AudioEffect.Highlight);
});
}, t.prototype.getInput = function() {
if (this.props.focusItem.isFocused && this.sparta.twinkle.focus.controllerMode) return new d.Input({
key: c.Keys.Accept,
action: this.onSelected
});
}, t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).contextMenu, t = this.props, n = t.focusItem, r = t.menuItem;
return a.createElement("surface", i.__assign({
style: e.option(n.isFocusedOrHovered)
}, n.hooks), a.createElement(f.Text, {
type: e.textType,
size: e.textSize,
value: r.label.toUpperCase(),
style: e.optionText(n.isFocusedOrHovered)
}));
}, t.contextTypes = _.SpartaContext.contextTypes, t = i.__decorate([ h.observer, p.input ], t);
}(a.Component);
t.toContextMenuItems = function C(e) {
return e.map(function(e) {
return {
action: e.action || function() {},
label: e.label || ""
};
});
}, function(e) {
e[e.Top = 0] = "Top", e[e.Right = 1] = "Right", e[e.Bottom = 2] = "Bottom", e[e.Left = 3] = "Left";
}(r = t.Alignment || (t.Alignment = {})), function(e) {
e[e.HIDDEN = 0] = "HIDDEN", e[e.WAITINGFORBOUNDS = 1] = "WAITINGFORBOUNDS", e[e.VISIBLE = 2] = "VISIBLE";
}(o || (o = {}));
var I = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = _.SpartaContext.getFromComponent(t), t.state = {
current: o.HIDDEN,
menuItems: [],
bounds: void 0
}, t.catchMouseEvents = function() {}, t.onBoundsChanged = function(e) {
if (t.state.current === o.WAITINGFORBOUNDS && e && 0 !== e.width && 0 !== e.height && t.menuProps) {
var n = t.getBestBounds(t.menuProps.position, e, t.menuProps.align, t.menuProps.parentHeight);
t.setState({
bounds: n,
current: o.VISIBLE
}), t.menuProps.onOpen && t.menuProps.onOpen();
}
}, t;
}
return i.__extends(t, e), t.prototype.componentDidMount = function() {
l.display.subscribeTo(this, this.displayMenu), l.hide.subscribeTo(this, this.hideMenu);
}, t.prototype.getBestBounds = function(e, t, n, o) {
var i = {
left: e.x,
top: e.y,
right: e.x + t.width,
bottom: e.y + t.height
};
if (n === r.Right && (i.left -= t.width, i.right -= t.width), n === r.Bottom && (i.top -= t.height, 
i.bottom -= t.height), i.top < 0 && (i.top = e.y, i.bottom = e.y + t.height), i.left < 0 && (i.left = e.x, 
i.right = e.x + t.width), i.right > S.screen.width && (i.right = e.x, i.left = e.x - t.width), 
i.bottom > S.screen.height) {
var a = o ? e.y - o : e.y;
i.bottom = a, i.top = a - t.height;
}
return new m.Bounds(i.left, i.top, t.width, t.height);
}, t.prototype.displayMenu = function(e) {
var t = e.menuItems, n = e.position, i = e.align, a = e.onOpen, s = e.onClose, u = e.customWidth, c = e.parentHeight, p = e.theme;
this.state.current !== o.HIDDEN && l.hide(), p && p.tabMenu.playHoverSound && b.playEffect(T.AudioEffect.Expand), 
this.themeOverride = p, this.menuProps = {
onClose: s,
position: n || {
x: 0,
y: 0
},
align: i || r.Left,
onOpen: a,
customWidth: u,
parentHeight: c
}, this.setState({
current: o.WAITINGFORBOUNDS,
menuItems: t
}), g.contextMenuGroup.isolate();
}, t.prototype.hideMenu = function() {
this.state.current !== o.HIDDEN && (this.themeOverride && this.themeOverride.tabMenu.playHoverSound && b.playEffect(T.AudioEffect.Collapse), 
this.setState({
current: o.HIDDEN,
menuItems: [],
bounds: void 0
}), this.menuProps && this.menuProps.onClose && this.menuProps.onClose(), this.themeOverride = void 0, 
this.menuProps = void 0, g.contextMenuGroup.deisolate());
}, t.prototype.addThemeOverride = function(e) {
return this.themeOverride ? a.createElement(v.ThemeProvider, {
debugName: "0586f475:282:43",
theme: this.themeOverride
}, e) : e;
}, t.prototype.render = function() {
var e = this, t = (this.themeOverride || this.sparta.theme.getTheme(this)).contextMenu, n = this.state.current === o.VISIBLE, r = y.merge2(t.menu(n), n && this.state.bounds ? this.state.bounds.getStyleClass("0586f475:297:51") : y.DynamicStyle.create({
width: this.menuProps && this.menuProps.customWidth || 0
}, "0586f475:298:18"));
return this.addThemeOverride(a.createElement("surface", {
style: t.container(n),
onClick: this.catchMouseEvents,
onDoubleClick: this.catchMouseEvents,
onMouseEnter: this.catchMouseEvents,
onMouseLeave: this.catchMouseEvents,
onMouseDown: this.catchMouseEvents,
onMouseUp: this.catchMouseEvents,
onMouseScroll: this.catchMouseEvents
}, a.createElement("surface", {
style: t.tint(n),
onClick: l.hide
}), a.createElement("surface", {
style: r,
onBounds: this.onBoundsChanged
}, this.state.menuItems.map(function(t, n) {
return a.createElement(u.Focusable, {
id: t.label,
key: t.label,
groupIndex: n,
group: g.contextMenuGroup
}, function(n) {
return a.createElement(E, {
menuItem: t,
focusItem: n,
onSelected: e.hideMenu
});
});
}))));
}, t.contextTypes = _.SpartaContext.contextTypes, i.__decorate([ s.observable ], t.prototype, "themeOverride", void 0), 
i.__decorate([ s.action.bound ], t.prototype, "displayMenu", null), i.__decorate([ s.action.bound ], t.prototype, "hideMenu", null), 
t = i.__decorate([ h.observer ], t);
}(a.Component);
t.ContextMenuContainer = I;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(5), a = n(6), s = n(7), u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.spacing, n = e.style, r = this.sparta.theme.getTheme(this).divider;
return o.createElement("surface", {
style: i.merge2(r.dividerLine({
spacing: t
}), n || i.emptyStyle)
});
}, t.contextTypes = s.SpartaContext.contextTypes, t;
}(o.Component);
t.Divider = u;
var l = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.style, t = this.sparta.theme.getTheme(this).divider;
return o.createElement("surface", {
style: i.merge2(t.verticalDividerLine, e || i.emptyStyle)
});
}, t.contextTypes = s.SpartaContext.contextTypes, t;
}(o.Component);
t.VerticalDivider = l;
var c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).divider, t = i.merge2(e.textDivider, this.props.style || i.emptyStyle), n = i.merge3(e.dividerLine({}), e.textDividerLine, this.props.dividerStyle || i.emptyStyle), r = i.merge2(e.textDividerText, this.props.textStyle || i.emptyStyle);
return o.createElement("surface", {
style: t
}, o.createElement("surface", {
style: n
}), o.createElement(a.Text, {
value: this.props.text,
size: this.props.size || "S",
type: this.props.type || "light",
style: r
}), o.createElement("surface", {
style: n
}));
}, t.contextTypes = s.SpartaContext.contextTypes, t;
}(o.Component);
t.TextDivider = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(78), a = n(5), s = n(85), u = {
values: {},
initialState: "from",
options: i.emptyTweenOptions()
}, l = 0, c = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.indexCounter = 0, n.isIndexDirty = !1, n.animationChildren = [], n.tweens = {}, 
n.animationId = l++, n.animate = void 0 === t.animate || t.animate, n.animation = r.__assign({}, u, t.animation), 
n.hasCustomIndex = void 0 !== t.index, n.animationIndex = t.index ? t.index : 0, 
n;
}
return r.__extends(t, e), t.prototype.getChildContext = function() {
return {
animationGroup: this,
animationRoot: this.context && this.context.animationRoot
};
}, t.prototype.componentWillMount = function() {
var e = this.context && this.context.animationGroup;
e && (this.animation || (this.animation = e.animation), e.animationChildren.push(this), 
e.updateIndexes()), this.shouldAnimate() && (this.tweens = this.createTweens(), 
this.tweenStyles = i.Tween.getStyleClass("9bd2bef4:82:52", this.tweens));
}, t.prototype.componentWillUpdate = function() {
var e = this.context && this.context.animationGroup;
e && this.isIndexDirty && (this.animationIndex = e.indexCounter++), this.isIndexDirty = !1;
}, t.prototype.componentWillUnmount = function() {
var e = this.context && this.context.animationGroup;
if (e) {
var t = e.animationChildren.indexOf(this);
e.animationChildren.splice(t, 1), e.updateIndexes();
}
if (this.shouldAnimate()) for (var n in this.tweens) this.tweens.hasOwnProperty(n) && this.tweens[n].destroy();
}, t.prototype.shouldAnimate = function() {
return this.animate && this.animation;
}, t.prototype.createTweens = function() {
var e = this, t = {};
return Object.keys(this.animation.values).forEach(function(n) {
if (e.animation.values.hasOwnProperty(n)) {
var r = e.animation.values[n], o = e.animationId + "_" + e.animationIndex + "_" + n, a = r && r[e.animation.initialState || "from"] || 0;
t[n] = new i.Tween(o, a);
}
}), t;
}, t.prototype.updateIndexes = function() {
this.animationChildren.forEach(function(e) {
e.hasCustomIndex || (e.isIndexDirty = !0);
}), this.indexCounter = 0;
var e = this.context && (this.context.animationRoot || this.context.animationGroup);
e && e.forceUpdate();
}, t.prototype.play = function(e, t, n) {
var o = this;
void 0 === e && (e = 0), void 0 === t && (t = "from"), void 0 === n && (n = "to");
var i = e + this.animationIndex * (this.animation && this.animation.options.delay || 0);
if (this.shouldAnimate()) {
var a = r.__assign({}, this.animation.options, {
delay: i
});
Object.keys(this.animation.values).forEach(function(e) {
if (o.tweens.hasOwnProperty(e)) {
var r = o.tweens[e], i = o.animation.values[e], s = i && i[t] || 0, u = i && i[n] || 0;
void 0 !== s && void 0 !== u && (r.set(s), r.to(u, a));
}
});
}
this.animationChildren.forEach(function(e) {
e.play(i, t, n);
});
}, t.prototype.rewind = function(e) {
void 0 === e && (e = 0), this.play(e, "to", "from");
}, t.prototype.render = function() {
return o.createElement("surface", {
style: a.merge2(this.tweenStyles, this.props.style),
onBounds: this.props.onBounds
}, this.props.children);
}, t.childContextTypes = {
animationGroup: s.instanceOf(t),
animationRoot: s.instanceOf(t)
}, t;
}(o.Component);
t.AnimatedSurface = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(4), s = n(3), u = n(68), l = n(15), c = n(8), p = n(23), d = n(11), f = n(75), m = n(12), h = n(398), g = n(25), y = n(409), S = n(548), v = n(26), _ = n(227), b = n(14), T = n(17), E = n(1130), C = n(7), I = n(5), A = n(1131), w = n(42), P = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, R = function() {
return function e() {};
}();
t.PopupContainerProps = R;
var O = {
normal: I.StaticStyle.create({
marginRight: 4 * c.GUTTER
}, "1beeaed7:43:12"),
last: I.StaticStyle.create({
marginRight: 0
}, "1beeaed7:44:10")
}, x = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = C.SpartaContext.getFromComponent(t), t.visualButtons = new WeakMap(), 
t.onTrigger = function(e) {
var n = t.visualButtons.get(e.key);
n && n.current && n.current.pulsate();
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.unsubscribe = this.sparta.stores.inputStore.calledTrigger.listen(this.onTrigger);
}, t.prototype.componentWillUnmount = function() {
this.unsubscribe();
}, t.prototype.getRef = function(e) {
if (e) {
var t = this.visualButtons.get(e);
return t || (t = o.createRef(), this.visualButtons.set(e, t)), t;
}
}, t.prototype.render = function() {
var e = this, t = this.sparta.stores.inputStore.appearanceInputs.length - 1, n = this.sparta.stores.inputStore.appearanceInputs.map(function(n, r) {
var i = r !== t ? O.normal : O.last, a = n.key ? n.key.id.toString() : void 0;
return o.createElement(h.VisualButton, {
ref: e.getRef(n.key),
inputKey: n.key,
style: i,
fontStyle: e.props.fontStyle,
label: n.label,
key: "button" + a
});
});
return o.createElement("surface", {
style: A.PopupContainerStyles.buttonContainer
}, n);
}, t.contextTypes = C.SpartaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component), k = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = C.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = I.merge2(I.merge4(T.CommonStyles.justifyContentCenter, p.screen.getStyleClass("1beeaed7:121:51"), this.sparta.uiState.viewportPositionStyle, this.sparta.uiState.viewportScaleStyle), this.props.style);
return o.createElement("surface", {
style: e
}, this.props.children);
}, t.contextTypes = C.SpartaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.PopupContainer = k;
var L = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t;
}(o.Component);
t.PopupComponent = L;
var M = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = C.SpartaContext.getFromComponent(r), r.visualButtons = new WeakMap(), 
r.content = o.createRef(), r.isVisible = !1, r.onClose = function() {
g.close(r.props.popup.id);
}, r.focusAncestor = r.sparta.twinkle.focus.createComponentAncestor(r, "popupgroup_" + t.popup.id), 
r.opacityTween = l.Animation.componentTween(r, "1beeaed7:164:59", t.popup.instantShow ? 1 : 0), 
t.popup.instantShow && r.setVisible(!0), r;
}
return r.__extends(t, e), t.prototype.componentWillAppear = function(e) {
this.componentWillEnter(e);
}, t.prototype.componentDidAppear = function() {
this.componentDidEnter();
}, t.prototype.componentWillEnter = function(e) {
this.isolateInputGroup(), this.content.current && this.content.current.popupWillShow && this.content.current.popupWillShow(), 
this.focusAncestor.isolate(), this.props.popup.instantShow || (this.opacityTween.to(1), 
this.setVisible(!0)), this.updateInput(), e();
}, t.prototype.componentDidEnter = function() {
var e = this.focusAncestor.children, t = this.sparta.twinkle.focus.focusedItem;
if (!(t && e.indexOf(t) > -1)) {
var n = e.filter(function(e) {
return e.autoFocusCandidate;
}), r = e[0];
n.length > 0 && (r = n[0]), r && r.setFocused(w.FocusSource.Auto);
}
}, t.prototype.componentWillLeave = function(e) {
this.releaseInputGroup(), this.focusAncestor.deisolate(), this.content.current && this.content.current.popupWillHide && this.content.current.popupWillHide(), 
this.opacityTween.promiseTo(0).then(e), this.setVisible(!1), this.updateInput();
}, t.prototype.componentWillUnmount = function() {
this.releaseInputGroup();
}, t.prototype.getInput = function() {
var e = this, t = this.sparta.twinkle.buildInfo;
if (this.isVisible || t.isPC) {
var n = [];
return this.props.popup.inputs && (n = this.sparta.twinkle.focus.controllerMode && t.isConsole ? this.props.popup.inputs.map(function(t) {
return e.props.popup.createButtons ? new m.Input(r.__assign({}, t, {
visible: !1,
action: function() {
var n = t.key && e.visualButtons.get(t.key);
n && n.current && n.current.pulsate().then(t.action);
}
})) : t;
}) : this.props.popup.inputs.filter(function(e) {
return e.key !== d.Keys.Accept;
})), this.content.current && this.content.current.getInput && (n = n.concat(this.content.current.getInput() || [])), 
n;
}
}, t.prototype.setVisible = function(e) {
this.isVisible = e;
}, t.prototype.getRef = function(e) {
if (e) {
var t = this.visualButtons.get(e);
return t || (t = o.createRef(), this.visualButtons.set(e, t)), t;
}
}, t.prototype.renderButtons = function(e) {
var t = this, n = this.sparta.theme.getTheme(this), r = n.getFonts().normal.fontStyle;
if (e.useInputStore) return o.createElement(x, {
fontStyle: r
});
var i, a = e.inputs.length - 1, s = e.inputs.map(function(i, s) {
if (t.sparta.twinkle.focus.controllerMode && t.sparta.twinkle.buildInfo.isConsole) {
var l = s !== a ? O.normal : O.last;
return o.createElement(h.VisualButton, {
ref: t.getRef(i.key),
inputKey: i.key,
style: l,
fontStyle: r,
label: i.label,
key: "button" + s
});
}
return o.createElement(u.Focusable, {
id: "popupbutton_" + s,
key: "button" + s
}, function(t) {
return o.createElement(f.Button, {
name: "1beeaed7:326:39",
action: i.action,
blockInputFor: i.blockInputFor,
focusItem: t,
text: i.label,
style: I.merge2(n.popup.button, e.buttonStyle),
textSize: n.popup.buttonTextSize
});
});
});
return !e.fullScreen && e.leftAlignInputs && (i = A.PopupContainerStyles.buttonLeftAlign), 
o.createElement("surface", {
style: I.merge2(A.PopupContainerStyles.buttonContainer, i)
}, s);
}, t.prototype.renderCloseButton = function() {
var e = this;
return o.createElement("surface", {
style: A.PopupContainerStyles.closeButton
}, o.createElement(u.Focusable, {
id: "popup_close_" + this.props.popup.id,
isActive: !this.sparta.twinkle.focus.controllerMode
}, function(t) {
return o.createElement(_.IconButton, {
action: e.onClose,
focusItem: t,
size: 20,
icon: b.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png")
});
}));
}, t.prototype.renderContent = function(e) {
var t = e.content, n = {
popupInfo: e
};
return E.isStateless(t) || (n.ref = this.content), o.cloneElement(t, n);
}, t.prototype.render = function() {
this.sparta.theme.getTheme(this).popup;
var e = this.props.popup, t = {
opacity: this.opacityTween.getStyle(),
position: "absolute",
top: 0,
left: 0,
width: this.sparta.uiState.window.width,
height: this.sparta.uiState.window.height,
zOffset: 100 * (this.props.index || 0)
}, n = r.__assign({
layerOpacity: this.opacityTween.getStyle(),
zOffset: -1,
layer: !0,
layerBlur: e.disableBlur ? void 0 : l.Animation.tweenSwitch(0, 1, this.isVisible),
layerBlurStrength: e.disableBlur ? void 0 : l.Animation.tweenSwitch(0, 2, this.isVisible),
layerGrabBackground: !0
}, P);
if (e.texture ? (t.backgroundColor = "#000000FF", n.textureMode = "cover", n.texture = e.texture, 
n.layerGrabBackground = !1, n.zOffset = 0) : n.backgroundColor = e.backgroundColor ? e.backgroundColor : "#000000B2", 
!1 === e.containContent) return o.createElement("surface", r.__assign({
style: t
}, this.focusAncestor.hooks), o.createElement("surface", {
style: [ n, {
textureFadeInTime: 0
} ]
}), this.renderContent(e), e.createButtons ? this.renderButtons(e) : null);
e.fullScreen && (t.backgroundColor = e.backgroundColor), e.onTop && (t.zOffset = (t.zOffset || 0) + 1000002);
var i, a = !1;
if (e.requireOnline && !this.sparta.stores.onlineState.isOnlineBlazeAndGateway) i = o.createElement("surface", {
style: {
justifyContent: "center",
alignItems: "center"
}
}, o.createElement(y.ConnectionState, {
popup: e,
name: "1beeaed7:443:58"
})); else {
var s = I.merge3(A.PopupContainerStyles.content, e.centerContent ? A.PopupContainerStyles.contentCenter : I.emptyStyle, e.fullScreen ? T.CommonStyles.dock : A.PopupContainerStyles.contentNotFullScreen);
this.sparta.theme.getTheme(this).popup.showCloseButton && (a = e.showCloseButton), 
i = o.createElement("surface", {
style: s
}, this.renderContent(e), e.createButtons ? this.renderButtons(e) : null);
}
return o.createElement("surface", r.__assign({
style: t
}, this.focusAncestor.hooks), o.createElement("surface", {
style: n
}), a && this.renderCloseButton(), o.createElement(k, {
style: this.opacityTween.getStyleClass("opacity")
}, i));
}, t.contextTypes = C.SpartaContext.contextTypes, r.__decorate([ s.observable ], t.prototype, "isVisible", void 0), 
r.__decorate([ s.action ], t.prototype, "setVisible", null), t = r.__decorate([ a.observer, v.inputWithOptions({
group: !0,
ignoreParentIsolation: !0
}) ], t);
}(v.InputComponent), D = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = C.SpartaContext.getFromComponent(t), t.scaledComponent = t.sparta.twinkle.focus.createScaledComponent(), 
t;
}
return r.__extends(t, e), t.prototype.getChildContext = function() {
return {
isPopup: !0
};
}, t.prototype.getStackablePopups = function(e) {
for (var t = [], n = e.length - 1; n >= 0; ) {
var r = e[n];
if (!r.stackable) break;
t.push(r), n--;
}
return t.reverse(), t;
}, t.prototype.render = function() {
var e, t = Array.from(this.sparta.stores.popupStore.updatedPopups.values()).sort(function(e, t) {
return e.createdDate.getDate() - t.createdDate.getDate();
}), n = t.length > 0 ? t[t.length - 1] : void 0;
n && n.stackable ? e = this.getStackablePopups(t).map(function(e, t) {
return o.createElement(M, {
key: e.createdDate.getTime(),
popup: e,
index: t
});
}) : n && (e = [ o.createElement(M, {
key: n.createdDate.getTime(),
popup: n
}) ]);
var r = !!e && e.length > 0;
return o.createElement("surface", {
ref: this.scaledComponent,
style: A.PopupContainerStyles.container(r)
}, o.createElement(S, {
component: "surface",
style: T.CommonStyles.dock
}, e));
}, t.contextTypes = C.SpartaContext.contextTypes, t.childContextTypes = {
isPopup: i.bool
}, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.Popups = D;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(543), a = o.Template("RecommendationStyles"), s = function() {
function e() {}
var t;
return t = e, e.cardPadding = o.value(function() {
return o.Grid.spacer(3);
}, "63645039:19:25"), e.iconSize = o.value(function() {
return o.Grid.spacer(4);
}, "63645039:20:22"), e.container = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
zOffset: 15,
enableMouseEvents: !1
}, "63645039:22:34");
}), e.topLeft = o.stylefunc(function() {
return o.style({
textureMode: "contain",
position: "absolute",
top: 0,
left: 0,
textureAlign: [ 0, 0 ],
height: o.Grid.getHeight(7),
width: o.Grid.getWidth(3)
}, "63645039:35:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "63645039:45:39");
}), e.topRight = o.stylefunc(function() {
return o.style({
textureMode: "contain",
position: "absolute",
top: 0,
right: 0,
height: t.iconSize,
width: t.iconSize,
textureAlign: [ 1, 0 ]
}, "63645039:52:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "63645039:62:39");
}), e = t = r.__decorate([ a.style ], e);
}();
t.ImageSlotsStyles = s;
var u = function() {
function e() {}
var t;
return t = e, e.textureAtlas = o.value(function() {
return "SpartaCommonAtlas";
}, "63645039:71:26"), e.playIconActive = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/play_active-b7f2b328.png");
}, "63645039:72:28"), e.playIconInactive = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/play-f2e293cf.png");
}, "63645039:73:30"), e.playIndicator = o.multistyle(function(e) {
return o.style({
zOffset: 5,
textureAtlas: t.textureAtlas,
textureMode: "none",
textureAlign: [ .5, .5 ],
texture: e ? t.playIconActive : t.playIconInactive
}, "63645039:75:67");
}), e.playIndicator2 = o.multistyle(function(e) {
return o.style({
zOffset: 5,
textureAtlas: t.textureAtlas,
textureMode: "none",
textureAlign: [ .5, .5 ],
height: .8 * o.Grid.getHeight(i.CardSizeStyles.height[e]),
texture: o.bbOfflineUrl("/sparta/assets/ui/icons/ui/play_icon-b2acef47.png")
}, "63645039:85:82");
}), e = t = r.__decorate([ a.style ], e);
}();
t.VideoRecommendationStyles = u;
var l = function() {
function e() {}
return e.priceTag = o.wrap(function() {
return o.style({
position: "absolute",
top: o.Grid.spacer(),
right: -o.Grid.spacer(3),
padding: o.Constants.isPC ? [ o.Grid.spacer(), o.Grid.spacer(2), o.Grid.spacer(), o.Grid.spacer(2) ] : [ o.Grid.spacer(2), o.Grid.spacer(4), o.Grid.spacer(2), o.Grid.spacer(4) ],
backgroundColor: "#000000C8"
}, "63645039:99:33");
}), e.discount = o.wrap(function() {
return o.style({
opacity: .33,
flexDirection: "column",
zOffset: 1
}, "63645039:111:33");
}), e.price = o.wrap(function() {
return o.style({
zOffset: 1
}, "63645039:119:30");
}), e.eyebrow = o.wrap(function() {
return o.style({
opacity: .8,
marginBottom: o.Grid.spacer()
}, "63645039:125:32");
}), e.timeLeft = o.wrap(function() {
return o.style({
opacity: .8,
marginTop: o.Grid.spacer()
}, "63645039:132:33");
}), e = r.__decorate([ a.style ], e);
}();
t.CommerceRecommendationStyles = l;
var c = function() {
function e() {}
return e.eyebrow = a.wrap(function() {
return o.style({
opacity: .8,
marginBottom: o.Grid.spacer()
}, "63645039:142:21");
}), e.notEyebrow = a.wrap(function() {
return o.style({
opacity: .8,
marginTop: o.Grid.spacer()
}, "63645039:147:24");
}), e.ribbon = a.wrap(function() {
return o.style({
position: "absolute",
top: o.Grid.spacer(),
right: -o.Grid.spacer(3),
padding: o.Constants.isPC ? [ o.Grid.spacer(), o.Grid.spacer(2), o.Grid.spacer(), o.Grid.spacer(2) ] : [ o.Grid.spacer(2), o.Grid.spacer(4), o.Grid.spacer(2), o.Grid.spacer(4) ],
backgroundColor: "#000000C8"
}, "63645039:152:20");
}), e.ribbonText = a.wrap(function() {
return o.style({
zOffset: 1,
color: "#ff9900"
}, "63645039:162:24");
}), e.container = o.multistyle(function(e) {
return o.style({
height: o.Grid.getHeight(i.CardSizeStyles.height[e] + 1),
width: o.Grid.getWidth(i.CardSizeStyles.width[e]),
marginRight: o.Grid.spacer(),
paddingBottom: o.Grid.spacer()
}, "63645039:167:77");
}), e.articleTitle = a.wrap(function() {
return o.style({
textLetterSpacing: 1
}, "63645039:176:26");
}), e.friendsContainer = o.multistyle(function(e) {
return o.style({
top: 0,
right: 0,
left: 0,
zOffset: 5,
alignItems: "flex-end",
justifyContent: "center",
flexDirection: "row",
height: o.Grid.getHeight(i.CardSizeStyles.imageSizes[e] + 2),
padding: o.Grid.spacer(2)
}, "63645039:180:84");
}), e.avatar = a.wrap(function() {
return o.style({
backgroundColor: [ 0, 0, 0, 124 ],
marginRight: o.Grid.spacer(1),
marginLeft: o.Grid.spacer(1)
}, "63645039:194:20");
}), e = r.__decorate([ a.style ], e);
}();
t.CommonRecommendationStyles = c;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(14), r = n(97), o = n(1217), i = n(581), a = n(1236), s = n(1237), u = n(1238), l = n(1239), c = n(109), p = n(195);
function d(e) {
return e.getRegisteredGames().filter(function(e) {
return e.isEnabled && null != e.platoons;
});
}
t.getPlatoonSupportedGames = d, t.getPlatoonSupportedGameId = function f(e) {
var t = d(e).map(function(e) {
return e.gameId;
});
if (1 !== t.length) throw new Error("More or less than 1 platoon games is not supported by this design");
return t[0];
}, t.initialize = function m(t) {
o.setupBindings(t);
var n = new r.RouteDeclaration("view", {
getTitle: function() {
return __("ID_SHARED_PLATOON");
},
view: i.PlatoonsView
}), d = new r.RouteDeclaration("create", {
getTitle: function() {
return __("ID_SHARED_PLATOONS_CREATE_PLATOON");
},
view: u.PlatoonsCreate
});
t.stores.routeStore.addRoute(new r.RouteDeclaration("platoons", {
getTitle: function() {
return __("ID_SHARED_PLATOONS", !0);
},
requireOnline: !0,
disabled: !1,
featureFlag: p.platoonsFeatureFlags.platoons,
normalIconUrl: c.useConsoleMenu ? e.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-dark-platoons-01dddc34.png") : e.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-platoons-268bc4a9.png"),
skipToFirstChild: !0,
backgroundUrl: e.bbOfflineUrl("/sparta/jsclient/builds/assets/generic_bg_4-5c8e7322.jpg"),
backgroundSize: [ 4084, 1480 ],
dynamicBackground: t.stores.backgroundStore.createDynamicSectionBackground("platoons"),
priority: 5,
hideInMainMenu: !1,
children: [ new r.RouteDeclaration("your", {
getTitle: function() {
return __("ID_SHARED_PLATOONS_YOUR_PLATOONS");
},
view: a.PlatoonsYour,
children: [ n, d ]
}), new r.RouteDeclaration("find", {
getTitle: function() {
return __("ID_SHARED_PLATOONS_FIND_PLATOON");
},
view: s.PlatoonsFind,
children: [ n, d ]
}), new r.RouteDeclaration("about", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_ABOUT");
},
view: l.PlatoonsAbout
}) ]
}));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(312), r = n(200), o = n(10), i = n(67), a = n(128), s = new r.StorageClient();
function u(t, n) {
return new Promise(function(r) {
var o = t.stores.onlineState.sessionUser, i = o && o.id, a = "gameMode-" + n.identifier;
i ? s.get(a, function(o) {
void 0 === o && (o = {});
var u = !o[i], l = "";
if (u && (l = __("ID_SPARTA_ACTION_SKIP")), n.videoUrl) {
var c = t.twinkle.video.loadVideo(n.videoUrl);
e.showFullscreenVideo(t, c, n.prettyName, n.header, l).then(function() {
u && (o[i] = !0, s.save(a, o)), r();
});
} else r();
}) : r();
});
}
t.showTutorialForGameMode = u, t.tryShowTutorial = function l(e, t, n, r, c) {
void 0 === c && (c = "soldier");
var p = a.gameDataStore.get(r).value;
if (p && "spectator" !== c) {
var d = p.gameModes.find(function(e) {
return e.filterKey === n;
}), f = d && d.videoUrl ? d.videoUrl : "", m = {
identifier: "",
videoUrl: "",
header: "",
prettyName: ""
}, h = o.gameStore.getGame(r);
if (d && h && h.overrideTutorialFunction) {
var g = h.overrideTutorialFunction(t, d, c);
g && (m = g);
}
if (d && f && "" === m.identifier && (m = {
identifier: d.shortFilterKey,
videoUrl: f,
header: d.header,
prettyName: d.prettyName
}), m && m.hasOwnProperty("identifier") && "" !== m.identifier) return function y(e) {
return new Promise(function(t) {
i.routeIsHostingGame.get() || t(!0);
var n = o.onlineState.sessionUser, r = n && n.id, a = "gameMode-" + e;
s.get(a, function(e) {
void 0 === e && (e = {}), t(!(!r || !e[r]));
});
});
}(m.identifier).then(function(t) {
return t ? this : u(e, m);
});
}
return Promise.resolve();
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(81), a = n(1278), s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = i.getFullInventory.request({
game: t.game
});
e.useClientResult(n, a.BattlepackInventory.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t.prototype.refetch = function(e) {
this.refreshFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.tunguskaBattlepackInventoryStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.category = t.category, this.description = t.description, this.images = t.images || {}, 
this.itemType = (t.itemType || "").toUpperCase(), this.key = t.key, this.name = t.name, 
this.nugget = t.nugget, this.parentKey = t.key.replace("_v", ""), this.parentName = t.parentName, 
this.quantity = t.quantity ? parseInt(t.quantity, 10) : 0, this.rarenessLevel = t.rarenessLevel, 
this.scrapValue = t.scrapValue ? parseInt(t.scrapValue, 10) : 0, this.inScrapExchangeOffer = !!t.inScrapExchangeOffer, 
this.isUpcoming = !!t.isUpcoming, this.probability = t.probability ? t.probability : "POTENTIAL";
};
}();
t.BattlepackItem = r;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(26), i = n(12), a = n(11), s = n(208), u = n(445), l = n(159), c = n(206), p = n(10), d = n(53), f = n(74), m = n(4), h = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.setReady = function() {
p.gameStateStoreLoader.get().setWaitingForUserActionToPlay(!0);
}, e;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e = this;
return [ new i.Input({
visible: !0,
label: this.props.backBtnLabel || __("ID_SPARTA_ACTION_BACK"),
key: a.Keys.Decline,
action: function() {
return e.gotoParentScreenOrPlaying();
}
}) ];
}, n.prototype.gotoParentScreenOrPlaying = function() {
if (p.gameStateStoreLoader.get().waitingForUserActionToPlay) l.goToGame({
changeRoute: f.GameViewRoute.PLAYING
}); else if (p.gameStateStoreLoader.get().hasLoadedLevel && !c.nextRoundCountDown.active) d.route(f.GameViewRoute.PLAYING); else {
var e = p.gameStateStoreLoader.get().currentGameViewRoute;
e && "" !== e || (e = f.GameViewRoute.LOADING), d.route(e);
}
}, n.prototype.render = function() {
var t = {
header: this.props.header,
footer: r.createElement(u.CountDownLoadingFooter, {
callback: this.setReady
})
};
return r.createElement(s.TunguskaGameViewRoute, e.__assign({}, t), this.props.children);
}, n = e.__decorate([ m.observer, o.input ], n);
}(r.Component);
t.TunguskaGameViewSubRoute = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(36), s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.track(this.props);
}, t.prototype.componentWillUpdate = function(e) {
this.props.category === e.category && this.props.action === e.action && this.props.label === e.label && this.props.value === e.value || this.track(e);
}, t.prototype.componentWillUnmount = function() {
this.timeout && clearTimeout(this.timeout);
}, t.prototype.track = function(e) {
this.timeout && clearTimeout(this.timeout);
var t = e.delay ? e.delay : 0;
e.category && e.action && e.label && (this.timeout = setTimeout(function() {
a.trackEvent(e.category, e.action, e.label, e.value);
}, t));
}, t.prototype.render = function() {
return this.props.children || null;
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TrackImpression = s;
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(1347), a = n(1348), s = n(1349), u = n(1350), l = n(10), c = n(117), p = n(144), d = n(53), f = n(125), m = n(18), h = n(56), g = n(103), y = e.get("WwceSupportArticlesClient");
function S(e) {
var t, n = p.WwceSupportStore.getState();
if ("InGame" === e && n && n.contextForInGame) t = n.contextForInGame.replace(/\//g, "-"); else for (var r = l.locationStore.history, o = r.length - 1; o >= 0; o--) if (-1 === r[o].location.path.indexOf("wwcesupport")) {
t = r[o].location.path.replace(/\//g, "-"), y.log("Context being passed to fetch articles " + t);
break;
}
return t;
}
t.articleListClient = r.requester.createClient({
requestOn: [ f.getArticles ],
request: function(e) {
var t = g.localeState.displayLocale.replace("-", "_").replace(/_(.*)/, function(e) {
return e.toUpperCase();
}), n = l.nativePropertiesStore.hostingGameId || void 0, r = S(e);
return o.request("Aegis.listArticles", {
locale: t,
context: r || l.nativePropertiesStore.hostingGameId || "",
game: n
});
},
parse: function(e) {
var t = function n(e) {
return e.sort(function(e, t) {
return e.articlePublishDate > t.articlePublishDate ? 1 : -1;
});
}(e.articles).map(function(e) {
return new i.WwceSupportArticle({
id: e.articleId,
title: e.articleTitle,
summary: e.articleSummary,
categories: e.articleCategories
});
});
return {
showContactUs: e.showContactUs,
articleList: t
};
},
onRequestError: function() {
var e = p.WwceSupportStore.getState();
if (e) {
var t = S(e.source) || "";
t = t.replace(/-/g, "/"), c.coreEventStore.spartaErrorMessage(__("ID_SPARTA_HELP_NO_CONNECTION_MESSAGE"), __("ID_SPARTA_ONLINE_PRESENCE_FAILED_EA_ONLINE"), function e() {
l.spartaActivatedStore.navigationState === h.NavigationStates.InGameMenu ? d.route("playing") : t && m.gotoLocation(t);
});
}
},
update: function(e) {
this.publish(e);
}
}), t.articleDetail = r.requester.createClient({
requestOn: [ f.getArticleDetail ],
request: function(e) {
var t = g.localeState.displayLocale.replace("-", "_").replace(/_(.*)/, function(e) {
return e.toUpperCase();
}), n = l.nativePropertiesStore.hostingGameId || void 0;
return o.request("Aegis.parsedArticle", {
locale: t,
articleId: e,
game: n
});
},
onRequestError: function() {
c.coreEventStore.spartaErrorMessage(__("ID_SPARTA_HELP_NO_CONNECTION_MESSAGE"), __("ID_SPARTA_ONLINE_PRESENCE_FAILED_EA_ONLINE"), function e() {
l.spartaActivatedStore.navigationState === h.NavigationStates.InGameMenu ? d.route("playing") : m.gotoLocation("wwcesupport/help");
});
},
parse: function(e) {
var t = e.response.article, n = e.response.showContactUs, r = e.parsedChunks || [];
return {
showContactUs: n,
article: new a.WwceSupportArticleDetail({
id: t.articleId,
content: t.articleContent,
categories: t.articleCategories,
title: t.articleTitle,
summary: t.articleSummary
}),
parsedArticle: r
};
},
update: function(e) {
this.publish(e);
}
}), t.articleMetrics = r.requester.createClient({
requestOn: [ f.saveArticleMetrics ],
request: function(e, t) {
var n = l.nativePropertiesStore.hostingGameId || void 0;
return o.request("Aegis.articleMetrics", {
articleId: e,
isHelpful: t,
game: n
});
},
parse: function(e) {
return e;
},
update: function(e) {
this.publish(e);
}
}), t.contactChannels = r.requester.createClient({
requestOn: [ f.getContactChannels ],
request: function(e, t) {
var n = g.localeState.displayLocale.replace("-", "_").replace(/_(.*)/, function(e) {
return e.toUpperCase();
}), r = l.nativePropertiesStore.hostingGameId || void 0;
return o.request("Aegis.channels", {
locale: n,
category: e,
location: t,
game: r
});
},
onRequestError: function(e) {
c.coreEventStore.spartaErrorMessage(__("ID_SPARTA_HELP_NO_CONNECTION_MESSAGE"), __("ID_SPARTA_ONLINE_PRESENCE_FAILED_EA_ONLINE"), function() {
l.spartaActivatedStore.navigationState === h.NavigationStates.InGameMenu ? d.route("playing") : m.gotoLocation("wwcesupport/help");
});
},
parse: function(e) {
(!e.channels || e.channels && 0 === e.channels.length) && c.coreEventStore.spartaErrorMessage(__("ID_SPARTA_HELP_NO_CONNECTION_MESSAGE"), __("ID_SPARTA_ONLINE_PRESENCE_FAILED_EA_ONLINE"), function e() {
l.spartaActivatedStore.navigationState === h.NavigationStates.InGameMenu ? d.route("playing") : m.gotoLocation("wwcesupport/help");
});
var t = function n(e) {
return e.sort(function(e, t) {
return "phone" === e.channelName ? -1 : "phone" === t.channelName ? 1 : 0;
});
}(e.channels).map(function(e) {
return new s.WwceSupportChannel({
message: e.channelMessage,
name: e.channelName,
rank: e.channelRank,
customerValue: e.customerValue,
lifeCycle: e.lifeCycle,
skill: e.skill,
waitTime: e.waitTime,
waitTimeRange: e.waitTimeRange,
notInBusinessHours: e.notBussinessHours
});
});
return {
countryCodes: e.countryCodes,
email: e.email,
phoneNumber: e.phoneNumber,
countryCode: e.countryCode,
channels: t
};
},
update: function(e) {
this.publish(e);
}
}), t.createCaseClient = r.requester.createClient({
requestOn: [ f.createCase ],
request: function(e) {
var t = g.localeState.displayLocale.replace("-", "_").replace(/_(.*)/, function(e) {
return e.toUpperCase();
}), n = l.nativePropertiesStore.hostingGameId || void 0, r = p.WwceSupportStore.getState();
if (r) {
var i = r.selectedChannel, a = i ? {
lifeCycle: i.lifeCycle,
customerValue: i.customerValue,
countryCode: r.countryCode,
skill: i.skill
} : null;
return o.request("Aegis.createCase", {
locale: t,
email: e,
category: r.selectedCategory || "",
callbackNumber: r.phoneNumber || "",
channel: i ? i.name : "",
payload: JSON.stringify(a),
game: n
});
}
},
onRequestError: function(e) {
c.coreEventStore.spartaErrorMessage(__("ID_SPARTA_HELP_NO_CONNECTION_MESSAGE"), __("ID_SPARTA_ONLINE_PRESENCE_FAILED_EA_ONLINE"), function() {
l.spartaActivatedStore.navigationState === h.NavigationStates.InGameMenu ? d.route("playing") : m.gotoLocation("wwcesupport/help");
});
},
parse: function(e) {
return e.message && "" !== e.message ? {
message: e.message,
messageCode: e.messageCode
} : {
caseDetail: new u.WwceSupportCaseDetail({
channel: e.channel,
caseNumber: e.caseNumber,
waitTime: e.waitTime,
waitTimeRange: e.waitTimeRange
})
};
},
update: function(e) {
this.publish(e);
}
}), t.startListening = function v() {
[ t.articleListClient, t.articleDetail, t.articleMetrics, t.contactChannels, t.createCaseClient ].forEach(function(e) {
return e.startListening();
});
}, t.stopListening = function _() {
[ t.articleListClient, t.articleDetail, t.articleMetrics, t.contactChannels, t.createCaseClient ].forEach(function(e) {
return e.stopListening();
});
};
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(272), i = n(125), a = {
countryCode: void 0,
countryCodes: [],
channels: [],
phoneNumber: 0,
email: ""
}, s = function(e) {
function t() {
var t = e.call(this, a) || this;
return o.contactChannels.listen(function(e) {
t.setState(r.__assign({}, t.getState(), e));
}), i.resetChannelDetailState.listen(function() {
t.setState(a);
}), t;
}
return r.__extends(t, e), t;
}(n(151).Store);
t.WwceSupportContactChannelStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(8), i = n(126), a = n(17), s = n(642), u = {
flare: {
textureAlign: [ .5, 0 ],
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
textureMode: "contain",
zOffset: 2,
blendMode: "screen"
},
bpSkin: {
textureScale: .85,
textureMode: "contain",
position: "absolute",
left: 0,
right: 0,
top: 0,
height: o.getHeight(30),
zOffset: 3
},
puzzlePiece: {
zOffset: 4,
position: "absolute",
top: 0,
right: 0,
left: 0,
height: o.getHeight(30),
justifyContent: "center",
alignItems: "center"
}
};
t.TunguskaItemWithRarity = function(e) {
var t = Object.assign({}, u.flare, {
texture: i.fade[e.rarityValue]
}), n = Object.assign({}, u.bpSkin, {
texture: e.texture,
color: e.color
});
return r.createElement("surface", {
style: a.CommonStyles.flex1
}, e.extraContent, r.createElement("surface", {
style: t
}), r.createElement("surface", {
style: n
}));
}, t.TunguskaBattlepackSkinWithRarity = function(e) {
var n, o, i = e.item.rarenessLevel ? e.item.rarenessLevel.value : 0, a = e.color || (e.isActive ? "#000000" : void 0), l = e.item.itemType.toUpperCase(), c = e.item.images.Png300xANY || e.item.images.Png1024xANY || e.item.images.Png256xANY || e.item.images.Png180xANY, p = "BLUEPRINT" === l && c && !c.includes("Piece");
return "BOOST" === l ? n = a : p && (o = r.createElement("surface", {
style: u.puzzlePiece
}, r.createElement(s.PuzzlePieceIcon, {
color: a
}))), r.createElement("surface", {
style: {
flex: 1
}
}, r.createElement(t.TunguskaItemWithRarity, {
texture: c,
color: n,
rarityValue: i,
extraContent: o
}));
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(151);
t.scopedStore = function o(e, t, n, i) {
if (e instanceof r.Store) return t && n && i ? e.scope(t).scope(n).scope(i) : t && n ? e.scope(t).scope(n) : e.scope(t);
throw new Error("scopedStore requires Miniflux Stores");
};
}, function(e, t, n) {
var r = Function.prototype.apply;
function o(e, t) {
this._id = e, this._clearFn = t;
}
t.setTimeout = function() {
return new o(r.call(setTimeout, window, arguments), clearTimeout);
}, t.setInterval = function() {
return new o(r.call(setInterval, window, arguments), clearInterval);
}, t.clearTimeout = t.clearInterval = function(e) {
e && e.close();
}, o.prototype.unref = o.prototype.ref = function() {}, o.prototype.close = function() {
this._clearFn.call(window, this._id);
}, t.enroll = function(e, t) {
clearTimeout(e._idleTimeoutId), e._idleTimeout = t;
}, t.unenroll = function(e) {
clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;
}, t._unrefActive = t.active = function(e) {
clearTimeout(e._idleTimeoutId);
var t = e._idleTimeout;
t >= 0 && (e._idleTimeoutId = setTimeout(function t() {
e._onTimeout && e._onTimeout();
}, t));
}, n(702), t.setImmediate = setImmediate, t.clearImmediate = clearImmediate;
}, function(e, t) {
t.f = Object.getOwnPropertySymbols;
}, function(e, t) {
t.f = {}.propertyIsEnumerable;
}, function(e, t, n) {
var r = n(164), o = n(468), i = n(343), a = n(55), s = n(90), u = n(241), l = {}, c = {};
(t = e.exports = function(e, t, n, p, d) {
var f, m, h, g, y = d ? function() {
return e;
} : u(e), S = r(n, p, t ? 2 : 1), v = 0;
if ("function" != typeof y) throw TypeError(e + " is not iterable!");
if (i(y)) {
for (f = s(e.length); f > v; v++) if ((g = t ? S(a(m = e[v])[0], m[1]) : S(e[v])) === l || g === c) return g;
} else for (h = y.call(e); !(m = h.next()).done; ) if ((g = o(h, S, m.value, t)) === l || g === c) return g;
}).BREAK = l, t.RETURN = c;
}, function(e, t, n) {
"use strict";
var r = n(244), o = n(16), i = n(106), a = n(114), s = n(99), u = n(189), l = n(344), c = n(243), p = n(169), d = n(63)("iterator"), f = !([].keys && "next" in [].keys()), m = function() {
return this;
};
e.exports = function(e, t, n, h, g, y, S) {
l(n, t, h);
var v, _, b, T = function(e) {
if (!f && e in A) return A[e];
switch (e) {
case "keys":
return function t() {
return new n(this, e);
};

case "values":
return function t() {
return new n(this, e);
};
}
return function t() {
return new n(this, e);
};
}, E = t + " Iterator", C = "values" == g, I = !1, A = e.prototype, w = A[d] || A["@@iterator"] || g && A[g], P = !f && w || T(g), R = g ? C ? T("entries") : P : void 0, O = "Array" == t && A.entries || w;
if (O && (b = p(O.call(new e()))) !== Object.prototype && b.next && (c(b, E, !0), 
r || s(b, d) || a(b, d, m)), C && w && "values" !== w.name && (I = !0, P = function e() {
return w.call(this);
}), r && !S || !f && !I && A[d] || a(A, d, P), u[t] = P, u[E] = m, g) if (v = {
values: C ? P : T("values"),
keys: y ? P : T("keys"),
entries: R
}, S) for (_ in v) _ in A || i(A, _, v[_]); else o(o.P + o.F * (f || I), t, v);
return v;
};
}, function(e, t, n) {
"use strict";
var r = n(475)(!0);
n(280)(String, "String", function(e) {
this._t = String(e), this._i = 0;
}, function() {
var e, t = this._t, n = this._i;
return n >= t.length ? {
value: void 0,
done: !0
} : (e = r(t, n), this._i += e.length, {
value: e,
done: !1
});
});
}, function(e, t, n) {
"use strict";
var r = n(245), o = n(345), i = n(189), a = n(107);
e.exports = n(280)(Array, "Array", function(e, t) {
this._t = a(e), this._i = 0, this._k = t;
}, function() {
var e = this._t, t = this._k, n = this._i++;
return !e || n >= e.length ? (this._t = void 0, o(1)) : o(0, "keys" == t ? n : "values" == t ? e[n] : [ n, e[n] ]);
}, "values"), i.Arguments = i.Array, r("keys"), r("values"), r("entries");
}, function(e, t, n) {
"use strict";
var r = n(57), o = n(16), i = n(106), a = n(247), s = n(170), u = n(279), l = n(248), c = n(48), p = n(44), d = n(348), f = n(243), m = n(351);
e.exports = function(e, t, n, h, g, y) {
var S = r[e], v = S, _ = g ? "set" : "add", b = v && v.prototype, T = {}, E = function(e) {
var t = b[e];
i(b, e, "delete" == e ? function(e) {
return !(y && !c(e)) && t.call(this, 0 === e ? 0 : e);
} : "has" == e ? function e(n) {
return !(y && !c(n)) && t.call(this, 0 === n ? 0 : n);
} : "get" == e ? function e(n) {
return y && !c(n) ? void 0 : t.call(this, 0 === n ? 0 : n);
} : "add" == e ? function e(n) {
return t.call(this, 0 === n ? 0 : n), this;
} : function e(n, r) {
return t.call(this, 0 === n ? 0 : n, r), this;
});
};
if ("function" == typeof v && (y || b.forEach && !p(function() {
new v().entries().next();
}))) {
var C = new v(), I = C[_](y ? {} : -0, 1) != C, A = p(function() {
C.has(1);
}), w = d(function(e) {
new v(e);
}), P = !y && p(function() {
for (var e = new v(), t = 5; t--; ) e[_](t, t);
return !e.has(-0);
});
w || ((v = t(function(t, n) {
l(t, v, e);
var r = m(new S(), t, v);
return void 0 != n && u(n, g, r[_], r), r;
})).prototype = b, b.constructor = v), (A || P) && (E("delete"), E("has"), g && E("get")), 
(P || I) && E(_), y && b.clear && delete b.clear;
} else v = h.getConstructor(t, e, g, _), a(v.prototype, n), s.NEED = !0;
return f(v, e), T[e] = v, o(o.G + o.W + o.F * (v != S), T), y || h.setStrong(v, e, g), 
v;
};
}, function(e, t, n) {
var r = n(16), o = n(168), i = n(44), a = n(355), s = "[" + a + "]", u = RegExp("^" + s + s + "*"), l = RegExp(s + s + "*$"), c = function(e, t, n) {
var o = {}, s = i(function() {
return !!a[e]() || "" != ""[e]();
}), u = o[e] = s ? t(p) : a[e];
n && (o[n] = u), r(r.P + r.F * s, "String", o);
}, p = c.trim = function(e, t) {
return e = String(o(e)), 1 & t && (e = e.replace(u, "")), 2 & t && (e = e.replace(l, "")), 
e;
};
e.exports = c;
}, function(e, t, n) {
"use strict";
var r = n(114), o = n(106), i = n(44), a = n(168), s = n(63);
e.exports = function(e, t, n) {
var u = s(e), l = n(a, u, ""[e]), c = l[0], p = l[1];
i(function() {
var t = {};
return t[u] = function() {
return 7;
}, 7 != ""[e](t);
}) && (o(String.prototype, e, c), r(RegExp.prototype, u, 2 == t ? function(e, t) {
return p.call(e, this, t);
} : function(e) {
return p.call(e, this);
}));
};
}, function(e, t, n) {
for (var r, o = n(57), i = n(114), a = n(186), s = a("typed_array"), u = a("view"), l = !(!o.ArrayBuffer || !o.DataView), c = l, p = 0, d = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); p < 9; ) (r = o[d[p++]]) ? (i(r.prototype, s, !0), 
i(r.prototype, u, !0)) : c = !1;
e.exports = {
ABV: l,
CONSTR: c,
TYPED: s,
VIEW: u
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.isEqual = function e(t, n) {
if (t === n) return !0;
var r = Array.isArray(t), o = Array.isArray(n);
if (r && o) {
if (t.length !== n.length) return !1;
for (var i = 0; i < t.length; i++) if (!e(t[i], n[i])) return !1;
return !0;
}
if (r !== o) return !1;
if (t && n && "object" == typeof t && "object" == typeof n) {
var a = Object.keys(t);
if (a.length !== Object.keys(n).length) return !1;
var s = t instanceof Date, u = n instanceof Date;
if (s && u) return t.getTime() === n.getTime();
if (s !== u) return !1;
var l = t instanceof RegExp, c = n instanceof RegExp;
if (l && c) return t.toString() === n.toString();
if (l !== c) return !1;
for (i = 0; i < a.length; i++) if (!Object.prototype.hasOwnProperty.call(n, a[i])) return !1;
for (i = 0; i < a.length; i++) if (!e(t[a[i]], n[a[i]])) return !1;
return !0;
}
return !1;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e() {
this.batch = [], this.updates = [], this.depth = 0;
}
return e.prototype.start = function() {
this.depth++;
}, e.prototype.stop = function(e) {
this.depth--, 0 === this.depth && this.flush(e);
}, e.prototype.flush = function(e) {
var t = this.batch, n = t.length;
if (0 !== n) {
var r = this.updates;
r.length = 0;
for (var o = 0; o < n; o++) {
var i = t[o];
if (!i.tween.isDestroyed()) {
var a = i.instruction, s = a.options;
r.push({
id: i.tween.id,
from: void 0 === a.from ? null : a.from,
to: void 0 === a.to ? null : a.to,
duration: void 0 === s.duration ? null : s.duration,
speed: void 0 === s.speed ? null : s.speed,
easing: void 0 === s.easing ? null : s.easing,
delay: void 0 === s.delay ? null : s.delay
});
}
}
t.length = 0, e.updateTweens(r), e.applyStateChanges();
}
}, e;
}();
t.TweenBatcher = r, t.tweenBatcher = new r();
}, function(e, t, n) {
"use strict";
e.exports = {};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(149), a = (n(95), function() {
function e() {
this.isUpdateAvailable = !1, this.isUpdateMandatory = !1, this.isUpdateDownloading = !1, 
this.isUpdateDownloaded = !1, this.numFilesToDownload = 0, this.numRemainingFiles = 0;
}
return Object.defineProperty(e.prototype, "isMandatoryUpdateInstalled", {
get: function() {
return this.isUpdateDownloaded && this.isUpdateMandatory;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isOptionalUpdateInstalled", {
get: function() {
return this.isUpdateDownloaded && !this.isUpdateMandatory;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isMandatoryUpdateAvailable", {
get: function() {
return this.isUpdateMandatory && this.isUpdateAvailable && !this.isUpdateDownloading && !this.isUpdateDownloaded;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isMandatoryUpdateDownloading", {
get: function() {
return this.isUpdateMandatory && this.isUpdateDownloading;
},
enumerable: !0,
configurable: !0
}), e.prototype.reset = function() {
this.isUpdateAvailable = !1, this.isUpdateMandatory = !1, this.isUpdateDownloading = !1, 
this.isUpdateDownloaded = !1, this.numFilesToDownload = 0, this.numRemainingFiles = 0;
}, r.__decorate([ o.observable ], e.prototype, "isUpdateAvailable", void 0), r.__decorate([ o.observable ], e.prototype, "isUpdateMandatory", void 0), 
r.__decorate([ o.observable ], e.prototype, "isUpdateDownloading", void 0), r.__decorate([ o.observable ], e.prototype, "isUpdateDownloaded", void 0), 
r.__decorate([ o.observable ], e.prototype, "numFilesToDownload", void 0), r.__decorate([ o.observable ], e.prototype, "numRemainingFiles", void 0), 
r.__decorate([ o.computed ], e.prototype, "isMandatoryUpdateInstalled", null), r.__decorate([ o.computed ], e.prototype, "isOptionalUpdateInstalled", null), 
r.__decorate([ o.computed ], e.prototype, "isMandatoryUpdateAvailable", null), r.__decorate([ o.computed ], e.prototype, "isMandatoryUpdateDownloading", null), 
r.__decorate([ o.action ], e.prototype, "reset", null), e;
}());
t.BundleUpdateStore = a, t.init = function s() {
i.onManifestDownloaded.listen(function(e) {
o.action("onManifestDownloaded", function() {
t.bundleUpdateStore.isUpdateAvailable = parseInt(e.bundleVersion, 10) < parseInt(e.newBundleVersion, 10), 
t.bundleUpdateStore.isUpdateMandatory = e.isMandatory;
})();
}), i.onManifestAssetsDownloadStarted.listen(function(e) {
o.action("onManifestAssetsDownloadStarted", function() {
t.bundleUpdateStore.isUpdateDownloading = !0, t.bundleUpdateStore.numFilesToDownload = e.numAssets, 
t.bundleUpdateStore.numRemainingFiles = e.numAssets;
})();
}), i.onManifestDownloadUpdate.listen(function(e) {
o.action("onManifestDownloadUpdate", function() {
t.bundleUpdateStore.numRemainingFiles = e.numAssetsRemaining;
})();
}), i.onManifestAssetsDownloadCompleted.listen(function(e) {
o.action("onManifestAssetsDownloadCompleted", function() {
t.bundleUpdateStore.isUpdateDownloading = !1, t.bundleUpdateStore.isUpdateDownloaded = !0;
})();
});
}, t.bundleUpdateStore = new a();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(52), o = n(133).__Logger.get("LoadAsset"), i = 1, a = {};
t.loadAssetRequest = function s(e, t) {
var n = {
id: i++,
url: e,
callback: t
};
a[n.id] = n, r.nativeApi.loadAssetRequest(n.id, n.url);
}, r.nativeApi.onLoadAssetRequestCompleted = function(e, t, n) {
var r = a[e];
delete a[e], r ? r.callback ? r.callback(t, n) : o.warn("There is no callback for " + e + "; full request: " + r) : o.warn("No request could be found for requestId: " + e);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(504), i = o.TranslationHolder.currentTranslations;
function a(e) {
i = e ? o.TranslationHolder.fallbackTranslations : o.TranslationHolder.currentTranslations;
}
t.translationFallbackListener = function s(e) {
return r.reaction(function() {
return e.fallback;
}, function(e) {
return a(e);
});
}, t.setInitialTranslations = function u(e) {
i = o.TranslationHolder.currentTranslations, Object.keys(i).length > 0 && !e.translationsAreDone && e.markTranslationsAsDone();
}, t.updateUsedTranslations = a, t.translate = function l(e, t) {
return void 0 === t && (t = !1), t ? o.TranslationHolder.currentTranslations[e] || e : i[e] || e;
}, t.tempTranslate = function c(e) {
return e;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = 0, o = function() {
function e(e, t, n, o, i, a, s) {
this.name = e, this.keyCode = t, this.padCode = n, this.fbAction = o, this.order = i, 
this.priority = a, this.enableRepeat = s, this.id = r++, this.fbAction = this.fbAction.map(function(e) {
return "UIInputAction_" + e;
});
}
return e.prototype.toString = function() {
return this.name;
}, e;
}();
t.Key = o;
var i = function() {
return function e(t, n, r, o) {
void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 === o && (o = !1), this.key = t, 
this.isRelease = n, this.isRepeat = r, this.isHold = o, this.isPress = !this.isRelease && !this.isHold;
};
}();
t.KeyEvent = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(7), a = n(509), s = n(39), u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = i.SpartaContext.getFromComponent(t), t.state = {
hasError: !1
}, t;
}
return r.__extends(t, e), t.prototype.componentDidCatch = function(e, t) {
this.setState({
hasError: !0
});
var n = a.sendSentryReport(e);
this.sparta.twinkle.nativeApi.showError("An unhandled error was thrown by a descendant of ErrorBoundary:" + this.props.debugName + "\nError: " + e.message + "\n\nStack:\n" + e.stack + "\n\nComponentStack:" + t.componentStack + (n ? "\nSentry Event ID:" + n.event_id : ""));
}, t.prototype.render = function() {
return this.state.hasError ? this.props.errorMessage ? o.createElement(s.EmptyState, {
text: this.props.errorMessage
}) : null : this.props.children;
}, t.contextTypes = i.SpartaContext.contextTypes, t;
}(o.Component);
t.ErrorBoundary = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0);
function o(e, t) {
return {
listen: function(n, r) {
var o = r && r.disposeWhenCalled, i = r && r.timeoutHandler, a = r && r.disposeTimeout, s = !1, u = e.registerMessageListener(t, function(e, t) {
s = !0, n(t), o && u();
});
return a && setTimeout(function() {
u(), !s && i && i();
}, a), u;
}
};
}
function i(e, t) {
return function(n) {
e.sendMessage.call(this, t, n);
};
}
t.frostbiteListenable = o, t.frostbiteAction = i, t.frostbiteActionWithResponse = function a(e, t, n, s) {
var u = o(e, n), l = i(e, t);
return function(e, t, n) {
var o = u.listen(t, r.__assign({
disposeWhenCalled: !0
}, s, n));
return l(e), o;
};
};
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var n = function() {
function t(t, n) {
void 0 === n && (n = !1), this.debugName = t, this.debug = n, this.lastItemId = 0, 
this.items = {}, this.logger = e.get("ScopedRegistry");
}
return t.prototype.log = function() {
for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
this.debug && (e = this.logger.debug).call.apply(e, [ this, this.debugName ].concat(t));
}, t.prototype.add = function(e, t) {
var n = this;
void 0 === t && (t = "");
var r = this.lastItemId++;
this.log("add", t, "->", r);
var o = this.items[t] || {};
return o[r] = e, this.items[t] = o, function() {
return n.remove(r, t);
};
}, t.prototype.list = function(e) {
void 0 === e && (e = "");
var t = this.items[e];
return t ? Object.keys(t).map(function(e) {
return t[e];
}) : [];
}, t.prototype.remove = function(e, t) {
this.log("remove", t, "->", e);
var n = this.items[t] || {};
delete n[e], this.items[t] = n;
}, t.prototype.dispose = function(e) {
void 0 === e && (e = ""), this.log("dispose", e), e && (this.items[e] = {});
}, t.prototype.disposeAll = function() {
this.items = {};
}, t;
}();
t.ScopedRegistry = n;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0);
!function(e) {
e[e.mp = 0] = "mp", e[e.coop = 1] = "coop", e[e.competitive = 2] = "competitive", 
e[e.royale = 3] = "royale";
}(r = t.GameModeType || (t.GameModeType = {}));
var i = function() {
function e(e, t, n, r, o, i, a) {
this.gameModes = e, this.maps = t, this.settings = n, this.experiences = r, this.factions = o, 
this.attributes = i, this.game = a;
}
return e.fromBackend = function(t) {
return new e(t.gameModes.map(function(e) {
var n = t.tutorials[e.shortFilterKey] || null;
return o.__assign({}, e, {
type: function i(e) {
return e.filterKey.startsWith("Dakar") ? r.royale : e.filterKey.startsWith("Cmp") ? r.competitive : e.filterKey.startsWith("Coop") ? r.coop : r.mp;
}(e),
videoUrl: n
});
}), t.maps, t.settings, t.experiences, t.factions, t.attributes, t.game);
}, e.prototype.mapsByLevelType = function(e) {
return this.maps.filter(function(t) {
return t.levelType === e;
});
}, e;
}();
t.GameData = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(296), o = function() {
function e(e) {
var t = this;
this.debugName = e, this.dispose = function() {
t.listeners.disposeAll();
}, this.listeners = new r.ScopedRegistry(e);
}
return e.prototype.trigger = function(e) {
var t = e();
this.listeners.list().map(function(e) {
e(t);
});
}, e.prototype.listen = function(e) {
return this.listeners.add(e);
}, e;
}();
t.EventGenerator = o;
var i = function() {
function e(e) {
var t = this;
this.debugName = e, this.dispose = function(e) {
e ? t.listeners.dispose(e.toString()) : t.listeners.disposeAll();
}, this.listeners = new r.ScopedRegistry(e);
}
return e.prototype.trigger = function(e, t) {
var n = t();
this.listeners.list(e.toString()).map(function(e) {
e(n);
});
}, e.prototype.listen = function(e, t) {
return this.listeners.add(t, e.toString());
}, e;
}();
t.ScopedEventGenerator = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.kind = "medal", n.stages = t.stages, n.xp = t.xp, n;
}
return r.__extends(t, e), t;
}(n(218).BaseAward);
t.Medal = o;
var i = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.isSelected = !1, n.isSelected = t.isSelected, n.currentProgression = t.currentProgression, 
n.currentStageCode = t.currentStageCode, n;
}
return r.__extends(t, e), t;
}(o);
t.CurrentMedal = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(96), i = n(221), a = n(3), s = n(936), u = function(e) {
function t(t, n) {
var r = e.call(this, t) || this;
return r.aggregate = null, r.setContent(n), r;
}
return r.__extends(t, e), t.prototype.setContent = function(e) {
this.aggregate = e;
}, t.prototype.contentEquals = function(e) {
return !!this.aggregate && this.aggregate.location.path === e.location.path;
}, r.__decorate([ a.observable ], t.prototype, "aggregate", void 0), r.__decorate([ a.action ], t.prototype, "setContent", null), 
t;
}(i.ItemState);
t.ViewComponentState = u;
var l = function(e) {
function t(t) {
for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
var o = e.apply(this, [ t.current ].concat(n)) || this;
return a.reaction(function() {
return t.current;
}, function(e) {
o.switchToItem(e);
}), o;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "navigationVector", {
get: function() {
return this.previous && this.current && this.previous.aggregate && this.current.aggregate ? function e(t, n) {
var r = -1 === t.mainMenuIndex || -1 === n.mainMenuIndex, o = -1 === t.subMenuIndex || -1 === n.subMenuIndex;
if (o && r) {
var i = n.config.priority || 0, a = t.config.priority || 0, u = i > a ? 1 : -1;
return new s.Vector3(0, u, 0);
}
var l = 0, d = 0, f = 0;
r || (d = c(n.mainMenuIndex - t.mainMenuIndex, -1, 1));
var m = !n.config.disableHorizontalNavigation;
m && (o || (l = c(n.subMenuIndex - t.subMenuIndex, -1, 1)));
var h = m ? 4 : 3;
if (f = t.breadcrumbs.length >= h || n.breadcrumbs.length >= h ? n.breadcrumbs.length - t.breadcrumbs.length : 0, 
0 === d && 0 === l && 0 === f && n.breadcrumbs.length >= h) {
var g = n.activeSubMenuConfig ? n.activeSubMenuConfig.children : [], y = p(g, t.location, !1), S = p(g, n.location, !1);
l = c(S - y, -1, 1);
}
if (d) return new s.Vector3(0, d, 0);
if (f) return new s.Vector3(0, 0, f);
if (l) return new s.Vector3(l, 0, 0);
return new s.Vector3(0, 0, 0);
}(this.previous.aggregate, this.current.aggregate) : null;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ a.computed ], t.prototype, "navigationVector", null), t;
}(i.EnterLeaveState);
function c(e, t, n) {
return e < t ? t : e > n ? n : e;
}
function p(e, t, n) {
var r = e.map(function(e) {
return e.location;
});
return o.Location.indexOfBestMatch(r, t, n);
}
t.ViewState = l;
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.MATCHMAKING_STATUS_UPDATED = "MATCHMAKING_STATUS_UPDATED", e.GROUP_MATCHMAKING_STARTED = "GROUP_MATCHMAKING_STARTED", 
e.QUEUESTATUS_UPDATED = "QUEUESTATUS_UPDATED", e.FRIENDS_PLAYING = "FRIENDS_PLAYING", 
e.FRIENDS_STOPPED_PLAYING = "FRIENDS_STOPPED_PLAYING", e.PLATOON_DATA_UPDATE = "PLATOON_DATA_UPDATE", 
e.LICENSES_CHANGED = "LICENSES_CHANGED";
}(r = t.PushNotificationTopic || (t.PushNotificationTopic = {})), t.isMatchmakingUpdate = function o(e, t) {
return t === r.MATCHMAKING_STATUS_UPDATED;
}, t.isFriendUpdate = function i(e, t) {
return t === r.FRIENDS_PLAYING || t === r.FRIENDS_STOPPED_PLAYING;
}, t.isQueueUpdate = function a(e, t) {
return t === r.QUEUESTATUS_UPDATED;
}, t.isPlatoonUpdate = function s(e, t) {
return t === r.PLATOON_DATA_UPDATE;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
this.name = e.name, this.mask = e.mask, this.license = e.license, this.prettyName = e.prettyName;
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.GameExpansion = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = function() {
function e() {
var e = this;
this.now = Date.now(), this.update = function() {
e.now = Date.now(), e.atom.reportChanged();
}, this.atom = r.createAtom("nowStore", function() {
return e.start();
}, function() {
return e.stop();
});
}
return Object.defineProperty(e.prototype, "ms", {
get: function() {
return this.atom.reportObserved() ? this.now : Date.now();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "seconds", {
get: function() {
return this.atom.reportObserved() ? Math.ceil(this.now / 1e3) : Math.ceil(Date.now() / 1e3);
},
enumerable: !0,
configurable: !0
}), e.prototype.start = function() {
this.update(), this.timer = setInterval(this.update, 100);
}, e.prototype.stop = function() {
this.timer && clearInterval(this.timer);
}, e;
}();
t.nowStore = new o();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110);
t.layoutFeatureFlags = r.featureFlags.register({
useVideoBg: new r.FeatureFlag({}),
useEngagementBg: new r.FeatureFlag({}),
enablePremiumIconComCenter: new r.FeatureFlag({})
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(6);
function i(e, t) {
if (void 0 === t && (t = 1e3), !e) return [];
for (var n = [], r = null; -1 !== r; ) r = Math.max(e.indexOf("\n", t), e.indexOf("\r", t)), 
n.push(e.substr(0, r)), e = e.substr(r + 1);
return n.push(e), n;
}
t.chunkTextByLines = i, t.createChunkedTexts = function a(e) {
return i(e).map(function(e, t) {
return r.createElement(o.Text, {
size: "S",
value: e,
key: t
});
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.imageUrlFromTemplate = function r(e, t, n) {
var r = t || 256, o = n || "png";
return e.replace(/\[SIZE\]/, r.toString()).replace(/\[FORMAT\]/, o);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(549), a = n(3), s = n(4), u = n(261), l = n(5), c = n(226), p = n(7), d = n(134), f = n(118), m = n(129), h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = p.SpartaContext.getFromComponent(t), t.isHovered = !1, t.isForceHovered = !1, 
t.bounds = null, t.colorTween = c.TweenStyle.create("93c61259:45:36", t, "color", t.sparta.theme.getTheme, function(e, n) {
t.isHovered ? e.set(t.getHoverColor(n)) : t.props.dark ? e.set("#000000") : e.set(t.getColor(n));
}, function(e) {
return t.getColor(e);
}), t.opacityTween = c.TweenStyle.create("93c61259:62:38", t, "opacity", t.sparta.theme.getTheme, function(e, n) {
t.isHovered || t.isForceHovered ? e.set(n.contextMenu.hoveredOpacity) : e.set(n.contextMenu.normalOpacity);
}, function(e) {
return e.contextMenu.normalOpacity;
}), t.onClick = function(e) {
e.stopPropagation(), t.setForceHovered(!0);
var n = i.hide.listen(function() {
t.setForceHovered(!1), n();
});
t.open();
}, t.onMouseEnter = function() {
t.sparta.theme.getTheme(t).input.playSoundOnHover && f.playEffect(m.AudioEffect.Highlight), 
t.isHovered = !0;
}, t.onMouseLeave = function() {
t.isHovered = !1;
}, t.setBounds = function(e) {
t.bounds = d.Bounds.fromRaw(e);
}, t.open = function() {
var e;
if (t.props.onOpen && t.props.onOpen(), "function" == typeof t.props.position) e = t.props.position(); else if (t.props.position) e = r.__assign({}, t.props.position); else {
var n = r.__assign({
x: 0,
y: 0
}, t.bounds);
t.props.offset && (n.x += t.props.offset.x, n.y += t.props.offset.y), e = {
x: n.x,
y: n.y
};
}
e.x -= t.sparta.uiState.viewportPosition.left, e.y -= t.sparta.uiState.viewportPosition.top, 
i.display({
menuItems: t.props.menuItems || [],
position: e,
align: t.props.align || u.Alignment.Left,
onClose: t.props.onClose,
customWidth: t.props.menuWidth,
parentHeight: t.props.parentHeight,
theme: t.sparta.theme.getTheme(t)
});
}, t;
}
return r.__extends(t, e), t.prototype.componentWillUnmount = function() {
this.close();
}, t.prototype.getColor = function(e) {
var t = this.props.colorOverrides;
return t && t.color || e.contextMenu.dotsColor;
}, t.prototype.getHoverColor = function(e) {
var t = this.props.colorOverrides;
return t && t.hoverColor || e.contextMenu.dotsFocusColor;
}, t.prototype.setForceHovered = function(e) {
this.isForceHovered = e;
}, t.prototype.close = function() {
i.hide();
}, t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).contextMenu, t = l.merge2(e.button, this.props.style);
return o.createElement("surface", {
key: this.props.debugName,
onClick: this.onClick,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave,
onBounds: this.setBounds,
style: t
}, o.createElement("surface", {
style: [ e.dots, this.colorTween, this.opacityTween, this.props.styleDots ]
}));
}, t.contextTypes = p.SpartaContext.contextTypes, r.__decorate([ a.observable ], t.prototype, "isHovered", void 0), 
r.__decorate([ a.observable ], t.prototype, "isForceHovered", void 0), r.__decorate([ a.action ], t.prototype, "onMouseEnter", void 0), 
r.__decorate([ a.action ], t.prototype, "onMouseLeave", void 0), r.__decorate([ a.action ], t.prototype, "setForceHovered", null), 
t = r.__decorate([ s.observer ], t);
}(o.Component);
t.ContextMenuButton = h;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.ping = r.createTypedAction(), t.qosPing = r.createTypedAction(), t.resolve = r.createTypedAction(), 
t.flushCache = r.createTypedAction(), t.emptyQueue = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.pingCompleted = r.createTypedAction(), t.qosPingCompleted = r.createTypedAction(), 
t.resolveCompleted = r.createTypedAction();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(10), r = n(12), o = n(11), i = n(18);
t.DisconnectionType = {
ok: 0,
wrongProtocolVersion: 1,
wrongTitleVersion: 2,
serverFull: 3,
kickedOut: 4,
banned: 5,
genericError: 6,
wrongPassword: 7,
kickedOutDemoOver: 8,
rankRestricted: 9,
configurationNotAllowed: 10,
serverReclaimed: 11,
missingContent: 12,
notVerified: 13,
timedOut: 14,
connectFailed: 15,
noReply: 16,
acceptFailed: 17,
mismatchingContent: 18,
kickedOutRankTooHigh: 19,
interactivityTimeout: 20,
kickedFromQueue: 21,
teamKills: 22,
kickedByAdmin: 23,
kickedViaPunkBuster: 24,
kickedOutServerFull: 25,
eSportsMatchStarting: 26,
notInESportsRosters: 27,
eSportsMatchEnding: 28,
virtualServerExpired: 29,
virtualServerRecreate: 30,
eSportsTeamFull: 31,
eSportsMatchAborted: 32,
eSportsMatchWalkover: 33,
eSportsMatchWarmupTimedOut: 34,
notAllowedToSpectate: 35,
noSpectateSlotAvailable: 36,
invalidSpectateJoin: 37,
kickedViaFairFight: 38,
kickedCommanderOnLeave: 39,
kickedCommanderAfterMutiny: 40,
serverMaintenance: 41,
kickedGameTimeAccountOnUnofficial: 42,
kickedViaShield: 43,
draftDodge: 44,
draftMissingPlayer: 45,
switchedTeams: 44
}, t.DisconnectionReasonType = {
unknown: 0,
timeout: 1,
connectionLost: 2,
backendConnectionLost: 3,
reservationTimeout: 4,
kicked: 5,
banned: 6,
playerLeft: 7,
groupLeft: 8,
joinedAnotherGame: 9,
gameDestroyed: 10,
gameEnded: 11,
migrationFailed: 12,
hostEjected: 13,
hostInjectedFailed: 14,
joinFirstPartySessionFailed: 15,
queuePromotionFailed: 16
};
var a = function() {
function n(e, t, n, r) {
this.gameId = e, this.customMessage = t, this.disconnectionType = n, this.disconnectionReasonType = r;
}
return n.prototype.toHumanReadable = function() {
if (this.customMessage) return this.customMessage;
var e = this.getDisconnectionReasonMessage();
return "" === e && (e = this.getDisconnectionMessage()), e;
}, n.prototype.getDisconnectionReasonMessage = function() {
var e = "";
switch (this.disconnectionReasonType) {
case t.DisconnectionReasonType.timeout:
e = __("ID_SPARTA_ONLINE_DISCONNECT_TIMEOUT");
break;

case t.DisconnectionReasonType.connectionLost:
case t.DisconnectionReasonType.backendConnectionLost:
e = __("ID_SPARTA_ONLINE_DISCONNECT_CONNECTIONLOST");
break;

case t.DisconnectionReasonType.playerLeft:
e = __("ID_SPARTA_ONLINE_DISCONNECT_PLAYERLEFT");
break;

case t.DisconnectionReasonType.gameDestroyed:
e = __("ID_SPARTA_ONLINE_DISCONNECT_GAMEDESTROYED");
}
return e;
}, n.prototype.getTitle = function() {
var e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER");
return this.disconnectionReasonType === t.DisconnectionReasonType.gameDestroyed && (e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER")), 
e;
}, n.prototype.getDisconnectionMessage = function() {
var e = "";
switch (this.disconnectionType) {
case t.DisconnectionType.wrongProtocolVersion:
case t.DisconnectionType.wrongTitleVersion:
e = __("ID_SPARTA_ONLINE_DISCONNECT_WRONG_TITLEVERSION"), e += " " + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case t.DisconnectionType.serverFull:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_FULL");
break;

case t.DisconnectionType.kickedOut:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED");
break;

case t.DisconnectionType.banned:
e = __("ID_SPARTA_ONLINE_DISCONNECT_BANNED");
break;

case t.DisconnectionType.wrongPassword:
e = __("ID_SPARTA_ONLINE_DISCONNECT_WRONG_PASSWORD");
break;

case t.DisconnectionType.missingContent:
e = __("ID_SPARTA_ONLINE_DISCONNECT_MISSING_CONTENT");
break;

case t.DisconnectionType.timedOut:
e = __("ID_SPARTA_ONLINE_DISCONNECT_TIMEDOUT");
break;

case t.DisconnectionType.connectFailed:
e = __("ID_SPARTA_ONLINE_DISCONNECT_CONNECT_FAILED");
break;

case t.DisconnectionType.noReply:
e = __("ID_SPARTA_ONLINE_DISCONNECT_NO_REPLY");
break;

case t.DisconnectionType.acceptFailed:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ACCEPT_FAILED");
break;

case t.DisconnectionType.mismatchingContent:
e = __("ID_SPARTA_ONLINE_DISCONNECT_MISMATCHING_CONTENT");
break;

case t.DisconnectionType.kickedOutRankTooHigh:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKOUT_HIGH_RANK");
break;

case t.DisconnectionType.interactivityTimeout:
e = __("ID_SPARTA_ONLINE_DISCONNECT_INTERACTIVITY_TIMEOUT");
break;

case t.DisconnectionType.kickedFromQueue:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_FROM_QUEUE");
break;

case t.DisconnectionType.teamKills:
e = __("ID_SPARTA_ONLINE_DISCONNECT_TEAM_KILLS");
break;

case t.DisconnectionType.kickedByAdmin:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_BY_ADMIN");
break;

case t.DisconnectionType.kickedViaPunkBuster:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_BY_PUNKBUSTER");
break;

case t.DisconnectionType.kickedViaFairFight:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_BY_FAIRFIGHT");
break;

case t.DisconnectionType.kickedOutServerFull:
e = __("ID_SPARTA_ONLINE_DISCONNECT_KICKED_FULL_SERVER");
break;

case t.DisconnectionType.eSportsMatchStarting:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_START");
break;

case t.DisconnectionType.notInESportsRosters:
e = __("ID_SPARTA_ONLINE_DISCONNECT_NOT_ESPORT_ROSTERS");
break;

case t.DisconnectionType.eSportsMatchEnding:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_END");
break;

case t.DisconnectionType.virtualServerExpired:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_EXPIRED");
break;

case t.DisconnectionType.virtualServerRecreate:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_MAINTENANCE");
break;

case t.DisconnectionType.eSportsTeamFull:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_FULL_TEAM");
break;

case t.DisconnectionType.eSportsMatchAborted:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_ABORTED");
break;

case t.DisconnectionType.eSportsMatchWalkover:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_WALKOVER");
break;

case t.DisconnectionType.eSportsMatchWarmupTimedOut:
e = __("ID_SPARTA_ONLINE_DISCONNECT_ESPORTS_MATCH_WARUMP_TIMEOUT");
break;

case t.DisconnectionType.serverMaintenance:
e = __("ID_SPARTA_ONLINE_DISCONNECT_SERVER_MAINTENANCE");
break;

case t.DisconnectionType.draftDodge:
e = __("ID_SPARTA_ONLINE_DISCONNECT_DRAFT_DODGE");
break;

case t.DisconnectionType.draftMissingPlayer:
e = __("ID_SPARTA_ONLINE_DISCONNECT_DRAFT_MISSING_PLAYER");
break;

case t.DisconnectionType.ok:
case t.DisconnectionType.genericError:
case t.DisconnectionType.kickedGameTimeAccountOnUnofficial:
case t.DisconnectionType.kickedViaShield:
case t.DisconnectionType.notAllowedToSpectate:
case t.DisconnectionType.noSpectateSlotAvailable:
case t.DisconnectionType.invalidSpectateJoin:
case t.DisconnectionType.kickedCommanderOnLeave:
case t.DisconnectionType.kickedCommanderAfterMutiny:
case t.DisconnectionType.kickedOutDemoOver:
case t.DisconnectionType.rankRestricted:
case t.DisconnectionType.configurationNotAllowed:
case t.DisconnectionType.serverReclaimed:
case t.DisconnectionType.notVerified:
default:
e = __("ID_SPARTA_ONLINE_DISCONNECT_GENERIC_MESSAGE");
}
return e;
}, n.prototype.getDisconnectionAlertInput = function() {
var n = void 0, a = e.gameStore.getGame(this.gameId);
switch (this.disconnectionType) {
case t.DisconnectionType.missingContent:
n = new r.Input({
label: __("ID_SPARTA_ACTION_GOTO_STORE2").toLocaleUpperCase(),
key: o.Keys.Option1,
action: function() {
i.gotoLocation(a ? a.storeConfig.route + "?tab=premium" : "");
}
});
}
return n;
}, n.prototype.shouldShowErrorMessage = function() {
return null != this.disconnectionReasonType && this.disconnectionReasonType !== t.DisconnectionReasonType.unknown && this.disconnectionReasonType !== t.DisconnectionReasonType.playerLeft && this.disconnectionReasonType !== t.DisconnectionReasonType.groupLeft && this.disconnectionReasonType !== t.DisconnectionReasonType.joinedAnotherGame || this.disconnectionType !== t.DisconnectionType.ok;
}, n;
}();
t.MultiplayerServerDisconnection = a;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(176), o = n(92), i = n(3);
function a(e, t) {
if (t.type === r.FilterOptionType.Bool) {
var n = e.values.get(t.filterKey);
return !n || (t.defaultValue ? n === o.FilterValue.ON : n !== o.FilterValue.ON);
}
return t.type === r.FilterOptionType.Scale ? !!t.defaultOption && (0 === Object.keys(t.options).filter(function(t) {
return null != e.values.get(t);
}).length || !!e.values.get(t.defaultOption) && e.values.get(t.defaultOption) === o.FilterValue.ON) : t.type === r.FilterOptionType.Int && null == e.values.get(t.filterKey);
}
function s(e, t) {
return e === o.FilterValue.ON ? t.prettyName || t.name : e === o.FilterValue.OFF ? __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", t.prettyName || t.name) : "";
}
function u(e, t) {
var n = t.filter(function(t) {
return t.filterKey === e;
});
return n.length ? n[0].prettyName || n[0].name : e;
}
!function(e) {
e.None = "none", e.Mixed = "mixed", e.All = "all";
}(e || (e = {}));
var l = [ o.FilterCategoryName.Maps, o.FilterCategoryName.GameModes, o.FilterCategoryName.Regions, o.FilterCategoryName.Slots, o.FilterCategoryName.Presets, o.FilterCategoryName.ServerType, o.FilterCategoryName.TickRates, o.FilterCategoryName.GameSizes ], c = [ o.FilterCategoryName.Maps, o.FilterCategoryName.GameModes, o.FilterCategoryName.Regions, o.FilterCategoryName.Presets, o.FilterCategoryName.ServerType, o.FilterCategoryName.TickRates ], p = [ o.FilterCategoryName.Advanced, o.FilterCategoryName.Rules ], d = l.concat(p);
function f(e) {
if (e instanceof o.ScalesFilterCategory) return function t(e) {
if (!e.optionsCategory) return "";
var t = e.optionsCategory.options.filter(function(t) {
return !a(e, t);
}), n = t.length;
if (0 === n) return "";
if (1 === n) {
var r = i.keys(e.values).filter(function(e) {
var n = t[0].options;
return n && null != n[e];
});
if (r.length) return function o(e, t) {
var n = t.options;
return t.name + " " + (n && 100 * n[e]) + "%";
}(r[0], t[0]);
}
return __("ID_SPARTA_FILTER_CUSTOM_FILTERS");
}(e);
if (e instanceof o.RangeFilterCategory) return function n(e) {
if (!e.optionsCategory) return "";
var t = e.optionsCategory.options, n = i.keys(e.values).filter(function(t) {
return void 0 !== e.values.get(t);
}), r = n.length, o = t ? t.length : 0;
return 0 === r ? "" : 1 === r ? u(n[0], t) : r + " / " + o;
}(e);
if (e.optionsCategory instanceof r.BoolFilterOptionsCategory) {
var c = e.name;
if (l.indexOf(c) > -1) return function p(e, t) {
if (void 0 === t && (t = !1), !e.optionsCategory) return "";
var n = e.optionsCategory.options, r = i.keys(e.values).filter(function(t) {
return e.values.get(t) === o.FilterValue.ON;
}), a = r.length, s = n ? n.length : 0;
return 0 === a ? "" : 1 === a ? u(r[0], n) : a === s ? __("ID_SPARTA_FILTER_ANY_FILTERS") : t ? r.map(function(e) {
return u(e, n);
}).join(", ") : a + " / " + s;
}(e, c === o.FilterCategoryName.Slots);
if (c === o.FilterCategoryName.Advanced) return function d(e) {
if (!e.optionsCategory) return "";
var t = e.optionsCategory.options, n = i.keys(e.values).filter(function(t) {
return e.values.get(t) === o.FilterValue.ON;
}), r = n.length, a = t.length;
if (0 === r) return "";
if (1 === r) {
var u = t.filter(function(e) {
return e.filterKey === n[0];
}), l = e.values.get(n[0]);
if (l && "string" == typeof l) return s(l, u[0]);
}
return r + " / " + a;
}(e);
if ([ o.FilterCategoryName.Kits, o.FilterCategoryName.Vehicles, o.FilterCategoryName.WeaponClasses, o.FilterCategoryName.Misc ].indexOf(c) > -1) return function f(e) {
if (!e.optionsCategory) return "";
var t = e.optionsCategory.options.filter(function(t) {
return !a(e, t);
}), n = t.length;
if (0 === n) return "";
if (1 === n) {
var r = e.values.get(t[0].filterKey);
if (r && "string" == typeof r) return s(r, t[0]);
}
return __("ID_SPARTA_FILTER_CUSTOM_FILTERS");
}(e);
}
return "???";
}
t.describeFilterCategory = f;
var m = [ o.FilterCategoryName.Kits, o.FilterCategoryName.Vehicles, o.FilterCategoryName.WeaponClasses, o.FilterCategoryName.Misc, o.FilterCategoryName.Scales ];
function h(e) {
return e === o.FilterCategoryName.Maps ? __("ID_SPARTA_FILTER_MAPS") : e === o.FilterCategoryName.GameModes ? __("ID_SPARTA_FILTER_GAMEMODES") : e === o.FilterCategoryName.Vehicles ? __("ID_SPARTA_FILTER_VEHICLES") : e === o.FilterCategoryName.Kits ? __("ID_SPARTA_FILTER_KITS") : e === o.FilterCategoryName.WeaponClasses ? __("ID_SPARTA_FILTER_WEAPONS") : e === o.FilterCategoryName.Misc ? __("ID_SPARTA_FILTER_ADVANCED") : e === o.FilterCategoryName.Scales ? __("ID_SPARTA_FILTER_RULES") : e === o.FilterCategoryName.ServerType ? __("ID_SPARTA_FILTER_SERVERTYPE") : e === o.FilterCategoryName.Presets ? __("ID_SPARTA_FILTER_PRESET") : e === o.FilterCategoryName.Rules ? __("ID_SPARTA_FILTER_RULES") : e === o.FilterCategoryName.Advanced ? __("ID_SPARTA_FILTER_ADVANCED") : e === o.FilterCategoryName.Slots ? __("ID_SPARTA_FILTER_SLOTS") : e === o.FilterCategoryName.Regions ? __("ID_SPARTA_FILTER_REGIONS") : e === o.FilterCategoryName.GameSizes ? __("ID_SPARTA_FILTER_GAMESIZE") : "name" === e ? __("ID_SPARTA_FILTER_NAME") : e === o.FilterCategoryName.TickRates ? __("ID_SPARTA_FILTER_TICKRATE") : "";
}
function g(e, t) {
return "int" === e.type ? function n(e, t) {
var n = t.values.get(e.filterKey);
return Array.isArray(n) ? e.name + " " + n[0] + " - " + n[1] : null == n ? __("ID_SPARTA_FILTER_ANY_FILTERS").replace("[[filterCategory]]", e.name) : e.name + " " + n;
}(e, t) : "scale" === e.type ? function r(e, t) {
var n = Object.keys(t).filter(function(t) {
return e.options && !!e.options[t];
});
return n.length > 0 ? e.name + " " + (e.options && 100 * e.options[n[0]]) + "%" : __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", e.name);
}(e, t) : "bool" === e.type ? function i(e, t) {
return t === o.FilterValue.OFF ? __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", e.prettyName || e.name) : e.prettyName || e.name;
}(e, t.values.get(e.filterKey)) : "";
}
function y(e, t) {
for (var n = e.slice(), r = ""; n && n.length && r.length + n[0].length < t; ) r += 0 === r.length ? n.shift() : ", " + n.shift();
return n.length && (r += " +" + n.length), r;
}
function S(e, t) {
return e ? function n(e) {
return e.optionsCategory ? e.optionsCategory.options.filter(function(t) {
return "scale" === t.type ? Object.keys(t.options).some(function(t) {
return !!e.values.get(t);
}) : "int" === t.type ? null != e.values.get(t.filterKey) : e.hasOwnProperty(t.filterKey);
}) : [];
}(e).map(function(t) {
return g(t, e);
}) : [ "" ];
}
function v(t, n) {
var r = t.values.size, o = n.options.length, i = e.Mixed;
return 0 === r ? i = e.None : r === o && (i = e.All), i;
}
function _(t, n, r) {
return function(o, i, a, s) {
switch (o) {
case e.All:
return t();

case e.None:
return n();

default:
return r(i, a, s);
}
};
}
function b(e, t, n) {
var r = e.values.size, i = t.length;
return y((i - r > 1 || i < 3 ? function a(e, t) {
var n = t.filter(function(t) {
return e.values.get(t.filterKey) === o.FilterValue.ON;
}), r = t.filter(function(t) {
return e.values.get(t.filterKey) === o.FilterValue.OFF;
});
return n.length > 0 ? n : r;
}(e, t) : function s(e, t) {
return t.filter(function(t) {
return null == e.values.get(t.filterKey);
});
}(e, t)).map(function(t) {
var n = t.prettyName || t.name;
return "on" === e.values.get(t.filterKey) ? n : __("ID_SPARTA_FILTER_NO_FILTERS").replace("[[filterCategory]]", n);
}), n);
}
t.describeFilterCategories = function T(e, t) {
return t.map(function(t) {
var n = e.getCategory(t);
return n ? f(n) : "";
}).reduce(function(e, t) {
return "" === e ? t : "" === t ? e : __("ID_SPARTA_FILTER_CUSTOM_FILTERS");
});
}, t.getFilterSummary = function E(e) {
var t = [], n = !1, r = o.FilterCategoryNames.filter(function(e) {
return e !== o.FilterCategoryName.Maps && e !== o.FilterCategoryName.GameModes;
});
[ o.FilterCategoryName.GameModes, o.FilterCategoryName.Maps ].concat(r).forEach(function(r) {
var i, s = e.getCategory(r), l = s.optionsCategory;
l && s && (d.indexOf(r) > -1 ? (i = l.options.filter(function(e) {
return !a(s, e);
})).length && (1 === i.length && c.indexOf(r) > -1 ? t.push(u(i[0].filterKey, l.options)) : r === o.FilterCategoryName.Maps || r === o.FilterCategoryName.GameModes ? t.push(i.length + "/" + l.options.length + " " + h(r)) : t.push(h(r))) : (i = l.options.filter(function(e) {
return !a(s, e);
})).length && (m.indexOf(r) > -1 ? n || (n = !0) : t.push(h(r))));
});
var i = e.name;
return i && i.name && t.push(h("name")), {
text: t.join(", "),
isCustomGames: n
};
}, t.combineNames = y;
var C = function(e, t, n, r) {
var i = S(t);
return 1 === i.length && t.values.get(i[0]) === o.FilterValue.ON ? __("ID_SPARTA_FILTER_GAME_SIZE").replace("[[gameSize]]", i[0]) : y(i, r);
}, I = function(e, t, n, r) {
return y(S(t), r);
};
function A(e, t) {
return {
subHeading: e.toUpperCase(),
content: t.filter(function(e) {
return !!e;
}).join("\n").toUpperCase()
};
}
var w = _(function() {
return __("ID_SPARTA_FILTER_ALL_MAPS");
}, function() {
return __("ID_SPARTA_FILTER_ALL_MAPS");
}, b), P = _(function() {
return __("ID_SPARTA_FILTER_ALL_MODES");
}, function() {
return __("ID_SPARTA_FILTER_ALL_MODES");
}, b);
function R(e, t, n) {
return t(e.status, e.filter, e.options, n);
}
function O(e) {
return null !== e;
}
function x(t, n, r) {
return Object.keys(t).map(function(i) {
var a = t[i];
return n.indexOf(i) > -1 ? null : a.status !== e.None || i === o.FilterCategoryName.Maps || i === o.FilterCategoryName.GameModes ? R(a, function s(e) {
return e === o.FilterCategoryName.Maps ? w : e === o.FilterCategoryName.GameModes ? P : e === o.FilterCategoryName.GameSizes ? C : I;
}(i), r) : null;
}).filter(O);
}
var k = 30;
t.getFilterCardSummary = function L(t, n) {
void 0 === n && (n = k);
var r = {};
return o.FilterCategoryNames.forEach(function(e) {
var n = t.getCategory(e), i = n.optionsCategory;
e !== o.FilterCategoryName.Presets && e !== o.FilterCategoryName.ServerType && i && (r[e] = {
filter: n,
options: i.options,
status: v(n, i)
});
}), r.maps && r.maps.status === e.Mixed && r.gameModes && r.gameModes.status !== e.Mixed ? A(R(r.maps, w, n), x(r, [ o.FilterCategoryName.Maps, o.FilterCategoryName.Presets, o.FilterCategoryName.ServerType ], n)) : A(R(r.gameModes, P, n), x(r, [ o.FilterCategoryName.GameModes, o.FilterCategoryName.Presets, o.FilterCategoryName.ServerType ], n));
};
var M = [ o.FilterCategoryName.Maps, o.FilterCategoryName.GameModes ];
t.getMapsModesCardInfo = function D(e, t) {
var n = {};
return M.forEach(function(t) {
var r = e.getCategory(t), o = r.optionsCategory;
o && (n[t] = {
filter: r,
options: o.options,
status: v(r, o)
});
}), {
maps: R(n.maps, w, t),
modes: R(n.gameModes, P, t)
};
}, t.getGameMixMapInfo = function N(e, t) {
var n = [];
return e.mapRotation.forEach(function(e) {
-1 === n.indexOf(e.map.prettyName) && n.push(e.map.prettyName);
}), y(n, t);
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(3), i = n(25), a = n(1158), s = n(38);
function u() {
i.close("fullScreenVideo");
}
t.showFullscreenVideo = function l(e, t, n, c, p) {
return void 0 === n && (n = ""), void 0 === c && (c = ""), t ? (e.stores.backgroundMusicStore.stopCurrentTrack(), 
t.stop(), new Promise(function(l, m) {
i.display(new s.Popup({
id: "fullScreenVideo",
fullScreen: !0,
backgroundColor: "#000000",
onClose: l,
createButtons: !1,
content: r.createElement(a.FullScreenVideoControls, {
heading: n,
author: c,
onClose: l,
video: t,
label: p
})
})), t.setVolume(0), t.loop = !1, t.isFullScreen = !0, t.renderWorld = !1, t.play();
var h = e.twinkle.events.onVideoStartPlaying.listen(function(e) {
e === t.id && (t.setVolume(1), t.applyVolumeFix(), h());
});
d = e.twinkle.events.onVideoStopped.listen(function(e) {
e === t.id && u();
}), f = o.when(function() {
return !e.stores.onlineState.isOnlineBlazeAndGateway;
}, u);
}).then(function() {
d(), f(), t.setVolume(0), t.stop(), t.loop = !0, t.isFullScreen = !1, t.renderWorld = !0, 
e.stores.backgroundMusicStore.resumeCurrentTrack();
})) : Promise.reject(new Error("Trying to show an undefined video"));
var d, f;
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(18), a = n(11), s = n(12), u = n(67), l = n(79), c = n(180), p = n(43), d = n(153), f = n(37), m = n(91), h = n(314), g = n(80), y = n(7), S = n(47), v = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(_, {
recommendation: this.props.recommendation,
size: this.props.size
});
}, n;
}(r.Component);
t.PlatoonServerRecommendationCard = v;
var _ = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.sparta = y.SpartaContext.getFromComponent(r);
var o = e.server ? e.server.guid : e.recommendation ? e.recommendation.server.guid : "";
return r.focusItem = r.sparta.twinkle.focus.create(r, "playing_platoon_members_rec_card" + o), 
r.focusItem.autoFocusCandidate = !0, r.sparta.stores.recommendationStore.addLifecycleHooks(r, function() {
return r.serverName;
}), r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "targetServer", {
get: function() {
var e = this.props.recommendation;
return e ? new l.GameServer(e.server) : this.props.server;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "serverName", {
get: function() {
var e = this.targetServer;
return e && (this.props.allowJoin || this.props.recommendation) ? this.sparta.stores.settingsStore.hasUGCAccess() ? e.name : e.gameId : "";
},
enumerable: !0,
configurable: !0
}), n.prototype.onServerJoin = function(e, t, n) {
void 0 === t && (t = m.JoinRole.soldier);
var r = this.props.recommendation, o = r ? r.platoon && r.platoon.guid : this.props.platoon && this.props.platoon.guid, i = n instanceof h.PlatoonMember ? {
platoonMember: n,
platoonGuid: o
} : {
platoonGuid: o
};
if (this.props.allowJoin || r) {
if (r) {
r.platoon && r.platoon.displayMembers;
this.sparta.stores.recommendationStore.handleCardInteraction(this);
}
this.sparta.stores.gameStateStoreLoader.get().isServerJoiningAllowed(e.gameId) && p.joinServer(c.createJoinOptions(this.sparta.stores.partyStoreLoader, e, t, i));
} else S.PopupManager.standardAlert(__("ID_SPARTA_CARD_PLAY_WITH_PLATOON_NOT_MEMBER_DESC"), __("ID_SPARTA_CARD_PLAY_WITH_PLATOON_NOT_MEMBER_TITLE"), void 0, {
requireOnline: !0
});
}, n.prototype.getButtons = function(e, t) {
var n = this, r = [ new s.Input({
label: __("ID_SPARTA_CARD_PLAY_WITH_PLATOON"),
key: a.Keys.Accept,
blockInputFor: 500,
action: function() {
return n.onServerJoin(e, m.JoinRole.soldier, t);
}
}) ];
if (this.sparta.twinkle.buildInfo.isConsole && this.props.allowJoin && !this.sparta.stores.partyStoreLoader.get().canGroupJoin) {
var o = this.sparta.stores.gameStore.getGame(e.game);
o && o.serverConfig.serverDetailsRoute && r.push(new s.Input({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
key: a.Keys.Option1,
blockInputFor: 500,
action: function() {
return i.gotoLocation(o.serverConfig.serverDetailsRoute + "?blazeGameId=" + e.gameId);
}
}));
}
return r;
}, n.prototype.getContextMenuConfig = function(e, t) {
var n = this, r = [];
if (!this.sparta.stores.partyStoreLoader.get().canGroupJoin) {
var o = this.sparta.stores.gameStore.getGame(e.game);
this.props.allowJoin && o && o.serverConfig.serverDetailsRoute && r.push({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function() {
return i.gotoLocation(o.serverConfig.serverDetailsRoute + "?blazeGameId=" + e.gameId);
}
}), u.supportsSpectating(e.game) && r.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: function() {
return n.onServerJoin(e, m.JoinRole.spectator, t);
}
}), u.supportsCommander(e.game) && r.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
action: function() {
return n.onServerJoin(e, m.JoinRole.commander, t);
}
});
}
return r.length ? {
menuItems: r
} : void 0;
}, n.prototype.render = function() {
var e, t, n, o, i = this.props.recommendation, a = !!i || this.props.showPlatoonFlair, s = this.targetServer;
i && i.platoon ? e = (t = new g.LightPlatoon(i.platoon)) && t.displayMembers : (e = this.props.playingMembers, 
t = this.props.platoon), e && (n = e[Math.floor(Math.random() * e.length)]);
var u, l, c = this.serverName, p = "", f = "", m = "", h = "", y = "";
s && (o = s.slots.soldier, p = s.mapModePretty, f = s.mapNamePretty, m = (o.current + "/" + o.max + " " + __("ID_SPARTA_SERVER_PLAYERS")).toUpperCase(), 
this.sparta.twinkle.buildInfo.isPC && (u = this.getContextMenuConfig(s, n)), h = s.mapImageUrl, 
y = s.game, l = this.getButtons(s, n));
var S = t && a ? t.getTag() : "", v = (this.props.joinText || __("ID_SPARTA_CARD_PLAY_WITH_PLATOON")).toUpperCase();
return r.createElement(d.PlayCard, {
heading: S,
focusItem: this.focusItem,
contextMenu: u,
platoon: a ? t : void 0,
input: l,
joinButtonName: v,
modes: c,
maps: p + " - " + f,
playersInfo: m,
background: h,
friends: e,
size: this.props.size,
game: y
});
}, n.contextTypes = y.SpartaContext.contextTypes, n.defaultProps = {
size: f.CardSize.SSL
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.PlatoonServerCard = _;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(418), a = n(156), s = function() {
function e(e) {
this.personaId = e.personaId, this.platformId = e.platformId, this.displayName = e.displayName, 
this.avatar = e.avatar, this.role = e.role, this.membership = e.membership;
}
return Object.defineProperty(e.prototype, "localizedRole", {
get: function() {
return a.enumToLocalized(this.membership.role);
},
enumerable: !0,
configurable: !0
}), e.fromBackend = function(t, n) {
return new e(r.__assign({}, n, {
membership: i.PlatoonMembership.fromBackend({
guid: t,
role: n.role
})
}));
}, r.__decorate([ o.observable ], e.prototype, "personaId", void 0), r.__decorate([ o.observable ], e.prototype, "platformId", void 0), 
r.__decorate([ o.observable ], e.prototype, "displayName", void 0), r.__decorate([ o.observable ], e.prototype, "avatar", void 0), 
r.__decorate([ o.observable ], e.prototype, "role", void 0), r.__decorate([ o.observable ], e.prototype, "membership", void 0), 
r.__decorate([ o.computed ], e.prototype, "localizedRole", null), e;
}();
t.PlatoonMember = s;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(25), i = n(38), a = n(12), s = n(11), u = n(316), l = n(18), c = n(4), p = n(6), d = n(5), f = n(17), m = n(22), h = n(7), g = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = h.SpartaContext.getFromComponent(r), r.focusItem = m.focusSystem.create(r, "linktext-" + e.text), 
r.sparta.stores.inputStore.bindInputToFocusItem(new a.Input({
key: s.Keys.Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
var e = r.props.action, t = r.props.location;
"link" === e && t ? l.gotoLocation(t) : "popup" === e && r.showPopupTerms();
}
}), r.focusItem), r;
}
return e.__extends(n, t), n.prototype.showPopupTerms = function() {
o.display(new i.Popup({
content: r.createElement(u.LegalContent, {
legal: "terms"
}),
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new a.Input({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: s.Keys.Decline
}) ]
}));
}, n.prototype.render = function() {
return r.createElement("surface", e.__assign({}, this.focusItem.hooks), r.createElement(p.Text, {
value: this.props.text,
size: "XS",
style: d.merge3(d.DynamicStyle.maybeLegacyStyle(this.props.style, "69da4b21:93:35"), f.CommonStyles.color("#ffffff"), f.CommonStyles.opacity(this.focusItem.isFocusedOrHovered ? 1 : .66))
}));
}, n.contextTypes = h.SpartaContext.contextTypes, n = e.__decorate([ c.observer ], n);
}(r.Component);
t.LinkText = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(8), a = n(6), s = n(34), u = n(141), l = n(5), c = n(9), p = l.StaticStyle.wrapLegacyStyleSheet({
paragraph: {
margin: [ 0, 0, 30, 0 ]
},
scrollerContainer: {
margin: [ 40, 40, 40, 40 ]
}
}, "2a8a9351:23:15"), d = {
header: c.SpartaGlobals.bundleIsConsole ? "XL" : "XXL",
heading: c.SpartaGlobals.bundleIsConsole ? "S" : "M",
text: c.SpartaGlobals.bundleIsConsole ? "S" : "M",
subtext: c.SpartaGlobals.bundleIsConsole ? "XS" : "S",
fineprint: c.SpartaGlobals.bundleIsConsole ? "XXS" : "S"
}, f = "PC" === u.copyStore.getPlatform() ? 1 : .75, m = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.createScroller = function() {
var e = i.getHeight(105 * f), t = i.getWidth(24 * f), n = [];
switch (this.settings = u.copyStore.getCopyPage("settings"), this.props.legal) {
case "terms":
n = u.copyStore.getProperty(this.settings, "url.accessTosData");
}
return o.createElement("surface", {
style: p.scrollerContainer
}, o.createElement(s.Scroller, {
style: {
height: e,
width: t
},
controller: !0,
scrollbarPosition: "inside"
}, this.createContent(n)));
}, t.prototype.createContent = function(e) {
for (var t = [], n = 0; n < e.length; n++) t.push(o.createElement(a.Text, {
value: e[n],
key: "content_" + n,
size: d.text,
style: p.paragraph
}));
return t;
}, t.prototype.render = function() {
return o.createElement("surface", null, this.createScroller());
}, t;
}(o.Component);
t.LegalContent = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function() {
function e(e) {
this.startRoute = e;
}
return Object.defineProperty(e.prototype, "locationLearnAboutAccess", {
get: function() {
return this.startRoute + "/store/access?stay=true";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "locationLearnAboutAccessInStoreTab", {
get: function() {
return this.startRoute + "/store/list?tab=access";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "locationCommonQuestions", {
get: function() {
return this.startRoute + "/store/access/common-questions";
},
enumerable: !0,
configurable: !0
}), e.prototype.getOfferListingLocation = function(e) {
return this.startRoute + "/store/list?tab=" + e.group;
}, Object.defineProperty(e.prototype, "locationSubscribeAndSave", {
get: function() {
return this.startRoute + "/store/access/join-buy";
},
enumerable: !0,
configurable: !0
}), e;
}();
t.CommerceNavigation = o;
var i = function(e, t) {
var n = t.getGame(e);
return n ? n.startRoute : "";
}, a = function(e) {
function t(t, n) {
var r = e.call(this, i(t, n)) || this;
return r.gameId = t, r.gameStore = n, r;
}
return r.__extends(t, e), t;
}(o);
t.DefaultCommerceNavigation = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.SessionStarting = "SessionStarting", e.SessionStarted = "SessionStarted", e.SuccessJoined = "SuccessJoined", 
e.SessionTimedOut = "SessionTimedOut", e.SessionTerminated = "SessionTerminated", 
e.JoinFailed = "JoinFailed", e.SessionCanceling = "SessionCanceling", e.SessionMissing = "SessionMissing", 
e.SessionCanceled = "SessionCanceled";
}(t.MatchmakingBlazeStatusName || (t.MatchmakingBlazeStatusName = {})), t.blazeUnmappedStatusErrorCode = "418";
var r = [ "SessionStarting", "SessionStarted", "SuccessJoined", "SessionTimedOut", "SessionTerminated", "JoinFailed", "SessionMissing", "SessionCanceling", "SessionCanceled" ], o = [ "SuccessJoined", "SessionTimedOut", "JoinFailed", "SessionCanceling", "SessionCanceled", "SessionTerminated" ];
function i(e) {
return !!e && o.indexOf(e) >= 0;
}
t.isResolvedMatchmakingBlazeStatusName = i, t.isPendingMatchmakingBlazeStatusName = function a(e) {
return !!e && !i(e);
}, t.isMatchmakingBlazeStatusName = function s(e) {
return r.indexOf(e) >= 0;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(46), i = n(24), a = n(1211), s = n(60);
t.ListRSPClient = o.requester.createClient({
requestOn: [ s.refreshRentedServers ],
request: function(e) {
return i.request("RSP.listServers", {
game: e
});
},
onRequestError: function(e, t) {
this.publish(t, void 0, e);
},
parse: function(e, t) {
return (e || []).map(function(e) {
var n = e.server, o = e.rspServer;
return n ? new a.Server(r.__assign({
rsp: o
}, n)) : new a.Server({
rsp: o,
game: t,
name: o.name,
pingSiteAlias: o.pingSiteAlias,
isActive: !1
});
});
},
update: function(e, t, n) {
this.publish(n, e);
}
});
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(156), s = n(314), u = n(576), l = n(203), c = n(156), p = n(418), d = n(140), f = n(8), m = n(49), h = n(6), g = n(154), y = n(415), S = n(69), v = n(1219), _ = n(12), b = n(11), T = n(4), E = n(14), C = n(3), I = n(36), A = n(62), w = n(10), P = n(19), R = n(41), O = n(307), x = n(261), k = n(5), L = n(9), M = n(7), D = n(17), N = n(22), F = f.getHeight(7), G = f.getWidth(1.5), U = {
container: k.StaticStyle.create({
height: F,
marginBottom: 2 * f.GUTTER
}, "c7635e52:46:15"),
containerFocused: k.StaticStyle.create({
height: F,
marginBottom: 2 * f.GUTTER,
backgroundColor: "#FFFFFF"
}, "c7635e52:50:22"),
containerDisabled: k.StaticStyle.create({
opacity: .5
}, "c7635e52:55:23"),
containerContent: {
flex: 1,
flexDirection: "row",
alignItems: "center",
zOffset: 1
},
avatar: k.StaticStyle.create({
width: F,
height: F,
marginRight: 2 * f.GUTTER,
backgroundColor: "#000000"
}, "c7635e52:64:12"),
text: {
height: f.getHeight(2.5)
},
subLabel: {
marginTop: f.GUTTER,
opacity: .66
},
actions: {
flex: 1,
flexDirection: "row",
justifyContent: "flex-end",
alignItems: "center",
opacity: .01
},
actionsFocused: {
flex: 1,
flexDirection: "row",
justifyContent: "flex-end",
alignItems: "center",
opacity: 1
},
btn: {
width: G,
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
height: F,
paddingLeft: f.GUTTER,
paddingRight: f.GUTTER
},
contextMenuButton: k.StaticStyle.wrapLegacyStyle({
width: G,
zOffset: 1,
height: F
}, "c7635e52:100:23"),
verticalDivider: {
width: 1,
height: F,
backgroundColor: "#00000033"
}
}, B = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.isHovered = !1, t.onMouseEnter = function() {
return t.setHovered(!0);
}, t.onMouseLeave = function() {
return t.setHovered(!1);
}, t.onClick = function(e) {
e.stopPropagation(), t.props.action();
}, t;
}
return r.__extends(t, e), t.prototype.setHovered = function(e) {
this.isHovered = e;
}, t.prototype.render = function() {
return o.createElement("surface", {
style: U.btn,
onClick: this.onClick,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave
}, o.createElement(g.Icon, {
image: this.props.iconUrl,
style: D.CommonStyles.opacity(this.isHovered ? 1 : .5)
}));
}, r.__decorate([ C.observable ], t.prototype, "isHovered", void 0), r.__decorate([ C.action ], t.prototype, "setHovered", null), 
t = r.__decorate([ T.observer ], t);
}(o.Component);
function j(e) {
var t = e.style, n = e.user;
return o.createElement("surface", {
style: k.merge3(U.avatar, n.avatar ? k.DynamicStyle.create({
texture: n.avatar
}, "c7635e52:158:55") : k.emptyStyle, t)
});
}
t.PlatoonUserIcon = j;
var H = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = M.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "platoonUser" + r.props.user.personaId), 
r.contextMenu = o.createRef(), r.buttons = {
viewProfile: {
label: r.sparta.twinkle.getBuildInfo().isXboxOne ? __("ID_SPARTA_GENERIC_GAMERCARD_UPPERCASE") : __("ID_SPARTA_GENERIC_PROFILE_UPPERCASE"),
action: function() {
return r.onProfileClick();
},
key: b.Keys.Option3
},
kick: {
label: __("ID_SHARED_PLATOONS_MANAGE_MEMBER_KICK").toUpperCase(),
action: function() {
return r.onKickClick();
},
key: b.Keys.Option1
},
changeRole: {
label: __("ID_SHARED_PLATOONS_MANAGE_MEMBER_ROLE").toUpperCase(),
action: function() {
return r.onRoleClick();
},
key: b.Keys.Accept
},
accept: {
label: __("ID_SPARTA_PLATOONS_MANAGE_APPLICATION_ACCEPT").toUpperCase(),
action: function() {
return r.onAcceptClick();
},
icon: E.bbUrl("/sparta/assets/ui/checkmark2-08a8be79.png"),
key: b.Keys.Accept
},
reject: {
label: __("ID_SPARTA_PLATOONS_MANAGE_APPLICATION_REJECT").toUpperCase(),
action: function() {
return r.onRejectClick();
},
icon: E.bbUrl("/sparta/jsclient/builds/assets/close-black-47f1ec98.png"),
key: b.Keys.Option1
},
cancel: {
label: __("ID_SPARTA_ACTION_CANCEL"),
action: function() {
r.contextMenu.current && r.contextMenu.current.close();
}
}
}, r.openContextMenu = function() {
r.setState({
contextMenuOpen: !0
});
}, r.closeContextMenu = function() {
r.setState({
contextMenuOpen: !1
});
}, r.getContextMenu = function() {
var e = [ r.buttons.viewProfile ], t = r.props.user, n = r.props.viewer, o = w.gatewayState.session ? w.gatewayState.session.personaId : "";
return t instanceof s.PlatoonMember && n instanceof p.PlatoonMembership && !t.membership.isGeneral && t.personaId !== o && (l.hasPermission(n.role, l.Permission.CHANGE_ROLE, t.membership.role) && e.push(r.buttons.changeRole), 
l.hasPermission(n.role, l.Permission.KICK_MEMBER, t.membership.role) && e.push(r.buttons.kick)), 
N.focusSystem.controllerMode && "PC" === r.sparta.stores.inputRouter.currentInputType && (t instanceof u.PlatoonApplicant && e.push(r.buttons.accept, r.buttons.reject), 
e.push(r.buttons.cancel)), e;
}, r.onProfileClick = function() {
m.showUserProfile(r.props.user.platformId, "Platoon");
}, r.onKickClick = function() {
R.legacyConfirm(__("ID_SHARED_PLATOONS_MANAGE_MEMBER_KICK_CONFIRM").replace("[[name]]", r.props.user.displayName), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO")).then(function() {
r.disable();
var e = r.props.user.personaId, t = r.props.platoon.guid;
S.platoonsStores.members.kickMember(t, e).onSuccess(function() {
I.trackPlatoonLeft("Kicked", t, e);
}).onError(function(e) {
r.enable(), r.showErrorToaster(e.localizedMessage);
});
});
}, r.onRoleClick = function() {
var e = r.props.user, t = r.props.viewer;
e instanceof s.PlatoonMember && t instanceof p.PlatoonMembership && v.PlatoonRolePopup.openPopup({
member: e,
viewer: t,
onRoleSelect: function(t) {
return r.onRoleSelect(e, t);
}
});
}, r.onAcceptClick = function() {
r.disable();
var e = r.props.platoon.guid, t = r.props.user.personaId, n = S.platoonsStores.memberships.get(t);
S.platoonsStores.applicants.acceptApplicant(e, t).onSuccess(function() {
i.when(function() {
return n.isReady;
}, function() {
var r = !n.value || 0 === n.value.length;
I.trackPlatoonJoined("Apply Join", e, t, r);
});
}).onError(function(e) {
r.enable(), r.showErrorToaster(e.localizedMessage);
});
}, r.onRejectClick = function() {
r.disable(), S.platoonsStores.applicants.rejectApplicant(r.props.platoon.guid, r.props.user.personaId).onSuccess(function() {
I.trackPlatoonApplicationRemoved("Rejected Application");
}).onError(function(e) {
r.enable(), r.showErrorToaster(e.localizedMessage);
});
}, r.state = {
contextMenuOpen: !1,
disabled: !1
}, r;
}
return r.__extends(n, t), n.prototype.componentWillUnmount = function() {
this.state.contextMenuOpen && this.contextMenu.current && this.contextMenu.current.close();
}, n.prototype.disable = function() {
this.setState({
disabled: !0
});
}, n.prototype.enable = function() {
this.setState({
disabled: !1
});
}, n.prototype.showErrorToaster = function(t) {
this.sparta.twinkle.frostbite.sendMessage("sparta.showToastNotification", {
title: __("ID_SHARED_PLATOONS_ERROR_USER_TITLE").toUpperCase(),
message: t,
imageRef: e("Info"),
durationMs: 3e3
});
}, n.prototype.onRoleSelect = function(e, t) {
var n = this, r = e.membership.role;
r !== t && (t === a.MemberRole.GENERAL ? R.legacyConfirm(__("ID_SHARED_PLATOONS_MANAGE_MEMBER_GENERAL_TRANSFER").replace("[[name]]", e.displayName)).then(function() {
n.changeRole(e, t, r);
}) : this.changeRole(e, t, r));
}, n.prototype.changeRole = function(e, t, n) {
var r = this;
this.disable(), S.platoonsStores.members.updateMemberRole(this.props.platoon.guid, e.personaId, t, w.gatewayState.session ? w.gatewayState.session.personaId : "").onSuccess(function() {
r.enable(), I.trackPlatoonRoleChanged(c.enumToString(n), c.enumToString(t));
}).onError(function(e) {
r.enable(), r.showErrorToaster(e.localizedMessage);
});
}, n.prototype.renderUserContent = function(e, t, n) {
var r, i = t ? "#000000" : "#FFFFFF";
e instanceof s.PlatoonMember ? r = o.createElement(h.Text, {
value: e.localizedRole,
size: "S",
style: U.subLabel,
color: i
}) : e instanceof u.PlatoonApplicant && (r = o.createElement(y.DateText, {
time: e.timeSince,
format: "ago",
size: "S",
style: U.subLabel,
color: i
}));
var a = this.props.tag ? d.appendTag(e.displayName, this.props.tag) : e.displayName;
return o.createElement("surface", {
style: U.containerContent
}, o.createElement(j, {
user: e
}), o.createElement("surface", null, o.createElement(h.Text, {
value: a,
style: P.isRTLLanguage() ? U.text : {},
color: i,
size: L.SpartaGlobals.bundleIsPC || P.isRTLLanguage() ? "S" : "M"
}), r), n);
}, n.prototype.render = function() {
var e, t = this, n = this.focusItem.isFocusedOrHovered, r = this.state.contextMenuOpen, i = n || r, a = this.props.user, c = this.props.viewer, d = [], m = [];
if (this.props.isStatic) return o.createElement(A.Pressable, {
input: m,
focusItem: this.focusItem,
disabled: !0
}, this.renderUserContent(a, !1));
var h = w.gatewayState.session ? w.gatewayState.session.personaId : "";
if (N.focusSystem.controllerMode && "PC" !== this.sparta.stores.inputRouter.currentInputType) a instanceof s.PlatoonMember && c instanceof p.PlatoonMembership && !a.membership.isGeneral && a.personaId !== h && ((l.hasPermission(c.role, l.Permission.PROMOTE_MEMBER, a.membership.role) || l.hasPermission(c.role, l.Permission.DEMOTE_MEMBER, a.membership.role)) && m.push(new _.Input(this.buttons.changeRole)), 
l.hasPermission(c.role, l.Permission.KICK_MEMBER, a.membership.role) && m.push(new _.Input(this.buttons.kick))), 
a instanceof u.PlatoonApplicant && m.push(new _.Input(this.buttons.accept), new _.Input(this.buttons.reject)), 
m.push(new _.Input(this.buttons.viewProfile)); else {
N.focusSystem.controllerMode && "PC" === this.sparta.stores.inputRouter.currentInputType ? m.push(new _.Input({
action: function() {
return t.contextMenu.current && t.contextMenu.current.open();
},
key: b.Keys.Accept
})) : a instanceof u.PlatoonApplicant && d.push(o.createElement(B, {
iconUrl: this.buttons.accept.icon,
action: this.buttons.accept.action,
key: "accept-" + a.personaId
}), o.createElement(B, {
iconUrl: this.buttons.reject.icon,
action: this.buttons.reject.action,
key: "reject-" + a.personaId
}));
var g = [];
d.forEach(function(e, t) {
g.push(o.createElement("surface", {
style: U.verticalDivider,
key: "divider-" + t
})), g.push(d[t]);
}), e = o.createElement("surface", {
style: i ? U.actionsFocused : U.actions
}, g, o.createElement("surface", {
style: U.verticalDivider
}), o.createElement(O.ContextMenuButton, {
ref: this.contextMenu,
align: x.Alignment.Right,
dark: !0,
onOpen: this.openContextMenu,
onClose: this.closeContextMenu,
menuItems: this.getContextMenu(),
parentHeight: F,
menuWidth: f.getWidth(3),
offset: {
y: F + .5,
x: 79
},
style: U.contextMenuButton
}));
}
var y = k.merge2(i ? U.containerFocused : U.container, this.state.disabled ? U.containerDisabled : k.emptyStyle);
return o.createElement(A.Pressable, {
input: m,
style: y,
focusItem: this.focusItem,
disabled: this.state.disabled
}, this.renderUserContent(a, i, e));
}, n.contextTypes = M.SpartaContext.contextTypes, r.__decorate([ C.action ], n.prototype, "disable", null), 
r.__decorate([ C.action ], n.prototype, "enable", null), r.__decorate([ C.action ], n.prototype, "showErrorToaster", null), 
n = r.__decorate([ T.observer ], n);
}(o.Component);
t.PlatoonUser = H;
}).call(this, n(2), n(101));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(94), u = n(15), l = n(10), c = n(56), p = {
x: -600,
y: 1600,
radius: 3e3,
angleX: -10,
angleY: -20,
angleZ: 15
}, d = -250, f = 750, m = 1500, h = -10, g = -20, y = 15, S = function() {
function e() {
this.isVisible = !1, this.surfaceId = null, this.stateName = "Sparta", this.stateChangeDuration = .8, 
this.radius = 10.04, this.fadeDistance = 2.05, this.glow = "#bbccff22", this.stateLocked = !1, 
this.tweens = {
x: u.Animation.tween("0bb62e6c:40:28", p.x),
y: u.Animation.tween("0bb62e6c:41:28", p.y),
radius: u.Animation.tween("0bb62e6c:42:33", p.radius),
cameraAngleX: u.Animation.tween("0bb62e6c:43:39", p.angleX),
cameraAngleY: u.Animation.tween("0bb62e6c:44:39", p.angleY),
cameraAngleZ: u.Animation.tween("0bb62e6c:45:39", p.angleZ)
};
}
return Object.defineProperty(e.prototype, "visible", {
get: function() {
return null !== this.surfaceId && this.isVisible;
},
enumerable: !0,
configurable: !0
}), e.prototype.setSurfaceId = function(e) {
this.surfaceId = e;
}, e.prototype.set = function(e, t, n) {
void 0 === t && (t = !1), void 0 === n && (n = this.stateChangeDuration), this.stateName = e, 
this.stateChangeDuration = n, this.stateLocked = t;
}, e.prototype.show = function() {
this.isVisible = !0;
}, e.prototype.hide = function() {
this.isVisible = !1;
}, e.prototype.moveToSpace = function(e) {
this.tweens.cameraAngleX.transition(p.angleX, h, e), this.tweens.cameraAngleY.transition(p.angleY, g, e), 
this.tweens.cameraAngleZ.transition(p.angleZ, y, e), this.tweens.radius.transition(p.radius, m, e), 
this.tweens.x.transition(p.x, d, e), this.tweens.y.transition(p.y, f, e);
}, e.prototype.moveToClouds = function(e) {
this.tweens.cameraAngleX.transition(h, p.angleX, e), this.tweens.cameraAngleY.transition(g, p.angleY, e), 
this.tweens.cameraAngleZ.transition(y, p.angleZ, e), this.tweens.radius.transition(m, p.radius, e), 
this.tweens.x.transition(d, p.x, e), this.tweens.y.transition(f, p.y, e);
}, e.prototype.setOnClouds = function() {
this.tweens.cameraAngleX.set(p.angleX), this.tweens.cameraAngleY.set(p.angleY), 
this.tweens.cameraAngleZ.set(p.angleZ), this.tweens.radius.set(p.radius), this.tweens.x.set(p.x), 
this.tweens.y.set(p.y);
}, e.prototype.setOffViewport = function() {
"Disable" !== this.stateName && (this.tweens.y.set(-Math.max(s.uiState.window.height, 2e3)), 
this.tweens.radius.set(Math.max(s.uiState.window.width / 2, 1200)));
}, r.__decorate([ i.observable ], e.prototype, "isVisible", void 0), r.__decorate([ i.observable ], e.prototype, "surfaceId", void 0), 
r.__decorate([ i.observable ], e.prototype, "stateName", void 0), r.__decorate([ i.observable ], e.prototype, "stateChangeDuration", void 0), 
r.__decorate([ i.observable ], e.prototype, "radius", void 0), r.__decorate([ i.observable ], e.prototype, "fadeDistance", void 0), 
r.__decorate([ i.observable ], e.prototype, "glow", void 0), r.__decorate([ i.computed ], e.prototype, "visible", null), 
r.__decorate([ i.action ], e.prototype, "setSurfaceId", null), r.__decorate([ i.action ], e.prototype, "set", null), 
r.__decorate([ i.action ], e.prototype, "show", null), r.__decorate([ i.action ], e.prototype, "hide", null), 
r.__decorate([ i.action ], e.prototype, "moveToSpace", null), r.__decorate([ i.action ], e.prototype, "moveToClouds", null), 
r.__decorate([ i.action ], e.prototype, "setOnClouds", null), r.__decorate([ i.action ], e.prototype, "setOffViewport", null), 
e;
}();
t.GlobeState = S, t.globeState = new S();
var v = {
translateX: t.globeState.tweens.x.getStyle(),
translateY: t.globeState.tweens.y.getStyle(),
scaleX: t.globeState.tweens.radius.getStyle(),
scaleY: t.globeState.tweens.radius.getStyle(),
rotateX: t.globeState.tweens.cameraAngleX.getStyle(),
rotateY: t.globeState.tweens.cameraAngleY.getStyle(),
rotateZ: t.globeState.tweens.cameraAngleZ.getStyle()
}, _ = function(e) {
return t.globeState.setSurfaceId(e);
};
t.TunguskaGlobe = a.observer(function() {
var e = {
enable: t.globeState.visible,
zOffset: 75,
position: "absolute",
left: s.uiState.viewportPosition.left,
top: s.uiState.viewportPosition.top,
width: s.uiState.window.width,
height: s.uiState.window.height,
opacity: t.globeState.visible ? 1 : 0
};
return o.createElement("surface", {
style: e,
onSurfaceId: _
}, o.createElement("surface", {
style: v
}));
});
var b = !0;
t.startGlobeControl = function T(e) {
i.reaction(function() {
return l.spartaActivatedStore.navigationState;
}, function(e) {
t.globeState.stateLocked || (e === c.NavigationStates.FrontEnd ? (t.globeState.set("Sparta"), 
b && (t.globeState.setOffViewport(), b = !1)) : e === c.NavigationStates.LoadingScreen && t.globeState.set("Disable"));
}), i.autorun(function() {
if (t.globeState.surfaceId) {
var n = {
enable: !0,
surfId: t.globeState.surfaceId || "",
radius: t.globeState.radius,
fadeDistance: t.globeState.fadeDistance,
glow: t.globeState.glow
};
e.sendMessage("sparta.setGlobeSurface", n);
}
}), i.autorun(function() {
e.sendMessage("sparta.setGlobeState", {
state: t.globeState.stateName,
duration: t.globeState.stateChangeDuration
});
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.code = "", this.awardType = "", this.count = 0, this.score = 0, this.title = "", 
this.description = "", this.imageUrl = "", this.kitInfo = void 0, this.code = t.code, 
this.awardType = t.awardType, this.count = t.completionCount, this.score = t.score, 
this.title = t.title, this.description = t.description, this.imageUrl = t.imageUrl, 
this.dependencies = t.dependencies, this.progression = t.progression, this.kitInfo = t.kitInfo;
};
}();
t.EndOfRoundAward = r;
var o = function() {
return function e(t, n, r, o, i, a, s) {
this.actualValue = t, this.earnedInRound = n, this.id = r, this.name = o, this.rank = i, 
this.maxRank = a, this.thresholds = s;
};
}();
t.KitRankProgressionEntry = o;
var i = function() {
return function e(t) {
this.guid = "", this.emblem = "", this.name = "", this.tag = "", this.verified = !1, 
this.guid = t.guid, this.emblem = t.emblem, this.name = t.name, this.tag = t.tag, 
this.verified = t.verified;
};
}();
t.EndOfRoundPlatoon = i;
var a = function() {
return function e(t, n, r) {
this.id = t, this.imageUrl = n, this.rarity = "object" == typeof r ? r.value : r;
};
}();
t.EndOfRoundBattlepackInfo = a;
var s = function() {
return function e(t, n, r, o, i, a) {
this.personaId = t, this.platformId = n, this.name = r, this.avatarUrl = o, this.packId = i, 
this.platoonGuid = a;
};
}();
t.EndOfRoundPlayerBattlePack = s;
var u = function() {
return function e(t, n, r) {
this.gameReportId = t, this.players = n, this.packs = r;
};
}();
t.EndOfRoundBattlepacks = u;
var l = function() {
return function e(t, n, r, o, i) {
this.id = t, this.surveyId = n, this.question = r, this.gameModes = o, this.mapNames = i;
};
}();
t.EndOfRoundSurveyQuestion = l;
var c = function() {
return function e(t) {
this.progression = t;
};
}();
t.EndOfRoundBpProgression = c;
var p = function() {
return function e(t) {
this.wave = t;
};
}();
t.PreEndOfRoundWave = p;
var d = function() {
return function e(t, n, r) {
this.id = t, this.title = n, this.questions = r;
};
}();
t.EndOfRoundSurvey = d;
var f = function() {
function e(e, t, n) {
this.day = e, this.win = t, this.mvp = n;
}
return Object.defineProperty(e.prototype, "totalAmount", {
get: function() {
return this.day + this.win + this.mvp;
},
enumerable: !0,
configurable: !0
}), e;
}();
t.EndOfRoundScraps = f;
var m = function() {
function e(e, t, n, r, o, i) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = ""), void 0 === r && (r = 0), 
void 0 === o && (o = 0), void 0 === i && (i = 0), this.attacker = e, this.bases = t, 
this.counterType = n, this.life = r, this.startingLife = o, this.teamId = i;
}
return e.prototype.getCounterValue = function() {
var e = 0;
switch (this.counterType) {
case "attacker":
e = this.attacker;
break;

case "bases":
e = this.bases;
break;

case "life":
e = this.life;
break;

default:
e = 0;
}
return e;
}, e;
}();
t.EndOfRoundCounter = m;
var h = function() {
return function e(t, n, r, o, i, a) {
void 0 === t && (t = ""), void 0 === n && (n = 0), void 0 === r && (r = ""), void 0 === o && (o = 0), 
void 0 === i && (i = 0), void 0 === a && (a = !1), this.imageUrl = t, this.number = n, 
this.name = r, this.scoreNeeded = o, this.warBonds = i, this.isMaxRank = a;
};
}();
t.EndOfRoundRank = h;
var g = function() {
return function e(t, n, r, o, i, a, s, u) {
void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = ""), void 0 === o && (o = ""), 
void 0 === i && (i = ""), void 0 === a && (a = 0), void 0 === s && (s = 0), void 0 === u && (u = ""), 
this.avatarUrl = t, this.name = n, this.platoonGuid = r, this.personaId = o, this.platformId = i, 
this.rank = a, this.teamId = s, this.emblemUrl = u;
};
}();
t.EndOfRoundPlayer = g;
var y = function() {
return function e(t, n, r, o, i) {
void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = void 0), 
void 0 === o && (o = ""), void 0 === i && (i = 0), this.id = t, this.name = n, this.player = r, 
this.unit = o, this.unitValue = i;
};
}();
t.EndOfRoundHighlight = y;
var S = function() {
return function e(t, n, r) {
void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = 0), this.id = t, 
this.name = n, this.value = r;
};
}();
t.EndOfRoundRankScore = S;
var v = function() {
return function e(t, n, r, o) {
void 0 === t && (t = 0), void 0 === n && (n = 0), void 0 === r && (r = []), void 0 === o && (o = []), 
this.initialValue = t, this.minutesToNextRank = n, this.ranks = r, this.scores = o;
};
}();
t.EndOfRoundRankProgression = v;
var _ = function() {
return function e(t, n, r) {
void 0 === n && (n = 0), void 0 === r && (r = 0), this.name = t, this.value = n, 
this.place = r;
};
}();
t.EndOfRoundModeSpecificStat = _;
var b = function() {
return function e(t, n) {
void 0 === t && (t = 0), void 0 === n && (n = 0), this.value = t, this.place = n;
};
}();
t.EndOfRoundStatsValue = b;
var T = function() {
return function e(t) {
if (this.modeSpecifics = {}, t) {
var n = D(t.totalScore, 0), r = D(t.totalSecondsPlayed, 60), o = D(t.secondsPlayed, 60);
this.freemiumScore = D(t.freemiumScore, 0), this.totalFreemiumScore = D(t.totalFreemiumScore, 0), 
this.deaths = D(t.deaths, 0), this.kills = D(t.kills, 0), this.kd = D(t.kdRatio, 0), 
this.totalDeaths = D(t.totalDeaths, 0), this.totalKills = D(t.totalKills, 0), this.skill = D(t.skill, 0), 
this.skillDelta = D(t.skillDelta, 0), this.rankScore = D(t.rankScore, 0), this.score = D(t.score, 0), 
this.roundScore = D(t.roundScore, 0), this.generalScore = D(t.generalScore, 0), 
this.awardScore = D(t.awardScore, 0), this.teamScore = D(t.teamScore, 0), this.squadScore = D(t.squadScore, 0), 
this.bonusScore = D(t.bonusScore, 0), this.flagsCaptured = D(t.flagsCaptured, 0), 
this.flagsDefended = D(t.flagsDefended, 0), this.resupplies = D(t.resupplies, 0), 
this.repairs = D(t.repairs, 0), this.revives = D(t.revives, 0), this.heals = D(t.heals, 0), 
this.spm = D(t.scorePerMinute, 0), this.minutesPlayed = new b(o.value / 60, 0), 
this.totalKd = new b(this.totalKills.value / (this.totalDeaths.value || 1), 0), 
this.totalSpm = new b(n.value / (r.value / 60), 0), this.modeSpecifics = t.modeSpecifics || {};
}
};
}();
t.EndOfRoundStats = T;
var E = function() {
return function e(t, n, r, o) {
this.statValue = t, this.statName = n, this.rank = r, this.statUnit = o;
};
}();
t.EndOfRoundTopStat = E;
var C = function() {
function e(e, t, n, r, o, i, a) {
void 0 === t && (t = void 0), void 0 === n && (n = void 0), void 0 === r && (r = []), 
void 0 === o && (o = []), void 0 === i && (i = void 0), void 0 === a && (a = void 0), 
this.rankProgression = t, this.stats = n, this.topStats = r, this.awardTrain = o, 
this.kitRankProgression = i, this.freemiumRank = a, this.personaId = "", this.squadId = 0, 
this.teamId = 0, this.name = "", e && (this.personaId = e.personaId, this.squadId = e.squadId, 
this.teamId = e.teamId, this.name = e.name);
}
return e.prototype.updateInfo = function(e, t, n) {
this.squadId = e, this.teamId = t, this.name = n;
}, e;
}();
t.EndOfRoundPersonalStats = C;
var I = function() {
return function e(t, n, r) {
void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = ""), this.id = t, 
this.imageUrl = n, this.name = r;
};
}();
t.EndOfRoundMap = I;
var A = function() {
return function e(t, n) {
void 0 === t && (t = ""), void 0 === n && (n = ""), this.id = t, this.name = n;
};
}();
t.EndOfRoundGameMode = A;
var w = function() {
return function e(t) {
this.gameType = "", this.mod = "", this.name = "", this.ranked = !1, this.roundDuration = 0, 
this.serverType = "", this.time = 0;
var n = t.nextMap, r = t.map, o = t.mode, i = t.nextMode, a = r && new I(r.id, r.imageUrl, r.name), s = n ? new I(n.id, n.imageUrl, n.name) : null, u = o && new A(o.id, o.name), l = i ? new A(i.id, i.name) : null;
this.gameType = t.gameType || "", this.map = a, this.nextMap = s, this.mod = t.mod || "", 
this.mode = u, this.nextMode = l, this.name = t.name || "", this.ranked = !!t.ranked, 
this.roundDuration = t.roundDuration || 0, this.serverType = t.serverType || "", 
this.time = t.time || 0;
};
}();
t.EndOfRoundServerInfo = w;
var P = function() {
return function e(t, n, r, o, i, a) {
void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = ""), void 0 === o && (o = ""), 
void 0 === i && (i = 0), void 0 === a && (a = 0), this.avatarUrl = t, this.name = n, 
this.personaId = r, this.platoon = o, this.squadId = i, this.teamId = a;
};
}();
t.EndOfRoundSquadPlayer = P;
var R = function() {
return function e(t, n, r, o) {
void 0 === t && (t = 0), void 0 === n && (n = 0), void 0 === r && (r = []), void 0 === o && (o = void 0), 
this.squadId = t, this.teamId = n, this.highlights = r, this.stats = o;
};
}();
t.EndOfRoundSquadInfo = R;
var O = function() {
return function e(t, n, r) {
void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = ""), this.id = t, 
this.imageUrl = n, this.name = r;
};
}();
t.EndOfRoundFaction = O;
var x = function() {
return function e(t) {
this.deaths = 0, this.didFinish = !1, this.kills = 0, this.name = "", this.platoonGuid = "", 
this.personaId = "", this.platformId = "", this.placing = 0, this.rank = 0, this.score = 0, 
this.squadId = 0, this.teamId = 0, this.isFreemium = !1, this.deaths = t.deaths || 0, 
this.didFinish = !!t.didFinish, this.kills = t.kills || 0, this.name = t.name || "", 
this.platoonGuid = t.platoonGuid || "", this.personaId = t.personaId || "", this.platformId = t.platformId || "", 
this.placing = t.placing || 0, this.rank = t.rank || 0, this.score = t.score || 0, 
this.squadId = t.squadId || 0, this.teamId = t.teamId || 0, this.isFreemium = !!t.isFreemium;
};
}();
t.EndOfRoundScoreboardEntry = x;
var k = function() {
return function e(t, n, r, o, i) {
void 0 === t && (t = 0), void 0 === n && (n = void 0), void 0 === r && (r = []), 
void 0 === o && (o = void 0), void 0 === i && (i = !1), this.teamId = t, this.faction = n, 
this.players = r, this.counter = o, this.isWinner = i;
};
}();
t.EndOfRoundTeam = k;
var L = function() {
return function e(t, n) {
void 0 === t && (t = []), void 0 === n && (n = 0), this.teams = t, this.winner = n;
};
}();
t.EndOfRoundScoreboard = L;
var M = function() {
function e(e, t, n, r, o, i, a, s, u, l, c, p, d, f) {
void 0 === e && (e = ""), void 0 === t && (t = {}), void 0 === n && (n = {}), void 0 === r && (r = void 0), 
void 0 === o && (o = []), void 0 === i && (i = void 0), void 0 === a && (a = void 0), 
void 0 === s && (s = void 0), void 0 === u && (u = void 0), void 0 === l && (l = void 0), 
void 0 === c && (c = void 0), void 0 === p && (p = void 0), void 0 === d && (d = void 0), 
void 0 === f && (f = void 0), this.reportId = e, this.ranks = t, this.platoons = n, 
this.battlePacks = r, this.highlights = o, this.personalInfo = i, this.serverInfo = a, 
this.squadInfo = s, this.scoreboard = u, this.scraps = l, this.survey = c, this.bpProgression = p, 
this.operations = d, this.preEndOfRoundWave = f;
}
return e.prototype.getRankByNumber = function(e) {
return this.ranks[e];
}, e.prototype.getPlatoonByGuid = function(e) {
if (e) return this.platoons[e];
}, e;
}();
function D(e, t) {
return t = t || 0, "object" == typeof e ? new b(e.value || t, e.place || 0) : new b(e || t, 0);
}
t.EndOfRoundData = M;
var N = function() {
return function e(t, n, r, o) {
this.roundId = t, this.personalInfo = n, this.scoreboard = r, this.serverInfo = o;
};
}();
t.UnrankedEndOfRoundData = N;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("RSPAdminStyle"), a = function() {
function e() {}
return e.container = o.wrap(function() {
return o.style({
width: o.LayoutBounds.content.width
}, "858ca9ae:15:34");
}), e.editableListWideColumn = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(11)
}, "858ca9ae:21:47");
}), e.editableListInput = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(11),
marginTop: 4 * o.Grid.GUTTER,
marginBottom: o.Grid.GUTTER
}, "858ca9ae:27:42");
}), e.teamsContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
width: o.LayoutBounds.content.width
}, "858ca9ae:35:39");
}), e.playerListScroller = o.stylefunc(function() {
return o.style({
width: o.Grid.getWidth(11),
top: o.Grid.GUTTER
}, "858ca9ae:44:14");
}, function(e) {
return o.dynamicStyle({
height: e.scrollerHeight
}, "858ca9ae:49:45");
}), e.playerListControls = o.stylefunc(function() {
return o.style({
flexDirection: "row",
alignContent: "flex-end"
}, "858ca9ae:56:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.tweenId
}, "858ca9ae:61:38");
}), e.clickableLabel = o.wrap(function() {
return o.style({
marginLeft: 3 * o.Grid.GUTTER,
height: o.Grid.getHeight(5),
justifyContent: "center"
}, "858ca9ae:67:39");
}), e.clickableLabelText = o.stylefunc(function() {
return o.style({}, "858ca9ae:76:14");
}, function(e) {
return o.dynamicStyle({
color: e.isFocused ? "#000000" : "#00000066"
}, "858ca9ae:77:41");
}), e = r.__decorate([ i.style ], e);
}();
t.RSPAdminStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.AnimationConstants = {
segment: {
scale: {
duration: 2500
},
baseDelay: 0,
scaleBack: {
duration: 500
}
},
rankImage: {
move: {
duration: 500,
delay: 300
},
scaleIn: {
duration: 500,
delay: 300
},
scaleOut: {
delay: 1e3,
duration: 500
}
},
rankUpOverlay: {
opacity: {
duration: 500
},
left: {
duration: 500
}
},
bonds: {
scale: {
duration: 500,
delay: 100
},
flare: {
duration: 500,
delay: 0
}
},
highlights: {
highlightBase: {
delay: 600
},
highlightGrow: {
duration: 500
}
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t, n, r, o) {
void 0 === t && (t = ""), void 0 === n && (n = ""), void 0 === r && (r = 0), void 0 === o && (o = 0), 
this.id = t, this.name = n, this.value = r, this.width = o;
};
}();
function o(e, t, n, o) {
return new r(e, t, n, o || 0);
}
function i(e, t, n) {
return Math.floor(n * (e / t));
}
function a(e, t) {
return t && e.length > 2 ? e.length - 2 : 0;
}
function s(e, t) {
return t ? e.length > 2 ? e.length - 1 : 2 === e.length ? 1 : 0 : 1;
}
t.VisualSegment = r, t.getInitialRankIndexFrom = a, t.getInitialRankIndexTo = s, 
t.getGoalValue = function u(e, t) {
return t ? e[s(e, t)].scoreNeeded || 0 : e[1] ? e[1].scoreNeeded : 0;
}, t.getInitialWidth = function l(e, t, n, r, o) {
if (!o || n.length < 3) {
var i = n[a(n, !1)], s = i ? i.scoreNeeded : 0, u = (e - s) / Math.max(t - s, 1);
return Math.floor(r * u);
}
return 0;
}, t.calculateIterations = function c(e, t, n, r, s) {
var u = [], l = t[a(t, !1)], c = l ? l.scoreNeeded : 0, p = n - c;
e = e.map(function(e) {
return o(e.id, e.name, e.value);
});
for (var d = 1; d < t.length; d++) {
var f = [], m = t[d].scoreNeeded, h = 0;
h = 1 === d ? (m -= c) - p : m -= t[d - 1].scoreNeeded;
for (var g = 0; g < e.length; g++) {
var y = e[g], S = 0;
if (y.value >= h) {
S = i(h, m, r), f.push(o(y.id, y.name, h, S)), e[g].value = y.value - h;
break;
}
y.value > 0 && (S = i(y.value, m, r), f.push(o(y.id, y.name, y.value, S)), h -= y.value, 
e[g].value = 0);
}
f.length && u.push(f);
}
if (s) {
var v = u[u.length - 1];
return v ? [ v ] : [];
}
return u;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(15), a = n(1311), s = n(78), u = {
barContainer: {
zOffset: 1,
position: "relative",
justifyContent: "flex-start",
flexWrap: "nowrap",
flexDirection: "row",
backgroundColor: "#00000080"
},
initialSegment: {
backgroundColor: "#FFFFFF",
marginLeft: 0
}
}, l = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.lastSegmentCallback = function() {
n.tweens.startSegmentTween.to(0, {
duration: 100,
delay: 300
}), n.props.lastSegmentCallback && n.props.lastSegmentCallback();
}, n.tweens = {
startSegmentTween: i.Animation.tween("b2b45145:52:48", t.startSegment)
}, n;
}
return r.__extends(t, e), t.prototype.componentWillUnmount = function() {
s.Tween.destroyTweens(this.tweens);
}, t.prototype.renderSegments = function() {
var e = this, t = this.props.segments || [], n = this.props.segmentIndex;
if (t.length) {
var r = t[n] || [], i = r.length - 1;
return r.filter(function(e) {
return e.value > 0;
}).map(function(r, s) {
var u = (e.props.segmentIndex < t.length - 1 || e.props.lastCheck && e.props.lastCheck()) && i === s;
if (r.value > 0) return o.createElement(a.ProgressBarSegment, {
key: s + "-" + n,
isReady: e.props.isReady,
height: e.props.height || 18,
segment: r,
last: u,
index: s,
sound: e.props.sound,
skipAnimation: e.props.skipAnimation,
lastSegmentCallback: e.lastSegmentCallback,
hideActiveOverlay: e.props.hideActiveSegmentOverlay
});
});
}
}, t.prototype.renderSegmentsInfo = function() {
var e = this, t = this.props.segments || [], n = this.props.segmentIndex;
if (t.length) return (t[n] || []).map(function(t, r) {
if (t.value > 0) return o.createElement(a.ProgressBarText, {
height: e.props.height || 18,
countTextSize: e.props.countTextSize,
hideCounter: e.props.hideCounter,
key: r + "-" + n,
segment: t,
index: r,
justifyText: e.props.justifyText,
skipAnimation: e.props.skipAnimation
});
});
}, t.prototype.render = function() {
var e = {
width: this.tweens.startSegmentTween.getStyle(),
height: this.props.height
}, t = this.props.startSegment ? o.createElement("surface", {
key: "initial-segment",
style: [ e, u.initialSegment ]
}) : null, n = {
width: this.props.width,
height: this.props.height
};
return o.createElement("surface", {
style: [ u.barContainer, n, this.props.style ]
}, t, this.renderSegments(), this.renderSegmentsInfo(), this.props.children);
}, t;
}(o.Component);
t.ProgressBar = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(6), u = n(61), l = n(33), c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.countValue = 0, t.timeouts = [], t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this, t = this.props, n = t.countTo, r = t.duration, o = t.iterationPerSecond, i = t.delay, a = t.countFrom, s = r / 1e3 * o, u = 1e3 / o;
this.play(a, 0);
for (var l = function(t) {
var r = Math.floor(t * u + i), o = a + Math.floor((n - a) * c.quadOut(t / s));
c.timeouts.push(setTimeout(function() {
return e.play(o, r);
}, r));
}, c = this, p = 1; p <= s; p++) l(p);
}, t.prototype.componentWillUnmount = function() {
this.timeouts.forEach(clearTimeout);
}, t.prototype.play = function(e, t) {
this.countValue = e;
}, t.prototype.quadOut = function(e) {
return e * (2 - e);
}, t.prototype.render = function() {
return o.createElement(s.Text, {
value: this.props.useFormatNumber ? u.formatNumber(this.countValue) : this.countValue + "",
size: this.props.size,
type: l.TextType.EMPHASIS,
style: this.props.style
});
}, t.defaultProps = {
iterationPerSecond: 24,
duration: 1e3,
countTo: 0,
countFrom: 0,
delay: 0,
useFormatNumber: !1
}, r.__decorate([ i.observable ], t.prototype, "countValue", void 0), r.__decorate([ i.action ], t.prototype, "play", null), 
t = r.__decorate([ a.observer ], t);
}(o.Component);
t.CountUp = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110);
t.wwceFeatureFlags = r.featureFlags.register({
enableHelpSection: new r.FeatureFlag({}),
enableHelpContactUs: new r.FeatureFlag({})
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(77), o = n(78), i = n(5), a = n(27), s = (n(404), n(507)), u = n(1342), l = 0, c = [], p = !1;
var d = function() {
function e(e, t) {
var n = this;
this.component = e, this.debugId = t, this.tweenPool = [], this.poolAutoId = 0, 
this.timeline = [], this.tweens = {}, this.playId = 0, this.isRendered = !1, this.isPlaying = !1, 
this.isFrozen = !1, this.doFreezeAtStart = !1, this.isCompleted = !1, this.doRepeat = !1, 
this.freezeAtTime = 0, this.durationFactor = 1, this.readyToPlay = !1, this.playDurationFactor = 1, 
this.playDisposers = [], p && (this.doFreezeAtStart = !0), c.push(this), r.addLifecycleHook(e, "componentWillUnmount", function() {
n.releaseTweens(), n.tweenPool.forEach(function(e) {
return e.destroy();
}), c.splice(c.indexOf(n), 1), n.stop();
}), this.autoId = l++;
}
return e.prototype.getPooledTween = function() {
return new o.Tween("pooledTween-" + this.autoId + "-" + this.poolAutoId++, 0, {
easing: a.Easing.Linear,
duration: 1
});
}, e.parse = function(t, n, r) {
t.forEach(function(t) {
t.at = n + t.offsetMs, r.push(t), e.parse(t.children, t.at + t.duration, r);
});
}, e.prototype.updateTimeline = function(t) {
this.timeline.length = 0, e.parse(t, 0, this.timeline), this.timeline.sort(function(e, t) {
return e.at - t.at;
});
var n = this.timeline[0];
n && n.at < 0 && this.timeline.forEach(function(e) {
e.at -= n.at;
});
}, e.prototype.freezeIdPropAt = function(e, t, n) {
for (var r = this.timeline.filter(s.ChainedTween.is).filter(function(r) {
return r.id === t && r.property === n && r.at <= e;
}), o = [ 0 ], i = 0; i < r.length; i++) {
var a = r[i];
null !== a.from && (o = Array.isArray(a.from) ? a.from : [ a.from ]);
var l = e - a.at;
if (l >= a.duration) o = Array.isArray(a.to) ? a.to : [ a.to ]; else {
var c = Array.isArray(a.to) ? a.to : [ a.to ];
o = u.TweenInterpolation.interpolate(o, c, a.easing, l / a.duration);
}
}
this.tweens[t][n].set(1 === o.length ? o[0] : o);
}, e.prototype.freezeAt = function(e) {
var t = this;
this.isFrozen = !0, this.stop(), this.freezeAtTime = e;
var n = 0, r = {};
this.timeline.forEach(function(e) {
var t = e.at + e.duration;
s.ChainedTween.is(e) && (r[e.id + "$" + e.property] = e), t > n && (n = t);
}), e <= 1 && e >= 0 && (e *= n), Object.keys(r).forEach(function(n) {
var o = r[n];
t.freezeIdPropAt(e, o.id, o.property);
});
}, e.prototype.resetTweens = function() {
var e = this, t = {};
this.timeline.forEach(function(n) {
if (s.ChainedTween.is(n)) {
var r = n, o = r.id + "-" + r.property;
if (t[o]) return;
t[o] = !0;
var i = e.tweens[r.id] || (e.tweens[r.id] = {}), a = i[r.property] || (i[r.property] = e.getPooledTween());
a.defaultOptions.easing = r.easing, a.defaultOptions.duration = r.duration, a.set(r.from || 0);
}
});
}, e.prototype.releaseTweens = function() {
var e = this;
Object.keys(this.tweens).forEach(function(t) {
Object.keys(e.tweens[t]).forEach(function(n) {
e.tweenPool.push(e.tweens[t][n]), delete e.tweens[t][n];
});
});
}, e.prototype.getStyle = function(e, t) {
if (e !== this.timelineData) {
var n = this.isFrozen;
this.releaseTweens(), this.tweens = {}, this.timelineData = e, this.updateTimeline(e.events), 
this.resetTweens(), n && this.freezeAt(this.freezeAtTime);
}
this.isRendered = !0;
var r, o = this.tweens[t] || {};
return Object.keys(o).forEach(function(e) {
var t = o[e].getStyleClass(e);
r = r ? i.merge2(r, t) : t;
}), r || i.emptyStyle;
}, e.prototype.stop = function() {
this.playDisposers.forEach(function(e) {
return e();
}), this.playDisposers.length = 0, this.isPlaying = !1;
}, e.prototype.resume = function() {
if (this.playCallback) {
var e = this.doFreezeAtStart;
this.doFreezeAtStart = !1, this.play(this.playCallback, this.playTriggers, this.playCallbackOffset, this.playDurationFactor), 
this.doFreezeAtStart = e;
}
}, e.prototype.play = function(e, t, n, r) {
var o = this;
void 0 === t && (t = {}), void 0 === n && (n = 0), void 0 === r && (r = 1), this.stop(), 
this.isPlaying = !0, this.isFrozen = !1, this.readyToPlay = !0, this.playDurationFactor = r, 
this.playTriggers = t, this.playCallback = e, this.playCallbackOffset = n;
var i = r * this.durationFactor;
if (this.doFreezeAtStart) this.freezeAt(0); else {
var a = function(e, t) {
var n = setTimeout(e, t);
o.playDisposers.push(function() {
return clearTimeout(n);
});
};
this.resetTweens();
var u = 0;
this.timeline.forEach(function(e) {
var n = e.at * i + e.duration * i;
n > u && (u = n), a(function() {
if (s.ChainedTween.is(e)) {
var n = o.tweens[e.id][e.property], r = {
easing: e.easing,
duration: e.duration * i
};
null === e.from ? n.to(e.to, r) : n.instruct({
from: e.from,
to: e.to,
options: r
}), (a = t[e.id + "." + e.property]) && setTimeout(a, r.duration);
} else if (s.TriggerEvent.is(e)) {
var a;
(a = t["" + e.id]) && a();
}
}, e.at * i);
}), a(function() {
o.doRepeat && o.resume();
}, u), e && a(function() {
o.doRepeat || (o.readyToPlay = !1, e());
}, u + n * i);
}
}, e;
}();
t.TimelineRunner = d;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(10), s = n(223), u = n(8), l = n(23), c = n(25), p = n(6), d = n(270), f = n(444), m = n(81), h = n(1354), g = n(74), y = n(19), S = n(639), v = n(453), _ = n(646), b = n(105), T = n(648), E = n(207), C = n(31), I = n(649), A = n(5), w = function() {
function t() {
var e = this;
this.tabIndex = 0, this.previousTabIndex = 0, this.goToTab = function(t) {
if (void 0 !== t) {
var n = "string" == typeof t ? e.getTabIndexFromId(t) : t;
n < 0 || n >= e.tabs.length || (e.previousTabIndex = e.tabIndex, e.tabIndex = n);
}
}, this.goToPrevTab = function() {
e.goToTab(e.tabIndex - 1);
}, this.goToNextTab = function() {
e.goToTab(e.tabIndex + 1);
};
}
return t.prototype.setGetTabs = function(e) {
this.getTabs = e;
}, Object.defineProperty(t.prototype, "tabs", {
get: function() {
return this.getTabs ? this.getTabs().sort(function(e, t) {
return e.order - t.order;
}) : [];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "activeTab", {
get: function() {
return this.tabs[this.tabIndex];
},
enumerable: !0,
configurable: !0
}), t.prototype.getTabIndexFromId = function(e) {
if (!e) return 0;
for (var t = this.tabs, n = 0, r = 0; r < t.length; r++) if (t[r].id === e) {
n = r;
break;
}
return n;
}, e.__decorate([ o.observable ], t.prototype, "tabIndex", void 0), e.__decorate([ o.observable ], t.prototype, "previousTabIndex", void 0), 
e.__decorate([ o.action ], t.prototype, "goToTab", void 0), e.__decorate([ o.action ], t.prototype, "goToPrevTab", void 0), 
e.__decorate([ o.action ], t.prototype, "goToNextTab", void 0), e.__decorate([ o.computed ], t.prototype, "tabs", null), 
e.__decorate([ o.computed ], t.prototype, "activeTab", null), t;
}();
t.battlepackTabState = new w();
var P = function(n) {
function o(e, r) {
var o = n.call(this, e, r) || this;
o.summary = E.tunguskaBattlepackSummaryStore.get(C.tunguskaGameId), o.getTabs = function() {
var e = o.summary.value && o.summary.value.battlepacks || "0";
return [ {
component: S.TunguskaBattlepackUnopened,
id: "unopened",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_UNOPENED") + "(" + e + ")";
},
props: {
isGameView: !0
},
order: 1
}, {
component: v.TunguskaBattlepackGet,
id: "get",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_GET");
},
props: {
isGameView: !0
},
order: 2
}, {
component: T.TunguskaScrapExchange,
id: "scrapexchange",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_SCRAPEXCHANGE");
},
props: {
isGameView: !0
},
order: 3
}, {
component: I.TunguskaBattlepackPuzzles2,
id: "puzzles",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_PUZZLES");
},
props: {
isGameView: !0
},
order: 4
}, {
component: _.TunguskaBattlepackInventory,
id: "inventory",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_INVENTORY");
},
props: {
isGameView: !0
},
order: 5
} ];
};
var i = a.gameStateStoreLoader.get().currentGameViewSubRoute, s = i !== g.GameViewSubRoute.NONE ? i.split("?")[1] : "", u = s ? h.getQSParam("tab", "?" + s) : "";
return t.battlepackTabState.setGetTabs(o.getTabs), t.battlepackTabState.goToTab(u), 
o;
}
return e.__extends(o, n), o.prototype.componentWillMount = function() {
m.initialFetch.trigger();
}, o.prototype.componentWillUnmount = function() {
c.closeGroup("battlepack");
}, o.prototype.renderTab = function(t) {
return r.createElement(t.component, e.__assign({
key: t.id
}, t.props));
}, o.prototype.renderContent = function(e) {
var n = l.content.width, o = t.battlepackTabState.tabIndex > t.battlepackTabState.previousTabIndex, i = [ {
propertyName: "translateX",
fromValue: o ? n : -n,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], a = [ {
propertyName: "translateX",
fromValue: 0,
toValue: o ? -n : n
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ], c = A.DynamicStyle.create({
flex: 1,
marginTop: this.props.topGutter ? u.GUTTER : 0,
alignItems: "center"
}, "62507a4b:196:29");
return r.createElement(s.FlexibleTweener, {
inTweens: i,
outTweens: a,
playInOnMount: !1,
transitionId: e.id,
style: c
}, this.renderTab(e));
}, o.prototype.render = function() {
var n, o, i = t.battlepackTabState.activeTab, a = null, s = this.summary.value && this.summary.value.scraps || 0;
if (void 0 !== s) {
var u = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase();
a = r.createElement(b.TunguskaBattlepackScraps, {
prefix: u,
value: s,
size: "M",
animated: !0
});
}
var l = {
route: this.props.route,
subRoute: this.props.subRoute,
header: {
left: null,
middle: r.createElement(p.Text, {
style: y.localeLetterSpacing({
textLetterSpacing: 9
}),
size: "XXL",
value: __("ID_SPARTA_MENU_TITLE_BATTLEPACKS").toUpperCase()
}),
right: a
}
};
return n = this.renderContent(i), o = r.createElement(f.GameViewTabs, {
active: i,
tabs: t.battlepackTabState.tabs,
goToTab: t.battlepackTabState.goToTab,
nextTab: t.battlepackTabState.goToNextTab,
prevTab: t.battlepackTabState.goToPrevTab
}), r.createElement(d.TunguskaGameViewSubRoute, e.__assign({}, l), o, n);
}, o = e.__decorate([ i.observer ], o);
}(r.Component);
t.Battlepacks = P;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(11), a = n(122), s = n(25), u = n(38), l = n(41), c = n(1359), p = n(105), d = n(452), f = n(17), m = n(9), h = n(5).StaticStyle.create({
marginRight: o.spacer(2)
}, "7c0949b1:91:32"), g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onClick = function() {
l.legacyConfirm(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_CONFIRM", !0), __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_CONFIRM_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), null, {
priority: 1,
stackable: !0
}).then(function() {
s.display(new u.Popup({
id: "scrapPopup",
group: "battlepack",
content: r.createElement(c.BattlepackItemScrapView, {
item: e.props.item,
onSuccess: e.props.onSuccess,
onError: e.props.onError,
onCancel: e.props.onCancel,
noConfirmation: !0
}),
createButtons: !1,
priority: 1,
stackable: !0
}));
}, function() {
"function" == typeof e.props.onCancel && e.props.onCancel();
});
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props.item;
if (!e.scrapValue || e.quantity <= 0) return null;
var t = this.props.label || __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_FOR");
return m.SpartaGlobals.bundleIsPC || !this.props.useInputButton ? r.createElement(d.ScrapValueButton, {
name: "BUTTON_BATTLEPACK_SCRAP",
text: t,
value: "" + e.scrapValue,
action: this.onClick,
style: this.props.style,
disabled: this.props.disabled
}) : r.createElement("surface", {
style: [ f.CommonStyles.flexRow, this.props.style ]
}, r.createElement(a.InputButton, {
inputKey: i.Keys.Option2,
label: t,
style: h,
action: this.onClick
}), r.createElement(p.TunguskaBattlepackScraps, {
value: e.scrapValue,
size: "S"
}));
}, n;
}(r.Component);
t.BattlepackItemScrapButton = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(4), a = n(12), s = n(11), u = n(26), l = n(23), c = n(204), p = n(6), d = n(39), f = n(15), m = n(29), h = n(43), g = n(392), y = n(180), S = n(1409), v = n(1410), _ = n(198), b = n(5), T = n(17), E = n(7), C = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = E.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "sortheading-" + e.label), 
r.focusItem.setActive("2f213081:52:34", r.sparta.twinkle.buildInfo.isPC), r.sparta.stores.inputStore.bindInputToFocusItem(new a.Input({
key: s.Keys.Accept,
label: e.label,
action: function() {
r.setSortKey(r.props.sortKey);
}
}), r.focusItem), r;
}
return e.__extends(n, t), n.prototype.getSortIndicatorStyle = function(e) {
var t = this.sparta.theme.getTheme(this).serverList;
return this.props.sortBy && e === this.props.sortBy.key && "none" !== this.props.sortBy.direction ? this.props.sortBy.direction === g.SortDirection.ASC ? t.sortIndicator("asc") : t.sortIndicator("desc") : t.sortIndicator("none");
}, n.prototype.setSortKey = function(e) {
this.sparta.stores.serversSortStore.setSort(e);
}, n.prototype.render = function() {
var t = this.props, n = t.sortKey, o = t.label, i = this.sparta.theme.getTheme(this).serverList, a = this.focusItem.isFocusedOrHovered || !(!this.props.sortBy || n !== this.props.sortBy.key), s = this.sparta.twinkle.buildInfo.isPC ? r.createElement("surface", {
style: this.getSortIndicatorStyle(n)
}) : null;
return r.createElement("surface", e.__assign({
style: i.sortHeading(a)
}, this.focusItem.hooks), r.createElement(p.Text, {
value: o.toUpperCase(),
size: i.sortHeadingTextSize,
type: i.sortHeadingTextType,
style: i.sortHeadingText
}), s);
}, n.contextTypes = E.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component), I = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = E.SpartaContext.getFromComponent(e), e.contentTween = f.Animation.tween("2f213081:130:36", 0, {
duration: f.Animation.defaultTweenOptions.duration / 4
}), e.fadingContentStyle = e.contentTween.getStyleClass("opacity"), e.loadingTween = f.Animation.tween("2f213081:133:36", 1, {
duration: f.Animation.defaultTweenOptions.duration / 4
}), e.loadingTweenStyle = e.loadingTween.getStyleClass("opacity"), e.loadingDone = !1, 
e.updateSorting = function() {
e.sparta.stores.serversSortStore.cycle();
}, e.joinServer = function(t, n) {
h.joinServer(y.createJoinOptions(e.sparta.stores.partyStoreLoader, t, n));
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.isLoading;
}, function() {
e.props.isLoading ? e.startLoading() : e.doneLoading();
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.contentTween.destroy(), this.loadingTween.destroy();
}, Object.defineProperty(n.prototype, "sortBy", {
get: function() {
return this.props.sortBy || this.sparta.stores.serversSortStore.current;
},
enumerable: !0,
configurable: !0
}), n.prototype.getInput = function() {
if (!this.sparta.stores.gameStateStoreLoader.get().isGameViewVisible && this.props.servers && this.props.servers.length > 0) {
var e = this.sortBy;
return new a.Input({
label: e.key === g.SortKeys.NONE ? __("ID_SPARTA_ACTION_SORT") : __("ID_SPARTA_ACTION_SORTBY") + e.getLabel(),
action: this.updateSorting,
key: s.Keys.Option3
});
}
}, n.prototype.doneLoading = function() {
this.loadingDone || (this.loadingDone = !0, this.loadingTween.isDestroyed() || (this.loadingTween.to(0), 
this.contentTween.to(1)));
}, n.prototype.startLoading = function() {
var e = this;
this.loadingDone = !1, this.contentTween.promiseTo(0).then(function() {
e.loadingDone || e.loadingTween.isDestroyed() || e.loadingTween.to(1);
});
}, n.prototype.renderItems = function() {
var e = this, t = this.props.servers || [], n = this.sortBy, o = S.sortServers(t, n.key, n.direction), i = this.sparta.stores.settingsStore.hasUGCAccess(), a = this.sparta.stores.gameStore.getGame(this.props.gameId), s = a ? a.serverConfig.supportedRoles : [], u = this.sparta.theme.getTheme(this).serverListItem, l = u.rowHeight + u.rowSpacing;
return o.map(function(t, n) {
var o = e.sparta.stores.freemiumStore.canJoinWithFreemium || _.validateExpansionAccess(t.game, t.mapExpansion, "soldier");
return r.createElement(c.ItemScrollerItem, {
key: "server-" + t.guid,
height: l,
isFocusable: !0,
debugName: "serverlistitem" + (t && t.gameId ? t.gameId : n)
}, function(n) {
return r.createElement("surface", {
style: T.CommonStyles.noLocalBounds
}, r.createElement(v.ServerListItem, {
focusItem: n,
roles: s,
canJoin: o,
server: t,
disabled: !e.sparta.stores.gameStateStoreLoader.get().isServerJoiningAllowed(t.gameId),
hasUGCAccess: i,
gameData: e.props.gameData,
onSelect: e.joinServer,
gameServerLayout: e.props.gameServerLayout
}));
});
});
}, n.prototype.renderHeader = function() {
var e = this.sparta.theme.getTheme(this).serverList, t = this.sortBy;
return r.createElement("surface", {
style: e.header
}, r.createElement("surface", {
style: e.nameSpan
}, r.createElement(C, {
sortKey: g.SortKeys.NAME,
label: __("ID_SPARTA_SERVER_SORT_NAME"),
sortBy: t
})), r.createElement("surface", {
style: e.slotsSpan
}, r.createElement(C, {
sortKey: g.SortKeys.PLAYERS,
label: __("ID_SPARTA_SERVER_SORT_PLAYERS"),
sortBy: t
})), r.createElement("surface", {
style: e.pingSpan
}, r.createElement(C, {
sortKey: g.SortKeys.PING,
label: __("ID_SPARTA_SERVER_SORT_PING"),
sortBy: t
})), r.createElement("surface", {
style: e.actionsSpan
}));
}, n.prototype.renderServerItems = function() {
var e = this.renderItems();
this.props.bannerItem && e.push(this.props.bannerItem);
var t = this.sparta.theme.getTheme(this).serverList, n = t.useDividers ? c.withDividers(e, !1, !1, 0) : e;
return r.createElement(c.ItemScroller, {
softClip: t.softClip,
debugName: "serverlist",
height: l.content.height - o.getHeight(10)
}, n);
}, n.prototype.renderLoadingOverlay = function() {
var e = this.sparta.theme.getTheme(this).serverList;
return r.createElement("surface", {
key: "loading",
style: b.merge2(e.loadingOverlay, this.loadingTweenStyle)
}, r.createElement(m.Spinner, {
large: !0
}));
}, n.prototype.renderContent = function() {
var t = this.sparta.theme.getTheme(this).serverList;
return this.props.error ? r.createElement(d.EmptyState, e.__assign({
key: "errorState",
style: b.merge3(this.fadingContentStyle, t.loadingOverlay, T.CommonStyles.flexColumn)
}, this.props.errorState)) : null == this.props.servers ? r.createElement("surface", {
key: "unknown"
}) : this.props.servers.length > 0 ? r.createElement("surface", {
key: "items",
style: T.CommonStyles.flexColumn
}, this.renderHeader(), this.renderServerItems()) : r.createElement(d.EmptyState, e.__assign({
key: "emptyState",
style: b.merge3(this.fadingContentStyle, t.loadingOverlay, T.CommonStyles.flexColumn)
}, this.props.emptyState));
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).serverList;
return r.createElement("surface", {
style: e.serverList
}, this.renderLoadingOverlay(), this.renderContent());
}, n.contextTypes = E.SpartaContext.contextTypes, n.defaultProps = {
showFilters: !1
}, n = e.__decorate([ i.observer, u.input ], n);
}(r.Component);
t.ServerList = I;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(1), a = n(1412), s = n(19);
!function(e) {
e.DONE = "done", e.STAR = "star";
}(r = t.ServerMarkType || (t.ServerMarkType = {}));
var u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return o.__extends(t, e), t.prototype.render = function() {
var e = this.props.type === r.DONE ? a.ServerMarkStyles.iconStar({
isRTL: s.isRTLLanguage(),
isFocused: !0 === this.props.focused
}) : a.ServerMarkStyles.iconCompleted({
isRTL: s.isRTLLanguage(),
isFocused: !0 === this.props.focused
});
return i.createElement("surface", {
style: e
});
}, t;
}(i.Component);
t.ServerMark = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(333), r = function() {
function t() {}
return t.prototype.getMark = function(e) {}, t.prototype.getMarkDescription = function(t) {
return t === e.ServerMarkType.DONE ? __("ID_SPARTA_OPERATIONS_CAMPAIGN_COMPLETED").toUpperCase() : "";
}, t.prototype.getGameModeName = function(e) {
return e.mapModePretty || e.mapMode;
}, t;
}();
t.GameServerLayout = r;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(171);
t.WarsawContext = r.createContext("Warsaw");
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(171);
t.DestinationContext = r.createContext("Destination");
}, function(e, t) {
var n, r, o = e.exports = {};
function i() {
throw new Error("setTimeout has not been defined");
}
function a() {
throw new Error("clearTimeout has not been defined");
}
function s(e) {
if (n === setTimeout) return setTimeout(e, 0);
if ((n === i || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);
try {
return n(e, 0);
} catch (t) {
try {
return n.call(null, e, 0);
} catch (t) {
return n.call(this, e, 0);
}
}
}
!function() {
try {
n = "function" == typeof setTimeout ? setTimeout : i;
} catch (e) {
n = i;
}
try {
r = "function" == typeof clearTimeout ? clearTimeout : a;
} catch (e) {
r = a;
}
}();
var u, l = [], c = !1, p = -1;
function d() {
c && u && (c = !1, u.length ? l = u.concat(l) : p = -1, l.length && f());
}
function f() {
if (!c) {
var e = s(d);
c = !0;
for (var t = l.length; t; ) {
for (u = l, l = []; ++p < t; ) u && u[p].run();
p = -1, t = l.length;
}
u = null, c = !1, function n(e) {
if (r === clearTimeout) return clearTimeout(e);
if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(e);
try {
return r(e);
} catch (t) {
try {
return r.call(null, e);
} catch (t) {
return r.call(this, e);
}
}
}(e);
}
}
function m(e, t) {
this.fun = e, this.array = t;
}
function h() {}
o.nextTick = function(e) {
var t = new Array(arguments.length - 1);
if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
l.push(new m(e, t)), 1 !== l.length || c || s(f);
}, m.prototype.run = function() {
this.fun.apply(null, this.array);
}, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", 
o.versions = {}, o.on = h, o.addListener = h, o.once = h, o.off = h, o.removeListener = h, 
o.removeAllListeners = h, o.emit = h, o.prependListener = h, o.prependOnceListener = h, 
o.listeners = function(e) {
return [];
}, o.binding = function(e) {
throw new Error("process.binding is not supported");
}, o.cwd = function() {
return "/";
}, o.chdir = function(e) {
throw new Error("process.chdir is not supported");
}, o.umask = function() {
return 0;
};
}, function(e, t, n) {
"use strict";
var r = n(167), o = n(277), i = n(278), a = n(115), s = n(240), u = Object.assign;
e.exports = !u || n(44)(function() {
var e = {}, t = {}, n = Symbol(), r = "abcdefghijklmnopqrst";
return e[n] = 7, r.split("").forEach(function(e) {
t[e] = e;
}), 7 != u({}, e)[n] || Object.keys(u({}, t)).join("") != r;
}) ? function e(t, n) {
for (var u = a(t), l = arguments.length, c = 1, p = o.f, d = i.f; l > c; ) for (var f, m = s(arguments[c++]), h = p ? r(m).concat(p(m)) : r(m), g = h.length, y = 0; g > y; ) d.call(m, f = h[y++]) && (u[f] = m[f]);
return u;
} : u;
}, function(e, t, n) {
var r = n(107), o = n(90), i = n(188);
e.exports = function(e) {
return function(t, n, a) {
var s, u = r(t), l = o(u.length), c = i(a, l);
if (e && n != n) {
for (;l > c; ) if ((s = u[c++]) != s) return !0;
} else for (;l > c; c++) if ((e || c in u) && u[c] === n) return e || c || 0;
return !e && -1;
};
};
}, function(e, t, n) {
var r = n(341)("keys"), o = n(186);
e.exports = function(e) {
return r[e] || (r[e] = o(e));
};
}, function(e, t, n) {
var r = n(57), o = r["__core-js_shared__"] || (r["__core-js_shared__"] = {});
e.exports = function(e) {
return o[e] || (o[e] = {});
};
}, function(e, t) {
e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
}, function(e, t, n) {
var r = n(189), o = n(63)("iterator"), i = Array.prototype;
e.exports = function(e) {
return void 0 !== e && (r.Array === e || i[o] === e);
};
}, function(e, t, n) {
"use strict";
var r = n(147), o = n(166), i = n(243), a = {};
n(114)(a, n(63)("iterator"), function() {
return this;
}), e.exports = function(e, t, n) {
e.prototype = r(a, {
next: o(1, n)
}), i(e, t + " Iterator");
};
}, function(e, t) {
e.exports = function(e, t) {
return {
value: t,
done: !!e
};
};
}, function(e, t) {
e.exports = function(e, t) {
var n = t === Object(t) ? function(e) {
return t[e];
} : t;
return function(t) {
return String(t).replace(e, n);
};
};
}, function(e, t, n) {
var r = n(187);
e.exports = Array.isArray || function e(t) {
return "Array" == r(t);
};
}, function(e, t, n) {
var r = n(63)("iterator"), o = !1;
try {
var i = [ 7 ][r]();
i.return = function() {
o = !0;
}, Array.from(i, function() {
throw 2;
});
} catch (e) {}
e.exports = function(e, t) {
if (!t && !o) return !1;
var n = !1;
try {
var i = [ 7 ], a = i[r]();
a.next = function() {
return {
done: n = !0
};
}, i[r] = function() {
return a;
}, e(i);
} catch (e) {}
return n;
};
}, function(e, t, n) {
"use strict";
var r = n(115), o = n(188), i = n(90);
e.exports = function e(t) {
for (var n = r(this), a = i(n.length), s = arguments.length, u = o(s > 1 ? arguments[1] : void 0, a), l = s > 2 ? arguments[2] : void 0, c = void 0 === l ? a : o(l, a); c > u; ) n[u++] = t;
return n;
};
}, function(e, t, n) {
for (var r = n(282), o = n(167), i = n(106), a = n(57), s = n(114), u = n(189), l = n(63), c = l("iterator"), p = l("toStringTag"), d = u.Array, f = {
CSSRuleList: !0,
CSSStyleDeclaration: !1,
CSSValueList: !1,
ClientRectList: !1,
DOMRectList: !1,
DOMStringList: !1,
DOMTokenList: !0,
DataTransferItemList: !1,
FileList: !1,
HTMLAllCollection: !1,
HTMLCollection: !1,
HTMLFormElement: !1,
HTMLSelectElement: !1,
MediaList: !0,
MimeTypeArray: !1,
NamedNodeMap: !1,
NodeList: !0,
PaintRequestList: !1,
Plugin: !1,
PluginArray: !1,
SVGLengthList: !1,
SVGNumberList: !1,
SVGPathSegList: !1,
SVGPointList: !1,
SVGStringList: !1,
SVGTransformList: !1,
SourceBufferList: !1,
StyleSheetList: !0,
TextTrackCueList: !1,
TextTrackList: !1,
TouchList: !1
}, m = o(f), h = 0; h < m.length; h++) {
var g, y = m[h], S = f[y], v = a[y], _ = v && v.prototype;
if (_ && (_[c] || s(_, c, d), _[p] || s(_, p, y), u[y] = d, S)) for (g in r) _[g] || i(_, g, r[g], !0);
}
}, function(e, t, n) {
var r = n(48), o = n(352).set;
e.exports = function(e, t, n) {
var i, a = t.constructor;
return a !== n && "function" == typeof a && (i = a.prototype) !== n.prototype && r(i) && o && o(e, i), 
e;
};
}, function(e, t, n) {
var r = n(48), o = n(55), i = function(e, t) {
if (o(e), !r(t) && null !== t) throw TypeError(t + ": can't set as prototype!");
};
e.exports = {
set: Object.setPrototypeOf || ("__proto__" in {} ? function(e, t, r) {
try {
(r = n(164)(Function.call, n(130).f(Object.prototype, "__proto__").set, 2))(e, []), 
t = !(e instanceof Array);
} catch (e) {
t = !0;
}
return function e(n, o) {
return i(n, o), t ? n.__proto__ = o : r(n, o), n;
};
}({}, !1) : void 0),
check: i
};
}, function(e, t) {
e.exports = Math.sign || function e(t) {
return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1;
};
}, function(e, t) {
var n = Math.expm1;
e.exports = !n || n(10) > 22025.465794806718 || n(10) < 22025.465794806718 || -2e-17 != n(-2e-17) ? function e(t) {
return 0 == (t = +t) ? t : t > -1e-6 && t < 1e-6 ? t + t * t / 2 : Math.exp(t) - 1;
} : n;
}, function(e, t) {
e.exports = "\t\n\v\f\r \u2028\u2029\ufeff";
}, function(e, t, n) {
var r = n(48), o = n(187), i = n(63)("match");
e.exports = function(e) {
var t;
return r(e) && (void 0 !== (t = e[i]) ? !!t : "RegExp" == o(e));
};
}, function(e, t, n) {
"use strict";
var r = n(55);
e.exports = function() {
var e = r(this), t = "";
return e.global && (t += "g"), e.ignoreCase && (t += "i"), e.multiline && (t += "m"), 
e.unicode && (t += "u"), e.sticky && (t += "y"), t;
};
}, function(e, t, n) {
var r = n(356), o = n(168);
e.exports = function(e, t, n) {
if (r(t)) throw TypeError("String#" + n + " doesn't accept regex!");
return String(o(e));
};
}, function(e, t, n) {
var r = n(63)("match");
e.exports = function(e) {
var t = /./;
try {
"/./"[e](t);
} catch (n) {
try {
return t[r] = !1, !"/./"[e](t);
} catch (e) {}
}
return !0;
};
}, function(e, t, n) {
"use strict";
var r = n(57), o = n(83), i = n(244), a = n(286), s = n(114), u = n(247), l = n(44), c = n(248), p = n(146), d = n(90), f = n(495), m = n(190).f, h = n(70).f, g = n(349), y = n(243), S = "prototype", v = "Wrong index!", _ = r.ArrayBuffer, b = r.DataView, T = r.Math, E = r.RangeError, C = r.Infinity, I = _, A = T.abs, w = T.pow, P = T.floor, R = T.log, O = T.LN2, x = o ? "_b" : "buffer", k = o ? "_l" : "byteLength", L = o ? "_o" : "byteOffset";
function M(e, t, n) {
var r, o, i, a = new Array(n), s = 8 * n - t - 1, u = (1 << s) - 1, l = u >> 1, c = 23 === t ? w(2, -24) - w(2, -77) : 0, p = 0, d = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
for ((e = A(e)) != e || e === C ? (o = e != e ? 1 : 0, r = u) : (r = P(R(e) / O), 
e * (i = w(2, -r)) < 1 && (r--, i *= 2), (e += r + l >= 1 ? c / i : c * w(2, 1 - l)) * i >= 2 && (r++, 
i /= 2), r + l >= u ? (o = 0, r = u) : r + l >= 1 ? (o = (e * i - 1) * w(2, t), 
r += l) : (o = e * w(2, l - 1) * w(2, t), r = 0)); t >= 8; a[p++] = 255 & o, o /= 256, 
t -= 8) ;
for (r = r << t | o, s += t; s > 0; a[p++] = 255 & r, r /= 256, s -= 8) ;
return a[--p] |= 128 * d, a;
}
function D(e, t, n) {
var r, o = 8 * n - t - 1, i = (1 << o) - 1, a = i >> 1, s = o - 7, u = n - 1, l = e[u--], c = 127 & l;
for (l >>= 7; s > 0; c = 256 * c + e[u], u--, s -= 8) ;
for (r = c & (1 << -s) - 1, c >>= -s, s += t; s > 0; r = 256 * r + e[u], u--, s -= 8) ;
if (0 === c) c = 1 - a; else {
if (c === i) return r ? NaN : l ? -C : C;
r += w(2, t), c -= a;
}
return (l ? -1 : 1) * r * w(2, c - t);
}
function N(e) {
return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0];
}
function F(e) {
return [ 255 & e ];
}
function G(e) {
return [ 255 & e, e >> 8 & 255 ];
}
function U(e) {
return [ 255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255 ];
}
function B(e) {
return M(e, 52, 8);
}
function j(e) {
return M(e, 23, 4);
}
function H(e, t, n) {
h(e[S], t, {
get: function() {
return this[n];
}
});
}
function z(e, t, n, r) {
var o = f(+n);
if (o + t > e[k]) throw E(v);
var i = e[x]._b, a = o + e[L], s = i.slice(a, a + t);
return r ? s : s.reverse();
}
function V(e, t, n, r, o, i) {
var a = f(+n);
if (a + t > e[k]) throw E(v);
for (var s = e[x]._b, u = a + e[L], l = r(+o), c = 0; c < t; c++) s[u + c] = l[i ? c : t - c - 1];
}
if (a.ABV) {
if (!l(function() {
_(1);
}) || !l(function() {
new _(-1);
}) || l(function() {
return new _(), new _(1.5), new _(NaN), "ArrayBuffer" != _.name;
})) {
for (var W, q = (_ = function e(t) {
return c(this, _), new I(f(t));
})[S] = I[S], K = m(I), X = 0; K.length > X; ) (W = K[X++]) in _ || s(_, W, I[W]);
i || (q.constructor = _);
}
var Y = new b(new _(2)), J = b[S].setInt8;
Y.setInt8(0, 2147483648), Y.setInt8(1, 2147483649), !Y.getInt8(0) && Y.getInt8(1) || u(b[S], {
setInt8: function e(t, n) {
J.call(this, t, n << 24 >> 24);
},
setUint8: function e(t, n) {
J.call(this, t, n << 24 >> 24);
}
}, !0);
} else _ = function e(t) {
c(this, _, "ArrayBuffer");
var n = f(t);
this._b = g.call(new Array(n), 0), this[k] = n;
}, b = function e(t, n, r) {
c(this, b, "DataView"), c(t, _, "DataView");
var o = t[k], i = p(n);
if (i < 0 || i > o) throw E("Wrong offset!");
if (i + (r = void 0 === r ? o - i : d(r)) > o) throw E("Wrong length!");
this[x] = t, this[L] = i, this[k] = r;
}, o && (H(_, "byteLength", "_l"), H(b, "buffer", "_b"), H(b, "byteLength", "_l"), 
H(b, "byteOffset", "_o")), u(b[S], {
getInt8: function e(t) {
return z(this, 1, t)[0] << 24 >> 24;
},
getUint8: function e(t) {
return z(this, 1, t)[0];
},
getInt16: function e(t) {
var n = z(this, 2, t, arguments[1]);
return (n[1] << 8 | n[0]) << 16 >> 16;
},
getUint16: function e(t) {
var n = z(this, 2, t, arguments[1]);
return n[1] << 8 | n[0];
},
getInt32: function e(t) {
return N(z(this, 4, t, arguments[1]));
},
getUint32: function e(t) {
return N(z(this, 4, t, arguments[1])) >>> 0;
},
getFloat32: function e(t) {
return D(z(this, 4, t, arguments[1]), 23, 4);
},
getFloat64: function e(t) {
return D(z(this, 8, t, arguments[1]), 52, 8);
},
setInt8: function e(t, n) {
V(this, 1, t, F, n);
},
setUint8: function e(t, n) {
V(this, 1, t, F, n);
},
setInt16: function e(t, n) {
V(this, 2, t, G, n, arguments[2]);
},
setUint16: function e(t, n) {
V(this, 2, t, G, n, arguments[2]);
},
setInt32: function e(t, n) {
V(this, 4, t, U, n, arguments[2]);
},
setUint32: function e(t, n) {
V(this, 4, t, U, n, arguments[2]);
},
setFloat32: function e(t, n) {
V(this, 4, t, j, n, arguments[2]);
},
setFloat64: function e(t, n) {
V(this, 8, t, B, n, arguments[2]);
}
});
y(_, "ArrayBuffer"), y(b, "DataView"), s(b[S], a.VIEW, !0), t.ArrayBuffer = _, t.DataView = b;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(84), o = function() {
function e() {
this.needStateChanges = !1;
}
return e.prototype.call = function(e, t, n, o, i) {
if ("applyStateChanges" === e) {
if (!this.needStateChanges) return;
this.needStateChanges = !1;
} else this.needStateChanges = !0;
if (this.functions) {
var a = this.functions[e];
if (!a) return void 0 !== o ? o : (console.warn("Native API does not expose function " + e), 
console.warn("Please update method information in TwinkleNative.ts!"), null);
if ("loadAssetRequest" === e && (t = a.sync), r.options.enableDevWarnings) {
if (a.argc !== n.length) return console.warn("Native API " + e + " expects " + a.argc + " arguments, got " + n.length), 
console.warn("Please update method information in TwinkleNative.ts!"), null;
if (a.sync !== t && !i) return console.warn("Native API " + e + " sync mismatch (expects " + a.sync + " but got " + t), 
console.warn("Please update method information in TwinkleNative.ts!"), null;
}
}
var s = this.delegateCall(e, t, n);
return "getBuildInfoSync" === e && s.functions && (this.functions = s.functions), 
s;
}, e;
}();
t.AbstractDelegate = o;
}, function(e, t, n) {
"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/ var r = Object.getOwnPropertySymbols, o = Object.prototype.hasOwnProperty, i = Object.prototype.propertyIsEnumerable;
e.exports = function a() {
try {
if (!Object.assign) return !1;
var e = new String("abc");
if (e[5] = "de", "5" === Object.getOwnPropertyNames(e)[0]) return !1;
for (var t = {}, n = 0; n < 10; n++) t["_" + String.fromCharCode(n)] = n;
if ("0123456789" !== Object.getOwnPropertyNames(t).map(function(e) {
return t[e];
}).join("")) return !1;
var r = {};
return "abcdefghijklmnopqrst".split("").forEach(function(e) {
r[e] = e;
}), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("");
} catch (e) {
return !1;
}
}() ? Object.assign : function(e, t) {
for (var n, a, s = function u(e) {
if (null === e || void 0 === e) throw new TypeError("Object.assign cannot be called with null or undefined");
return Object(e);
}(e), l = 1; l < arguments.length; l++) {
for (var c in n = Object(arguments[l])) o.call(n, c) && (s[c] = n[c]);
if (r) {
a = r(n);
for (var p = 0; p < a.length; p++) i.call(n, a[p]) && (s[a[p]] = n[a[p]]);
}
}
return s;
};
}, function(e, t, n) {
"use strict";
var r = function e(t) {};
e.exports = function o(e, t, n, i, a, s, u, l) {
if (r(t), !e) {
var c;
if (void 0 === t) c = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."); else {
var p = [ n, i, a, s, u, l ], d = 0;
(c = new Error(t.replace(/%s/g, function() {
return p[d++];
}))).name = "Invariant Violation";
}
throw c.framesToPop = 1, c;
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(881), o = n(502), i = function() {
function e(e) {
void 0 === e && (e = !1), this.onlyPublishOnChange = e, this.subscriptions = [];
}
return e.prototype.publish = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.publishPayload(e);
}, e.prototype.publishPayload = function(e) {
var t;
if (this.onlyPublishOnChange) {
if (o.isEqual(e, this.previousPayload)) return;
this.previousPayload = e;
}
if (0 !== this.subscriptions.length) for (var n = this.subscriptions.slice(), r = 0, i = n.length; r < i; r++) (t = n[r]).onPublish.apply(t, e);
}, e.prototype.subscribe = function(e, t) {
var n = new r.Subscription(this, e, t);
return this.subscriptions.push(n), n;
}, e.prototype.removeSubscription = function(e) {
var t = this.subscriptions.indexOf(e);
-1 !== t && (this.subscriptions.splice(t, 1), e.onUnsubscribe && e.onUnsubscribe());
}, e.prototype.trigger = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.publishPayload(e);
}, e.prototype.listen = function(e, t) {
var n = this, r = this.subscribe(e, t);
return function() {
return n.removeSubscription(r);
};
}, e;
}();
t.Publisher = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(134), o = n(8), i = n(109);
t.screen = new r.Bounds(0, 0, 1920, 1080);
var a = o.COMPRESSED ? 40 / 1920 : 101 / 1920, s = o.COMPRESSED ? 40 / 1080 : 55 / 1080;
t.dangerZoneSize = {
width: a * t.screen.width,
height: s * t.screen.height
}, t.sideOffset = i.useConsoleMenu ? 0 : 90, t.safeZone = new r.Bounds(t.screen.left + t.dangerZoneSize.width + t.sideOffset, t.screen.top + t.dangerZoneSize.height, t.screen.width - 2 * t.dangerZoneSize.width - 2 * t.sideOffset, t.screen.height - 2 * t.dangerZoneSize.height);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(10), o = n(95), i = n(251), a = n(9), s = n(27), u = n(216);
var l = function() {
function e(e) {
this.projectId = e.projectId, this.baseUrl = e.baseUrl, this.publicKey = e.publicKey, 
this.baseTags = e.tags || {}, this.baseExtra = e.extra || {}, this.release = e.release, 
this.numExceptionsSent = 0, this.debugLog = e.debugLog ? console.log : function() {};
}
return e.prototype.captureException = function(e, t) {
if (!(this.numExceptionsSent > 100)) {
t = t || {};
var n = this._createEvent(e, t.tags || {}, t.extra || {}, t.user);
return this._sendEvent(n), this.numExceptionsSent++, n;
}
this.debugLog("Max exceptions to send exceeded. Backing off...");
}, e.prototype._sendEvent = function(e) {
var t = this;
u.httpRequest(s.HttpMethod.POST, this._getUrl(), JSON.stringify(e), this._getHeaders(), !0, function(e, n) {
e ? t.debugLog("Successfully sent report to Sentry! ID: " + n.id) : t.debugLog("Error sending when sending report to Sentry. Reason: " + JSON.stringify(n));
});
}, e.prototype._createEvent = function(e, t, n, r) {
var a = e.name + ": " + e.message;
if (i.GatewayRequestError.is(e)) {
var s = e.requestInfo;
s && (s.methodName && (a += " calling " + s.methodName), s.traceId && (t.gatewayTraceId = s.traceId));
}
var u = {
event_id: function l() {
return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(e) {
var t = 16 * Math.random() | 0;
return ("x" === e ? t : 3 & t | 8).toString(16);
});
}(),
platform: "javascript",
message: a,
release: this.release,
user: r
};
u.tags = Object.assign({}, this.baseTags, t), u.extra = Object.assign({}, this.baseExtra, n);
var c = null;
try {
c = o.globalScope.isJSC ? this._getJscStacktrace(e) : this._getStacktrace(e);
} catch (e) {
this.debugLog("Error converting Duktape parsedStackTrace to Sentry format");
}
if (c) u.exception = [ {
type: e.name,
value: e.message,
stacktrace: {
frames: c
}
} ]; else if (e.stack) {
u.extra.stacktraceStr = e.stack;
}
return u;
}, e.prototype._getUrl = function() {
return this.baseUrl + "/api/" + this.projectId + "/store/";
}, e.prototype._getHeaders = function() {
var e = this._generateAuthHeader();
return e += "\r\nOrigin: http://twinkle.ea.com";
}, e.prototype._generateAuthHeader = function() {
return "X-Sentry-Auth: Sentry " + [ [ "sentry_version", 7 ], [ "sentry_client", "raven-twinkle/1.0" ], [ "sentry_timestamp", Date.now() / 1e3 ], [ "sentry_key", this.publicKey ] ].map(function(e) {
return e[0] + "=" + e[1];
}).join(", ");
}, e.prototype._getStacktrace = function(e) {
var t = function(e) {
return e.indexOf(".cpp:") > 0 || e.indexOf(".h:") > 0 || e.indexOf("TnT") > 0;
}, n = (e.stack || "").replace(/\t/gm, "").replace(/preventsyield/gm, "").replace(/native/gm, "").replace(/strict/gm, "").split("\n");
n.shift();
var r = (n = n.filter(function(e) {
return !t(e);
})).map(function(e) {
var n = e.indexOf(".js:") > 0;
if (t(e)) {
var r = e.substr(e.lastIndexOf(":") + 1), o = e.substr(0, e.lastIndexOf(":"));
return {
filename: o.substr(o.lastIndexOf("\\") + 1),
abs_path: o,
lineno: parseInt(r, 10)
};
}
if (n) {
var i = e.split(" ");
return {
filename: "bundle.js",
function: i[0],
lineno: parseInt(i[1].split(":")[1], 10)
};
}
return null;
});
return r.reverse(), r.filter(function(e) {
return !!e;
});
}, e.prototype._getJscStacktrace = function(e) {
var t = (e.stack || "").split("\n"), n = function(e, t) {
return e.indexOf(t) >= 0;
}, r = "bundle-release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod.js", o = "http://collector.ops.dice.se/artifacts/sparta-client/sources/release-bf1-lsu35/tunguska/ALL/bundle-release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod.js", i = (t = t.filter(function(e) {
return !(e.indexOf("[native code]") >= 0);
})).map(function(e) {
if (n(e, "@")) {
var t = void 0, i = void 0, a = void 0;
return (s = e.match(/\s*(.*?)@(.*?):(\d+):(\d+)/)) && s.length > 4 && (a = s[1], 
t = parseInt(s[3], 10), i = parseInt(s[4], 10)), {
in_app: !0,
filename: r,
function: a,
lineno: t,
colno: i,
abs_path: o
};
}
if (n(e, ":")) {
var s;
t = void 0, i = void 0, a = void 0;
return (s = e.match(/\s*(.*?):(\d+):(\d+)/)) && s.length > 3 && (a = "__unknown", 
t = parseInt(s[2], 10), i = parseInt(s[3], 10)), {
in_app: !0,
filename: r,
function: "__unknown",
lineno: t,
colno: i,
abs_path: o
};
}
return {
filename: r,
function: e
};
});
return i.reverse(), i.filter(function(e) {
return !!e;
});
}, e;
}();
t.Raven = l, t.raven = new l({
baseUrl: "https://sentry-public.battlelog.com",
projectId: 7,
publicKey: "c05110aa1a754ac0acb10e3385cf0eee",
release: "release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod",
tags: {
platform: a.SpartaGlobals.bundlePlatform.toLowerCase(),
jsEnv: "prod",
version: "26385",
branch: "release-bf1-lsu35",
channel: "tunguska"
}
}), t.generateEvent = function c(e) {
var n;
try {
var o = r.onlineState.sessionUser, i = void 0;
o && o.id && (i = {
id: o.id,
nucleusId: r.onlineState.sessionUserId && r.onlineState.sessionUserId.nucleusId,
username: o.displayName,
personaId: o.personaId
});
var a = {}, s = r.nativePropertiesStore;
s.envBranchName && (a.gameBranch = s.envBranchName), s.envChangeListNumber && (a.gameChangelist = s.envChangeListNumber), 
s.envOnlineEnvironment && (a.gameOnlineEnv = s.envOnlineEnvironment), s.protocolVersion && (a.gameProtocolVer = s.protocolVersion), 
s.gatewayHost && (a.gatewayHost = s.gatewayHost), n = t.raven.captureException(e, {
tags: a,
user: i
});
} catch (e) {}
return n;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(9), o = n(27);
t.slideOptions = {
duration: r.SpartaGlobals.bundleIsPC ? 200 : 300,
easing: o.Easing.CubicOut
}, t.focusOptions = {
duration: 10,
easing: o.Easing.CubicOut
};
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(66), i = n(3), a = n(100), s = n(91), u = n(43), l = n(514), c = n(74), p = n(369), d = n(295), f = n(297), m = function() {
function t(e, t, n, r, s, l, p, f, m, h, g, y, S, v, _) {
var b = this;
this.twinkle = e, this.inputRouter = t, this.friendStore = n, this.onlineState = r, 
this.gameDataStore = s, this.presenceStateStore = l, this.gameStateStoreLoader = p, 
this.partyStoreLoader = f, this.matchmakingManager = m, this.entitlementStore = h, 
this.nativePropertiesStore = g, this.installStateStore = y, this.popupManager = S, 
this.supportsSpectating = v, this.blackFadeState = _, this.isOpened = !1, this.isChatVisible = !1, 
this.hasUnreadMessages = !1, this.isJoiningParty = !1, this.friendsToParty = i.observable.map([], {
deep: !1
}), this.focusAncestor = this.twinkle.focus.createAncestor(o.autoId("socialScreen")), 
this.isWidgetFocusActive = !0, this.presenceOrder = [ a.UserPresenceStates.Joinable, a.UserPresenceStates.Playing, a.UserPresenceStates.Online, a.UserPresenceStates.Away, a.UserPresenceStates.Offline ], 
this.showToastNotification = d.frostbiteAction(this.twinkle.frostbite, "sparta.showToastNotification"), 
this.showPopup = d.frostbiteAction(this.twinkle.frostbite, "sparta.showPopup"), 
this.toggleChat = function() {
b.twinkle.frostbite.sendMessage("cas.toggleChat");
}, this.goOnline = function() {
b.onlineState.connect(function(e) {
e.title.length > 0 && e.description.length > 0 && b.showPopup({
title: e.title,
message: e.description
});
});
}, i.reaction(function() {
return {
active: b.isOpened,
children: b.focusAncestor.children
};
}, function(e) {
e.children.forEach(function(t) {
t.setActive("Social Screen focus activity automation", e.active);
});
}, {
fireImmediately: !0
}), this.twinkle.frostbite.registerMessageListener("cas.chatWidgetUpdated", this.updateChat), 
p.onLoad(function(e) {
var t = e.gameViewState;
i.reaction(function() {
return {
isLoadingIntoGame: t.isVisible && t.isRoute(c.GameViewRoute.LOADING),
isShowingEoR: t.isVisible && t.isRoute(c.GameViewRoute.EOR),
isEnabled: b.isEnabled
};
}, function(e) {
var t = e.isLoadingIntoGame, n = e.isShowingEoR, r = e.isEnabled;
b.isOpened && (t || n || !r) && b.toggle(), b.isChatVisible && !r && b.toggleChat();
});
}), u.handleJoinReady.listen(function() {
b.isOpened && b.toggle();
}), i.reaction(function() {
return b.isOpened;
}, function(e) {
b.onlineState.isOnlineBlazeAndGateway && (e ? (b.partyStoreLoader.get().subscribeFriendPartyUpdates(), 
b.partyStoreLoader.get().fetchFriendsParties()) : b.partyStoreLoader.get().unsubscribeFriendPartyUpdates());
}), i.reaction(function() {
return b.onlineState.isOnlineBlazeAndGateway;
}, function(e) {
!e && b.isOpened && b.toggle();
}), f.onLoad(function(e) {
i.reaction(function() {
return b.friendsParties;
}, b.updateFriendsToParty);
}), g.onHostingGame(function(e) {
b.theme = e.theme;
});
}
return t.prototype.toggle = function() {
(this.isOpened || this.canOpen) && (this.isOpened = !this.isOpened);
}, t.prototype.updateChat = function(e, t) {
this.isChatVisible = t.isVisible, this.hasUnreadMessages = t.unreadMessages;
}, t.prototype.updateFriendsToParty = function(e) {
var t = this, n = [];
e.forEach(function(e) {
e.members.forEach(function(r) {
var o = r.user.id;
o && (t.friendsToParty.set(o, e), n.push(o));
});
}), this.friendsToParty.forEach(function(e, r) {
-1 === n.indexOf(r) && t.friendsToParty.delete(r);
});
}, t.prototype.setJoiningParty = function(e) {
var t = this;
if (this.isOpened && this.toggle(), this.isJoiningParty = e, e) var n = this.partyStoreLoader.get(), r = i.reaction(function() {
return n.state === p.PartyState.None || !!n.party;
}, function() {
r(), t.setJoiningParty(!1);
});
}, t.prototype.setWidgetFocus = function(e) {
this.isWidgetFocusActive = e;
}, Object.defineProperty(t.prototype, "isWidgetDisabled", {
get: function() {
return !this.isWidgetFocusActive && this.twinkle.focus.controllerMode && "PC" === this.inputRouter.currentInputType;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isEnabled", {
get: function() {
return !this.blackFadeState.isVisible && this.presenceStateStore.isReady && !this.presenceStateStore.isTooYoung && this.presenceStateStore.isFirstPartyConnected && this.installStateStore.isMpInstalled && !this.gameStateStoreLoader.get().isSpectator && !this.gameStateStoreLoader.get().isQuittingWithSquad;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canOpen", {
get: function() {
return this.onlineState.isOnlineBlazeAndGateway && this.isEnabled;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "partyMembers", {
get: function() {
var e = this.partyStoreLoader.map(function(e) {
return e.party;
});
return e ? e.members.sort(h) : [];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "sortedFriends", {
get: function() {
var e = this, t = [ [] ];
this.presenceOrder.forEach(function(e) {
t.push([]);
}), this.friendStore.pagination.friends.forEach(function(n) {
var r = 0, o = n.id;
o && (e.friendsToParty.get(o) ? n.presence.state === a.UserPresenceStates.Offline && (r = e.presenceOrder.indexOf(n.presence.state) + 1) : r = e.presenceOrder.indexOf(n.presence.state) + 1, 
t[r].push(n));
});
var n = t.map(function(e) {
return e.sort(g);
});
return [].concat.apply([], n);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "friendsParties", {
get: function() {
if (!this.hostingGame) return [];
var e = this.partyStoreLoader.get(), t = e.party;
return e.friendsParties.filter(function(e) {
return e.blazeGroupId !== (t && t.blazeGroupId);
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hostingGame", {
get: function() {
return this.nativePropertiesStore.hostingGame;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hostingGameId", {
get: function() {
return this.nativePropertiesStore.hostingGameId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isInGame", {
get: function() {
var e = this.gameStateStoreLoader.get();
return e.isOnPlayableLevel || e.isGameViewVisible;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isUsingController", {
get: function() {
return "PC" !== this.inputRouter.currentInputType;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isLoadingToServer", {
get: function() {
return this.gameStateStoreLoader.get().isLoadingToServer;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "showGoOnlineInput", {
get: function() {
return !this.onlineState.isOnlineBlazeAndGateway && !this.onlineState.canNeverGoOnline && this.gameStateStoreLoader.get().isOnFrontEnd && this.installStateStore.isMpInstalled;
},
enumerable: !0,
configurable: !0
}), t.prototype.tryAction = function(e) {
this.isLoadingToServer ? this.popupManager.alert(__("ID_SPARTA_SOCIAL_GAME_LOADING_BLOCK_ACTION"), __("ID_SPARTA_SOCIAL_GAME_LOADING")) : e();
}, t.prototype.kick = function(t) {
var n = this;
this.tryAction(function() {
n.partyStoreLoader.get().canKick(t) && t.user.id ? n.partyStoreLoader.get().kick(t.user.id) : n.showToastNotification({
title: __("ID_SPARTA_SOCIAL_SQUAD_NOT_POSSIBLE"),
message: __("ID_SPARTA_SOCIAL_SQUAD_KICK_CONNECTING"),
imageRef: e("Info"),
durationMs: 4e3
});
});
}, t.prototype.promoteToLeader = function(t) {
var n = this;
this.tryAction(function() {
n.partyStoreLoader.get().canPromote(t) && t.user.id ? n.partyStoreLoader.get().promoteToLeader(t.user.id) : n.showToastNotification({
title: __("ID_SPARTA_SOCIAL_SQUAD_NOT_POSSIBLE"),
message: __("ID_SPARTA_SOCIAL_SQUAD_PROMOTE_CONNECTING"),
imageRef: e("Info"),
durationMs: 4e3
});
});
}, t.prototype.inviteToParty = function(e, t) {
var n = this;
this.tryAction(function() {
n.partyStoreLoader.get().inviteToParty(e, t);
});
}, t.prototype.togglePrivacy = function() {
var e = this;
this.tryAction(function() {
var t = e.partyStoreLoader.get();
t.updateGroupAttribute(p.GameGroupAttribute.privacy, t.party && t.party.isOpenToEveryone() ? l.PartyPrivacyState.CLOSED : l.PartyPrivacyState.OPEN, function() {});
});
}, t.prototype.joinParty = function(e) {
var t = this;
e && this.tryAction(function() {
t.partyStoreLoader.get().joinParty(e, function(e) {
e && t.setJoiningParty(!0);
});
});
}, t.prototype.canJoinServer = function(e, t, n) {
if (void 0 === n && (n = s.JoinRole.soldier), this.matchmakingManager.sessionInProgress) return !1;
if (t && t.spartaUserId.equals(this.onlineState.sessionUserId)) return !1;
var r = this.gameDataStore.get(e.game), o = r.value && r.value.gameModes.find(function(t) {
return t.filterKey === e.mapMode;
});
if (o && o.type === f.GameModeType.coop) return !1;
if (o && o.type === f.GameModeType.competitive) return !1;
if (o && o.type === f.GameModeType.royale) return !1;
var i = this.gameStateStoreLoader.get();
if (i.isOnPlayableLevel && this.hostingGameId !== e.game) return !1;
if (!this.entitlementStore.hasLoadedGame(e.game)) return !1;
var a = this.entitlementStore.hasOnlineAccess(e.game), u = i.isServerJoiningAllowed(e.gameId), l = t.isJoinable, c = !0;
return n === s.JoinRole.spectator ? c = this.supportsSpectating(e.game) : n === s.JoinRole.commander && (c = e.slots.commander.max > 0), 
a && l && u && c;
}, t.prototype.joinServer = function(e, t, n) {
var r = this;
void 0 === n && (n = s.JoinRole.soldier), this.tryAction(function() {
u.joinFriend(new s.JoinMultiplayerFriendOptions(t, e.game, n, e)), r.isOpened && r.toggle();
});
}, t.prototype.canInviteToServer = function(e) {
if (e.spartaUserId.equals(this.onlineState.sessionUserId)) return !1;
if (this.gameStateStoreLoader.get().isCoop) return !1;
var t = this.onlineState.sessionUser && this.onlineState.sessionUser.presence.server, n = e.presence.server && e.presence.server.gameId, r = !(!n || !t) && n === t.gameId;
return !!t && !r;
}, t.prototype.inviteToServer = function(e) {
u.sendServerInvite(e);
}, r.__decorate([ i.observable ], t.prototype, "isOpened", void 0), r.__decorate([ i.observable ], t.prototype, "isChatVisible", void 0), 
r.__decorate([ i.observable ], t.prototype, "hasUnreadMessages", void 0), r.__decorate([ i.observable ], t.prototype, "isJoiningParty", void 0), 
r.__decorate([ i.observable ], t.prototype, "isWidgetFocusActive", void 0), r.__decorate([ i.action.bound ], t.prototype, "toggle", null), 
r.__decorate([ i.action.bound ], t.prototype, "updateChat", null), r.__decorate([ i.action.bound ], t.prototype, "updateFriendsToParty", null), 
r.__decorate([ i.action.bound ], t.prototype, "setJoiningParty", null), r.__decorate([ i.action ], t.prototype, "setWidgetFocus", null), 
r.__decorate([ i.computed ], t.prototype, "isWidgetDisabled", null), r.__decorate([ i.computed ], t.prototype, "isEnabled", null), 
r.__decorate([ i.computed ], t.prototype, "canOpen", null), r.__decorate([ i.computed ], t.prototype, "partyMembers", null), 
r.__decorate([ i.computed ], t.prototype, "sortedFriends", null), r.__decorate([ i.computed ], t.prototype, "friendsParties", null), 
r.__decorate([ i.computed ], t.prototype, "isInGame", null), r.__decorate([ i.computed ], t.prototype, "isUsingController", null), 
r.__decorate([ i.computed ], t.prototype, "isLoadingToServer", null), r.__decorate([ i.computed ], t.prototype, "showGoOnlineInput", null), 
t;
}();
function h(e, t) {
return Number(t.isLeader) - Number(e.isLeader);
}
function g(e, t) {
return e.displayName.localeCompare(t.displayName);
}
t.SocialState = m, t.comparePartyMembers = h, t.compareUsers = g;
}).call(this, n(2), n(101));
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3), a = n(100), s = n(192), u = n(514), l = n(88), c = n(515), p = n(172), d = n(370), f = n(249), m = n(371), h = n(59), g = e.get("PartyStore");
!function(e) {
e[e.None = 0] = "None", e[e.Creating = 1] = "Creating", e[e.Stable = 2] = "Stable", 
e[e.Leaving = 3] = "Leaving";
}(r = t.PartyState || (t.PartyState = {})), function(e) {
e[e.Default = 0] = "Default", e[e.None = 1] = "None", e[e.Normal = 2] = "Normal", 
e[e.Private = 3] = "Private";
}(t.SpartaPartyPresenceMode || (t.SpartaPartyPresenceMode = {})), function(e) {
e.privacy = "privacy", e.mixId = "mixId";
}(t.GameGroupAttribute || (t.GameGroupAttribute = {}));
var y = function() {
function e(e, t, n, o, i) {
var l = this;
this.onlineState = e, this.userStore = t, this.settingsStore = n, this.buildInfo = o, 
this.popupManager = i, this.createdParty = null, this.state = r.None, this.squadSize = 0, 
this.friendsParties = [], this.hostingGame = null, this.invitationTimeout = -1, 
this.handleCreatePartyResponse = function(e, t) {
t.result === t.SpartaPartyResponseResult_Success ? (l.setState(r.Stable), l.fetchMembers()) : l.disbandParty();
}, this.handleLeavePartyResponse = function(e, t) {
t.result === t.SpartaPartyResponseResult_Success ? l.disbandParty() : l.setState(r.Stable);
}, this.handlePartyMembersResponse = function(e, t) {
var n = t.members;
if (n) {
var o, i, s = l.onlineState.sessionUser ? l.onlineState.sessionUser.id : null, u = new Map(), f = [], m = -1;
if (n.forEach(function(e) {
var t = p.SpartaUserId.getPlatformId(e.spartaUserId);
if (t) {
var n = l.userStore.users.get(t), r = d.parsePartyUser(s, e, n), a = c.PartyJoinState.connected;
e.joinStatus && (a = "Reserved" === e.joinStatus ? c.PartyJoinState.reserved : c.PartyJoinState.connected), 
f.push(r), u.set(t, {
isLeader: e.isLeader,
joinState: a,
hasPremium: e.hasPremium,
isInGame: e.isInGame,
attributes: e.memberAttributes,
originalPartyId: e.originalPartyId,
originalPartyIsLeader: e.originalPartyIsLeader
});
}
if (!o && parseInt(e.partyId, 10) > 0 && (o = e.partyId), !i && parseInt(e.gameGroupId, 10) > 0 && (i = e.gameGroupId), 
e.modMask) {
var h = parseInt(e.modMask, 10);
"number" == typeof h && (m = -1 !== m ? m & h : h);
}
}), l.userStore.updateUsers(f), n.length > 0) {
var h = n.reduce(function(e, t) {
var n = p.SpartaUserId.getPlatformId(t.spartaUserId), r = n ? l.userStore.users.get(n) : null;
if (null != r && !r.isFriend && s !== n) {
var o = parseInt(t.gameGroupId, 10) ? a.UserPresenceStates.Playing : a.UserPresenceStates.Online;
!(r.presence.state === a.UserPresenceStates.Away || r.presence.state === a.UserPresenceStates.Joinable) && r.presence.state !== o && n && e.push({
userId: n,
state: o
});
}
return e;
}, []);
h.length > 0 && l.userStore.updatePresences(h);
var g = l.partyConfig && l.partyConfig.useFirstParty ? o : i, y = l.party || l.makeParty();
g && y.setId(g), i && y.setBlazeGroupId(i), y.setExpansionMask(-1 !== m ? m : 0), 
l.setSquadSize(t.members.length), l.setState(r.Stable), y.updateMembersInfo(u);
} else l.disbandParty();
}
}, this.handleFriendsPartiesResponse = function(e, t) {
var n = [], r = t.gamegroups.map(function(e) {
var t = new m.VoipState(l.settingsStore), r = new u.Party(l.userStore, l.onlineState, t);
r.setMaxSize(e.maxSize);
var o = new Map();
return e.players.map(function(e) {
var t = l.userStore.getByPlatformId(e.platformId);
t || (t = new s.User({
name: e.name,
spartaUserId: p.SpartaUserId.fromPlatformId(e.platformId),
presence: new f.UserPresence({
userId: e.platformId,
state: a.UserPresenceStates.Playing
})
}), n.push(t), l.userStore.updateUsers([ t ])), o.set(e.platformId, {
isLeader: e.isLeader,
joinState: e.isConnected ? c.PartyJoinState.connected : c.PartyJoinState.reserved,
hasPremium: !1
});
}), r.setBlazeGroupId(e.gameGroupId), r.setBlazeGameId("0" !== e.gameSessionId ? e.gameSessionId : void 0), 
r.updateMembersInfo(o), r;
});
l.userStore.updateUsers(n), l.updateFriendsParties(r);
}, this.handleVoipSpeakerUpdate = function(e, t) {
l.party && l.party.voipState.isEnabled && l.party.voipState.onVoipSpeakerStatusChanged(t);
};
}
return e.prototype.initialize = function(e) {
var t = this;
this.setHostingGame(e), h.frostbite.registerMessageListener("sparta.partyUpdatedResp", l.debounce(function(e, n) {
t.handlePartyUpdated(e, n);
}, 100)), h.frostbite.registerMessageListener("sparta.partyCreateResp", this.handleCreatePartyResponse), 
h.frostbite.registerMessageListener("sparta.partyLeavePartyResp", this.handleLeavePartyResponse), 
h.frostbite.registerMessageListener("sparta.partyGetPartyMembersResp", this.handlePartyMembersResponse), 
h.frostbite.registerMessageListener("sparta.getFriendsPartiesResp", this.handleFriendsPartiesResponse), 
h.frostbite.registerMessageListener("sparta.partySendInvitesResp", function(e, n) {
t.handleSendInvitesResponse(e, n);
}), h.frostbite.registerMessageListener("sparta.partyJoinPartyResp", function(e, n) {
t.handleJoinPartyResponse(n);
});
}, Object.defineProperty(e.prototype, "isCompetitiveParty", {
get: function() {
return !1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPartyDisabled", {
get: function() {
return !1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "party", {
get: function() {
return this.createdParty && this.createdParty.isValid ? this.createdParty : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "partyConfig", {
get: function() {
return this.hostingGame ? this.hostingGame.partyConfig : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "maxPartySize", {
get: function() {
return this.party && 0 !== this.party.maxSize ? this.party.maxSize : this.partyConfig ? this.partyConfig.maxPartySize : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPartyLeader", {
get: function() {
var e = this.party && this.party.leader;
return !(!e || !this.onlineState.sessionUser) && e.spartaUserId.equals(this.onlineState.sessionUser.spartaUserId);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canGroupJoin", {
get: function() {
return this.canSquadJoin ? this.isInSquadJoin : !!this.party && this.membersReady.length > 1 && this.isPartyLeader;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "membersReady", {
get: function() {
return this._membersReady();
},
enumerable: !0,
configurable: !0
}), e.prototype._membersReady = function() {
return this.party ? this.party.playingMembers : [];
}, e.prototype.getJoiningPartyOptions = function() {
if (this.party && this.party.blazeGroupId && this.canGroupJoin) return {
blazeGroupId: this.party.blazeGroupId,
members: this.membersReady
};
}, Object.defineProperty(e.prototype, "canCreateParty", {
get: function() {
return !this.isPartyDisabled && this.state === r.None;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canLeaveParty", {
get: function() {
return this._canLeaveParty();
},
enumerable: !0,
configurable: !0
}), e.prototype._canLeaveParty = function() {
return !!this.party && (!(this.partyConfig && this.partyConfig.useFirstParty && this.buildInfo.isXboxOne && 1 === this.party.size) && this.state === r.Stable);
}, Object.defineProperty(e.prototype, "canSquadJoin", {
get: function() {
return null !== this.gotoSquadJoin;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "gotoSquadJoin", {
get: function() {
return this.partyConfig && this.partyConfig.squadJoin ? this.partyConfig.squadJoin : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canStartMPSession", {
get: function() {
return !!this.canSquadJoin || (!this.party || (this.party && !this.party.leader ? (g.warn("Unexpected situation - You are in a party without a party leader"), 
!0) : this.isPartyLeader));
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "playingFriendsParties", {
get: function() {
return this.friendsParties.filter(function(e) {
return e.members.find(function(e) {
return e.user.isFriend && e.user.isJoinable;
});
});
},
enumerable: !0,
configurable: !0
}), e.prototype.setState = function(e) {
this.state = e;
}, e.prototype.setParty = function(e) {
this.createdParty = e;
}, e.prototype.setSquadSize = function(e) {
this.squadSize = e;
}, e.prototype.makeParty = function() {
var e = new m.VoipState(this.settingsStore), t = new u.Party(this.userStore, this.onlineState, e);
return t.setMaxSize(this.maxPartySize), this.setParty(t), t;
}, e.prototype.leaveParty = function() {
this.canLeaveParty && (this.setState(r.Leaving), h.frostbite.sendMessage("sparta.partyLeaveParty"));
}, e.prototype.createParty = function(e, t) {
void 0 === e && (e = !1), void 0 === t && (t = !1), (this.canCreateParty || t) && (this.setState(r.Creating), 
h.frostbite.sendMessage("sparta.partyCreate"));
}, e.prototype.waitForCreation = function() {
var e = this;
return new Promise(function(t, n) {
e.party ? t() : e.canCreateParty ? (i.when(function() {
return !!e.party;
}, t), e.createParty(!0)) : n(new Error("Impossible to create a party"));
});
}, e.prototype.inviteToParty = function(e, t) {
var n = this, r = e.spartaUserId.getPlatformId();
if (r) {
if (this.party && this.party.hasInvitationForUser(r)) return void t(!1);
this.waitForCreation().then(function() {
var i = n.party;
i ? (i.invitations.set(r, new u.PartyInvite(e.spartaUserId)), i.invitationTimeouts[r] = setTimeout(function() {
return i.expireInvitationForUser(r);
}, 5e3), h.frostbite.sendMessage("sparta.partySendInvites", {
users: [ o.__assign({}, e.spartaUserId) ]
}), t(!0)) : t(!1);
}).catch(function(e) {
g.warn("PartyStore - " + e.message), t(!1);
});
} else t(!1);
}, e.prototype.updateGroupAttribute = function(e, t, n) {
var r = !1;
this.party && (h.frostbite.sendMessage("sparta.partySetGamegroupAttribute", {
partyId: this.party.id,
attribute: e,
value: t
}), r = !0), n && n(r);
}, e.prototype.updateMemberAttribute = function(e, t, n, r) {
var o = !1;
this.party && this.party.memberSelf && (h.frostbite.sendMessage("sparta.partySetGamegroupMemberAttribute", {
partyId: this.party.id,
userId: e.user.spartaUserId,
attribute: t,
value: n
}), o = !0), r && r(o);
}, e.prototype.fetchPartyInfo = function() {
h.frostbite.sendMessage("sparta.partyGetUpdate");
}, e.prototype.fetchMembers = function() {
h.frostbite.sendMessage("sparta.partyGetPartyMembers");
}, e.prototype.canKick = function(e) {
return !!this.isPartyLeader;
}, e.prototype.kick = function(e) {
h.frostbite.sendMessage("sparta.kickFromParty", {
platformId: e
});
}, e.prototype.canPromote = function(e) {
return !!this.isPartyLeader;
}, e.prototype.promoteToLeader = function(e) {
h.frostbite.sendMessage("sparta.promoteToPartyLeader", {
platformId: e
});
}, e.prototype.togglePlayAgain = function() {
var e = this;
if (this.party && this.party.memberSelf) {
var t = this.party.memberSelf.getAttribute("PlayAgain"), n = this.party.memberSelf.originalPartyId;
this.party.members.forEach(function(r) {
r.originalPartyId === n && e.updateMemberAttribute(r, "PlayAgain", t && "true" === t.value ? "false" : "true");
});
}
}, e.prototype.toggleMute = function(e, t, n) {
this.party && this.party.voipState.isEnabled && h.frostbite.sendMessage("sparta.voipToggleMutePlayer", {
mute: e,
personaId: t,
displayName: n
});
}, e.prototype.toggleMuteAll = function(e) {
this.party && this.party.voipState.isEnabled && h.frostbite.sendMessage("sparta.voipToggleMuteAllPlayers", {
mute: e
});
}, e.prototype.requestVoipUpdate = function() {
this.party && this.party.voipState.isEnabled && h.frostbite.sendMessage("sparta.voipGetState");
}, e.prototype.setHostingGame = function(e) {
this.hostingGame = e;
}, e.prototype.setInSquadJoin = function(e) {
this.isInSquadJoin = e;
}, e.prototype.canInviteUserToParty = function(e) {
return !this.canSquadJoin && (!this.isPartyDisabled && ((!this.party || 0 !== this.party.openSlots) && (!e || !(e.presence.state === a.UserPresenceStates.Offline || this.party && (this.party.isFull || this.party.hasMember(e.spartaUserId) || this.party.hasInvitationForUser(e.spartaUserId.getPlatformId()))))));
}, e.prototype.subscribeFriendPartyUpdates = function() {
h.frostbite.sendMessage("sparta.subscribeFriendPartyUpdates");
}, e.prototype.unsubscribeFriendPartyUpdates = function() {
h.frostbite.sendMessage("sparta.unsubscribeFriendPartyUpdates");
}, e.prototype.fetchFriendsParties = function() {
h.frostbite.sendMessage("sparta.getFriendsParties");
}, e.prototype.updateFriendsParties = function(e) {
this.friendsParties = e;
}, e.prototype.joinParty = function(e, t) {
e ? (h.frostbite.sendMessage("sparta.joinParty", {
partyId: e
}), t(!0)) : t(!1);
}, e.prototype.disbandParty = function() {
this.setParty(null), this.setState(r.None);
}, e.prototype.handlePartyUpdated = function(e, t) {
this.party && this.party.id === t.partyId || this.makeParty().setId(t.partyId);
this.party && this.party.id === t.partyId && this.party.setBlazeGameId("0" !== t.gameId ? t.gameId : void 0), 
this.fetchMembers();
}, e.prototype.handleSendInvitesResponse = function(e, t) {
t.result !== t.SpartaPartyResponseResult_Success && g.warn("One or multiple party invites didn't succeed - error number - ", t.result);
}, e.prototype.handleJoinPartyResponse = function(e) {
var t = null;
switch (e.result) {
case e.SpartaPartyResponseResult_Cancelled:
t = __("ID_SPARTA_USER_PARTY_INVITE_CANCELLED");
break;

case e.SpartaPartyResponseResult_Failure:
t = __("ID_SPARTA_USER_PARTY_FAILURE_GENERIC_PC"), this.buildInfo.isPS4 ? t = __("ID_SPARTA_USER_PARTY_FAILURE_GENERIC_PS4") : this.buildInfo.isXboxOne && (t = __("ID_SPARTA_USER_PARTY_FAILURE_GENERIC_XB1"));
break;

case e.SpartaPartyResponseResult_FailureNoParty:
t = __("ID_SPARTA_USER_PARTY_NO_PARTY_AVAILABLE_PC"), this.buildInfo.isPS4 ? t = __("ID_SPARTA_USER_PARTY_NO_PARTY_AVAILABLE_PS4") : this.buildInfo.isXboxOne && (t = __("ID_SPARTA_USER_PARTY_NO_PARTY_AVAILABLE_XB1"));
break;

case e.SpartaPartyResponseResult_FailureNoMpPrivilege:
t = __("ID_SPARTA_USER_PARTY_NO_MULTIPLAYER_PRIVILEGE");
break;

case e.SpartaPartyResponseResult_FailurePartyIsFull:
t = __("ID_SPARTA_USER_PARTY_FULL_PARTY_PC"), this.buildInfo.isPS4 ? t = __("ID_SPARTA_USER_PARTY_FULL_PARTY_PS4") : this.buildInfo.isXboxOne && (t = __("ID_SPARTA_USER_PARTY_FULL_PARTY_XB1"));
break;

case e.SpartaPartyResponseResult_Unknown:
t = __("ID_SPARTA_USER_PARTY_UNKNOWN_ERROR");
}
t && this.popupManager.alert(t, __("ID_SPARTA_USER_PARTY_FAILED_TO_JOIN"));
}, o.__decorate([ i.observable ], e.prototype, "createdParty", void 0), o.__decorate([ i.observable ], e.prototype, "state", void 0), 
o.__decorate([ i.observable ], e.prototype, "isInSquadJoin", void 0), o.__decorate([ i.observable ], e.prototype, "squadSize", void 0), 
o.__decorate([ i.observable ], e.prototype, "friendsParties", void 0), o.__decorate([ i.observable ], e.prototype, "hostingGame", void 0), 
o.__decorate([ i.computed ], e.prototype, "party", null), o.__decorate([ i.computed ], e.prototype, "partyConfig", null), 
o.__decorate([ i.computed ], e.prototype, "maxPartySize", null), o.__decorate([ i.computed ], e.prototype, "isPartyLeader", null), 
o.__decorate([ i.computed ], e.prototype, "canGroupJoin", null), o.__decorate([ i.computed ], e.prototype, "membersReady", null), 
o.__decorate([ i.computed ], e.prototype, "canCreateParty", null), o.__decorate([ i.computed ], e.prototype, "canLeaveParty", null), 
o.__decorate([ i.computed ], e.prototype, "canSquadJoin", null), o.__decorate([ i.computed ], e.prototype, "gotoSquadJoin", null), 
o.__decorate([ i.computed ], e.prototype, "canStartMPSession", null), o.__decorate([ i.computed ], e.prototype, "playingFriendsParties", null), 
o.__decorate([ i.action ], e.prototype, "setState", null), o.__decorate([ i.action ], e.prototype, "setParty", null), 
o.__decorate([ i.action ], e.prototype, "setSquadSize", null), o.__decorate([ i.action ], e.prototype, "makeParty", null), 
o.__decorate([ i.action ], e.prototype, "setHostingGame", null), o.__decorate([ i.action ], e.prototype, "setInSquadJoin", null), 
o.__decorate([ i.action ], e.prototype, "updateFriendsParties", null), o.__decorate([ i.action ], e.prototype, "disbandParty", null), 
e;
}();
t.PartyStore = y;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(249), o = n(100), i = n(192), a = n(172), s = n(516), u = {
ONLINE: o.UserPresenceStates.Online,
OFFLINE: o.UserPresenceStates.Offline,
IDLE: o.UserPresenceStates.Away,
INGAME: o.UserPresenceStates.Playing,
JOINABLE: o.UserPresenceStates.Joinable
};
t.parsePartyUser = function l(e, t, n) {
var r = n ? a.SpartaUserId.update(n.spartaUserId, t.spartaUserId) : new a.SpartaUserId(t.spartaUserId), o = n || new i.User();
return e && o.id && o.id === e ? o : o.extend({
name: o.name || t.name || r.personaName,
avatarUrl: s.formatAvatarUrl(t.profileImageUrl),
spartaUserId: r
});
}, t.parsePlatformUser = function c(e, t) {
var n = t ? a.SpartaUserId.update(t.spartaUserId, e.spartaUserId) : new a.SpartaUserId(e.spartaUserId);
return (t || new i.User()).extend({
spartaUserId: n,
displayName: e.Persona,
name: e.Persona,
friendState: e.State,
presence: function s(e, t, n) {
if (!e.Presence && n) return n;
var i = e.Presence ? u[e.Presence] : o.UserPresenceStates.Offline, a = i, s = n && n.server;
a !== o.UserPresenceStates.Offline && s && (a = o.UserPresenceStates.Joinable);
var l = "string" == typeof e.RichPresence && e.RichPresence.endsWith("???") ? "" : e.RichPresence;
return new r.UserPresence({
userId: t.getPlatformId() || void 0,
state: a,
firstPartyState: i,
text: l,
server: s
});
}(e, n, t ? t.presence : void 0)
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3);
!function(e) {
e[e.Muted = 0] = "Muted", e[e.Disabled = 1] = "Disabled", e[e.Silent = 2] = "Silent", 
e[e.Speaking = 3] = "Speaking";
}(r = t.SpeakingStatus || (t.SpeakingStatus = {}));
var a = function() {
function e(e) {
this.onlineId = e, this.status = r.Silent;
}
return e.prototype.update = function(e) {
this.speakerId = e.speakerId, this.status = e.status;
}, o.__decorate([ i.observable ], e.prototype, "speakerId", void 0), o.__decorate([ i.observable ], e.prototype, "status", void 0), 
o.__decorate([ i.action ], e.prototype, "update", null), e;
}();
t.VoipPlayer = a;
var s = function() {
function e(e) {
this.settingsStore = e, this.voipPlayers = i.observable.map();
}
return Object.defineProperty(e.prototype, "isEnabled", {
get: function() {
return this.settingsStore.isVoipEnabled;
},
enumerable: !0,
configurable: !0
}), e.prototype.getPlayer = function(e) {
return this.voipPlayers.get(e);
}, e.prototype.addPlayer = function(e) {
var t = new a(e);
return this.voipPlayers.set(e, t), t;
}, e.prototype.onVoipSpeakerStatusChanged = function(e) {
var t = this;
e && e.speakerChanges && e.speakerChanges.forEach(function(e) {
var n = e.onlineId.indexOf("]"), r = n > -1 ? e.onlineId.substring(n + 1) : e.onlineId;
t.getOrCreatePlayer(r).update(e);
});
}, e.prototype.getOrCreatePlayer = function(e) {
var t = this.voipPlayers.get(e);
return t || this.addPlayer(e);
}, o.__decorate([ i.computed ], e.prototype, "isEnabled", null), o.__decorate([ i.action ], e.prototype, "addPlayer", null), 
o.__decorate([ i.action ], e.prototype, "onVoipSpeakerStatusChanged", null), e;
}();
t.VoipState = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(40), o = n(52);
var i = 0;
function a() {
return i += .618033988749895, function e(t, n, r) {
var o = Math.round(6 * t), i = 6 * t - o, a = r * (1 - n), s = r * (1 - i * n), u = r * (1 - (1 - i) * n), l = 255, c = 0, p = 255;
switch (o) {
case 0:
l = r, c = u, p = a;
break;

case 1:
l = s, c = r, p = a;
break;

case 2:
l = a, c = r, p = u;
break;

case 3:
l = a, c = r, p = s;
break;

case 4:
l = u, c = a, p = r;
break;

case 5:
l = r, c = a, p = s;
}
return [ Math.round(256 * l), Math.round(256 * c), Math.round(256 * p), 255 ];
}(i %= 1, .5, .95);
}
var s = {};
function u() {
return void 0 === t.enabled && (t.enabled = !r.getBuildInfo().isEndUserBuild() && r.getBuildInfo().isFunctionSupported("addTimingEvent")), 
t.enabled ? o.nativeApi.getPerfCounter() : "0";
}
function l(e, n, r) {
return t.enabled ? (r || (r = s[e] || (s[e] = a())), o.nativeApi.addTimingEvent("twJs-" + e, n, r)) : "0";
}
t.start = u, t.end = l, t.wrap = function c(e, t, n) {
var r = u();
try {
return e();
} finally {
l(t, r, n);
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
for (var r = [], o = 0; o < 256; o++) r[o] = (o < 16 ? "0" : "") + o.toString(16);
t.createUUID = function i() {
var e = 4294967296 * Math.random() >>> 0, t = 4294967296 * Math.random() >>> 0, n = 4294967296 * Math.random() >>> 0, o = 4294967296 * Math.random() >>> 0;
return r[255 & e] + r[e >> 8 & 255] + r[e >> 16 & 255] + r[e >> 24 & 255] + "-" + r[255 & t] + r[t >> 8 & 255] + "-" + r[t >> 16 & 15 | 64] + r[t >> 24 & 255] + "-" + r[63 & n | 128] + r[n >> 8 & 255] + "-" + r[n >> 16 & 255] + r[n >> 24 & 255] + r[255 & o] + r[o >> 8 & 255] + r[o >> 16 & 255] + r[o >> 24 & 255];
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.isArticleRecommendation = function r(e) {
return "article" === e.recommendationType;
}, t.isVideoRecommendation = function o(e) {
return "video" === e.recommendationType;
}, t.isFilterRecommendation = function i(e) {
return "filter" === e.recommendationType;
}, t.isRouteRecommendation = function a(e) {
return "route" === e.recommendationType;
}, t.isOperationsCampaignRecommendation = function s(e) {
return "operations_campaign" === e.recommendationType;
}, t.isServerRecommendation = function u(e) {
return "server" === e.recommendationType;
}, t.isPremiumRecommendation = function l(e) {
return "premium" === e.recommendationType;
}, t.isPlatoonRecommendation = function c(e) {
return "join_platoon" === e.recommendationType;
}, t.isScrapExchangeRecommendation = function p(e) {
return "scrap_exchange" === e.recommendationType;
}, t.isBattlepackUpdateRecommendation = function d(e) {
return "battlepack_update" === e.recommendationType;
}, t.isSinglePlayerRecommendation = function f(e) {
return "continue" === e.recommendationType;
}, t.isUnlockRecommendation = function m(e) {
return "unlock" === e.recommendationType;
}, t.isSpendWarbondsRecommendation = function h(e) {
return "spend_warbonds" === e.recommendationType;
}, t.isPartyRecommendation = function g(e) {
return "party" === e.recommendationType;
}, t.isFriendsRecommendation = function y(e) {
return "friends" === e.recommendationType;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110);
t.recommendationsFeatureFlags = r.featureFlags.register({
previewRecommendations: new r.FeatureFlag({})
});
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(298), a = {
debug: !1
}, s = function() {
function t(t, n, r, o) {
void 0 === o && (o = {}), this.debugName = t, this.initialStateId = n, this.states = r, 
this.isRunning = !1, this.isPaused = !1, this.failureReason = null, this.options = {}, 
this.stateChangeEvent = new i.EventGenerator("StateMachine.onStateChange"), this.afterLeaveEvent = new i.ScopedEventGenerator("StateMachine.onAfterLeave"), 
this.beforeEnterEvent = new i.ScopedEventGenerator("StateMachine.onBeforeEnter"), 
Object.assign(this.options, a, o), this.logger = e.get("SM<" + this.debugName + ">");
}
return t.prototype.pause = function(e) {
this.isPaused = e, this.logger.debug("paused:", e);
}, t.prototype.onStateChange = function(e) {
return this.stateChangeEvent.listen(e);
}, t.prototype.onAfterLeave = function(e, t) {
return this.afterLeaveEvent.listen(e, t);
}, t.prototype.onBeforeEnter = function(e, t) {
return this.beforeEnterEvent.listen(e, t);
}, t.prototype.start = function() {
this.failureReason = null, this.isRunning = !0;
var e = this.getState(this.initialStateId);
if (!e) return this.break("Bad start: illegal state " + this.initialStateId);
this.setState(e);
}, t.prototype.stop = function() {
this.logger.debug("stopped!"), this.isRunning = !1, this.stateChangeEvent.dispose(), 
this.beforeEnterEvent.dispose(), this.afterLeaveEvent.dispose();
}, t.prototype.break = function(e) {
this.stop(), this.failureReason = e, this.logger.error(this.failureReason);
}, t.prototype.getState = function(e) {
return this.states.find(function(t) {
return t.id === e;
});
}, t.prototype.setState = function(e) {
var t = this.currentState;
t && t.onLeave && t.onLeave(t, e), t && (this.previousStateId = t.id, this.afterLeaveEvent.trigger(t.id, function() {
return {
stateId: t.id
};
})), this.beforeEnterEvent.trigger(e.id, function() {
return {
stateId: e.id,
previousStateId: t && t.id
};
}), this.currentState = e, this.currentStateId = e.id, this.options.debug && (t ? this.logger.debug("transitioned:", t.id, "->", e.id) : this.logger.debug("started on:", e.id)), 
this.currentState.onEnter && this.currentState.onEnter(t, e), this.stateChangeEvent.trigger(function() {
return {
stateId: e.id,
previousStateId: t && t.id
};
}), 0 === this.currentState.transitions.length && (this.afterLeaveEvent.trigger(e.id, function() {
return {
stateId: e.id
};
}), this.stop());
}, t.prototype.transitionTo = function(e, t) {
var n = this;
o.when(function() {
return !n.isPaused;
}, function() {
if (!n.isRunning) return n.break("Not running: can't transition to " + e + " from " + n.currentStateId);
var r = n.getState(e);
return r ? !t || t(n.currentState, r) ? n.currentState.transitions.indexOf(e) < 0 ? n.break("Illegal transition: from " + n.currentStateId + " to " + e) : r.requirement && !r.requirement(n.currentState, r) ? n.break("Failed requirement: from " + n.currentStateId + " to " + e) : void n.setState(r) : void (n.options.debug && n.logger.debug("Failed predicate: from", n.currentStateId, "to", e)) : n.break("Invalid state: " + e);
});
}, r.__decorate([ o.observable ], t.prototype, "currentStateId", void 0), r.__decorate([ o.observable ], t.prototype, "previousStateId", void 0), 
r.__decorate([ o.observable ], t.prototype, "isRunning", void 0), r.__decorate([ o.observable ], t.prototype, "isPaused", void 0), 
r.__decorate([ o.action ], t.prototype, "pause", null), r.__decorate([ o.action ], t.prototype, "start", null), 
r.__decorate([ o.action ], t.prototype, "stop", null), r.__decorate([ o.action ], t.prototype, "setState", null), 
t;
}();
t.StateMachine = s;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.unexhaustiveSwitch = function r(e) {
return new Error(e + " was never handled");
}, t.getXpackNumber = function o(e) {
if ("string" == typeof e) {
var t = e.toLowerCase(), n = null;
return !t.startsWith("xp") || 3 !== t.length && 4 !== t.length ? !t.startsWith("xpack") || 6 !== t.length && 7 !== t.length || (n = Number(t.substr(5))) : n = Number(t.substr(2)), 
null !== n && Number.isFinite(n) ? n : void 0;
}
}, t.mapValues = function i(e, t) {
var n = {};
return Object.keys(e).forEach(function(r) {
n[r] = t.call(void 0, e[r]);
}), n;
}, t.mapKeys = function a(e, t) {
var n = {};
return Object.keys(e).forEach(function(r) {
n[t.call(void 0, r)] = e[r];
}), n;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e() {}
return e.prototype.onLoad = function(e) {
var t = this;
return o.when(function() {
return !!t.store;
}, function() {
t.store && e(t.store);
});
}, e.prototype.setStore = function(e) {
this.store = e;
}, e.prototype.get = function() {
if (!this.store) throw new Error("Cannot get " + this.name + " until modules are loaded, please use onLoad instead");
return this.store;
}, e.prototype.map = function(e) {
if (this.store) return e(this.store);
}, e.prototype.mapOrDefault = function(e, t) {
return this.store ? e(this.store) : t;
}, r.__decorate([ o.observable.ref ], e.prototype, "store", void 0), r.__decorate([ o.action ], e.prototype, "setStore", null), 
e;
}();
t.StoreLoader = i;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(931), r = n(522), o = n(380), i = n(36), a = n(111), s = n(9), u = n(47), l = function() {
function t(e, t, n) {
this.entitlementStore = e, this.gameStore = t, this.nativePropertiesStore = n;
}
return Object.defineProperty(t.prototype, "setting", {
get: function() {
return r.gameFeatureFlags.fullCrossLaunch.isEnabled() ? t.SettingOptions.Full : t.SettingOptions.None;
},
enumerable: !0,
configurable: !0
}), t.prototype.continueCrosslaunch = function(e, n) {
switch (void 0 === n && (n = {}), this.setting) {
case t.SettingOptions.Full:
this.countdownThenLaunch(e, n);
break;

case t.SettingOptions.None:
a.showNotInHostingGame("Crosslaunch", "MP:Continue");
}
}, t.prototype.ownsGame = function(e) {
return !!s.SpartaGlobals.bundleIsConsole || this.entitlementStore.ownsGame(e);
}, t.prototype.countdownThenLaunch = function(t, n) {
var r = this.gameStore.getGame(t);
r && o.countdownThenLaunchGame(r, new e.CrossLaunchOptions({
gameId: t,
params: n
}));
}, t.prototype.handleFailure = function(e, t) {
i.trackEvent("CrossLaunch", "Fail", t);
var n = __("ID_SPARTA_CROSSLAUNCH_FAILED_MESSAGE").replace("[[game]]", e.displayName()), r = __("ID_SPARTA_CROSSLAUNCH_FAILED_TITLE").replace("[[game]]", e.displayName());
u.PopupManager.standardAlert(n, r);
}, t.SettingOptions = {
Full: "fullCrosslaunch",
None: "none"
}, t;
}();
t.CrosslaunchManager = l;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.launchGame = r.createTypedAction(), t.countdownThenLaunchGame = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(171), o = n(5);
t.ColorContext = r.createContext("ColorStyle", o.emptyStyle);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(84);
t.getDisplayName = function e(t) {
if (!t) {
if (r.options.enableDevWarnings) throw new Error("Invalid component passed to getDisplayName");
return typeof t;
}
var n = t._reactInternalFiber;
if (n) return e(n.type);
if (t.displayName) return t.displayName;
if (t.name) return t.name;
if (t.prototype) return e(t.prototype);
if (t.__proto__) return e(t.__proto__);
if (r.options.enableDevWarnings) throw new Error("Cannot figure out the name of " + t);
return "unknown";
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("PopupStyles"), a = function() {
function e() {}
return e.showCloseButton = o.value(function() {
return o.Constants.isPC;
}, "0b068258:16:29"), e.titleTextType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "0b068258:18:27"), e.messageTextType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "0b068258:19:29"), e.titleTextSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.M : o.Constants.TextSize.L;
}, "0b068258:21:27"), e.messageTextSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.S : o.Constants.TextSize.M;
}, "0b068258:22:29"), e.buttonTextSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.S : o.Constants.TextSize.M;
}, "0b068258:23:28"), e.container = i.wrap(function() {
return o.style({
flex: 1,
justifyContent: "center",
alignItems: "center"
}, "0b068258:25:23");
}), e.header = i.wrap(function() {
return o.style({
marginBottom: 2 * o.Grid.GUTTER
}, "0b068258:31:20");
}), e.spinner = i.wrap(function() {
return o.style({
marginBottom: 2 * o.Grid.GUTTER
}, "0b068258:35:21");
}), e.message = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(10),
textAlign: "center",
textAlignForRTL: "center",
flex: 1,
textLineSpacing: o.Constants.isPC ? 36 : 40,
marginTop: o.Grid.getHeight(1),
marginBottom: o.Grid.getHeight(3),
opacity: .6
}, "0b068258:39:21");
}), e.subMessage = i.wrap(function() {
return o.style({
color: "#cccccc",
marginTop: o.Grid.getHeight(2)
}, "0b068258:50:24");
}), e.image = i.wrap(function() {
return o.style({
textureMode: "contain",
height: o.Grid.getHeight(36),
width: o.Grid.getWidth(36),
marginBottom: 4 * o.Grid.GUTTER
}, "0b068258:55:19");
}), e.input = i.wrap(function() {
return o.style({
zOffset: 2,
marginTop: o.Grid.GUTTER,
width: o.Grid.getWidth(8.5),
height: o.Grid.getHeight(6),
marginBottom: o.Grid.GUTTER
}, "0b068258:62:19");
}), e.promptButtonContainer = i.wrap(function() {
return o.style({
flexDirection: "column",
width: o.Grid.getWidth(6),
alignSelf: "center",
marginTop: 2 * o.Grid.GUTTER
}, "0b068258:70:35");
}), e.button = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(2.5),
marginBottom: o.Grid.spacer(1),
marginLeft: o.Grid.spacer(.5),
marginRight: o.Grid.spacer(.5)
}, "0b068258:77:20");
}), e.promptButton = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(6),
marginBottom: o.Grid.spacer(1)
}, "0b068258:84:26");
}), e = r.__decorate([ i.style ], e);
}();
t.PopupStyles = a;
var s = function() {
function e() {}
return e.container = o.stylefunc(function() {
return o.style({
width: o.LayoutBounds.screen.style.width,
height: o.LayoutBounds.screen.style.height,
backgroundColor: "#000000",
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
textureMode: "contain",
paddingLeft: o.LayoutBounds.dangerZoneSize.width,
paddingRight: o.LayoutBounds.dangerZoneSize.width,
paddingTop: o.LayoutBounds.dangerZoneSize.height
}, "0b068258:93:14");
}, function(e) {
return o.dynamicStyle({
video: e.videoId
}, "0b068258:108:38");
}), e.header = i.wrap(function() {
return o.style({
zOffset: 11
}, "0b068258:114:20");
}), e = r.__decorate([ i.style ], e);
}();
t.FullScreenVideoStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(943), o = function() {
function e(e) {
var t = this;
this.gameStats = {}, e && (this.props = e, this.emblem = e.emblem, this.stats = new r.Stats(e.stats), 
this.gameStats = {}, e.gameStats && Object.keys(e.gameStats).forEach(function(n) {
t.gameStats[n] = new r.Stats(e.gameStats[n]);
}));
}
return e.prototype.copyWithUpdatedData = function(t) {
var n = new e(this.props);
return t.stats && (n.stats = new r.Stats(t.stats)), t.gameStats && Object.keys(t.gameStats).forEach(function(e) {
t.gameStats && (n.gameStats[e] = new r.Stats(t.gameStats[e]));
}), n;
}, e;
}();
t.Career = o;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(523), r = function() {
return function t(n) {
n = n || {}, this.number = n.number || 0, this.name = n.name || __("ID_SPARTA_CAREER_RANK") + " " + this.number, 
this.imageUrl = "" === n.imageUrl ? void 0 : n.imageUrl, this.progress = new e.Progress(n.progress);
};
}();
t.Rank = r;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(36);
t.trackRSPEvent = function o(e, t, n) {
r.trackEvent("RSP", e, t, n);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(255), o = n(386), i = n(35), a = n(177), s = n(24), u = n(10), l = {
requestPerformer: s.request
}, c = {
requestPerformer: s.firstPartyRequest
}, p = function() {
return u.presenceStateStore.isReady;
};
t.getServerDetailsClient = new i.Client("RSP.getServerDetails", l), t.updateServerClient = new i.Client("RSP.updateServer", l), 
t.updateServerClient.addRequirement(p), t.updateServerClient.addResultHandler(function(e) {
e.onSuccess(function() {
o.trackRSPEvent("UpdateServer", "Success");
}), e.onError(function() {
o.trackRSPEvent("UpdateServer", "Failure");
});
}), t.getPingSitesClient = new i.Client("RSP.getPingSites", l), t.getPingSitesClient.addRequirement(p), 
t.getResumablePurchasesClient = new i.Client("Inventory.getPurchases", c), t.getResumablePurchasesClient.addRequirement(p), 
t.getResumablePurchasesClient.addResultHandler(function(e) {
e.onSuccess(function(e) {
var t = e.purchases.length;
t > 0 && o.trackRSPEvent("ResumablePurchases", String(t));
});
}), t.completePendingPurchaseClient = new i.Client("Inventory.completePurchase", c), 
t.completePendingPurchaseClient.addRequirement(p), t.completePendingPurchaseClient.addResultHandler(function(e) {
e.onSuccess(function() {
o.trackRSPEvent("CompletePendingPurchase", "Success");
}), e.onError(function() {
o.trackRSPEvent("CompletePendingPurchase", "Failure");
});
}), t.getTemplateClient = new i.Client("RSP.getTemplate", l), t.getTemplateClient.addRequirement(p), 
t.getTemplateClient.addResultHandler(function(e) {
e.onSuccess(function() {
var t = e.request, n = e.response;
if (n && t) {
var o = n.templates.find(function(e) {
return "default" === e.name;
});
if (o) {
var i = (o.gameModeList || []).map(function(e) {
var t = e.gameModeShortName, n = e.gameModeName, r = e.gameModeNameVariation, o = e.playerCount;
return {
gameModeShortName: t || "",
gameModeName: n || "",
gameModeNameVariation: r || "",
playerCount: parseInt(o || "0", 10)
};
}), s = [];
(o.levelList || []).forEach(function(e) {
if (e && e.levelName) {
var t = [];
(e.gameModes || []).forEach(function(e) {
var n = i.find(function(t) {
return t.gameModeNameVariation === e;
});
n && t.push(n.gameModeShortName);
}), s.push({
levelName: e.levelName,
gameModes: t
});
}
});
var u = (o.maskTemplateList || []).map(function(e) {
var t = e.maskName, n = e.maskEntries;
return {
maskName: t || "",
entries: n || []
};
}), l = new r.RSPTemplate(s, i, u);
a.updateRSPTemplate(t.params.game, l);
}
}
});
}), t.getPlatoonClient = new i.Client("Platoons.getPlatoonForRspServer", l), t.getPlatoonClient.addRequirement(p), 
t.getPlatoonClient.addResultHandler(function(e) {
e.onSuccess(function() {
o.trackRSPEvent("GetPlatoonForRspServer", "Success");
}), e.onError(function() {
o.trackRSPEvent("GetPlatoonForRspServer", "Failure");
});
}), t.associatePlatoonClient = new i.Client("Platoons.associateRspServer", l), t.associatePlatoonClient.addRequirement(p), 
t.associatePlatoonClient.addResultHandler(function(e) {
e.onSuccess(function() {
o.trackRSPEvent("AssociatePlatoon", "Success");
}), e.onError(function() {
o.trackRSPEvent("AssociatePlatoon", "Failure");
});
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.sequentialEach = function r(e, t, n) {
var r = e.slice(), o = function() {
if (r.length) {
var e = r.shift();
t(e, o);
} else n && n();
};
o();
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.setPingSites = r.createTypedAction(), t.updatePingSites = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3);
t.whenDefined = function o(e, t) {
return r.autorun(function(n) {
var o = e();
o && (n.dispose(), r.untracked(function() {
return t(o);
}));
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(175), a = n(135), s = n(9), u = i.frostbiteListenable("sparta.orbis.isStoreAvailableResponse"), l = a.frostbiteAction("sparta.orbis.isStoreAvailable"), c = "whatever", p = function(e) {
function t() {
var t = e.call(this) || this;
t.fragmentTtl = 6e4;
var n = t.getFragment(c);
return s.SpartaGlobals.bundleIsPS4 ? (t.unsub = u.listen(function(e) {
e.available ? n.setValue(!0) : n.setFailstate(new Error("PS4 Store unavailable"));
}), l()) : n.setValue(!0), t;
}
return r.__extends(t, e), t.prototype.fetch = function(e) {
s.SpartaGlobals.bundleIsPS4 ? (e.setLoading(), l()) : e.setValue(!0);
}, t.prototype.get = function() {
return this.getOrFetchFragment(c);
}, t;
}(o.FragmentStore);
t.storeAvailabilityStore = new p();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.SortKeys = {
NAME: "name",
PING: "ping",
PLAYERS: "players",
NONE: "none"
}, function(e) {
e.ASC = "asc", e.DESC = "desc", e.NONE = "none";
}(t.SortDirection || (t.SortDirection = {}));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(27), o = n(52), i = 1, a = function() {
function e() {
this.callbacks = {};
}
return e.prototype.add = function(e) {
var t = i++;
return this.callbacks[t] = e, t;
}, e.prototype.pop = function(e) {
var t = this.callbacks[e];
return delete this.callbacks[e], t || function() {};
}, e;
}(), s = new a(), u = new a(), l = new a(), c = new a();
t.getItem = function p(e, t) {
o.nativeApi.fetchKey(s.add(t), e);
}, t.storeItem = function d(e, t, n) {
o.nativeApi.storeKey(u.add(n), e, t);
}, t.removeItem = function f(e, t) {
o.nativeApi.removeKey(l.add(t), e);
}, t.clear = function m(e) {
o.nativeApi.clearKeys(c.add(e));
}, o.nativeApi.onKeyFetched = function(e, t, n, o) {
o > 0 && (o = r.GetItemResult.OK), s.pop(e)(t, n, o);
}, o.nativeApi.onKeyStored = function(e, t, n) {
u.pop(e)(t, n);
}, o.nativeApi.onKeyRemoved = function(e, t, n) {
l.pop(e)(t, n);
}, o.nativeApi.onKeysCleared = function(e, t) {
c.pop(e)(t);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(291), o = n(84), i = function() {
return function e(t, n) {
this.title = t, this.text = n;
};
}();
t.LegalDocument = i, t.isLegalDocumentInfoType = function a(e) {
return "object" == typeof e && e.hasOwnProperty("sources") && e.hasOwnProperty("getTitle");
}, t.isLegalDocumentWithOptOutType = function s(e) {
return "object" == typeof e && e.hasOwnProperty("getContent") && e.hasOwnProperty("getTitle") && e.hasOwnProperty("getOptionLabel") && e.hasOwnProperty("flag") && e.hasOwnProperty("defaultState");
};
var u = function() {
return function e() {};
}();
t.LegalConfigStore = u, t.loadLegalDocuments = function l(e, t) {
var n = Object.assign({}, e.textsToAccept, e.textsToShow), a = {}, s = Object.keys(n).filter(function(e) {
return n[e].sources.hasOwnProperty(t);
}).map(function(e) {
return function s(e) {
return e ? new Promise(function(t, n) {
r.loadAssetRequest(o.options.urlHook(e), function(r, o) {
r ? t(o) : n(new Error("Failed to fetch: " + e));
});
}) : Promise.reject(new Error("Missing documentUrl to fetch"));
}(n[e].sources[t]).then(function(t) {
a[e] = new i(n[e].getTitle(), t);
});
});
return Promise.all(s).then(function() {
return a;
});
};
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3), a = n(376), s = n(390), u = n(14), l = n(71), c = n(256), p = n(222), d = n(396), f = n(298), m = n(56), h = n(47), g = n(199), y = e.get("StartScreenFlow"), S = u.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-ea-300d3ce5.png"), v = u.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-dice-c4e44205.png");
!function(e) {
e.SIGN_IN_CHANGED = "SIGN_IN_CHANGED", e.READY = "READY", e.DEV_SPEED_UP = "DEV_SPEED_UP", 
e.LOADING_TEXTURES = "LOADING_TEXTURES", e.ACCEPTING_LEGAL = "ACCEPTING_LEGAL", 
e.WAITING_FOR_USER_START = "WAITING_FOR_USER_START", e.ONBOARDING = "ONBOARDING", 
e.CONNECTING = "CONNECTING", e.EA_SIGN_IN = "EA_SIGN_IN", e.WAITING_FOR_TAKEOVER = "WAITING_FOR_TAKEOVER", 
e.WAITING_FOR_GAME_READY = "WAITING_FOR_GAME_READY", e.DISMISSING = "DISMISSING", 
e.DISMISSED = "DISMISSED";
}(r = t.StartScreenState || (t.StartScreenState = {}));
var _ = function() {
function e(e) {
var t = this;
this.dependencies = e, this.flowDisposer = new d.DisposeCollection(), this.startScreenStateChangeEvent = new f.ScopedEventGenerator("StartScreenFlow.onStateChangeEvent"), 
this.texturePreloader = null, this.takeoverPreloader = null, this.component = null, 
this.shouldSkipPressToStart = !1, this.isOnboarded = !1, this.isLegalPopupActive = !1, 
this.hasSignInChanged = !1, this.transition = function(e, n) {
t.stateMachine.transitionTo(n, function(t, r) {
return e === t.id && n === r.id;
});
}, this.stateMachine = new a.StateMachine("StartScreenFlow", r.READY, this.getStates(), {
debug: !0
}), this.stateMachine.start(), this.stateMachine.onStateChange(function(e) {
t.startScreenStateChangeEvent.trigger(e.stateId, function() {
return {
flow: t,
currentStateId: e.stateId,
previousStateId: e.previousStateId
};
}), e.stateId === r.DISMISSED && t.flowDisposer.dispose();
}), this.dependencies.twinkle.frostbite.registerMessageListener("sparta.skipPressToStart", function() {
t.updateSkipPressToStart(!0);
});
}
return Object.defineProperty(e.prototype, "currentState", {
get: function() {
return this.stateMachine.currentStateId;
},
enumerable: !0,
configurable: !0
}), e.prototype.updateSkipPressToStart = function(e) {
this.shouldSkipPressToStart = e;
}, e.prototype.start = function(e) {
this.component = e;
}, e.prototype.setOnboarded = function(e) {
this.isOnboarded = e;
}, e.prototype.setLegalPopupActive = function(e) {
this.isLegalPopupActive = e;
}, e.prototype.onSignInChanged = function(e) {
this.hasSignInChanged = !0, this.onSignInChangedCallback = e;
}, e.prototype.resetSignInChanged = function() {
this.hasSignInChanged = !1, this.onSignInChangedCallback = void 0;
}, e.prototype.reset = function() {
this.shouldSkipPressToStart = !1, this.setOnboarded(!1), this.texturePreloader && (this.texturePreloader.destroy(), 
this.texturePreloader = null), this.takeoverPreloader && (this.takeoverPreloader.destroy(), 
this.takeoverPreloader = null);
}, e.prototype.pressToStart = function() {
this.dependencies.twinkle.frostbite.sendMessage("sparta.pressToStart");
}, e.prototype.waitForStartCompletion = function(e, t) {
var n = this, r = this.dependencies.twinkle.frostbite.registerMessageListener("sparta.pressToStartCompleted", function() {
r(), n.dependencies.originAccountFlow.onPressToStart(), n.transition(e, t);
});
this.flowDisposer.add(r);
}, e.prototype.onDismissed = function(e) {
this.flowDisposer.add(this.listen(r.DISMISSED, e));
}, e.prototype.listen = function(e, t) {
return this.flowDisposer.add(this.startScreenStateChangeEvent.listen(e, t));
}, e.prototype.waitForTextures = function(e) {
var t = this;
return new Promise(function(n) {
s.whenDefined(function() {
return t.dependencies.hostingGameStore.game;
}, function(r) {
if (t.component) {
var o = [ S, v ];
r.startScreenImageUrl && o.push(r.startScreenImageUrl), r.startScreenLogo && o.push(r.startScreenLogo.texture);
var i = new l.TexturePreloader();
t.texturePreloader = i, o.forEach(function(e) {
return i.preload(e, void 0);
}), t.dependencies.twinkle.texture.waitForReady("StartScreen.WaitForTextures", e, function() {
return i.textures.filter(function(e) {
return !e.isLoaded;
});
}).then(n).catch(function(e) {
n(!1), y.error("TextureLoader failure");
});
} else n(!1);
});
});
}, e.prototype.getStates = function() {
return [ this.getSignInChangedState(), this.getReadyState(), this.getDevSpeedUpState(), this.getLoadingTexturesState(), this.getWaitingForUserStartState(), this.getAcceptingLegalState(), this.getOnboardingState(), this.getConnectingState(), this.getWaitingForTakeoverState(), this.getWaitingForGameReadyState(), this.getEASignInState(), this.getDismissingState(), this.getDismissedState() ];
}, e.prototype.getSignInChangedState = function() {
var e = this;
return {
id: r.SIGN_IN_CHANGED,
transitions: [ r.READY ],
onEnter: function() {
i.when(function() {
return e.dependencies.spartaActivatedStore.navigationState === m.NavigationStates.FrontEnd;
}, function() {
e.onSignInChangedCallback && e.onSignInChangedCallback();
var t = __("ID_SPARTA_START_SIGNIN_CHANGE_PC");
e.dependencies.twinkle.buildInfo.isXboxOne ? t = __("ID_SPARTA_START_SIGNIN_CHANGE_XB1") : e.dependencies.twinkle.buildInfo.isPS4 && (t = __("ID_SPARTA_START_SIGNIN_CHANGE_PS4")), 
h.PopupManager.standardAlert(t), p.clearLegalPromise(), e.resetSignInChanged(), 
e.transition(r.SIGN_IN_CHANGED, r.READY);
});
}
};
}, e.prototype.getReadyState = function() {
var e = this;
return {
id: r.READY,
transitions: [ r.LOADING_TEXTURES, r.DEV_SPEED_UP ],
onEnter: function() {
i.when(function() {
return null !== e.component && !!e.dependencies.hostingGameStore.game;
}, function() {
e.transition(r.READY, r.LOADING_TEXTURES);
});
}
};
}, e.prototype.getDevSpeedUpState = function() {
var e = this;
return {
id: r.DEV_SPEED_UP,
transitions: [ r.DISMISSED ],
onEnter: function() {
i.when(function() {
return e.dependencies.spartaActivatedStore.navigationState === m.NavigationStates.FrontEnd;
}, function() {
e.waitForStartCompletion(r.DEV_SPEED_UP, r.DISMISSED), e.pressToStart();
});
}
};
}, e.prototype.getLoadingTexturesState = function() {
var e = this;
return {
id: r.LOADING_TEXTURES,
transitions: [ r.WAITING_FOR_USER_START ],
onEnter: function() {
e.dependencies.blackFadeState.show(void 0, !1), i.when(function() {
return e.dependencies.spartaActivatedStore.navigationState === m.NavigationStates.FrontEnd;
}, function() {
e.waitForTextures(c.milliseconds({
seconds: 5
})).then(function(t) {
t || y.error("Couldn't load required textures"), e.dependencies.blackFadeState.hide(), 
e.transition(r.LOADING_TEXTURES, r.WAITING_FOR_USER_START);
});
});
}
};
}, e.prototype.getWaitingForUserStartState = function() {
var e = this;
return {
id: r.WAITING_FOR_USER_START,
transitions: [ r.ACCEPTING_LEGAL ],
onEnter: function() {
e.shouldSkipPressToStart ? (e.updateSkipPressToStart(!1), e.transition(r.WAITING_FOR_USER_START, r.ACCEPTING_LEGAL)) : (e.waitForStartCompletion(r.WAITING_FOR_USER_START, r.ACCEPTING_LEGAL), 
e.dependencies.twinkle.buildInfo.isPC && e.pressToStart());
}
};
}, e.prototype.getAcceptingLegalState = function() {
var e = this;
return {
id: r.ACCEPTING_LEGAL,
transitions: [ r.ONBOARDING ],
onEnter: function() {
e.setLegalPopupActive(!0), e.dependencies.tryShowLegal().then(function() {
e.setLegalPopupActive(!1), e.transition(r.ACCEPTING_LEGAL, r.ONBOARDING);
});
}
};
}, e.prototype.getOnboardingState = function() {
var e = this;
return {
id: r.ONBOARDING,
transitions: [ r.CONNECTING ],
onEnter: function() {
i.when(function() {
return e.isOnboarded;
}, function() {
e.transition(r.ONBOARDING, r.CONNECTING);
}, {
timeout: c.milliseconds({
seconds: 5
}),
onError: function() {
e.transition(r.ONBOARDING, r.CONNECTING);
}
});
}
};
}, e.prototype.getConnectingState = function() {
var e = this;
return {
id: r.CONNECTING,
transitions: [ r.WAITING_FOR_TAKEOVER, r.WAITING_FOR_GAME_READY ],
onEnter: function() {
e.dependencies.onlineState.isOnlineBlazeAndGateway ? e.transition(r.CONNECTING, r.WAITING_FOR_TAKEOVER) : e.dependencies.onlineState.isConnecting || e.dependencies.onlineState.canGoOnlineAutomatically ? (e.dependencies.onlineState.shouldRetryGoOnline && e.dependencies.originAccountFlow.onPressToStart(), 
i.when(function() {
return e.dependencies.onlineState.isOnlineBlazeAndGateway;
}, function() {
e.transition(r.CONNECTING, r.WAITING_FOR_TAKEOVER);
}, {
timeout: c.milliseconds({
seconds: 30
}),
onError: function() {
e.transition(r.CONNECTING, r.WAITING_FOR_GAME_READY);
}
})) : e.transition(r.CONNECTING, r.WAITING_FOR_GAME_READY);
}
};
}, e.prototype.getWaitingForTakeoverState = function() {
var e = this;
return {
id: r.WAITING_FOR_TAKEOVER,
transitions: [ r.WAITING_FOR_GAME_READY ],
onEnter: function() {
var t = setTimeout(function() {
e.dependencies.takeoverStore.disable(g.TakeoverType.Popup), e.transition(r.WAITING_FOR_TAKEOVER, r.WAITING_FOR_GAME_READY);
}, c.milliseconds({
seconds: 10
}));
Promise.all([ e.dependencies.takeoverStore.fetch(g.TakeoverType.FirstTime), e.dependencies.takeoverStore.fetch(g.TakeoverType.Popup) ]).then(function(n) {
var o = n[0], i = n[1];
if (clearTimeout(t), o) e.dependencies.takeoverStore.disable(g.TakeoverType.Popup), 
e.transition(r.WAITING_FOR_TAKEOVER, r.WAITING_FOR_GAME_READY); else if (i) {
var a = new l.TexturePreloader();
e.takeoverPreloader = a, a.preload(i.backgroundUrl, "SINGLE_TEXTURE"), e.dependencies.twinkle.texture.waitForReady("StartScreen.WaitingForTakeover", c.milliseconds({
seconds: 4
}), function() {
return a.textures.filter(function(e) {
return !e.isLoaded();
});
}).then(function(t) {
t || e.dependencies.takeoverStore.disable(g.TakeoverType.Popup), e.transition(r.WAITING_FOR_TAKEOVER, r.WAITING_FOR_GAME_READY);
});
} else e.dependencies.takeoverStore.disableAll(), e.transition(r.WAITING_FOR_TAKEOVER, r.WAITING_FOR_GAME_READY);
}).catch(function() {
clearTimeout(t), e.dependencies.takeoverStore.disableAll(), e.transition(r.WAITING_FOR_TAKEOVER, r.WAITING_FOR_GAME_READY);
});
}
};
}, e.prototype.getWaitingForGameReadyState = function() {
var e = this;
return {
id: r.WAITING_FOR_GAME_READY,
transitions: [ r.EA_SIGN_IN ],
onEnter: function() {
var t = e.dependencies.hostingGameStore.game, n = t && t.waitForGameReady;
n ? n().then(function() {
e.transition(r.WAITING_FOR_GAME_READY, r.EA_SIGN_IN);
}) : e.transition(r.WAITING_FOR_GAME_READY, r.EA_SIGN_IN);
}
};
}, e.prototype.getEASignInState = function() {
var e = this;
return {
id: r.EA_SIGN_IN,
transitions: [ r.DISMISSING ],
onEnter: function() {
i.when(function() {
return !e.dependencies.originAccountFlow.isEASignInDialogShown;
}, function() {
e.transition(r.EA_SIGN_IN, r.DISMISSING);
});
}
};
}, e.prototype.getDismissingState = function() {
var e = this;
return {
id: r.DISMISSING,
transitions: [ r.DISMISSED ],
onEnter: function() {
e.dependencies.blackFadeState.show({
callback: function() {
e.dependencies.blackFadeState.hide(), e.transition(r.DISMISSING, r.DISMISSED);
}
}, !1);
}
};
}, e.prototype.getDismissedState = function() {
var e = this;
return {
id: r.DISMISSED,
transitions: [ r.SIGN_IN_CHANGED ],
onEnter: function() {
e.reset(), i.when(function() {
return e.hasSignInChanged;
}, function() {
e.transition(r.DISMISSED, r.SIGN_IN_CHANGED);
});
}
};
}, o.__decorate([ i.observable ], e.prototype, "component", void 0), o.__decorate([ i.observable ], e.prototype, "shouldSkipPressToStart", void 0), 
o.__decorate([ i.observable ], e.prototype, "isOnboarded", void 0), o.__decorate([ i.observable ], e.prototype, "isLegalPopupActive", void 0), 
o.__decorate([ i.observable ], e.prototype, "hasSignInChanged", void 0), o.__decorate([ i.computed ], e.prototype, "currentState", null), 
o.__decorate([ i.action ], e.prototype, "updateSkipPressToStart", null), o.__decorate([ i.action ], e.prototype, "start", null), 
o.__decorate([ i.action ], e.prototype, "setOnboarded", null), o.__decorate([ i.action ], e.prototype, "setLegalPopupActive", null), 
o.__decorate([ i.action ], e.prototype, "onSignInChanged", null), o.__decorate([ i.action ], e.prototype, "resetSignInChanged", null), 
o.__decorate([ i.action ], e.prototype, "reset", null), e;
}();
t.StartScreenFlow = _;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e() {
this.chores = [];
}
return e.prototype.add = function(e) {
return this.chores.push(e), e;
}, e.prototype.dispose = function() {
this.chores.length && (this.chores.forEach(function(e) {
return e();
}), this.chores = []);
}, e;
}();
t.DisposeCollection = r;
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(151), a = n(3), s = n(4), u = n(64), l = n(26), c = n(21), p = n(25), d = n(43), f = e.get("StartScreen"), m = n(10), h = n(199), g = n(222), y = n(94), S = n(56), v = n(533), _ = n(49), b = n(194), T = n(11), E = n(23), C = n(8), I = n(15), A = n(6), w = n(122), P = n(534), R = n(224), O = n(400), x = n(14), k = n(53), L = n(65), M = n(5), D = n(17), N = n(121), F = n(9), G = 2e4, U = n(36), B = n(7), j = n(33), H = F.SpartaGlobals.bundleIsXBOXONE, z = F.SpartaGlobals.bundleIsXBOXONE, V = {
easing: I.Animation.defaultTweenOptions.easing,
duration: 800
}, W = F.SpartaGlobals.bundleIsPC ? c.TextSize.M : c.TextSize.S, q = !1;
t.userPassedStartScreen = !1;
var K = new i.Store(!1), X = function() {
function e() {
this.isEnabled = !0;
}
return e.prototype.enable = function(e) {
this.isEnabled = e;
}, Object.defineProperty(e.prototype, "isVisible", {
get: function() {
var e = m.gameStateStoreLoader.gameStateStore;
return !!e && (this.isEnabled && !e.isOnPlayableLevel);
},
enumerable: !0,
configurable: !0
}), e.prototype.overrideDismissCallback = function(e) {
this.dismissCallback = e;
}, r.__decorate([ a.observable ], e.prototype, "isEnabled", void 0), r.__decorate([ a.action ], e.prototype, "enable", null), 
r.__decorate([ a.computed ], e.prototype, "isVisible", null), e;
}(), Y = null;
t.legacyStartScreenStore = new X(), t.initStartScreen = function J(e) {
Y = new Promise(function(e) {
a.when(function() {
return void 0 !== m.hostingGameStore.game;
}, function() {
var t = [ L.StartScreenStyles.eaLogo, L.StartScreenStyles.diceLogo ];
m.hostingGameStore.game && m.hostingGameStore.game.startScreenImageUrl && t.push(m.hostingGameStore.game.startScreenImageUrl), 
m.hostingGameStore.game && m.hostingGameStore.game.startScreenLogo && t.push(m.hostingGameStore.game.startScreenLogo.texture), 
e(t);
});
}), a.reaction(function() {
return e.stores.startScreenStore.isVisible;
}, function(e) {
m.layoutVisibilityStore.setVisibilities({
only: !!e && {}
}), e || b.handleStartScreenClosed();
}, {
fireImmediately: !0
});
var n = !1;
H && _.onSignInChange.listen(function() {
var r = function() {
var r = __("ID_SPARTA_START_SIGNIN_CHANGE_PC");
F.SpartaGlobals.bundleIsXBOXONE ? r = __("ID_SPARTA_START_SIGNIN_CHANGE_XB1") : F.SpartaGlobals.bundleIsPS4 && (r = __("ID_SPARTA_START_SIGNIN_CHANGE_PS4")), 
m.gameStateStoreLoader.get().isGameViewVisible && (k.hide(), k.route("none"));
var o = function(r) {
n = !0, e.stores.popupManager.alert(r, void 0, function() {
m.locationStore.clearHistoryAndGoBackToStartRoute(), g.clearLegalPromise(), p.closeAll(), 
t.legacyStartScreenStore.enable(!0), n = !1, e.events.resetUserData.trigger();
});
};
if (m.spartaActivatedStore.navigationState !== S.NavigationStates.FrontEnd) {
d.stopGame({
showFade: !0,
shouldNativeQuit: !1
});
var i = a.when(function() {
return m.spartaActivatedStore.navigationState === S.NavigationStates.FrontEnd;
}, function() {
i(), o(r);
});
} else o(r);
};
if (t.legacyStartScreenStore.isEnabled) q && t.legacyStartScreenStore.overrideDismissCallback(function() {
r();
}); else {
if (n) return;
r();
}
});
};
var Q = n(536), Z = n(539), $ = n(71), ee = n(27), te = n(40), ne = (x.bbOfflineUrl("/sparta/assets/ui/particles/red-dash-76860a51.png"), 
x.bbOfflineUrl("/sparta/jsclient/builds/assets/PRT_Start_Blur-fb108348.jpg"), x.bbOfflineUrl("/sparta/jsclient/builds/assets/PRT_Start_Glow-f47cfeb1.jpg"), 
M.StaticStyle.create({
marginBottom: C.GUTTER
}, "6149f87b:716:28")), re = M.StaticStyle.create({
justifyContent: "center",
alignItems: "center"
}, "6149f87b:732:33"), oe = M.StaticStyle.create({
height: 60
}, "6149f87b:831:27"), ie = function(n) {
function i(r, i) {
var s = n.call(this, r, i) || this;
return s.sparta = B.SpartaContext.getFromComponent(s), s.isMounted = !1, s.isolated = !1, 
s.userStartOpacity = I.Animation.componentTween(s, "6149f87b:291:62", 0), s.startScreenOpacity = I.Animation.componentTween(s, "6149f87b:292:64", 0), 
s.startButton = o.createRef(), s.bottomBar = o.createRef(), s.startScreenParticles = o.createRef(), 
s.onStartButtonPressed = function() {
return s.onUserStart();
}, s.onUserStart = function(t) {
if (!q) if (m.spartaActivatedStore.navigationState === S.NavigationStates.FrontEnd) {
q = !0;
var n = function() {
s.playStartAnimation().then(function() {
return m.nativePropertiesStore.crossLaunch && m.nativePropertiesStore.crossLaunch.gameMode && m.nativePropertiesStore.crossLaunch.gameId ? s.sparta.stores.takeoverStore.disable(h.TakeoverType.Popup) : a.when(function() {
return m.onlineState.isOnlineBlazeAndGateway;
}, function() {
s.takeoverPromise = s.sparta.stores.takeoverStore.fetch(h.TakeoverType.Popup);
}), s.setState({
waitingForUserStart: !1
}), function e(t, n) {
var r, o = t.twinkle.frostbite;
if (n) r = K.promise(function(e) {
return e;
}); else {
var i = new Promise(function(e) {
var n = o.registerMessageListener("sparta.pressToStartCompleted", function() {
n(), t.stores.originAccountFlow.onPressToStart(), e();
});
o.sendMessage("sparta.pressToStart");
});
r = Promise.all([ i, K.promise(function(e) {
return e;
}) ]);
}
return r;
}(s.sparta, t);
}).then(function() {
return new Promise(function(t) {
var n, r = setTimeout(function() {
e.warn("StartScreen waiting too long (" + G + "ms) for connections and calls, forcing resolve."), 
n && n(), s.sparta.stores.takeoverStore.disable(h.TakeoverType.Popup), t(null);
}, G);
!m.onlineState.isConnecting && s.takeoverPromise ? (clearTimeout(r), t(s.takeoverPromise)) : n = a.when(function() {
return !m.onlineState.isConnecting;
}, function() {
clearTimeout(r), s.takeoverPromise ? t(s.takeoverPromise) : t(null);
});
});
}).then(function(e) {
return e && s.takeoverPreloader.preload(e.backgroundUrl, "SINGLE_TEXTURE"), $.textureHandler.waitForReady("StartScreen.dismiss", void 0, function() {
return s.takeoverPreloader.textures.filter(function(e) {
return !e.isLoaded();
});
}).then(function(e) {
e || s.sparta.stores.takeoverStore.disable(h.TakeoverType.Popup);
});
}).then(function() {
return s.dismiss();
});
};
s.startButton.current && s.startButton.current.visualButton.current && s.startButton.current.visualButton.current.pulsate(), 
s.releaseInputGroup(), g.tryShowLegal().then(function() {
s.isolateInputGroup(), n();
});
} else f.info("Ignoring StartScreen user-start, waiting for navigationState to be FrontEnd");
}, s.onOnboarded = function() {
K.setState(!0);
}, s.dismiss = function() {
N.blackFadeState.show({
options: {
duration: I.Animation.defaultTweenOptions.duration,
easing: ee.Easing.Linear
},
callback: function() {
s.finishDismiss();
}
});
}, s.finishDismiss = function() {
q = !1, t.userPassedStartScreen = !0, t.legacyStartScreenStore.enable(!1), t.legacyStartScreenStore.dismissCallback && (f.info("Dismissing StartScreen with callback override"), 
t.legacyStartScreenStore.dismissCallback(), t.legacyStartScreenStore.overrideDismissCallback()), 
N.blackFadeState.hide({
options: {
easing: ee.Easing.Linear
}
}), s.preloader.unloadAll(), s.takeoverPreloader.unloadAll();
}, s.preloader = $.textureHandler.createPreloader(s), s.takeoverPreloader = $.textureHandler.createPreloader(s), 
s;
}
return r.__extends(i, n), i.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return t.legacyStartScreenStore.isVisible;
}, function(t) {
t ? e.initialize() : e.rescueTimer && clearTimeout(e.rescueTimer);
}, {
fireImmediately: !0
});
}, i.prototype.componentDidUpdate = function() {
this.tryToIsolateInput();
}, i.prototype.getInput = function() {}, i.prototype.requestTextures = function() {
var e = this;
return !this.texturesRequest && Y && (this.texturesRequest = Y.then(function(t) {
t.forEach(function(t) {
return e.preloader.preload(t, void 0);
});
})), this.texturesRequest;
}, i.prototype.waitForTextures = function() {
var e = this;
return this.requestTextures().then(function() {
return $.textureHandler.waitForReady("StartScreen.show", 5e3, function() {
return e.preloader.textures.filter(function(e) {
return !e.isLoaded;
});
});
});
}, i.prototype.onUserChange = function() {
_.showLocalUserSelectionUI();
}, i.prototype.tryToIsolateInput = function() {
t.legacyStartScreenStore.isVisible && !this.isolated ? (this.isolated = !0, this.isolateInputGroup()) : !t.legacyStartScreenStore.isVisible && this.isolated && (this.isolated = !1, 
this.releaseInputGroup());
}, i.prototype.playStartAnimation = function() {
var e = this;
return this.startButton.current ? new Promise(function(t) {
e.startButton.current && e.startButton.current.visualButton.current && e.startButton.current.visualButton.current.icon.current && e.startButton.current.visualButton.current.icon.current.separate(V), 
e.userStartOpacity.to(0), setTimeout(t, 1e3);
}) : new Promise(function(e) {
e();
});
}, i.prototype.initialize = function() {
var e = this;
q = !1, this.setState({
waitingForUserStart: !0
}), this.waitForTextures().then(function() {
return new Promise(function(e) {
return N.blackFadeState.hide({
callback: e
});
});
}).then(function() {
e.startScreenOpacity.to(1), e.userStartOpacity.to(1), e.bottomBar.current && e.bottomBar.current.appear(), 
e.startScreenParticles.current && e.startScreenParticles.current.startParticles(), 
(F.SpartaGlobals.bundleIsPC || m.nativePropertiesStore.crossLaunch && F.SpartaGlobals.bundleIsPS4) && e.when(function() {
return m.spartaActivatedStore.navigationState === S.NavigationStates.FrontEnd;
}, function() {
return e.onUserStart();
});
}), this.sparta.twinkle.frostbite.registerMessageListener("sparta.skipPressToStart", function() {
e.onUserStart(!0);
});
}, i.prototype.renderProgress = function() {
var e = this.sparta.theme.getTheme(this).start;
if (this.state.isOnboarded) {
var t = o.createElement("surface", null);
return !m.onlineState.isConnecting && m.hostingGameStore.game || (t = o.createElement("surface", {
style: e.backdrop
}, o.createElement(A.Text, {
size: W,
value: __("ID_SPARTA_ONLINE_PRESENCE_CONNECTING").toUpperCase()
}))), {
id: "presence",
content: t
};
}
var n = "home";
if (m.nativePropertiesStore.crossLaunch) {
var r = m.nativePropertiesStore.crossLaunch.gameMode;
r && "SP" === r ? n = "crosslaunch_sp" : r && "MP" === r && (n = m.nativePropertiesStore.crossLaunch.joinFriend ? "crosslaunch_mp_friend" : "crosslaunch_mp"), 
U.trackEvent("CrossLaunch", "Success", n);
}
var i = m.hostingGameStore.game && m.hostingGameStore.game.hasOnboardingMessages(n) ? m.hostingGameStore.game.getOnboardingMessages(n) : v.getOnboardingMessages(n);
return {
id: "onboarding",
content: o.createElement(P.TextRotator, {
messages: i,
style: e.backdrop,
textSize: W,
onEnd: this.onOnboarded
})
};
}, i.prototype.renderStartButtons = function() {
var e = this.sparta.theme.getTheme(this).start;
if (!z) return {
id: "anonymous-start",
content: o.createElement(w.InputButton, {
animatedLabeledIcon: !0,
ref: this.startButton,
label: __("ID_SPARTA_START_BUTTON"),
inputKey: T.Keys.Accept,
action: this.onStartButtonPressed,
style: M.merge3(this.userStartOpacity.getStyleClass("opacity"), e.backdrop, D.CommonStyles.zOffset(1))
})
};
var t = M.merge3(e.backdrop, D.CommonStyles.alignItemsCenter, D.CommonStyles.zOffset(1)), n = m.onlineState.sessionUser && "0" !== m.onlineState.sessionUser.id && o.createElement(O.Slider, {
transitionId: m.onlineState.sessionUser.id || "",
height: C.getHeight(5),
style: ne
}, o.createElement(w.InputButton, {
animatedLabeledIcon: !0,
ref: this.startButton,
inputKey: T.Keys.Accept,
action: this.onStartButtonPressed,
style: t,
label: __("ID_SPARTA_START_PLAYAS") + " " + m.onlineState.sessionUser.displayName
}));
return {
id: "userchange_" + (m.onlineState.sessionUser ? "online" : "offline"),
content: o.createElement("surface", {
style: re
}, n, o.createElement(w.InputButton, {
label: __("ID_SPARTA_START_SELECTUSER"),
inputKey: T.Keys.Select,
action: this.onUserChange,
style: M.merge3(this.userStartOpacity.getStyleClass("opacity"), e.backdrop, D.CommonStyles.zOffset(1))
}))
};
}, i.prototype.renderStartupState = function() {
if (!1 === this.state.waitingForUserStart) return this.renderProgress();
var e = this.sparta.theme.getTheme(this).start;
return F.SpartaGlobals.bundleIsPC ? {
id: "loading",
content: o.createElement("surface", {
style: e.backdrop
}, o.createElement(A.Text, {
value: __("ID_SPARTA_START_LOADING").toUpperCase(),
size: W
}))
} : this.renderStartButtons();
}, i.prototype.render = function() {
if (!t.legacyStartScreenStore.isVisible || !m.hostingGameStore.game) return null;
var e = this.sparta.theme.getTheme(this).start, n = m.hostingGameStore.game, i = y.uiState.window.width / E.screen.style.width, a = y.uiState.window.height / E.screen.style.height, s = r.__assign({
position: "absolute",
zOffset: L.OffsetStyles.startScreen
}, y.uiState.window, {
backgroundColor: "#000000FF",
texture: n.startScreenImageUrl,
textureMode: "none",
textureScale: Math.max(i, a)
}), u = r.__assign({
position: "absolute",
justifyContent: "center",
alignItems: "center",
width: E.screen.width,
height: E.screen.height
}, y.uiState.viewportPosition, y.uiState.viewportScale, {
opacity: this.startScreenOpacity.getStyle()
}), l = r.__assign({
textureMode: "contain",
width: E.startScreenLogo.style.width,
height: E.startScreenLogo.style.height
}, n.startScreenLogo), c = oe, p = this.renderStartupState();
return o.createElement("surface", {
style: s
}, o.createElement("test", {
guid: "startscreen"
}), K.state ? o.createElement(Z.ShowNativeLoadingUi, {
debugName: "6149f87b:840:75"
}) : null, o.createElement(Q.StartScreenParticles, {
ref: this.startScreenParticles
}), o.createElement("surface", {
style: u
}, o.createElement("surface", {
style: l
}), o.createElement("surface", {
style: e.progressStyle
}, p && o.createElement(R.Fader, {
transitionId: p.id,
style: c
}, p.content), te.getBuildInfo().isCTE() && F.SpartaGlobals.bundleIsXBOXONE ? o.createElement(se, null) : null), o.createElement(ae, {
ref: this.bottomBar
})));
}, i.contextTypes = B.SpartaContext.contextTypes, r.__decorate([ a.observable ], i.prototype, "isMounted", void 0), 
i = r.__decorate([ l.inputWithOptions({
group: !0
}), s.observer, u.subscribeToStores({
isOnboarded: K
}) ], i);
}(l.InputComponent);
t.LegacyStartScreen = ie;
var ae = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = B.SpartaContext.getFromComponent(t), t.opacityTween = I.Animation.componentTween(t, "6149f87b:869:50", 0, {
duration: 500
}), t.appear = function() {
t.opacityTween.isDestroyed() || t.opacityTween.to(1);
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
setTimeout(this.appear, 2500);
}, t.prototype.render = function() {
var e = this.sparta.stores.hostingGameStore.game, t = this.sparta.theme.getTheme(this).start, n = e && e.copyrightYear, r = !!n && o.createElement(A.Text, {
style: L.StartScreenStyles.copyright,
size: "S",
value: __("ID_SPARTA_START_COPYRIGHT_YEAR").replace("[[YEAR]]", n + "")
});
return o.createElement("surface", {
style: M.merge2(t.bottomBarContainer, this.opacityTween.getStyleClass("opacity"))
}, o.createElement("surface", {
style: L.StartScreenStyles.ea
}), o.createElement("surface", {
style: L.StartScreenStyles.dice
}), r);
}, t.contextTypes = B.SpartaContext.contextTypes, t = r.__decorate([ s.observer ], t);
}(o.Component), se = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = B.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = F.SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_START_DISCLAIMER_XBONE") : __("ID_SPARTA_START_DISCLAIMER_GENERIC"), t = this.sparta.theme.getTheme(this).start;
return o.createElement("surface", {
style: t.betaDisclaimerContainer
}, o.createElement(A.Text, {
type: j.TextType.LIGHT,
size: "XS",
style: t.betaDisclaimer,
value: e
}));
}, t.contextTypes = B.SpartaContext.contextTypes, t = r.__decorate([ s.observer ], t);
}(o.Component);
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(399), a = n(6), s = n(21), u = n(4), l = n(293), c = n(14), p = n(8), d = n(5), f = n(7), m = n(118), h = n(129), g = n(1009), y = c.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-inv-83f715ff.png"), S = c.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"), v = (d.StaticStyle.wrapLegacyStyleSheet({
pcButton: {},
pcButtonLarge: {},
pcButtonHovered: {},
pcButtonPressed: {},
pcButtonInverted: {},
pcButtonInvertedHovered: {},
pcButtonBorder: {},
pcButtonInvertedBorder: {},
pcButtonIconSpacing: {},
label: {},
labelInverted: {},
labelHovered: {},
labelPressed: {},
labelContainer: {},
labelContainerLarge: {}
}, "bccb9cca:21:22"), c.bbOfflineUrl("/sparta/assets/ui/sprites/visualbuttonpulsate-96eb83fc.png")), _ = d.StaticStyle.create({
flexDirection: "row",
alignItems: "center"
}, "bccb9cca:279:37"), b = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = f.SpartaContext.getFromComponent(r), r.icon = o.createRef(), r.onMouseDown = function() {
r.setState({
isPressed: !0
});
}, r.onMouseUp = function() {
r.setState({
isPressed: !1
});
}, r.onMouseEnter = function() {
r.sparta.theme.getTheme(r).input.playSoundOnHover && m.playEffect(h.AudioEffect.Highlight), 
r.setState({
isHovered: !0
});
}, r.onMouseLeave = function() {
r.setState({
isHovered: !1,
isPressed: !1
});
}, r.triggerAction = function() {
r.props.inputKey && r.sparta.stores.inputStore.trigger(new l.KeyEvent(r.props.inputKey));
}, r.setSpriteSurfaceId = function(e) {
r.spriteSurfaceId = e;
}, r.preloader = r.sparta.twinkle.texture.createPreloader(r), (t.useConsoleStyle || r.sparta.twinkle.focus.controllerMode) && (r.preloader.preload(y, "SpartaCommonAtlas"), 
r.preloader.preload(S, "SpartaCommonAtlas")), r.preloader.preload(v, "SINGLE_TEXTURE"), 
r.state = {
isHovered: !1,
isPressed: !1
}, r;
}
return r.__extends(t, e), t.prototype.pulsate = function() {
var e = this;
return new Promise(function(t) {
e.sparta.twinkle.focus.controllerMode && e.spriteSurfaceId ? (e.sparta.twinkle.nativeApi.playSpriteAnimation(e.spriteSurfaceId, !0), 
setTimeout(t, 350)) : t();
});
}, t.prototype.renderPCIcon = function(e, t, n) {
var r = this.sparta.theme.getTheme(this);
if (t && !n && (n = r.inputIcons.PC[t.name]), !n) return o.createElement("surface", {
style: e.pcButtonIconSpacing || r.input.pcButtonIconSpacing
});
var i = this.renderIcon(n, !0);
return o.createElement("surface", {
style: r.input.iconBackground(this.state.isHovered)
}, i);
}, t.prototype.renderIcon = function(e, t) {
if (void 0 === t && (t = !1), !e) return null;
var n = this.props.iconSize, r = this.sparta.theme.getTheme(this).input;
return o.createElement("surface", null, o.createElement("surface", {
style: r.icon({
iconSize: n,
iconUrl: e,
inverted: t
})
}), o.createElement("surface", {
onSurfaceId: this.setSpriteSurfaceId,
style: r.sprite({
iconSize: n
})
}));
}, t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).input, t = this.props, n = t.styleSheetOverride, r = t.inverted, u = t.label, l = t.large, c = t.useConsoleStyle, p = t.inputKey, f = t.iconSize, m = t.labelDecoration, h = t.style, y = t.fontStyle, S = n || e, v = d.merge4(S.label || e.label, r ? S.labelInverted || e.labelInverted : d.emptyStyle, y ? y(l ? s.TextSize.M : e.labelFontSize) : d.emptyStyle, d.merge2(this.state.isHovered ? S.labelHovered || e.labelHovered : d.emptyStyle, this.state.isPressed ? S.labelPressed || e.labelPressed : d.emptyStyle)), b = c || "PC" !== this.sparta.stores.inputRouter.currentInputType, T = u ? o.createElement(a.Text, {
value: u.toUpperCase(),
type: e.labelFontType,
size: l ? s.TextSize.M : e.labelFontSize,
style: v
}) : void 0;
if (b && p) {
var E = this.sparta.inputButtonIcons.get(this.sparta.theme.getTheme(this))[p.name];
if (!(w = this.renderIcon(E, r))) return this.setSpriteSurfaceId(void 0), null;
var C = n && S.labelContainer ? d.merge2(S.labelContainer, l ? S.labelContainerLarge || e.labelContainerLarge : d.emptyStyle) : h, I = this.props.animatedLabeledIcon ? g.AnimatedLabeledIcon : i.LabeledIcon;
return o.createElement(I, {
ref: this.icon,
iconSize: f,
spacing: e.labelSpacing,
style: C,
icon: w,
label: T,
onClick: this.triggerAction
}, m);
}
this.setSpriteSurfaceId(void 0);
var A = d.merge4(S.pcButton || e.pcButton, r ? S.pcButtonInverted || e.pcButtonInverted : d.emptyStyle, d.merge2(this.state.isHovered ? S.pcButtonHovered || e.pcButtonHovered : d.emptyStyle, this.state.isPressed ? S.pcButtonPressed || e.pcButtonPressed : d.emptyStyle), d.merge2(r && this.state.isHovered ? S.pcButtonInvertedHovered || e.pcButtonInvertedHovered : d.emptyStyle, l ? S.pcButtonLarge || e.pcButtonLarge : d.emptyStyle)), w = this.renderPCIcon(S, this.props.inputKey, this.props.icon), P = d.merge2(S.pcButtonBorder || e.pcButtonBorder, r ? S.pcButtonInvertedBorder || e.pcButtonInvertedBorder : d.emptyStyle);
return o.createElement("surface", {
style: A,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave,
onMouseDown: this.onMouseDown,
onMouseUp: this.onMouseUp,
onClick: this.triggerAction
}, o.createElement("surface", {
style: _
}, w, T), o.createElement("surface", {
style: P
}));
}, t.contextTypes = f.SpartaContext.contextTypes, t.defaultProps = {
large: !1,
iconSize: p.getHeight(3)
}, t = r.__decorate([ u.observer ], t);
}(o.Component);
t.VisualButton = b;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(5), s = n(17), u = n(4), l = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.separate = function(e) {
return Promise.all([ Promise.resolve(), Promise.resolve(), Promise.resolve() ]);
}, t.prototype.hide = function(e) {
return Promise.resolve();
}, t.prototype.render = function() {
var e, t = this.props, n = t.iconSize, r = t.icon, u = t.iconSpace, l = t.spacing, c = t.label, p = t.isDisabled;
return e = "string" == typeof r ? o.createElement("surface", {
style: a.DynamicStyle.create({
texture: r,
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
width: n,
height: n,
grayScale: p ? 1 : 0
}, "a30cedc5:48:28")
}) : r, o.createElement("surface", {
style: a.merge2(s.LabeledIconStyles.container, this.props.style),
onClick: this.props.onClick
}, o.createElement("surface", {
style: a.DynamicStyle.create({
width: n,
height: n,
marginRight: 2 * u + (l || n / 2),
marginLeft: u
}, "a30cedc5:65:28")
}, e), o.createElement("surface", {
style: s.LabeledIconStyles.labelElement
}, "string" == typeof c ? o.createElement(i.Text, {
value: c
}) : c), this.props.children);
}, t.defaultProps = {
iconSpace: 0,
spacing: 0,
isDisabled: !1
}, t = r.__decorate([ u.observer ], t);
}(o.Component);
t.LabeledIcon = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(223), a = n(78), s = n(5), u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.height, t = e || 100, n = this.props.options || a.emptyTweenOptions(), r = [ {
propertyName: "translateY",
fromValue: t,
toValue: 0,
options: n
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1,
options: n
} ], u = [ {
propertyName: "translateY",
fromValue: 0,
toValue: -t,
options: n
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0,
options: n
} ], l = s.DynamicStyle.wrapLegacyStyle({
height: e,
layer: !0,
layerClip: !0
}, "4685a606:31:29");
return o.createElement("surface", {
style: s.merge2(l, this.props.style || s.emptyStyle)
}, o.createElement(i.FlexibleTweener, {
inTweens: r,
outTweens: u,
onTransitionFinished: this.props.onTransitionFinished,
transitionId: this.props.transitionId
}, this.props.children));
}, t;
}(o.Component);
t.Slider = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(537), i = n(538), a = n(116), s = n(3), u = n(1010), l = n(402), c = n(40), p = n(133), d = n(27), f = function() {
function e() {
this.texture = "", this.textureList = s.observable.array(), this.blendMode = "screen", 
this.maxParticles = 100, this.lifetimeMs = new l.JitterValue(2e3, 400, null), this.emitInterval = new l.JitterValue(300, 0, null), 
this.x = new i.JitterTweenConfig(new l.JitterValue(-500, 10, !0), new l.JitterValue(500, 10, !0), d.Easing.Linear), 
this.y = new i.JitterTweenConfig(new l.JitterValue(-500, 10, !0), new l.JitterValue(500, 10, !0), d.Easing.Linear), 
this.opacity = new i.JitterTweenConfig(new l.JitterValue(0, .1, !0), new l.JitterValue(1, .1, !0), d.Easing.Linear), 
this.scale = new i.JitterTweenConfig(new l.JitterValue(3, .3, !0), new l.JitterValue(1, .4, !0), d.Easing.Linear), 
this.rotate = new i.JitterTweenConfig(new l.JitterValue(3, .3, !0), new l.JitterValue(1, .4, !0), d.Easing.Linear), 
this.color = new u.JitterColorTweenConfig(new u.JitterColorConfig(new l.JitterValue(255, 0, !0), new l.JitterValue(255, 0, !0), new l.JitterValue(255, 0, !0), new l.JitterValue(255, 0, !0)), new u.JitterColorConfig(new l.JitterValue(255, 0, !0), new l.JitterValue(255, 0, !0), new l.JitterValue(255, 0, !0), new l.JitterValue(255, 0, !0)), d.Easing.Linear);
}
return e.prototype.toJson = function() {
return {
texture: this.texture,
blendMode: this.blendMode,
maxParticles: this.maxParticles,
lifetimeMs: this.lifetimeMs.toJson(),
emitInterval: this.emitInterval.toJson(),
x: this.x.toJson(),
y: this.y.toJson(),
opacity: this.opacity.toJson(),
scale: this.scale.toJson(),
rotate: this.rotate.toJson(),
color: this.color.toJson()
};
}, e.prototype.fromJson = function(e) {
this.texture = e.texture, this.blendMode = e.blendMode, this.maxParticles = e.maxParticles, 
this.lifetimeMs.fromJson(e.lifetimeMs), this.emitInterval.fromJson(e.emitInterval), 
this.x.fromJson(e.x), this.y.fromJson(e.y), this.opacity.fromJson(e.opacity), this.scale.fromJson(e.scale), 
this.rotate.fromJson(e.rotate), this.color.fromJson(e.color);
}, e.prototype.setTextureList = function(e) {
this.textureList.replace(e);
}, r.__decorate([ s.observable ], e.prototype, "texture", void 0), r.__decorate([ s.observable ], e.prototype, "blendMode", void 0), 
r.__decorate([ s.observable ], e.prototype, "maxParticles", void 0), r.__decorate([ s.observable ], e.prototype, "lifetimeMs", void 0), 
r.__decorate([ s.observable ], e.prototype, "emitInterval", void 0), r.__decorate([ s.observable ], e.prototype, "x", void 0), 
r.__decorate([ s.observable ], e.prototype, "y", void 0), r.__decorate([ s.observable ], e.prototype, "opacity", void 0), 
r.__decorate([ s.observable ], e.prototype, "scale", void 0), r.__decorate([ s.observable ], e.prototype, "rotate", void 0), 
r.__decorate([ s.observable ], e.prototype, "color", void 0), r.__decorate([ s.action ], e.prototype, "fromJson", null), 
r.__decorate([ s.action ], e.prototype, "setTextureList", null), e;
}();
t.EmitterConfig = f;
var m = !1;
c.getBuildInfo().isRemoteEngine() && (window.pauseParticles = function() {
m = !m, p.__Logger.get("Emitter").log("Particle emitting " + (m ? "paused" : "resumed"));
});
var h = function() {
function e() {
var e = this;
this.started = !1, this.config = new f(), this.numParticles = 0, this.particleEmitted = new a.TwinkleTypedEvent(), 
this.configUpdated = new a.TwinkleSignal(), this.onParticleKilled = function() {
e.numParticles--;
}, this.emitParticle = function() {
if (e.numParticles < e.config.maxParticles && !m && e.particleEmitted.trigger(e.createParticle()), 
e.started) {
var t = e.config.emitInterval.generateValue();
setTimeout(e.emitParticle, Math.max(1, t));
}
};
}
return e.prototype.start = function() {
this.started = !0, this.emitParticle();
}, e.prototype.stop = function() {
this.started = !1;
}, e.prototype.createParticle = function() {
this.numParticles++;
var e = new o.Particle(Math.max(1, this.config.lifetimeMs.generateValue()), this.config.x.generateConfig(), this.config.y.generateConfig(), this.config.opacity.generateConfig(), this.config.scale.generateConfig(), this.config.rotate.generateConfig(), this.config.color.generateConfig());
return e.death.listenOnce(this.onParticleKilled), e;
}, e;
}();
t.Emitter = h;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t, n) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = null);
var r = this;
this.variance = 0, this.value = 0, this.absolute = null, o.action("jittervalue init", function() {
r.value = e, r.variance = t, r.absolute = n;
})();
}
return e.prototype.generateValue = function() {
return this.value + (Math.random() * (2 * this.variance) - this.variance);
}, e.prototype.toJson = function() {
return {
value: this.value,
variance: this.variance,
absolute: this.absolute
};
}, e.prototype.fromJson = function(e) {
this.value = e.value, this.variance = e.variance, this.absolute = e.absolute;
}, r.__decorate([ o.observable ], e.prototype, "variance", void 0), r.__decorate([ o.observable ], e.prototype, "value", void 0), 
r.__decorate([ o.observable ], e.prototype, "absolute", void 0), r.__decorate([ o.action ], e.prototype, "fromJson", null), 
e;
}();
t.JitterValue = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(78), u = n(27), l = n(5), c = 0, p = function(e, t, n) {
return Math.max(Math.min(n, t), e);
}, d = function() {
function e(e) {
this.index = e, this.isDestroyed = !1, this.x = this.createTween("x"), this.y = this.createTween("y"), 
this.opacity = this.createTween("opacity"), this.scale = this.createTween("scale"), 
this.rotate = this.createTween("rotate"), this.color = this.createTween("color");
}
return e.prototype.createTween = function(e) {
var t = "p_" + e + "_" + this.index + "_" + c++, n = "color" === e ? [ 1, 1, 1, 1 ] : 0;
return new s.Tween(t, n);
}, e.prototype.destroy = function() {
this.isDestroyed = !0, this.x.destroy(), this.y.destroy(), this.opacity.destroy(), 
this.scale.destroy(), this.rotate.destroy(), this.color.destroy();
}, e.getSurfaceEasing = function(e) {
return e.easing === u.Easing.Bezier ? [ p(0, 1, e.p1x), p(0, 1, e.p1y), p(0, 1, e.p2x), p(0, 1, e.p2y) ] : e.easing;
}, e.prototype.runTween = function(t, n, r) {
var o = n.from, i = n.to;
t === this.opacity && (o = Math.min(1, Math.max(0, o)), i = Math.min(1, Math.max(0, i))), 
t.transition(o, i, {
duration: r,
easing: e.getSurfaceEasing(n)
});
}, e.prototype.run = function(e) {
this.runTween(this.x, e.x, e.lifespan), this.runTween(this.y, e.y, e.lifespan), 
this.runTween(this.opacity, e.opacity, e.lifespan), this.runTween(this.scale, e.scale, e.lifespan), 
this.runTween(this.rotate, e.rotate, e.lifespan), this.color.transition(e.color.fromColor.asArray(), e.color.toColor.asArray(), {
duration: e.lifespan
});
}, e.prototype.reset = function() {
this.isDestroyed || (this.opacity.set(0), this.x.set(0), this.y.set(0), this.scale.set(0), 
this.rotate.set(0), this.color.set([ 255, 255, 255, 255 ]));
}, e;
}();
t.ParticleRenderer = d;
var f = l.StaticStyle.create({
position: "absolute",
width: 10,
height: 10
}, "9aed88cd:170:30"), m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.freeRenderers = [], t.numRenderersCreated = 0, t.indexToRenderer = {}, 
t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this, t = this.props.emitter;
this.cancelConfig = t.configUpdated.listen(function() {
e.forceUpdate();
}), this.cancelEmit = t.particleEmitted.listen(function(t) {
e.setupParticle(t);
});
}, t.prototype.setupParticle = function(e) {
var t = this, n = this.freeRenderers.pop();
void 0 !== n ? (n.run(e), e.death.listenOnce(function() {
n.reset(), t.freeRenderers.push(n);
})) : this.numRenderersCreated < this.props.emitter.config.maxParticles ? this.numRenderersCreated++ : console.error("No free renderers");
}, t.prototype.componentWillUnmount = function() {
var e = this;
this.cancelConfig && this.cancelConfig(), this.cancelEmit && this.cancelEmit(), 
Object.keys(this.indexToRenderer).forEach(function(t) {
e.indexToRenderer[t].destroy(), delete e.indexToRenderer[t], e.freeRenderers.length = 0;
});
}, t.prototype.renderParticleSurface = function(e) {
var t = this.indexToRenderer[e + ""];
if (!t) {
if (t = this.indexToRenderer[e + ""] = new d(e), this.props.emitter.config.textureList && this.props.emitter.config.textureList.length > 0) {
var n = Math.floor(Math.random() * this.props.emitter.config.textureList.length);
t.texture = this.props.emitter.config.textureList[n];
} else "" !== this.props.emitter.config.texture && (t.texture = this.props.emitter.config.texture);
this.freeRenderers.push(t);
}
var r = {
texture: t.texture
};
"normal" !== this.props.emitter.config.blendMode && (r.blendMode = this.props.emitter.config.blendMode);
var i = l.merge4(f, l.DynamicStyle.wrapLegacyStyle(r, "9aed88cd:175:16"), l.merge4(t.x.getStyleClass("translateX"), t.y.getStyleClass("translateY"), t.opacity.getStyleClass("opacity"), t.scale.getStyleClass("scaleX")), l.merge3(t.scale.getStyleClass("scaleY"), t.rotate.getStyleClass("rotateZ"), t.color.getStyleClass("color")));
return o.createElement("surface", {
key: e,
style: i
});
}, t.prototype.render = function() {
for (var e = [], t = 0; t < this.numRenderersCreated; t++) e.push(this.renderParticleSurface(t));
return o.createElement("surface", null, e);
}, r.__decorate([ i.observable ], t.prototype, "numRenderersCreated", void 0), r.__decorate([ i.action ], t.prototype, "setupParticle", null), 
t = r.__decorate([ a.observer ], t);
}(o.Component);
t.Renderer = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(52), o = [], i = function() {
function e(e) {
this.connectionId = e, this.isSent = !1;
}
return e.prototype.send = function(e, t) {
if (this.isSent) throw new Error("Response already sent for connection ID " + this.connectionId);
r.nativeApi.sendDebugHttpResponse(this.connectionId, e, t), this.isSent = !0;
}, e;
}();
t.DebugHttpResponse = i, t.onGet = function a(e, t) {
o.push({
method: "GET",
uri: e,
callback: t
});
}, t.onPost = function s(e, t) {
o.push({
method: "POST",
uri: e,
callback: t
});
};
var u = function() {
function e(e) {
this.queryString = e;
}
return e.prototype.getParsed = function() {
if (this.parsed) return this.parsed;
var e = {};
return ("?" === this.queryString[0] ? this.queryString.substr(1) : this.queryString).split("&").forEach(function(t) {
if ("" !== t) if (-1 !== t.indexOf("=")) {
var n = t.split("="), r = n[0], o = n[1];
e[r] = decodeURIComponent(o);
} else e[t] = void 0;
}), this.parsed = e, e;
}, e.prototype.hasValues = function() {
return Object.keys(this.getParsed()).length > 0;
}, e.prototype.toObject = function() {
return Object.assign({}, this.getParsed());
}, e.prototype.getValue = function(e) {
return this.getParsed()[e];
}, e.prototype.getString = function(e) {
return this.getValue(e) || "";
}, e.prototype.getNumber = function(e) {
try {
var t = parseFloat(this.getString(e));
return isNaN(t) ? void 0 : t;
} catch (e) {
return;
}
}, e.prototype.getBoolean = function(e) {
var t = this.getString(e);
return [ "true", "1" ].indexOf(t) > -1 || !([ "false", "0" ].indexOf(t) > -1) && void 0;
}, e.prototype.isSet = function(e) {
return this.getParsed().hasOwnProperty(e);
}, e;
}();
r.nativeApi.onDebugHttpRequest = function(e, t, n, r, a) {
null === r && (r = void 0);
var s = new u(r || "");
if (null === a && (a = void 0), "POST" === t && a) {
var l = s.getNumber("contentLength");
"number" == typeof l && (a = a.substr(0, l));
}
var c = {
connectionId: e,
method: t,
uri: n,
query: s,
body: a
}, p = o.find(function(e) {
return e.method === c.method && e.uri === c.uri;
}), d = new i(c.connectionId);
if (p) p.callback(c, d); else {
d.send(404, "404 Not Found (sent by Sparta JavaScript). Ensure you have registered the correct HTTP method.");
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("CheckboxStyles"), a = function() {
function e() {}
var t;
return t = e, e.texture = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/ui/checkbox-ee4a5c14.png");
}, "104dff31:7:21"), e.textureChecked = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/ui/checkbox_on-3892f9f9.png");
}, "104dff31:8:28"), e.checkbox = o.multistyle(function(e) {
return o.style({
texture: e ? t.textureChecked : t.texture,
alignSelf: "center",
width: 16,
height: 16,
textureBorder: 2,
textureMode: "fill"
}, "104dff31:10:55");
}), e = t = r.__decorate([ i.style ], e);
}();
t.CheckboxStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1089), o = n(24), i = n(10);
t.liveConfigClient = r.createClient(o.request), t.fetchLiveConfig = function a() {
t.liveConfigClient.request({
games: i.gameStore.enabledGameIds
}).onSuccess(function(e) {
i.settingsStore.setLiveConfig(e);
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(5);
t.Clipper = function(e) {
var t = e.height, n = e.width, i = e.children, a = e.clipContent, s = void 0 === a || a, u = e.clipPadding, l = void 0 === u ? [ 0, 0, 0, 0 ] : u, c = e.softClip, p = void 0 === c ? [ 0, 0, 0, 0 ] : c, d = e.style, f = void 0;
if (s) {
var m = n + (l[1] + l[3]), h = t + (l[0] + l[2]);
f = o.DynamicStyle.create({
layer: s,
layerClip: s,
layerGrabBackground: !1,
layerSoftClip: p,
width: m,
height: h,
margin: [ -l[0], -l[1], -l[2], -l[3] ],
padding: [ l[0], l[1], l[2], l[3] ]
}, "da1e3346:28:20");
}
return r.createElement("surface", {
style: o.merge2(f, d)
}, i);
}, t.Clipper.displayName = "Clipper";
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1096), o = n(1098);
t.environmentInfoStore = new o.EnvironmentInfoStore(r.environmentInfoClient);
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(26), a = n(12), s = n(11), u = n(75), l = n(6), c = n(29), p = n(49), d = n(25), f = n(7), m = n(1100), h = n(5), g = n(19), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = f.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getChangeUserAction = function() {
return {
action: function() {
p.showLocalUserSelectionUI();
},
label: __("ID_SPARTA_MENU_CHANGE_PROFILE")
};
}, n.prototype.getCloseAction = function() {
var e = this;
return {
action: function() {
e.props.popup && d.close(e.props.popup.id);
},
label: __("ID_SPARTA_ACTION_CLOSE")
};
}, n.prototype.getInput = function() {
var t = [];
return this.sparta.stores.onlineState.canGoOnline && t.push(S(this.sparta.twinkle, this.sparta.stores.inputRouter, this.sparta.stores.onlineState, this.sparta.stores.popupManager)), 
this.sparta.twinkle.buildInfo.isXboxOne && this.sparta.stores.onlineState.canChangeUser && t.push(new a.Input(e.__assign({
key: s.Keys.Option2
}, this.getChangeUserAction()))), void 0 !== this.props.popup && t.push(new a.Input(e.__assign({
key: s.Keys.Decline
}, this.getCloseAction()))), t;
}, n.prototype.getConnectButton = function() {
var e = S(this.sparta.twinkle, this.sparta.stores.inputRouter, this.sparta.stores.onlineState, this.sparta.stores.popupManager);
return r.createElement(u.Button, {
name: "36a1e30a:93:23" + this.props.name,
text: e.label,
style: m.ConnectionStateStyles.connectButton,
action: e.action
});
}, n.prototype.getCloseButton = function() {
var e = this.getCloseAction();
return r.createElement(u.Button, {
name: "36a1e30a:105:23" + this.props.name,
text: e.label,
style: m.ConnectionStateStyles.closeButton,
action: e.action
});
}, n.prototype.render = function() {
var e = this.sparta.twinkle.buildInfo, t = this.sparta.stores, n = t.onlineState, o = t.startScreenStore, i = e.isPC && n.canGoOnline ? this.getConnectButton() : null, a = e.isPC && void 0 !== this.props.popup ? this.getCloseButton() : null, s = n.connectionMessage, u = n.isConnecting && !o.isVisible && r.createElement(c.Spinner, {
large: !0,
style: m.ConnectionStateStyles.spinner
}), p = g.isRTLLanguage() ? m.ConnectionStateStyles.alignItemRTL : h.emptyStyle;
return r.createElement("surface", {
style: h.merge2(m.ConnectionStateStyles.container, this.props.style || h.emptyStyle)
}, r.createElement("surface", {
style: h.merge2(m.ConnectionStateStyles.content, this.props.contentStyle || h.emptyStyle)
}, u, r.createElement(l.Text, {
value: s.title.toUpperCase(),
size: "L",
style: h.merge2(m.ConnectionStateStyles.title, this.props.alignLeft ? p : h.emptyStyle)
}), r.createElement(l.Text, {
value: s.description,
size: "S",
style: h.merge2(m.ConnectionStateStyles.description, this.props.alignLeft ? h.emptyStyle : m.ConnectionStateStyles.descriptionCentered)
}), i, a));
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ o.observer, i.input ], n);
}(r.Component);
function S(e, t, n, r) {
var o = e.focus.controllerMode || "PC" !== t.currentInputType;
return new a.Input({
key: s.Keys.Option1,
action: function() {
n.connect(function(e) {
e.title.length > 0 && e.description.length > 0 && r.alert(e.description, e.title);
});
},
label: n.goOnlineIsRetry ? __("ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN") : __("ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE"),
visible: o
});
}
t.ConnectionState = y, t.getConnectAction = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("DebugStyles"), a = function() {
function e() {}
return e.splitRow = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(4),
marginRight: -o.Grid.spacer(),
marginLeft: -o.Grid.spacer(),
flexDirection: "row",
alignItems: "center"
}, "5811fe71:7:33");
}), e.splitIndentRow = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(4),
marginRight: -o.Grid.spacer(),
marginLeft: -o.Grid.spacer(),
flexDirection: "row",
alignItems: "center",
paddingLeft: o.Grid.spacer(2)
}, "5811fe71:17:39");
}), e.column = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(15)
}, "5811fe71:28:31");
}), e.row = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(4),
paddingLeft: o.Grid.spacer(2)
}, "5811fe71:34:28");
}), e.text = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2)
}, "5811fe71:41:29");
}), e.description = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2),
flexDirection: "row",
justifyContent: "space-between",
alignItems: "flex-end"
}, "5811fe71:47:36");
}), e.multiline = o.wrap(function() {
return o.style({
height: o.Grid.getHeight(20)
}, "5811fe71:56:34");
}), e.button = o.wrap(function() {
return o.style({
flex: 1,
marginRight: o.Grid.spacer(),
marginLeft: o.Grid.spacer()
}, "5811fe71:62:31");
}), e.enabled = o.wrap(function() {
return o.style({
backgroundColor: "#00ff0050"
}, "5811fe71:70:32");
}), e.disabled = o.wrap(function() {
return o.style({
backgroundColor: "#ff000050"
}, "5811fe71:76:33");
}), e.avatar = o.stylefunc(function() {
return o.style({
marginRight: o.Grid.spacer(),
marginLeft: o.Grid.spacer(),
width: 50,
height: 50,
textureMode: "contain"
}, "5811fe71:83:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "5811fe71:91:39");
}), e.info = o.wrap(function() {
return o.style({
flex: 1,
marginLeft: o.Grid.spacer(4)
}, "5811fe71:97:29");
}), e = r.__decorate([ i.style ], e);
}();
t.DebugRecommendationsStyles = a;
var s = function() {
function e() {}
return e.list = o.wrap(function() {
return o.style({
justifyContent: "center",
alignItems: "center"
}, "5811fe71:107:29");
}), e.scroller = o.wrap(function() {
return o.style({
flex: 1,
alignItems: "stretch",
width: o.Grid.getWidth(10),
maxHeight: o.LayoutBounds.content.height - o.Grid.spacer(2),
margin: [ o.Grid.spacer(4), 0, o.Grid.spacer(4), 0 ]
}, "5811fe71:114:33");
}), e.button = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(6)
}, "5811fe71:124:31");
}), e.empty = o.wrap(function() {
return o.style({
margin: [ o.Grid.spacer(2), 0, o.Grid.spacer(2), 0 ],
textAlign: "center",
textAlignForRTL: "center"
}, "5811fe71:130:30");
}), e = r.__decorate([ i.style ], e);
}();
t.DebugSelectorStyles = s;
var u = function() {
function e() {}
return e.section = i.wrap(function() {
return o.style({
marginBottom: 30
}, "5811fe71:141:21");
}), e.text = i.wrap(function() {
return o.style({
marginBottom: 10
}, "5811fe71:145:18");
}), e.leftColumn = i.wrap(function() {
return o.style({
flex: 1,
paddingRight: 10
}, "5811fe71:149:24");
}), e.rightColumn = i.wrap(function() {
return o.style({
flex: 1,
paddingLeft: 10
}, "5811fe71:154:25");
}), e.connectionState = i.wrap(function() {
return o.style({
position: "relative",
alignItems: "stretch",
justifyContent: "flex-start"
}, "5811fe71:159:29");
}), e.connectionStateContent = i.wrap(function() {
return o.style({
width: null,
position: "relative",
alignItems: "stretch",
justifyContent: "flex-start"
}, "5811fe71:165:36");
}), e = r.__decorate([ i.style ], e);
}();
t.DebugScreenStyles = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(8);
t.IconSize = {
XXL: "XXL",
XL: "XL",
L: "L",
M: "M",
S: "S",
XS: "XS"
};
var o = {
XXL: r.getHeight(12),
XL: r.getHeight(6),
L: r.getHeight(4),
M: r.getHeight(3),
S: r.getHeight(2),
XS: r.getHeight(1.5)
};
t.getIconSizes = function i() {
return o;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(171);
t.RouteContext = r.createContext("RouteConfig", null);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(1), a = n(4), s = n(6), u = n(7), l = n(33), c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = u.SpartaContext.getFromComponent(t), t;
}
var n;
return o.__extends(t, e), n = t, t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).getFonts(), t = this.props.type && n.textType[this.props.type], r = t && e[t] || e.headerNormal;
return i.createElement(s.Text, o.__assign({}, this.props, {
font: r
}));
}, t.contextTypes = u.SpartaContext.contextTypes, t.textType = ((r = {})[l.TextType.LIGHT] = l.TextType.HEADER_LIGHT, 
r[l.TextType.HEADER_LIGHT] = l.TextType.HEADER_LIGHT, r[l.TextType.NORMAL] = l.TextType.HEADER_NORMAL, 
r[l.TextType.HEADER_NORMAL] = l.TextType.HEADER_NORMAL, r[l.TextType.EMPHASIS] = l.TextType.HEADER_EMPHASIS, 
r[l.TextType.HEADER_EMPHASIS] = l.TextType.HEADER_EMPHASIS, r), t = n = o.__decorate([ a.observer ], t);
}(i.Component);
t.HeaderText = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(65), a = o.Template("StartScreenStyles"), s = function() {
function e() {}
var t;
return t = e, e.eaLogoUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-ea-300d3ce5.png");
}, "a0efee39:16:23"), e.diceLogoUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-dice-c4e44205.png");
}, "a0efee39:17:25"), e.container = a.wrap(function() {
return o.style({
position: "absolute",
zOffset: i.OffsetStyles.startScreen,
textureMode: "none",
backgroundColor: "#000000FF"
}, "a0efee39:19:23");
}), e.gameLogo = o.stylefunc(function() {
return o.style({
textureMode: "contain",
width: o.LayoutBounds.startScreenLogo.style.width,
height: o.LayoutBounds.startScreenLogo.style.height
}, "a0efee39:27:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture,
width: e.width,
height: e.height
}, "a0efee39:33:69");
}), e.content = a.wrap(function() {
return o.style({
position: "absolute",
justifyContent: "center",
alignItems: "center",
width: o.LayoutBounds.screen.width,
height: o.LayoutBounds.screen.height
}, "a0efee39:41:21");
}), e.buttons = a.wrap(function() {
return o.style({
justifyContent: "center",
alignItems: "center"
}, "a0efee39:49:21");
}), e.eaLogo = a.wrap(function() {
return o.style({
texture: t.eaLogoUrl,
textureMode: "contain",
backgroundColor: "#ffffff",
marginRight: 20,
height: 50,
width: 50
}, "a0efee39:54:20");
}), e.diceLogo = a.wrap(function() {
return o.style({
texture: t.diceLogoUrl,
textureAlignX: 0,
textureMode: "contain",
backgroundColor: "#ffffff",
flex: 1,
height: 18,
width: 74
}, "a0efee39:63:22");
}), e.copyrightYear = a.wrap(function() {
return o.style({
color: "#ffffff"
}, "a0efee39:73:27");
}), e = t = r.__decorate([ a.style ], e);
}();
t.StartScreenStyles = s;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(565), i = n(6), a = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.formatMinutes = function(e) {
return e + " " + __(1 === e ? "ID_SPARTA_DATETIME_MINUTE" : "ID_SPARTA_DATETIME_MINUTES");
}, n.prototype.formatHours = function(e) {
return e + " " + __(1 === e ? "ID_SPARTA_DATETIME_HOUR" : "ID_SPARTA_DATETIME_HOURS");
}, n.prototype.formatDays = function(e) {
return e + " " + __(1 === e ? "ID_SPARTA_DATETIME_DAY" : "ID_SPARTA_DATETIME_DAYS");
}, n.prototype.getDateFormat = function(e) {
var t = new Date(), n = e instanceof Date ? e : new Date(1e3 * e), r = Math.round(Math.abs((n.getTime() - t.getTime()) / 864e5));
if (0 === r) return __("ID_SPARTA_DATETIME_TODAY").toLocaleUpperCase();
if (1 === r) return __("ID_SPARTA_DATETIME_YESTERDAY").toLocaleUpperCase();
var i = this.props.mask ? o.DateMask[this.props.mask] : o.DateMask.defaultDate;
return o.dateFormat(n, i).toUpperCase();
}, n.prototype.getTimeFormat = function(e) {
var t = e instanceof Date ? e.getTime() / 1e3 : e, n = Math.floor(t / 86400), r = Math.floor(t / 3600), o = Math.floor(t / 60);
if (!this.props.unit) return n >= 1 ? this.formatDays(n) : r >= 1 ? this.formatHours(r) : this.formatMinutes(o);
switch (this.props.unit) {
case "minutes":
return this.formatMinutes(o);

case "hours":
return this.formatHours(r);

case "H":
return r + __("ID_SPARTA_DATETIME_H");

case "days":
return this.formatDays(n);

default:
return "";
}
}, n.prototype.getAgoFormat = function(e) {
var t = this.getTimeFormat(e);
return __("ID_SPARTA_DATETIME_AGO").replace("[[time]]", t);
}, n.prototype.sinceNow = function(e) {
var t = e instanceof Date ? e.getTime() / 1e3 : e;
return Date.now() / 1e3 - t;
}, n.prototype.render = function() {
var t, n = this.props, o = (n.mask, n.unit, n.time), a = n.format, s = e.__rest(n, [ "mask", "unit", "time", "format" ]);
switch (a) {
case "date":
t = this.getDateFormat(o);
break;

case "time":
t = this.getTimeFormat(o);
break;

case "ago":
t = this.getAgoFormat(this.sinceNow(o));
break;

default:
t = "";
}
return r.createElement(i.Text, e.__assign({
value: t
}, s));
}, n;
}(r.Component);
t.DateText = a;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(312), s = n(12), u = n(11), l = n(6), c = n(137), p = n(265), d = n(182), f = n(265), m = n(17), h = n(5), g = n(7), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = g.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this.sparta.twinkle.texture.createPreloader(this);
e.preload(f.VideoRecommendationStyles.playIconActive, f.VideoRecommendationStyles.textureAtlas), 
e.preload(f.VideoRecommendationStyles.playIconInactive, f.VideoRecommendationStyles.textureAtlas);
}, n.prototype.render = function() {
var e = h.merge2(m.CommonStyles.dock, f.VideoRecommendationStyles.playIndicator(this.props.focusItem.isFocusedOrHovered));
return r.createElement("surface", {
style: e
});
}, n.contextTypes = g.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.PlayIndicator = y;
var S = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = g.SpartaContext.getFromComponent(r), r.cardButtons = [ new s.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
blockInputFor: 500,
action: r.showFullScreenPopup,
key: u.Keys.Accept
}) ], r.isFullscreen = !1, r.video = r.sparta.twinkle.video.loadVideo(r.props.recommendation.url), 
r.focusItem = r.sparta.twinkle.focus.create(r, "video_rec_card" + r.props.recommendation.id), 
r.sparta.stores.recommendationStore.addLifecycleHooks(r, r.props.recommendation.slug), 
r;
}
return e.__extends(n, t), n.prototype.componentWillUpdate = function(e) {
this.props.recommendation.url !== e.recommendation.url && (this.video = this.sparta.twinkle.video.loadVideo(e.recommendation.url));
}, n.prototype.showFullScreenPopup = function() {
var e = this;
this.sparta.stores.recommendationStore.handleCardInteraction(this), this.isFullscreen = !0, 
a.showFullscreenVideo(this.sparta, this.video, this.props.recommendation.title).then(i.action(function() {
e.isFullscreen = !1, e.focusItem.isFocusedOrHovered && e.video.play();
}));
}, n.prototype.render = function() {
var e = this.props.recommendation, t = (e.subTitle || __("ID_SPARTA_CARD_WATCH")).toUpperCase();
return r.createElement(c.Card, {
forcedActive: this.isFullscreen,
focusItem: this.focusItem,
input: this.cardButtons,
background: e.image,
backgroundVideo: this.video,
overlay: r.createElement(y, {
focusItem: this.focusItem
}),
size: this.props.size
}, r.createElement(l.Text, {
value: t,
size: "XS",
style: p.CommonRecommendationStyles.eyebrow
}), r.createElement(l.Text, {
value: e.title,
size: "M"
}), r.createElement(d.ImageSlots, {
recommendation: this.props.recommendation
}));
}, n.contextTypes = g.SpartaContext.contextTypes, e.__decorate([ i.observable ], n.prototype, "isFullscreen", void 0), 
e.__decorate([ i.action.bound ], n.prototype, "showFullScreenPopup", null), n = e.__decorate([ o.observer ], n);
}(r.Component);
t.VideoRecommendationCard = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(18), r = n(43), o = n(135), i = o.frostbiteAction("sparta.commerceCheckout"), a = o.frostbiteAction("sparta.commerceShowDetails");
function s(e, t) {
return !(e.twinkle.buildInfo.isPC && !t) || (e.stores.popupManager.alert(__("ID_SPARTA_ORIGIN_IGO_DISABLED", !0)), 
!1);
}
t.goToRoute = function u(t, n) {
if ("operations" === n) r.enterSpecificGameMode("operations"); else if (n.startsWith("crosslaunch/")) {
var o = n.substring(n.indexOf("/") + 1);
t.stores.crosslaunchManager.continueCrosslaunch(o, {});
} else n.startsWith("originUpsell/") ? t.stores.settingsStore.canShowInGameOverlay(function(e) {
if (s(t, e)) {
var r = n.substring(n.indexOf("/") + 1);
i({
offerId: r
});
}
}) : n.startsWith("showOffer/") ? t.stores.settingsStore.canShowInGameOverlay(function(e) {
if (s(t, e)) {
var r = n.substring(n.indexOf("/") + 1);
a({
offerId: r
});
}
}) : e.gotoLocation(n);
}, t.warnOnMissingOriginInGame = s;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(156), a = function() {
function e(e) {
this.guid = e.guid, this.role = e.role;
}
return e.fromBackend = function(t) {
return new e({
guid: t.guid,
role: i.stringToEnum(t.role)
});
}, Object.defineProperty(e.prototype, "isGeneral", {
get: function() {
return this.role === i.MemberRole.GENERAL;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isColonel", {
get: function() {
return this.role === i.MemberRole.COLONEL;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isLieutenant", {
get: function() {
return this.role === i.MemberRole.LIEUTENANT;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPrivate", {
get: function() {
return this.role === i.MemberRole.PRIVATE;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isMember", {
get: function() {
return !(this.role === i.MemberRole.UNKNOWN || this.role === i.MemberRole.PENDING);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPending", {
get: function() {
return this.role === i.MemberRole.PENDING;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.observable ], e.prototype, "guid", void 0), r.__decorate([ o.observable ], e.prototype, "role", void 0), 
r.__decorate([ o.computed ], e.prototype, "isGeneral", null), r.__decorate([ o.computed ], e.prototype, "isColonel", null), 
r.__decorate([ o.computed ], e.prototype, "isLieutenant", null), r.__decorate([ o.computed ], e.prototype, "isPrivate", null), 
r.__decorate([ o.computed ], e.prototype, "isMember", null), r.__decorate([ o.computed ], e.prototype, "isPending", null), 
e;
}();
t.PlatoonMembership = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(1166), s = n(19), u = n(1171), l = n(6), c = n(21), p = n(58), d = n(65), f = n(5), m = n(9), h = n(7), g = n(412), y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = h.SpartaContext.getFromComponent(t), t.route = g.RouteContext.getFromComponent(t), 
t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.route && this.route.gameId;
if (!e) return null;
var t = [];
if (this.sparta.stores.noticeStore.get(e)) t.push(o.createElement(u.NoticeBanner, {
gameId: e,
key: "banner"
})); else if (!this.props.hideWelcomeMessage) {
var n = a.welcomeMessageStore.get(e).value;
if (n) {
var r = m.SpartaGlobals.bundleIsPC ? c.TextSize.M : c.TextSize.L, i = f.merge2(d.OverviewHeadingStyles.message, s.localeLetterSpacing({}));
n.firstMessage && t.push(o.createElement(l.Text, {
size: r,
value: n.firstMessage,
style: i,
key: "msg-1st"
})), n.secondMessage && t.push(o.createElement(l.Text, {
size: r,
value: " " + n.secondMessage,
style: i,
key: "msg-2nd"
})), this.props.extraMessages && this.props.extraMessages.forEach(function(e, n) {
t.push(o.createElement(l.Text, {
size: r,
value: " " + e,
style: i,
key: "extra" + n
}));
});
}
}
return o.createElement(p.Marquee, {
shuttle: !0,
delay: 500,
style: d.OverviewHeadingStyles.heading
}, o.createElement(s.LocaleRearrange, {
style: d.OverviewHeadingStyles.headingInner
}, t));
}, t.contextTypes = r.__assign({}, g.RouteContext.contextTypes, h.SpartaContext.contextTypes), 
t = r.__decorate([ i.observer ], t);
}(o.Component);
t.OverviewHeading = y;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(421), a = n(32), s = n(179), u = n(50), l = n(93), c = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.getOffers = function(e) {
var t = this.props.viewLocation.args.offerId, n = e.findById(t);
if (n) {
var r = [], o = n.licenses[0];
return o ? r = e.findByLicense(o).filter(function(e) {
return e.id !== n.id;
}) : n.group === s.OfferGroup.XPACKS && (r = e.premium.slice()), [ n ].concat(r);
}
return [];
}, t.prototype.render = function() {
var e = this, t = this.props.viewLocation.args.gameId;
return o.createElement(a.Template, {
tallContent: !0,
scrollContent: !1
}, o.createElement(u.OptimisticFragmentLoader, {
load: l.offersStore.get(t)
}, function(n) {
return o.createElement(i.GameOffer, {
offers: e.getOffers(n),
gameId: t,
isInstallable: !1
});
}));
}, t;
}(o.Component);
t.OfferDetails = c;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(230), a = n(75), s = n(34), u = n(141), l = n(183), c = n(315), p = n(21), d = n(26), f = n(12), m = n(11), h = n(18), g = n(39), y = n(179), S = n(102), v = n(4), _ = n(202), b = n(135), T = n(89), E = n(98), C = n(7), I = n(317), A = n(19), w = n(417), P = n(5), R = n(563), O = b.frostbiteAction("sparta.commerceCheckout"), x = P.StaticStyle.create({
marginTop: 7,
textAlignForRTL: "left"
}, "998c5467:173:28"), k = P.StaticStyle.create({
marginRight: 10
}, "998c5467:451:44"), L = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = C.SpartaContext.getFromComponent(r), r.copy = u.copyStore.getCopyPage("pdp"), 
r.settings = u.copyStore.getCopyPage("settings"), r.joinAndBuy = !1, r.selectionState = new E.ListSelectionState(), 
r.subscriptionStatus = r.sparta.stores.subscriptionStatusStore.get(), r.learnMoreAboutAccess = function() {
return h.gotoLocation(r.commerceNavigation.locationLearnAboutAccess);
}, r.openPremierUpsell = function() {
r.sparta.stores.settingsStore.canShowInGameOverlay(function(e) {
r.props.premierUpsellOffer && w.warnOnMissingOriginInGame(r.sparta, e) && O({
offerId: r.props.premierUpsellOffer
});
});
}, r.buyGame = function(e) {
void 0 === e && (e = !1);
var t = r.props.offers[r.selectionState.activeItemIndex];
t && (!r.joinAndBuy && r.ownsGame(t) ? O({
offerId: t.productId,
crossTitleCheckout: "game" === t.type,
owned: !0
}) : S.PurchaseFlow.start(t));
}, r.joinAndBuyGame = function() {
var e = r.props.offers[r.selectionState.activeItemIndex];
if (e) {
var t = r.commerceNavigation.locationSubscribeAndSave;
t = t + "?offerId=" + e.offerId + "&gameId=" + r.props.gameId, r.props.offerGameId && (t = t + "&offerGameId=" + r.props.offerGameId), 
h.gotoLocation(t);
}
}, r.commerceNavigation = r.props.commerceNavigation || new I.DefaultCommerceNavigation(r.props.gameId, r.sparta.stores.gameStore), 
r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.sparta.stores.subscriptionStatusStore.refresh();
}, n.prototype.getInput = function() {
if (this.sparta.twinkle.focus.controllerMode && _.commerceFeatureFlags.subscriberAccess.isEnabledFor(this.props.gameId) && _.commerceFeatureFlags.subscriberAccessPDP.isEnabledFor(this.props.gameId) && !_.commerceFeatureFlags.disableSubscribeAndSell.isEnabledFor(this.props.gameId)) {
var e = u.copyStore.getProperty(this.copy, "subscribeAndSave.accessLinkLabel") || "";
return A.isRTLLanguage() && (e = this.sparta.twinkle.buildInfo.isPC ? __("ID_SPARTA_ACCESS_LINK_LABEL_PC") : __("ID_SPARTA_ACCESS_LINK_LABEL_XBOX")), 
"" === e ? null : new f.Input({
action: this.learnMoreAboutAccess,
key: m.Keys.Option1,
label: e
});
}
}, n.prototype.getNotification = function() {
var e = u.copyStore.getProperty(this.copy, "subscribeAndSave.notification") || "";
if ("" === e) return null;
var t = this.sparta.theme.getTheme(this).gameOffer, n = t.imageIcon({
texture: u.copyStore.getProperty(this.settings, "assets.icon-info.url"),
width: parseInt(u.copyStore.getProperty(this.settings, "assets.icon-info.width"), 10),
height: parseInt(u.copyStore.getProperty(this.settings, "assets.icon-info.height"), 10)
});
return r.createElement("surface", {
style: t.notificationContainer
}, r.createElement("surface", {
style: n
}), r.createElement(o.Text, {
value: e,
style: t.bottomSpacer,
size: p.TextSize.XS
}));
}, n.prototype.getAccessInfo = function() {
var e = u.copyStore.getProperty(this.copy, "subscribeAndSave.accessInfo") || "";
if (A.isRTLLanguage() && (e = this.sparta.twinkle.buildInfo.isPC ? __("ID_SPARTA_ACCESS_INFO_PC") : __("ID_SPARTA_ACCESS_INFO_XBOX")), 
"" === e) return null;
var t = this.sparta.stores.offersStore.get(this.props.offerGameId || this.props.gameId), n = t.value && t.value.access, i = new P.StaticStyle("rtlStyle", {
textAlignForRTL: "left"
});
if (n && n.length) {
if (e = e.replace("%PRICE%", n[0].price), this.sparta.twinkle.buildInfo.isPC) return r.createElement(o.Text, {
value: e,
size: p.TextSize.XS,
style: i
});
if (this.sparta.twinkle.buildInfo.isXboxOne) {
var a = this.sparta.theme.getTheme(this).gameOffer;
return r.createElement(o.Text, {
value: e,
style: P.merge2(a.bottomSpacer, i),
size: p.TextSize.XS
});
}
}
return null;
}, n.prototype.getAccessLink = function() {
var e = this.commerceNavigation.locationLearnAboutAccess, t = u.copyStore.getProperty(this.copy, "subscribeAndSave.accessLinkLabel") || "";
return A.isRTLLanguage() && (t = this.sparta.twinkle.buildInfo.isPC ? __("ID_SPARTA_ACCESS_LINK_LABEL_PC") : __("ID_SPARTA_ACCESS_LINK_LABEL_XBOX")), 
"" === t ? null : this.sparta.twinkle.buildInfo.isPC ? r.createElement(c.LinkText, {
action: "link",
text: t,
style: x,
location: e
}) : void 0;
}, n.prototype.getDivider = function() {
var e = u.copyStore.getProperty(this.copy, "subscribeAndSave.dividerLabel") || "", t = this.sparta.theme.getTheme(this).gameOffer;
return r.createElement("surface", {
style: t.labelOr
}, r.createElement("surface", {
style: t.labelOrHandleBarLeft
}), r.createElement(o.Text, {
value: e,
size: p.TextSize.XS
}), r.createElement("surface", {
style: t.labelOrHandleBarRight
}));
}, n.prototype.isPremierEnabled = function(e) {
var t = this.subscriptionStatus.value;
return this.sparta.twinkle.buildInfo.isPC && this.props.showPremier && this.props.premierUpsellOffer && t && !t.isOriginAccessPremier && !this.ownsGame(e);
}, n.prototype.getPremierButton = function(e) {
if (this.isPremierEnabled(e)) {
var t = !!this.subscriptionStatus.value && this.subscriptionStatus.value.isOriginAccessBasic, n = u.copyStore.getProperty(this.copy, "subscribeAndSave.ctaLabelPremier") || __("ID_SPARTA_COMMERCE_ACCESS_PREMIER_CTA"), i = u.copyStore.getProperty(this.copy, "subscribeAndSave.ctaLabelPremierUpgrade") || __("ID_SPARTA_COMMERCE_ACCESS_PREMIER_UPGRADE_CTA"), s = t ? i : n, l = this.sparta.theme.getTheme(this).gameOffer;
return r.createElement("surface", null, this.getNotification(), r.createElement("surface", {
style: l.premierImage
}), r.createElement(o.Text, {
value: u.copyStore.getProperty(this.copy, "subscribeAndSave.premierPoint2") || __("ID_SPARTA_DESTINATION_PREMIER_POINT_2"),
size: p.TextSize.S,
style: l.bulletPoint
}), r.createElement("surface", {
style: l.bottomSpacer
}, this.getAccessInfo(), this.getAccessLink()), r.createElement(a.Button, {
name: "998c5467:251:31",
stealFocus: !0,
text: s,
textSize: l.buttonTextSize,
style: l.bottomSpacer,
action: this.openPremierUpsell
}), this.getDivider());
}
}, n.prototype.isJoinAndBuyEnabled = function(e) {
var t = this.subscriptionStatus.value;
return _.commerceFeatureFlags.subscriberAccess.isEnabledFor(this.props.gameId) && _.commerceFeatureFlags.subscriberAccessPDP.isEnabledFor(this.props.gameId) && !_.commerceFeatureFlags.disableSubscribeAndSell.isEnabledFor(this.props.gameId) && t && !t.subscribed && !this.ownsGame(e);
}, n.prototype.getJoinAndBuyButton = function(e) {
if (this.isJoinAndBuyEnabled(e) && !this.isPremierEnabled(e)) {
this.joinAndBuy = !0;
var t = u.copyStore.getProperty(this.copy, "subscribeAndSave.ctaLabel") || "", n = this.sparta.theme.getTheme(this).gameOffer;
return r.createElement("surface", null, this.getNotification(), r.createElement(a.Button, {
name: "998c5467:294:31",
stealFocus: !0,
text: t,
style: n.bottomSpacer,
textSize: n.buttonTextSize,
action: this.joinAndBuyGame
}), r.createElement("surface", {
style: n.bottomSpacer
}, this.getAccessInfo(), this.getAccessLink()), this.getDivider());
}
return null;
}, n.prototype.getBuyButton = function(e, t) {
var n = this.sparta.theme.getTheme(this).gameOffer;
if (this.ownsGame(e) && !t) return r.createElement(a.Button, {
name: "998c5467:319:27",
disabled: !0,
text: __("ID_SPARTA_COMMERCE_OFFER_OWNED"),
textSize: n.buttonOwnedTextSize
});
var o = "preorder" === e.state ? __("ID_SPARTA_COMMERCE_OFFER_GAME_PREORDER") : __("ID_SPARTA_COMMERCE_OFFER_GAME_BUY"), i = this.ownsGame(e) ? __("ID_SPARTA_COMMERCE_OFFER_GAME_INSTALLATION").toUpperCase() : o.toLocaleUpperCase() + " " + e.price;
return r.createElement(a.Button, {
name: "998c5467:338:23",
text: i,
textSize: n.buttonTextSize,
upperCase: !1,
action: this.buyGame
});
}, n.prototype.ownsGame = function(e) {
return e.owned || this.props.owned;
}, n.prototype.render = function() {
var e, t = this, n = this.props.offers[this.selectionState.activeItemIndex], a = this.sparta.stores.subscriptionStatusStore.get();
if (!n) return r.createElement(g.EmptyState, {
key: "emptyCategory",
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY"),
centerVertically: !0
});
if (this.props.logoUrl) e = this.props.logoUrl; else {
if (this.props.gameId) {
var u = this.sparta.stores.gameStore.getGame(this.props.gameId);
u && (e = u.logoConfig.logoUrl);
}
n.group === y.OfferGroup.PROMOTIONS && n.images.logo && (e = n.images.logo);
}
var c, d = this.sparta.theme.getTheme(this).gameOffer;
return a.value && a.value.subscribed && !n.owned && (c = r.createElement(R.SubscriptionLogo, {
subStatus: a.value,
style: d.accessDiscount,
textureStyle: d.accessDiscountTexture
})), r.createElement("surface", {
style: d.container
}, r.createElement("surface", {
style: d.offerImage({
texture: n.backgroundUrl
})
}), r.createElement("surface", {
style: d.content
}, this.props.gameId ? r.createElement("surface", {
style: d.gameLogo({
texture: e
})
}) : null, r.createElement(T.List, null, this.props.offers.map(function(e, n) {
return r.createElement(T.ListItem, {
debugName: "list-item-" + e.offerId,
key: e.offerId,
index: n,
selectionState: t.selectionState
}, r.createElement(T.ListItemLabel, {
value: e.displayName.replace("", "")
}));
})), r.createElement(s.Scroller, {
key: n.id,
style: d.scrollerStyle,
controller: !0,
softClip: d.softClip
}, r.createElement(o.Text, {
size: p.TextSize.S,
value: n.longDesc,
type: d.descriptionTextType
}))), r.createElement("surface", {
style: d.offerBuy
}, r.createElement(l.PS4StoreContent, null, this.getPremierButton(n), this.getJoinAndBuyButton(n), this.getBuyButton(n, this.props.isInstallable), c, null !== n.listPrice || n.owned ? r.createElement("surface", {
style: d.listPrice
}, r.createElement(o.Text, {
size: p.TextSize.XS,
value: __("ID_SPARTA_COMMERCE_OFFER_ORIGINAL_PRICE"),
style: k
}), r.createElement(i.Strikethrough, {
value: n.listPrice || n.price,
size: p.TextSize.XS
})) : null, this.props.extraContent)));
}, n.contextTypes = C.SpartaContext.contextTypes, n.defaultProps = {
isInstallable: !0
}, n = e.__decorate([ v.observer, d.input ], n);
}(r.Component);
t.GameOffer = L;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__t, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(68), s = n(157), u = n(72), l = n(8), c = n(6), p = n(34), d = n(23), f = n(421), m = n(10), h = n(423), g = n(67), y = n(39), S = n(37), v = n(1176), _ = n(50), b = n(93), T = n(179), E = n(14), C = n(391), I = n(135), A = n(202), w = n(9), P = n(572), R = n(1180), O = n(22), x = [ "battlepacks", "shortcuts", "expansions", "premium" ], k = [ d.fadeAreaTop.height, 0, d.dangerZoneSize.height, 0 ], L = function(e, t, n) {
var r = m.gameStore.getGame(e), o = r && r.storeConfig.viewComponents && r.storeConfig.viewComponents[t];
return o || n;
}, M = i.observer(function(e) {
return r.createElement(c.Text, {
value: e.description.text,
style: e.textStyle,
size: "S"
});
}), D = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.scroller = r.createRef(), e.focusAncestor = O.focusSystem.createAncestor("tabcontent"), 
e.description = {
text: ""
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.focusAncestor.focusedChild;
}, function(t) {
t || e.setDescription("");
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.focusAncestor.destroy();
}, n.prototype.getUnownedOffers = function(e) {
return e.filter(function(e) {
return !e.owned || e.isRepurchaseable;
});
}, n.prototype.onSelectOffer = function(e) {
this.setDescription(e.longDesc || e.shortDesc);
}, n.prototype.updateDescription = function(e) {
this.description.text = e;
}, n.prototype.setDescription = function(e) {
this.updateDescription(e), this.scroller.current && this.scroller.current.scrollTo(0, 0);
}, n.prototype.renderOffersPC = function(e) {
return r.createElement("surface", {
style: {
marginTop: -l.GUTTER,
flexDirection: "row"
}
}, r.createElement(p.Scroller, {
style: {
width: l.getWidth(25),
height: d.content.height
},
softClip: k,
key: "scroller_pc"
}, r.createElement("surface", {
style: {
flexWrap: "wrap",
flexDirection: "row"
}
}, e)));
}, n.prototype.renderOffersConsole = function(e) {
return r.createElement("surface", {
style: {
flexDirection: "column"
}
}, r.createElement(u.CardCarousel, {
id: "686e7e17:166:35",
width: l.getWidth(24)
}, e), r.createElement("surface", {
style: {
height: l.getHeight(4)
}
}), r.createElement("surface", {
style: {
flexDirection: "row"
}
}, r.createElement(p.Scroller, {
style: {
width: l.getWidth(20),
height: l.getHeight(13)
},
controller: !0,
scrollbarPosition: "inside",
softClip: [ l.getHeight(2), 0, l.getHeight(2), 0 ],
ref: this.scroller,
clipMargin: [ l.getHeight(2), l.getHeight(2), l.getHeight(2), 0 ]
}, r.createElement(M, {
description: this.description,
textStyle: P.CommerceStyles.overviewTextConsole
}))));
}, n.prototype.render = function() {
var t, n = this, o = w.SpartaGlobals.bundleIsPC ? void 0 : S.CardSize.M, i = this.props.offers.map(function(e, t) {
return r.createElement(a.Focusable, {
key: "focusable_" + e.id,
id: "tabcontent_" + e.id,
autoFocusCandidate: !0
}, function(t) {
return t.onFocus(function() {
return n.onSelectOffer(e);
}), r.createElement(R.OfferCard, {
key: "offer_" + e.id,
size: o,
offer: e,
focusItem: t
});
});
});
return t = i.length > 0 ? w.SpartaGlobals.bundleIsPC ? this.renderOffersPC(i) : this.renderOffersConsole(i) : r.createElement("surface", {
style: P.CommerceStyles.tabContentStyle
}, r.createElement(y.EmptyState, {
key: "emptyCategory",
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
})), r.createElement("surface", e.__assign({}, this.focusAncestor.hooks), t);
}, n.defaultProps = {
isStoreIconRequired: !0
}, e.__decorate([ o.observable ], n.prototype, "description", void 0), e.__decorate([ o.action ], n.prototype, "updateDescription", null), 
n = e.__decorate([ i.observer ], n);
}(r.Component), N = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.renderOfferPC = function(e) {
return r.createElement("surface", {
style: {
marginTop: -l.GUTTER,
flexDirection: "row"
}
}, r.createElement("surface", {
style: {
width: l.getWidth(17)
}
}, r.createElement("surface", {
style: {
marginBottom: l.getHeight(4)
}
}, e), r.createElement("surface", null, r.createElement(c.Text, {
value: this.props.offer.longDesc,
style: P.CommerceStyles.singleOfferTextPC,
size: "S"
}))));
}, n.prototype.renderOfferConsole = function(e) {
return r.createElement("surface", {
style: {
flexDirection: "column"
}
}, r.createElement("surface", {
style: {
width: l.getWidth(24)
}
}, r.createElement("surface", {
style: {
marginBottom: l.getHeight(4)
}
}, e), r.createElement("surface", null, r.createElement(c.Text, {
value: this.props.offer.longDesc,
style: P.CommerceStyles.singleOfferTextConsole,
size: "S"
}))), r.createElement("surface", {
style: {
height: l.getHeight(4)
}
}), r.createElement("surface", {
style: {
flexDirection: "row"
}
}, r.createElement("surface", {
style: {
width: l.getWidth(20),
height: l.getHeight(22)
}
})));
}, n.prototype.render = function() {
var e, t = w.SpartaGlobals.bundleIsPC ? void 0 : S.CardSize.M, n = r.createElement(R.OfferCard, {
size: t,
offer: this.props.offer
});
return e = this.props.offer ? w.SpartaGlobals.bundleIsPC ? this.renderOfferPC(n) : this.renderOfferConsole(n) : r.createElement("surface", {
style: P.CommerceStyles.tabContentStyle
}, r.createElement(y.EmptyState, {
key: "emptyCategory",
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
})), r.createElement("surface", null, e);
}, n;
}(r.Component), F = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return this.props.offers && this.props.offers.length > 0 ? r.createElement("surface", null, r.createElement(f.GameOffer, {
isInstallable: this.props.isInstallable,
offers: this.props.offers,
owned: this.props.owned,
gameId: this.props.gameId
})) : r.createElement("surface", {
style: P.CommerceStyles.tabContentStyle
}, r.createElement(y.EmptyState, {
key: "emptyCategory",
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
}));
}, n;
}(r.Component), G = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return this.props.offers && this.props.offers.length > 0 ? r.createElement("surface", null, r.createElement(v.PremiumOffer, {
isInstallable: this.props.isInstallable,
offers: this.props.offers,
owned: this.props.owned,
gameId: this.props.gameId
})) : r.createElement("surface", {
style: P.CommerceStyles.tabContentStyle
}, r.createElement(y.EmptyState, {
key: "emptyCategory",
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
}));
}, n.defaultProps = {
isInstallable: !0
}, n;
}(r.Component), U = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(h.LearnMore, {
noTemplate: !0,
gameId: this.props.gameId
});
}, n;
}(r.Component), B = I.frostbiteAction("sparta.orbis.showUnavailableStore"), j = function(t) {
function n(e) {
var n = t.call(this, e) || this;
if (w.SpartaGlobals.bundleIsPS4) {
var r = C.storeAvailabilityStore.get();
o.when(function() {
return !!r.failstate;
}, function() {
B(), m.locationStore.goBack();
});
}
return n;
}
return e.__extends(n, t), n.prototype.getBaseConfiguration = function(e, t) {
var n = m.gameStore.getGame(e), r = F;
A.commerceFeatureFlags.subscriberAccess.isEnabledFor(e) && (r = U);
var o = [ {
name: "pre-order",
title: __("ID_SPARTA_CARD_PREORDER"),
component: L(e, "preorder", D),
props: {
offers: t.preorder
}
}, {
name: "beta",
title: __t("Beta"),
component: L(e, "beta", D),
props: {
offers: t.beta
}
}, {
name: "battlepacks",
title: __("ID_SPARTA_TAB_BATTLEPACKS"),
component: L(e, "battlepacks", D),
props: {
offers: t.battlepacks
}
}, {
name: "shortcuts",
title: __("ID_SPARTA_TAB_KITSHORTCUTS"),
component: L(e, "shortcuts", D),
props: {
offers: t.shortcuts
}
}, {
name: "expansions",
title: __("ID_SPARTA_TAB_EXPANSIONS"),
component: L(e, "expansions", D),
props: {
offers: t.xpacks
}
}, {
name: "premium",
title: __("ID_SPARTA_TAB_PREMIUM"),
component: L(e, "premium", G),
props: {
offers: t.premium,
owned: this.hasPremium(e),
isInstallable: w.SpartaGlobals.bundleIsConsole,
gameId: e
}
}, {
name: "deluxe",
title: __("ID_SPARTA_TAB_HEROES"),
component: L(e, "deluxe", F),
props: {
offers: t.deluxe,
owned: this.hasDeluxe(e),
isInstallable: w.SpartaGlobals.bundleIsConsole && !this.hasDeluxe(e),
gameId: e
}
}, {
name: "game",
title: n ? n.displayName() : "",
component: L(e, "game", F),
props: {
offers: t.game,
isInstallable: w.SpartaGlobals.bundleIsConsole && this.ownsGame(e),
gameId: e
}
}, {
name: "rent",
title: __("ID_SPARTA_TAB_RSP"),
component: L(e, "rent", N),
props: {
offer: new T.Offer({
ownership: {
id: "virtualRSP",
group: "virtualRSP",
owned: !1,
quantity: "0",
type: {
name: __t("Durable"),
originalName: "DURABLE",
value: 10
}
},
meta: {},
price: "",
pinData: "",
productId: "virtualRSP",
offerId: "virtualRSP",
images: [ {
type: "card",
url: E.bbUrl("/sparta/jsclient/builds/assets/rsp-card-7e768e07.png")
} ],
displayName: __("ID_SPARTA_COMMERCE_RSP") + " (" + __("ID_SPARTA_COMMERCE_RSP_OFFER_PRICE").toUpperCase() + ")",
description: {
longDesc: __("ID_SPARTA_COMMERCE_RSP_OFFER_DESCRIPTION_LONG"),
shortDesc: __("ID_SPARTA_COMMERCE_RSP_OFFER_DESCRIPTION_SHORT")
},
state: {
name: __t("Purchase"),
originalName: "PURCHASE",
value: 0
}
}, e),
isStoreIconRequired: !1
}
}, {
name: "access",
title: __("ID_SPARTA_TAB_EA_PLAY"),
component: L(e, "access", r),
props: {
offers: t.access,
isInstallable: !1,
gameId: e,
owned: m.entitlementStore.hasAccess()
}
} ], i = [ "rent", "access" ];
return w.SpartaGlobals.bundleIsPS4 && i.push("battlepacks"), g.routeIsHostingGame.get() || (o = o.filter(function(e) {
return -1 === i.indexOf(e.name);
})), o;
}, n.prototype.getTabs = function(e, t, n) {
void 0 === t && (t = x);
var r = this.getBaseConfiguration(e, n), o = [];
return t.forEach(function(e) {
var t = r.find(function(t) {
return t.name === e;
});
t && o.push(t);
}), o;
}, n.prototype.hasPremium = function(e) {
return e && m.entitlementStore.hasPremiumAccess(e);
}, n.prototype.hasDeluxe = function(e) {
return e && m.entitlementStore.hasDeluxeEdition(e);
}, n.prototype.ownsGame = function(e) {
return m.entitlementStore.hasOnlineAccess(e);
}, n.prototype.render = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = m.gameStore.getGame(t), o = n ? n.storeConfig.getTabs() : [];
return r.createElement(_.FragmentLoader, {
load: [ b.offersStore.get(t), C.storeAvailabilityStore.get() ],
errorMessage: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_TEXT"),
errorSubText: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_SUBTEXT")
}, function(n) {
return r.createElement(s.TabbedTemplate, {
topGutter: !1,
tabs: e.getTabs(t, o, n),
scrollContent: !1
});
});
}, n;
}(r.Component);
t.StoreGameOverview = j;
}).call(this, n(101), n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(37), i = n(6), a = n(8), s = n(21), u = n(569), l = n(315), c = n(570), p = n(32), d = n(11), f = n(26), m = n(12), h = n(25), g = n(38), y = n(316), S = n(19), v = n(141), _ = n(9), b = n(33), T = n(416), E = n(1175), C = n(5), I = n(7), A = n(317), w = {
heading: s.TextSize.S,
text: s.TextSize.S,
subtext: s.TextSize.XS,
fineprint: s.TextSize.XXS
};
var P = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.key = 0, r.sparta = I.SpartaContext.getFromComponent(r), r.copy = v.copyStore.getCopyPage("learn-more"), 
r.settings = v.copyStore.getCopyPage("settings"), e.gameId ? r.gameId = e.gameId : e.viewLocation && e.viewLocation.args && e.viewLocation.args.gameId && (r.gameId = e.viewLocation.args.gameId), 
r.commerceNavigation = r.props.commerceNavigation || new A.DefaultCommerceNavigation(r.gameId, r.sparta.stores.gameStore);
r.sparta.stores.gameStore.getGame(r.gameId);
var o = e.viewLocation && e.viewLocation.args && e.viewLocation.args.stay;
return r.gameId && !e.gameId && "true" !== o && r.sparta.stores.locationStore.setLocation(r.commerceNavigation.locationLearnAboutAccessInStoreTab, !0), 
r;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e = v.copyStore.getProperty(this.settings, "label.terms");
return S.isRTLLanguage() && (e = _.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_ACCESS_TERMS_PC") : __("ID_SPARTA_ACCESS_TERMS_XBOX")), 
new m.Input({
action: function() {
return function e() {
h.display(new g.Popup({
content: r.createElement(y.LegalContent, {
legal: "terms"
}),
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new m.Input({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: d.Keys.Decline
}) ]
}));
}();
},
key: d.Keys.Option2,
label: e
});
}, n.prototype.createVideo = function() {
var e = {
id: "learn-more-video",
contentHash: "learn-more-video",
telemetryId: "learn-more-video",
segmentId: "EMPTY",
batchId: -1,
game: v.copyStore.getProperty(this.copy, "video.game") || "",
recommendationType: "video",
url: v.copyStore.getProperty(this.copy, "video.url") || "",
title: v.copyStore.getProperty(this.copy, "video.title") || "",
image: v.copyStore.getProperty(this.copy, "video.imageUrl") || "",
slug: "learn-more-video",
recommenderUUID: ""
};
return r.createElement(T.VideoRecommendationCard, {
recommendation: e,
size: o.CardSize.M
});
}, n.prototype.createCommonQuestions = function() {
var e = this.commerceNavigation.locationCommonQuestions, t = S.isJapaneseLanguage() || S.isTradChineseLanguage() ? C.emptyStyle : E.LearnMoreStyles.callToActionSubText, n = v.copyStore.getProperty(this.settings, "label.commonQuestions"), o = v.copyStore.getProperty(this.settings, "label.terms");
return S.isRTLLanguage() && (n = _.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_ACCESS_COMMON_QUESTIONS_PC") : __("ID_SPARTA_ACCESS_COMMON_QUESTIONS_XBOX"), 
o = _.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_ACCESS_TERMS_PC") : __("ID_SPARTA_ACCESS_TERMS_XBOX")), 
"PC" === v.copyStore.getPlatform() ? r.createElement("surface", null, r.createElement(l.LinkText, {
action: "link",
text: n,
style: t,
location: e
}), r.createElement(l.LinkText, {
action: "popup",
text: o,
style: t
})) : r.createElement("surface", null, r.createElement(c.ButtonCallout, {
text: n,
button: "X",
action: "link",
width: E.LearnMoreStyles.columnAuxiliaryWidth,
style: E.LearnMoreStyles.callToActionSubText,
location: e
}));
}, n.prototype.buildPointImage = function(e) {
try {
if (e) {
var t = e.split("|") || [];
if (4 === t.length) {
var n = {
texture: t[3],
width: parseInt(t[1], 10),
height: parseInt(t[2], 10)
};
return r.createElement("surface", {
style: [ E.LearnMoreStyles.image, n ],
key: ++this.key
});
}
}
} catch (e) {
return null;
}
}, n.prototype.buildPointText = function(e) {
try {
return r.createElement(i.Text, {
key: ++this.key,
value: e,
size: w.text,
style: E.LearnMoreStyles.paragraph
});
} catch (e) {
return null;
}
}, n.prototype.buildPoints = function() {
for (var e = [], t = 0, n = v.copyStore.getProperty(this.copy, "list") || []; t < n.length; t++) {
for (var o = n[t], a = [], s = 0, u = v.copyStore.getProperty(o, "items") || []; s < u.length; s++) {
var l = u[s], c = 0 === l.indexOf("image|") ? this.buildPointImage(l) : this.buildPointText(l);
c && a.push(c);
}
e.push(r.createElement("surface", {
key: ++this.key
}, r.createElement(i.Text, {
key: ++this.key,
value: o.heading,
size: w.heading,
style: E.LearnMoreStyles.heading,
type: b.TextType.EMPHASIS
}), a));
}
return e;
}, n.prototype.render = function() {
var e = S.isJapaneseLanguage() || S.isTradChineseLanguage(), t = e ? C.emptyStyle : E.LearnMoreStyles.callToActionSubText, n = e ? w.heading : w.fineprint, o = r.createElement("surface", null, r.createElement(a.Row, {
style: E.LearnMoreStyles.rowMain
}, r.createElement(a.Col, {
style: E.LearnMoreStyles.columnSidebar
}, r.createElement("surface", null, this.createVideo())), r.createElement(a.Col, {
style: E.LearnMoreStyles.columnMain
}, r.createElement("surface", null, this.buildPoints())), r.createElement(a.Col, {
style: {
width: a.getWidth(_.SpartaGlobals.bundleIsPC ? 1 : .5)
}
}), r.createElement(a.Col, {
style: E.LearnMoreStyles.columnAuxiliary
}, r.createElement("surface", null, r.createElement("surface", {
style: E.LearnMoreStyles.callToAction
}, r.createElement(u.CallToAction, {
gameId: this.gameId,
headingStyle: C.emptyStyle,
headingTextSize: w.text,
buttonStyle: E.LearnMoreStyles.callToActionButton,
buttonTextSize: w.text,
subTextStyle: t,
subTextSize: e ? w.text : w.subtext
}), this.createCommonQuestions())))), r.createElement(a.Row, {
style: E.LearnMoreStyles.rowLegal
}, r.createElement(a.Col, {
style: E.LearnMoreStyles.columnLegal
}, r.createElement("surface", {
style: E.LearnMoreStyles.surfaceLegal
}, r.createElement(i.Text, {
value: this.copy.legal,
size: n
})))), r.createElement(a.Row, {
style: E.LearnMoreStyles.rowBorder
}, r.createElement(a.Col, null)));
return this.props.noTemplate ? o : r.createElement(p.Template, {
tallContent: !0
}, o);
}, n.defaultProps = {
noTemplate: !1
}, n.contextTypes = I.SpartaContext.contextTypes, n = e.__decorate([ f.input ], n);
}(r.Component);
t.LearnMore = P;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(12), a = n(11), s = n(49), u = n(68), l = n(62), c = n(6), p = n(201), d = n(257), f = n(1177), m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.twinkle = d.TwinkleContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = this.props, n = t.friends, o = t.totalNum, d = t.maxFriends, m = void 0 === d ? 0 : d, h = t.skipLinks, g = t.id, y = m || 3, S = n.slice(0, y).map(function(t, n) {
var o = new i.Input({
label: e.twinkle.buildInfo.isXboxOne ? __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD") : __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE"),
key: a.Keys.Accept,
action: function() {
return s.showUserProfile(t.platformId, "PremiumFriend");
}
});
return r.createElement("surface", {
key: t.platformId
}, r.createElement(u.Focusable, {
isActive: !h,
id: g + "FriendsAvatar" + t.platformId
}, function(i) {
return r.createElement(l.Pressable, {
disabled: h,
input: o,
focusItem: i
}, r.createElement("surface", {
style: f.FriendsStyles.avatarContainer(i.isFocused || i.isHovered)
}, r.createElement(p.Avatar, {
user: t,
key: n,
size: e.props.small ? 44 : 57,
style: f.FriendsStyles.avatar
})));
}));
}), v = o - y;
return v > 99 && (v = 99), r.createElement("surface", {
style: f.FriendsStyles.friends
}, S, o > y && r.createElement("surface", {
style: this.props.small ? f.FriendsStyles.totalFriendsSmall : f.FriendsStyles.totalFriends
}, r.createElement(c.Text, {
value: "+" + v,
size: this.twinkle.buildInfo.isPC ? "S" : "XS"
})));
}, n.contextTypes = d.TwinkleContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.Friends = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(14), o = n(97), i = n(1186), a = n(109);
t.generateChildrenRoutes = function s(t, n) {
return (n = n.filter(function(e) {
return !e || !e.isNative;
})).map(function(n, r) {
var i = n.route;
return i || (e.error("Setting fallback route for Career Route since it's missing route property:", n), 
i = "career-route-" + r), new o.RouteDeclaration(i.toLowerCase(), {
args: {
gameId: t
},
getTitle: function() {
return n.getTitle();
},
view: n.view
});
});
}, t.initialize = function u(e) {
e.stores.routeStore.addRoute(new o.RouteDeclaration("career", {
requireOnline: !0,
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_CAREER", !0);
},
getSubtitle: function() {
return __("ID_SPARTA_MAIN_TITLE_CAREER");
},
view: i.CareerOverview,
normalIconUrl: a.useConsoleMenu ? r.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-15285efc.png") : r.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-4dd7c086.png"),
backgroundUrl: r.bbOfflineUrl("/sparta/jsclient/builds/assets/background-generic-c08a5fa5.dds"),
backgroundSize: [ 4084, 1440 ],
dynamicBackground: e.stores.backgroundStore.createDynamicSectionBackground("career"),
priority: 3
}));
};
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(579), r = n(3), o = n(387), i = n(1209), a = n(255), s = n(69), u = n(10), l = n(80), c = n(203), p = n(195), d = n(102), f = n(117), m = n(93), h = n(427), g = n(1214), y = function() {
return function e(t, n, r, o, i, a) {
void 0 === n && (n = "100"), void 0 === r && (r = "CUSTOM"), void 0 === o && (o = "1"), 
void 0 === i && (i = "0"), void 0 === a && (a = "0"), this.maps = t, this.rotationType = r, 
this.mod = o, this.name = i, this.description = a;
var s = parseInt(n, 10);
this.id = (s > 100 ? s : 100).toString();
};
}();
function S(e) {
return new Promise(function(t, n) {
r.when(function() {
return e.isReady;
}, function() {
return e.value ? t(e.value) : n(e.failstate);
});
});
}
function v(e) {
var t = e[0].setting.value;
return t.capacity > 0 ? t.description : __("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY");
}
function _(e, t) {
void 0 === t && (t = __("ID_SPARTA_COMMERCE_RSP_DESC_ALL"));
var n = e.filter(function(e) {
return e.setting.value !== e.defaultSetting.value;
});
if (0 === n.length) return t;
var r = n.filter(function(e) {
return e.setting.value;
}), o = n.filter(function(e) {
return !e.setting.value;
});
if (o.length === e.length) return __("ID_SPARTA_COMMERCE_RSP_DESC_NONE");
if (r.length === e.length) return t;
var i = null, a = null;
return r.length && (i = r[0].label + (r.length > 1 ? " +" + (r.length - 1) : "")), 
o.length && (a = __("ID_SPARTA_COMMERCE_RSP_DESC_NO") + " " + o[0].label + (o.length > 1 ? " +" + (o.length - 1) : "")), 
i || a || "";
}
function b(e) {
var t = e.filter(function(e) {
return e.setting.value !== e.defaultSetting.value;
});
return 0 === t.length ? "" : t[0].label + " " + t[0].value + (t.length > 1 ? " +" + (t.length - 1) : "");
}
t.MapRotation = y, t.updateServer = function T(e, t, n, r, i) {
return o.updateServerClient.request({
deviceIdMap: {
machash: u.pinStore.uuid || ""
},
game: e,
serverId: t,
bannerSettings: {
bannerUrl: n.bannerUrl,
clearBanner: !n.bannerUrl
},
mapRotation: r,
serverSettings: Object.assign({}, n, {
mapRotationId: r.id
}, {
customGameSettings: JSON.stringify(i)
})
});
}, t.purchaseServer = function E(e, t, n, r) {
var o = "rsp:ServerId=" + e + ";Slots=64,PingSiteAlias=" + n;
return new Promise(function(e, n) {
var i;
(i = r ? d.PurchaseFlow.resumeOrphaned(t, o, r) : d.PurchaseFlow.start(t, o)).onFinished(function() {
if (i.response) i.response.serverId ? e(i.response.serverId) : "Cancelled" === i.response.result.name ? n() : (f.coreEventStore.spartaErrorMessage(__("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_RETRY"), __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT")), 
n()); else {
var t = "";
switch (i.error.code) {
case -22505:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT_PINGSITE_CAPACITY_MAX_REACHED");
break;

case -22506:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT_SERVER_USER_OWNER_MAX_REACHED");
break;

default:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT_GENERIC");
}
f.coreEventStore.spartaErrorMessage(t, __("ID_SPARTA_COMMERCE_RSP_ERROR_CHECKOUT")), 
n(i.error);
}
});
});
}, t.fetchRspPingSites = function C(e) {
return new Promise(function(t, n) {
var r = o.getPingSitesClient.request({
game: e
});
r.onSuccess(function(e) {
var r = e && e.pingSites;
r ? t(r) : n();
}), r.onError(function() {
return n();
});
});
}, t.fetchRspOffers = function I(e) {
return new Promise(function(t, n) {
var o = m.offersStore.get(e);
r.when(function() {
return o.isReady;
}, function() {
o.value ? t(o.value.rsp) : n();
});
});
}, t.fetchRSPTemplate = function A(e) {
return new Promise(function(t, n) {
var r = i.rspTemplateStore.getTemplate(e);
if (r) t(r); else {
var a = o.getTemplateClient.request({
game: e
});
a.onSuccess(function() {
setTimeout(function() {
var r = i.rspTemplateStore.getTemplate(e);
r ? t(r) : n();
}, 5);
}), a.onError(function() {
n();
});
}
});
}, t.fetchServerDetails = function w(t, n) {
return new Promise(function(r, i) {
var a = o.getServerDetailsClient.request({
game: t,
serverId: n
});
a.onSuccess(function(t) {
t ? r(e.RSPServerDetails.fromBackend(t)) : i();
}), a.onError(function() {
return i();
});
});
}, t.fetchPlatoonOptions = function P(e) {
return p.platoonsFeatureFlags.platoons.isEnabled() ? new Promise(function(e) {
var t = u.gatewayState.session ? u.gatewayState.session.personaId : "";
S(s.platoonsStores.memberships.get(t)).then(function(t) {
if (t) {
var n = t.filter(function(e) {
return c.hasPermission(e.role, c.Permission.LINK_RENTED_SERVER);
}).map(function(e) {
return S(s.platoonsStores.platoons.get(e.guid));
});
e(Promise.all(n));
} else e([]);
});
}) : Promise.resolve([]);
}, t.fetchPlatoonSetting = function R(e, t, n) {
return p.platoonsFeatureFlags.platoons.isEnabled() ? new Promise(function(e, r) {
var i = o.getPlatoonClient.request({
game: t,
serverId: n
});
i.onSuccess(function(t) {
e(t ? l.Platoon.fromBackend(t) : null);
}), i.onError(function() {
return r();
});
}) : Promise.resolve(null);
}, t.fragmentToPromise = S, t.completePendingPurchases = function O(e, t) {
var n = e.get(t, [ "rsp" ]);
return new Promise(function(t) {
r.when(function() {
return n.isReady;
}, function() {
var r = n.value;
r ? e.completePending(r.pending).then(function() {
t();
}) : t();
});
});
}, t.buildBaseSettingsConfig = function x(e, t, n) {
var r = n || {
name: "",
description: "",
message: "",
password: "",
bannerUrl: ""
}, o = u.onlineState.sessionUser, i = __("ID_SPARTA_COMMERCE_RSP_CONFIG_NAME_DEFAULT");
if (o) {
var s = o.name;
i = __("ID_SPARTA_COMMERCE_RSP_CONFIG_NAME_DEFAULT_PERSONAL").replace("[[username]]", s);
}
var l = new a.TextOption("name", __("ID_SPARTA_COMMERCE_RSP_CONFIG_NAME"), r.name || i, 64), c = new a.TextOption("password", __("ID_SPARTA_COMMERCE_RSP_CONFIG_PASSWORD"), r.password || "", 8), p = new a.TextOption("bannerUrl", __("ID_SPARTA_COMMERCE_RSP_CONFIG_BANNER"), r.bannerUrl || "", 250), d = new a.TextOption("description", __("ID_SPARTA_COMMERCE_RSP_CONFIG_DESCRIPTION"), r.description || "", 250), f = new a.TextOption("message", __("ID_SPARTA_COMMERCE_RSP_CONFIG_MESSAGE"), r.message || "", 250);
return e.stores.settingsStore.hasUGCAccess() || (l.disable(), d.hide()), f.hide(), 
p.hide(), new a.ConfigGroup("details", __("ID_SPARTA_COMMERCE_RSP_CONFIG_DETAILS"), [ l, d, f, c, p ], h.TextConfigurator, function(e) {
return e[0].value;
});
}, t.buildMapRotationConfig = function k(e, t) {
var n = e.gameModes, r = e.defaultGameMode, o = e.maps, i = {
gameMode: r,
map: e.defaultMap
}, s = [];
return t && (s = t.reduce(function(e, t) {
var r = n.find(function(e) {
return e.id === t.gameMode;
}), i = o.find(function(e) {
return e.id === t.mapName;
});
return r && i && e.push({
gameMode: r,
map: i
}), e;
}, [])), new a.ConfigGroup("mapRotation", __("ID_SPARTA_COMMERCE_RSP_CONFIG_MAPSMODES"), [ new a.MapRotationOption("mapRotation", o, n, i, s) ], h.MapRotationConfigurator, function(e) {
var t = e[0].entries;
return 1 === t.length ? t[0].map.label : "" + t.length;
});
}, t.buildWeaponClassesConfig = function L(e, t) {
var n = e.weapons.map(function(e) {
var n = e.filterKey, r = e.prettyName, o = e.description, i = e.defaultValue, s = t && t[n], u = void 0 !== s ? a.BooleanOption.fromSetting(s) : 1 === i;
return new a.BooleanOption(n, r, o, 1 === i, u);
});
return new a.ConfigGroup("weaponClasses", __("ID_SPARTA_COMMERCE_RSP_CONFIG_WEAPONS"), n, h.WeaponsConfigurator, _);
}, t.buildKitsConfig = function M(e, t) {
var n = e.kits.map(function(e) {
var n = e.filterKey, r = e.prettyName, o = e.description, i = e.defaultValue, s = t && t[n], u = void 0 !== s ? a.BooleanOption.fromSetting(s) : 1 === i;
return new a.BooleanOption(n, r, o, 1 === i, u);
});
return new a.ConfigGroup("kits", __("ID_SPARTA_COMMERCE_RSP_CONFIG_KITS"), n, h.KitsConfigurator, _);
}, t.buildVehiclesConfig = function D(e, t) {
var n = e.vehicles.map(function(e) {
var n = e.filterKey, r = e.prettyName, o = e.description, i = e.defaultValue, s = t && t[n], u = void 0 !== s ? a.BooleanOption.fromSetting(s) : 1 === i;
return new a.BooleanOption(n, r, o, 1 === i, u);
});
return new a.ConfigGroup("vehicles", __("ID_SPARTA_COMMERCE_RSP_CONFIG_VEHICLES"), n, h.CheckmarkConfigurator, _);
}, t.buildMiscConfig = function N(e, t) {
var n = e.misc.map(function(e) {
var n = e.filterKey, r = e.prettyName, o = e.description, i = e.defaultValue, s = t && t[n], u = void 0 !== s ? a.BooleanOption.fromSetting(s) : 1 === i;
return new a.BooleanOption(n, r, o, 1 === i, u);
});
return new a.ConfigGroup("misc", __("ID_SPARTA_COMMERCE_RSP_CONFIG_MISC"), n, h.BooleanConfigurator, function(e) {
return _(e, "");
});
}, t.buildScalesConfig = function F(e, t) {
var n = e.scales.map(function(e) {
var n = e.filterKey, r = e.prettyName, o = e.description, i = e.defaultOption, s = e.options;
if (Object.keys(s).length) {
var u = Object.keys(s).map(function(e) {
return new a.Setting(e, s[e]);
}).sort(function(e, t) {
return e.value - t.value;
}), l = u.find(function(e) {
return e.key === i;
}) || u[0], c = u.find(function(e) {
var n = t && t[e.key];
return void 0 !== n && a.BooleanOption.fromSetting(n);
});
return new a.Option(n, r, o, u, l, c || l, function(e) {
return 100 * e.value + "%";
});
}
});
return new a.ConfigGroup("scales", __("ID_SPARTA_COMMERCE_RSP_CONFIG_RULES"), g.compact(n), h.SettingsConfigurator, b);
}, t.buildPingSiteConfig = function G(e) {
var t = e.pingSites, n = e.defaultPingSite;
return new a.ConfigGroup("pingSiteAlias", __("ID_SPARTA_COMMERCE_RSP_CONFIG_REGION"), [ new a.ObjectOption("pingSiteAlias", __("ID_SPARTA_COMMERCE_RSP_CONFIG_REGION"), "", t, n, n) ], h.PingSiteConfigurator, v);
}, t.buildPlatoonsConfig = function U(e, t) {
void 0 === t && (t = null);
var n = {
name: __("ID_SPARTA_COMMERCE_RSP_DESC_NONE").toUpperCase(),
tag: ""
}, r = e.platoonOptions.slice();
r.unshift(n);
var o = t || n;
return new a.ConfigGroup("platoon", __("ID_SHARED_PLATOON"), [ new a.ObjectOption("platoon", __("ID_SHARED_PLATOON"), "", r, n, o) ], h.PlatoonConfigurator, function(e) {
var t = e[0].setting.value;
return t.guid ? t.getName() : "";
});
}, t.buildRentalPeriodConfig = function B(e) {
var t = e.offers, n = t[0];
return new a.ConfigGroup("days", __("ID_SPARTA_COMMERCE_RSP_CONFIG_RENTALPERIOD"), [ new a.ObjectOption("days", __("ID_SPARTA_COMMERCE_RSP_CONFIG_RENTALPERIOD"), "", t, n, n) ], h.DaysConfigurator, function(e) {
var t = e[0].setting.value.days;
return __(1 === t ? "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_SINGULAR" : "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_PLURAL").replace("[[daysToLive]]", t);
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(14), o = n(3), i = n(4), a = n(1), s = n(230), u = n(85), l = n(68), c = n(428), p = n(34), d = n(18), f = n(429), m = n(28), h = n(8), g = n(113), y = n(142), S = n(112), v = n(6), _ = n(231), b = n(11), T = n(25), E = n(38), C = n(319), I = n(10), A = n(12), w = n(21), P = n(1212), R = n(5), O = n(9), x = n(19), k = n(33), L = n(47), M = n(42), D = n(22), N = n(27), F = r.bbOfflineUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png"), G = r.bbOfflineUrl("/sparta/jsclient/builds/assets/close-black-47f1ec98.png"), U = r.bbOfflineUrl("/sparta/assets/rsp/icon-plus-white-aa54bd5b.png"), B = r.bbOfflineUrl("/sparta/assets/rsp/icon-plus-d1a913d6.png");
function j(e) {
var t = h.getHeight(7), n = e - 1, r = (O.SpartaGlobals.bundleIsPC ? 10 : 8) * t + n;
return e * t + n > r ? r : void 0;
}
t.fetchRentedServers = function H(e) {
return new Promise(function(t) {
var n = f.rentedServerStore.getRentedByGame(e);
n ? t(n) : C.ListRSPClient.triggerAsPromise(e).then(function() {
var n = f.rentedServerStore.getRentedByGame(e) || [];
t(n);
});
});
};
var z = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return this.props.config && this.props.category ? a.createElement(this.props.category.configurator, {
config: this.props.config,
items: this.props.category.items
}) : a.createElement("surface", null);
}, n;
}(a.Component);
t.CategoryConfigurator = z;
var V = new (function() {
function t(e) {
this.setting = e;
}
return t.prototype.update = function(e) {
this.setting = e;
}, t.prototype.remove = function(e) {
this.setting && this.setting.id === e.id && (this.setting = null);
}, e.__decorate([ o.observable ], t.prototype, "setting", void 0), e.__decorate([ o.action ], t.prototype, "update", null), 
e.__decorate([ o.action ], t.prototype, "remove", null), t;
}())(null), W = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onMouseDown = function(e) {}, e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "focusGroup", {
get: function() {
return this.context.providedFocusGroup;
},
enumerable: !0,
configurable: !0
}), n.prototype.onTrigger = function(e) {
e.isEnabled && (e.toggle(), this.onAfterTrigger(e));
}, n.prototype.onAfterTrigger = function(e) {
this.handleMutualExclusivity(e);
}, n.prototype.getInput = function(e) {
return [ new A.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: this.onTrigger.bind(this, e),
key: b.Keys.Accept
}) ];
}, n.prototype.getSubLabel = function(e) {
return e.value.toString();
}, n.prototype.handleMutualExclusivity = function(e) {
var t = this;
(this.props.config.rspSettings.gameSettings.mutuallyExclusiveSettings || []).reduce(function(t, n) {
var r = n.indexOf(e.id);
if (r > -1) {
var o = n.slice();
return o.splice(r, 1), t.concat(o);
}
return t;
}, []).forEach(function(n) {
var r = t.props.items.find(function(e) {
return e.id === n;
});
r && (e.setting.value ? (r.setting.value && r.toggle(), r.disable()) : r.enable());
});
}, n.prototype.getItems = function() {
var e = this;
return this.props.items.map(function(t, n) {
return a.createElement(l.Focusable, {
id: "setting_" + t.label,
key: "focusableItem" + n,
group: e.focusGroup,
groupIndex: n,
onFocus: V.update.bind(V, t),
onBlur: V.remove.bind(V, t)
}, function(r) {
return a.createElement(y.ListItem, {
key: n,
label: t.label,
focusItem: r,
muted: !t.isEnabled,
scrollLabel: !0,
subLabel: e.getSubLabel(t),
input: e.getInput(t),
onTrigger: e.onTrigger.bind(e, t)
});
});
});
}, n.prototype.render = function() {
var e = this.getItems(), t = j(e.length);
return a.createElement(h.Row, null, a.createElement(p.Scroller, {
style: {
height: t,
width: h.getWidth(6)
},
scrollbar: !0,
scrollbarPosition: "outside"
}, a.createElement(g.List, {
divider: "item",
items: e,
onMouseDown: this.onMouseDown
})), a.createElement(h.Col, {
width: 10.5,
style: {
margin: [ 0, 0, 0, h.getWidth(1) ]
}
}, a.createElement(q, null)));
}, n.contextTypes = {
providedFocusGroup: u.object
}, n = e.__decorate([ i.observer ], n);
}(a.Component);
t.SettingsConfigurator = W;
var q = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return V.setting ? a.createElement(de, {
header: V.setting.label,
description: V.setting.description
}) : a.createElement("surface", null);
}, n = e.__decorate([ i.observer ], n);
}(a.Component), K = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onMouseDown = function(t) {
if (t && t.button === N.MouseButton.Secondary) {
var n = !e.props.items.every(function(e) {
return e.setting.value;
});
e.props.items.forEach(function(e) {
e.setting.value !== n && e.toggle();
}), e.onAfterToggleAll(n);
}
}, e;
}
return e.__extends(n, t), n.prototype.onAfterToggleAll = function(e) {}, n.prototype.getSubLabel = function(e) {
return e.value ? __("ID_SPARTA_FILTER_SETTING_ON") : __("ID_SPARTA_FILTER_SETTING_OFF");
}, n = e.__decorate([ i.observer ], n);
}(W);
t.BooleanConfigurator = K;
var X = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.getSubLabel = function(e) {
return a.createElement(_.Checkmark, {
value: e.value,
disabled: !e.isEnabled
});
}, n = e.__decorate([ i.observer ], n);
}(K);
t.CheckmarkConfigurator = X;
var Y = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.ensureMeleeOrHandgunEnabled(), n;
}
return e.__extends(n, t), n.prototype.ensureMeleeOrHandgunEnabled = function() {
var e = this.props.items.find(function(e) {
return "M" === e.setting.key;
}), t = this.props.items.find(function(e) {
return "H" === e.setting.key;
});
e && t && (e.setting.value || t.setting.value || e.toggle(), e.setting.value ? t.setting.value ? (t.enable(), 
e.enable()) : e.disable() : t.disable());
}, n.prototype.onAfterTrigger = function(e) {
this.ensureMeleeOrHandgunEnabled();
}, n.prototype.onAfterToggleAll = function(e) {
this.ensureMeleeOrHandgunEnabled();
}, n = e.__decorate([ i.observer ], n);
}(X);
t.WeaponsConfigurator = Y;
var J = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.checkItemsRequirements(), n;
}
return e.__extends(n, t), n.prototype.checkItemsRequirements = function() {
var e = this.props.config.rspSettings.gameSettings.requireAtLeastOneOfKits;
if (e) {
var t = this.props.items.filter(function(t) {
return e.indexOf(t.id) > -1;
}), n = t.filter(function(e) {
return e.setting.value;
}), r = t.filter(function(e) {
return !e.setting.value;
});
n.length <= 1 ? (n.forEach(function(e) {
return e.disable();
}), r.forEach(function(e) {
return e.enable();
})) : this.props.items.forEach(function(e) {
e.enable();
});
}
}, n.prototype.onAfterTrigger = function(e) {
this.checkItemsRequirements();
}, n.prototype.onAfterToggleAll = function(e) {
e || this.props.items[0].toggle(), this.checkItemsRequirements();
}, n = e.__decorate([ i.observer ], n);
}(X);
t.KitsConfigurator = J;
var Q = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.focusItems = {}, e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "focusGroup", {
get: function() {
return this.context.providedFocusGroup;
},
enumerable: !0,
configurable: !0
}), n.prototype.getFocusItem = function(e) {
var t = this.focusItems[e.id];
return t || (t = D.focusSystem.create(this, e.id), this.focusItems[e.id] = t), t;
}, n.prototype.getItems = function() {
var e = this;
return this.props.items.filter(function(e) {
return e.isVisible;
}).map(function(t, n) {
var r = e.getFocusItem(t);
e.focusGroup.addMember(r, n);
return a.createElement(ie, {
focusItem: r,
key: t.id,
disabled: !t.isEnabled,
maxLength: t.maxLength,
value: t.value,
label: t.label,
onChange: function(e) {
return t.change(e);
}
});
});
}, n.prototype.render = function() {
return a.createElement(h.Col, {
width: 13
}, a.createElement(g.List, {
divider: "none",
items: this.getItems()
}));
}, n.contextTypes = {
providedFocusGroup: u.object.isRequired
}, n = e.__decorate([ i.observer ], n);
}(a.Component);
t.TextConfigurator = Q;
var Z = function(e) {
var t = e.focused ? R.DynamicStyle.create({
color: "#333333"
}, "162aca73:430:38") : R.emptyStyle, n = R.StaticStyle.create({
flexDirection: "row",
flex: 0,
width: O.SpartaGlobals.bundleIsConsole ? h.getWidth(1) : h.getWidth(2),
justifyContent: x.isRTLLanguage() ? "flex-start" : "flex-end"
}, "162aca73:431:32");
return a.createElement(c.PingIndicator, {
textStyle: t,
fontType: e.focused ? k.TextType.EMPHASIS : k.TextType.NORMAL,
style: n,
ping: e.ping
});
}, $ = function(e) {
var t = e.focused ? R.DynamicStyle.create({
color: "#333333"
}, "162aca73:449:38") : R.emptyStyle;
return a.createElement(v.Text, {
value: __("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY"),
size: "XS",
style: t
});
}, ee = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.upperCase = !0, e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "focusGroup", {
get: function() {
return this.context.providedFocusGroup;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "radioOption", {
get: function() {
return this.props.items[0];
},
enumerable: !0,
configurable: !0
}), n.prototype.getLabel = function(e) {
return this.radioOption.formatSetting(e);
}, n.prototype.getSubLabel = function(e, t) {}, n.prototype.getOptionSettingState = function(e) {
return {
id: "",
label: "",
description: ""
};
}, n.prototype.onFocus = function(e) {
V.update(this.getOptionSettingState(e));
}, n.prototype.onBlur = function(e) {
V.remove(this.getOptionSettingState(e));
}, n.prototype.onTrigger = function(e) {
this.radioOption.set(e);
}, n.prototype.getItems = function() {
var e = this;
return this.radioOption.options.map(function(t, n) {
return a.createElement(l.Focusable, {
id: "radiosetting_" + t.key,
key: "focusableItem" + n,
group: e.focusGroup,
groupIndex: n,
onFocus: e.onFocus.bind(e, t),
onBlur: e.onBlur.bind(e, t)
}, function(r) {
return a.createElement(y.ListItem, {
id: t.key,
focusItem: r,
key: n,
scrollLabel: !0,
upperCase: e.upperCase,
label: e.getLabel(t),
subLabel: e.getSubLabel(t, r),
onTrigger: e.onTrigger.bind(e, t)
});
});
});
}, n.prototype.render = function() {
var e = this.getItems(), t = j(e.length);
return a.createElement(h.Row, null, a.createElement(p.Scroller, {
style: {
height: t,
width: h.getWidth(6)
},
scrollbar: !0,
scrollbarPosition: "outside"
}, a.createElement(g.List, {
divider: "item",
items: e
})), a.createElement(h.Col, {
width: 10.5,
style: {
margin: [ 0, 0, 0, h.getWidth(1) ]
}
}, a.createElement(q, null)));
}, n.contextTypes = {
providedFocusGroup: u.object
}, n = e.__decorate([ i.observer ], n);
}(a.Component);
t.RadioConfigurator = ee;
var te = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.getLabel = function(e) {
return e.value.description;
}, n.prototype.getSubLabel = function(e, t) {
return e.value.capacity > 0 ? a.createElement(Z, {
ping: e.value.ping,
focused: t.isFocusedOrHovered
}) : a.createElement($, {
focused: t.isFocusedOrHovered
});
}, n.prototype.onTrigger = function(e) {
e.value.capacity > 0 ? this.radioOption.set(e) : L.PopupManager.standardAlert(__("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY_POPUP"), __("ID_SPARTA_COMMERCE_RSP_NO_CAPACITY"));
}, n = e.__decorate([ i.observer ], n);
}(ee);
function ne(e) {
var t = e.focused, n = e.listPrice, r = e.price, o = t ? "#000000" : "#ffffff";
return a.createElement("surface", {
style: {
alignItems: "flex-end"
}
}, a.createElement("surface", {
style: {
opacity: .5,
marginBottom: 5
}
}, a.createElement(s.Strikethrough, {
color: o,
value: n,
size: "XS"
})), a.createElement(v.Text, {
color: o,
value: r,
size: "XS"
}));
}
t.PingSiteConfigurator = te;
var re = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.upperCase = !1, e;
}
return e.__extends(n, t), n.prototype.getLabel = function(e) {
return e.value.name;
}, n.prototype.getSubLabel = function(e, t) {
return a.createElement(_.Checkmark, {
value: this.radioOption.setting.value.guid === e.value.guid
});
}, n = e.__decorate([ i.observer ], n);
}(ee);
t.PlatoonConfigurator = re;
var oe = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.getLabel = function(e) {
var t = e.value.days;
return __(1 === t ? "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_SINGULAR" : "ID_SPARTA_COMMERCE_RSP_DAYSTOLIVE_PLURAL").replace("[[daysToLive]]", t.toString()).toLocaleUpperCase();
}, n.prototype.getSubLabel = function(e) {
var t = e.value, n = t.listPrice, r = t.price;
return n ? a.createElement(ne, {
price: r,
listPrice: n
}) : r;
}, n.prototype.getOptionSettingState = function(e) {
return {
id: e.value.days,
label: this.getLabel(e),
description: __("ID_SPARTA_COMMERCE_RSP_PRODUCT_DESC")
};
}, n = e.__decorate([ i.observer ], n);
}(ee);
t.DaysConfigurator = oe;
var ie = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.text = "", n.text = String(e.value), n;
}
return e.__extends(n, t), n.prototype.render = function() {
return a.createElement("surface", {
style: {
flex: 1,
height: h.getHeight(7),
marginBottom: h.getHeight(1)
}
}, a.createElement(S.InputField, {
initialValue: this.text,
focusItem: this.props.focusItem,
placeholder: this.props.label,
maxLength: this.props.maxLength,
disabled: this.props.disabled,
size: "S",
onValueChanged: this.props.onChange,
style: {
flex: 1
}
}));
}, n;
}(a.Component);
t.TextFieldListItem = ie;
var ae = {
list: {
width: h.getWidth(6)
},
removeButtonsWrapper: {
marginLeft: h.GUTTER,
marginTop: 1
},
removeButton: {
width: h.getHeight(7) + 2,
marginBottom: 1
}
}, se = new (function() {
function t(e) {
this.entry = e;
}
return t.prototype.update = function(e) {
this.entry = e;
}, t.prototype.remove = function(e) {
this.entry === e && (this.entry = null);
}, e.__decorate([ o.observable ], t.prototype, "entry", void 0), e.__decorate([ o.action ], t.prototype, "update", null), 
e.__decorate([ o.action ], t.prototype, "remove", null), t;
}())(null), ue = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "mapRotationOption", {
get: function() {
return this.props.items[0];
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.props.config.rspSettings.getSmallestGameModeSize(this.mapRotationOption.entries.slice().map(function(e) {
return e.gameMode.filterKey;
})), t = __("ID_SPARTA_COMMERCE_RSP_CONFIG_SERVER_SIZE_DESC").replace(/\[\[serverSize]]/, e.toString());
return a.createElement(h.Row, null, a.createElement(h.Col, {
width: O.SpartaGlobals.bundleIsPC ? 7 : 6
}, a.createElement(le, {
mapRotationOption: this.mapRotationOption
}), a.createElement(v.Text, {
style: {
marginTop: 2 * h.GUTTER,
textAlignForRTL: "left"
},
value: t,
size: "XS"
})), a.createElement(h.Col, {
width: 10.5,
style: {
margin: [ 0, 0, 0, h.getWidth(1) ]
}
}, a.createElement(ce, null)));
}, n = e.__decorate([ i.observer ], n);
}(a.Component);
t.MapRotationConfigurator = ue;
var le = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.mapSelectorOpen = !1, e.scroller = a.createRef(), e.addMapEntry = function() {
if (!e.mapSelectorOpen) {
var t = e.props.mapRotationOption.addEntry();
if (t) {
var n = e.props.mapRotationOption.entries.length - 1;
e.selectMap(t, n);
}
}
}, e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "focusGroup", {
get: function() {
return this.context.providedFocusGroup;
},
enumerable: !0,
configurable: !0
}), n.prototype.onSelected = function(e, t) {
this.props.mapRotationOption.changeEntry(e, t);
}, n.prototype.onPopupClosed = function(e) {
var t = this, n = this.focusGroup.members[e];
if (n) {
D.focusSystem.setAsFocused(n, M.FocusSource.Auto, !0);
var r = n.getBounds();
this.scroller.current && r && this.scroller.current.scrollToBounds(r);
}
setTimeout(function() {
t.mapSelectorOpen = !1;
}, 500);
}, n.prototype.selectMap = function(e, t) {
this.mapSelectorOpen || (this.mapSelectorOpen = !0, T.display(new E.Popup({
id: "chooseMap",
fullScreen: !0,
createButtons: !1,
onClose: this.onPopupClosed.bind(this, t),
content: a.createElement(P.MapSelectorPopup, {
mapOptions: this.props.mapRotationOption.mapOptions,
selected: e,
onSelect: this.onSelected.bind(this, t)
})
})));
}, n.prototype.removeMapEntry = function(e, t) {
if (D.focusSystem.controllerMode) {
var n = this.focusGroup.members[t - 1], r = this.focusGroup.members[t];
D.focusSystem.setAsFocused(n || r, M.FocusSource.Spatial);
}
this.props.mapRotationOption.removeEntry(t);
}, n.prototype.getItems = function() {
var e = this;
return this.props.mapRotationOption.entries.map(function(t, n) {
var r = [ new A.Input({
label: __("ID_SPARTA_ACTION_CHANGE_MAP"),
action: e.selectMap.bind(e, t, n),
key: b.Keys.Accept
}) ];
return D.focusSystem.controllerMode && !e.props.mapRotationOption.hasMinEntries && r.push(new A.Input({
label: __("ID_SPARTA_ACTION_REMOVE_MAP"),
action: e.removeMapEntry.bind(e, t, n),
key: b.Keys.Option1
})), a.createElement(l.Focusable, {
id: "mapRotationItem" + n,
group: e.focusGroup,
groupIndex: n,
key: "mapRotationItem" + n,
onFocus: se.update.bind(se, t),
onBlur: se.remove.bind(se, t)
}, function(e) {
return a.createElement(y.ListItem, {
focusItem: e,
key: "mapentry" + n,
label: t.map.label + " - " + t.gameMode.label,
scrollLabel: !0,
input: r
});
});
});
}, n.prototype.renderDeleteEntryButtons = function() {
var e = this;
if (!O.SpartaGlobals.bundleIsConsole) {
var t = this.props.mapRotationOption.entries.length, n = this.props.mapRotationOption.entries.map(function(t, n) {
return a.createElement(l.Focusable, {
id: "removeEntry" + n,
key: "removeEntry" + n
}, function(r) {
return a.createElement(m.Button, {
name: "162aca73:883:35",
icon: {
normal: F,
hover: G
},
size: 24,
focusItem: r,
style: ae.removeButton,
key: "removeMapEntryButton" + n,
textSize: "XS",
disabled: e.props.mapRotationOption.hasMinEntries,
action: e.removeMapEntry.bind(e, t, n)
});
});
});
return a.createElement("surface", {
style: ae.removeButtonsWrapper
}, t > 1 ? n : a.createElement("surface", null));
}
}, n.prototype.renderAddEntryButton = function() {
var e = this;
return a.createElement(g.List, {
style: ae.list,
items: [ a.createElement(l.Focusable, {
id: "addEntry",
group: this.focusGroup,
groupIndex: 1e3,
key: "addEntry"
}, function(t) {
return a.createElement(y.ListItem, {
id: "create-entry",
key: "add-entry",
label: "",
muted: e.props.mapRotationOption.hasMaxEntries,
fontSize: "L",
iconSize: "S",
focusItem: t,
focusIcon: B,
blurIcon: U,
input: [ new A.Input({
label: __("ID_SPARTA_COMMERCE_RSP_ADD_MAP"),
action: e.addMapEntry,
key: b.Keys.Accept,
blockInputFor: 500
}) ]
});
}) ]
});
}, n.prototype.render = function() {
var e = this.getItems(), t = h.getHeight(7), n = e.length - 1, r = (O.SpartaGlobals.bundleIsPC ? 8 : 6) * t + n, o = e.length * t + n > r ? r : void 0, i = h.getWidth(O.SpartaGlobals.bundleIsPC ? 7.2 : 6);
return a.createElement(h.Col, null, a.createElement(p.Scroller, {
style: {
height: o,
width: i
},
ref: this.scroller,
scrollbarPosition: "outside"
}, a.createElement("surface", {
style: {
flexDirection: "row"
}
}, a.createElement(g.List, {
divider: "item",
style: ae.list,
items: e
}), this.renderDeleteEntryButtons())), this.renderAddEntryButton());
}, n.contextTypes = {
providedFocusGroup: u.object
}, n = e.__decorate([ i.observer ], n);
}(a.Component), ce = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return se.entry ? a.createElement(de, {
imageUrl: se.entry.map.images.image("Medium"),
header: se.entry.map.label,
subHeader: se.entry.gameMode.label,
description: se.entry.gameMode.description
}) : a.createElement("surface", null);
}, n = e.__decorate([ i.observer ], n);
}(a.Component), pe = {
image: {
backgroundColor: "#000000",
height: h.getHeight(32),
textureMode: "cover",
marginBottom: 2 * h.GUTTER,
layer: !0,
layerGrabBackground: !1
}
}, de = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props, t = e.imageUrl, n = e.header, r = e.subHeader, o = e.description, i = null;
t && (i = a.createElement("surface", {
style: [ pe.image, {
texture: t
} ]
}));
var s = null;
r && (s = a.createElement(v.Text, {
value: r,
size: "S",
style: {
textLineSpacing: w.LINE_HEIGHTS.L,
textAlignForRTL: "left"
}
}));
var u = null;
return o && (u = a.createElement(v.Text, {
value: o,
size: "S",
style: {
textLineSpacing: w.LINE_HEIGHTS.S,
textAlignForRTL: "left"
}
})), a.createElement("surface", null, i, a.createElement(v.Text, {
value: n,
size: "L",
type: k.TextType.EMPHASIS,
style: {
textLineSpacing: w.LINE_HEIGHTS.XL,
textAlignForRTL: "left"
}
}), s, u);
}, n = e.__decorate([ i.observer ], n);
}(a.Component);
t.InfoView = de;
var fe = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.state = {
servers: f.rentedServerStore.getRentedByGame(e.gameId) || []
}, n;
}
return e.__extends(n, t), n.prototype.renderButton = function() {
var e = I.gameStore.getGame(this.props.gameId);
if (e && !this.props.purchase && this.state.servers && this.state.servers.length > 0) return a.createElement(h.Col, {
width: 6,
style: {
marginRight: 2 * h.GUTTER
}
}, a.createElement(m.Button, {
name: "162aca73:1065:31",
size: 24,
text: __("ID_SPARTA_COMMERCE_RSP_VIEW_YOUR_SERVERS_BUTTON"),
textSize: "S",
action: d.gotoLocation.bind(d.gotoLocation, e.serverConfig.serverListRoute + "?tab=rented")
}));
}, n.prototype.render = function() {
var e = "";
return e = this.props.purchase ? __("ID_SPARTA_COMMERCE_RSP_ORPHANED_PURCHASE_DESC") : this.state.servers && this.state.servers.length > 0 ? this.state.servers.length > 1 ? __("ID_SPARTA_COMMERCE_RSP_OWNED_SERVERS").replace("[[n]]", this.state.servers.length + "") : __("ID_SPARTA_COMMERCE_RSP_OWNED_SERVER") : __("ID_SPARTA_COMMERCE_RSP_RECONFIGURE_ANY_TIME"), 
a.createElement(h.Row, {
height: 7,
style: {
alignItems: "center"
}
}, this.renderButton(), a.createElement(v.Text, {
value: e,
size: "S"
}));
}, n = e.__decorate([ i.observer ], n);
}(a.Component);
t.PurchaseInfo = fe;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(154), s = n(14), u = n(5), l = n(33), c = n(1210), p = n(257), d = n(19), f = {
unknown: s.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-unknown-dark-e1371818.png"),
worst: s.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-worst-dark-9788a96a.png"),
bad: s.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-bad-dark-70bffc72.png"),
ok: s.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-ok-dark-cf767f8d.png"),
good: s.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-good-dark-cae1727b.png"),
best: s.bbOfflineUrl("/sparta/assets/ui/gameservers/ping-best-541aba08.png")
};
var m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.twinkle = p.TwinkleContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.fontType || l.TextType.NORMAL, t = this.props.textStyle;
return o.createElement("surface", {
style: this.props.style
}, function n(e, t) {
var n = function r(e) {
var t = "unknown";
return null == e ? t : (e >= 0 && e < 50 ? t = "best" : e >= 50 && e < 100 ? t = "good" : e >= 100 && e < 170 ? t = "ok" : e >= 170 && e < 220 ? t = "bad" : e >= 220 && (t = "worst"), 
t);
}(e), i = f[n], s = d.isRTLLanguage() && !t;
return i || console.warn("could not find texture for ping: " + n + ". Available textures:", f), 
o.createElement(a.Icon, {
image: i,
size: "S",
style: s ? c.PingIndicatorStyle.iconRTL : c.PingIndicatorStyle.icon
});
}(this.props.ping, this.twinkle.buildInfo.isPC), this.twinkle.buildInfo.isPC ? function r(n) {
var r = u.merge2(c.PingIndicatorStyle.text, t);
return o.createElement(i.Text, {
style: r,
type: e,
size: "XS",
value: null != n && n >= 0 ? "" + n : "-"
});
}(this.props.ping) : null);
}, t.contextTypes = p.TwinkleContext.contextTypes, t;
}(o.Component);
t.PingIndicator = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(60), i = n(319), a = n(3), s = n(79), u = function() {
function e() {
var e = this;
this.errorsByGame = a.observable.map(), this.rentedByGame = a.observable.map(), 
i.ListRSPClient.listen(function(t, n, r) {
r ? e.updateError(t, r) : e.updateList(t, n);
}), o.toggleBookmark.listen(function(t) {
var n = new s.GameServer(Object.assign({}, t, {
isFavorite: !t.isFavorite
}));
e.updateServerBookmarked(n);
}), o.serverBookmarkingFailed.listen(function(t) {
return e.updateServerBookmarked(t);
});
}
return e.prototype.updateList = function(e, t) {
this.rentedByGame.set(e, t), this.errorsByGame.delete(e), o.requestPings(t.map(function(e) {
return e.ip;
}));
}, e.prototype.updateError = function(e, t) {
this.errorsByGame.set(e, t);
}, e.prototype.getErrorByGame = function(e) {
return this.errorsByGame.get(e);
}, e.prototype.isLoadedForGame = function(e) {
return this.rentedByGame.has(e);
}, e.prototype.getRentedByGame = function(e) {
return this.rentedByGame.get(e);
}, e.prototype.updateServerBookmarked = function(e) {
if (e.guid) {
var t = this.rentedByGame.get(e.game);
if (t) {
var n = t.map(function(e) {
return e.guid;
}).indexOf(e.guid);
n > -1 && (t[n] = e);
}
}
}, r.__decorate([ a.action ], e.prototype, "updateList", null), r.__decorate([ a.action ], e.prototype, "updateError", null), 
r.__decorate([ a.action ], e.prototype, "updateServerBookmarked", null), e;
}();
t.rentedServerStore = new u();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function() {
function e(e) {
this.groups = e;
}
return e.fromBackend = function(t, n) {
return new e(t.map(function(e) {
return {
name: e.name,
entries: e.entries.reduce(function(e, t) {
var o = t.gameModeKey ? n.gameModes.find(function(e) {
return e.filterKey === t.gameModeKey;
}) : void 0, i = t.experienceId ? n.experiences.find(function(e) {
return e.id === t.experienceId;
}) : void 0, a = t.options.map(function(e) {
return r.__assign({}, e, {
maps: n.maps.reduce(function(t, n) {
return e.mapNames.indexOf(n.filterKey) > -1 && t.push(n), t;
}, [])
});
}), s = t.isNew;
return o ? e.push(r.__assign({
kind: "gameMode"
}, o, {
options: a,
isNew: s
})) : i && e.push(r.__assign({
kind: "experience"
}, i, {
options: a,
isNew: s
})), e;
}, []).sort(function(e, t) {
return e.prettyName > t.prettyName ? 1 : -1;
})
};
}));
}, e.baseFilter = {
version: 1,
serverType: {
OFFICIAL: "on"
},
passwordProtected: "off"
}, e;
}();
t.QuickmatchData = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
this.operationsCampaign = e, this.rawCurrentScore = -1, this.operationIndex = -1, 
this.previousScore = -1, this.requiredScore = -1;
}
return e.prototype.updateFromBackend = function(e) {
this.name = e.name, this.operationIndex = e.operationIndex, this.imageUrl = e.imageUrl, 
this.rawCurrentScore = e.currentScore, this.previousScore = e.previousScore, this.requiredScore = e.requiredScore;
}, Object.defineProperty(e.prototype, "isAvailable", {
get: function() {
return this.operationIndex > -1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "currentScore", {
get: function() {
var e = this.operationsCampaign.currentCompletionCount > this.operationsCampaign.previousCompletionCount;
return 0 === this.rawCurrentScore && e ? this.requiredScore : this.rawCurrentScore;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isCompleted", {
get: function() {
return this.currentScore >= this.requiredScore;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "haveProgress", {
get: function() {
return this.previousScore !== this.currentScore;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.observable ], e.prototype, "rawCurrentScore", void 0), r.__decorate([ o.action ], e.prototype, "updateFromBackend", null), 
r.__decorate([ o.computed ], e.prototype, "isAvailable", null), r.__decorate([ o.computed ], e.prototype, "currentScore", null), 
r.__decorate([ o.computed ], e.prototype, "isCompleted", null), r.__decorate([ o.computed ], e.prototype, "haveProgress", null), 
e;
}();
t.TunguskaOperationsPlayerStatus = i;
var a = function() {
function e() {
this.fetchedAt = -1, this.campaignId = "", this.name = "", this.shortDesc = "", 
this.campaignIndex = "", this.dailyLimitReached = !1, this.minutesRemaining = -1, 
this.minutesToDailyReset = -1, this.currentCompletionCount = -1, this.previousCompletionCount = -1, 
this.op1 = new i(this), this.op2 = new i(this), this.op3 = new i(this), this.op4 = new i(this), 
this.op5 = new i(this);
}
return e.prototype.updateFromBackend = function(e) {
this.fetchedAt = Date.now(), this.campaignId = e.campaignId, this.name = e.name, 
this.shortDesc = e.shortDesc, this.campaignIndex = e.campaignIndex, this.dailyLimitReached = e.dailyLimitReached, 
this.minutesRemaining = e.minutesRemaining, this.minutesToDailyReset = e.minutesToDailyReset, 
this.currentCompletionCount = e.currentCompletionCount, this.previousCompletionCount = e.previousCompletionCount, 
this.firstBattlepack = e.firstBattlepack, this.extraBattlepack = e.extraBattlepack, 
e.op1 && this.op1.updateFromBackend(e.op1), e.op2 && this.op2.updateFromBackend(e.op2), 
e.op3 && this.op3.updateFromBackend(e.op3), e.op4 && this.op4.updateFromBackend(e.op4), 
e.op5 && this.op5.updateFromBackend(e.op5);
}, Object.defineProperty(e.prototype, "availableOperations", {
get: function() {
return [ this.op1, this.op2, this.op3, this.op4, this.op5 ].filter(function(e) {
return e.isAvailable;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isLocked", {
get: function() {
return this.dailyLimitReached;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isCompleted", {
get: function() {
return this.currentCompletionCount > this.previousCompletionCount;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "currentBattlepack", {
get: function() {
return this.previousCompletionCount < this.currentCompletionCount && 1 === this.currentCompletionCount ? this.firstBattlepack : this.currentCompletionCount < 1 ? this.firstBattlepack : this.extraBattlepack;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.observable ], e.prototype, "dailyLimitReached", void 0), r.__decorate([ o.observable ], e.prototype, "minutesRemaining", void 0), 
r.__decorate([ o.observable ], e.prototype, "minutesToDailyReset", void 0), r.__decorate([ o.observable ], e.prototype, "currentCompletionCount", void 0), 
r.__decorate([ o.observable ], e.prototype, "previousCompletionCount", void 0), 
r.__decorate([ o.action ], e.prototype, "updateFromBackend", null), r.__decorate([ o.computed ], e.prototype, "availableOperations", null), 
r.__decorate([ o.computed ], e.prototype, "isLocked", null), r.__decorate([ o.computed ], e.prototype, "isCompleted", null), 
r.__decorate([ o.computed ], e.prototype, "currentBattlepack", null), e;
}();
t.TunguskaOperationsCampaign = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(30), a = n(593), s = [ "sa001", "sa004", "sa002", "sa003", "sa005", "sa006", "sa007", "sa010", "sa011", "sa008", "sa009", "sa012", "sa013", "sa014", "sa015", "sa016", "sa017", "sa018", "sa019", "sa020", "sa021", "sa022", "sa023", "sa024", "sa025", "sa026", "sa027", "sa028", "sa029", "sa034", "sa035", "sa036", "sa037", "sa038", "sa039", "sa040", "sa041", "sa042", "sa043", "sa044", "sa045", "sa030", "sa031", "sa032", "sa033" ], u = function() {
function e() {
this.name = "", this.items = [];
}
return e.prototype.updateFromBackend = function(e) {
var t = this, n = (e.awards || []).map(function(e) {
var n = t.items.find(function(t) {
return t.code === e.code;
});
return n || (n = new a.TunguskaAssignment()), n.updateFromBackend(e), n;
}).sort(function(e, t) {
var n = s.indexOf(e.code), r = s.indexOf(t.code);
return -1 !== n && -1 !== r ? n > r ? 1 : -1 : -1 !== n ? -1 : -1 !== r ? 1 : parseInt(e.code.replace("sa", ""), 10) > parseInt(t.code.replace("sa", ""), 10) ? 1 : -1;
});
this.name = e.name || "", this.items = n;
}, r.__decorate([ o.observable ], e.prototype, "name", void 0), r.__decorate([ o.observable ], e.prototype, "items", void 0), 
r.__decorate([ o.action ], e.prototype, "updateFromBackend", null), e;
}();
t.TunguskaAssignmentsCategory = u;
var l = function() {
function e() {
this.categories = [];
}
return Object.defineProperty(e.prototype, "assignments", {
get: function() {
var e = [];
return this.categories.forEach(function(t) {
t.items.forEach(function(t) {
e.push(t);
});
}), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "completedAssignments", {
get: function() {
return this.assignments.filter(function(e) {
return e.progression.isCompleted;
});
},
enumerable: !0,
configurable: !0
}), e.prototype.updateFromBackend = function(e) {
var t = this;
this.categories = e.map(function(e) {
var n = t.categories.find(function(t) {
return t.name === e.name;
});
return n || (n = new u()), n.updateFromBackend(e), n;
});
}, r.__decorate([ o.observable ], e.prototype, "categories", void 0), r.__decorate([ o.computed ], e.prototype, "assignments", null), 
r.__decorate([ o.computed ], e.prototype, "completedAssignments", null), r.__decorate([ o.action ], e.prototype, "updateFromBackend", null), 
e;
}();
t.TunguskaAssignments = l;
var c = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.gameId = t, r.clients = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e) {
var t = this.clients.getMissions.request({
game: this.gameId
});
e.useClientResult(t, function(t) {
var n;
return (n = e.value instanceof l ? e.value : new l()).updateFromBackend(t), n;
});
}, t.prototype.get = function() {
return this.getOrFetchFragment(this.gameId);
}, t.prototype.expire = function() {
return this.expireFragment(this.gameId);
}, t;
}(i.FragmentStore);
t.TunguskaAssignmentsStore = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(1274), a = n(597), s = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.fragmentTtl = 3e5, t;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = a.getItemGates.request(t);
e.useClientResult(n, i.ItemsGating.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.itemsGatingStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(10), a = n(435), s = n(1276);
t.KitWeaponClient = r.requester.createClient({
throttle: 1e3,
request: function(e) {
return o.request("Progression.getKitItems", {
game: e
});
},
parse: function(e, t) {
var n = i.gameStore.getGame(t);
return e.map(function(e) {
var t = n && null != n.careerConfig.getImagesByKit ? n.careerConfig.getImagesByKit(e.kit) : null;
return new s.KitWeaponCategory({
name: e.kit,
progression: e.progression,
items: a.WeaponClient.parse(e.weapons, e.kit, t),
images: t
});
});
},
update: function(e, t, n) {
this.publish(n, e);
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(598), a = n(599), s = n(1275), u = n(124);
t.WeaponClient = r.requester.createClient({
throttle: 3e4,
request: function(e) {
return o.request("Progression.getWeapons", {
game: e
});
},
parse: function(e, t, n) {
return void 0 === t && (t = ""), void 0 === n && (n = {
black: "",
white: ""
}), e.map(function(e) {
var r = [], o = e.name || "";
return e.weapons && (r = e.weapons.map(function(r) {
return new i.Weapon({
code: r.guid,
images: r.images,
hires: r.hires || r.images,
name: r.name,
description: r.description,
progression: new u.Progression(r.progression),
stats: r.stats,
info: r.info && function s(e) {
for (var t in e) if (e.hasOwnProperty(t)) {
if ("rateOfFire" === t) {
var n = e[t];
e[t] = n && "0" !== n ? n : void 0;
}
if ("range" === t) {
var r = e.statRange;
r && r > 0 && (e[t] = "");
}
}
return e;
}(r.info),
star: r.star,
price: r.price,
kit: {
name: t,
images: n
},
category: o,
categoryId: e.categoryId,
expansion: r.expansion,
premium: r.premium,
kitShortcutLicenses: r.kitShortcutLicenses,
unlockRequirements: r.unlockRequirements && r.unlockRequirements.map(function(e) {
return new a.Unlock(e);
})
});
})), new s.WeaponCategory(o, r.filter(function(e) {
return e;
}), e.categoryId);
});
},
onRequestError: function(e, t) {
this.publish(t, null, e);
},
update: function(e, t, n) {
this.publish(n, e);
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t) {
this.name = e, this.amount = 0, this.amount = t;
}
return e.prototype.updateAmount = function(e) {
this.amount = e;
}, r.__decorate([ o.observable ], e.prototype, "amount", void 0), r.__decorate([ o.action ], e.prototype, "updateAmount", null), 
e;
}();
t.GameWalletConsumable = i;
var a = function() {
function e(e) {
this.game = e, this.consumables = {};
}
return e.prototype.getValueOf = function(e) {
return this.consumables[e] ? this.consumables[e].amount : 0;
}, e.prototype.updateData = function(e) {
var t = this;
Object.keys(e).forEach(function(n) {
t.consumables[n] ? t.consumables[n].updateAmount(e[n]) : t.consumables[n] = new i(n, e[n]);
});
}, r.__decorate([ o.observable ], e.prototype, "consumables", void 0), r.__decorate([ o.action ], e.prototype, "updateData", null), 
e;
}();
t.GameWallet = a;
var s = function() {
function e() {
this.wallets = {};
}
return e.prototype.getWallet = function(e) {
return this.wallets[e] || (this.wallets[e] = new a(e)), this.wallets[e];
}, e.prototype.updateWallet = function(e, t) {
this.wallets[e] || (this.wallets[e] = new a(e)), this.wallets[e].updateData(t);
}, r.__decorate([ o.action ], e.prototype, "updateWallet", null), e;
}();
t.WalletStore = s, t.walletStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(56), a = n(73), s = n(206), u = n(205), l = n(159), c = n(74), p = n(25), d = n(51), f = n(603), m = n(31), h = n(88), g = n(604), y = n(10), S = n(433), v = n(81), _ = n(441), b = n(1285), T = n(82), E = n(87), C = n(43), I = n(1286), A = n(442), w = n(121), P = n(40), R = n(59), O = P.getBuildInfo().isCTE(), x = !1;
t.sendThrottledMedalsRequest = h.debounce(function() {
d.getCurrentMedals();
}, 2e3, !1, !0);
var k = h.debounce(function(e) {
R.frostbite.sendMessage(e);
}, 1e3, !0, !1), L = h.debounce(function(e) {
R.frostbite.sendMessage(e);
}, 2e3, !1, !0), M = function(e) {
function n(t, n) {
var r = e.call(this, t) || this;
return r.onlineState = n, r.gameId = m.tunguskaGameId, r.nextPossibleMPJoin = -1, 
r.level = new I.TunguskaLevel(), r.isEORShown = !1, r.isLoadingShown = !1, r.isSubRoute = !1, 
R.frostbite.registerMessageListener("game.showEndOfRoundMessage", function(e, t) {
r.handleEndOfRound(t);
}), R.frostbite.registerMessageListener("tunguska.CurrentObjectiveResponse", function(e, t) {
t && r.level.updateObjective(new A.ObjectiveItem(t.objective || "", t.description || "", t.codeBooksTotal || 0, t.codeBooksCollected || 0));
}), R.frostbite.registerMessageListener("tunguska.levelDescriptionResponse", function(e, t) {
t && t.levelPath && -1 === t.levelPath.toLowerCase().indexOf("frontend") && r.level.updateMPLevel(new I.MPLevelItem(t.name, t.levelPath, t.description, t.currentGameMode));
}), r;
}
return r.__extends(n, e), n.isTunguskaStore = function(e) {
return e.gameId === m.tunguskaGameId;
}, Object.defineProperty(n.prototype, "isEorActive", {
get: function() {
return this.gameViewState.isRoute(c.GameViewRoute.EOR) || this.isEORShown;
},
enumerable: !0,
configurable: !0
}), n.prototype.handleEndOfRound = function(e) {
var t = null !== e.isRanked && !1 === e.isRanked, n = y.gameStateStoreLoader.get().isSpectator;
u.operationFlow.endRound(), a.tunguskaEndOfRoundStore.clearEndOfRoundData(e.roundId), 
_.emblemState.clearPersonaEmblems(), p.closeAll(), e && e.mapName && a.tunguskaEndOfRoundStore.setFallbackMapName(b.cleanLevelName(e.mapName));
var r = !1;
if (e && e.gameMode) {
var o = b.cleanGameMode(e.gameMode);
a.tunguskaEndOfRoundStore.setFallbackGameMode(o), r = o.toLowerCase().indexOf("breakthrough") > -1;
}
T.tunguskaFeatureFlags.tunguskaAssignments.isEnabled() && (E.tunguskaAssignmentsStore.expire(), 
E.tunguskaTrackedAssignmentStore.expire());
var i = r ? 60 : 45, l = e.eorTimeout && e.eorTimeout > 10 ? e.eorTimeout : i;
s.nextRoundCountDown.start(0, l), a.tunguskaEndOfRoundStore.initializeEor(), a.tunguskaEndOfRoundStore.setUnrankedGame(t), 
t || n ? d.updateUnrankedEorData(e) : setTimeout(function() {
var t = y.entitlementStore.hasPremiumAccess(m.tunguskaGameId);
d.fetchEorData({
gameReportId: e.roundId,
forSpectator: n,
isPremium: t
});
}, 1e3), C.activateEor(), this.gotoEor(r);
}, n.prototype.gotoEor = function(e) {
!O && e ? this.handleRouteChanged(c.GameViewRoute.OPERATIONS_PRE_EOR) : !O && T.tunguskaFeatureFlags.tunguskaEndOfRoundBattleplan.isEnabled() ? this.handleRouteChanged(c.GameViewRoute.BATTLEPLAN_PRE_EOR) : this.handleRouteChanged(c.GameViewRoute.EOR), 
this.setGameViewVisible(!0);
}, n.prototype.registerMPSessionQuit = function() {
var e = this;
o.when(function() {
return e.spartaActivatedStore.navigationState === i.NavigationStates.FrontEnd;
}, function() {
e.nextPossibleMPJoin = new Date().getTime() + 35e3;
});
}, n.prototype.handleRouteChanged = function(e, t) {
void 0 === t && (t = c.GameViewSubRoute.NONE);
var n = this.gameViewState.route, r = this.gameViewState.subRoute;
e === c.GameViewRoute.PLAYING && n !== e && p.closeAll();
var o = !1;
e === c.GameViewRoute.EOR ? o = !0 : e === c.GameViewRoute.BATTLEPLAN_PRE_EOR ? o = !0 : e === c.GameViewRoute.OPERATIONS_PRE_EOR && (o = !0), 
this.isEORShown = o || this.isEORShown && e !== c.GameViewRoute.PLAYING, this.isLoadingShown = e === c.GameViewRoute.LOADING, 
this.isSubRoute = !!t, e !== n && this.gameViewState.setRoute(e), t !== r && this.gameViewState.setSubRoute(t);
}, n.prototype.handleSpartaActivated = function() {
this.updateLayoutAndGameViewVisibility(this.spartaActivatedStore.navigationState);
}, n.prototype.updateLayoutAndGameViewVisibility = function(e) {
switch (e) {
case i.NavigationStates.LoadingScreen:
this.shouldAutoSwitchToLoading() && this.handleRouteChanged(c.GameViewRoute.LOADING), 
this.onlineState.isOnlineBlazeAndGateway && this.isOnPlayableLevel && this.setGameViewVisible(!0), 
this.handleGoingToLoading();
break;

case i.NavigationStates.InGameMenu:
this.gameViewState.isRoute(c.GameViewRoute.LOADING) || this.gameViewState.isRoute(c.GameViewRoute.EOR) ? this.handleGameReadyFromLoadingScreen() : this.shouldAutoSwitchToInGameMenu() && this.handleRouteChanged(c.GameViewRoute.PLAYING), 
this.setGameViewVisible(!0), this.handleGoingToPauseMenu();
break;

case i.NavigationStates.EndOfRound:
this.gotoEor(!1);
break;

case i.NavigationStates.FrontEnd:
y.layoutVisibilityStore.setVisibilities({
all: !0
}), this.hasLeftFrontend && (this.serverState.queue.isPending || u.operationFlow.state === u.OperationState.matchmaking ? (this.setGameViewVisible(!0), 
this.handleRouteChanged(c.GameViewRoute.LOADING)) : (this.setGameViewVisible(!1), 
this.handleRouteChanged(c.GameViewRoute.NONE)), setTimeout(function() {
w.blackFadeState.hide();
}, 1e3), this.handleGoingToFrontEnd());
}
}, n.prototype.handleGameReadyFromLoadingScreen = function() {
if (this.hasLoadedLevel) {
var e = u.operationFlow.state !== u.OperationState.none;
a.tunguskaEndOfRoundStore.quitInProgress ? a.tunguskaEndOfRoundStore.setMustQuitAfterUpdate(!0) : s.nextRoundCountDown.active || e || (this.level.updateMPLevel(null), 
this.gameViewState.hasSubRoute() ? (l.goToGame({
withBlackFade: !0,
showGameReadyPopup: !0,
changeRoute: c.GameViewRoute.PLAYING
}), this.setWaitingForUserActionToPlay(!0)) : l.goToGame({
withBlackFade: !0,
changeRoute: c.GameViewRoute.PLAYING
}));
}
}, n.prototype.shouldAutoSwitchToInGameMenu = function() {
return !(this.gameViewState.hasSubRoute() || this.isLoadingShown);
}, n.prototype.shouldAutoSwitchToLoading = function() {
return !this.isEORShown && !this.gameViewState.hasSubRoute() && this.isMultiplayer && "levels/frontend/frontend" !== this.levelName.toLowerCase();
}, n.prototype.handleGoingToLoading = function() {
this.isMultiplayer && (a.tunguskaEndOfRoundStore.setLoadingState({
levelName: this.levelName,
gameMode: this.gameMode
}), L("tunguska.levelDescriptionRequest"), t.sendThrottledMedalsRequest()), v.expireTunguskaBattlepackFragments(!0);
}, n.prototype.handleGoingToPauseMenu = function() {
"" !== this.levelName && (this.isMultiplayer ? (L("tunguska.levelDescriptionRequest"), 
t.sendThrottledMedalsRequest()) : (k("tunguska.currentObjectiveRequest"), d.getCampaignEpisodes()));
}, n.prototype.handleGoingToFrontEnd = function() {
x || (d.getCampaignEpisodes(), this.onlineState.isOnlineBlazeAndGateway && g.TunguskaCodexClient.trigger(m.tunguskaGameId), 
x = !0), s.nextRoundCountDown.stop(), this.level.updateMPLevel(null), S.itemsGatingStore.expireFragment(m.tunguskaGameId), 
v.expireTunguskaBattlepackFragments(!0), y.freemiumStore.isPremiumTrialEnabled && R.frostbite.sendMessage("sparta.premiumTrialEnabled", {
enabled: !0
});
}, n.prototype.expireStoreFragments = function() {
v.expireTunguskaBattlepackFragments(!0);
}, r.__decorate([ o.computed ], n.prototype, "isEorActive", null), r.__decorate([ o.action ], n.prototype, "handleRouteChanged", null), 
r.__decorate([ o.action ], n.prototype, "handleSpartaActivated", null), n;
}(f.GameStateStore);
t.TunguskaGameStateStore = M;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(439), a = function() {
function e() {
this.codexEntries = o.observable.array();
}
return e.prototype.setCodexEntries = function(e) {
this.codexEntries.replace(e);
}, e.prototype.getCodexNumber = function(e) {
var t = e.code;
if (t) {
var n = "x" === t[t.length - 1];
return Number(t.slice(1, 4)) + (n ? .5 : 0);
}
return 0;
}, Object.defineProperty(e.prototype, "careerCodexCategories", {
get: function() {
var e = this, t = {};
return this.codexEntries.reduce(function(e, t) {
return t.category && (e[t.category] = e[t.category] || []).push(t), e;
}, t), Object.keys(t).map(function(n) {
var r = t[n], o = r.length, a = 0;
r.forEach(function(e) {
e.isCollected && a++;
}), r.sort(function(t, n) {
return e.getCodexNumber(t) - e.getCodexNumber(n);
});
var s = new i.CodexCategoryProgression(o, a);
return new i.CodexCategoryGroup(n, r, s);
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "totalCodexProgression", {
get: function() {
var e = 0, t = this.codexEntries.length;
return this.codexEntries.forEach(function(t) {
t.isCollected && e++;
}), {
total: t,
completed: e
};
},
enumerable: !0,
configurable: !0
}), e.prototype.getCodexEntryById = function(e) {
return this.codexEntries.slice().find(function(t) {
return t.id === e;
});
}, e.prototype.getCodexEntryByCode = function(e) {
return this.codexEntries.slice().find(function(t) {
return t.code === e;
});
}, r.__decorate([ o.action ], e.prototype, "setCodexEntries", null), r.__decorate([ o.computed ], e.prototype, "careerCodexCategories", null), 
r.__decorate([ o.computed ], e.prototype, "totalCodexProgression", null), e;
}();
t.TunguskaCodexStore = a, t.tunguskaCodexStore = new a();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
return function e(t, n) {
this.total = t, this.completed = n;
};
}();
t.CodexCategoryProgression = i;
var a = function() {
return function e(t, n, r) {
this.name = t, this.items = n, this.progression = r;
};
}();
t.CodexCategoryGroup = a;
var s = function() {
function e(e, t, n, r, i, a, s, u, l, c, p, d, f) {
void 0 === u && (u = !1), void 0 === l && (l = !1);
var m = this;
this.category = e, this.code = t, this.criteria = n, this.details = r, this.displayName = i, 
this.id = a, this.imageUrls = s, this.isGolden = l, this.voiceOver = p, this.score = d, 
this.expansions = f, this.isCollected = !1, this.category = e, this.code = t, this.criteria = n, 
this.details = r, this.displayName = i, this.id = a, this.imageUrls = s, o.action("entry init", function() {
m.isCollected = u, m.progression = c;
})(), this.isGolden = l, this.voiceOver = p, this.score = d, this.expansions = f;
}
return r.__decorate([ o.observable ], e.prototype, "isCollected", void 0), r.__decorate([ o.observable.ref ], e.prototype, "progression", void 0), 
e;
}();
t.CodexEntry = s;
var u = function() {
function e(e, t, n, r) {
var i = this;
this.description = "", this.unlocked = !1, this.valueAcquired = 0, this.valueNeeded = 0, 
o.action("entry progression init", function() {
i.description = e, i.unlocked = t, i.valueAcquired = n, i.valueNeeded = r;
})();
}
return r.__decorate([ o.observable ], e.prototype, "description", void 0), r.__decorate([ o.observable ], e.prototype, "unlocked", void 0), 
r.__decorate([ o.observable ], e.prototype, "valueAcquired", void 0), r.__decorate([ o.observable ], e.prototype, "valueNeeded", void 0), 
e;
}();
t.CodexEntryProgression = u;
var l = function() {
return function e(t, n, r, o, i) {
void 0 === o && (o = null), void 0 === i && (i = null), this.description = t, this.header = n, 
this.images = r, this.subHeader = o, this.text2 = i;
};
}();
t.CodexEntryDetails = l;
var c = function() {
return function e(t, n, r) {
this.code = t, this.name = n, this.progression = r;
};
}();
t.CodexEntryCriteria = c;
var p = function() {
function e(e, t, n) {
var r = this;
this.unlocked = !1, this.valueAcquired = 0, this.valueNeeded = 0, o.action("entry criteria progression init", function() {
r.unlocked = e, r.valueAcquired = t, r.valueNeeded = n;
})();
}
return r.__decorate([ o.observable ], e.prototype, "unlocked", void 0), r.__decorate([ o.observable ], e.prototype, "valueAcquired", void 0), 
r.__decorate([ o.observable ], e.prototype, "valueNeeded", void 0), e;
}();
t.CodexEntryCriteriaProgression = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(81), a = n(1284), s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = i.getUnopened.request({
game: t.game
});
e.useClientResult(n, a.BattlepackUnopened.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t.prototype.refetch = function(e) {
this.refreshFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.tunguskaBattlepackUnopenedStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(259), a = function() {
return function e(t, n) {
this.personaId = t, this.url = n;
};
}(), s = function() {
function e() {
this.personaEmblems = o.observable.map();
}
return e.prototype.setEquippedEmblem = function(e) {
this.equippedEmblemTemplate = e;
}, e.prototype.addEmblemForPersona = function(e, t) {
this.personaEmblems.set(e, new a(e, t));
}, e.prototype.clearPersonaEmblems = function() {
this.personaEmblems.clear();
}, e.prototype.getEmblemForPersona = function(e, t) {
var n = this.personaEmblems.get(e);
if (!t || n && n.url && !i.isCustomEmblem(n.url)) return n;
}, e.prototype.clearEmblemForPersona = function(e) {
this.personaEmblems.delete(e);
}, r.__decorate([ o.observable ], e.prototype, "equippedEmblemTemplate", void 0), 
r.__decorate([ o.action ], e.prototype, "setEquippedEmblem", null), r.__decorate([ o.action ], e.prototype, "addEmblemForPersona", null), 
r.__decorate([ o.action ], e.prototype, "clearPersonaEmblems", null), r.__decorate([ o.action ], e.prototype, "clearEmblemForPersona", null), 
e;
}();
t.EmblemState = s, t.emblemState = new s();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(3), o = n(439), i = n(14), a = n(88), s = n(51), u = n(59), l = {
c124: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c124-787d4263.jpg"),
c125: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c125-9edd4227.jpg"),
c126: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c126-8fc65ecb.jpg"),
c127: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c127-b60ec47f.jpg"),
c128: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c128-9f2341bc.jpg"),
c129: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c129-ad93a5e7.jpg"),
c130: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c130-6805066c.jpg"),
c131: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c131-3c4bf8b7.jpg"),
c132: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c132-2c7f6e1d.jpg"),
c133: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c133-190ec9fb.jpg"),
c134: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c134-e673fc4f.jpg"),
c135: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c135-d5841139.jpg"),
c136: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c136-d9ce7cc2.jpg"),
c137: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c137-92012e01.jpg"),
c138: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c138-fd86daf9.jpg"),
c139: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c139-ef086b0e.jpg"),
c140: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c140-e4905a6c.jpg"),
c141: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c141-fa768ea4.jpg"),
c142: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c142-c8b9ccfc.jpg"),
c143: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c143-383cdefa.jpg"),
c144: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c144-7373e4dc.jpg"),
c145: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c145-93b0e6a4.jpg"),
c146: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c146-ced86c68.jpg"),
c147: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c147-cd022aea.jpg"),
c148: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c148-178c6d7b.jpg"),
c149: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c149-de6e339a.jpg"),
c150: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c150-f833fc42.jpg"),
c151: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c151-6f822064.jpg"),
c152: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c152-8334825a.jpg"),
c153: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c153-adc146c2.jpg"),
c154: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c154-9cfad38f.jpg"),
c155: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c155-b02b8ead.jpg"),
c156: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c156-0d84eb70.jpg"),
c157: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c157-10baafa3.jpg"),
c158: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c158-96776f14.jpg"),
c159: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c159-2a2198ae.jpg"),
c160: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c160-3808716a.jpg"),
c161: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c161-2cb12c6e.jpg"),
c162: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c162-37e71bb5.jpg"),
c163: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c163-15d71729.jpg"),
c164: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c164-69a2885a.jpg"),
c165: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c165-2d3c99a1.jpg"),
c166: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c166-b1866421.jpg"),
c167: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c167-84a50e8f.jpg"),
c168: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c168-1b795dd4.jpg"),
c169: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c169-2dbd19ed.jpg"),
c170: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c170-c08f2edd.jpg"),
c171: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c171-ef5720fd.jpg"),
c172: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c172-b2f1ede1.jpg"),
c173: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c173-6215f641.jpg"),
c174: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c174-292983ea.jpg"),
c175: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c175-dc82f620.jpg"),
c176: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c176-47aff5b9.jpg"),
c177: i.bbOfflineUrl("/sparta/assets/images/bf1/codex/c177-8f6a27a4.jpg")
}, c = function() {
return function e(t, n, r, o) {
this.title = t, this.description = n, this.codeBooksTotal = r, this.codeBooksCollected = o;
};
}();
t.ObjectiveItem = c;
var p = function() {
function e(e, t, n) {
void 0 === t && (t = !1), this.chapters = e, this.isCompleted = t, this.name = n;
}
return Object.defineProperty(e.prototype, "isEpilogue", {
get: function() {
return this.chapters.some(function(e) {
return e.isEpilogue;
});
},
enumerable: !0,
configurable: !0
}), e;
}();
t.CampaignEpisode = p;
var d = function() {
return function e(t, n, r, o, i, a, s, u, l, c, p) {
void 0 === t && (t = 0), void 0 === n && (n = 0), void 0 === o && (o = ""), void 0 === i && (i = !1), 
void 0 === a && (a = !1), void 0 === s && (s = !1), void 0 === u && (u = !1), void 0 === l && (l = ""), 
void 0 === c && (c = ""), void 0 === p && (p = []), this.codeBooksCollected = t, 
this.codeBooksTotal = n, this.codexEntries = r, this.currentObjective = o, this.isCompleted = i, 
this.isCooperative = a, this.isEpilogue = s, this.isMenu = u, this.name = l, this.path = c, 
this.startPoints = p;
};
}();
t.EpisodeChapter = d;
var f = function() {
return function e(t, n, r) {
void 0 === t && (t = ""), void 0 === n && (n = !1), void 0 === r && (r = ""), this.category = t, 
this.isDefault = n, this.name = r;
};
}();
t.ChapterStartPoint = f;
var m = function() {
function t() {
this.episodes = r.observable.array(), this.currentObjective = null;
}
return t.prototype.updateObjective = function(e) {
this.currentObjective = e;
}, t.prototype.setCampaigns = function(e) {
this.episodes.replace(e);
}, Object.defineProperty(t.prototype, "allCodexEntries", {
get: function() {
var e = [];
return this.episodes.forEach(function(t) {
t.chapters.forEach(function(t) {
e = e.concat(t.codexEntries);
});
}), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "campaignProgress", {
get: function() {
var e = 0, t = 0, n = 0, r = 0, o = 0, i = 0;
return this.episodes.forEach(function(a) {
a.isEpilogue || (a.isCompleted && e++, a.chapters.forEach(function(e) {
var t = e.codexEntries;
i += e.codeBooksTotal, o += e.codeBooksCollected, n += t.length, t.forEach(function(e) {
e.isCollected && r++;
});
}), t++);
}), {
totalEpisodes: t,
totalCodexEntries: n,
totalCodeBooks: i,
completedEpisodes: e,
completedCodexEntries: r,
completedCodeBooks: o
};
},
enumerable: !0,
configurable: !0
}), t.prototype.getChapter = function(e) {
var t = [];
return this.episodes.forEach(function(e) {
t = t.concat(e.chapters);
}), t.find(function(t) {
return !(!t.path || e !== t.path.toLowerCase());
});
}, t.prototype.getCodexEntryById = function(e) {
var t = [];
return this.episodes.forEach(function(e) {
e.chapters.forEach(function(e) {
t = t.concat(e.codexEntries);
});
}), t.find(function(t) {
return t.id === e;
});
}, e.__decorate([ r.observable ], t.prototype, "currentObjective", void 0), e.__decorate([ r.action ], t.prototype, "updateObjective", null), 
e.__decorate([ r.action ], t.prototype, "setCampaigns", null), e.__decorate([ r.computed ], t.prototype, "allCodexEntries", null), 
e.__decorate([ r.computed ], t.prototype, "campaignProgress", null), t;
}();
t.TunguskaCampaignStore = m, t.tunguskaCampaignStore = new m();
var h = a.debounce(function() {
u.frostbite.sendMessage("tunguska.campaignInformationRequest");
}, 1e4, !0, !1);
s.getCampaignEpisodes.listen(function() {
h();
}), u.frostbite.registerMessageListener("tunguska.campaignInformationResponse", function(e, n) {
if (n && n.campaignInformation && n.campaignInformation.episodes) {
var r = n.campaignInformation.episodes.map(function(e) {
var t = e.chapters.map(function(e) {
var t = e.codexEntries.map(function(e) {
var t = (e.criteria || []).map(function(e) {
var t = (e.progression || []).map(function(e) {
var t = e.unlocked, n = e.valueAcquired, r = e.valueNeeded;
return new o.CodexEntryCriteriaProgression(t, n, r);
});
return new o.CodexEntryCriteria(e.code, e.name, t.length > 0 ? t[0] : void 0);
}), n = new o.CodexEntryProgression(e.criteriaName, e.isCompleted, e.progression ? e.progression.valueAcquired : 0, e.progression ? e.progression.valueNeeded : 1), r = new o.CodexEntryDetails(e.description, e.header, [], e.subheader, e.text2), i = function a(e) {
return l[e];
}(e.code);
return new o.CodexEntry(function s(e) {
return {
CodexEntryCategory_Weapons: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_WEAPONS"),
CodexEntryCategory_Vehicles: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_VEHICLES"),
CodexEntryCategory_Tactics: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_TACTICS"),
CodexEntryCategory_War: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_WAR"),
CodexEntryCategory_World: __("ID_SPARTA_TUNGUSKA_CODEX_CATEGORY_WORLD")
}[e] || "";
}(e.category), e.code, t, r, e.nameSid, e.codexId, {
small: i,
large: i
}, e.isCompleted, !0, n, void 0);
}), n = (e.startPoints || []).map(function(e) {
return new f(e.category, e.isDefault, e.name);
});
return new d(e.codeBooksCollected, e.codeBooksTotal, t, e.currentObjective, e.isCompleted, e.isCooperative, !!e.path && e.path.toLowerCase() === "Levels/SP/EP6_Epilogue/SP_Epilogue/SP_Epilogue".toLowerCase(), e.isMenu, e.name, e.path, n);
});
return new p(t, e.isCompleted, e.name);
});
t.tunguskaCampaignStore.setCampaigns(r);
}
}), u.frostbite.registerMessageListener("tunguska.CurrentObjectiveResponse", function(e, n) {
if (n) {
var r = n.objective || "", o = n.description || "", i = n.codeBooksCollected || 0, a = n.codeBooksTotal || 0;
t.tunguskaCampaignStore.updateObjective(new c(r, o, a, i));
}
});
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(610), u = n(28), l = n(6), c = n(112), p = n(323), d = n(19), f = n(13), m = n(22), h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.listFocusGroup = m.focusSystem.createComponentGroup(t, "editableList"), 
t.updateInputValue = i.action(function(e) {
t.inputValue = e;
}), t.handleAdd = function() {
t.props.handleAdd(t.inputValue).then(function(e) {
t.updateInputValue(e);
});
}, t;
}
return r.__extends(t, e), t.prototype.renderList = function() {
if (0 === this.props.players.length) {
var e = d.isRTLLanguage() ? {
textAlignForRTL: "left",
flex: 1,
marginRight: 15 * f.Grid.GUTTER
} : void 0;
return o.createElement(l.Text, {
style: e,
value: this.props.emptyListDesc
});
}
var t = d.isRTLLanguage() ? {
alignItems: "flex-end"
} : void 0;
return o.createElement("surface", {
style: t
}, o.createElement(l.Text, {
size: "M",
value: this.props.listTitle
}), o.createElement(s.PlayerList, {
getInput: this.props.getInput,
getButtons: this.props.getButtons,
focusGroup: this.listFocusGroup,
players: this.props.players
}));
}, t.prototype.renderForm = function() {
return o.createElement("surface", {
style: p.RSPAdminStyle.editableListWideColumn
}, o.createElement(c.InputField, {
style: p.RSPAdminStyle.editableListInput,
onValueChanged: this.updateInputValue,
title: this.props.inputTitle,
value: this.inputValue,
placeholder: this.props.inputPlaceholder,
size: "M"
}), o.createElement(u.Button, {
name: "40560b4a:76:27",
style: p.RSPAdminStyle.editableListWideColumn,
text: this.props.inputActionTitle,
action: this.handleAdd
}));
}, t.prototype.render = function() {
return o.createElement("surface", {
style: p.RSPAdminStyle.teamsContainer
}, this.renderList(), this.renderForm());
}, r.__decorate([ i.observable ], t.prototype, "inputValue", void 0), t = r.__decorate([ a.observer ], t);
}(o.Component);
t.EditableList = h;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(11), s = n(1300), u = n(122), l = n(611), c = n(22), p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.prevTab = function() {
t.props.prevTab();
}, t.nextTab = function() {
t.props.nextTab();
}, t;
}
return r.__extends(t, e), t.prototype.goToTab = function(e) {
this.props.goToTab(e);
}, t.prototype.render = function() {
var e = this, t = this.props.active.id, n = c.focusSystem.controllerMode ? void 0 : {
opacity: 0,
enableMouseEvents: !1
}, r = o.createElement("surface", {
style: [ l.GameViewTabStyle.buttonContainerLeft, n ]
}, o.createElement(u.InputButton, {
label: "",
inputKey: a.Keys.Previous,
style: l.GameViewTabStyle.button,
action: this.prevTab,
useConsoleStyle: !0
})), i = o.createElement("surface", {
style: [ l.GameViewTabStyle.buttonContainerRight, n ]
}, o.createElement(u.InputButton, {
label: "",
inputKey: a.Keys.Next,
style: l.GameViewTabStyle.button,
action: this.nextTab,
useConsoleStyle: !0
})), p = this.props.tabs.map(function(n, r) {
var i = n.id === t;
return o.createElement(s.GameViewTab, {
key: "tab-" + r,
bordered: !0,
text: n.title(),
active: i,
onClick: e.props.goToTab.bind(e, r)
});
}), d = o.createElement("surface", {
style: l.GameViewTabStyle.lineContainerLeft
}, r, o.createElement("surface", {
style: l.GameViewTabStyle.lineBorderLeft
})), f = o.createElement("surface", {
style: l.GameViewTabStyle.lineContainerRight
}, i, o.createElement("surface", {
style: l.GameViewTabStyle.lineBorderRight
}));
return o.createElement("surface", {
style: l.GameViewTabStyle.container
}, o.createElement("surface", {
style: l.GameViewTabStyle.tabsContainer
}, d, p, f));
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.GameViewTabs = p;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(205), a = n(51), s = n(73), u = n(612), l = n(1302), c = n(159), p = n(6), d = n(206), f = n(10), m = n(74), h = n(31), g = n(9), y = n(158), S = {
bottomBar: {
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
flex: 1
}
}, v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onCountDown = function() {
var t = i.operationFlow.state === i.OperationState.eor, n = e.props.callback, r = e.props.autoDismiss;
a.endOfRoundCountdownCompleted(), s.tunguskaEndOfRoundStore.quitInProgress || (t && i.operationFlow.startPlaying(), 
c.goToGame({
withBlackFade: !0,
showGameReadyPopup: !r,
changeRoute: m.GameViewRoute.PLAYING
})), null != n && n();
}, e;
}
return e.__extends(n, t), n.prototype.renderPulsatingText = function(e, t) {
var n = "";
return e ? n = f.gameStateStoreLoader.get().queue.getPrettyStatus(t) || __("ID_SPARTA_SERVER_LOADING_GAME") : f.matchmakingManager.isInProgress && (n = __("ID_SPARTA_GAMESTATE_MATCHMAKING")), 
r.createElement(u.PulsatingText, {
text: n
});
}, n.prototype.renderCountDown = function() {
var e = i.operationFlow.state === i.OperationState.eor ? __("ID_SPARTA_GAMESTATE_NEXT_OPERATION_STARTS_IN") : __("ID_SPARTA_GAMESTATE_NEXT_ROUND_STARTS_IN");
return r.createElement(l.NextRoundCountDown, {
text: e,
callback: this.onCountDown
});
}, n.prototype.render = function() {
var e, t = f.matchmakingManager.sessionInProgress, n = f.gameStateStoreLoader.get().server || t && t.server, o = f.entitlementStore.hasPremiumAccess(h.tunguskaGameId);
if (d.nextRoundCountDown.active ? e = this.renderCountDown() : f.gameStateStoreLoader.get().currentGameViewRoute === m.GameViewRoute.LOADING && (e = this.renderPulsatingText(n, o)), 
!e) return null;
var i = f.freemiumStore.isFreemiumPossible ? r.createElement(_, null) : null;
return r.createElement("surface", {
style: S.bottomBar
}, e, i);
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.CountDownLoadingFooter = v;
var _ = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.tunguska = y.TunguskaContext.getFromComponent(e), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "premiumEnabledByText", {
get: function() {
var e, t = this.tunguska.sparta.stores.partyStoreLoader.get().party, n = t ? t.premiumMembers : [];
if (n.length > 1) e = __("ID_SPARTA_SERVER_LOADING_PREMIUM_FRIENDS_PC"), g.SpartaGlobals.bundleIsPS4 ? e = __("ID_SPARTA_SERVER_LOADING_PREMIUM_FRIENDS_PS4") : g.SpartaGlobals.bundleIsXBOXONE && (e = __("ID_SPARTA_SERVER_LOADING_PREMIUM_FRIENDS_XB1")); else {
var r = n[0];
e = __("ID_SPARTA_SERVER_LOADING_PREMIUM_PLAYER_PC"), g.SpartaGlobals.bundleIsPS4 ? e = __("ID_SPARTA_SERVER_LOADING_PREMIUM_PLAYER_PS4") : g.SpartaGlobals.bundleIsXBOXONE && (e = __("ID_SPARTA_SERVER_LOADING_PREMIUM_PLAYER_XB1")), 
e = e.replace("[[user]]", r.displayName);
}
return e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "enablingPremiumText", {
get: function() {
var e = __("ID_SPARTA_SERVER_LOADING_ENABLING_PREMIUM_PARTY_PC");
return g.SpartaGlobals.bundleIsPS4 ? e = __("ID_SPARTA_SERVER_LOADING_ENABLING_PREMIUM_PARTY_PS4") : g.SpartaGlobals.bundleIsXBOXONE && (e = __("ID_SPARTA_SERVER_LOADING_ENABLING_PREMIUM_PARTY_XB1")), 
e;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e;
return f.freemiumStore.isInPremiumParty ? e = f.freemiumStore.hasFreemium ? this.premiumEnabledByText : this.enablingPremiumText : f.freemiumStore.isPremiumTrialEnabled && f.freemiumStore.hasFreemium && (e = __("ID_SPARTA_PREMIUM_TRIALS_ACTIVE")), 
r.createElement(p.Text, {
style: {
color: "#FF9900"
},
size: "XS",
value: e
});
}, n.contextTypes = y.TunguskaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.FreemiumText = _;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("EorStyles"), a = function() {
function e() {}
return e.survey = o.wrap(function() {
return o.style({
flex: 1,
alignSelf: "center",
alignItems: "center",
flexDirection: "column",
width: o.LayoutBounds.safeZone.width / 2,
marginBottom: o.Grid.getHeight(2, !1)
}, "123ede3c:15:31");
}), e.starMargin = o.wrap(function() {
return o.style({
marginRight: 1 * o.Grid.GUTTER
}, "123ede3c:26:35");
}), e.surveyCompleted = o.wrap(function() {
return o.style({
justifyContent: "space-around"
}, "123ede3c:32:40");
}), e.readableBackground = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
backgroundColor: "#ff00ff"
}, "123ede3c:38:43");
}), e.title = o.wrap(function() {
return o.style({
alignSelf: "center"
}, "123ede3c:49:30");
}), e.question = o.wrap(function() {
return o.style({}, "123ede3c:55:33");
}), e.commentsTextArea = o.wrap(function() {
return o.style({
height: 14 * o.Grid.GUTTER,
width: o.Grid.getWidth(12),
alignSelf: "center"
}, "123ede3c:57:41");
}), e.questionTxt = o.wrap(function() {
return o.style({
textAlign: "center",
width: o.LayoutBounds.safeZone.width / 2,
marginBottom: 2 * o.Grid.GUTTER
}, "123ede3c:65:36");
}), e.stars = o.wrap(function() {
return o.style({
flex: 1,
width: o.LayoutBounds.safeZone.width / 2,
flexDirection: "row",
justifyContent: "space-around",
marginBottom: 6 * o.Grid.GUTTER,
marginTop: 5 * o.Grid.GUTTER
}, "123ede3c:73:30");
}), e.basicStar = o.wrap(function() {
return o.style({
width: 64,
height: 64,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/CTE-Feedback-Star-73c584c2.png"),
textureMode: "contain"
}, "123ede3c:84:34");
}), e.starGrey = o.wrap(function() {
return o.style({
grayScale: 1,
opacity: .33
}, "123ede3c:93:33");
}), e.starSelected = o.wrap(function() {
return o.style({
opacity: 1
}, "123ede3c:100:37");
}), e.starHovered = o.wrap(function() {
return o.style({
grayScale: 1,
opacity: 1
}, "123ede3c:106:36");
}), e.submitBtn = o.wrap(function() {
return o.style({
marginTop: 6 * o.Grid.GUTTER,
alignSelf: "center",
width: o.Grid.getWidth(6)
}, "123ede3c:113:34");
}), e = r.__decorate([ i.style ], e);
}();
t.SurveyStyles = a;
var s = function() {
function e() {}
return e.pressable = o.wrap(function() {
return o.style({
position: "relative"
}, "123ede3c:124:34");
}), e = r.__decorate([ i.style ], e);
}();
t.HighlightStyles = s;
var u = function() {
function e() {}
return e.main = o.wrap(function() {
return o.style({
flex: 1,
alignSelf: "center",
flexDirection: "row",
width: o.LayoutBounds.safeZone.width + (o.Constants.isPC ? o.LayoutBounds.dangerZoneSize.width - 2 * o.Grid.GUTTER : 0)
}, "123ede3c:133:29");
}), e = r.__decorate([ i.style ], e);
}();
t.ScoreboardStyles = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(8), s = n(19), u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this, t = {
marginLeft: 1.5 * a.GUTTER,
marginRight: 1.5 * a.GUTTER
}, n = this.props.elements.filter(function(e) {
return !!e.text;
}).map(function(n, r) {
var a = r === e.props.elements.length - 1 ? null : o.createElement(i.Text, {
color: "#ffffff",
size: "S",
value: "|",
key: "sep" + r,
style: t
});
return s.localeRearrange([ o.createElement(i.Text, {
key: "text" + r,
color: n.color || "#ffffff",
size: "S",
value: n.text
}), a ]);
}), r = s.localeRearrange(n);
return o.createElement("surface", {
style: [ this.props.style, {
flexDirection: "row"
} ]
}, r);
}, t;
}(o.Component);
t.TwinColumns = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaGameViewStyles"), a = function() {
function e() {}
var t;
return t = e, e.dock = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 10
}, "ce5548a1:18:29");
}), e.borderRadius = o.value(function() {
return o.Grid.GUTTER / 2;
}, "ce5548a1:29:26"), e.box = o.wrap(function() {
return o.style({
borderRadius: t.borderRadius
}, "ce5548a1:31:28");
}), e.boxFocused = o.wrap(function() {
return o.style({
backgroundColor: "#ffffff"
}, "ce5548a1:37:35");
}), e.boxBlurred = o.wrap(function() {
return o.style({
backgroundColor: "#00000050"
}, "ce5548a1:43:35");
}), e.title = o.wrap(function() {
return o.style({
justifyContent: "center",
alignItems: "center",
padding: o.Grid.GUTTER,
marginBottom: o.Grid.GUTTER,
borderRadius: [ t.borderRadius, t.borderRadius, 0, 0 ]
}, "ce5548a1:49:30");
}), e.content = o.wrap(function() {
return o.style({
justifyContent: "center",
alignItems: "center",
flex: 1,
zOffset: 1
}, "ce5548a1:59:32");
}), e.bottom = o.wrap(function() {
return o.style({
justifyContent: "center",
alignItems: "center",
padding: o.Grid.GUTTER
}, "ce5548a1:68:31");
}), e.shimmer = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 4,
texture: o.bbOfflineUrl("/sparta/assets/ui/cards/shine-tiny-974103c1.png"),
textureMode: "none",
textureScale: 5,
opacity: 1
}, "ce5548a1:76:32");
}), e = t = r.__decorate([ i.style ], e);
}();
t.GameViewBoxStyles = a;
var s = function() {
function e() {}
var t;
return t = e, e.codeBookImage = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-codebook-34b9f74c.png");
}, "ce5548a1:94:27"), e.topPadding = o.value(function() {
return o.Grid.getHeight(6, !1);
}, "ce5548a1:95:24"), e.bottomMargin = o.value(function() {
return o.Grid.getHeight(10);
}, "ce5548a1:96:26"), e.mpContainer = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row",
alignItems: "flex-end",
paddingBottom: t.bottomMargin
}, "ce5548a1:98:36");
}), e.spContainer = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row",
paddingTop: t.topPadding,
paddingBottom: t.bottomMargin
}, "ce5548a1:107:36");
}), e.menuStyleMp = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(7)
}, "ce5548a1:116:36");
}), e.menuStyleSp = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(8)
}, "ce5548a1:122:36");
}), e.mpRightContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
alignItems: "flex-end",
flex: 1
}, "ce5548a1:128:41");
}), e.mpLeftContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
marginRight: o.Grid.getWidth(3)
}, "ce5548a1:137:40");
}), e.spLeftContainer = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "column",
justifyContent: "space-between"
}, "ce5548a1:144:40");
}), e.spRightContainer = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "column",
justifyContent: "space-between"
}, "ce5548a1:152:41");
}), e.codeBookStyle = o.wrap(function() {
return o.style({
width: 29,
height: 36,
texture: t.codeBookImage,
marginRight: 2 * o.Grid.GUTTER,
opacity: .3
}, "ce5548a1:160:38");
}), e.codeBooksContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
height: 36
}, "ce5548a1:170:43");
}), e.spChapterWrapper = o.wrap(function() {
return o.style({
flexDirection: "column",
justifyContent: "flex-end"
}, "ce5548a1:177:41");
}), e.spHeader = o.wrap(function() {
return o.style({
marginBottom: 1.5 * o.Grid.GUTTER,
textAlignForRTL: "left"
}, "ce5548a1:184:33");
}), e.spObjectiveText = o.wrap(function() {
return o.style({
flexDirection: "row",
flexWrap: "wrap",
textAlignForRTL: "left"
}, "ce5548a1:191:40");
}), e.installStyle = o.wrap(function() {
return o.style({
alignItems: "flex-start"
}, "ce5548a1:199:37");
}), e.menuBorder = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: -1,
bottom: 0,
width: 2,
backgroundColor: [ 230, 230, 230, 204 ],
zOffset: 10
}, "ce5548a1:205:35");
}), e = t = r.__decorate([ i.style ], e);
}();
t.TunguskaPlayingStyles = s;
var u = function() {
function e() {}
return e.assignmentPadding = o.value(function() {
return o.Constants.isPC ? 10 : 5;
}, "ce5548a1:220:31"), e.footerContent = o.wrap(function() {
return o.style({
width: o.LayoutBounds.screen.width - 2 * o.LayoutBounds.dangerZoneSize.width,
flexDirection: "row",
justifyContent: "space-between",
alignItems: "flex-end"
}, "ce5548a1:222:38");
}), e.boxesContainer = o.wrap(function() {
return o.style({
position: "absolute",
bottom: o.Grid.getHeight(o.Constants.isPC ? 0 : 4)
}, "ce5548a1:231:39");
}), e.boxes = o.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(4)
}, "ce5548a1:238:30");
}), e.gameInfo = o.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.LayoutBounds.dangerZoneSize.height / 2
}, "ce5548a1:244:33");
}), e.header = o.stylefunc(function() {
return o.style({
flexDirection: "row",
flex: 1,
marginTop: o.Grid.spacer(2),
marginBottom: o.Grid.spacer(2)
}, "ce5548a1:252:14");
}, function(e) {
return o.dynamicStyle({
textAlignForRTL: e.isRTL ? "left" : "right"
}, "ce5548a1:259:37");
}), e.description = o.stylefunc(function() {
return o.style({
flexDirection: "row",
flex: 1,
marginBottom: o.Grid.spacer(2)
}, "ce5548a1:266:14");
}, function(e) {
return o.dynamicStyle({
textAlignForRTL: e.isRTL ? "left" : "right"
}, "ce5548a1:272:37");
}), e.twinColumns = o.stylefunc(function() {
return o.style({
flexDirection: "row",
flex: 1,
flexWrap: "nowrap"
}, "ce5548a1:279:14");
}, function(e) {
return o.dynamicStyle({
justifyContent: e.isRTL ? "flex-end" : "flex-start"
}, "ce5548a1:285:37");
}), e.hint = o.stylefunc(function() {
return o.style({
flexDirection: "row",
flex: 1,
marginBottom: o.Grid.spacer(2)
}, "ce5548a1:292:14");
}, function(e) {
return o.dynamicStyle({
justifyContent: e.isRTL ? "flex-end" : "flex-start"
}, "ce5548a1:298:37");
}), e.inlineSeparator = o.wrap(function() {
return o.style({
marginLeft: 1.5 * o.Grid.spacer(),
marginRight: 1.5 * o.Grid.spacer()
}, "ce5548a1:304:40");
}), e.cgPadding = o.wrap(function() {
return o.style({
width: o.Grid.spacer()
}, "ce5548a1:311:34");
}), e.filterSettings = o.stylefunc(function() {
return o.style({
flexDirection: "row",
flex: 1
}, "ce5548a1:318:14");
}, function(e) {
return o.dynamicStyle({
textAlignForRTL: e.isRTL ? "left" : "right"
}, "ce5548a1:323:37");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaLoadingStyles = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(1334), a = n(6), s = n(87), u = n(143), l = n(560), c = n(58), p = n(82), d = n(50), f = n(381), m = n(19), h = n(40).getBuildInfo().isCTE(), g = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = __("ID_SPARTA_CAREER_ASSIGNMENT_COMPLETED").replace("[[x]]", this.props.assignment.completedCriterias.length.toString()).replace("[[y]]", this.props.assignment.requiredCriterasAmount.toString()), n = r.createElement(f.ColorContext.Consumer, null, function(t) {
return r.createElement("surface", {
style: i.TrackedAssignmentStyles.progress(m.isRTLLanguage()),
key: "progress"
}, r.createElement(l.RadialProgressBar, {
size: 70,
progress: e.props.assignment.progressPercent,
progressColor: "#ff9900ff",
bgColor: "#8585859a"
}), r.createElement("surface", {
style: [ i.TrackedAssignmentStyles.assignmentImage, {
texture: e.props.assignment.images && e.props.assignment.images.Small || ""
}, t ]
}));
}), o = r.createElement("surface", {
style: i.TrackedAssignmentStyles.infotext,
key: "criterias"
}, r.createElement(c.Marquee, {
focusItem: this.props.focusItem,
style: i.TrackedAssignmentStyles.infoMarquee(m.isRTLLanguage()),
rtl: m.isRTLLanguage(),
shuttle: !0
}, r.createElement(a.Text, {
value: this.props.assignment.name,
type: "emphasis",
size: "S"
})), r.createElement(c.Marquee, {
focusItem: this.props.focusItem,
style: i.TrackedAssignmentStyles.infoMarquee(m.isRTLLanguage()),
rtl: m.isRTLLanguage(),
shuttle: !0
}, r.createElement(a.Text, {
style: i.TrackedAssignmentStyles.criteriasTxt,
value: t,
size: "XS"
})));
return r.createElement(m.LocaleRearrange, {
style: i.TrackedAssignmentStyles.info
}, n, o);
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TrackedAssignmentInfo = g;
var y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.renderCriteria = function(t) {
var n, o = t.progression.isCompleted, s = t.progression.valueAcquired, l = t.progression.valueNeeded;
return (t.isGlobalCriteria || e.props.showIngameProgress) && (n = Math.floor(Math.min(s, l)) + "/" + l), 
r.createElement(m.LocaleRearrange, {
key: "criteria_" + t.code,
style: i.TrackedAssignmentStyles.criteria(o)
}, r.createElement(u.Checkbox, {
key: "check",
style: i.TrackedAssignmentStyles.checkbox(m.isRTLLanguage()),
value: o
}), r.createElement(a.Text, {
key: "text",
style: i.TrackedAssignmentStyles.criteriaText,
size: "S",
value: t.awardName + (n ? " - " + n : "")
}));
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", null, this.props.assignment.criterias.map(this.renderCriteria));
}, n = e.__decorate([ o.observer ], n);
}(r.Component), S = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this;
return p.tunguskaFeatureFlags.tunguskaAssignments.isEnabled() ? h && !p.tunguskaFeatureFlags.tunguskaCTEAssignments.isEnabled() ? r.createElement("surface", null) : s.tunguskaTrackedAssignmentStore.trackedAssignmentCode ? r.createElement(d.OptimisticFragmentLoader, {
load: s.tunguskaTrackedAssignmentStore.get()
}, function(t) {
return t ? r.createElement("surface", {
style: i.TrackedAssignmentStyles.assignmentBox({
isRTL: m.isRTLLanguage(),
paddingRightRTL: e.props.assignmentPaddingRightRTL || 0
})
}, r.createElement(g, {
assignment: t
}), r.createElement(y, {
assignment: t,
showIngameProgress: e.props.showIngameProgress
})) : r.createElement("surface", null);
}) : r.createElement("surface", null) : r.createElement("surface", null);
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TrackedAssignment = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WwceStyles"), a = function() {
function e() {}
return e.boxDimensions = o.stylefunc(function() {
return o.style({}, "ebbba9ae:8:14");
}, function(e) {
return o.dynamicStyle({
width: e.width,
height: e.height
}, "ebbba9ae:9:52");
}), e.boxFocused = o.wrap(function() {
return o.style({
backgroundColor: "#ffffff"
}, "ebbba9ae:16:35");
}), e.boxBlurred = o.wrap(function() {
return o.style({
backgroundColor: "#00000050"
}, "ebbba9ae:22:35");
}), e.text = o.wrap(function() {
return o.style({
zOffset: 1
}, "ebbba9ae:28:29");
}), e.title = o.stylefunc(function() {
return o.style({
padding: o.Grid.GUTTER,
marginBottom: o.Grid.GUTTER
}, "ebbba9ae:35:14");
}, function(e) {
return o.dynamicStyle({
backgroundColor: e.isFocused ? "00000000" : "#00000050"
}, "ebbba9ae:40:41");
}), e.content = o.wrap(function() {
return o.style({
justifyContent: "center",
alignItems: "center",
flex: 1,
zOffset: 1
}, "ebbba9ae:46:32");
}), e.bottom = o.wrap(function() {
return o.style({
padding: o.Grid.GUTTER
}, "ebbba9ae:55:31");
}), e = r.__decorate([ i.style ], e);
}();
t.HelpBoxStyles = a;
var s = function() {
function e() {}
return e.box = o.wrap(function() {
return o.style({
width: 35 * o.Grid.GUTTER,
height: 46 * o.Grid.GUTTER,
marginRight: o.Grid.GUTTER
}, "ebbba9ae:64:28");
}), e = r.__decorate([ i.style ], e);
}();
t.ChannelSelectionStyles = s;
var u = function() {
function e() {}
return e.box = o.wrap(function() {
return o.style({
width: 35 * o.Grid.GUTTER,
height: 46 * o.Grid.GUTTER,
marginRight: o.Grid.GUTTER
}, "ebbba9ae:75:28");
}), e = r.__decorate([ i.style ], e);
}();
t.CategorySelectionStyles = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(6), a = n(126), s = n(209), u = n(5), l = u.StaticStyle.wrapLegacyStyleSheet({
box: {
flex: 0,
width: 1024,
height: o.getHeight(59)
},
rarity: {
position: "absolute",
top: -a.flare.height + o.getHeight(42),
left: 512 - o.getWidth(4),
width: a.flare.width,
height: a.flare.height,
textureMode: "contain",
zOffset: 2,
rotateZ: -20,
blendMode: "screen"
},
image: {
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
position: "absolute",
top: o.GUTTER,
left: 0,
width: 1024,
height: 256,
zOffset: 1
},
info: {
position: "absolute",
bottom: 4,
left: 8,
right: 8,
zOffset: 3,
alignItems: "center"
}
}, "37a9e8d3:9:15"), c = u.StaticStyle.create({
top: o.GUTTER,
left: 0,
width: 1024,
height: 256
}, "37a9e8d3:98:24");
t.TunguskaBattlepackSingleItem = function(t) {
var n, p, d, f, m = t.item, h = t.isOwned, g = t.isParentOwned, y = t.showUnlockStatus, S = t.style, v = e.__rest(t, [ "item", "isOwned", "isParentOwned", "showUnlockStatus", "style" ]);
if (!m) return r.createElement("surface", null);
m.parentName && m.parentName !== m.name && (n = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SKIN_FOR").replace("[[value]]", m.parentName).toUpperCase());
var _, b = m.name;
return m.rarenessLevel && (p = a.getName(m.rarenessLevel.value).toUpperCase(), d = {
color: a.rgb[m.rarenessLevel.value]
}, f = {
texture: a.flare[m.rarenessLevel.value]
}), y && m.name && m.parentName && (h ? _ = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ALREADY_OWNED").replace("[[NAME]]", m.name).replace("[[PARENTNAME]]", m.parentName) : g || (_ = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PARENT_LOCKED").replace("[[PARENTNAME]]", m.parentName))), 
r.createElement("surface", e.__assign({
style: u.merge2(l.box, S)
}, v), r.createElement(s.BattlepackImage, {
size: "XXL",
item: m,
style: c
}), r.createElement("surface", {
style: [ l.rarity, f ]
}), r.createElement("surface", {
style: l.info
}, r.createElement(i.Text, {
value: n,
size: "S",
style: {
opacity: .5,
marginBottom: 2 * o.GUTTER
}
}), r.createElement(i.Text, {
value: b,
size: "M",
style: {
marginBottom: o.GUTTER
}
}), r.createElement(i.Text, {
value: p,
size: "S",
type: "emphasis",
style: e.__assign({}, d, {
marginBottom: 5 * o.GUTTER
})
}), _ && r.createElement("surface", {
style: {
flexDirection: "row",
justifyContent: "center",
opacity: .5
}
}, r.createElement(i.Text, {
value: _,
size: "XS",
style: {
marginTop: -o.GUTTER,
marginBottom: 2 * o.GUTTER
}
}))));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(8), a = n(28), s = n(19), u = n(105), l = n(6), c = n(1360), p = n(5), d = n(33), f = n(7), m = p.StaticStyle.create({
marginLeft: i.GUTTER
}, "7dd42616:45:32"), h = p.StaticStyle.create({
marginLeft: i.GUTTER
}, "7dd42616:62:32"), g = p.StaticStyle.create({
marginLeft: i.GUTTER
}, "7dd42616:79:32"), y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = f.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.getContent = function() {
var e = this.props, t = e.textSize, n = e.textStyle, r = void 0 === n ? p.emptyStyle : n, i = this.props.text && this.props.upperCase ? this.props.text.toUpperCase() : this.props.text || "", a = this.sparta.theme.getTheme(this).button;
return {
normal: o.createElement(s.LocaleRearrange, {
style: c.ScrapValueButtonStyles.container
}, o.createElement(l.Text, {
value: i,
size: t,
key: "normal",
style: p.merge2(a.text(!1, !1), r)
}), o.createElement(u.TunguskaBattlepackScraps, {
key: "scrap",
value: this.props.value || "0",
size: this.props.textSize,
style: m
})),
hover: o.createElement(s.LocaleRearrange, {
style: c.ScrapValueButtonStyles.container
}, o.createElement(l.Text, {
value: i,
size: t,
key: "hover",
type: d.TextType.EMPHASIS,
style: p.merge2(a.text(!0, !0), r)
}), o.createElement(u.TunguskaBattlepackScraps, {
key: "scrap",
value: this.props.value || "0",
size: this.props.textSize,
style: h,
dark: !0
})),
disabled: o.createElement(s.LocaleRearrange, {
style: c.ScrapValueButtonStyles.container
}, o.createElement(l.Text, {
value: i,
size: t,
key: "disabled",
style: p.merge2(a.text(!1, !1), r)
}), o.createElement(u.TunguskaBattlepackScraps, {
key: "scrap",
value: this.props.value || "0",
size: this.props.textSize,
style: g
}))
};
}, t.prototype.render = function() {
var e = this.props, t = (e.value, e.text), n = r.__rest(e, [ "value", "text" ]);
return o.createElement(a.Button, r.__assign({
content: this.getContent()
}, n, {
name: n.name || "button_" + t
}));
}, t.contextTypes = f.SpartaContext.contextTypes, t.defaultProps = {
textSize: "S",
text: " ",
upperCase: !0
}, t;
}(o.Component);
t.ScrapValueButton = y;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(6), s = n(8), u = n(645), l = n(31), c = n(1367), p = n(76), d = n(37), f = n(72), m = n(274), h = n(105), g = n(183), y = n(38), S = n(25), v = n(1369), _ = n(50), b = n(12), T = n(11), E = n(1371), C = n(207), I = n(86), A = n(271), w = n(19), P = n(5), R = n(9), O = n(22), x = n(7), k = P.StaticStyle.create({
width: s.getWidth(7)
}, "7fe70f20:56:32"), L = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.progressionContainer
}, r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.progressionImage
}), r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.progressionInfo({
isRTL: w.isRTLLanguage()
})
}, r.createElement(a.Text, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACK_YOUR_NEXT_BP"),
size: "S"
}), r.createElement(a.Text, {
style: E.TunguskaBattlepackGetStyles.progressionInfoText,
size: "XXS",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACK_EARN_BY_FINISHING")
}), r.createElement(I.ProgressBar, {
style: k,
completed: this.props.percentage / 100
})));
}, n;
}(r.Component);
t.BattlepackProgressionInfo = L;
var M = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.purchasables = c.tunguskaBattlepackPurchasableStore.get(l.tunguskaGameId), 
e.summary = C.tunguskaBattlepackSummaryStore.get(l.tunguskaGameId), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this;
return r.createElement(_.FragmentLoader, {
load: [ this.purchasables, this.summary ],
errorMessage: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_GET_FAILED_FETCH")
}, function(t, n) {
return r.createElement("surface", null, r.createElement(f.CardCarousel, {
id: "7fe70f20:84:47",
clipLeft: e.props.isGameView,
width: s.getWidth(24)
}, t.packs.map(function(t, o) {
return r.createElement(F, {
isGameView: e.props.isGameView,
isStore: e.props.isStore,
key: o,
item: t,
summary: n
});
})), r.createElement(L, {
percentage: n.progression
}));
});
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.TunguskaBattlepackGet = M;
var D = i.observer(function(e) {
var t, n, o = e.item, i = e.isGameView, s = e.focusItem, u = o.offer;
return u && !i && (t = r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.offerPriceContainer
}, o.battlepack.canBuyScraps && r.createElement(a.Text, {
style: E.TunguskaBattlepackGetStyles.offerPrice,
value: __("ID_SPARTA_GENERIC_OR"),
size: "XS"
}), r.createElement(g.PS4StoreContent, null, r.createElement(a.Text, {
value: u.price,
size: "XS"
})))), o.battlepack.canBuyScraps && (n = r.createElement(h.TunguskaBattlepackScraps, {
dark: s.isHovered || s.isFocused,
value: o.battlepack.displayScrapPrice,
size: "XS"
})), r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.priceContainer
}, n, t);
}), N = i.observer(function(e) {
var t, n, o;
return e.rarities.hasSpecial && (t = r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.rarityBoxOutline
}, r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.rarityBox({
color: "#ffffff",
hasOutline: !0
})
}))), e.rarities.hasDistinguished && (n = r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.rarityBox({
color: "#6bbbff"
})
})), e.rarities.hasLegendary && (o = r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.rarityBox({
color: "#ff9900"
})
})), r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.rarityContainer
}, t, n, o);
}), F = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
return o.sparta = x.SpartaContext.getFromComponent(o), o.bpOffers = u.tunguskaBattlepackOfferStore.get(l.tunguskaGameId), 
o.handleClick = function() {
o.sparta.stores.gaStore.trackEvent("TunguskaBattlepackGet", "click", o.item.battlepack.packKey, o.props.summary.progression), 
S.display(new y.Popup({
id: "buyPopup",
group: "battlepack",
content: r.createElement(v.TunguskaBattlepackBuy, {
isGameView: o.props.isGameView,
isStore: o.props.isStore,
battlepack: o.props.item
}),
requireOnline: !0,
createButtons: !1,
inputs: [ new b.Input({
label: __("ID_SPARTA_ACTION_CANCEL", !0),
key: T.Keys.Decline
}) ]
}));
}, o.focusItem = O.focusSystem.create(o, "TunguskaBattlepackPurchasableCard" + o.props.item.packKey), 
o.focusItem.autoFocusCandidate = !0, o;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "item", {
get: function() {
var e, t = this, n = this.bpOffers;
if (n.isReady && n.value) {
var r = n.value.offers.filter(function(e) {
return e.battlepack.packName === t.props.item.packName;
});
if (r.length) e = r[0].offer;
}
return {
battlepack: this.props.item,
offer: e
};
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e, t = this.item.battlepack, n = t.purchaseGate.canBuy, o = r.createElement(a.Text, {
value: t.visualName.toUpperCase(),
size: "XS",
style: E.TunguskaBattlepackGetStyles.bpRevision
});
return t.packType && "FINAL" !== t.packType && (e = r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.icons({
texture: t.packTypeIcon,
isActive: this.focusItem.isFocused || this.focusItem.isHovered
})
}), o = r.createElement(a.Text, {
value: t.packTypeReadable,
size: "XS",
style: E.TunguskaBattlepackGetStyles.bpRevision
})), t.purchaseGate && t.purchaseGate.statKey && (o = r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.purchaseGate({
canBuy: n
})
}, !n && r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.lockIcon({
isActive: this.focusItem.isFocused || this.focusItem.isHovered
})
}), r.createElement(a.Text, {
size: "XS",
value: t.purchaseGate.displayText
}))), r.createElement(A.TrackImpression, {
category: "TunguskaBattlepackGet",
action: "impression",
label: t.packKey,
value: this.props.summary.progression
}, r.createElement(p.BasicCard, {
size: R.SpartaGlobals.bundleIsConsole ? d.CardSize.M : d.CardSize.SSM,
focusItem: this.focusItem,
onPress: this.handleClick,
enabled: n,
heading: r.createElement("surface", null, r.createElement(a.Text, {
value: t.revision || t.visualName,
size: "S",
style: E.TunguskaBattlepackGetStyles.bpName
}), o),
description: r.createElement(D, {
item: this.item,
isGameView: this.props.isGameView,
focusItem: this.focusItem
}),
overlay: r.createElement("surface", {
style: E.TunguskaBattlepackGetStyles.dock({
canBuy: n
})
}, e, r.createElement(m.TunguskaItemWithRarity, {
rarityValue: t.rarenessLevel.value,
texture: t.images.side_normal
}), r.createElement(N, {
rarities: t.rarities
}))
}));
}, n.contextTypes = x.SpartaContext.contextTypes, e.__decorate([ o.computed ], n.prototype, "item", null), 
n = e.__decorate([ i.observer ], n);
}(r.Component);
t.TunguskaBattlepackPurchasableCard = F;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1415), i = n(1416), a = n(1417), s = n(30), u = n(1418);
function l(e) {
return e.map(function(e) {
return Object.assign({}, JSON.parse(e.filter), {
filterName: e.name,
id: parseInt(e.id, 10)
});
});
}
var c = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = i.loadSavedFilters(t.gameId);
e.useClientResult(n, l);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
gameId: e
});
}, t.prototype.saveFilter = function(e, t, n) {
var r = this;
a.saveServerFilter(e, t, n).onSuccess(function(t) {
r.expireFragment(e), r.get(e);
});
}, t.prototype.updateSavedFilter = function(e, t, n, r) {
var o = this;
u.updateServerFilter(e, t, n, r).onSuccess(function() {
o.expireFragment(e), o.get(e);
});
}, t.prototype.deleteSavedFilter = function(e, t) {
var n = this;
o.deleteSavedFilter(t).onSuccess(function() {
n.expireFragment(e), n.get(e);
});
}, t;
}(s.FragmentStore);
t.savedFiltersStore = new c();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(18), s = n(60), u = n(10), l = n(26), c = n(12), p = n(11), d = n(23), f = n(8), m = n(75), h = n(34), g = n(1421), y = n(92), S = n(1428), v = n(311), _ = n(41), b = n(1429), T = n(260), E = n(29), C = n(88), I = n(98), A = n(89), w = n(19), P = n(454), R = n(1430), O = n(9), x = n(7), k = f.getHeight(1), L = d.content.height - k, M = 36, D = function() {
return function e(t, n, r) {
void 0 === r && (r = !1), this.name = t, this.label = n, this.toggleAll = r;
};
}();
t.ServerFilterCategoryLayout = D;
var N = function() {
return function e(t) {
this.label = t, this.name = y.ServerFilterNameField, this.toggleAll = !1;
};
}();
t.ServerFilterNameLayout = N;
var F = function() {
return function e(t, n, r, o) {
this.name = t, this.label = n, this.toggleAll = r, this.filters = o;
};
}();
t.ServerFilterGroupLayout = F;
var G = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = x.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "subLabel", {
get: function() {
var e = this.props.item, t = this.props.filter, n = "";
if (e instanceof D && (n = v.describeFilterCategory(t.getCategory(e.name))), e instanceof N) {
var r = t.name.name;
r && (n = r);
}
return e instanceof F && (n = v.describeFilterCategories(t, e.filters.map(function(e) {
return e.name;
}))), n;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this, t = this.props.item, n = this.sparta.theme.getTheme(this).serverFilterView, o = "listitem_" + t.name, i = this.subLabel === __("ID_SPARTA_FILTER_CUSTOM_FILTERS") ? T.customTextColor : void 0, a = new c.Input({
action: function() {
e.props.viewState.setCategory(e.props.item);
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: p.Keys.Accept
});
return r.createElement(A.ListItem, {
index: this.props.index,
key: t.name,
selectionState: this.props.selectionState,
debugName: o,
input: a
}, w.localeRearrange([ r.createElement(A.ListItemLabel, {
key: "label",
value: t.label().toUpperCase(),
right: w.isRTLLanguage(),
textSize: n.categoryLabelTextSize
}), !!this.subLabel && r.createElement(A.ListItemLabel, {
right: !w.isRTLLanguage(),
value: this.subLabel.toUpperCase(),
textSize: n.categorySubLabelTextSize,
color: i,
key: "subLabel"
}) ]));
}, n.contextTypes = x.SpartaContext.contextTypes, e.__decorate([ i.computed ], n.prototype, "subLabel", null), 
n = e.__decorate([ o.observer ], n);
}(r.Component), U = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = x.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.stores.serverFilterOptionsStore.get(this.props.gameId), t = this.sparta.stores.serverFilterStore.filters.get(this.props.gameId);
if (!e.value || !t) return r.createElement(E.Spinner, null);
var n = u.gameStore.getGame(this.props.gameId), o = n && n.expansionAssets ? n.expansionAssets.icons : void 0;
return r.createElement(B, {
expansionIcons: o,
filter: t,
filterOptions: e.value,
filterLayout: this.props.filterLayout,
gameId: this.props.gameId,
switchTab: this.props.switchTab,
showResetFilter: O.SpartaGlobals.bundleIsPC
});
}, n.contextTypes = x.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.ServerFilterView = U;
var B = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.selectionState = new I.ListSelectionState(), r.viewState = new R.ServerFilterViewState(), 
r.sparta = x.SpartaContext.getFromComponent(r), r.titleState = r.sparta.stores.titleState, 
r.onResetFilter = function() {
return r.sparta.stores.serverFilterStore.resetFilters(r.props.gameId);
}, r.requestServerCount = function() {
var e = r.props.gameId, t = r.sparta.stores.serverFilterStore.getFilter(e);
if (t) {
var n = {
id: "filterCount",
game: e,
signalFilterJson: t.json,
protocolVersion: r.sparta.stores.protocolVersionStore.get(e)
};
s.fetchServerCounts([ n ]);
}
}, r.updateServerCount = C.debounce(r.requestServerCount, 250), r.saveFilter = function() {
_.prompt(__("ID_SPARTA_FILTER_NAMEYOURFILTER").toUpperCase(), 1, M, {
message: "",
onOkValidate: function(e) {
return new Promise(function(t, n) {
e.length > M ? n(__("ID_SPARTA_FILTER_ERROR_NAMETOOLONG").replace("[[length]]", "" + M)) : e.trim().length < 1 ? n(__("ID_SPARTA_FILTER_ERROR_VALIDNAME")) : t();
});
}
}).then(function(e) {
var t = (P.savedFiltersStore.get(r.props.gameId).value || []).find(function(t) {
return (t.filterName || "").toLowerCase() === e.toLowerCase();
});
if (t) {
var n = __("ID_SPARTA_FILTER_OVERWRITE_FILTER").split("[[filterName]]").join(t.filterName);
_.legacyConfirm(n, __("ID_SPARTA_FILTER_EXISTS")).then(function() {
t.filterName && null != t.id && P.savedFiltersStore.updateSavedFilter(r.props.gameId, t.id, t.filterName, r.props.filter);
});
} else P.savedFiltersStore.saveFilter(r.props.gameId, e, r.props.filter), r.props.switchTab && r.props.switchTab(1);
});
}, r.gotoServerBrowserAction = function() {
var e = u.gameStore.getGame(r.props.gameId), t = e && e.serverConfig.serverListRoute;
e && u.locationStore.previousLocation.path === e.serverConfig.serverListRoute ? u.locationStore.goBack() : a.gotoLocation(t || "");
}, r.viewState.setCategory(e.filterLayout[0]), r.reaction(function() {
return r.viewState.currentCategory;
}, function(e) {
var t = e ? r.props.filterLayout.indexOf(e) : -1;
r.selectionState.setActiveItem(t);
}), r;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.cancelServerCountReaction = i.reaction(function() {
return e.props.filter.json;
}, function() {
return e.updateServerCount();
}), this.cancelTitleReaction = i.reaction(function() {
return e.props.filter.filterName;
}, function() {
return e.updateTitle();
});
}, n.prototype.updateTitle = function() {
this.titleState.setLocationSubtitle(__("ID_SPARTA_MENU_TITLE_FILTER"), this.props.filter.filterName || "");
}, n.prototype.componentDidMount = function() {
this.updateServerCount(), this.updateTitle();
}, n.prototype.componentWillUnmount = function() {
this.cancelSelectionReaction && this.cancelSelectionReaction(), this.cancelServerCountReaction && this.cancelServerCountReaction(), 
this.cancelTitleReaction && this.cancelTitleReaction();
}, n.prototype.getInput = function() {
var e = this;
return [ new c.Input({
label: __("ID_SPARTA_ACTION_SERVER_VIEW"),
action: this.gotoServerBrowserAction,
key: p.Keys.Option2
}), new c.Input({
label: __("ID_SPARTA_ACTION_FILTER_RESET"),
action: function() {
return e.sparta.stores.serverFilterStore.resetFilters(e.props.gameId);
},
key: p.Keys.Option1
}) ];
}, n.prototype.render = function() {
var e = this, t = this.props, n = (t.filterLayout, t.gameId), o = t.filterOptions, i = t.filter, a = this.sparta.theme.getTheme(this).serverFilterView, s = f.getHeight(8.5 * (this.props.showResetFilter ? 3 : 2));
return r.createElement(f.Row, null, r.createElement(f.Col, {
key: "left",
width: 6,
style: {
height: L
}
}, r.createElement(h.Scroller, {
key: "scroller",
style: {
height: L - s,
marginBottom: f.getHeight(2)
},
controller: !1
}, r.createElement(A.List, null, this.props.filterLayout.map(function(t, n) {
return r.createElement(G, {
filter: i,
index: n,
item: t,
key: t.name,
selectionState: e.selectionState,
viewState: e.viewState
});
}))), r.createElement("surface", {
key: "buttons",
style: a.buttonContainer
}, r.createElement(S.ServerCountButton, {
key: "viewServers",
counterId: "filterCount",
style: a.itemSpacing,
textSize: a.buttonTextSize,
action: this.gotoServerBrowserAction
}), r.createElement(m.Button, {
name: "9043959b:380:35",
key: "saveFilter",
text: __("ID_SPARTA_ACTION_FILTER_SAVE").toUpperCase(),
style: a.itemSpacing,
textSize: a.buttonTextSize,
action: this.saveFilter
}), this.props.showResetFilter && r.createElement(m.Button, {
name: "9043959b:389:39",
key: "resetFilter",
text: __("ID_SPARTA_ACTION_FILTER_RESET").toUpperCase(),
style: a.itemSpacing,
textSize: a.buttonTextSize,
action: this.onResetFilter
}))), r.createElement(f.Col, {
key: "middle"
}, r.createElement(g.ServerFilterCategory, {
gameId: n,
filterState: i,
options: o,
viewState: this.viewState
})), r.createElement(f.Col, {
key: "right"
}, r.createElement(b.FilterItemInfo, {
viewState: this.viewState,
expansions: this.expansionIcons
})));
}, n.contextTypes = x.SpartaContext.contextTypes, n = e.__decorate([ o.observer, l.input ], n);
}(r.Component);
t.ServerFilterViewTemplate = B;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(1440), a = n(253), s = n(124), u = n(302);
t.DogtagClient = r.requester.createClient({
throttle: 3e4,
request: function(e) {
return o.request("Progression.getDogtags", {
game: e
});
},
parse: function(e) {
return e.map(function(e) {
return new a.AwardCategory({
name: e.name,
sortOrder: e.sortOrder,
items: (e.dogtags || []).map(function(e) {
var t = e.progression;
return new i.Dogtag({
code: e.unlockId,
description: e.description,
index: e.index,
images: e.images,
name: e.name,
progression: new s.Progression(t),
expansions: (e.expansions || []).map(function(e) {
return new u.GameExpansion(e);
}),
equipped: !!e.equipped,
type: e.tagType ? e.tagType.name : void 0,
timesTaken: e.timesTaken
});
})
});
});
},
update: function(e, t, n) {
this.publish(n, e);
}
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(6), a = n(86), s = n(4), u = n(14), l = n(143), c = n(61), p = n(10), d = n(1468), f = n(1469), m = n(19), h = n(668), g = n(225), y = n(458), S = n(5), v = n(17), _ = n(1471), b = n(1472), T = n(9), E = n(22);
var C = /^([\d]+) \[([\w\W\d ]+)\]$/;
var I = S.StaticStyle.create({
width: o.getWidth(2),
whiteSpace: "nowrap",
textAlignForRTL: "left"
}, "beeabfd0:535:24"), A = S.StaticStyle.create({
width: o.getWidth(.8),
whiteSpace: "nowrap",
textAlign: "right",
textAlignForRTL: "right"
}, "beeabfd0:546:24"), w = S.StaticStyle.create({
width: 150
}, "beeabfd0:569:28"), P = S.StaticStyle.create({
marginBottom: o.spacer(3)
}, "beeabfd0:682:39"), R = S.StaticStyle.create({
marginTop: 2 * o.GUTTER
}, "beeabfd0:885:52"), O = S.StaticStyle.create({
marginTop: o.GUTTER
}, "beeabfd0:888:33"), x = function(t) {
function n(e) {
var n = t.call(this, e) || this;
n.weaponStats = null, n.price = null, n.unlocked = !1, n.kit = null, n.star = null, 
n.hasRequiredExpansion = !0, n.levelRequirement = null, n.unlockedByAwards = !1, 
n.mapWeaponValues(n.props), n.baseKey = n.props.weapon.name + "-";
var r = n.props.gameId, o = n.props.weapon.code, i = p.gameStore.getGame(r);
return n.props.canShowAccessories && !y.weaponAccessoriesStore.weaponAccessories.has(o) && i && i.soldierConfig.showAccessoriesForWeapons && h.AccessoriesClient.trigger(r, o), 
n.isLoadoutEnabled = Boolean(i && i.loadoutConfig), n;
}
var d;
return e.__extends(n, t), d = n, n.prototype.componentWillUpdate = function(e) {
this.mapWeaponValues(e), this.baseKey = e.weapon.name + "-";
}, n.getBaseStats = function(e) {
var t = [];
if (void 0 !== e.kills) {
var n = c.formatThousands(e.kills);
t.push({
key: "kills",
name: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: n,
suffix: ""
});
}
if (void 0 !== e.accuracy) {
var r = c.formatDecimals(e.accuracy, 1);
t.push({
key: "accuracy",
name: __("ID_SPARTA_CAREER_WEAPON_ACCURACY"),
value: r,
suffix: "%"
});
}
if (void 0 !== e.seconds) {
var o = c.formatDecimals(e.seconds / 60, 0);
t.push({
key: "kills_time",
name: __("ID_SPARTA_CAREER_KILLS_TIME"),
value: o,
suffix: __("ID_SPARTA_DATETIME_MIN")
});
}
return t;
}, n.prototype.mapWeaponValues = function(e) {
var t = this;
if (e.weapon && e.weapon.stats && e.weapon.stats.values) {
var n = p.gameStore.getGame(this.props.gameId), r = n && n.careerConfig.extraWeaponInfoStats, o = e.weapon.stats;
if (this.stats = [], o && o.values && Object.keys(o.values).length > 0) {
if (this.stats = d.getBaseStats(o.values), r && r.stats && r.stats.length) for (var i in r.stats) if (r.stats.hasOwnProperty(i)) {
var a = r.stats[i];
if (o.values[a.key]) {
var s = a.getName(), l = null === (S = e.weapon.info ? e.weapon.info.ammo : null) || void 0 === S || "" === S;
"shots" === a.key && l && (s = __("ID_SPARTA_CAREER_WEAPON_TIMES_USED"));
var c = o.values[a.key];
this.stats.push({
key: a.key,
suffix: a.suffix || "",
name: s,
value: void 0 === c ? "" : c.toString()
});
}
}
if (r && r.specialStats && r.specialStats.length) for (var i in r.specialStats) if (r.specialStats.hasOwnProperty(i)) {
a = r.specialStats[i];
var f = o.values[a.key];
void 0 !== f && f > -1 && this.stats.push({
key: a.key,
suffix: a.suffix || "",
name: a.getName(),
value: f.toString()
});
}
}
var m = e.weapon.info;
if (m) {
this.weaponStats = [ {
key: "weapon_damage",
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_DAMAGE"),
value: m.statDamage
}, {
key: "weapon_accuracy",
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_ACCURACY"),
value: m.statAccuracy
}, {
key: "weapon_hip_fire",
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_HIP_FIRE"),
value: m.statMobility
}, {
key: "weapon_stability",
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_STABILITY"),
value: m.statHandling
}, {
key: "weapon_control",
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_CONTROL"),
value: m.statControl
}, {
key: "weapon_speed",
type: "progress",
name: __("ID_SPARTA_CAREER_WEAPON_SPEED"),
value: m.statAttackSpeed
} ], (m.statAttackSpeed || 0) > 0 && (this.weaponStats[3].name = __("ID_SPARTA_CAREER_WEAPON_KILLZONE")), 
r && r.progress && r.progress.length && !this.props.isGadget && r.progress.forEach(function(e) {
var n = e.key, r = m[n];
r && t.weaponStats && t.weaponStats.push({
key: e.key,
type: "progress",
name: e.getName(),
value: r
});
});
var h = !(!e.weapon.info || !e.weapon.info.fireModeSingle), g = !(!e.weapon.info || !e.weapon.info.fireModeBurst), y = !(!e.weapon.info || !e.weapon.info.fireModeAuto);
e.weapon.info && (h || g || y) && this.weaponStats.push({
key: "firemodes",
type: "firemodes",
settings: [ {
enabled: h,
image: u.bbUrl("/sparta/assets/career/weapon_single_mode-c13d88f5.png")
}, {
enabled: g,
image: u.bbUrl("/sparta/assets/career/weapon_burst_mode-cd3475ca.png")
}, {
enabled: y,
image: u.bbUrl("/sparta/assets/career/weapon_auto_mode-46f44ffd.png")
} ]
});
var S = parseInt(m.ammo || "0", 10), v = m.numberOfMagazines || 0;
if (!Number.isNaN(S) && S > 0 && v > 0) {
var b = S * v;
this.weaponStats.push({
key: "magazine_size",
type: "text",
name: __("ID_SPARTA_CAREER_WEAPON_MAGAZINE_SIZE"),
value: m.ammo + "/" + b
});
}
r && r.text && r.text.length && !this.props.isGadget && r.text.forEach(function(e) {
var n = e.key, r = m[n];
r && t.weaponStats && t.weaponStats.push({
key: e.key,
type: "text",
name: e.getName(),
value: r
});
});
}
if (this.hasRequiredExpansion = !0, e.weapon.expansion && e.weapon.expansion) {
var E = e.weapon.expansion, C = this.props.gameId, I = p.expansionStore.get(C, T.SpartaGlobals.bundlePlatform);
if (!I.isLoading && I.value) {
var A = I.value.getXpack(E);
this.hasRequiredExpansion = !A || "DEFAULT" === A.name || p.entitlementStore.hasExpansionAccess(C, A.name);
}
}
if (this.unlockedByAwards = !1, e.weapon.unlockRequirements && e.weapon.unlockRequirements.length) {
var w = _.flattenArray(e.weapon.unlockRequirements.map(function(e) {
return e.criterias;
}));
this.unlockedByAwards = !!w.length;
}
this.levelRequirement = null, !e.weapon.progression || e.weapon.progression.unlocked || this.unlockedByAwards || (this.levelRequirement = e.weapon.progression.valueNeeded), 
this.price = null, e.weapon.price && !e.weapon.progression.unlocked && (this.price = e.weapon.price), 
this.unlocked = !1, e.weapon.progression && (this.unlocked = e.weapon.progression.unlocked), 
this.kit = null, e.weapon.kit && (this.kit = e.weapon.kit), this.star = null, e.weapon.star && (this.star = e.weapon.star);
}
}, Object.defineProperty(n.prototype, "showUnlockInfo", {
get: function() {
var e = p.gameStore.getGame(this.props.gameId);
return Boolean(e && e.careerConfig.showUnlockInfo);
},
enumerable: !0,
configurable: !0
}), n.prototype.renderUnlockBar = function() {
var t = this, n = t.price, a = t.levelRequirement, s = t.unlocked, l = t.kit, c = t.hasRequiredExpansion, d = t.unlockedByAwards;
if (s || !this.showUnlockInfo) return null;
var f, m, h = {
flexDirection: "row",
alignItems: "center",
flex: 1,
zOffset: 1
};
d ? (f = "#966a26b2", m = __("ID_SPARTA_CAREER_ASSIGNMENT_AWARD")) : f = !c || a ? "#b9282866" : "#4b9b2d66";
var g = e.__assign({}, h, {
justifyContent: "space-between",
marginBottom: o.GUTTER,
padding: [ o.GUTTER / 2, o.GUTTER, o.GUTTER / 2, o.GUTTER ],
backgroundColor: f,
height: o.getHeight(4)
}), y = {
texture: u.bbUrl("/sparta/assets/career/icon-lock-white-27283301.png"),
height: o.getHeight(2),
width: o.getHeight(2),
textureMode: "contain",
flex: 1,
zOffset: 1
}, S = p.gameStore.getGame(this.props.gameId), v = l && l.images;
this.props.gating && this.props.gating.kit && S && S.careerConfig.getImagesByKit && (v = S.careerConfig.getImagesByKit(this.props.gating.kit.toLowerCase()));
var _ = {
texture: v && v.white ? v.white : void 0,
height: o.getHeight(2),
width: o.getHeight(2),
textureMode: "contain",
marginRight: o.GUTTER
}, b = e.__assign({}, h, {
justifyContent: "flex-end"
}), T = n && n > 0 ? r.createElement("surface", {
style: b
}, r.createElement("surface", {
style: function E(e, t) {
return void 0 === t && (t = !1), {
texture: u.bbUrl("/sparta/assets/career/icon-warbonds-8de69417.png"),
height: e,
width: e,
marginRight: o.GUTTER,
color: t ? "#000000" : void 0
};
}(o.getHeight(3))
}), r.createElement(i.Text, {
value: n + "",
size: "S"
})) : r.createElement("surface", {
style: h
}), C = a ? r.createElement("surface", {
style: h
}, this.kit ? r.createElement("surface", {
style: _
}) : r.createElement("surface", null), r.createElement(i.Text, {
value: a + "",
size: "S"
})) : r.createElement("surface", {
style: h
}), I = m ? r.createElement("surface", null, r.createElement(i.Text, {
value: m,
size: "S"
})) : r.createElement("surface", {
style: y
});
return r.createElement("surface", {
style: g
}, C, I, T);
}, n.prototype.renderStars = function(e) {
if (!this.star) return null;
var t = 100 === this.star.timesAquired, n = t ? "#ff9900" : "ffffff", o = {
star: [ b.WeaponFocusPaneStyles.star, {
color: n
} ],
starNumber: {
color: n
}
}, a = [ b.WeaponFocusPaneStyles.statsLine, {
marginBottom: 0
} ], s = t ? 100 : this.star.timesAquired, u = r.createElement(i.Text, {
value: __("ID_SPARTA_CAREER_DETAILS_STARS"),
size: "S"
}), l = r.createElement("surface", {
style: b.WeaponFocusPaneStyles.starContainer
}, r.createElement("surface", {
style: o.star
}), r.createElement(i.Text, {
style: o.starNumber,
value: "" + s,
size: "S"
})), c = e ? l : u, p = e ? u : l;
return r.createElement("surface", {
style: a,
key: "stars"
}, c, p);
}, n.prototype.renderProgressItem = function(e, t) {
if ("number" != typeof e.value) return null;
var n, o, s = e.value, u = Math.round(100 * s).toString(), l = r.createElement(i.Text, {
size: "S",
value: e.name,
style: I
}), c = r.createElement(i.Text, {
size: "S",
value: u,
style: A
});
return t ? (n = c, o = l) : (n = l, o = c), r.createElement("surface", {
style: b.WeaponFocusPaneStyles.statsLine,
key: this.baseKey + e.key
}, n, r.createElement(a.ProgressBar, {
style: w,
height: "S",
barColorStyle: v.CommonStyles.bgColor("#ffffff"),
completed: s
}), o);
}, n.prototype.renderTextItem = function(e) {
return r.createElement(m.LocaleRearrange, {
style: b.WeaponFocusPaneStyles.statsLine,
key: this.baseKey + e.key
}, r.createElement(i.Text, {
size: "S",
value: e.name,
color: "#ffffff",
key: "name"
}), r.createElement(i.Text, {
size: "S",
value: "" + e.value,
color: "#ffffff",
key: "value"
}));
}, n.prototype.renderFiremodes = function(e, t) {
if (!e.settings) return null;
var n = e.settings.map(function(e, t) {
var n = [ b.WeaponFocusPaneStyles.fireMode, {
texture: e.image,
textAlignForRTL: "left"
} ];
return e.enabled && n.push(b.WeaponFocusPaneStyles.fireModeEnabled), r.createElement("surface", {
style: n,
key: t
});
}), o = t ? n : r.createElement(i.Text, {
size: "S",
value: __("ID_SPARTA_CAREER_WEAPON_FIRE_MODES"),
style: b.WeaponFocusPaneStyles.statsTableKey
}), a = t ? r.createElement(i.Text, {
size: "S",
value: __("ID_SPARTA_CAREER_WEAPON_FIRE_MODES"),
style: S.merge2(b.WeaponFocusPaneStyles.statsTableKey, v.CommonStyles.leftAlignTextRTL)
}) : n;
return r.createElement("surface", {
style: b.WeaponFocusPaneStyles.statsLine,
key: "firemodes"
}, o, r.createElement("surface", {
style: b.WeaponFocusPaneStyles.fireModeContainer,
key: "firemode-container"
}, a));
}, n.prototype.renderProgression = function(e) {
var t = e.getUnlockProgression(), n = e.getProgressionInfo(), o = n && n.showUnlockTitle, s = t || e.progression;
if (this.showUnlockInfo && null == t || s.unlocked && !o) return null;
var u = s.percentage, l = s.valueAcquired, p = s.valueNeeded;
l > p && (l = p);
var d = c.formatThousands(l) + " / " + c.formatThousands(p), f = "", m = v.CommonStyles.flex4;
if (null !== n) switch (f = n.label, n.type) {
case "battlepack":
break;

case "veteran_bf3":
d = "0 / 1", m = v.CommonStyles.flex5;
break;

case "phantom":
case "assignment":
m = v.CommonStyles.flex7;
} else e.category && (f = e.category.toLocaleUpperCase() + " "), f += __("ID_SPARTA_CAREER_SCORE").toLocaleUpperCase();
var h = !s.unlocked || o;
return this.hasRequiredExpansion ? r.createElement("surface", {
key: "progression"
}, h && r.createElement(a.ProgressBar, {
height: "S",
completed: u,
style: S.merge2(P, S.DynamicStyle.create({
width: this.props.contentWidth
}, "beeabfd0:683:79"))
}), !this.showUnlockInfo && (!t || o) && r.createElement("surface", {
style: b.WeaponFocusPaneStyles.progressInfoWrapper
}, r.createElement(i.Text, {
value: f,
size: "S",
style: m
}), r.createElement(i.Text, {
value: d,
size: "S",
style: b.WeaponFocusPaneStyles.progressData
}))) : void 0;
}, n.prototype.renderUnlockRequirements = function(e) {
var t = this;
return e && e.length > 0 ? e.map(function(e, n) {
var i = t.renderCriterias(e.criterias);
return i ? r.createElement("surface", {
key: "unlock-" + n,
style: [ b.WeaponFocusPaneStyles.unlockContainer, {
width: t.props.contentWidth,
marginTop: t.showUnlockInfo ? 0 : o.GUTTER
} ]
}, i) : null;
}) : null;
}, n.prototype.renderCriterias = function(e) {
var t = this;
if (e && e.length > 0) {
var n = e.map(function(e, n) {
var a = e.progression, s = a.valueAcquired, u = a.valueNeeded, p = a.unlocked, d = v.CommonStyles.opacity(p ? 1 : .66), f = S.merge2(b.WeaponFocusPaneStyles.criteriaCheckbox, S.DynamicStyle.create({
marginTop: t.props.canShowAccessories ? 0 : .5 * o.GUTTER
}, "beeabfd0:735:45")), h = r.createElement(l.Checkbox, {
value: p,
style: f,
key: "checkbox"
}), g = r.createElement(i.Text, {
size: "S",
style: b.WeaponFocusPaneStyles.nameSizing,
value: e.name,
key: "name"
}), y = Math.floor(Math.min(s, u)), _ = u > 1 && r.createElement(i.Text, {
size: "S",
value: c.formatThousands(y) + "/" + c.formatThousands(u),
key: "progression"
});
return r.createElement("surface", {
key: t.baseKey + "criteria-" + n,
style: [ b.WeaponFocusPaneStyles.criteria, d ]
}, m.localeRearrange([ h, g, _ ]));
});
return r.createElement("surface", {
style: S.DynamicStyle.wrapLegacyStyle({
width: this.props.contentWidth
}, "beeabfd0:757:28"),
key: this.baseKey + "criterias"
}, n);
}
return null;
}, n.prototype.render = function() {
var e = this, t = [], n = m.isRTLLanguage();
this.stats && this.stats.forEach(function(e) {
var o = [ b.WeaponFocusPaneStyles.statsLine, {
marginBottom: 0
} ], a = n ? e.value + " " + e.suffix : e.name, s = n ? e.name : e.value + " " + e.suffix, u = n ? void 0 : b.WeaponFocusPaneStyles.statsTableKey, l = n ? S.merge2(b.WeaponFocusPaneStyles.statsTableKey, v.CommonStyles.leftAlignTextRTL) : void 0;
t.push(r.createElement("surface", {
style: o,
key: e.key
}, r.createElement(i.Text, {
size: "S",
value: a,
style: u
}), r.createElement(i.Text, {
size: "S",
value: s,
style: l
}))), t.push(r.createElement("surface", {
style: b.WeaponFocusPaneStyles.hrLine,
key: e.key + "-line"
}));
});
var a = [];
this.weaponStats && this.weaponStats.forEach(function(t) {
if ("progress" === t.type && t.value && "number" == typeof t.value && t.value > 0 && a.push(e.renderProgressItem(t, n)), 
"text" === t.type && t.value && ("number" == typeof t.value && t.value > 0 || "string" == typeof t.value && "" !== t.value)) {
var r = "string" == typeof t.value && function o(e) {
var t = e.match(C);
return !!t && {
magazineSize: t[1],
ammoType: t[2]
};
}(t.value);
r ? (a.push(e.renderTextItem({
key: "magazine_size",
name: __("ID_SPARTA_CAREER_WEAPON_MAGAZINE_SIZE"),
value: r.magazineSize,
type: "text"
})), a.push(e.renderTextItem({
key: "ammo_type",
name: __("ID_SPARTA_CAREER_WEAPON_AMMO_TYPE"),
value: r.ammoType,
type: "text"
}))) : a.push(e.renderTextItem(t));
}
"firemodes" === t.type && a.push(e.renderFiremodes(t, n));
}), this.star && (t.push(this.renderStars(n)), t.push(r.createElement("surface", {
style: b.WeaponFocusPaneStyles.hrLine,
key: "stars-line"
})));
var s = this.props.weapon, u = s.hires && (s.hires.Png256xANY || s.hires.Small) || s.images.Small, l = s.description && s.description.toLowerCase() !== s.name.toLowerCase() ? r.createElement(i.Text, {
size: "S",
value: s.description,
style: b.WeaponFocusPaneStyles.weaponDescription
}) : null, c = n ? {
marginRight: o.GUTTER
} : {}, p = s.expansion ? r.createElement(g.PremiumTreatment, {
expansion: s.expansion,
containerStyle: b.WeaponFocusPaneStyles.expansionInfo,
showExpansionName: !0
}) : null;
return r.createElement("surface", {
style: c
}, this.renderUnlockBar(), r.createElement("surface", {
style: b.WeaponFocusPaneStyles.weaponImageWrapper,
key: "image"
}, r.createElement("surface", {
style: [ b.WeaponFocusPaneStyles.weaponImage, {
texture: u || "",
textureMode: "contain"
} ]
})), r.createElement(i.Text, {
size: "M",
value: s.name,
style: b.WeaponFocusPaneStyles.weaponName
}), p, this.renderProgression(s), this.renderUnlockRequirements(s.unlockRequirements), l, this.isLoadoutEnabled && r.createElement(f.WeaponUnlockOptions, {
gating: this.props.gating,
gameId: this.props.gameId,
weapon: this.props.weapon
}), t.length || a.length ? r.createElement("surface", {
style: [ b.WeaponFocusPaneStyles.hrLine, R ]
}) : null, r.createElement("surface", {
key: "usagestatsitems"
}, t), r.createElement("surface", {
style: O,
key: "statsTableItems"
}, a));
}, n.defaultProps = {
isGadget: !1
}, n = d = e.__decorate([ s.observer ], n);
}(r.Component), k = new d.WeaponAccessoriesState(), L = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.focusAncestor = E.focusSystem.createAncestor("weaponfocuspane"), n.cancelQueryListener = E.focusSystem.onInvalidQuery.listen(function(e) {
n.focusAncestor.hasFocusedChild || e.reportInvalid(n.focusAncestor.children);
}), n;
}
return e.__extends(n, t), n.prototype.componentWillUnmount = function() {
this.focusAncestor.destroy(), this.cancelQueryListener();
}, Object.defineProperty(n.prototype, "weapon", {
get: function() {
return this.props.selectionState.item;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
if (!this.weapon) return null;
var t = this.props.widthGridCells, n = o.getWidth(t), i = y.weaponAccessoriesStore.getAccessoriesForWeapon(this.weapon.code), a = !1, s = !1;
return i && "ID_P_CAT_GADGET" !== this.weapon.categoryId && (a = i.progression.length > 0, 
s = i.battlepacks.length > 0), r.createElement("surface", e.__assign({}, this.focusAncestor.hooks), r.createElement(x, {
key: "weapon",
gating: this.props.gating,
contentWidth: n,
gameId: this.props.gameId,
isGadget: this.props.isGadget,
canShowAccessories: this.props.canShowAccessories,
weapon: this.weapon
}), a && i && r.createElement(d.WeaponAccessories, {
key: "progressAccessories",
containerWidth: n,
weaponName: this.weapon.name,
title: __("ID_SPARTA_CAREER_WEAPON_ACCESSORIES"),
accessories: i.progression,
accessoryState: k
}), s && i && r.createElement(d.WeaponAccessories, {
key: "bpAccessories",
containerWidth: n,
weaponName: this.weapon.name,
title: __("ID_SPARTA_CAREER_WEAPON_ACCESSORIES_BP"),
accessories: i.battlepacks,
accessoryState: k
}));
}, n.defaultProps = {
widthGridCells: 7,
isGadget: !1,
canShowAccessories: !1
}, n = e.__decorate([ s.observer ], n);
}(r.Component);
t.WeaponFocusPane = L;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e() {
this.weaponAccessories = o.observable.map();
}
return e.prototype.getAccessoriesForWeapon = function(e) {
return this.weaponAccessories.get(e) || null;
}, e.prototype.addAccessoriesForWeapon = function(e, t) {
this.weaponAccessories.set(e, t);
}, r.__decorate([ o.action ], e.prototype, "addAccessoriesForWeapon", null), e;
}();
t.WeaponAccessoriesStore = i, t.weaponAccessoriesStore = new i();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(8), s = n(21), u = n(32), l = n(141), c = n(89), p = n(1480), d = n(98), f = n(4), m = {
heading: s.TextSize.M,
text: s.TextSize.S
}, h = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.selectionState = new d.ListSelectionState(), n.copy = l.copyStore.getCopyPage("common-questions"), 
n.settings = l.copyStore.getCopyPage("settings"), n.questions = l.copyStore.getProperty(n.copy, "list") || [], 
n.state = {
displayedAnswer: n.questions.length > 0 ? 0 : -1
}, n;
}
return r.__extends(t, e), t.prototype.createQuestions = function() {
var e = [];
if (this.questions) for (var t = 0; t < this.questions.length; t++) {
var n = this.questions[t].heading || "";
e.push(o.createElement(c.ListItem, {
debugName: "list-item-" + t,
key: "li-" + t,
index: t,
selectionState: this.selectionState
}, o.createElement(c.ListItemLabel, {
value: n
})));
}
return e;
}, t.prototype.createAnswers = function() {
for (var e = [], t = 0; t < this.questions.length; t++) e.push(o.createElement("surface", {
style: this.selectionState.activeItemIndex === t ? p.CommonQuestionStyles.shownAnswer : p.CommonQuestionStyles.hiddenAnswer,
key: "question_" + t
}, o.createElement(i.Text, {
value: this.questions[t].heading,
style: p.CommonQuestionStyles.heading,
size: m.heading
}), this.createAnswerParagraphs(t)));
return e;
}, t.prototype.createAnswerParagraphs = function(e) {
for (var t = [], n = this.questions[e].items, r = 0; r < n.length; r++) t.push(o.createElement(i.Text, {
value: n[r],
style: p.CommonQuestionStyles.paragraph,
size: m.text,
key: "answer_" + r
}));
return t;
}, t.prototype.render = function() {
return o.createElement(u.Template, {
tallContent: !0
}, o.createElement("surface", null, o.createElement(a.Row, {
style: p.CommonQuestionStyles.rowMain
}, o.createElement(a.Col, {
style: p.CommonQuestionStyles.columnSidebar
}, o.createElement("surface", {
style: p.CommonQuestionStyles.surfaceSidebar
}, o.createElement(c.List, null, this.createQuestions()))), o.createElement(a.Col, null), o.createElement(a.Col, {
style: p.CommonQuestionStyles.columnMain
}, o.createElement("surface", {
style: p.CommonQuestionStyles.surfaceMain
}, this.createAnswers())))));
}, t = r.__decorate([ f.observer ], t);
}(o.Component);
t.CommonQuestions = h;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(18), i = n(10), a = n(32), s = n(6), u = n(75), l = n(8), c = n(21), p = n(230), d = n(141), f = n(102), m = n(3), h = n(93), g = n(4), y = n(50), S = n(580), v = n(9), _ = n(29), b = n(1482), T = n(317), E = n(7), C = {
heading: c.TextSize.M,
welcome: c.TextSize.L,
price: c.TextSize.L,
strikePrice: c.TextSize.M,
text: c.TextSize.S,
note: c.TextSize.XXS,
legal: c.TextSize.XXS
}, I = "monthly", A = "yearly", w = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.key = 0, r.sparta = E.SpartaContext.getFromComponent(r), r.purchaseProduct = function() {
if (i.gameStore.getGame(r.gameId) && void 0 !== r.selectedOffer) {
var e = r.commerceNavigation.getOfferListingLocation(r.selectedOffer);
f.PurchaseFlow.start(r.selectedOffer).listen(f.PurchaseFlowState.SUCCESS, function() {
o.gotoLocation(e);
});
}
}, r.purchaseYearly = function() {
r.purchaseAccess("yearly");
}, r.purchaseMonthly = function() {
r.purchaseAccess("monthly");
}, r.copy = d.copyStore.getCopyPage("join-and-buy"), r.settings = d.copyStore.getCopyPage("settings"), 
r.offerId = d.copyStore.getProperty(e, "viewLocation.args.offerId"), r.gameId = d.copyStore.getProperty(e, "viewLocation.args.gameId"), 
r.offerGameId = d.copyStore.getProperty(e, "viewLocation.args.offerGameId"), r.state = {
ticks: 0
}, r.commerceNavigation = r.props.commerceNavigation || new T.DefaultCommerceNavigation(r.props.viewLocation.args.gameId, i.gameStore), 
r.subscriptionStatus = r.sparta.stores.subscriptionStatusStore.get(), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.requestSubscriptionStatus();
}, n.prototype.requestSubscriptionStatus = function() {
this.sparta.stores.subscriptionStatusStore.refresh();
}, Object.defineProperty(n.prototype, "offersMap", {
get: function() {
var e = h.offersStore.get(this.props.accessGameId || this.gameId), t = {};
if (e.value) for (var n = e.value.access, r = 0; r < n.length; r++) switch (!0) {
case 0 === r:
t[I] = n[r];
break;

case 1 === r:
t[A] = n[r];
}
return t;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "selectedOffer", {
get: function() {
var e = h.offersStore.get(this.offerGameId || this.gameId);
if (e.value) for (var t = 0, n = e.value.all; t < n.length; t++) {
var r = n[t];
if (r.offerId === this.offerId || r.offerId === this.productId) return r;
}
},
enumerable: !0,
configurable: !0
}), n.prototype.isSubscriber = function() {
return this.subscriptionStatus.value && this.subscriptionStatus.value.subscribed;
}, n.prototype.isNotASubscriber = function() {
return this.subscriptionStatus.value && !this.subscriptionStatus.value.subscribed;
}, n.prototype.createSpinner = function() {
return r.createElement("surface", {
style: [ b.JoinBuyStyles.spinnerContainer ]
}, r.createElement(_.Spinner, {
large: !0
}));
}, n.prototype.getStep1List = function() {
var e = d.copyStore.getProperty(this.copy, "text.step1-list") || [];
"string" == typeof e && (e = [ e ]);
for (var t = [], n = 0, o = e; n < o.length; n++) {
var i = o[n];
t.push(r.createElement(s.Text, {
key: ++this.key,
value: " " + i,
style: b.JoinBuyStyles.listItem,
size: C.text
}));
}
return r.createElement("surface", {
style: b.JoinBuyStyles.listContainer
}, t);
}, n.prototype.getAccessOffer = function(e) {
switch (e) {
case A:
if (this.offersMap.hasOwnProperty(A)) return this.offersMap[A];
break;

case I:
if (this.offersMap.hasOwnProperty(I)) return this.offersMap[I];
}
}, n.prototype.purchaseAccess = function(e) {
var t = this, n = this.getAccessOffer(e);
void 0 !== n && (this.purchasedTerm = e, S.suppressAccessSuccessStore.setSuppressed(!0), 
f.PurchaseFlow.start(n).listen(f.PurchaseFlowState.SUCCESS, function() {
h.offersStore.deleteFragment(t.offerGameId || t.gameId), t.requestSubscriptionStatus();
}));
}, n.prototype.getAccessCTAs = function() {
for (var e = {
1: I,
12: A
}, t = d.copyStore.getProperty(this.copy, "text.step1-cta"), n = [], o = !1, i = 0, a = d.copyStore.getProperty(this.copy, "config.cta-order"); i < a.length; i++) {
var l = e[a[i]], c = t[l], p = this.getAccessOffer(l);
if (void 0 !== p) switch (n.length > 0 && !o && (o = !0, n.push(r.createElement("surface", {
key: ++this.key,
style: b.JoinBuyStyles.buttonContainer
}, r.createElement(s.Text, {
key: ++this.key,
value: __("ID_SPARTA_GENERIC_OR"),
size: C.text
})))), c = c.toUpperCase().replace("%PRICE%", p.price), l) {
case "yearly":
n.push(r.createElement("surface", {
key: ++this.key,
style: b.JoinBuyStyles.buttonContainer
}, r.createElement(u.Button, {
name: "f8563028:276:39",
key: ++this.key,
text: c,
upperCase: !1,
textSize: C.text,
style: b.JoinBuyStyles.callToActionButton,
action: this.purchaseYearly
})));
break;

case "monthly":
n.push(r.createElement("surface", {
key: ++this.key,
style: b.JoinBuyStyles.buttonContainer
}, r.createElement(u.Button, {
name: "f8563028:291:39",
key: ++this.key,
text: c,
upperCase: !1,
textSize: C.text,
style: b.JoinBuyStyles.callToActionButton,
action: this.purchaseMonthly
})));
}
}
return r.createElement("surface", {
style: b.JoinBuyStyles.centerContainer
}, n);
}, n.prototype.createOwnedButton = function() {
var e = v.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_COMMERCE_OFFER_OWNED") : d.copyStore.getProperty(this.settings, "label.installAccess");
return r.createElement("surface", {
style: b.JoinBuyStyles.buttonContainer
}, r.createElement(u.Button, {
name: "f8563028:320:27",
text: e,
textSize: C.text,
style: b.JoinBuyStyles.callToActionButton
}));
}, n.prototype.createCallToAction = function() {
return this.isSubscriber() ? this.createOwnedButton() : this.isNotASubscriber() ? this.getAccessCTAs() : this.createSpinner();
}, n.prototype.getImageObject = function(e) {
var t = d.copyStore.getProperty(this.copy, "assets." + e);
return void 0 === t ? {} : {
texture: t.url,
width: parseInt(t.width, 10),
height: parseInt(t.height, 10)
};
}, n.prototype.createLeftColumn = function() {
if (this.isSubscriber()) {
this.purchasedTerm = this.purchasedTerm || "default";
var e = this.copy.text["step1-complete-message"][this.purchasedTerm].replace("%date%", new Date().toLocaleDateString()), t = this.getImageObject("circle-check");
return r.createElement("surface", {
style: b.JoinBuyStyles.surfaceRight
}, r.createElement("surface", {
style: t
}), r.createElement("surface", {
style: b.JoinBuyStyles.titleContainer
}, r.createElement(s.Text, {
value: this.copy.text["step1-complete-title"],
size: C.heading
})), r.createElement("surface", {
style: b.JoinBuyStyles.welcomeContainer
}, r.createElement(s.Text, {
value: this.copy.text["step1-complete-welcome"],
size: C.welcome
})), r.createElement("surface", {
style: b.JoinBuyStyles.messageContainer
}, r.createElement(s.Text, {
value: e,
size: C.text
})));
}
if (this.isNotASubscriber()) {
var n = this.getImageObject("circle-1-current"), o = this.getImageObject("access-logo");
return r.createElement("surface", {
style: b.JoinBuyStyles.surfaceRight
}, r.createElement("surface", {
style: n
}), r.createElement("surface", {
style: b.JoinBuyStyles.titleContainer
}, r.createElement(s.Text, {
value: this.copy.text["step1-title"],
size: C.heading
})), r.createElement("surface", {
style: b.JoinBuyStyles.ctaContainer
}, this.createCallToAction()), r.createElement("surface", {
style: b.JoinBuyStyles.logoContainer
}, r.createElement("surface", {
style: o
})), this.getStep1List(), r.createElement(s.Text, {
value: this.copy.text["step1-legal"],
style: b.JoinBuyStyles.legal,
size: C.legal
}));
}
return this.createSpinner();
}, n.prototype.createRightColumn = function() {
var e = {
texture: this.selectedOffer && this.selectedOffer.backgroundUrl
};
if (!this.isSubscriber() || void 0 !== this.selectedOffer && this.selectedOffer.listPrice) {
if (this.isSubscriber()) {
var t = this.getImageObject("circle-2-current"), n = this.selectedOffer && this.selectedOffer.listPrice;
return r.createElement("surface", {
style: b.JoinBuyStyles.surfaceLeft
}, r.createElement("surface", {
style: t
}), r.createElement("surface", {
style: b.JoinBuyStyles.titleContainer
}, r.createElement(s.Text, {
value: this.copy.text["step2-title"],
size: C.heading
})), r.createElement("surface", {
style: b.JoinBuyStyles.packartContainer
}, r.createElement("surface", {
style: [ b.JoinBuyStyles.imageObjectPackart, e ]
})), r.createElement("surface", {
style: b.JoinBuyStyles.step2Prices
}, r.createElement(s.Text, {
value: this.selectedOffer && this.selectedOffer.price,
size: C.price,
style: b.JoinBuyStyles.step2Price
}), r.createElement("surface", {
style: b.JoinBuyStyles.step2StrikePrice
}, r.createElement(p.Strikethrough, {
value: n || "",
size: C.strikePrice
}))), r.createElement(s.Text, {
value: this.copy.text["step2-active-note"],
size: C.note,
style: b.JoinBuyStyles.note
}), r.createElement("surface", {
style: b.JoinBuyStyles.buttonContainer
}, r.createElement(u.Button, {
name: "f8563028:443:35",
text: __("ID_SPARTA_ACTION_CONTINUE"),
textSize: C.text,
style: b.JoinBuyStyles.callToActionButton,
action: this.purchaseProduct
})));
}
if (this.isNotASubscriber()) {
var o = this.getImageObject("circle-2-disabled");
return r.createElement("surface", {
style: b.JoinBuyStyles.surfaceRight
}, r.createElement("surface", {
style: o
}), r.createElement("surface", {
style: b.JoinBuyStyles.titleContainer
}, r.createElement(s.Text, {
value: this.copy.text["step2-title"],
size: C.heading
})), r.createElement("surface", {
style: b.JoinBuyStyles.packartContainer
}, r.createElement("surface", {
style: [ b.JoinBuyStyles.imageObjectPackart, e ]
})), r.createElement("surface", {
style: {
flexDirection: "row",
marginTop: l.GUTTER
}
}, r.createElement(s.Text, {
value: this.selectedOffer && this.selectedOffer.rebatePrice,
size: C.price,
style: b.JoinBuyStyles.step2Price
}), r.createElement("surface", {
style: b.JoinBuyStyles.step2StrikePrice
}, r.createElement(p.Strikethrough, {
value: this.selectedOffer && (this.selectedOffer.price || this.selectedOffer.listPrice) || "",
size: C.strikePrice
}))), r.createElement(s.Text, {
value: this.copy.text["step2-note"],
size: C.note,
style: b.JoinBuyStyles.note
}));
}
return this.createSpinner();
}
return this.createSpinner();
}, n.prototype.render = function() {
var e = this;
return r.createElement(a.Template, {
tallContent: !0
}, r.createElement(y.FragmentLoader, {
load: h.offersStore.get(this.offerGameId || this.gameId),
errorMessage: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_TEXT"),
errorSubText: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_SUBTEXT")
}, function() {
return r.createElement("surface", null, r.createElement(l.Row, {
style: b.JoinBuyStyles.rowMain
}, r.createElement(l.Col, {
style: b.JoinBuyStyles.columnRight
}, e.createLeftColumn()), r.createElement(l.Col, {
style: b.JoinBuyStyles.columnBorder
}), r.createElement(l.Col, {
style: b.JoinBuyStyles.columnLeft
}, e.createRightColumn())));
}));
}, n.contextTypes = E.SpartaContext.contextTypes, e.__decorate([ m.computed ], n.prototype, "offersMap", null), 
e.__decorate([ m.computed ], n.prototype, "selectedOffer", null), n = e.__decorate([ g.observer ], n);
}(r.Component);
t.JoinBuy = w;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(66), s = n(36), u = n(137), l = n(17), c = n(22), p = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.onPress = function() {
s.trackEvent("HomeWidget", "click", n.props.name), n.props.action();
}, n.focusItem = t.focusItem || c.focusSystem.create(n, a.autoId("HomeWidget")), 
n;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement(u.Card, {
onPress: this.onPress,
style: l.HomeWidgetStyles.container,
focusItem: this.focusItem,
overlay: this.props.overlay,
dontScale: !0
}, this.props.children);
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.HomeWidget = p;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(85), i = n(3), a = n(4), s = n(12), u = n(11), l = n(226), c = n(508), p = n(7), d = n(5);
t.BaseBoxContextTypes = {
parent: o.object.isRequired
};
var f = function(n) {
function o(e, t) {
var r = n.call(this, e, t) || this;
return r.sparta = p.SpartaContext.getFromComponent(r), r.forcedPressed = [], r.inputAction = function() {
r.props.disabled || r.props.onClick && r.props.onClick(r);
}, r.focusItem = e.focusItem || r.sparta.twinkle.focus.create(r, e.name), r.focusItem.focusOnHover = !1, 
r.focusItem.autoFocusCandidate = "boolean" != typeof e.autoFocusCandidate || e.autoFocusCandidate, 
r.sparta.stores.inputStore.bindInputToFocusItem(r.input, r.focusItem), r;
}
return e.__extends(o, n), o.prototype.getChildContext = function() {
return {
parent: this
};
}, Object.defineProperty(o.prototype, "size", {
get: function() {
return this.props.size || c.CardSize.M;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(o.prototype, "isPressed", {
get: function() {
return !this.props.disabled && (this.focusItem.isPressed || this.forcedPressed.length > 0);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(o.prototype, "isActive", {
get: function() {
return this.focusItem.isFocused;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(o.prototype, "isHovered", {
get: function() {
return this.focusItem.isHovered;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(o.prototype, "isDisabled", {
get: function() {
return !!this.props.disabled;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(o.prototype, "input", {
get: function() {
var e = this;
return function() {
if (!e.props.disabled && e.props.onClick) return new s.Input({
label: e.props.actionLabel || __("ID_SPARTA_ACTION_SELECT"),
key: u.Keys.Accept,
action: e.inputAction
});
};
},
enumerable: !0,
configurable: !0
}), o.prototype.forcePressedState = function(e) {
var t = this;
return this.forcedPressed.push(e), i.action(function() {
var n = t.forcedPressed.indexOf(e);
n > -1 && t.forcedPressed.splice(n, 1);
});
}, o.prototype.render = function() {
var t = this, n = this.sparta.theme.getTheme(this), o = n.baseBox, i = n.components.Pressable;
return r.createElement(i, {
name: this.props.name,
focusItem: this.focusItem
}, function(n, i) {
return r.createElement("surface", e.__assign({
style: d.merge3(o.content, t.props.style, i)
}, n.hooks), t.props.children);
});
}, o.contextTypes = p.SpartaContext.contextTypes, o.childContextTypes = t.BaseBoxContextTypes, 
e.__decorate([ i.observable ], o.prototype, "forcedPressed", void 0), e.__decorate([ i.computed ], o.prototype, "isPressed", null), 
e.__decorate([ i.computed ], o.prototype, "isActive", null), e.__decorate([ i.computed ], o.prototype, "isHovered", null), 
e.__decorate([ i.computed ], o.prototype, "isDisabled", null), e.__decorate([ i.action.bound ], o.prototype, "forcePressedState", null), 
o = e.__decorate([ a.observer ], o);
}(r.Component);
t.BaseBox = f;
var m = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var t = this, n = this.sparta.theme.getTheme(this), o = n.baseBox, i = n.components.Pressable;
return r.createElement(i, {
name: this.props.name,
focusItem: this.focusItem
}, function(n, i) {
return r.createElement("surface", e.__assign({
style: d.merge2(t.props.style, i)
}, n.hooks), r.createElement("surface", {
style: o.blurBackground
}), r.createElement("surface", {
style: o.blurContent
}, t.props.children));
});
}, n;
}(f);
t.BaseBoxBlur = m;
var h = function() {
function t() {
this.activeBoxName = "", this.selectedBoxName = "";
}
return t.prototype.setActiveBox = function(e) {
this.activeBoxName = e;
}, t.prototype.setSelectedBox = function(e) {
this.selectedBoxName = e;
}, e.__decorate([ i.observable ], t.prototype, "activeBoxName", void 0), e.__decorate([ i.observable ], t.prototype, "selectedBoxName", void 0), 
e.__decorate([ i.action ], t.prototype, "setActiveBox", null), e.__decorate([ i.action ], t.prototype, "setSelectedBox", null), 
t;
}();
t.BoxSelectionState = h;
var g = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.inputAction = function() {
r.props.disabled || (r.props.selectionState.setActiveBox(r.props.name), r.props.onClick && r.props.onClick(r));
}, r.reaction(function() {
return r.isHovered;
}, function(t) {
t && e.selectionState.setSelectedBox(e.name);
}), r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "isActive", {
get: function() {
return this.props.name === this.props.selectionState.activeBoxName;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "isHovered", {
get: function() {
return this.focusItem.isHovered || this.focusItem.isFocused;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "input", {
get: function() {
var e = this;
return function() {
if (!e.props.disabled) return new s.Input({
label: e.props.actionLabel || __("ID_SPARTA_ACTION_SELECT"),
key: u.Keys.Accept,
action: e.inputAction
});
};
},
enumerable: !0,
configurable: !0
}), e.__decorate([ i.computed ], n.prototype, "isActive", null), e.__decorate([ i.computed ], n.prototype, "isHovered", null), 
n = e.__decorate([ a.observer ], n);
}(f);
t.BaseBoxLazy = g, t.createColorTween = function y(e, t) {
return l.TweenStyle.create(e, t, "color", t.context.parent.sparta.theme.getTheme, function(e, n) {
var r, o = t.context.parent, i = n.baseBox;
r = o.isDisabled ? o.isActive ? i.disabledSelectedColor : o.isHovered ? i.disabledHoveredColor : i.disabledColor : o.isActive ? i.selectedColor : o.isHovered ? i.hoveredColor : i.color, 
e.to(r);
}, function(e) {
return e.baseBox.color;
}, function(e) {
return e.baseBox.tweenOptions;
});
}, t.createSecondaryColorTween = function S(e, t) {
return l.TweenStyle.create(e, t, "color", t.context.parent.sparta.theme.getTheme, function(e, n) {
var r, o = t.context.parent, i = n.baseBox;
r = o.isDisabled ? o.isActive ? i.disabledSelectedSecondaryColor : o.isHovered ? i.disabledHoveredSecondaryColor : i.disabledSecondaryColor : o.isActive ? i.selectedSecondaryColor : o.isHovered ? i.hoveredSecondaryColor : i.secondaryColor, 
e.to(r);
}, function(e) {
return e.baseBox.secondaryColor;
}, function(e) {
return e.baseBox.tweenOptions;
});
}, t.createBackgroundColorTween = function v(e, t) {
return l.TweenStyle.create(e, t, "backgroundColor", t.context.parent.sparta.theme.getTheme, function(e, n) {
var r, o = t.context.parent, i = n.baseBox;
r = o.isDisabled ? o.isActive ? i.disabledSelectedBackgroundColor : o.isHovered ? i.disabledHoveredBackgroundColor : i.disabledBackgroundColor : o.isActive ? i.selectedBackgroundColor : o.isHovered ? i.hoveredBackgroundColor : i.backgroundColor, 
e.to(r);
}, function(e) {
return e.baseBox.backgroundColor;
}, function(e) {
return e.baseBox.tweenOptions;
});
}, t.createOverlayColorTween = function _(e, t) {
return l.TweenStyle.create(e, t, "backgroundColor", t.context.parent.sparta.theme.getTheme, function(e, n) {
var r, o = t.context.parent, i = n.baseBox;
r = o.isDisabled ? o.isActive ? i.disabledSelectedOverlayColor : o.isHovered ? i.disabledHoveredOverlayColor : i.disabledOverlayColor : o.isActive ? i.selectedOverlayColor : o.isHovered ? i.hoveredOverlayColor : i.transparent, 
e.to(r);
}, function(e) {
return e.baseBox.transparent;
}, function(e) {
return e.baseBox.tweenOptions;
});
}, t.createImageOverlayColorTween = function b(e, t) {
return l.TweenStyle.create(e, t, "backgroundColor", t.context.parent.sparta.theme.getTheme, function(e, n) {
t.context.parent;
var r = n.baseBox.transparent;
e.to(r);
}, function(e) {
return e.baseBox.transparent;
}, function(e) {
return e.baseBox.tweenOptions;
});
}, t.createOverlayOpacityTween = function T(e, t) {
return l.TweenStyle.create(e, t, "opacity", t.context.parent.sparta.theme.getTheme, function(e, n) {
var r, o = t.context.parent;
r = o.isActive || o.isHovered ? n.baseBox.pressedOverlayOpacity : n.baseBox.overlayOpacity, 
e.to(r);
}, function(e) {
return e.baseBox.overlayOpacity;
}, function(e) {
return e.baseBox.tweenOptions;
});
}, t.createLabelOverlayColorTween = function E(e, t) {
return l.TweenStyle.create(e, t, "backgroundColor", t.context.parent.sparta.theme.getTheme, function(e, n) {
var r, o = t.context.parent, i = n.baseBox;
r = o.isDisabled ? o.isActive ? i.disabledSelectedLabelOverlayColor : o.isHovered ? i.transparent : i.disabledLabelOverlayColor : o.isActive ? i.selectedLabelOverlayColor : (o.isHovered, 
i.transparent), e.to(r);
}, function(e) {
return e.baseBox.transparent;
}, function(e) {
return e.baseBox.tweenOptions;
});
}, t.createIconOpacityTween = function C(e, t) {
return l.TweenStyle.create(e, t, "opacity", t.context.parent.sparta.theme.getTheme, function(e, n) {
var r, o = t.context.parent, i = n.baseBox;
r = o.isDisabled ? o.isActive ? i.disabledSelectedIconOpacity : i.disabledIconOpacity : i.iconOpacity, 
e.to(r);
}, function(e) {
return e.baseBox.iconOpacity;
}, function(e) {
return e.baseBox.tweenOptions;
});
}, t.createBottomBarTween = function I(e, t) {
return l.TweenStyle.create(e, t, "backgroundColor", t.context.parent.sparta.theme.getTheme, function(e, n) {
var r, o = t.context.parent;
r = o.isHovered || o.isActive ? n.baseBox.hoveredBottomBarColor : n.baseBox.bottomBarColor, 
e.to(r);
}, function(e) {
return e.baseBox.bottomBarColor;
}, function(e) {
return e.baseBox.tweenOptions;
});
};
}).call(this, n(2));
}, function(e, t, n) {
e.exports = !n(83) && !n(44)(function() {
return 7 != Object.defineProperty(n(464)("div"), "a", {
get: function() {
return 7;
}
}).a;
});
}, function(e, t, n) {
var r = n(48), o = n(57).document, i = r(o) && r(o.createElement);
e.exports = function(e) {
return i ? o.createElement(e) : {};
};
}, function(e, t, n) {
var r = n(99), o = n(107), i = n(339)(!1), a = n(340)("IE_PROTO");
e.exports = function(e, t) {
var n, s = o(e), u = 0, l = [];
for (n in s) n != a && r(s, n) && l.push(n);
for (;t.length > u; ) r(s, n = t[u++]) && (~i(l, n) || l.push(n));
return l;
};
}, function(e, t, n) {
var r = n(70), o = n(55), i = n(167);
e.exports = n(83) ? Object.defineProperties : function e(t, n) {
o(t);
for (var a, s = i(n), u = s.length, l = 0; u > l; ) r.f(t, a = s[l++], n[a]);
return t;
};
}, function(e, t, n) {
var r = n(57).document;
e.exports = r && r.documentElement;
}, function(e, t, n) {
var r = n(55);
e.exports = function(e, t, n, o) {
try {
return o ? t(r(n)[0], n[1]) : t(n);
} catch (t) {
var i = e.return;
throw void 0 !== i && r(i.call(e)), t;
}
};
}, function(e, t, n) {
var r = n(242), o = n(63)("iterator"), i = n(189);
e.exports = n(54).isIterable = function(e) {
var t = Object(e);
return void 0 !== t[o] || "@@iterator" in t || i.hasOwnProperty(r(t));
};
}, function(e, t, n) {
"use strict";
var r = n(471), o = n(472), i = n(145);
e.exports = function() {
for (var e = i(this), t = arguments.length, n = new Array(t), a = 0, s = r._, u = !1; t > a; ) (n[a] = arguments[a++]) === s && (u = !0);
return function() {
var r, i = arguments.length, a = 0, l = 0;
if (!u && !i) return o(e, n, this);
if (r = n.slice(), u) for (;t > a; a++) r[a] === s && (r[a] = arguments[l++]);
for (;i > l; ) r.push(arguments[l++]);
return o(e, r, this);
};
};
}, function(e, t, n) {
e.exports = n(57);
}, function(e, t) {
e.exports = function(e, t, n) {
var r = void 0 === n;
switch (t.length) {
case 0:
return r ? e() : e.call(n);

case 1:
return r ? e(t[0]) : e.call(n, t[0]);

case 2:
return r ? e(t[0], t[1]) : e.call(n, t[0], t[1]);

case 3:
return r ? e(t[0], t[1], t[2]) : e.call(n, t[0], t[1], t[2]);

case 4:
return r ? e(t[0], t[1], t[2], t[3]) : e.call(n, t[0], t[1], t[2], t[3]);
}
return e.apply(n, t);
};
}, function(e, t, n) {
var r = n(70), o = n(130), i = n(474), a = n(107);
e.exports = function e(t, n) {
for (var s, u = i(a(n)), l = u.length, c = 0; l > c; ) r.f(t, s = u[c++], o.f(n, s));
return t;
};
}, function(e, t, n) {
var r = n(190), o = n(277), i = n(55), a = n(57).Reflect;
e.exports = a && a.ownKeys || function e(t) {
var n = r.f(i(t)), a = o.f;
return a ? n.concat(a(t)) : n;
};
}, function(e, t, n) {
var r = n(146), o = n(168);
e.exports = function(e) {
return function(t, n) {
var i, a, s = String(o(t)), u = r(n), l = s.length;
return u < 0 || u >= l ? e ? "" : void 0 : (i = s.charCodeAt(u)) < 55296 || i > 56319 || u + 1 === l || (a = s.charCodeAt(u + 1)) < 56320 || a > 57343 ? e ? s.charAt(u) : i : e ? s.slice(u, u + 2) : a - 56320 + (i - 55296 << 10) + 65536;
};
};
}, function(e, t, n) {
"use strict";
var r = n(70), o = n(166);
e.exports = function(e, t, n) {
t in e ? r.f(e, t, o(0, n)) : e[t] = n;
};
}, function(e, t, n) {
var r = n(145), o = n(115), i = n(240), a = n(90);
e.exports = function(e, t, n, s, u) {
r(t);
var l = o(e), c = i(l), p = a(l.length), d = u ? p - 1 : 0, f = u ? -1 : 1;
if (n < 2) for (;;) {
if (d in c) {
s = c[d], d += f;
break;
}
if (d += f, u ? d < 0 : p <= d) throw TypeError("Reduce of empty array with no initial value");
}
for (;u ? d >= 0 : p > d; d += f) d in c && (s = t(s, c[d], d, l));
return s;
};
}, function(e, t, n) {
"use strict";
var r = n(115), o = n(188), i = n(90);
e.exports = [].copyWithin || function e(t, n) {
var a = r(this), s = i(a.length), u = o(t, s), l = o(n, s), c = arguments.length > 2 ? arguments[2] : void 0, p = Math.min((void 0 === c ? s : o(c, s)) - l, s - u), d = 1;
for (l < u && u < l + p && (d = -1, l += p - 1, u += p - 1); p-- > 0; ) l in a ? a[u] = a[l] : delete a[u], 
u += d, l += d;
return a;
};
}, function(e, t, n) {
"use strict";
var r = n(145), o = n(48), i = n(472), a = [].slice, s = {};
e.exports = Function.bind || function e(t) {
var n = r(this), u = a.call(arguments, 1), l = function() {
var e = u.concat(a.call(arguments));
return this instanceof l ? function(e, t, n) {
if (!(t in s)) {
for (var r = [], o = 0; o < t; o++) r[o] = "a[" + o + "]";
s[t] = Function("F,a", "return new F(" + r.join(",") + ")");
}
return s[t](e, n);
}(n, e.length, e) : i(n, e, t);
};
return o(n.prototype) && (l.prototype = n.prototype), l;
};
}, function(e, t, n) {
"use strict";
var r = n(70).f, o = n(147), i = n(247), a = n(164), s = n(248), u = n(279), l = n(280), c = n(345), p = n(246), d = n(83), f = n(170).fastKey, m = n(215), h = d ? "_s" : "size", g = function(e, t) {
var n, r = f(t);
if ("F" !== r) return e._i[r];
for (n = e._f; n; n = n.n) if (n.k == t) return n;
};
e.exports = {
getConstructor: function(e, t, n, l) {
var c = e(function(e, r) {
s(e, c, t, "_i"), e._t = t, e._i = o(null), e._f = void 0, e._l = void 0, e[h] = 0, 
void 0 != r && u(r, n, e[l], e);
});
return i(c.prototype, {
clear: function e() {
for (var n = m(this, t), r = n._i, o = n._f; o; o = o.n) o.r = !0, o.p && (o.p = o.p.n = void 0), 
delete r[o.i];
n._f = n._l = void 0, n[h] = 0;
},
delete: function(e) {
var n = m(this, t), r = g(n, e);
if (r) {
var o = r.n, i = r.p;
delete n._i[r.i], r.r = !0, i && (i.n = o), o && (o.p = i), n._f == r && (n._f = o), 
n._l == r && (n._l = i), n[h]--;
}
return !!r;
},
forEach: function e(n) {
m(this, t);
for (var r, o = a(n, arguments.length > 1 ? arguments[1] : void 0, 3); r = r ? r.n : this._f; ) for (o(r.v, r.k, this); r && r.r; ) r = r.p;
},
has: function e(n) {
return !!g(m(this, t), n);
}
}), d && r(c.prototype, "size", {
get: function() {
return m(this, t)[h];
}
}), c;
},
def: function(e, t, n) {
var r, o, i = g(e, t);
return i ? i.v = n : (e._l = i = {
i: o = f(t, !0),
k: t,
v: n,
p: r = e._l,
n: void 0,
r: !1
}, e._f || (e._f = i), r && (r.n = i), e[h]++, "F" !== o && (e._i[o] = i)), e;
},
getEntry: g,
setStrong: function(e, t, n) {
l(e, t, function(e, n) {
this._t = m(e, t), this._k = n, this._l = void 0;
}, function() {
for (var e = this._k, t = this._l; t && t.r; ) t = t.p;
return this._t && (this._l = t = t ? t.n : this._t._f) ? c(0, "keys" == e ? t.k : "values" == e ? t.v : [ t.k, t.v ]) : (this._t = void 0, 
c(1));
}, n ? "entries" : "values", !n, !0), p(t);
}
};
}, function(e, t) {
e.exports = Math.log1p || function e(t) {
return (t = +t) > -1e-8 && t < 1e-8 ? t - t * t / 2 : Math.log(1 + t);
};
}, function(e, t, n) {
var r = n(187);
e.exports = function(e, t) {
if ("number" != typeof e && "Number" != r(e)) throw TypeError(t);
return +e;
};
}, function(e, t, n) {
"use strict";
var r = n(146), o = n(168);
e.exports = function e(t) {
var n = String(o(this)), i = "", a = r(t);
if (a < 0 || a == 1 / 0) throw RangeError("Count can't be negative");
for (;a > 0; (a >>>= 1) && (n += n)) 1 & a && (i += n);
return i;
};
}, function(e, t, n) {
var r = n(48), o = Math.floor;
e.exports = function e(t) {
return !r(t) && isFinite(t) && o(t) === t;
};
}, function(e, t, n) {
var r = n(57).parseFloat, o = n(284).trim;
e.exports = 1 / r(n(355) + "-0") != -1 / 0 ? function e(t) {
var n = o(String(t), 3), i = r(n);
return 0 === i && "-" == n.charAt(0) ? -0 : i;
} : r;
}, function(e, t, n) {
var r = n(57).parseInt, o = n(284).trim, i = n(355), a = /^[-+]?0[xX]/;
e.exports = 8 !== r(i + "08") || 22 !== r(i + "0x16") ? function e(t, n) {
var i = o(String(t), 3);
return r(i, n >>> 0 || (a.test(i) ? 16 : 10));
} : r;
}, function(e, t, n) {
"use strict";
var r = n(57), o = n(99), i = n(83), a = n(16), s = n(106), u = n(170).KEY, l = n(44), c = n(341), p = n(243), d = n(186), f = n(63), m = n(488), h = n(787), g = n(788), y = n(347), S = n(55), v = n(48), _ = n(107), b = n(165), T = n(166), E = n(147), C = n(489), I = n(130), A = n(70), w = n(167), P = I.f, R = A.f, O = C.f, x = r.Symbol, k = r.JSON, L = k && k.stringify, M = f("_hidden"), D = f("toPrimitive"), N = {}.propertyIsEnumerable, F = c("symbol-registry"), G = c("symbols"), U = c("op-symbols"), B = Object.prototype, j = "function" == typeof x, H = r.QObject, z = !H || !H.prototype || !H.prototype.findChild, V = i && l(function() {
return 7 != E(R({}, "a", {
get: function() {
return R(this, "a", {
value: 7
}).a;
}
})).a;
}) ? function(e, t, n) {
var r = P(B, t);
r && delete B[t], R(e, t, n), r && e !== B && R(B, t, r);
} : R, W = function(e) {
var t = G[e] = E(x.prototype);
return t._k = e, t;
}, q = j && "symbol" == typeof x.iterator ? function(e) {
return "symbol" == typeof e;
} : function(e) {
return e instanceof x;
}, K = function e(t, n, r) {
return t === B && K(U, n, r), S(t), n = b(n, !0), S(r), o(G, n) ? (r.enumerable ? (o(t, M) && t[M][n] && (t[M][n] = !1), 
r = E(r, {
enumerable: T(0, !1)
})) : (o(t, M) || R(t, M, T(1, {})), t[M][n] = !0), V(t, n, r)) : R(t, n, r);
}, X = function e(t, n) {
S(t);
for (var r, o = g(n = _(n)), i = 0, a = o.length; a > i; ) K(t, r = o[i++], n[r]);
return t;
}, Y = function e(t) {
var n = N.call(this, t = b(t, !0));
return !(this === B && o(G, t) && !o(U, t)) && (!(n || !o(this, t) || !o(G, t) || o(this, M) && this[M][t]) || n);
}, J = function e(t, n) {
if (t = _(t), n = b(n, !0), t !== B || !o(G, n) || o(U, n)) {
var r = P(t, n);
return !r || !o(G, n) || o(t, M) && t[M][n] || (r.enumerable = !0), r;
}
}, Q = function e(t) {
for (var n, r = O(_(t)), i = [], a = 0; r.length > a; ) o(G, n = r[a++]) || n == M || n == u || i.push(n);
return i;
}, Z = function e(t) {
for (var n, r = t === B, i = O(r ? U : _(t)), a = [], s = 0; i.length > s; ) !o(G, n = i[s++]) || r && !o(B, n) || a.push(G[n]);
return a;
};
j || (s((x = function e() {
if (this instanceof x) throw TypeError("Symbol is not a constructor!");
var t = d(arguments.length > 0 ? arguments[0] : void 0), n = function(e) {
this === B && n.call(U, e), o(this, M) && o(this[M], t) && (this[M][t] = !1), V(this, t, T(1, e));
};
return i && z && V(B, t, {
configurable: !0,
set: n
}), W(t);
}).prototype, "toString", function e() {
return this._k;
}), I.f = J, A.f = K, n(190).f = C.f = Q, n(278).f = Y, n(277).f = Z, i && !n(244) && s(B, "propertyIsEnumerable", Y, !0), 
m.f = function(e) {
return W(f(e));
}), a(a.G + a.W + a.F * !j, {
Symbol: x
});
for (var $ = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), ee = 0; $.length > ee; ) f($[ee++]);
for (var te = w(f.store), ne = 0; te.length > ne; ) h(te[ne++]);
a(a.S + a.F * !j, "Symbol", {
for: function(e) {
return o(F, e += "") ? F[e] : F[e] = x(e);
},
keyFor: function e(t) {
if (!q(t)) throw TypeError(t + " is not a symbol!");
for (var n in F) if (F[n] === t) return n;
},
useSetter: function() {
z = !0;
},
useSimple: function() {
z = !1;
}
}), a(a.S + a.F * !j, "Object", {
create: function e(t, n) {
return void 0 === n ? E(t) : X(E(t), n);
},
defineProperty: K,
defineProperties: X,
getOwnPropertyDescriptor: J,
getOwnPropertyNames: Q,
getOwnPropertySymbols: Z
}), k && a(a.S + a.F * (!j || l(function() {
var e = x();
return "[null]" != L([ e ]) || "{}" != L({
a: e
}) || "{}" != L(Object(e));
})), "JSON", {
stringify: function e(t) {
for (var n, r, o = [ t ], i = 1; arguments.length > i; ) o.push(arguments[i++]);
if (r = n = o[1], (v(n) || void 0 !== t) && !q(t)) return y(n) || (n = function(e, t) {
if ("function" == typeof r && (t = r.call(this, e, t)), !q(t)) return t;
}), o[1] = n, L.apply(k, o);
}
}), x.prototype[D] || n(114)(x.prototype, D, x.prototype.valueOf), p(x, "Symbol"), 
p(Math, "Math", !0), p(r.JSON, "JSON", !0);
}, function(e, t, n) {
t.f = n(63);
}, function(e, t, n) {
var r = n(107), o = n(190).f, i = {}.toString, a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
e.exports.f = function e(t) {
return a && "[object Window]" == i.call(t) ? function(e) {
try {
return o(e);
} catch (e) {
return a.slice();
}
}(t) : o(r(t));
};
}, function(e, t, n) {
n(83) && "g" != /./g.flags && n(70).f(RegExp.prototype, "flags", {
configurable: !0,
get: n(357)
});
}, function(e, t, n) {
n(285)("match", 1, function(e, t, n) {
return [ function n(r) {
"use strict";
var o = e(this), i = void 0 == r ? void 0 : r[t];
return void 0 !== i ? i.call(r, o) : new RegExp(r)[t](String(o));
}, n ];
});
}, function(e, t, n) {
n(285)("replace", 2, function(e, t, n) {
return [ function r(o, i) {
"use strict";
var a = e(this), s = void 0 == o ? void 0 : o[t];
return void 0 !== s ? s.call(o, a, i) : n.call(String(a), o, i);
}, n ];
});
}, function(e, t, n) {
n(285)("search", 1, function(e, t, n) {
return [ function n(r) {
"use strict";
var o = e(this), i = void 0 == r ? void 0 : r[t];
return void 0 !== i ? i.call(r, o) : new RegExp(r)[t](String(o));
}, n ];
});
}, function(e, t, n) {
n(285)("split", 2, function(e, t, r) {
"use strict";
var o = n(356), i = r, a = [].push;
if ("c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1).length || 2 != "ab".split(/(?:ab)*/).length || 4 != ".".split(/(.?)(.?)/).length || ".".split(/()()/).length > 1 || "".split(/.?/).length) {
var s = void 0 === /()??/.exec("")[1];
r = function(e, t) {
var n = String(this);
if (void 0 === e && 0 === t) return [];
if (!o(e)) return i.call(n, e, t);
var r, u, l, c, p, d = [], f = (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.unicode ? "u" : "") + (e.sticky ? "y" : ""), m = 0, h = void 0 === t ? 4294967295 : t >>> 0, g = new RegExp(e.source, f + "g");
for (s || (r = new RegExp("^" + g.source + "$(?!\\s)", f)); (u = g.exec(n)) && !((l = u.index + u[0].length) > m && (d.push(n.slice(m, u.index)), 
!s && u.length > 1 && u[0].replace(r, function() {
for (p = 1; p < arguments.length - 2; p++) void 0 === arguments[p] && (u[p] = void 0);
}), u.length > 1 && u.index < n.length && a.apply(d, u.slice(1)), c = u[0].length, 
m = l, d.length >= h)); ) g.lastIndex === u.index && g.lastIndex++;
return m === n.length ? !c && g.test("") || d.push("") : d.push(n.slice(m)), d.length > h ? d.slice(0, h) : d;
};
} else "0".split(void 0, 0).length && (r = function(e, t) {
return void 0 === e && 0 === t ? [] : i.call(this, e, t);
});
return [ function n(o, i) {
var a = e(this), s = void 0 == o ? void 0 : o[t];
return void 0 !== s ? s.call(o, a, i) : r.call(String(a), o, i);
}, r ];
});
}, function(e, t, n) {
var r = n(146), o = n(90);
e.exports = function(e) {
if (void 0 === e) return 0;
var t = r(e), n = o(t);
if (t !== n) throw RangeError("Wrong length!");
return n;
};
}, function(e, t, n) {
var r = n(55), o = n(145), i = n(63)("species");
e.exports = function(e, t) {
var n, a = r(e).constructor;
return void 0 === a || void 0 == (n = r(a)[i]) ? t : o(n);
};
}, function(e, t, n) {
"use strict";
var r = n(247), o = n(170).getWeak, i = n(55), a = n(48), s = n(248), u = n(279), l = n(131), c = n(99), p = n(215), d = l(5), f = l(6), m = 0, h = function(e) {
return e._l || (e._l = new g());
}, g = function() {
this.a = [];
}, y = function(e, t) {
return d(e.a, function(e) {
return e[0] === t;
});
};
g.prototype = {
get: function(e) {
var t = y(this, e);
if (t) return t[1];
},
has: function(e) {
return !!y(this, e);
},
set: function(e, t) {
var n = y(this, e);
n ? n[1] = t : this.a.push([ e, t ]);
},
delete: function(e) {
var t = f(this.a, function(t) {
return t[0] === e;
});
return ~t && this.a.splice(t, 1), !!~t;
}
}, e.exports = {
getConstructor: function(e, t, n, i) {
var l = e(function(e, r) {
s(e, l, t, "_i"), e._t = t, e._i = m++, e._l = void 0, void 0 != r && u(r, n, e[i], e);
});
return r(l.prototype, {
delete: function(e) {
if (!a(e)) return !1;
var n = o(e);
return !0 === n ? h(p(this, t)).delete(e) : n && c(n, this._i) && delete n[this._i];
},
has: function e(n) {
if (!a(n)) return !1;
var r = o(n);
return !0 === r ? h(p(this, t)).has(n) : r && c(r, this._i);
}
}), l;
},
def: function(e, t, n) {
var r = o(i(t), !0);
return !0 === r ? h(e).set(t, n) : r[e._i] = n, e;
},
ufstore: h
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(361), i = n(95), a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.start = function(e) {
e();
}, t.prototype.objectAssignDefined = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o, i, a = typeof n;
if (Array.isArray(n) && (a = "array"), "object" !== a && null !== n && "undefined" !== a) throw new Error("Source 2 must be object, null or undefined, got " + a);
if (t) for (o in t) t.hasOwnProperty(o) && void 0 !== (i = t[o]) && (e[o] = i);
if (n) for (o in n) n.hasOwnProperty(o) && void 0 !== (i = n[o]) && (e[o] = i);
return e;
}, t.prototype.objectAssign = function(e, t, n) {
return Object.assign(e, t, n);
}, t.prototype.profilerTime = function() {
return i.globalScope.TwinkleNative.profilerTime ? 1e3 * i.globalScope.TwinkleNative.profilerTime() : Date.now();
}, t.prototype.delegateCall = function(e, t, n) {
return i.globalScope.TwinkleNative.handleCall(e, n);
}, t;
}(o.AbstractDelegate);
t.InprocDelegate = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(361), i = n(95), a = n(116), s = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onScriptCalls = function(e) {}, t.onDelegateCalled = new a.TwinkleEvent(), 
t;
}
return r.__extends(t, e), t.prototype.start = function(e) {
e();
}, t.prototype.objectAssignDefined = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o, i, a = typeof n;
if (Array.isArray(n) && (a = "array"), "object" !== a && null !== n && "undefined" !== a) throw new Error("Source 2 must be object, null or undefined, got " + a);
if (t) for (o in t) t.hasOwnProperty(o) && void 0 !== (i = t[o]) && (e[o] = i);
if (n) for (o in n) n.hasOwnProperty(o) && void 0 !== (i = n[o]) && (e[o] = i);
return e;
}, t.prototype.objectAssign = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o, i, a = typeof n;
if (Array.isArray(n) && (a = "array"), "object" !== a && null !== n && "undefined" !== a) throw new Error("Source 2 must be object, null or undefined, got " + a);
if (t) for (o in t) t.hasOwnProperty(o) && (i = t[o], e[o] = i);
if (n) for (o in n) n.hasOwnProperty(o) && (i = n[o], e[o] = i);
return e;
}, t.prototype.profilerTime = function() {
return i.globalScope.window.performance.now();
}, t.prototype.delegateCall = function(e, t, n) {
this.onDelegateCalled.trigger(e, t, n);
}, t;
}(o.AbstractDelegate);
t.MockDelegate = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
t.encode = function o(e) {
var t, n, o, i, a, s, u, l = "", c = 0;
for (e = function p(e) {
e = e.replace(/\r\n/g, "\n");
for (var t = "", n = 0; n < e.length; n++) {
var r = e.charCodeAt(n);
r < 128 ? t += String.fromCharCode(r) : r > 127 && r < 2048 ? (t += String.fromCharCode(r >> 6 | 192), 
t += String.fromCharCode(63 & r | 128)) : (t += String.fromCharCode(r >> 12 | 224), 
t += String.fromCharCode(r >> 6 & 63 | 128), t += String.fromCharCode(63 & r | 128));
}
return t;
}(e); c < e.length; ) i = (t = e.charCodeAt(c++)) >> 2, a = (3 & t) << 4 | (n = e.charCodeAt(c++)) >> 4, 
s = (15 & n) << 2 | (o = e.charCodeAt(c++)) >> 6, u = 63 & o, isNaN(n) ? s = u = 64 : isNaN(o) && (u = 64), 
l = l + r.charAt(i) + r.charAt(a) + r.charAt(s) + r.charAt(u);
return l;
}, t.decode = function i(e) {
var t, n, o, i, a, s, u = "", l = 0;
for (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); l < e.length; ) t = r.indexOf(e.charAt(l++)) << 2 | (i = r.indexOf(e.charAt(l++))) >> 4, 
n = (15 & i) << 4 | (a = r.indexOf(e.charAt(l++))) >> 2, o = (3 & a) << 6 | (s = r.indexOf(e.charAt(l++))), 
u += String.fromCharCode(t), 64 !== a && (u += String.fromCharCode(n)), 64 !== s && (u += String.fromCharCode(o));
return function c(e) {
for (var t = "", n = 0, r = 0, o = 0, i = 0; n < e.length; ) (r = e.charCodeAt(n)) < 128 ? (t += String.fromCharCode(r), 
n++) : r > 191 && r < 224 ? (o = e.charCodeAt(n + 1), t += String.fromCharCode((31 & r) << 6 | 63 & o), 
n += 2) : (o = e.charCodeAt(n + 1), i = e.charCodeAt(n + 2), t += String.fromCharCode((15 & r) << 12 | (63 & o) << 6 | 63 & i), 
n += 3);
return t;
}(u);
};
}, function(e, t, n) {
"use strict";
function r(e) {
return function() {
return e;
};
}
var o = function e() {};
o.thatReturns = r, o.thatReturnsFalse = r(!1), o.thatReturnsTrue = r(!0), o.thatReturnsNull = r(null), 
o.thatReturnsThis = function() {
return this;
}, o.thatReturnsArgument = function(e) {
return e;
}, e.exports = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.isEqual = function e(t, n) {
if (t === n) return !0;
var r = Array.isArray(t), o = Array.isArray(n);
if (r && o) {
if (t.length !== n.length) return !1;
for (var i = 0; i < t.length; i++) if (!e(t[i], n[i])) return !1;
return !0;
}
if (r !== o) return !1;
if (t && n && "object" == typeof t && "object" == typeof n) {
var a = Object.keys(t);
if (a.length !== Object.keys(n).length) return !1;
var s = t instanceof Date, u = n instanceof Date;
if (s && u) return t.getTime() === n.getTime();
if (s !== u) return !1;
var l = t instanceof RegExp, c = n instanceof RegExp;
if (l && c) return t.toString() === n.toString();
if (l !== c) return !1;
for (i = 0; i < a.length; i++) if (!Object.prototype.hasOwnProperty.call(n, a[i])) return !1;
for (i = 0; i < a.length; i++) if (!e(t[a[i]], n[a[i]])) return !1;
return !0;
}
return !1;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.offlinePrefix = "http://offline.twinkle", t.offlinePrefixLen = t.offlinePrefix.length, 
t.onlinePrefix = "http://online.twinkle", t.onlinePrefixLen = t.onlinePrefix.length, 
t.bbPrefix = "[BB_PREFIX]", t.bbPrefixLen = t.bbPrefix.length;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.TranslationHolder = {
currentTranslations: {},
fallbackTranslations: {}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(5), i = n(52), a = n(40);
!function(e) {
e.onMouseDown = "onMouseDown", e.onMouseUp = "onMouseUp", e.onClick = "onClick", 
e.onDoubleClick = "onDoubleClick", e.onMouseScroll = "onMouseScroll", e.onMouseEnter = "onMouseEnter", 
e.onMouseLeave = "onMouseLeave";
}(r || (r = {}));
var s, u = [ r.onMouseDown, r.onMouseUp, r.onClick, r.onDoubleClick, r.onMouseScroll, r.onMouseEnter, r.onMouseLeave ];
!function(e) {
e[e.None = 0] = "None", e[e.OnMouseDown = 1] = "OnMouseDown", e[e.OnMouseUp = 2] = "OnMouseUp", 
e[e.OnClick = 4] = "OnClick", e[e.OnDoubleClick = 8] = "OnDoubleClick", e[e.OnMouseScroll = 16] = "OnMouseScroll", 
e[e.OnMouseEnter = 32] = "OnMouseEnter", e[e.OnMouseLeave = 64] = "OnMouseLeave", 
e[e.OnBoundsChanged = 128] = "OnBoundsChanged";
}(s || (s = {}));
var l = {
linePoints: 1,
lineWidth: 1,
lineStart: 1,
lineEnd: 1,
lineFlatness: 1,
lineMaxSegmentLength: 1
};
function c(e) {
var t = e.styleObjects;
if (delete e.styleObjects, t) for (var n = function(t) {
var n;
if ("number" == typeof t) {
var r = o.staticStyles[t];
r ? n = r.PRIVATE_style() : console.error("Cannot find style with id:", t);
} else {
if (o.isStyleClass(t)) throw new Error("Style objects should not contain style classes");
n = t;
}
n && Object.keys(n).forEach(function(t) {
if (i.nativeApi.supportsLineApi || !l[t]) {
var r = n && n[t];
void 0 !== r && (e[t] = r);
}
});
}, r = 0, a = t; r < a.length; r++) {
n(a[r]);
}
}
function p(e, t, n, r) {
if (o.isStyleClass(t)) t.pushObjectsTo(e, n.options.useNativeStyles), n.options.useNativeTextureFadeIn || 0 === t.getStyleValue("textureFadeInTime") && (r.skipFade = !0); else if (t) {
if ("string" == typeof t.shaderProgram) for (var i = 0, a = Object.keys(t); i < a.length; i++) {
var s = a[i];
s.startsWith("shaderParam_") && (r.props[s] = t[s]);
}
0 === t.textureFadeInTime && (r.skipFade = !0), e.push(n.options.styleHook(n.surfaceId, t));
}
}
function d(e, t) {
var n = e.props.style, r = [];
if (t.props.styleObjects = r, "string" == typeof e.props.text) {
t.props.text = e.props.text;
var o = e.options.defaultTextStyle;
o && o.pushObjectsTo(r, e.options.useNativeStyles);
}
if (n) if (Array.isArray(n)) for (var i = 0, a = n; i < a.length; i++) {
var s = a[i];
s && p(r, s, e, t);
} else p(r, n, e, t);
}
t.getStyleForNonProductionPurposes = function f(e) {
var t = [];
e.pushObjectsTo(t, !1);
var n = {
styleObjects: t
};
return c(n), n;
}, t.mergeStyleObjects = c, t.prepareStyle = d;
var m = a.getBuildInfo().isFeatureSupported("EventsBitmask");
t.prepareSurfaceProps = function h(e) {
var t = {
props: {
styleObjects: []
},
skipFade: !1
};
d(e, t);
var n = e.props;
if (m) if (e.options.enableMouse) {
var r = 0;
n.onBounds && (r |= s.OnBoundsChanged), n.onClick && (r |= s.OnClick), n.onDoubleClick && (r |= s.OnDoubleClick), 
n.onMouseDown && (r |= s.OnMouseDown), n.onMouseUp && (r |= s.OnMouseUp), n.onMouseEnter && (r |= s.OnMouseEnter), 
n.onMouseLeave && (r |= s.OnMouseLeave), n.onMouseScroll && (r |= s.OnMouseScroll), 
r && (t.props.events = r);
} else n.onBounds && (t.props.events = s.OnBoundsChanged); else {
var o = e.props.onBounds ? [ "onBoundsChanged" ] : [];
if (e.options.enableMouse) for (var i = 0, a = u.length; i < a; ++i) {
var l = u[i];
e.props[l] && o.push(l);
}
o.length > 0 && (t.props.events = o);
}
return e.options.useNativeStyles || (c(t.props), e.options.useNativeTextureFadeIn || (delete t.props.textureFadeInTime, 
delete t.props.textureFadeInCutoff, delete t.props.textureFadeInEasing)), t;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(9);
t.ELLIPSIS_OFFSET = r.SpartaGlobals.bundleIsPC ? {
XXL: 46,
XL: 33,
L: 28,
M: 22,
S: 16,
XS: 13,
XXS: 13
} : {
XXL: 55,
XL: 42,
L: 33,
M: 27,
S: 22,
XS: 18,
XXS: 16
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t, n, r, o, i, a, s) {
this.offsetMs = e, this.id = t, this.property = n, this.from = r, this.to = o, this.duration = i, 
this.easing = a, this.children = s, this.kind = "chainedtween", this.at = 0;
}
return e.is = function(e) {
return "chainedtween" === e.kind;
}, e;
}();
t.ChainedTween = r;
var o = function() {
function e(e, t) {
this.duration = e, this.children = t, this.kind = "chainedsleep", this.offsetMs = 0, 
this.at = 0;
}
return e.is = function(e) {
return "chainedsleep" === e.kind;
}, e;
}();
t.ChainedSleep = o;
var i = function() {
function e(e, t) {
this.offsetMs = e, this.id = t, this.kind = "triggerevent", this.at = 0, this.duration = 1, 
this.children = [];
}
return e.is = function(e) {
return "triggerevent" === e.kind;
}, e;
}();
t.TriggerEvent = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.CSN = "CSN", e.CSW = "CSW", e.CMN = "CMN", e.CMW = "CMW", e.CLN = "CLN", e.CTS = "CTS", 
e.CTM = "CTM", e.CTL = "CTL", e.SS = "SS", e.SSW = "SSW", e.S = "S", e.SW = "SW", 
e.M = "M", e.MW = "MW", e.L = "L", e.LW = "LW";
}(t.CardSize || (t.CardSize = {})), function(e) {
e.S = "S", e.M = "M";
}(t.CardImageSize || (t.CardImageSize = {}));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(366);
t.sendSentryReport = function o(e) {
return r.generateEvent(e);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3), a = n(110), s = n(9), u = n(295), l = n(40);
!function(e) {
e.None = "none", e.Friends = "friends", e.Everyone = "everyone";
}(r = t.UGCAccessLevel || (t.UGCAccessLevel = {}));
var c = function() {
function e(e, t, n) {
var o = this;
this.frostbite = e, this.featureFlags = new Set(), this.nativeFlags = new Set(), 
this.liveConfig = {}, this.isVoipEnabled = !0, this.isTelemetryEnabled = !0, this.UGCAccessLevel = s.SpartaGlobals.bundleIsPC ? r.Everyone : null, 
this.serverTimestamp = 0, this.serverTimestampReceivedAt = Date.now(), a.featureFlags.settingsStore = this, 
i.reaction(function() {
return t.nativeClientReadyMessage;
}, function(e) {
var t = e && e.nativeClientInformation.enabledFeatureFlags;
t && o.setNativeFlags(t.slice());
}), i.reaction(function() {
return t.nativeClientSettingsMessage;
}, function(e) {
o.setTelemetryEnabled(e.isTelemetryEnabled);
}), i.reaction(function() {
return n.session;
}, function(e) {
null != e && o.setGatewaySettings(e.parameters);
});
}
return e.prototype.hasUGCAccess = function(e) {
switch (this.UGCAccessLevel) {
case r.None:
return !1;

case r.Everyone:
return !0;

case r.Friends:
return !!e && (!!e.id && e.isFriend);
}
return !1;
}, e.prototype.setNativeFlags = function(e) {
this.nativeFlags = new Set(e);
}, e.prototype.setGatewaySettings = function(e) {
e && (this.featureFlags = new Set(e.featureFlags || []), e.bbPrefix && (this.battlebinaryPrefix = function t(e) {
return "/" === e[e.length - 1] ? e.substr(0, e.length - 1) : e;
}(e.bbPrefix)), e.currentUtcTimestamp && this.setCurrentUtcTimestamp(e.currentUtcTimestamp), 
e.background && (this.background = e.background));
}, e.prototype.setCurrentUtcTimestamp = function(e) {
"" !== e && (this.serverTimestamp = parseInt(e, 10), this.serverTimestampReceivedAt = Date.now());
}, e.prototype.setLiveConfig = function(e) {
this.liveConfig = e;
}, e.prototype.setUGCAccessLevel = function(e) {
this.UGCAccessLevel = e;
}, e.prototype.setVoipEnabled = function(e) {
this.isVoipEnabled = e;
}, e.prototype.setTelemetryEnabled = function(e) {
this.isTelemetryEnabled = e;
}, e.prototype.isFeatureEnabled = function(e) {
return "debugscreen" === e && !l.getBuildInfo().isEndUserBuild() || this.featureFlags.has(e);
}, e.prototype.isNativeFeatureEnabled = function(e) {
return this.nativeFlags.has(e);
}, e.prototype.isLiveConfigEnabled = function(e, t) {
return !!this.liveConfig[e] && this.liveConfig[e].features.indexOf(t) > -1;
}, e.prototype.getServerAdjustedTimestamp = function() {
return this.serverTimestamp + Math.round((Date.now() - this.serverTimestampReceivedAt) / 1e3);
}, e.prototype.canShowInGameOverlay = function(e) {
s.SpartaGlobals.bundleIsConsole ? e(!0) : (u.frostbiteListenable(this.frostbite, "sparta.origin.isIgoAvailableResponse").listen(function(t) {
return e(t.available);
}, {
disposeWhenCalled: !0,
disposeTimeout: 5e3,
timeoutHandler: function() {
return e(!1);
}
}), this.frostbite.sendMessage("sparta.origin.isIgoAvailable"));
}, o.__decorate([ i.observable ], e.prototype, "battlebinaryPrefix", void 0), o.__decorate([ i.observable ], e.prototype, "featureFlags", void 0), 
o.__decorate([ i.observable ], e.prototype, "nativeFlags", void 0), o.__decorate([ i.observable ], e.prototype, "liveConfig", void 0), 
o.__decorate([ i.observable ], e.prototype, "background", void 0), o.__decorate([ i.observable ], e.prototype, "isVoipEnabled", void 0), 
o.__decorate([ i.observable ], e.prototype, "isTelemetryEnabled", void 0), o.__decorate([ i.observable ], e.prototype, "UGCAccessLevel", void 0), 
o.__decorate([ i.observable ], e.prototype, "serverTimestamp", void 0), o.__decorate([ i.observable ], e.prototype, "serverTimestampReceivedAt", void 0), 
o.__decorate([ i.action ], e.prototype, "setNativeFlags", null), o.__decorate([ i.action ], e.prototype, "setGatewaySettings", null), 
o.__decorate([ i.action ], e.prototype, "setCurrentUtcTimestamp", null), o.__decorate([ i.action ], e.prototype, "setLiveConfig", null), 
o.__decorate([ i.action ], e.prototype, "setUGCAccessLevel", null), o.__decorate([ i.action ], e.prototype, "setVoipEnabled", null), 
o.__decorate([ i.action ], e.prototype, "setTelemetryEnabled", null), e;
}();
t.SettingsStore = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(296), i = n(3), a = n(96), s = n(18), u = function() {
function e(e, t, n) {
this.location = e, this.lastFocusDebugName = t, this.lastScrollOffset = n;
}
return e.prototype.extend = function(t) {
return new e(this.location.extend({}, t), this.lastFocusDebugName, this.lastScrollOffset);
}, e.prototype.setScrollOffset = function(e, t) {
var n;
e && (this.lastScrollOffset ? this.lastScrollOffset[e] = t : this.lastScrollOffset = ((n = {})[e] = t, 
n));
}, e.prototype.getScrollOffset = function(e) {
if (this.lastScrollOffset) return this.lastScrollOffset[e];
}, e;
}();
t.HistoryEntry = u;
var l = function() {
function e(e, t) {
var n = this;
this.routeStore = e, this.focusSystem = t, this.history = [], this.historyIndex = -1, 
this.onBeforeLeaveHandlers = new o.ScopedRegistry("onBeforeLeave"), this.goBack = function() {
return n.navigate(-1);
}, s.updateLocation.listen(function(e) {
return n.setLocation(e, !0);
}), s.gotoLocation.listen(function(e) {
"string" == typeof e || e instanceof a.Location ? n.setLocation(e, !1) : n.setLocation(e.location, !1, e.cause);
}), t && t.customAutofocusScoringFunctions.push(function(e) {
var t = n.history[n.historyIndex];
return t && t.lastFocusDebugName === e.id ? 2e3 : 0;
});
}
return e.prototype.clearHistoryAndGoBackToStartRoute = function() {
this.history.length = 1, this.historyIndex = 0, this.locationOverride = void 0;
}, Object.defineProperty(e.prototype, "location", {
get: function() {
return this.locationOverride || (this.history.length > this.historyIndex && this.historyIndex > -1 ? this.history[this.historyIndex].location : new a.Location(""));
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canGoBack", {
get: function() {
return this.canNavigate(-1);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canGoForward", {
get: function() {
return this.canNavigate(1);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "previousLocation", {
get: function() {
var e = this.locationOverride ? this.historyIndex : this.historyIndex - 1;
return this.history.length > e && e > -1 ? this.history[e].location : new a.Location("");
},
enumerable: !0,
configurable: !0
}), e.prototype.onBeforeLeave = function(e) {
return this.onBeforeLeaveHandlers.add(e);
}, e.prototype.injectLocationCause = function(e) {
this.injectedLocationCause = e;
}, e.prototype.checkOnBeforeLeave = function(e) {
var t = this, n = this.history[this.historyIndex];
this.focusSystem && n && (n.lastFocusDebugName = this.focusSystem.focusedItem ? this.focusSystem.focusedItem.id : void 0);
var r = this.onBeforeLeaveHandlers.list().map(function(t) {
return t(n, e);
});
return Promise.all(r).then(function(e) {
var n = e.every(function(e) {
return e;
});
return n && e.length && t.onBeforeLeaveHandlers.disposeAll(), n;
}).catch(function(e) {
return console.error(e), !0;
});
}, e.prototype.setLocation = function(e, t, n) {
var r = this;
void 0 === t && (t = !1);
var o = e instanceof a.Location ? e : new a.Location(e);
return void 0 !== this.injectedLocationCause && (n = this.injectedLocationCause, 
this.injectedLocationCause = void 0), n && (o = new a.Location({
path: o.path,
args: o.args
}, n)), this.checkOnBeforeLeave().then(function(e) {
e && i.action("setLocation", function() {
r.isHistoryRoute(o) ? (r.locationOverride = void 0, r.historyIndex += t ? 0 : 1, 
r.history.splice(r.historyIndex, r.history.length - r.historyIndex, new u(o))) : r.locationOverride = o;
})();
});
}, e.prototype.goForward = function() {
return this.navigate(1);
}, e.prototype.returnFromLocation = function(e) {
var t = this.history.findIndex(function(t) {
return t.location.path === e;
});
t > 0 && (this.historyIndex = t - 1, this.history.splice(t, this.history.length - t));
}, e.prototype.resetToLocation = function(e) {
var t = this.history.findIndex(function(t) {
return t.location.path === e;
});
return t > 0 && (this.historyIndex = t, this.history.splice(this.historyIndex + 1, this.history.length), 
!0);
}, e.prototype.navigate = function(e) {
var t = this, n = this.locationOverride, r = this.historyIndex;
n ? n = void 0 : this.canNavigate(e) && (r += e);
var o = this.history[r].extend(e > 0 ? "historyNavigationForward" : "historyNavigationBack");
return this.checkOnBeforeLeave(e).then(function(e) {
e && i.action("navigate", function() {
t.locationOverride = n, t.historyIndex = r, t.history[t.historyIndex] = o;
})();
});
}, e.prototype.canNavigate = function(e) {
var t = this.historyIndex + e;
return t >= 0 && t < this.history.length;
}, e.prototype.isHistoryRoute = function(e) {
var t = this.routeStore.routes.map(function(e) {
return e.location;
}), n = a.Location.indexOfBestMatch(t, e, !0), r = this.routeStore.routes[n];
return r && !r.excludeFromHistory;
}, e.prototype.addScrollOffsetHook = function(e, t) {
this.onBeforeLeave(function(n, r) {
return n.setScrollOffset(e, t()), Promise.resolve(!0);
});
var n = this.history[this.historyIndex];
if (n) return n.getScrollOffset(e);
}, r.__decorate([ i.observable ], e.prototype, "history", void 0), r.__decorate([ i.observable ], e.prototype, "historyIndex", void 0), 
r.__decorate([ i.observable ], e.prototype, "locationOverride", void 0), r.__decorate([ i.action ], e.prototype, "clearHistoryAndGoBackToStartRoute", null), 
r.__decorate([ i.computed ], e.prototype, "location", null), r.__decorate([ i.computed ], e.prototype, "canGoBack", null), 
r.__decorate([ i.computed ], e.prototype, "canGoForward", null), r.__decorate([ i.computed ], e.prototype, "previousLocation", null), 
r.__decorate([ i.action ], e.prototype, "returnFromLocation", null), r.__decorate([ i.action ], e.prototype, "resetToLocation", null), 
e;
}();
t.LocationStore = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(96), a = n(97), s = function() {
function e(e, t, n) {
this._location = e, this._routes = t, this.settingsStore = n;
}
return Object.defineProperty(e.prototype, "config", {
get: function() {
var e = u(this._routes, this._location, !0);
return this._routes[e] || a.Route.Empty;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "breadcrumbs", {
get: function() {
return function e(t, n) {
void 0 === n && (n = []);
n = n || [];
n.splice(0, 0, t);
t.parent && e(t.parent, n);
return n;
}(this.config);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "location", {
get: function() {
return new i.Location({
path: this._location.path,
args: Object.assign({}, this.config.args, this._location.args)
}, this._location.cause);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "mainMenuConfigs", {
get: function() {
var e = c(p(this._routes), this.settingsStore);
return e.sort(l), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "mainMenuIndex", {
get: function() {
return u(this.mainMenuConfigs, this._location);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subMenuConfigs", {
get: function() {
var e = this.mainMenuConfigs[this.mainMenuIndex];
if (!e) return [];
var t = c(e.children, this.settingsStore);
return !e.getSubtitle || e.getSubtitle && "" === e.getSubtitle() ? t.sort(l) : [ e.asSubMenuRoute() ].concat(t).sort(l);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subMenuIndex", {
get: function() {
return u(this.subMenuConfigs, this._location);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "activeSubMenuConfig", {
get: function() {
return this.subMenuConfigs[this.subMenuIndex];
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.computed ], e.prototype, "config", null), r.__decorate([ o.computed ], e.prototype, "breadcrumbs", null), 
r.__decorate([ o.computed ], e.prototype, "location", null), r.__decorate([ o.computed ], e.prototype, "mainMenuConfigs", null), 
r.__decorate([ o.computed ], e.prototype, "mainMenuIndex", null), r.__decorate([ o.computed ], e.prototype, "subMenuConfigs", null), 
r.__decorate([ o.computed ], e.prototype, "subMenuIndex", null), r.__decorate([ o.computed ], e.prototype, "activeSubMenuConfig", null), 
e;
}();
function u(e, t, n) {
void 0 === n && (n = !1);
var r = e.map(function(e) {
return e.location;
});
return i.Location.indexOfBestMatch(r, t, n);
}
function l(e, t) {
var n = e.priority || 0, r = t.priority || 0;
return n === r ? e.getTitle().localeCompare(t.getTitle()) : n < r ? -1 : 1;
}
function c(e, t) {
return e.filter(function(e) {
return !(!e.visible || e.hideInMainMenu);
}).filter(function(e) {
return !e.featureFlag || e.featureFlag.isEnabled();
});
}
function p(e) {
return e.filter(function(e) {
return e.parent && !e.parent.parent;
});
}
t.LayoutState = s, t.indexOfBestMatch = u, t.compareMenuRoutes = l, t.filterVisibleRoutes = c, 
t.filterTopLevelRoutes = p;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(66), o = n(3), i = n(100), a = n(14), s = n(91), u = n(367), l = n(15), c = n(88), p = n(9), d = n(368), f = n(22), m = function() {
function t(e, t, n, o, s, c, d, m, y) {
var S = this;
this.inputRouter = e, this.layoutVisibilityStore = t, this.gameStateStoreLoader = n, 
this.partyStoreLoader = o, this.friendStore = s, this.presenceStateStore = c, this.installState = d, 
this.nativePropertiesStore = m, this.socialState = y, this.isHovered = !1, this.isForceExpanded = !1, 
this.isLegacyExpanded = !1, this.maxVisiblePartySlots = 5, this.defaultConfig = {
isModal: p.SpartaGlobals.bundleIsConsole,
showBackground: !1,
isEnabled: function() {
return !0;
}
}, this.expansionOpacityTween = l.Animation.tween("ComCenterState.expansionOpacityTween", 0, u.slideOptions), 
this.translateY = l.Animation.tween("ComCenterState.translateY", 0), this.focusAncestor = f.focusSystem.createAncestor(r.autoId("comCenter")), 
this.partyCategory = new g(this.partyStoreLoader), this.availableUserCategories = [ new h(this.friendStore, this.partyStoreLoader, function() {
return __("ID_SPARTA_LAYOUT_COMCENTER_PLAYING", !0);
}, [ i.UserPresenceStates.Joinable, i.UserPresenceStates.Playing ], function() {
return a.bbOfflineUrl("/sparta/jsclient/builds/assets/playing-minimized-741453a6.png");
}), new h(this.friendStore, this.partyStoreLoader, function() {
return __("ID_SPARTA_LAYOUT_COMCENTER_ONLINE", !0);
}, [ i.UserPresenceStates.Online, i.UserPresenceStates.Away ], function() {
return a.bbOfflineUrl("/sparta/jsclient/builds/assets/online-minimized-91629ff7.png");
}), new h(this.friendStore, this.partyStoreLoader, function() {
return __("ID_SPARTA_LAYOUT_COMCENTER_OFFLINE", !0);
}, [ i.UserPresenceStates.Offline ], function() {
return a.bbOfflineUrl("/sparta/jsclient/builds/assets/offline-minimized-49aaf16e.png");
}) ], m.onHostingGame(function() {
S.setupVisibilityReactions();
});
}
return Object.defineProperty(t.prototype, "isExpanded", {
get: function() {
return this.isLegacyExpanded || this.isForceExpanded;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isEnabled", {
get: function() {
return !this.partyStoreLoader.map(function(e) {
return e.isInSquadJoin;
}) && (!this.isComCenterHiddenInGameView && (!(this.hostingGame && !this.hostingGame.comCenterConfig.isEnabled()) && (this.presenceStateStore.isReady && !this.presenceStateStore.isTooYoung && this.presenceStateStore.isFirstPartyConnected && this.installState.isMpInstalled)));
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "showPartyInUserBar", {
get: function() {
return !this.partyStoreLoader.get().canSquadJoin;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isInGame", {
get: function() {
return this.isPlaying || this.isGameViewVisible;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "showUserBar", {
get: function() {
return this.isInGame || this.isModal;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hideWhenMinimized", {
get: function() {
return this.isInGame || this.isModal;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canOpen", {
get: function() {
return this.isEnabled && !this.isExpanded;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "shouldUseInput", {
get: function() {
return this.isExpanded && this.isEnabled && f.focusSystem.controllerMode;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "shouldUseGlobalActions", {
get: function() {
return f.focusSystem.controllerMode && "PC" !== this.inputRouter.currentInputType;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "friendCategories", {
get: function() {
var e = this;
return this.availableUserCategories.filter(function(t) {
return t.matches(e.friendStore.presenceStates);
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "sortedFriends", {
get: function() {
var e = [];
return this.friendCategories.forEach(function(t) {
e = e.concat(t.users);
}), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isEmpty", {
get: function() {
return (this.friendStore.totalFriends || 0) < 1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isGameViewVisible", {
get: function() {
return this.gameStateStoreLoader.get().isGameViewVisible;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isPlaying", {
get: function() {
return this.gameStateStoreLoader.get().isOnPlayableLevel;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isComCenterHiddenInGameView", {
get: function() {
return !!this.gameStateStoreLoader.gameStateStore && this.gameStateStoreLoader.get().isComCenterHiddenInGameView;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canShowProfile", {
get: function() {
return p.SpartaGlobals.bundleIsConsole;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "inviteToPartyText", {
get: function() {
return p.SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_PS4", !0) : __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_PARTY_XB1", !0);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hostingGame", {
get: function() {
return this.nativePropertiesStore.hostingGame;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "config", {
get: function() {
return this.hostingGame ? this.hostingGame.comCenterConfig : this.defaultConfig;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isModal", {
get: function() {
return this.config.isModal;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "showBackground", {
get: function() {
return this.config.showBackground;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hostingGameId", {
get: function() {
return this.hostingGame ? this.hostingGame.gameId : void 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "usePagination", {
get: function() {
return this.friendStore.pagination.totalPages > 1 && this.isExpanded && this.isEnabled;
},
enumerable: !0,
configurable: !0
}), t.prototype.setupVisibilityReactions = function() {
var e = this, t = o.action(function(t) {
return e.isLegacyExpanded = t;
}), n = c.debounce(t, 200);
o.reaction(function() {
return e.layoutVisibilityStore.comCenter;
}, function(r) {
!r && e.isHovered && e.setHovered(!1), f.focusSystem.controllerMode ? t(r) : n(r);
}), o.reaction(function() {
return e.isHovered;
}, function(t) {
e.layoutVisibilityStore.setVisibilities({
comCenter: t
});
}), o.reaction(function() {
return !e.isEnabled;
}, function(t) {
t && e.layoutVisibilityStore.setVisibilities({
comCenter: !1
});
}), o.reaction(function() {
return e.isExpanded;
}, function(t) {
return e.expansionOpacityTween.to(t ? 1 : 0);
}), o.reaction(function() {
return {
active: e.isEnabled && e.isExpanded,
children: e.focusAncestor.children
};
}, function(e) {
e.children.forEach(function(t) {
t.setActive("Com center focus activity automation", e.active);
});
}, {
fireImmediately: !0
}), f.focusSystem.onInvalidQuery.listen(function(t) {
return t.setAsVisible(e.focusAncestor.children);
});
}, t.prototype.setHovered = function(e) {
this.isHovered = e;
}, t.prototype.joinServer = function(e, t, n) {
void 0 === n && (n = s.JoinRole.soldier), this.socialState.joinServer(e, t, n);
}, t.prototype.inviteToServer = function(e) {
this.socialState.inviteToServer(e);
}, t.prototype.canJoinServer = function(e, t, n) {
return void 0 === n && (n = s.JoinRole.soldier), this.socialState.canJoinServer(e, t, n);
}, t.prototype.canInviteToServer = function(e) {
return this.socialState.canInviteToServer(e);
}, e.__decorate([ o.observable ], t.prototype, "isHovered", void 0), e.__decorate([ o.observable ], t.prototype, "isForceExpanded", void 0), 
e.__decorate([ o.observable ], t.prototype, "isLegacyExpanded", void 0), e.__decorate([ o.computed ], t.prototype, "isExpanded", null), 
e.__decorate([ o.computed ], t.prototype, "isEnabled", null), e.__decorate([ o.computed ], t.prototype, "showPartyInUserBar", null), 
e.__decorate([ o.computed ], t.prototype, "isInGame", null), e.__decorate([ o.computed ], t.prototype, "showUserBar", null), 
e.__decorate([ o.computed ], t.prototype, "hideWhenMinimized", null), e.__decorate([ o.computed ], t.prototype, "canOpen", null), 
e.__decorate([ o.computed ], t.prototype, "shouldUseInput", null), e.__decorate([ o.computed ], t.prototype, "shouldUseGlobalActions", null), 
e.__decorate([ o.computed ], t.prototype, "friendCategories", null), e.__decorate([ o.computed ], t.prototype, "sortedFriends", null), 
e.__decorate([ o.computed ], t.prototype, "isEmpty", null), e.__decorate([ o.computed ], t.prototype, "isGameViewVisible", null), 
e.__decorate([ o.computed ], t.prototype, "isPlaying", null), e.__decorate([ o.computed ], t.prototype, "isComCenterHiddenInGameView", null), 
e.__decorate([ o.computed ], t.prototype, "hostingGame", null), e.__decorate([ o.computed ], t.prototype, "config", null), 
e.__decorate([ o.computed ], t.prototype, "hostingGameId", null), e.__decorate([ o.computed ], t.prototype, "usePagination", null), 
e.__decorate([ o.action ], t.prototype, "setHovered", null), t;
}();
t.ComCenterState = m;
var h = function() {
function t(e, t, n, r, o) {
this.friendStore = e, this.partyStoreLoader = t, this.getName = n, this.presenceStates = r, 
this.getIcon = o;
}
return Object.defineProperty(t.prototype, "users", {
get: function() {
var e = this;
if (!this.friendStore) return [];
var t = this.partyStoreLoader.get();
return this.friendStore.pagination.friends.filter(function(n) {
var r = !!t.party && t.party.hasMember(n.spartaUserId);
return -1 !== e.presenceStates.indexOf(n.presence.state) && !r;
}).sort(d.compareUsers);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "name", {
get: function() {
return this.getName();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "icon", {
get: function() {
return this.getIcon();
},
enumerable: !0,
configurable: !0
}), t.prototype.matches = function(e) {
return void 0 !== this.presenceStates.find(function(t) {
return -1 !== e.indexOf(t);
});
}, e.__decorate([ o.computed ], t.prototype, "users", null), t;
}();
t.UserCategory = h;
var g = function(t) {
function n(e) {
return t.call(this, void 0, e, function() {
return "";
}, [], function() {
return "";
}) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "users", {
get: function() {
var e = this.partyStoreLoader.get().party;
return e ? e.members.sort(d.comparePartyMembers).map(function(e) {
return e.user;
}) : [];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "name", {
get: function() {
var e = __("ID_SPARTA_LAYOUT_COMCENTER_PARTY_PC", !0);
return p.SpartaGlobals.bundleIsPS4 ? e = __("ID_SPARTA_LAYOUT_COMCENTER_PARTY_PS4", !0) : p.SpartaGlobals.bundleIsXBOXONE && (e = __("ID_SPARTA_LAYOUT_COMCENTER_PARTY_XB1", !0)), 
this.partyStoreLoader.get().canSquadJoin ? __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD", !0) : e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "icon", {
get: function() {
return this.partyStoreLoader.get().canSquadJoin ? a.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-squadjoin-highres-82188e85.png") : a.bbOfflineUrl("/sparta/jsclient/builds/assets/party-minimized-3ce3d604.png");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "members", {
get: function() {
var e = this.partyStoreLoader.get().party;
return e ? e.members.sort(d.comparePartyMembers) : [];
},
enumerable: !0,
configurable: !0
}), e.__decorate([ o.computed ], n.prototype, "users", null), e.__decorate([ o.computed ], n.prototype, "members", null), 
n;
}(h);
t.PartyCategory = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3), a = n(515), s = n(100), u = n(287), l = function() {
return function e(t) {
this.spartaUserId = t, this.createdAt = new Date();
};
}();
t.PartyInvite = l, function(e) {
e.OPEN = "open", e.CLOSED = "closed", e.INVALID = "invalid";
}(r = t.PartyPrivacyState || (t.PartyPrivacyState = {}));
var c = function() {
function t(e, t, n) {
this.userStore = e, this.onlineState = t, this.voipState = n, this.expansionMask = 0, 
this.maxSize = 0, this.groupAttributes = i.observable.map(), this.memberInfos = i.observable.map(), 
this.invitations = i.observable.map(), this.invitationTimeouts = {};
}
return Object.defineProperty(t.prototype, "isValid", {
get: function() {
return !!this.blazeGroupId && "0" !== this.blazeGroupId && this.size > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "size", {
get: function() {
return this.members.length;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "openSlots", {
get: function() {
return Math.max(0, this.maxSize - this.size);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isFull", {
get: function() {
return this.size >= this.maxSize;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "memberSelf", {
get: function() {
var e = this.onlineState.sessionUser;
return e ? this.members.find(function(t) {
return t.user.spartaUserId.equals(e.spartaUserId);
}) : void 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "memberLeader", {
get: function() {
return this.members.find(function(e) {
return e.isLeader;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "leader", {
get: function() {
return this.memberLeader && this.memberLeader.user;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "members", {
get: function() {
var e = this, t = [];
return this.memberInfos.forEach(function(n, r) {
var o = e.userStore.getByPlatformId(r);
o && t.push(new a.PartyMember(o, n.joinState, n.isLeader, n.hasPremium, n.isInGame, n.attributes, n.originalPartyId, n.originalPartyIsLeader));
}), t;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "areAllMembersInFrontend", {
get: function() {
return this.members.filter(function(e) {
return e.clientState === a.MemberClientState.frontend;
}).length === this.size;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasFriends", {
get: function() {
return !!this.members.find(function(e) {
return e.user.isFriend;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasStrangers", {
get: function() {
return !this.hasFriends;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "pendingMembers", {
get: function() {
return this.members.filter(function(e) {
return e.isPending;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasPendingMembers", {
get: function() {
return this.pendingMembers.length > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "splittedMembers", {
get: function() {
var e = this, t = null, n = [];
return this.members.forEach(function(r) {
e.onlineState.sessionUser && r.user.spartaUserId.equals(e.onlineState.sessionUser.spartaUserId) ? t = r : n.push(r);
}), {
me: t,
others: n
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "playingMembers", {
get: function() {
return this.members.filter(function(e) {
return e.user.isPlaying;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "joinableMembers", {
get: function() {
return this.members.filter(function(e) {
return e.user.presence.state !== s.UserPresenceStates.Offline && e.user.isJoinable;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "inGameMembers", {
get: function() {
return this.members.filter(function(e) {
return e.isInGame;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "premiumMembers", {
get: function() {
return this.members.filter(function(e) {
return e.hasPremium;
}).map(function(e) {
return e.user;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "playAgainMembers", {
get: function() {
return this.members.filter(function(e) {
return e.playAgain;
});
},
enumerable: !0,
configurable: !0
}), t.prototype.setId = function(e) {
this.id = e;
}, t.prototype.setBlazeGameId = function(e) {
this.blazeGameId = e;
}, t.prototype.setBlazeGroupId = function(e) {
this.blazeGroupId = e;
}, t.prototype.setExpansionMask = function(e) {
this.expansionMask = e;
}, t.prototype.setGroupAttributes = function(e) {
var t = this;
e && ((e.length !== this.groupAttributes.size || e.some(function(e) {
return !t.groupAttributes.has(e.name);
})) && this.groupAttributes.clear(), e.forEach(function(e) {
return t.groupAttributes.set(e.name, e.value);
}));
}, t.prototype.setMaxSize = function(e) {
this.maxSize = e;
}, Object.defineProperty(t.prototype, "privacy", {
get: function() {
var t = this.groupAttributes.get("privacy");
switch (t) {
case "closed":
return r.CLOSED;

case "open":
return r.OPEN;

default:
return e.error("Invalid privacy found in Party...", t, this.groupAttributes), r.INVALID;
}
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasPrivacy", {
get: function() {
return !!this.groupAttributes.get("privacy");
},
enumerable: !0,
configurable: !0
}), t.prototype.isOpenToEveryone = function() {
return this.privacy === r.OPEN;
}, t.prototype.isOpenToFriendsOnly = function() {
return this.privacy === r.CLOSED;
}, t.prototype.isMemberPremium = function(e) {
return !!this.premiumMembers.find(function(t) {
return t.spartaUserId.equals(e);
});
}, t.prototype.getMember = function(e) {
return this.members.find(function(t) {
return t.user.spartaUserId.getPlatformId() === e.getPlatformId();
});
}, t.prototype.hasMember = function(e) {
return !!this.getMember(e);
}, t.prototype.hasInvitationForUser = function(e) {
return !!e && this.invitations.has(e);
}, t.prototype.expireInvitationForUser = function(e) {
this.invitations.delete(e), delete this.invitationTimeouts[e];
}, t.prototype.updateMembersInfo = function(e) {
var t = this, n = [];
this.memberInfos.forEach(function(t, r) {
e.get(r) || n.push(r);
}), n.forEach(function(e) {
return t.memberInfos.delete(e);
}), e.forEach(function(e, n) {
var r = t.memberInfos.get(n);
r ? (r.hasPremium = e.hasPremium, r.isLeader = e.isLeader, r.isInGame = e.isInGame, 
r.joinState = e.joinState, r.originalPartyIsLeader = e.originalPartyIsLeader, r.originalPartyId = "0" !== e.originalPartyId ? e.originalPartyId : r.originalPartyId, 
r.attributes && e.attributes && u.isEqual(r.attributes.slice(), e.attributes) || (r.attributes = e.attributes)) : t.memberInfos.set(n, e), 
t.expireInvitationForUser(n);
});
}, o.__decorate([ i.observable ], t.prototype, "id", void 0), o.__decorate([ i.observable ], t.prototype, "blazeGroupId", void 0), 
o.__decorate([ i.observable ], t.prototype, "blazeGameId", void 0), o.__decorate([ i.observable ], t.prototype, "expansionMask", void 0), 
o.__decorate([ i.observable ], t.prototype, "maxSize", void 0), o.__decorate([ i.computed ], t.prototype, "isValid", null), 
o.__decorate([ i.computed ], t.prototype, "size", null), o.__decorate([ i.computed ], t.prototype, "openSlots", null), 
o.__decorate([ i.computed ], t.prototype, "isFull", null), o.__decorate([ i.computed ], t.prototype, "memberSelf", null), 
o.__decorate([ i.computed ], t.prototype, "memberLeader", null), o.__decorate([ i.computed ], t.prototype, "leader", null), 
o.__decorate([ i.computed ], t.prototype, "members", null), o.__decorate([ i.computed ], t.prototype, "areAllMembersInFrontend", null), 
o.__decorate([ i.computed ], t.prototype, "hasFriends", null), o.__decorate([ i.computed ], t.prototype, "hasStrangers", null), 
o.__decorate([ i.computed ], t.prototype, "pendingMembers", null), o.__decorate([ i.computed ], t.prototype, "hasPendingMembers", null), 
o.__decorate([ i.computed ], t.prototype, "splittedMembers", null), o.__decorate([ i.computed ], t.prototype, "playingMembers", null), 
o.__decorate([ i.computed ], t.prototype, "joinableMembers", null), o.__decorate([ i.computed ], t.prototype, "inGameMembers", null), 
o.__decorate([ i.computed ], t.prototype, "premiumMembers", null), o.__decorate([ i.computed ], t.prototype, "playAgainMembers", null), 
o.__decorate([ i.action ], t.prototype, "setId", null), o.__decorate([ i.action ], t.prototype, "setBlazeGameId", null), 
o.__decorate([ i.action ], t.prototype, "setBlazeGroupId", null), o.__decorate([ i.action ], t.prototype, "setExpansionMask", null), 
o.__decorate([ i.action ], t.prototype, "setGroupAttributes", null), o.__decorate([ i.action ], t.prototype, "setMaxSize", null), 
o.__decorate([ i.action ], t.prototype, "expireInvitationForUser", null), o.__decorate([ i.action ], t.prototype, "updateMembersInfo", null), 
t;
}();
t.Party = c;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
var r, o;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.reserved = 1] = "reserved", e[e.connected = 2] = "connected";
}(r = t.PartyJoinState || (t.PartyJoinState = {})), function(e) {
e.unknown = "Unknown", e.frontend = "InMenu", e.loading = "Loading", e.playing = "Playing";
}(o = t.MemberClientState || (t.MemberClientState = {}));
var i = function() {
function e(e, t, n, o, i, a, s, u) {
void 0 === t && (t = r.connected), void 0 === n && (n = !1), void 0 === o && (o = !1), 
void 0 === i && (i = !1), void 0 === a && (a = []), this.user = e, this.joinState = t, 
this.isLeader = n, this.hasPremium = o, this._isInGame = i, this.attributes = a, 
this._originalPartyId = s, this._originalPartyIsLeader = u;
}
return Object.defineProperty(e.prototype, "isPending", {
get: function() {
return this.joinState === r.reserved;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isInGame", {
get: function() {
var e = this.attributes.find(function(e) {
return "InGame" === e.name;
});
return this._isInGame || !!e && "true" === e.value;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "originalPartyId", {
get: function() {
return "0" === this._originalPartyId ? void 0 : this._originalPartyId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "originalPartyIsLeader", {
get: function() {
return !0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "clientState", {
get: function() {
var e = this.attributes.find(function(e) {
return "UserState" === e.name;
});
if (e) switch (e.value) {
case o.frontend:
return o.frontend;

case o.loading:
return o.loading;

case o.playing:
return o.playing;

default:
return o.unknown;
}
return o.unknown;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "playAgain", {
get: function() {
var e = this.getAttribute("PlayAgain");
return !(!e || "true" !== e.value);
},
enumerable: !0,
configurable: !0
}), e.prototype.getAttribute = function(e) {
return this.attributes.find(function(t) {
return t.name === e;
});
}, e;
}();
t.PartyMember = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(9);
function o(e) {
return 0 !== e.indexOf("http") ? "file://" + e : e;
}
t.formatAvatarUrl = function i(e) {
if (e && "/origin/avatar/" !== e) return r.SpartaGlobals.bundleIsXBOXONE ? function t(e) {
var t = e, n = "";
if (-1 !== e.indexOf("?")) {
var r = e.split("?"), i = r[1].split("&") || [];
t = r[0];
var a = {};
i.forEach(function(e) {
if (-1 !== e.indexOf("=")) {
var t = e.split("=");
a[t[0]] = t[1];
}
}), a.format = "jpg", a.w = "208", a.h = "208";
var s = [];
Object.keys(a).forEach(function(e) {
var t = a[e];
s.push(e + "=" + t);
}), n = "?" + s.sort().join("&");
}
return o(t + n);
}(e) : o(e);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t, n, r) {
this.personaId = e, this.sessionId = t, this.envId = n, this.parameters = r;
}
return e.fromProps = function(t) {
return new e(t.personaId, t.sessionId, t.envId, t.parameters);
}, e.prototype.toProps = function() {
return {
personaId: this.personaId,
sessionId: this.sessionId,
envId: this.envId,
parameters: this.parameters
};
}, e;
}();
t.GatewaySession = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.fetchFriends = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(173), a = n(9), s = n(3);
!function(e) {
e[e.none = 0] = "none", e[e.disconnected = 1] = "disconnected", e[e.connecting = 2] = "connecting", 
e[e.ready = 3] = "ready";
}(r = t.PresenceState || (t.PresenceState = {}));
var u = function() {
function e(e) {
this.originAccountFlow = e, this.state = r.disconnected, this.mode = i.PresenceModeType.offline, 
this.hasInternet = !1, this.resultType = i.ConnectionResultType.none, this.customMessage = "", 
this.isFirstPartyConnected = !1, this.isQoSReady = !1, this.lastUpdated = new Date().getTime(), 
this.hasInfo = !1;
}
return Object.defineProperty(e.prototype, "shouldDisplayPresenceErrors", {
get: function() {
return this.mode !== i.PresenceModeType.silentOnline;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isUnknown", {
get: function() {
return this.state === r.none;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isDisconnected", {
get: function() {
return this.state === r.disconnected;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isTooYoung", {
get: function() {
return this.resultType === i.ConnectionResultType.tooYoung || this.resultType === i.ConnectionResultType.tooYoungForContent;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isReady", {
get: function() {
return this.state === r.ready;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isConnecting", {
get: function() {
return this.state === r.connecting;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isMissingMPPrivileges", {
get: function() {
return this.resultType === i.ConnectionResultType.noMultiplayerPrivilege;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "mustPurchasePSPlus", {
get: function() {
return this.isMissingMPPrivileges && a.SpartaGlobals.bundleIsPS4;
},
enumerable: !0,
configurable: !0
}), e.prototype.updatePresence = function(e) {
switch (this.eventType = e.eventType, this.lastUpdated = new Date().getTime(), this.originAccountFlow.onPresenceUpdate(e), 
e.eventType) {
case i.ConnectionEventType.modeChanged:
this.mode = e.mode, this.mode === i.PresenceModeType.offline && (this.state = r.disconnected);
break;

case i.ConnectionEventType.connectionMessage:
this.customMessage = e.customMessage;
break;

case i.ConnectionEventType.connecting:
this.state = r.connecting;
break;

case i.ConnectionEventType.firstPartyConnected:
this.isFirstPartyConnected = !0, this.hasInternet = !0;
break;

case i.ConnectionEventType.firstPartyDisconnected:
a.SpartaGlobals.bundleIsConsole && (this.hasInternet = !1, this.state = r.disconnected), 
this.isFirstPartyConnected = !1;
break;

case i.ConnectionEventType.connectionReady:
this.isFirstPartyConnected = !0, this.hasInternet = !0, this.state = r.ready, this.mode = i.PresenceModeType.online, 
this.resultType = e.resultType;
break;

case i.ConnectionEventType.onlineFlowDone:
this.isFirstPartyConnected = !0, this.hasInternet = !0, this.state = r.ready, this.mode = i.PresenceModeType.online;
break;

case i.ConnectionEventType.qualityOfServiceDone:
this.isQoSReady = !0, this.resultType = e.resultType;
break;

case i.ConnectionEventType.backendDisconnected:
case i.ConnectionEventType.connectFailed:
case i.ConnectionEventType.loginAccountFailed:
case i.ConnectionEventType.disconnected:
this.state = r.disconnected, this.isQoSReady = null !== e.isQoSReady && e.isQoSReady, 
this.resultType = this.getDisconnectionResultType(e);
}
this.hasInfo = !0;
}, e.prototype.getDisconnectionResultType = function(e) {
return e.resultType !== i.ConnectionResultType.success && e.resultType !== i.ConnectionResultType.none ? e.resultType : this.hasInternet ? i.ConnectionResultType.connectionFailed : i.ConnectionResultType.failure;
}, o.__decorate([ s.observable ], e.prototype, "state", void 0), o.__decorate([ s.observable ], e.prototype, "mode", void 0), 
o.__decorate([ s.observable ], e.prototype, "hasInternet", void 0), o.__decorate([ s.observable ], e.prototype, "resultType", void 0), 
o.__decorate([ s.observable ], e.prototype, "customMessage", void 0), o.__decorate([ s.observable ], e.prototype, "isFirstPartyConnected", void 0), 
o.__decorate([ s.observable ], e.prototype, "isQoSReady", void 0), o.__decorate([ s.observable ], e.prototype, "eventType", void 0), 
o.__decorate([ s.observable ], e.prototype, "lastUpdated", void 0), o.__decorate([ s.observable ], e.prototype, "hasInfo", void 0), 
o.__decorate([ s.action.bound ], e.prototype, "updatePresence", null), e;
}();
t.PresenceStateStore = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
var t = this;
if (this.list = o.observable.array([]), this.disposers = [], this.isDisposed = !1, 
this.dispose = o.action(function() {
t.disposers.forEach(function(e) {
return e();
}), t.isDisposed = !0;
}), e) {
var n = e.listen(function(e) {
t.write(e);
});
this.disposers.push(n);
}
}
return e.prototype.write = function(e) {
this.isDisposed || this.list.push(e);
}, e.prototype.read = function(e) {
var t = this, n = this.list.observe(function(n) {
"splice" === n.type && n.addedCount > 0 && (n.added.forEach(function(t) {
e(t);
}), t.list.replace([]));
}, !0);
return this.disposers.push(n), n;
}, e.prototype.clear = function() {
this.list.replace([]);
}, r.__decorate([ o.observable ], e.prototype, "isDisposed", void 0), r.__decorate([ o.action ], e.prototype, "write", null), 
e;
}();
t.SimpleBuffer = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(35), a = function() {
function e(e, t, n) {
this.id = e, this.ttl = -1, this.failstateTtl = 1e4, this.expires = 0, this.created = 0, 
this.lastAccessed = Date.now(), this.isLoading = !1, this.isReady = !1, n && (void 0 !== n.ttl && (this.ttl = n.ttl), 
void 0 !== n.failstateTtl && (this.failstateTtl = n.failstateTtl), this.valueMapper = n.valueMapper), 
void 0 !== t && this.setValue(t);
}
return Object.defineProperty(e.prototype, "value", {
get: function() {
return this.valueMapper ? this.valueMapper(this.innerValue) : this.innerValue;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "needsFetch", {
get: function() {
return !this.isLoading && (!this.isReady || this.hasExpired);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasExpired", {
get: function() {
return !!this.expires && this.expires < Date.now();
},
enumerable: !0,
configurable: !0
}), e.prototype.updateLastAccessed = function() {
this.lastAccessed = Date.now();
}, e.prototype.expire = function() {
return this.expires = Date.now() - 1;
}, e.prototype.setValue = function(e) {
this.created = Date.now(), this.isLoading = !1, this.isReady = !0, this.innerValue = e, 
this.failstate = void 0, this.setExpiration(this.ttl);
}, e.prototype.setFailstate = function(e) {
this.created = Date.now(), this.isLoading = !1, this.isReady = !0, this.failstate = e, 
this.setExpiration(this.failstateTtl);
}, e.prototype.setLoading = function() {
this.isLoading = !0;
}, e.prototype.setExpiration = function(e) {
this.expires = e >= 0 ? e + Date.now() : 0;
}, e.prototype.useClientResult = function(e, t) {
var n = this;
this.isLoading = !0, o.when(function() {
return e.isComplete;
}, function() {
e.status === i.RequestState.SUCCESS ? n.setValue(t(e.response)) : e.status === i.RequestState.ERROR ? n.setFailstate(e.error) : n.setFailstate(new Error(i.RequestState[e.status]));
});
}, e.prototype.reset = function() {
this.isReady = !1, this.isLoading = !1, this.innerValue = void 0, this.failstate = void 0, 
this.expires = 0, this.created = 0, this.lastAccessed = Date.now();
}, r.__decorate([ o.observable ], e.prototype, "isLoading", void 0), r.__decorate([ o.observable.ref ], e.prototype, "innerValue", void 0), 
r.__decorate([ o.observable ], e.prototype, "isReady", void 0), r.__decorate([ o.observable ], e.prototype, "failstate", void 0), 
r.__decorate([ o.action ], e.prototype, "setValue", null), r.__decorate([ o.action ], e.prototype, "setFailstate", null), 
r.__decorate([ o.action ], e.prototype, "setLoading", null), r.__decorate([ o.action ], e.prototype, "useClientResult", null), 
r.__decorate([ o.action ], e.prototype, "reset", null), e;
}();
t.Fragment = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110), o = n(9);
t.gameFeatureFlags = r.featureFlags.register({
spectator: new r.FeatureFlag({}),
fullCrossLaunch: new r.FeatureFlag({
name: "fullCrosslaunch" + o.SpartaGlobals.bundlePlatform.replace("XBOXONE", "XB1")
}),
fullCrossLaunchPS4: new r.GameFeatureFlag({
name: "crosslaunch_PS4"
})
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
t = t || {}, this.current = t.current || 0, this.total = t.total || 0, this.percentage = this.total ? this.current / this.total : 0;
};
}();
t.Progress = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3), a = n(120), s = n(298), u = function(e, t) {
return function(n) {
var r = n.session, o = n.currentStateId, i = n.previousStateId, a = n.joinError;
r.gameId === e && t({
session: r,
currentStateId: o,
previousStateId: i,
joinError: a
});
};
}, l = function() {
function e(e) {
this.gameStore = e, this.currentActiveSession = i.observable.box(void 0), this.mmInputs = i.observable.map([], {
deep: !1
});
}
return e.prototype.start = function(e, t, n) {
void 0 === n && (n = a.MatchmakingSessionType.mp);
var r = this.gameStore.getGame(e);
if (!r) throw new Error("Cannot find game with id: " + e);
return r.matchmakingConfig.matchmakingSessionFactory.create(this, e, t, n);
}, Object.defineProperty(e.prototype, "isInProgress", {
get: function() {
return !!this.currentActiveSession.get();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "sessionInProgress", {
get: function() {
return this.currentActiveSession.get();
},
enumerable: !0,
configurable: !0
}), e.prototype.setSessionInProgress = function(e) {
var n = this;
e ? this.currentActiveSession.get() !== e && (this.currentActiveSession.set(e), 
t.globalStateChangeEvent.trigger(r.STARTING, function() {
return {
session: e,
currentStateId: e.stateId
};
}), e.onFinished(function() {
n.currentActiveSession.get() === e && n.setSessionInProgress();
})) : this.currentActiveSession.set(void 0);
}, e.prototype.withSessionInProgress = function(e) {
this.sessionInProgress && e(this.sessionInProgress);
}, e.prototype.onStart = function(e) {
return this.listen(r.STARTING, e);
}, e.prototype.onFinished = function(e) {
var t = this, n = a.MATCHMAKING_FINISHED_STATES.map(function(n) {
return t.listen(n, e);
});
return function() {
return n.forEach(function(e) {
return e();
});
};
}, e.prototype.onRaisedJoinError = function(e) {
return this.listen(r.RAISED_JOIN_ERROR, e);
}, e.prototype.raiseJoinError = function(e, n) {
t.globalStateChangeEvent.trigger(r.RAISED_JOIN_ERROR, function() {
return {
session: e,
currentStateId: e.stateId,
joinError: n
};
});
}, e.prototype.listen = function(e, n) {
return t.globalStateChangeEvent.listen(e, n);
}, e.prototype.forGame = function(e) {
var t = this;
return {
withSessionInProgress: function(n) {
return t.withSessionInProgress(function(e, t) {
return function(n) {
n.gameId === e && t(n);
};
}(e, n));
},
onStart: function(n) {
return t.onStart(u(e, n));
},
onFinished: function(n) {
return t.onFinished(u(e, n));
},
onRaisedJoinError: function(n) {
return t.onRaisedJoinError(u(e, n));
},
listen: function(n, r) {
return t.listen(n, u(e, r));
}
};
}, e.prototype.registerInput = function(e, t) {
this.mmInputs.has(e) || this.mmInputs.set(e, t);
}, e.prototype.unregisterInput = function(e) {
this.mmInputs.delete(e);
}, o.__decorate([ i.computed ], e.prototype, "isInProgress", null), o.__decorate([ i.computed ], e.prototype, "sessionInProgress", null), 
o.__decorate([ i.action ], e.prototype, "setSessionInProgress", null), o.__decorate([ i.action ], e.prototype, "registerInput", null), 
o.__decorate([ i.action ], e.prototype, "unregisterInput", null), e;
}();
t.MatchmakingManager = l, function(e) {
e.STARTING = "GLOBAL.STARTING", e.RAISED_JOIN_ERROR = "GLOBAL.RAISED_JOIN_ERROR";
}(r || (r = {})), t.globalStateChangeEvent = new s.ScopedEventGenerator("MatchmakingManager.onStateChangeEvent");
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(296), i = n(175), a = n(526), s = n(520), u = e.get("GamePushNotifications"), l = function() {
function e(e, t) {
var n = this;
this.coreEventStore = e, this.gatewayState = t, this.listeners = new o.ScopedRegistry("GamePushNotifications");
var a = i.frostbiteListenable("sparta.pushNotification");
r.when(function() {
return !!n.coreEventStore.nativeClientReadyMessage;
}, function() {
var e = n.coreEventStore.nativeClientReadyMessage;
e && ("OnlineEnvironment_Test" === e.nativeClientInformation.env.onlineEnvironment ? a.listen(function(e) {
return n.filteredPushNotificationListener(e);
}) : a.listen(function(e) {
return n.pushNotificationListener(e);
}));
});
}
return e.prototype.notifyListeners = function(e, t) {
a.Metrics.inc("push." + e);
var n = this.listeners.list(e);
0 === n.length ? u.warn("No listeners registered for topic: " + e) : u.log("Notifying " + n.length + " listeners about topic: " + e), 
n.forEach(function(e) {
e(t);
});
}, e.prototype.filteredPushNotificationListener = function(e) {
var t = JSON.parse(e.body);
t.environmentId && this.gatewayState.environmentId && t.environmentId !== this.gatewayState.environmentId ? u.info("Ignored message from other gateway:", t.environmentId, "expected:", this.gatewayState.environmentId) : this.notifyListeners(e.topic, t);
}, e.prototype.pushNotificationListener = function(e) {
var t = JSON.parse(e.body);
this.notifyListeners(e.topic, t);
}, e.prototype.listen = function(e, t) {
return this.listeners.add(t, e);
}, e.prototype.getListenable = function(e) {
var t = this;
return {
listen: function(n) {
return t.listen(e, n);
}
};
}, e.prototype.buffer = function(e) {
return new s.SimpleBuffer(this.getListenable(e));
}, e;
}();
t.GamePushNotifications = l;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = {}, o = function() {
function e() {}
return e.inc = function(e, t) {
void 0 === t && (t = 1), r[e] || (r[e] = 0), r[e] += t;
}, e.reset = function() {
r = {};
}, e.get = function() {
return r;
}, e;
}();
t.Metrics = o;
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(176), i = n(30), a = n(3), s = n(297), u = [ "osls", "vvsa", "vffi", "vaba", "vkca", "v3ca", "v3sp", "vrhe", "vmsp", "vhud", "vmin", "vnta" ], l = [ "vtkk", "vnit", "vtkc", "vvsd", "vgmc", "vbdm", "vprt", "vshe" ], c = {
vnit: "seconds",
vvsd: "percent",
vgmc: "percent",
vbdm: "percent",
vprt: "percent",
vshe: "percent"
};
function p(e, t) {
void 0 === t && (t = !0);
var n = new o.BoolFilterOptionsCategory(e.gameModes.filter(function(e) {
return void 0 === e.type || e.type === s.GameModeType.mp;
}).map(function(e) {
var t = e.filterKey, n = e.name, r = e.prettyName, i = e.description, a = e.imageUrl, s = e.images, u = e.objectives, l = e.expansions;
return {
type: o.FilterOptionType.Bool,
filterKey: t,
name: n,
prettyName: r,
description: i,
imageUrl: a,
images: s,
objectives: u,
expansions: l
};
}));
return n.options.sort(function(e, t) {
return (e.prettyName || "").localeCompare(t.prettyName || "");
}), n;
}
function d(e) {
var t = {};
if (t.maps = new o.BoolFilterOptionsCategory(e.maps.filter(function(e) {
return "mp" === e.levelType.toLowerCase();
}).map(function(e) {
var t = e.filterKey, n = e.name, r = e.prettyName, i = e.assetName, a = e.imageUrl, s = e.images, u = e.expansions;
return {
type: o.FilterOptionType.Bool,
filterKey: t,
name: n,
prettyName: r,
assetName: i,
imageUrl: a,
images: s,
expansions: u
};
})), t.gameModes = p(e), !e.settings) return t;
if (e.settings.all) {
var n = f(e.settings.all.filter(function(e) {
return u.indexOf(e.filterKey) > -1;
}));
n.concat(function r() {
var e = __("ID_SPARTA_FILTER_PASSWORD_NAME");
return [ {
name: e,
type: o.FilterOptionType.Bool,
filterKey: "passwordProtected",
prettyName: e.toUpperCase(),
description: __("ID_SPARTA_FILTER_PASSWORD_DESCRIPTION")
} ];
}()), t.advanced = new o.BoolFilterOptionsCategory(n), t.rules = new o.IntFilterOptionsCategory(function i(e) {
void 0 === e && (e = []);
var t = [];
return e.forEach(function(e) {
var n = e.type, r = e.filterKey, i = e.name, a = e.prettyName, s = e.description, u = e.defaultValue, l = e.minValue, c = e.maxValue;
n === o.FilterOptionType.Int && t.push({
type: n,
filterKey: r,
name: i,
prettyName: a,
description: s,
defaultValue: u,
minValue: l,
maxValue: c
});
}), t;
}(e.settings.all.filter(function(e) {
return l.indexOf(e.filterKey) > -1;
}).map(function(e) {
return Object.assign({}, e, {
format: c[e.filterKey]
});
})));
} else t.kits = new o.BoolFilterOptionsCategory(f(e.settings.Kits)), t.misc = new o.BoolFilterOptionsCategory(f(e.settings.Misc)), 
t.scales = new o.ScalesFilterOptionsCategory(function a(e) {
void 0 === e && (e = []);
var t = [];
return e.forEach(function(e) {
var n = e.type, r = e.filterKey, i = e.name, a = e.prettyName, s = e.description, u = e.options, l = e.defaultOption;
n === o.FilterOptionType.Scale && t.push({
type: n,
filterKey: r,
name: i,
prettyName: a,
description: s,
options: u,
defaultOption: l
});
}), t;
}(e.settings.Scales)), t.vehicles = new o.BoolFilterOptionsCategory(f(e.settings.Vehicles)), 
t.weaponClasses = new o.BoolFilterOptionsCategory(f(e.settings.Weapons));
return t.gameSizes = new o.BoolFilterOptionsCategory(f(e.attributes.gameSizes)), 
t.presets = new o.BoolFilterOptionsCategory(f(e.attributes.presets)), t.regions = new o.BoolFilterOptionsCategory(f(e.attributes.regions)), 
t.serverType = new o.BoolFilterOptionsCategory(f(e.attributes.serverType)), t.tickRates = new o.BoolFilterOptionsCategory(f(e.attributes.tickRates)), 
t;
}
function f(e) {
void 0 === e && (e = []);
var t = [];
return e.forEach(function(e) {
var n = e.type, r = e.filterKey, i = e.name, a = e.prettyName, s = e.description, u = e.defaultValue;
n === o.FilterOptionType.Bool && t.push({
type: n,
filterKey: r,
name: i,
prettyName: a,
description: s,
defaultValue: u
});
}), t;
}
t.createGameModesFilterOptions = p, t.createFilterOptions = d, t.createBoolFilterOptionsFromSettings = f;
var m = function(t) {
function n(e, n) {
var r = t.call(this) || this;
return r.gameStore = e, r.gameDataStore = n, r;
}
return r.__extends(n, t), n.prototype.fetch = function(t, n) {
var r = this.gameDataStore.get(n.gameId), o = this.gameStore.getGame(n.gameId), i = o && o.createFilterOptionsFromGameData ? o.createFilterOptionsFromGameData : d;
a.when(function() {
return !!r.value;
}, function() {
r.value ? t.setValue(i(r.value)) : (e.error("Can't fetch game data to create filter options"), 
t.setFailstate(r.failstate));
});
}, n.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
gameId: e
});
}, n;
}(i.FragmentStore);
t.GameDataServerFilterOptionsStore = m;
}).call(this, n(2), n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.logToVoid = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
return [ e, t ];
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = [ "<p>", "</p>", "<b>", "</b>", "<ul>", "</ul>", "<li>", "</li>", "<i>", "</i>", "<br>", "&nbsp;", "<p .+>", "<a[^>]*>", "</a>", "<div>", "</div>" ];
t.stripHTML = function o(e) {
if (!e) return "";
for (var t = e, n = 0; n < r.length; n++) {
var o = r[n];
t = t.replace(new RegExp(o, "g"), "");
}
return t.replace(/\n\s*\n\s*\n/g, "\n\n");
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3);
function i(e, t) {
return !e == !t && (!(!e || !t) && e.toLowerCase() === t.toLowerCase());
}
function a(e) {
return e ? e.toLowerCase() : "";
}
t.equalTitles = i, t.serializeTitle = a;
var s = function() {
function e() {
this.overrides = o.observable.map();
}
return Object.defineProperty(e.prototype, "pageTitle", {
get: function() {
var e = this.overrides.get(a(this.title)) || this.title;
return e && this.subtitle && (e = e + ": " + this.subtitle), e;
},
enumerable: !0,
configurable: !0
}), e.prototype.setLocationSubtitle = function(e, t) {
this.title || (this.title = e), this.title && !i(e, this.title) || (this.subtitle = t);
}, e.prototype.setLocationTitle = function(e, t) {
this.overrides.set(a(e), t);
}, e.prototype.setBreadcrumbs = function(e) {
var t = e.filter(function(e) {
return void 0 !== e.getTitle;
}), n = t[t.length - 1], r = n.getTitle();
r && this.title && i(r, this.title) || this.clearOverrides(), this.title = r, this.titleComponent = n.titleComponent;
}, e.prototype.clearOverrides = function() {
var e = a(this.title);
this.subtitle = null, e && this.overrides.has(e) && this.overrides.delete(e);
}, r.__decorate([ o.observable ], e.prototype, "subtitle", void 0), r.__decorate([ o.observable ], e.prototype, "title", void 0), 
r.__decorate([ o.observable ], e.prototype, "titleComponent", void 0), r.__decorate([ o.computed ], e.prototype, "pageTitle", null), 
r.__decorate([ o.action ], e.prototype, "setLocationSubtitle", null), r.__decorate([ o.action ], e.prototype, "setLocationTitle", null), 
r.__decorate([ o.action ], e.prototype, "setBreadcrumbs", null), r.__decorate([ o.action ], e.prototype, "clearOverrides", null), 
e;
}();
t.TitleState = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("LegalStyle"), a = function() {
function e() {}
var t;
return t = e, e.containerWidth = o.value(function() {
return o.Grid.getWidth(18);
}, "70c78d32:16:28"), e.textStyle = i.wrap(function() {
return o.style({
textLineSpacing: o.Constants.LINE_HEIGHTS.S
}, "70c78d32:18:23");
}), e.textStyleRtl = i.wrap(function() {
return o.style({
textAlignForRTL: "left",
textLineSpacing: 1.15 * o.Constants.LINE_HEIGHTS.S,
marginRight: o.Grid.GUTTER
}, "70c78d32:22:26");
}), e.button = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(6),
marginRight: o.Grid.GUTTER
}, "70c78d32:28:20");
}), e.container = i.wrap(function() {
return o.style({
backgroundColor: "#FF000000",
marginTop: -o.Grid.getHeight(6),
width: t.containerWidth,
justifyContent: "center",
alignItems: "flex-start",
height: o.LayoutBounds.safeZone.height - o.LayoutBounds.footer.height
}, "70c78d32:33:23");
}), e.buttonContainer = i.wrap(function() {
return o.style({
justifyContent: "flex-start",
flexDirection: "row",
width: o.Grid.getWidth(18),
alignSelf: "center",
marginTop: o.Grid.getHeight(4)
}, "70c78d32:42:29");
}), e.buttonContainerRTL = i.wrap(function() {
return o.style({
justifyContent: "flex-end",
flexDirection: "row",
width: o.Grid.getWidth(18),
alignSelf: "center",
marginTop: o.Grid.getHeight(4)
}, "70c78d32:50:32");
}), e.title = i.wrap(function() {
return o.style({
marginBottom: o.Grid.getHeight(5),
textAlignForRTL: "left"
}, "70c78d32:58:19");
}), e.acceptMessage = i.wrap(function() {
return o.style({
width: t.containerWidth,
marginTop: o.Grid.getHeight(4),
color: "#FF9900",
textAlignForRTL: "left",
textLineSpacing: 30,
marginRight: o.Grid.GUTTER
}, "70c78d32:63:27");
}), e.errorMessage = i.wrap(function() {
return o.style({
width: t.containerWidth,
marginTop: o.Grid.GUTTER,
textAlignForRTL: "left"
}, "70c78d32:71:26");
}), e.content = i.wrap(function() {
return o.style({
textAlign: "left",
width: t.containerWidth,
color: "#c2c2c2"
}, "70c78d32:77:21");
}), e.optOutBox = o.multistyle2(function(e, t) {
return o.style({
zOffset: 1,
backgroundColor: e ? "#ffffff" : t ? "#ffffff50" : "#00000080",
flexDirection: "row",
justifyContent: "space-between",
height: o.Grid.getHeight(5),
alignItems: "center",
paddingLeft: o.Grid.spacer(1),
marginTop: -o.Grid.getHeight(2),
marginBottom: o.Grid.getHeight(4),
marginRight: o.Grid.getWidth(4)
}, "70c78d32:83:79");
}), e.optOutLabel = o.multistyle(function(e) {
return o.style({
color: e ? "#000000" : "#ffffff",
zOffset: 4
}, "70c78d32:98:60");
}), e.optOutStatus = o.multistyle2(function(e, t) {
return o.style({
position: "absolute",
top: 0,
left: 0,
bottom: 0,
translateX: {
to: e ? o.Grid.getWidth(2) : 0,
duration: 150
},
width: o.Grid.getWidth(2),
backgroundColor: t ? "#ffffff80" : "#ffffff",
zOffset: 4,
alignItems: "center",
flexDirection: "row"
}, "70c78d32:105:80");
}), e.optOutText = o.multistyle2(function(e, t) {
return o.style({
opacity: t ? .66 : 1,
color: e ? "#000000" : "#ffffff",
zOffset: 5,
width: o.Grid.getWidth(2),
textAlign: "center",
textAlignForRTL: "center"
}, "70c78d32:120:79");
}), e.optOutToggle = i.wrap(function() {
return o.style({
zOffset: 3,
backgroundColor: "#00000020",
height: o.Grid.getHeight(5),
left: o.Grid.getWidth(4),
padding: 0,
alignItems: "center",
flexDirection: "row"
}, "70c78d32:131:26");
}), e.spinner = i.wrap(function() {
return o.style({
marginTop: o.Grid.getHeight(5),
alignSelf: "center"
}, "70c78d32:141:21");
}), e = t = r.__decorate([ i.style ], e);
}();
t.LegalStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(77), a = n(4), s = n(3), u = n(221), l = function() {
function e(e) {
this.debugName = e, this.elements = s.observable.map([], {
deep: !1
}), this.references = new Map();
}
return e.prototype.render = function() {
var e = this;
return o.createElement(a.Observer, null, function() {
return s.values(e.elements);
});
}, e.prototype.addElement = function(e, t) {
var n = this;
return this.references.set(e, (this.references.get(e) || 0) + 1), this.elements.has(e) || this.elements.set(e, t), 
function() {
return n.removeElement(e);
};
}, e.prototype.removeElement = function(e) {
var t = this.references.get(e);
"number" == typeof t && (1 === t ? (this.references.delete(e), this.elements.delete(e)) : this.references.set(e, t - 1));
}, e.prototype.removeAll = function(e) {
this.references.delete(e), this.elements.delete(e);
}, e.prototype.hasElement = function(e) {
return this.elements.get(e);
}, e.prototype.addComponentElement = function(e, t, n) {
i.addLifecycleHook(t, "componentWillUnmount", this.addElement(e, n));
}, r.__decorate([ s.action ], e.prototype, "addElement", null), r.__decorate([ s.action ], e.prototype, "removeElement", null), 
r.__decorate([ s.action ], e.prototype, "removeAll", null), e;
}();
t.ExtraElements = l;
var c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.stateCounter = 0, t.isActive = !1, t.isRemovable = !1, t.isOrphan = !1, 
t.handleStateChange = function(e) {
switch (e) {
case u.EnterLeaveStates.ENTERING:
var n = ++t.stateCounter;
t.isRemovable = !1, t.componentWillEnter(function() {
return t.didEnter(n);
});
break;

case u.EnterLeaveStates.LEAVING:
var r = ++t.stateCounter;
t.componentWillLeave(function() {
return t.didLeave(r);
});
break;

case u.EnterLeaveStates.ACTIVE:
break;

case u.EnterLeaveStates.IDLE:
t.stateChangeDisposer(), t.isOrphan = !0, t.destroy();
}
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.props.itemState.currentState === u.EnterLeaveStates.ACTIVE && this.componentWillEnter(function() {
return e.didEnter(e.stateCounter);
}), this.stateChangeDisposer = s.reaction(function() {
return e.props.itemState.currentState;
}, this.handleStateChange, {
fireImmediately: !0
}), i.addLifecycleHook(this.props.parent, "componentWillUnmount", function() {
e.stateChangeDisposer(), e.isOrphan = !0, e.destroy();
var t = e.props.itemState.currentState;
t !== u.EnterLeaveStates.ENTERING && t !== u.EnterLeaveStates.ACTIVE || (e.stateCounter++, 
e.componentWillLeave(function() {
return e.didLeave(e.stateCounter);
}));
});
}, t.prototype.didEnter = function(e) {
this.stateCounter === e && this.componentDidEnter();
}, t.prototype.didLeave = function(e) {
this.stateCounter === e && (this.isRemovable = !0, this.destroy());
}, t.prototype.destroy = function() {
this.isOrphan && this.isRemovable && this.props.extraElements.removeElement(this.props.id);
}, t.prototype.componentWillEnter = function(e) {
e();
}, t.prototype.componentDidEnter = function() {}, t.prototype.componentWillLeave = function(e) {
e();
}, t;
}(o.Component);
t.TransitionComponent = c;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
}), t.getOnboardingMessages = function e(t) {
return n[t.toLowerCase()] || [];
};
var n = {
home: [ {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME").toUpperCase();
},
delay: 8e3
}, {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_PERSONALIZING").toUpperCase();
},
delay: 4e3
} ],
crosslaunch_mp: [ {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME").toUpperCase();
},
delay: 6e3
}, {
text: function() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_MULTIPLAYER_SERVER");
},
delay: 6e3
} ],
crosslaunch_mp_friend: [ {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME").toUpperCase();
},
delay: 6e3
}, {
text: function() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_MULTIPLAYER_FRIEND");
},
delay: 6e3
} ],
crosslaunch_sp: [ {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_WELCOME").toUpperCase();
},
delay: 6e3
}, {
text: function() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_CAMPAIGN");
},
delay: 6e3
} ]
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(400), s = n(15), u = n(5), l = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.rotator = o.createRef(), n.setBounds = function(e) {
n.setState({
bounds: e,
isBoundsCollected: !0
});
}, n.state = {
isBoundsCollected: !1
}, n;
}
return r.__extends(t, e), t.prototype.componentWillUpdate = function(e) {
var t = this;
(e.messages.length !== this.props.messages.length || e.messages.some(function(e) {
return -1 === t.props.messages.indexOf(e);
})) && this.setState({
isBoundsCollected: !1
});
}, t.prototype.next = function() {
this.rotator.current && this.rotator.current.next();
}, t.prototype.render = function() {
var e = this;
if (!this.state.isBoundsCollected) {
var t = this.props.messages.map(function(t, n) {
return o.createElement(p, {
key: n,
textSize: e.props.textSize,
message: t
});
});
return o.createElement(f, {
elements: t,
onBoundsCollected: this.setBounds
});
}
return this.state.bounds ? o.createElement(c, r.__assign({}, this.props, {
bounds: this.state.bounds,
ref: this.rotator
})) : null;
}, t;
}(o.Component);
t.TextRotator = l;
var c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.state = {
index: 0
}, t.opacityTween = s.Animation.tween("5a507f46:99:36", 0), t.onTransitionFinished = function() {
t.props.onMessageEnd && t.props.onMessageEnd(t.state.index);
var e = t.props.messages.length - 1;
t.state.index === e && t.props.onEnd && (setTimeout(t.props.onEnd, t.getCurrentDelay()), 
!t.props.loop) || t.next();
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.opacityTween.to(1), this.props.messages.length && (this.props.onMessageStart && this.props.onMessageStart(this.state.index), 
this.props.onMessageEnd && this.props.onMessageEnd(this.state.index)), !1 !== this.props.autoStart && (this.props.messages.length ? this.next() : this.props.onEnd && this.props.onEnd());
}, t.prototype.componentWillUnmount = function() {
this.opacityTween.destroy(), clearTimeout(this.nextTimeoutId);
}, t.prototype.getCurrentDelay = function() {
var e = this.props.messages[this.state.index].delay;
return void 0 === e ? this.props.defaultDelay || 1e3 : e;
}, t.prototype.next = function() {
var e = this;
clearTimeout(this.nextTimeoutId), this.nextTimeoutId = setTimeout(function() {
var t = (e.state.index + 1) % e.props.messages.length;
e.setState({
index: t
}, function() {
e.props.onMessageStart && e.props.onMessageStart(t);
});
}, this.getCurrentDelay());
}, t.prototype.render = function() {
var e = this.props.style || u.emptyStyle, t = u.merge2(e, this.opacityTween.getStyleClass("opacity")), n = this.props.messages[this.state.index], i = this.props.bounds[this.state.index], l = r.__assign({
duration: 500
}, this.props.tweenOptions), c = {
flex: 1,
width: s.Animation.tweenTo(i ? i.width : 0, l)
};
return o.createElement("surface", {
style: t
}, o.createElement(a.Slider, {
transitionId: "slide" + this.state.index,
options: l,
onTransitionFinished: this.onTransitionFinished
}, o.createElement("surface", {
style: c
}, o.createElement(p, {
textSize: this.props.textSize,
message: n
}))));
}, t;
}(o.Component), p = function(e) {
var t = e.message, n = e.color, r = e.textSize, a = u.DynamicStyle.create({
whiteSpace: "nowrap",
color: n,
textAlign: "center"
}, "5a507f46:221:22");
return o.createElement(i.Text, {
value: t.text(),
size: r,
style: a
});
}, d = u.StaticStyle.create({
flex: 1,
opacity: 0
}, "5a507f46:271:32"), f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.layers = [], t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.timeoutId = setTimeout(function() {
if (e.props.onBoundsCollected) {
var t = e.layers.map(function(e) {
return e.getBounds();
});
e.props.onBoundsCollected(t);
}
}, 1e3);
}, t.prototype.componentWillUnmount = function() {
clearTimeout(this.timeoutId);
}, t.prototype.callbackRef = function(e, t) {
this.layers[e] = t;
}, t.prototype.render = function() {
var e = this, t = this.props.elements.map(function(t, n) {
return o.createElement("surface", {
key: n,
ref: e.callbackRef.bind(e, n)
}, t);
});
return o.createElement("surface", {
style: d
}, t);
}, t;
}(o.Component);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(223), a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.tweens, n = r.__rest(e, [ "tweens" ]), a = [], s = [];
return t.forEach(function(e) {
a.push({
propertyName: e.propertyName,
fromValue: e.outValue,
toValue: e.inValue,
options: e.inOptions
}), s.push({
propertyName: e.propertyName,
fromValue: e.inValue,
toValue: e.outValue,
options: e.outOptions
});
}), o.createElement(i.FlexibleTweener, r.__assign({}, n, {
inTweens: a,
outTweens: s
}), this.props.children);
}, t;
}(o.Component);
t.SimpleTweener = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(401), s = n(403), u = n(14), l = n(7), c = n(1011), p = n(5), d = [ u.bbOfflineUrl("/sparta/assets/ui/particles/red-dash-76860a51.png"), u.bbOfflineUrl("/sparta/jsclient/builds/assets/PRT_Start_Blur-fb108348.jpg"), u.bbOfflineUrl("/sparta/jsclient/builds/assets/PRT_Start_Glow-f47cfeb1.jpg") ], f = p.StaticStyle.create({
position: "absolute",
top: -100,
left: 100,
zOffset: 26
}, "ddb39584:65:29"), m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = l.SpartaContext.getFromComponent(t), t.emitters = {
first: new a.Emitter(),
second: new a.Emitter(),
third: new a.Emitter()
}, t;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
var e = this;
Object.keys(this.emitters).forEach(function(t) {
var n = e.emitters[t];
n.config.fromJson(c), n.config.setTextureList(d);
});
}, t.prototype.componentWillUnmount = function() {
var e = this;
this.secondEmitterTimeout && clearTimeout(this.secondEmitterTimeout), this.thirdEmitterTimeout && clearTimeout(this.thirdEmitterTimeout), 
Object.keys(this.emitters).forEach(function(t) {
e.emitters[t].stop();
});
}, t.prototype.startParticles = function() {
var e = this;
this.emitters.first.start();
var t = this.emitters.first.config.lifetimeMs.value / 3;
this.secondEmitterTimeout = setTimeout(function() {
return e.emitters.second.start();
}, t), this.thirdEmitterTimeout = setTimeout(function() {
return e.emitters.third.start();
}, 2 * t);
}, t.prototype.initialize = function() {
BUNDLE.features.hasStartScreenParticleEffects && this.startParticles();
}, t.prototype.render = function() {
return o.createElement("surface", {
style: f
}, o.createElement(s.Renderer, {
emitter: this.emitters.first
}), o.createElement(s.Renderer, {
emitter: this.emitters.second
}), o.createElement(s.Renderer, {
emitter: this.emitters.third
}));
}, t.contextTypes = l.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.StartScreenParticles = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(116), o = function() {
return function e(t, n, o, i, a, s, u) {
var l = this;
this.lifespan = t, this.x = n, this.y = o, this.opacity = i, this.scale = a, this.rotate = s, 
this.color = u, this.death = new r.TwinkleSignal(), setTimeout(function() {
return l.death.trigger();
}, this.lifespan);
};
}();
t.Particle = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(402), a = n(27), s = function() {
return function e(t, n, r, o, i, s, u) {
void 0 === t && (t = 0), void 0 === n && (n = 0), void 0 === r && (r = a.Easing.Linear), 
void 0 === o && (o = .2), void 0 === i && (i = .2), void 0 === s && (s = .8), void 0 === u && (u = .8), 
this.from = t, this.to = n, this.easing = r, this.p1x = o, this.p1y = i, this.p2x = s, 
this.p2y = u;
};
}();
t.TweenConfig = s;
var u = function() {
function e(e, t, n) {
this.easing = a.Easing.Linear, this.p1x = new i.JitterValue(.2, 0, null), this.p1y = new i.JitterValue(.2, 0, null), 
this.p2x = new i.JitterValue(.8, 0, null), this.p2y = new i.JitterValue(.8, 0, null), 
this.from = e, this.to = t, this.easing = n;
}
return e.prototype.generateConfig = function() {
var e = this.from.generateValue(), t = this.to.generateValue();
return this.from.absolute && !this.to.absolute ? t += e : !this.from.absolute && this.to.absolute && (e += t), 
new s(e, t, this.easing, this.p1x.generateValue(), this.p1y.generateValue(), this.p2x.generateValue(), this.p2y.generateValue());
}, e.prototype.toJson = function() {
return {
from: this.from.toJson(),
to: this.to.toJson(),
easing: this.easing,
p1x: this.p1x.toJson(),
p1y: this.p1y.toJson(),
p2x: this.p2x.toJson(),
p2y: this.p2y.toJson()
};
}, e.prototype.fromJson = function(e) {
this.from.fromJson(e.from), this.to.fromJson(e.to), this.easing = e.easing, this.p1x.fromJson(e.p1x), 
this.p1y.fromJson(e.p1y), this.p2x.fromJson(e.p2x), this.p2y.fromJson(e.p2y);
}, r.__decorate([ o.observable ], e.prototype, "from", void 0), r.__decorate([ o.observable ], e.prototype, "to", void 0), 
r.__decorate([ o.observable ], e.prototype, "easing", void 0), r.__decorate([ o.observable ], e.prototype, "p1x", void 0), 
r.__decorate([ o.observable ], e.prototype, "p1y", void 0), r.__decorate([ o.observable ], e.prototype, "p2x", void 0), 
r.__decorate([ o.observable ], e.prototype, "p2y", void 0), e;
}();
t.JitterTweenConfig = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(7), a = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = i.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.sparta.loadingUi.show(this.props.debugName, !0);
}, t.prototype.componentWillUnmount = function() {
this.sparta.loadingUi.show(this.props.debugName, !1);
}, t.prototype.render = function() {
return null;
}, t.contextTypes = i.SpartaContext.contextTypes, t;
}(o.Component);
t.ShowNativeLoadingUi = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3);
function o(e, t) {
var n = e.getSurfaceBoundsSync(t);
return n && "number" == typeof n.x ? n : null;
}
t.rawGetBoundsSync = o;
var i = function() {
function e(e, t) {
this.nativeApi = e, e.onSurfaceBoundsChanged = r.action("onSurfaceBoundsChanged", function(e) {
e.forEach(function(e) {
var n = t.getSurfaceById(e.surfaceId), r = n && n.props.onBounds;
r && r(e);
});
});
}
return e.prototype.getBoundsSync = function(e) {
return o(this.nativeApi, e);
}, e;
}();
t.BoundsHandler = i;
}, function(e, t, n) {
"use strict";
e.exports = n(1029);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(27), a = o.Template("BaseBoxStyles"), s = function() {
function e() {}
var t;
return t = e, e.color = o.value(function() {
return "#ffffff";
}, "d9eb67d6:9:19"), e.secondaryColor = o.value(function() {
return "#ffffff80";
}, "d9eb67d6:10:28"), e.backgroundColor = o.value(function() {
return "#00000080";
}, "d9eb67d6:11:29"), e.labelOverlayColor = o.value(function() {
return "#00000033";
}, "d9eb67d6:12:31"), e.iconOpacity = o.value(function() {
return 1;
}, "d9eb67d6:13:25"), e.overlayOpacity = o.value(function() {
return 1;
}, "d9eb67d6:14:28"), e.bottomBarColor = o.value(function() {
return "#00000080";
}, "d9eb67d6:15:28"), e.pressedColor = o.value(function() {
return "#333333e6";
}, "d9eb67d6:18:26"), e.pressedSecondaryColor = o.value(function() {
return "#33333380";
}, "d9eb67d6:19:35"), e.pressedBackgroundColor = o.value(function() {
return "#00000000";
}, "d9eb67d6:20:36"), e.pressedOverlayColor = o.value(function() {
return "#999999b3";
}, "d9eb67d6:21:33"), e.pressedImageOverlayColor = o.value(function() {
return "#ffffff33";
}, "d9eb67d6:22:38"), e.pressedLabelOverlayColor = o.value(function() {
return "#ffffffcc";
}, "d9eb67d6:23:38"), e.pressedIconOpacity = o.value(function() {
return .6;
}, "d9eb67d6:24:32"), e.pressedOverlayOpacity = o.value(function() {
return .8;
}, "d9eb67d6:25:35"), e.hoveredColor = o.value(function() {
return "#ffffff";
}, "d9eb67d6:28:26"), e.hoveredSecondaryColor = o.value(function() {
return "#ffffff80";
}, "d9eb67d6:29:35"), e.hoveredBackgroundColor = o.value(function() {
return "#00000080";
}, "d9eb67d6:30:36"), e.hoveredOverlayColor = o.value(function() {
return "#e6e6e633";
}, "d9eb67d6:31:33"), e.hoveredBottomBarColor = o.value(function() {
return "#ffffffff";
}, "d9eb67d6:32:35"), e.selectedColor = o.value(function() {
return "#000000";
}, "d9eb67d6:35:27"), e.selectedSecondaryColor = o.value(function() {
return "#00000080";
}, "d9eb67d6:36:36"), e.selectedBackgroundColor = o.value(function() {
return "#00000000";
}, "d9eb67d6:37:37"), e.selectedOverlayColor = o.value(function() {
return "#ccccccff";
}, "d9eb67d6:38:34"), e.selectedLabelOverlayColor = o.value(function() {
return "#ffffffff";
}, "d9eb67d6:39:39"), e.disabledColor = o.value(function() {
return "#ffffff4d";
}, "d9eb67d6:42:27"), e.disabledSecondaryColor = o.value(function() {
return "#ffffff33";
}, "d9eb67d6:43:36"), e.disabledBackgroundColor = o.value(function() {
return "#33333366";
}, "d9eb67d6:44:37"), e.disabledOverlayColor = o.value(function() {
return "#00000000";
}, "d9eb67d6:45:34"), e.disabledLabelOverlayColor = o.value(function() {
return "#00000000";
}, "d9eb67d6:46:39"), e.disabledIconOpacity = o.value(function() {
return .3;
}, "d9eb67d6:47:33"), e.disabledSelectedIconOpacity = o.value(function() {
return .5;
}, "d9eb67d6:50:41"), e.disabledSelectedColor = o.value(function() {
return t.selectedColor;
}, "d9eb67d6:51:35"), e.disabledSelectedSecondaryColor = o.value(function() {
return t.selectedSecondaryColor;
}, "d9eb67d6:52:44"), e.disabledSelectedBackgroundColor = o.value(function() {
return t.selectedBackgroundColor;
}, "d9eb67d6:53:45"), e.disabledSelectedOverlayColor = o.value(function() {
return t.selectedOverlayColor;
}, "d9eb67d6:54:42"), e.disabledSelectedLabelOverlayColor = o.value(function() {
return t.selectedLabelOverlayColor;
}, "d9eb67d6:55:47"), e.disabledHoveredColor = o.value(function() {
return "#ffffff80";
}, "d9eb67d6:58:34"), e.disabledHoveredSecondaryColor = o.value(function() {
return "#ffffff66";
}, "d9eb67d6:59:43"), e.disabledHoveredBackgroundColor = o.value(function() {
return "#e6e6e61a";
}, "d9eb67d6:60:44"), e.disabledHoveredOverlayColor = o.value(function() {
return "#00000000";
}, "d9eb67d6:61:41"), e.transparent = o.value(function() {
return "#00000000";
}, "d9eb67d6:63:25"), e.tweenOptions = o.value(function() {
return {
duration: 150,
easing: i.Easing.QuadraticInOut
};
}, "d9eb67d6:65:26"), e.blurBackground = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0
}, "d9eb67d6:70:39");
}), e.content = o.wrap(function() {
return o.style({
backgroundColor: t.backgroundColor,
zOffset: 1
}, "d9eb67d6:81:32");
}), e.blurContent = o.wrap(function() {
return o.style({
flex: 1,
backgroundColor: t.backgroundColor,
zOffset: 1
}, "d9eb67d6:89:36");
}), e = t = r.__decorate([ a.style ], e);
}();
t.BaseBoxStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(17), a = o.Template("Card2Styles"), s = function() {
function e() {}
return e.width = o.value(function() {
return {
CSN: 6,
CSW: 8,
CMN: 8,
CMW: 16,
CLN: 6,
CTS: 6,
CTM: 6,
CTL: 12,
SS: 4,
SSW: 6,
S: 5,
SW: 10,
M: 5,
MW: 9,
L: 6,
LW: 12
};
}, "f20bb156:20:19"), e.height = o.value(function() {
return {
CSN: 35,
CSW: 35,
CMN: 45,
CMW: 45,
CLN: 70,
CTS: 35,
CTM: 70,
CTL: 70,
SS: 35,
SSW: 35,
S: 45,
SW: 45,
M: 53,
MW: 53,
L: 72,
LW: 72
};
}, "f20bb156:39:20"), e.imageSizes = o.value(function() {
return {
CSN: 19,
CSW: 19,
CMN: 26,
CMW: 26,
CLN: 26,
CTL: 32,
CTM: 32,
CTS: 32,
SS: 18,
SSW: 18,
S: 26,
SW: 26,
M: 32,
MW: 32,
L: 43,
LW: 43
};
}, "f20bb156:58:24"), e.contentHeight = o.value(function() {
return {
CSN: 16,
CSW: 16,
CMN: 19,
CMW: 19,
CLN: 24,
CTL: 32,
CTM: 32,
CTS: 32,
SS: 15,
SSW: 15,
S: 19,
SW: 19,
M: 21,
MW: 21,
L: 27,
LW: 27
};
}, "f20bb156:77:27"), e.overlayHeight = o.value(function() {
return {
CSN: 16,
CSW: 16,
CMN: 19,
CMW: 19,
CLN: 24,
CTL: 18,
CTM: 18,
CTS: 18,
SS: 15,
SSW: 15,
S: 13,
SW: 13,
M: 18,
MW: 18,
L: 27,
LW: 27
};
}, "f20bb156:96:27"), e = r.__decorate([ a.style ], e);
}();
t.CardSizeStyles = s;
var u = function() {
function e() {}
return e.image = o.value(function() {
return 1;
}, "f20bb156:118:19"), e.video = o.value(function() {
return 2;
}, "f20bb156:119:19"), e.overlay = o.value(function() {
return 3;
}, "f20bb156:120:21"), e.content = o.value(function() {
return 4;
}, "f20bb156:121:21"), e.text = o.value(function() {
return 5;
}, "f20bb156:122:18"), e.bottomBar = o.value(function() {
return 6;
}, "f20bb156:123:23"), e.contextMenuButton = o.value(function() {
return 100;
}, "f20bb156:124:31"), e = r.__decorate([ a.style ], e);
}();
t.Card2OffsetStyles = u;
var l = function() {
function e() {}
var t;
return t = e, e.gradientTexture = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/card_gradient_blue_2-f270d01e-e1faea6d.png");
}, "f20bb156:129:29"), e.container = o.multistyle(function(e) {
return o.style({
height: o.Grid.getHeight(s.height[e]),
width: o.Grid.getWidth(s.width[e]),
marginRight: o.Grid.spacer()
}, "f20bb156:131:77");
}), e.contentContainer = a.wrap(function() {
return o.style({
flex: 1,
flexDirection: "column",
justifyContent: "flex-end"
}, "f20bb156:139:30");
}), e.imageContainer = o.multistyle(function(e) {
return o.style({
width: o.Grid.getWidth(s.width[e]),
height: o.Grid.getHeight(s.imageSizes[e]),
flex: 1
}, "f20bb156:145:82");
}), e.dockCenter = a.wrap(function() {
return o.style({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
justifyContent: "center",
alignItems: "center"
}, "f20bb156:153:24");
}), e.icon = o.stylefunc(function() {
return o.style({
width: o.Grid.getHeight(12),
flex: 1,
textureMode: "contain",
zOffset: u.text
}, "f20bb156:164:14");
}, function(e) {
return o.dynamicStyle({
width: e.width || o.Grid.getHeight(12),
texture: e.texture
}, "f20bb156:171:54");
}), e.iconHeight = a.wrap(function() {
return o.style({
height: o.Grid.getHeight(12)
}, "f20bb156:178:24");
}), e.iconLabel = a.wrap(function() {
return o.style({
flex: .3,
zOffset: u.text,
textLetterSpacing: 3
}, "f20bb156:182:23");
}), e.iconWithTextWrapper = a.wrap(function() {
return o.style({
flexDirection: "column",
alignItems: "center",
justifyContent: "space-between",
flex: 1,
zOffset: u.text
}, "f20bb156:188:33");
}), e.image = o.stylefunc(function() {
return o.style({
flex: 1,
textureMode: "cover",
zOffset: u.image
}, "f20bb156:197:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "f20bb156:203:38");
}), e.fullImage = o.stylefunc(function() {
return o.style({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
zOffset: u.image,
textureMode: "cover"
}, "f20bb156:210:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "f20bb156:220:38");
}), e.fullVideo = o.stylefunc(function() {
return o.style({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
textureMode: "cover",
zOffset: u.video
}, "f20bb156:227:14");
}, function(e) {
return o.dynamicStyle({
video: e.video
}, "f20bb156:237:37");
}), e.disabledBackgroundPlate = a.wrap(function() {
return o.merge(i.CommonStyles.dock, o.style({
backgroundColor: "#000000"
}, "f20bb156:244:27"));
}), e.imageOverlay = a.wrap(function() {
return o.merge(i.CommonStyles.dock, o.style({
zOffset: u.overlay
}, "f20bb156:251:27"));
}), e.hoverOverlay = a.wrap(function() {
return o.merge(i.CommonStyles.blendModeAdditive, o.style({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
backgroundColor: "#00000000",
layer: !0,
layerGrabBackground: !0
}, "f20bb156:258:40"));
}), e.backgroundOverlay = a.wrap(function() {
return o.merge(i.CommonStyles.dock, o.style({
texture: t.gradientTexture,
textureMode: "fill",
zOffset: u.overlay
}, "f20bb156:272:27"));
}), e.bottomBar = a.wrap(function() {
return o.style({
position: "absolute",
bottom: -o.Grid.spacer(1),
left: 0,
right: 0,
height: o.Grid.spacer(1),
zOffset: u.bottomBar
}, "f20bb156:280:23");
}), e.captionContent = o.multistyle(function(e) {
return o.style({
zOffset: u.content,
height: o.Grid.getHeight(s.contentHeight[e]),
alignItems: "center"
}, "f20bb156:289:82");
}), e.centerContent = a.wrap(function() {
return o.merge(i.CommonStyles.dock, o.style({
flex: 1,
justifyContent: "center",
alignItems: "center"
}, "f20bb156:298:27"));
}), e.overlayContent = o.multistyle(function(e) {
return o.style({
zOffset: u.content,
height: o.Grid.getHeight(s.overlayHeight[e]),
alignItems: "center",
justifyContent: "center"
}, "f20bb156:306:82");
}), e.textWrapper = a.wrap(function() {
return o.merge(t.dockCenter, o.style({
zOffset: u.text
}, "f20bb156:315:55"));
}), e.text = a.wrap(function() {
return o.style({
zOffset: u.text,
marginLeft: o.Grid.spacer(2),
marginRight: o.Grid.spacer(2),
textAlign: "center",
textAlignForRTL: "center",
alignSelf: "stretch"
}, "f20bb156:317:18");
}), e.disabled = a.wrap(function() {
return o.style({
opacity: .5
}, "f20bb156:326:22");
}), e.title = a.wrap(function() {
return o.merge(t.text, o.style({
textLetterSpacing: 6
}, "f20bb156:329:26"));
}), e.subtitle = a.wrap(function() {
return o.merge(t.text, o.style({
marginBottom: o.Grid.spacer(2),
textLetterSpacing: 3
}, "f20bb156:336:26"));
}), e.footnote = a.wrap(function() {
return o.merge(t.text, o.style({
marginTop: o.Grid.spacer(2),
textLetterSpacing: 3
}, "f20bb156:344:26"));
}), e.narrowFootnote = a.wrap(function() {
return o.style({
marginLeft: o.Grid.spacer(6),
marginRight: o.Grid.spacer(6)
}, "f20bb156:351:28");
}), e.marqueeText = a.wrap(function() {
return o.style({
textAlign: "left",
textAlignForRTL: "right",
alignSelf: "center",
whiteSpace: "nowrap",
marginLeft: 0,
marginRight: 0
}, "f20bb156:356:25");
}), e.marquee = a.wrap(function() {
return o.style({
alignSelf: "stretch",
justifyContent: "center",
marginLeft: o.Grid.spacer(2),
marginRight: o.Grid.spacer(2)
}, "f20bb156:365:21");
}), e.marqueeOverflow = o.multistyle(function(e) {
return o.style({
justifyContent: e ? "flex-end" : "flex-start"
}, "f20bb156:372:60");
}), e.contextMenuButton = a.wrap(function() {
return o.style({
backgroundColor: "#00000001",
position: "absolute",
bottom: 0,
right: 0,
height: o.Grid.spacer(6),
width: o.Grid.spacer(7),
padding: o.Grid.spacer(2.5),
zOffset: u.contextMenuButton
}, "f20bb156:378:31");
}), e.contextMenuButtonIcon = a.wrap(function() {
return o.style({
flex: 1,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/dots-white-03a7610a.png"),
textureMode: "contain",
enableMouseEvents: !1
}, "f20bb156:389:35");
}), e.titleSize = o.value(function() {
return {
CSN: o.Constants.TextSize.M,
CSW: o.Constants.TextSize.M,
CMN: o.Constants.TextSize.M,
CLN: o.Constants.TextSize.M,
CTS: o.Constants.TextSize.M,
CTM: o.Constants.TextSize.M,
CTL: o.Constants.TextSize.M,
SS: o.Constants.TextSize.M,
SSW: o.Constants.TextSize.M,
S: o.Constants.TextSize.M,
M: o.Constants.TextSize.M,
MW: o.Constants.TextSize.M,
L: o.Constants.TextSize.M,
SW: o.Constants.TextSize.L,
CMW: o.Constants.TextSize.L,
LW: o.Constants.TextSize.L
};
}, "f20bb156:396:23"), e.subtitleSize = o.value(function() {
return {
CSN: o.Constants.TextSize.S,
CSW: o.Constants.TextSize.S,
CMN: o.Constants.TextSize.S,
CLN: o.Constants.TextSize.S,
CTS: o.Constants.TextSize.S,
CTM: o.Constants.TextSize.S,
CTL: o.Constants.TextSize.S,
SS: o.Constants.TextSize.S,
SSW: o.Constants.TextSize.S,
S: o.Constants.TextSize.S,
M: o.Constants.TextSize.S,
MW: o.Constants.TextSize.S,
L: o.Constants.TextSize.S,
CMW: o.Constants.TextSize.M,
SW: o.Constants.TextSize.M,
LW: o.Constants.TextSize.M
};
}, "f20bb156:414:26"), e = t = r.__decorate([ a.style ], e);
}();
t.Card2Styles = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TemplateStyles"), a = function() {
function e() {}
var t;
return t = e, e.shouldSoftClip = o.value(function() {
return !o.Constants.useConsoleMenu;
}, "5bf476d0:16:28"), e.arrowShouldBlur = o.value(function() {
return !1;
}, "5bf476d0:17:29"), e.softClipFade = o.value(function() {
return t.shouldSoftClip ? o.Grid.getWidth(1) : 0;
}, "5bf476d0:18:26"), e.headerHeight = o.value(function() {
return o.LayoutBounds.header.height;
}, "5bf476d0:19:26"), e.dangerZone = o.value(function() {
return {
top: o.LayoutBounds.safeZone.y,
bottom: o.Constants.useConsoleMenu ? o.LayoutBounds.safeZone.y : 0,
left: o.LayoutBounds.safeZone.x,
right: o.LayoutBounds.safeZone.x
};
}, "5bf476d0:21:24"), e.passepartout = o.value(function() {
return {
top: 0,
bottom: 0,
left: 0,
right: o.Constants.useConsoleMenu ? 0 : o.Grid.getWidth(5) - 6
};
}, "5bf476d0:27:26"), e.emptySpace = o.value(function() {
return {
top: 2 * o.LayoutBounds.tabs.height + o.LayoutBounds.fadeAreaTop.height,
bottom: o.Constants.useConsoleMenu ? o.LayoutBounds.footer.height + o.Grid.spacer() : 0
};
}, "5bf476d0:33:24"), e.container = i.wrap(function() {
return o.style({
flexDirection: "row",
position: "absolute",
top: t.dangerZone.top + t.passepartout.top + t.headerHeight,
bottom: t.dangerZone.bottom + t.passepartout.bottom,
left: t.dangerZone.left + t.passepartout.left - (o.Constants.useConsoleMenu ? 0 : 40),
right: t.dangerZone.right + t.passepartout.right - t.softClipFade,
layer: t.shouldSoftClip,
layerClip: t.shouldSoftClip,
layerSoftClipRight: t.softClipFade,
paddingLeft: o.Constants.useConsoleMenu ? void 0 : 40
}, "5bf476d0:38:23");
}), e.content = i.wrap(function() {
return o.style({
marginTop: t.emptySpace.top,
marginBottom: t.emptySpace.bottom,
flexDirection: "row",
alignItems: "flex-start"
}, "5bf476d0:53:21");
}), e.softClipRightBox = i.wrap(function() {
return o.style({
width: t.softClipFade
}, "5bf476d0:60:30");
}), e.arrowColor = o.value(function() {
return "#ffffffff";
}, "5bf476d0:64:24"), e.arrowColorFocused = o.value(function() {
return "#000000ff";
}, "5bf476d0:65:31"), e.arrowColorInvisible = o.value(function() {
return "#ffffff00";
}, "5bf476d0:66:33"), e.arrowBackground = o.value(function() {
return "#00000055";
}, "5bf476d0:67:29"), e.arrowBackgroundFocused = o.value(function() {
return "#ffffffff";
}, "5bf476d0:68:36"), e.arrowBackgroundInvisible = o.value(function() {
return "#00000000";
}, "5bf476d0:69:38"), e.arrowScrollStep = o.value(function() {
return o.Grid.getWidth(8);
}, "5bf476d0:71:29"), e.arrowInstantHide = o.value(function() {
return !1;
}, "5bf476d0:73:30"), e.arrow = i.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_white-8a3f8212.png"),
flex: 1,
zOffset: 1001,
textureAtlas: "SpartaCommonAtlas",
textureMode: "cover"
}, "5bf476d0:75:19");
}), e.arrowButton = o.multistyle(function(e) {
return o.style({
scale: [ "left" === e ? -1 : 1, 1, 1 ],
zOffset: 1e3,
width: o.Grid.getWidth(1),
height: o.Grid.getWidth(1),
padding: [ o.Grid.spacer(), o.Grid.spacer(1.5), o.Grid.spacer(), o.Grid.spacer(1.5) ]
}, "5bf476d0:83:69");
}), e.arrowContainer = i.wrap(function() {
return o.style({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
paddingLeft: o.Grid.getWidth(.5) + o.Grid.spacer(),
paddingRight: o.Grid.getWidth(.5) + o.Grid.spacer(),
flex: 1,
flexDirection: "row",
alignItems: "center",
justifyContent: "space-between"
}, "5bf476d0:93:28");
}), e.arrowBlurBackground = i.wrap(function() {
return o.style({}, "5bf476d0:107:33");
}), e.sideCol = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(6),
marginRight: o.Grid.getWidth(1)
}, "5bf476d0:109:21");
}), e.mainCol = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(24) - o.Grid.getWidth(7),
height: o.LayoutBounds.screen.height - t.dangerZone.top - t.passepartout.top - t.headerHeight - t.emptySpace.top - t.dangerZone.bottom - t.passepartout.bottom - t.emptySpace.bottom
}, "5bf476d0:114:21");
}), e = t = r.__decorate([ i.style ], e);
}();
t.TemplateStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(7), s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return null;
}, t;
}(o.Component);
t.DefaultSocialOverlay = s;
var u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return null;
}, t;
}(o.Component);
t.DefaultSocialWidget = u;
var l = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return null;
}, t;
}(o.Component);
t.DefaultComCenter = l;
var c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = a.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).components.SocialOverlay;
return o.createElement(e, null);
}, t.contextTypes = a.SpartaContext.contextTypes, t;
}(o.Component);
t.BaseSocialOverlay = c;
var p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = a.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).components.SocialWidget;
return o.createElement(e, null);
}, t.contextTypes = a.SpartaContext.contextTypes, t;
}(o.Component);
t.BaseSocialWidget = p;
var d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = a.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).components.ComCenter;
return this.sparta.stores.comCenterState.isEnabled ? o.createElement(e, null) : null;
}, t.contextTypes = a.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.BaseComCenter = d;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ServerBrowserStyle"), a = function() {
function e() {}
return e.refreshButtonKey = o.value(function() {
return o.Constants.Keys.Option4;
}, "fbde66b3:7:30"), e.container = i.wrap(function() {
return o.style({
flexDirection: "row",
flexWrap: "nowrap",
justifyContent: "flex-end"
}, "fbde66b3:9:23");
}), e.moreButton = i.wrap(function() {
return o.style({
marginTop: o.Grid.GUTTER
}, "fbde66b3:15:24");
}), e.showAllButton = i.wrap(function() {
return o.style({
marginTop: 2 * o.Grid.GUTTER
}, "fbde66b3:19:27");
}), e.sidebar = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(4) + o.Grid.spacer(2),
marginLeft: o.Grid.getWidth(1) - o.Grid.spacer(1),
marginRight: -o.Grid.spacer(1),
height: o.LayoutBounds.content.height
}, "fbde66b3:23:21");
}), e.sidebarInner = i.wrap(function() {
return o.style({
paddingLeft: o.Grid.spacer(1),
paddingRight: o.Grid.spacer(1)
}, "fbde66b3:31:26");
}), e.header = i.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center"
}, "fbde66b3:36:20");
}), e.refreshButton = i.wrap(function() {
return o.style({
marginRight: 1.5 * -o.Grid.GUTTER,
marginLeft: o.Grid.GUTTER,
marginBottom: 4,
padding: o.Grid.GUTTER
}, "fbde66b3:41:27");
}), e = r.__decorate([ i.style ], e);
}();
t.ServerBrowserStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ServerListStyle"), a = function() {
function e() {}
var t;
return t = e, e.useDividers = o.value(function() {
return !0;
}, "34921ad5:16:25"), e.softClip = o.value(function() {
return [ o.Grid.getHeight(1), 0, o.Grid.getHeight(3), 0 ];
}, "34921ad5:17:22"), e.spans = o.value(function() {
return o.Constants.isPC ? {
slots: o.Grid.getWidth(2.6),
ping: o.Grid.getWidth(1.2),
actions: o.Grid.getWidth(2.6)
} : {
slots: o.Grid.getWidth(3.9),
ping: o.Grid.getWidth(3),
actions: void 0
};
}, "34921ad5:19:19"), e.serverListPadding = o.value(function() {
return o.Constants.isPC ? 2 * o.Grid.GUTTER : 0;
}, "34921ad5:34:31"), e.serverList = i.wrap(function() {
return o.style({
flex: 1,
paddingRight: t.serverListPadding
}, "34921ad5:36:24");
}), e.header = i.wrap(function() {
return o.style({
flexDirection: "row",
zOffset: 1
}, "34921ad5:41:20");
}), e.sortIndicator = o.multistyle(function(e) {
return o.style({
marginLeft: o.Grid.GUTTER,
width: o.Grid.getHeight(1.5),
height: o.Grid.getHeight(1.5),
textureMode: "contain",
marginTop: o.Grid.getHeight(.25),
texture: "none" === e ? void 0 : "desc" === e ? o.bbUrl("/sparta/assets/ui/icons/ui/down-1c405104.png") : o.bbUrl("/sparta/assets/ui/icons/ui/up-45fe9908.png")
}, "34921ad5:46:73");
}), e.nameSpan = i.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row"
}, "34921ad5:62:22");
}), e.slotsSpan = i.wrap(function() {
return o.style({
width: t.spans.slots,
flexDirection: "row"
}, "34921ad5:67:23");
}), e.pingSpan = i.wrap(function() {
return o.style({
width: t.spans.ping,
flexDirection: "row"
}, "34921ad5:72:22");
}), e.actionsSpan = i.wrap(function() {
return o.style({
width: t.spans.actions,
flexDirection: "row"
}, "34921ad5:77:25");
}), e.loadingOverlay = i.wrap(function() {
return o.style({
position: "absolute",
zOffset: 3,
top: 0,
left: 0,
width: o.LayoutBounds.content.width,
height: o.LayoutBounds.content.height,
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
enableMouseEvents: !1
}, "34921ad5:82:28");
}), e.sortHeadingTextSize = o.value(function() {
return o.Constants.TextSize.S;
}, "34921ad5:95:33"), e.sortHeadingTextType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "34921ad5:96:33"), e.sortHeading = o.multistyle(function(e) {
return o.style({
flexDirection: "row",
opacity: e ? 1 : .7
}, "34921ad5:98:58");
}), e.sortHeadingText = i.wrap(function() {
return o.style({}, "34921ad5:105:29");
}), e = t = r.__decorate([ i.style ], e);
}();
t.ServerListStyle = a;
}, function(e, t, n) {
"use strict";
e.exports = n(1066);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.display = r.createTypedAction(), t.hide = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.handlePushNotification = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(552), o = n(250), i = n(24), a = n(150), s = n(3), u = n(49), l = n(9), c = n(40), p = {
PC: "sparta-backend-as-user-pc",
XBOXONE: "sparta-backend-as-user-xone",
PS4: "sparta-backend-as-user-ps4"
}, d = a.onReady;
t.setConnectionTrigger = function f(e) {
d = e;
}, t.setupGatewayBindings = function m(e) {
var t = e.twinkle.frostbite, n = e.stores, f = n.nativePropertiesStore, m = n.gatewayState, h = n.presenceStateStore, g = n.localeState;
s.when(function() {
return h.isReady && f.ready && f.gatewaySettingsReady && null !== g.gameLocale;
}, function() {
if (!f.gatewayUrl || !f.hostingGameId) throw new Error("Native properties not complete!");
var e = {
gatewayHost: f.gatewayUrl,
gatewayTenancyRootEnv: f.gatewayTenancyRootEnv,
gatewayTenancyBlazeEnv: f.gatewayTenancyBlazeEnv,
authProps: {
product: f.productCode,
dtab: f.serviceOverride,
locale: g.gameLocale,
branchName: f.envBranchName,
changeListNumber: f.envChangeListNumber,
minutesToUTC: new Date().getTimezoneOffset()
},
platform: l.SpartaGlobals.bundlePlatform,
hostingGameId: f.hostingGameId,
buildInfo: c.getBuildInfo()
}, n = new i.GatewayClient(t, e, m, function() {
return r.getAuthCodeFromFrostbite(h, t, p[l.SpartaGlobals.bundlePlatform]);
}, r.getFirstPartyTokens);
i.setInstance(n), d.listen(i.connectWhenReady), i.connectWhenReady(), a.onDisconnected.listen(function() {
m.sessionState !== o.GatewaySessionState.connecting && m.sessionState !== o.GatewaySessionState.established || n.disconnect();
}), u.onSignInChange.listen(function() {
m.dropSession();
});
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(217), o = n(150), i = n(49), a = n(88), s = n(173), u = n(3), l = n(519), c = a.debounce(function(e, t) {
e.sendMessage("sparta.goOnline", {
silentOnline: !!t
});
}, 1e3, !0, !1);
t.getFirstPartyTokens = function p(e, t, n) {
return void 0 === n && (n = 3e4), new Promise(function(r, o) {
var i, a = e.registerMessageListener("sparta.firstPartyTokens", function(e, t) {
clearTimeout(i), a(), r(t.tokens);
});
e.sendMessage("sparta.getFirstPartyTokens", t), i = setTimeout(function() {
a(), o(new Error("sparta.getFirstPartyTokens timed out"));
}, n);
});
}, t.getAuthCodeFromFrostbite = function d(e, t, n, r) {
return void 0 === r && (r = 3e4), e.isReady ? new Promise(function(e, o) {
var i, a, s = function(t) {
i(), clearTimeout(a), t ? e(t) : o(new Error("Could not get auth code from frostbite. Was this request made while offline?"));
};
a = setTimeout(s, r), i = t.registerMessageListener("sparta.authCodeAvailableMessage", function(e, t) {
return s(t.authCode);
}), t.sendMessage("sparta.getNewAuthCode", {
clientId: n,
timeout: r
});
}) : Promise.reject(new Error("Cannot request authcode before presence is ready"));
}, t.presenceBindings = function f(e) {
var t = e.twinkle.frostbite, n = e.stores, a = n.nativePropertiesStore, p = n.presenceStateStore;
r.connect.listen(function() {
c(t, !1);
}), t.registerMessageListener("sparta.nativeClientReadyMessage", function(e, t) {
t.nativeClientInformation.isOnlineSnapshot && a.onHostingGameId(function(e) {
p.updatePresence(new s.PresenceStatusMessage({
eventType: s.ConnectionEventType.connectionReady,
resultType: s.ConnectionResultType.success,
mode: s.PresenceModeType.online
})), p.updatePresence(new s.PresenceStatusMessage({
eventType: s.ConnectionEventType.qualityOfServiceDone
}));
});
}), u.reaction(function() {
return p.resultType;
}, function(e) {
e === s.ConnectionResultType.invalidUser && i.showLocalUserSelectionUI();
}), u.reaction(function() {
return p.state;
}, function(e) {
switch (e) {
case l.PresenceState.disconnected:
o.onDisconnected();
break;

case l.PresenceState.ready:
o.onReady();
}
});
};
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(1), i = n(59), a = n(25), s = n(3), u = n(290), l = n(38), c = n(56), p = n(1094), d = n(554), f = n(52), m = e.get("MandatoryUpdate");
!function(e) {
e[e.STATUS_CONFIRM = 0] = "STATUS_CONFIRM", e[e.STATUS_DELAY = 1] = "STATUS_DELAY", 
e[e.STATUS_CANCEL = 2] = "STATUS_CANCEL";
}(r = t.MandatoryUpdateStatus || (t.MandatoryUpdateStatus = {}));
var h, g, y = s.observable({
isFrontend: !1
});
function S() {
u.bundleUpdateStore.reset(), a.close("mandatoryPopup"), h && h(), g && g();
}
t.confirmUpdate = function v() {
i.frostbite.sendMessage("sparta.mandatoryUpdateStatus", {
status: r.STATUS_CONFIRM
});
}, t.delayUpdate = function _() {
i.frostbite.sendMessage("sparta.mandatoryUpdateStatus", {
status: r.STATUS_DELAY
}), S();
}, t.cancelUpdate = function b() {
i.frostbite.sendMessage("sparta.mandatoryUpdateStatus", {
status: r.STATUS_CANCEL
}), S();
}, t.mandatoryUpdateBindings = function T(e) {
s.reaction(function() {
return e.stores.spartaActivatedStore.navigationState;
}, s.action(function(e) {
y.isFrontend = e === c.NavigationStates.FrontEnd;
}), {
fireImmediately: !0
}), s.reaction(function() {
return !e.stores.startScreenStore.isVisible && !e.stores.installStateStore.isInstalling && y.isFrontend && u.bundleUpdateStore.isMandatoryUpdateAvailable;
}, function(t) {
t && function n(e) {
a.display(new l.Popup({
id: "mandatoryPopup",
createButtons: !1,
instantShow: !0,
centerContent: !0,
content: o.createElement(p.MandatoryUpdatePopup)
})), h && h(), h = s.when(function() {
return !e.stores.presenceStateStore.hasInternet;
}, function() {
if (u.bundleUpdateStore.isMandatoryUpdateAvailable) i.frostbite.sendMessage("sparta.mandatoryUpdateStatus", {
status: r.STATUS_DELAY
}); else if (u.bundleUpdateStore.isMandatoryUpdateDownloading) i.frostbite.sendMessage("sparta.mandatoryUpdateStatus", {
status: r.STATUS_CANCEL
}); else if (u.bundleUpdateStore.isMandatoryUpdateInstalled) return;
S();
}), g && g(), g = s.when(function() {
return u.bundleUpdateStore.isMandatoryUpdateInstalled;
}, function() {
m.info("ScriptEngine will be reloaded in 3 seconds"), d.writeInviteOnDisk(), setTimeout(function() {
f.nativeApi.reloadScriptEngine();
}, 3e3);
});
}(e);
}, {
fireImmediately: !0
}), s.when(function() {
return e.stores.onlineState.isOnlineBlazeAndGateway && !e.stores.startScreenStore.isVisible;
}, function() {
d.retrieveInviteOnDisk().then(function(e) {
return e && d.joinOnSavedFriendInvite(e), null;
}).catch(function(e) {
m.warn(e.message);
});
});
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(10), o = n(172), i = n(91), a = n(43), s = n(200), u = n(192), l = e.get("HandleSavedFriendInvite"), c = 10, p = new s.StorageClient();
t.writeInviteOnDisk = function d() {
var e = r.gameStateStoreLoader.get().savedFriendInvite;
e && (l.info("Storing saved friend invite"), p.save("savedFriendInvite", {
savedFriendInvite: e,
timestamp: Date.now()
}));
}, t.retrieveInviteOnDisk = function f() {
return new Promise(function(e, t) {
p.load("savedFriendInvite", function(n) {
null != n ? n.timestamp + 60 * c * 1e3 >= Date.now() ? (l.info("Saved friend invite properly retrieved from disk and joinable."), 
e(n.savedFriendInvite)) : t(new Error("The disk saved friend invite timed out.")) : (l.info("No saved friend invite found on disk."), 
e(null));
});
});
}, t.joinOnSavedFriendInvite = function m(e) {
var t = new o.SpartaUserId(e.friendUserId), n = r.nativePropertiesStore.getHostingGameId();
a.joinFriend(new i.JoinMultiplayerFriendOptions(new u.User({
spartaUserId: t
}), n));
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(3), i = n(97), a = n(18), s = n(1095), u = n(1101), l = n(110), c = n(375), p = n(173), d = n(1104);
t.debugFeatureFlags = l.featureFlags.register({
debugscreen: new l.FeatureFlag({})
});
var f = "UIInputAction_TwinkleOption1";
t.initialize = function m(n) {
var l = 0, m = n.twinkle.inputHandler, h = n.stores, g = h.presenceStateStore, y = h.onlineState, S = h.routeStore, v = o.observable.array([], {
deep: !1
});
o.reaction(function() {
return {
eventType: g.eventType || p.ConnectionEventType.none,
resultType: g.resultType,
mode: g.mode,
customMessage: g.customMessage,
isQoSReady: g.isQoSReady
};
}, function(e) {
o.runInAction(function() {
v.push({
date: Date.now(),
message: new p.PresenceStatusMessage(e),
user: y.sessionUser
}), v.length > 20 && v.splice(0, v.length - 20);
});
}), n.twinkle.console.getCommandHandler("debugscreen").listen(function() {
a.gotoLocation("debug-screen/overview");
}), m.onInputActionUp.listen(function(e, n) {
n === f && Date.now() - l > 5e3 && t.debugFeatureFlags.debugscreen.isEnabled() && a.gotoLocation("debug-screen/overview");
}), m.onInputActionDown.listen(function(e, t) {
t === f && (l = Date.now());
}), d.initDebugUIScreen(n), S.addRoute(new i.RouteDeclaration("debug-screen", {
getTitle: function() {
return e("Debug");
},
featureFlag: t.debugFeatureFlags.debugscreen,
skipToFirstChild: !0,
logoUrl: void 0,
enableMainMenu: !1,
disableBackground: !0,
excludeFromHistory: !0,
priority: 99999,
children: [ new i.RouteDeclaration("overview", {
getTitle: function() {
return e("Debug Screen");
},
view: function() {
return r.createElement(s.DebugScreen, {
messages: v
});
},
excludeFromHistory: !0
}), new i.RouteDeclaration("recommendation", {
getTitle: function() {
return e("Preview Recommendations");
},
view: u.DebugRecommendations,
featureFlag: c.recommendationsFeatureFlags.previewRecommendations,
excludeFromHistory: !0
}) ]
}));
};
}).call(this, n(101));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
void 0 === t && (t = {}), this.alias = t.alias, this.address = t.address, this.ip = t.ip || "", 
this.region = t.region, this.matchingAliases = t.matchingAliases || [], null != t.ping && (this.ping = t.ping);
};
}();
t.PingSite = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(10), i = n(79);
t.findOrRequestServerByGameId = function a(e, t) {
var n = o.gameStateStoreLoader.map(function(e) {
return e.server;
});
if (n && (!e || n.gameId === e)) return new Promise(function(e) {
return e(n);
});
var a = t || o.nativePropertiesStore.getHostingGameId();
return e && a ? new Promise(function(t) {
var n = o.serverDetailsStore.get(a, e);
r.when(function() {
return n.isReady;
}, function() {
n.value ? t(new i.GameServer(n.value)) : t();
});
}) : new Promise(function(e) {
return e();
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(11), s = n(15), u = n(398), l = n(8), c = n(7), p = n(123), d = n(5).StaticStyle.wrapLegacyStyleSheet({
container: {
flexDirection: "row",
flexWrap: "wrap"
},
visualButton: {
zOffset: 10,
marginRight: 2 * l.GUTTER
}
}, "79443df9:18:15"), f = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = c.SpartaContext.getFromComponent(r), r.isMenuVisible = !1, r.visualButtons = new WeakMap(), 
r.preloader = r.sparta.twinkle.texture.createPreloader(r), r.onTrigger = function(e) {
var t = r.visualButtons.get(e.key);
t && t.current && t.current.pulsate();
}, r.opacityTween = s.Animation.tween("79443df9:67:45", 1), r.unsubscribe = r.sparta.stores.inputStore.calledTrigger.listen(r.onTrigger), 
r.style = [ d.container, r.opacityTween.getStyleClass("opacity") ], r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.sparta.stores.inputRouter.currentInputType;
}, function(t) {
e.preloader.unloadAll();
for (var n = e.sparta.theme.getTheme(e).inputIcons[t], r = 0, o = Object.keys(n); r < o.length; r++) {
var i = n[o[r]];
i && e.preloader.preload(i, "SINGLE_TEXTURE");
}
}, {
fireImmediately: !0
});
}, n.prototype.componentWillReceiveProps = function(e) {
e.visibleMenu && !this.isMenuVisible ? this.opacityTween.transition(0, 1, {
duration: 550
}) : !e.visibleMenu && this.isMenuVisible && this.opacityTween.transition(0, 1, {
duration: 550
}), this.isMenuVisible = e.visibleMenu || !1;
}, n.prototype.componentWillUnmount = function() {
this.unsubscribe(), this.opacityTween.destroy();
}, Object.defineProperty(n.prototype, "showInputsOnPC", {
get: function() {
return "PC" === this.sparta.stores.inputRouter.currentInputType && this.theme.input.alwaysVisibleInputs && !this.sparta.stores.layoutVisibilityStore.mainMenu;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "inputs", {
get: function() {
var e = this, t = [];
return this.showInputsOnPC || "PC" === this.sparta.stores.inputRouter.currentInputType && !this.props.overrideVisibility ? this.showInputsOnPC && this.sparta.stores.inputStore.appearanceInputs.forEach(function(n) {
n.key !== a.Keys.Accept && t.push({
key: n.key,
fontStyle: n.fontStyle,
label: e.wrapPCLabel(n),
icon: n.icon
});
}) : this.sparta.stores.inputStore.appearanceInputs.forEach(function(e) {
t.push({
key: e.key,
fontStyle: e.fontStyle,
label: e.label
});
}), t;
},
enumerable: !0,
configurable: !0
}), n.prototype.wrapPCLabel = function(e) {
return e.key === a.Keys.Decline && e.label ? e.label + " [" + __("ID_SPARTA_INPUT_ACTION_ESCAPE") + "]" : e.label;
}, n.prototype.getRef = function(e) {
if (e) {
var t = this.visualButtons.get(e);
return t || (t = r.createRef(), this.visualButtons.set(e, t)), t;
}
}, Object.defineProperty(n.prototype, "themeOverride", {
get: function() {
if (this.sparta.stores.socialState.isOpened) return this.sparta.stores.socialState.theme;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "theme", {
get: function() {
return this.themeOverride || this.sparta.theme.getTheme(this);
},
enumerable: !0,
configurable: !0
}), n.prototype.withThemeOverride = function(e) {
return this.themeOverride ? r.createElement(p.ThemeProvider, {
debugName: "79443df9:186:43",
theme: this.themeOverride
}, e) : e;
}, n.prototype.render = function() {
var e = this, t = this.theme.input;
return this.withThemeOverride(r.createElement("surface", {
style: this.style
}, this.inputs.map(function(n) {
return r.createElement(u.VisualButton, {
key: "key_" + (n.key ? n.key.id.toString() : void 0),
ref: e.getRef(n.key),
inputKey: n.key,
style: t.visualButton,
iconSize: e.props.iconSize,
inverted: e.props.inverted,
label: n.label,
icon: n.icon,
fontStyle: n.fontStyle,
labelDecoration: e.props.labelDecoration,
styleSheetOverride: e.props.styleSheetOverride
});
})));
}, n.contextTypes = c.SpartaContext.contextTypes, e.__decorate([ o.computed ], n.prototype, "showInputsOnPC", null), 
e.__decorate([ o.computed.struct ], n.prototype, "inputs", null), n = e.__decorate([ i.observer ], n);
}(r.Component);
t.InputButtons = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(4), a = n(7), s = n(5), u = s.StaticStyle.wrapLegacyStyle({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
justifyContent: "center",
alignItems: "center"
}, "9cbe33c3:7:23"), l = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = a.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.stores.installStateStore, t = Math.round(100 * e.progress), n = "";
return t >= 0 && (n = __("ID_SPARTA_INSTALL_INSTALLING_STATUS"), e.isInstalling || (n = __("ID_SPARTA_INSTALL_INSTALLING_STATUS_PAUSED")), 
n = n.replace("[[percentage]]", "" + t)), r.createElement("surface", {
style: s.merge2(u, this.props.style)
}, r.createElement(o.Text, {
value: this.props.text,
size: "L"
}), r.createElement(o.Text, {
value: n,
size: "S"
}));
}, n.contextTypes = a.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.InstallState = l;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(14), a = n(5), s = n(1126), u = {
cutHex: function(e) {
return "#" === e.charAt(0) ? e.substr(1) : e;
},
toR: function(e) {
return parseInt(this.cutHex(e).substring(0, 2), 16);
},
toG: function(e) {
return parseInt(this.cutHex(e).substring(2, 4), 16);
},
toB: function(e) {
return parseInt(this.cutHex(e).substring(4, 6), 16);
},
toA: function(e) {
return 8 === (e = this.cutHex(e)).length ? parseInt(e.substring(6, 8), 16) : 255;
},
toFloat: function(e) {
var t = this.toA(e) / 255;
return [ this.toR(e) * t / 255, this.toG(e) * t / 255, this.toB(e) * t / 255, t ];
},
hexToRGBA: function(e) {
var t = "#" === e.charAt(0) ? e.substr(1) : e, n = [ parseInt(t.substring(0, 2), 16), parseInt(t.substring(2, 4), 16), parseInt(t.substring(4, 6), 16), 255 ];
return 8 === t.length && (n[3] = parseInt(t.substring(6, 8), 16)), n;
}
}, l = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.progress;
isNaN(e) && (e = 0);
var t = s.RadialProgressBarStyles.progressBar({
size: this.props.size,
texture: this.props.texture,
progressColor: u.toFloat(this.props.progressColor),
bgColor: u.toFloat(this.props.bgColor),
progress: [ e, 0, 0, 0 ]
}), n = this.props.style ? this.props.style : a.emptyStyle;
return o.createElement("surface", {
style: a.merge2(t, n)
});
}, t.defaultProps = {
progress: 0,
progressColor: "#FFFFFFFF",
bgColor: "#333333FF",
size: 128,
texture: i.bbOfflineUrl("/sparta/jsclient/builds/assets/radial_progress_bar-b474e4ed.png")
}, t;
}(o.Component);
t.RadialProgressBar = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(1), a = n(3), s = n(4), u = n(10), l = n(123), c = n(7), p = n(412);
function d(e, t) {
return r || (r = {
sectionGame: a.computed(function() {
var t = e.current && e.current.aggregate;
if (t) {
var n = u.gameStore.getGameBySection(t.location.section);
if (n) return n.theme;
}
}),
hostingGame: a.computed(function() {
var e = t.hostingGame;
if (e) return e.theme;
})
});
}
var f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = c.SpartaContext.getFromComponent(t), t.route = p.RouteContext.getFromComponent(t), 
t;
}
return o.__extends(t, e), Object.defineProperty(t.prototype, "routeSectionTheme", {
get: function() {
var e = this.route;
if (e) {
var t = u.gameStore.getGameBySection(e.location.section);
if (t) return t.theme;
}
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = d(this.sparta.stores.viewState, this.sparta.stores.nativePropertiesStore);
return i.createElement(l.ThemeProvider, {
debugName: "SectionGameTheme " + this.props.debugName,
theme: this.routeSectionTheme || e.sectionGame.get() || this.sparta.theme.baseTheme
}, this.props.children);
}, t.contextTypes = o.__assign({}, p.RouteContext.contextTypes, c.SpartaContext.contextTypes), 
o.__decorate([ a.computed ], t.prototype, "routeSectionTheme", null), t = o.__decorate([ s.observer ], t);
}(i.Component);
t.SectionGameThemeProvider = f;
var m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = c.SpartaContext.getFromComponent(t), t;
}
return o.__extends(t, e), t.prototype.render = function() {
var e = d(this.sparta.stores.viewState, this.sparta.stores.nativePropertiesStore);
return i.createElement(l.ThemeProvider, {
debugName: "HostingGameTheme " + this.props.debugName,
theme: e.hostingGame.get() || this.sparta.theme.baseTheme
}, this.props.children);
}, t.contextTypes = c.SpartaContext.contextTypes, t = o.__decorate([ s.observer ], t);
}(i.Component);
t.HostingGameThemeProvider = m;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(10), s = n(23), u = n(6), l = n(5), c = n(9), p = n(7), d = n(563), f = function() {
function t() {
var e = this;
this.shouldBeVisible = !1, this.hasSubscription = !1, this.useOffset = !1, o.reaction(function() {
return a.locationStore.location;
}, function(t) {
var n = -1 !== t.url.indexOf("store/list"), r = -1 !== t.url.indexOf("store/preorder"), o = -1 !== t.url.indexOf("store/premiuminfo"), i = -1 !== t.url.indexOf("battlepacks?tab=get");
e.setVisbility(n || i || o || r), e.setOffset(i);
}, {
fireImmediately: !0
});
}
return t.prototype.setVisbility = function(e) {
this.shouldBeVisible = e;
}, t.prototype.setSubscription = function(e) {
this.hasSubscription = e;
}, t.prototype.setOffset = function(e) {
this.useOffset = e;
}, Object.defineProperty(t.prototype, "isVisible", {
get: function() {
return this.hasSubscription && this.shouldBeVisible;
},
enumerable: !0,
configurable: !0
}), e.__decorate([ o.observable ], t.prototype, "shouldBeVisible", void 0), e.__decorate([ o.observable ], t.prototype, "hasSubscription", void 0), 
e.__decorate([ o.observable ], t.prototype, "useOffset", void 0), e.__decorate([ o.action ], t.prototype, "setVisbility", null), 
e.__decorate([ o.action ], t.prototype, "setSubscription", null), e.__decorate([ o.action ], t.prototype, "setOffset", null), 
e.__decorate([ o.computed ], t.prototype, "isVisible", null), t;
}();
t.subscriptionImageState = new f();
var m = function(n) {
function o(e, r) {
var o = n.call(this, e, r) || this;
return o.sparta = p.SpartaContext.getFromComponent(o), o.subscriptionStatus = o.sparta.stores.subscriptionStatusStore.get(), 
o.reaction(function() {
return o.subscriptionStatus.value;
}, function(e) {
e && t.subscriptionImageState.setSubscription(e.subscribed);
}, {
fireImmediately: !0
}), o;
}
return e.__extends(o, n), o.prototype.componentDidMount = function() {
this.sparta.stores.subscriptionStatusStore.refresh();
}, o.prototype.render = function() {
if (!t.subscriptionImageState.isVisible) return null;
var e = l.merge2(this.sparta.theme.getTheme(this).subscriptionImage.accessContainer({
extraWidth: s.comCenterWidth
}), c.SpartaGlobals.bundleIsPC ? l.DynamicStyle.create({
top: t.subscriptionImageState.useOffset ? -30 : 0
}, "19375948:93:18") : l.emptyStyle);
return r.createElement("surface", {
style: e
}, r.createElement(d.SubscriptionLogo, {
subStatus: this.subscriptionStatus.value,
style: this.sparta.theme.getTheme(this).subscriptionImage.accessDiscount
}), r.createElement(u.Text, {
value: __("ID_SPARTA_COMMERCE_ACCESS_DISCOUNT"),
size: "XS",
style: this.sparta.theme.getTheme(this).subscriptionImage.accessDiscountText
}));
}, o.contextTypes = p.SpartaContext.contextTypes, o = e.__decorate([ i.observer ], o);
}(r.Component);
t.SubscriptionImage = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(1136), s = n(5), u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e, t = this.props, n = t.subStatus, r = (t.trial, t.style), i = t.textureStyle, u = t.color;
return n && n.subscribed ? (n.subscribed && (e = a.SubscriptionLogoStyles.eaPlayLogo(n.isOriginAccessPremier, u)), 
o.createElement("surface", {
style: s.merge2(a.SubscriptionLogoStyles.container, r)
}, o.createElement("surface", {
style: s.merge2(e, i)
}))) : null;
}, t.defaultProps = {
trial: !1
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.SubscriptionLogo = u;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(10), a = n(77), s = n(52), u = e.get("TexturePreLoader"), l = function() {
function e(e, t, n, r) {
this.name = e, this.preloader = t, this.loadOnState = n, this.unloadOnState = r;
}
return e.prototype.loadTextures = function(e) {
for (var t = 0, n = e; t < n.length; t++) {
var r = n[t];
this.preloader.preload(r, this.name), u.debug("Loading image " + r + " for atlas " + this.name);
}
}, e.prototype.unloadTextures = function() {
u.log("Unloading textures for atlas " + this.name), this.preloader.unloadAll();
}, e;
}(), c = function(e) {
function t(t, n, r, o, i, a, s, u, l) {
var c = e.call(this, t, n, r, o) || this;
return c.format = i, c.width = a, c.height = s, c.slotWidth = u, c.slotHeight = l, 
c;
}
return r.__extends(t, e), t.prototype.loadTextures = function(t) {
s.nativeApi.createDynamicAtlasSync(this.name, this.width, this.height, this.format, this.slotWidth, this.slotHeight) ? (u.log("Created dynamic atlas " + this.name), 
e.prototype.loadTextures.call(this, t)) : u.log("Failed to create dynamic atlas ", this.name);
}, t;
}(l);
t.DynamicStrategy = c;
var p = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t;
}(l);
t.SingleTextureStrategy = p;
var d = function() {
function e(e) {
var t = this;
this.atlasInfos = [], e.reaction(function() {
return t.topLevelRoute;
}, function() {
t.updateAtlasInfos();
}), e.reaction(function() {
return i.spartaActivatedStore.navigationState;
}, function() {
t.updateTextures();
}), a.addLifecycleHook(e, "componentWillUnmount", function() {
t.atlasInfos.forEach(function(e) {
return e.strategy.unloadTextures();
});
}), this.updateAtlasInfos();
}
return Object.defineProperty(e.prototype, "topLevelRoute", {
get: function() {
for (var e = i.layoutStateStore.current.config; e.parent && "" !== e.parent.location.path; ) e = e.parent;
return e;
},
enumerable: !0,
configurable: !0
}), e.prototype.updateAtlasInfos = function() {
var e = this.topLevelRoute, t = this.atlasInfos, n = e.texturesToPreload || [];
t !== n && (t.map(function(e) {
return e.strategy.unloadTextures();
}), this.atlasInfos = n, this.updateTextures());
}, e.prototype.updateTextures = function() {
var e = i.spartaActivatedStore.navigationState;
this.atlasInfos.forEach(function(t) {
var n = t.strategy;
n.unloadOnState === e ? n.unloadTextures() : n.loadOnState === e && n.loadTextures(t.urls);
});
}, r.__decorate([ o.computed ], e.prototype, "topLevelRoute", null), e;
}();
t.TextureLoaderService = d;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(3), r = n(103), o = n(1156);
t.dateFormat = o;
t.DateMask = {
defaultDate: "ddd mmm d yyyy",
fullDate: "dddd mmmm d yyyy",
separatedFullDate: "dddd | mmmm d | yyyy"
}, e.reaction(function() {
return {
locale: r.localeState.displayLocale,
loaded: r.localeState.translationsAreDone
};
}, function(e) {
e.loaded && "function" == typeof __ && Object.assign(o.i18n, {
dayNames: [ __("ID_SPARTA_DATETIME_SUNDAY_SHORT"), __("ID_SPARTA_DATETIME_MONDAY_SHORT"), __("ID_SPARTA_DATETIME_TUESDAY_SHORT"), __("ID_SPARTA_DATETIME_WEDNESDAY_SHORT"), __("ID_SPARTA_DATETIME_THURSDAY_SHORT"), __("ID_SPARTA_DATETIME_FRIDAY_SHORT"), __("ID_SPARTA_DATETIME_SATURDAY_SHORT"), __("ID_SPARTA_DATETIME_SUNDAY"), __("ID_SPARTA_DATETIME_MONDAY"), __("ID_SPARTA_DATETIME_TUESDAY"), __("ID_SPARTA_DATETIME_WEDNESDAY"), __("ID_SPARTA_DATETIME_THURSDAY"), __("ID_SPARTA_DATETIME_FRIDAY"), __("ID_SPARTA_DATETIME_SATURDAY") ],
monthNames: [ __("ID_SPARTA_DATETIME_JANUARY_SHORT"), __("ID_SPARTA_DATETIME_FEBRUARY_SHORT"), __("ID_SPARTA_DATETIME_MARCH_SHORT"), __("ID_SPARTA_DATETIME_APRIL_SHORT"), __("ID_SPARTA_DATETIME_MAY_SHORT"), __("ID_SPARTA_DATETIME_JUNE_SHORT"), __("ID_SPARTA_DATETIME_JULY_SHORT"), __("ID_SPARTA_DATETIME_AUGUST_SHORT"), __("ID_SPARTA_DATETIME_SEPTEMBER_SHORT"), __("ID_SPARTA_DATETIME_OCTOBER_SHORT"), __("ID_SPARTA_DATETIME_NOVEMBER_SHORT"), __("ID_SPARTA_DATETIME_DECEMBER_SHORT"), __("ID_SPARTA_DATETIME_JANUARY"), __("ID_SPARTA_DATETIME_FEBRUARY"), __("ID_SPARTA_DATETIME_MARCH"), __("ID_SPARTA_DATETIME_APRIL"), __("ID_SPARTA_DATETIME_MAY"), __("ID_SPARTA_DATETIME_JUNE"), __("ID_SPARTA_DATETIME_JULY"), __("ID_SPARTA_DATETIME_AUGUST"), __("ID_SPARTA_DATETIME_SEPTEMBER"), __("ID_SPARTA_DATETIME_OCTOBER"), __("ID_SPARTA_DATETIME_NOVEMBER"), __("ID_SPARTA_DATETIME_DECEMBER") ]
});
});
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(12), i = n(11), a = n(153), s = n(67), u = n(180), l = n(79), c = n(91), p = n(43), d = n(182), f = n(7), m = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = f.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "server_rec_card"), 
r.sparta.stores.recommendationStore.addLifecycleHooks(r, r.props.recommendation.server.name), 
r;
}
return e.__extends(n, t), n.prototype.getButtons = function(e) {
var t = this, n = [ new o.Input({
label: __("ID_SPARTA_ACTION_SERVER_JOIN"),
key: i.Keys.Accept,
blockInputFor: 500,
action: function() {
return t.onJoinServer(e);
}
}) ];
return this.sparta.twinkle.buildInfo.isConsole && !this.sparta.stores.partyStoreLoader.get().canGroupJoin && (s.supportsSpectating(e.game) && n.push(new o.Input({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
key: i.Keys.Option1,
blockInputFor: 500,
action: function() {
return t.onJoinServer(e, c.JoinRole.spectator);
}
})), s.supportsCommander(e.game) && e.isRoleSupported(c.JoinRole.commander) && n.push(new o.Input({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
key: i.Keys.Option2,
blockInputFor: 500,
action: function() {
return t.onJoinServer(e, c.JoinRole.commander);
}
}))), n;
}, n.prototype.getContextMenuConfig = function(e) {
var t = this, n = [];
return this.sparta.stores.partyStoreLoader.get().canGroupJoin || (s.supportsSpectating(e.game) && n.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: function() {
return t.onJoinServer(e, c.JoinRole.spectator);
}
}), s.supportsCommander(e.game) && e.isRoleSupported("commander") && n.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
action: function() {
return t.onJoinServer(e, c.JoinRole.commander);
}
})), n.length ? {
menuItems: n
} : void 0;
}, n.prototype.onJoinServer = function(e, t) {
void 0 === t && (t = c.JoinRole.soldier), this.sparta.stores.recommendationStore.handleCardInteraction(this), 
p.joinServer(u.createJoinOptions(this.sparta.stores.partyStoreLoader, e, t));
}, n.prototype.render = function() {
var e = this.props.recommendation, t = new l.GameServer(e.server), n = this.sparta.twinkle.buildInfo.isPC ? this.getContextMenuConfig(t) : void 0;
return r.createElement(a.PlayCard, {
heading: e.title || __("ID_SPARTA_SERVER_RECENT"),
focusItem: this.focusItem,
input: this.getButtons(t),
contextMenu: n,
joinButtonName: __("ID_SPARTA_ACTION_SERVER_JOIN").toLocaleUpperCase(),
modes: t.name.toUpperCase(),
maps: t.mapModePretty,
playersInfo: t.mapNamePretty,
expansion: t.mapExpansion && t.mapExpansion.name,
size: this.props.size,
background: e.image || t.mapImageUrl
}, r.createElement(d.ImageSlots, {
recommendation: this.props.recommendation
}));
}, n.contextTypes = f.SpartaContext.contextTypes, n;
}(r.Component);
t.ServerRecommendationCard = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(15), a = n(3), s = n(17), u = n(5), l = {
normal: "#00000066",
focus: "#000000"
}, c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.colorTween = i.Animation.tween("768ca2d5:42:34", l.normal), t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.props.focusItem && (this.focusReaction = a.reaction(function() {
return e.props.focusItem && e.props.focusItem.isFocusedOrHovered;
}, function(t) {
t ? e.colorTween.to(l.focus, i.Animation.presets.focusables.enter.default) : e.colorTween.to(l.normal, i.Animation.presets.focusables.leave);
}, {
fireImmediately: !0
}));
}, t.prototype.componentWillUnmount = function() {
this.focusReaction && this.focusReaction(), this.colorTween.destroy();
}, t.prototype.render = function() {
var e = u.DynamicStyle.create({
textureMode: "contain",
texture: this.props.src
}, "768ca2d5:70:29"), n = "number" == typeof this.props.margin ? this.props.margin : t.defaultProps.margin, r = u.DynamicStyle.create({
position: "absolute",
top: -n,
right: -n,
bottom: -n,
left: -n,
layer: !0,
layerBlur: this.props.strength,
padding: n
}, "768ca2d5:74:27"), i = o.createElement("surface", {
style: r
}, o.createElement("surface", {
style: u.merge3(s.CommonStyles.flex1, e, this.colorTween.getStyleClass("color"))
})), a = o.createElement("surface", {
style: u.merge3(s.CommonStyles.dock, e, s.CommonStyles.zOffset(1))
});
return o.createElement("surface", {
style: this.props.style
}, i, a);
}, t.defaultProps = {
margin: 100,
strength: .8
}, t;
}(o.Component);
t.ShadowedTexture = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(220), o = n(9);
t.fontConfig = {
"ar-sa": r.FuturaMaxiArabicFonts,
"cs-cz": r.PuristaFonts,
"de-de": r.PuristaFonts,
"en-us": r.PuristaFonts,
"es-es": r.PuristaFonts,
"es-mx": r.PuristaFonts,
"fr-fr": r.PuristaFonts,
"it-it": r.PuristaFonts,
"ja-jp": r.DFPSougeitaiFonts,
"ko-kr": o.SpartaGlobals.bundleIsPC ? r.AsiaJungGothicFonts : r.PuristaFonts,
"pl-pl": r.PuristaFonts,
"pt-br": r.PuristaFonts,
"ru-ru": r.FuturaMaxiFonts,
"tr-tr": r.PuristaFonts,
"zh-tw": o.SpartaGlobals.bundleIsPC ? r.ARHeitiFonts : r.PuristaFonts,
"zh-cn": o.SpartaGlobals.bundleIsPC ? r.ARHeitiFonts : r.PuristaFonts,
"zh-sg": o.SpartaGlobals.bundleIsPC ? r.ARHeitiFonts : r.PuristaFonts,
"zh-hk": o.SpartaGlobals.bundleIsPC ? r.ARHeitiFonts : r.PuristaFonts
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(135), i = n(28), a = n(6), s = n(141), u = n(29), l = n(102), c = n(3), p = n(93), d = n(4), f = n(5), m = n(9), h = n(33), g = n(202), y = n(19), S = n(7), v = o.frostbiteAction("sparta.commerceCheckout"), _ = {
ACCESSMONTHID: "ACCESSMONTHID",
ACCESSYEARID: "ACCESSYEARID"
}, b = f.StaticStyle.wrapLegacyStyleSheet({
buttonContainer: {
margin: [ 0, 0, 20, 0 ]
},
labelChoosePlan: {
margin: [ 0, 0, 20, 0 ]
},
labelOr: {
margin: [ 0, 0, 20, 0 ],
flexDirection: "row"
},
labelOrHandleBars: {
opacity: .3,
backgroundColor: "#FFFFFF",
flex: 1,
height: 1,
margin: [ 13, 0, 0, 0 ]
},
labelOrHandleBarLeft: {
marginRight: 10
},
labelOrHandleBarRight: {
marginLeft: 10
},
labelPressMoreInfo: {
margin: [ 20, 0, 0, 0 ],
flexDirection: "row"
},
calltoAction: {
margin: [ 0, 0, 0, 0 ]
},
spinner: {
height: 40
}
}, "481870a0:61:15"), T = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = S.SpartaContext.getFromComponent(r), r.purchasePCMonthly = function() {
r.purchaseSubscription(r.findOffer(_.ACCESSMONTHID));
}, r.purchaseConsoleMonthly = function() {
r.purchaseSubscription(r.findOffer(_.ACCESSMONTHID));
}, r.purchaseConsoleYearly = function() {
r.purchaseSubscription(r.findOffer(_.ACCESSYEARID));
}, r.installAccess = function() {
try {
if (r.offersMap) for (var e in r.offersMap) if (e) {
var t = r.offersMap[e].offerId;
if (t) {
r.sparta.twinkle.frostbite.sendMessage("sparta.commerceShowDetails", {
offerId: t,
jobId: 0
});
break;
}
}
} catch (e) {}
}, r.openPremierUpsell = function() {
v({
offerId: s.copyStore.getProperty(r.settings, "subscription.upsellOffer") || "upsell:origin-access"
});
}, r.settings = s.copyStore.getCopyPage("settings"), r.subscriptionStatus = r.sparta.stores.subscriptionStatusStore.get(), 
r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.requestSubscriptionStatus();
}, n.prototype.requestSubscriptionStatus = function() {
m.SpartaGlobals.bundleIsPS4 || this.sparta.stores.subscriptionStatusStore.refresh();
}, Object.defineProperty(n.prototype, "offersMap", {
get: function() {
var e = p.offersStore.get(this.props.gameId), t = e.value && e.value.access, n = {};
if (t) for (var r = 0; r < t.length; r++) switch (!0) {
case 0 === r:
n[_.ACCESSMONTHID] = t[r];
break;

case 1 === r:
n[_.ACCESSYEARID] = t[r];
}
return Object.keys(n).length ? n : void 0;
},
enumerable: !0,
configurable: !0
}), n.prototype.setPrice = function(e) {
var t = "", n = "";
switch (e) {
case "monthly":
t = "subscription.button.monthly", n = _.ACCESSMONTHID;
break;

case "yearly":
t = "subscription.button.yearly", n = _.ACCESSYEARID;
}
return this.offersMap && this.offersMap[n] ? (s.copyStore.getProperty(this.settings, t) || "").replace("%PRICE%", this.offersMap[n].price) : "";
}, n.prototype.setFooter = function() {
var e = s.copyStore.getProperty(this.settings, "subscription.text") || "";
y.isRTLLanguage() && (e = m.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_ACCESS_INFO_PC") : __("ID_SPARTA_ACCESS_INFO_XBOX"));
var t = this.findOffer(_.ACCESSMONTHID);
return t && t.price && (e = e.replace("%PRICE%", t.price)), e;
}, n.prototype.createCallToAction = function() {
return this.isPremierActionShown() ? this.createPremierButton() : this.isInstallActionShown() ? this.createInstallOrOwnedButton() : this.isCallToActionShown() ? "PC" === s.copyStore.getPlatform() ? this.createCallToActionPC() : this.createCallToActionXboxOne() : this.createSpinner();
}, n.prototype.findOffer = function(e) {
return this.offersMap && this.offersMap[e] ? this.offersMap[e] : null;
}, n.prototype.purchaseSubscription = function(e) {
var t = this;
e && l.PurchaseFlow.start(e).listen(l.PurchaseFlowState.SUCCESS, function() {
t.requestSubscriptionStatus();
});
}, n.prototype.isPremierActionShown = function() {
var e = !!this.subscriptionStatus.value && this.subscriptionStatus.value.isOriginAccessPremier;
return m.SpartaGlobals.bundleIsPC && g.commerceFeatureFlags.premierCTA.isEnabledFor(this.props.gameId) && !e;
}, n.prototype.createPremierButton = function() {
var e = !!this.subscriptionStatus.value && this.subscriptionStatus.value.isOriginAccessBasic, t = s.copyStore.getProperty(this.settings, "subscription.upsellLabel") || __("ID_SPARTA_COMMERCE_ACCESS_PREMIER_CTA"), n = s.copyStore.getProperty(this.settings, "subscription.upsellUpgradeLabel") || __("ID_SPARTA_COMMERCE_ACCESS_PREMIER_UPGRADE_CTA"), o = e ? n : t;
return r.createElement("surface", {
style: [ b.calltoAction ]
}, r.createElement("surface", {
style: b.buttonContainer
}, r.createElement(i.Button, {
name: "481870a0:331:31",
text: o,
textSize: this.props.buttonTextSize,
style: this.props.buttonStyle,
action: this.openPremierUpsell
})), r.createElement(a.Text, {
value: this.setFooter(),
size: this.props.subTextSize,
style: this.props.subTextStyle
}));
}, n.prototype.isInstallActionShown = function() {
return this.subscriptionStatus.value && this.offersMap && (this.subscriptionStatus.value.isEAAccess || this.subscriptionStatus.value.isOriginAccessPremier);
}, n.prototype.isCallToActionShown = function() {
return this.subscriptionStatus.value && !this.subscriptionStatus.value.subscribed && this.offersMap;
}, n.prototype.isSpinnerShown = function() {
return !(this.isCallToActionShown() || this.isInstallActionShown() || this.isPremierActionShown());
}, n.prototype.createCallToActionPC = function() {
return r.createElement("surface", {
style: [ b.calltoAction ]
}, r.createElement("surface", {
style: b.buttonContainer
}, r.createElement(i.Button, {
name: "481870a0:370:31",
text: this.setPrice("monthly"),
textSize: this.props.buttonTextSize,
style: this.props.buttonStyle,
action: this.purchasePCMonthly
})), r.createElement(a.Text, {
value: this.setFooter(),
size: this.props.subTextSize,
style: this.props.subTextStyle
}));
}, n.prototype.createCallToActionXboxOne = function() {
try {
if (this.offersMap && Object.keys(this.offersMap).length > 0) return r.createElement("surface", {
style: [ b.calltoAction ]
}, r.createElement(a.Text, {
value: s.copyStore.getProperty(this.settings, "subscription.heading"),
type: h.TextType.EMPHASIS,
size: this.props.headingTextSize,
style: f.merge2(b.labelChoosePlan, f.DynamicStyle.maybeLegacyStyle(this.props.headingStyle, "481870a0:395:56"))
}), r.createElement("surface", {
style: b.buttonContainer
}, r.createElement(i.Button, {
name: "481870a0:401:39",
text: this.setPrice("monthly"),
textSize: this.props.buttonTextSize,
style: this.props.buttonStyle,
action: this.purchaseConsoleMonthly
})), r.createElement("surface", {
style: [ b.labelOr, this.props.style ]
}, r.createElement("surface", {
style: [ b.labelOrHandleBars, b.labelOrHandleBarLeft ]
}), r.createElement(a.Text, {
value: __("ID_SPARTA_GENERIC_OR"),
size: "XS"
}), r.createElement("surface", {
style: [ b.labelOrHandleBars, b.labelOrHandleBarRight ]
})), r.createElement("surface", {
style: b.buttonContainer
}, r.createElement(i.Button, {
name: "481870a0:415:39",
text: this.setPrice("yearly"),
textSize: this.props.buttonTextSize,
style: this.props.buttonStyle,
action: this.purchaseConsoleYearly
})));
} catch (e) {}
}, n.prototype.createInstallOrOwnedButton = function() {
var e = m.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_COMMERCE_OFFER_OWNED") : s.copyStore.getProperty(this.settings, "label.installAccess");
return r.createElement("surface", {
style: [ b.calltoAction ]
}, r.createElement("surface", {
style: b.buttonContainer
}, r.createElement(i.Button, {
name: "481870a0:442:31",
text: e,
disabled: m.SpartaGlobals.bundleIsPC,
textSize: this.props.buttonTextSize,
style: this.props.buttonStyle,
action: this.installAccess
})));
}, n.prototype.createSpinner = function() {
return r.createElement("surface", {
style: [ b.spinner ]
}, r.createElement(u.Spinner, null));
}, n.prototype.render = function() {
return r.createElement("surface", null, this.createCallToAction());
}, n.contextTypes = S.SpartaContext.contextTypes, e.__decorate([ c.computed ], n.prototype, "offersMap", null), 
n = e.__decorate([ d.observer ], n);
}(r.Component);
t.CallToAction = T;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(25), i = n(38), a = n(18), s = n(26), u = n(12), l = n(11), c = n(6), p = n(316), d = n(7), f = {
buttonCallout: {
margin: [ 0, 0, 10, 0 ],
flexDirection: "row"
},
iconButton: {
width: 32,
height: 32,
margin: [ -4.4, 3, 0, 5 ]
}
}, m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = d.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e, t = this;
switch (this.props.button) {
case "X":
e = l.Keys.Option1;
break;

case "Y":
e = l.Keys.Option2;
}
return [ new u.Input({
visible: !1,
action: function() {
return t.pressAction();
},
key: e
}) ];
}, n.prototype.pressAction = function() {
switch (this.props.action) {
case "link":
a.gotoLocation(this.props.location);
break;

case "popup":
this.showPopupTerms();
}
}, n.prototype.showPopupTerms = function() {
o.display(new i.Popup({
content: r.createElement(p.LegalContent, {
legal: "terms"
}),
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new u.Input({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: l.Keys.Decline
}) ]
}));
}, n.prototype.endsWith = function(e, t, n) {
var r = e;
("number" != typeof n || !isFinite(n) || Math.floor(n) !== n || n > r.length) && (n = r.length), 
n -= t.length;
var o = r.indexOf(t, n);
return -1 !== o && o === n;
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this), t = {};
switch (this.props.button) {
case "X":
t = {
texture: this.sparta.inputButtonIcons.get(e).Option1
};
break;

case "Y":
t = {
texture: this.sparta.inputButtonIcons.get(e).Option2
};
}
var n = r.createElement("surface", {
style: [ f.iconButton, t ]
}), o = [], i = [], a = this.props.text;
if (a && a.length > 0) if (a.indexOf("%btn%") < 0) o.push(r.createElement(c.Text, {
value: a,
style: this.props.style,
size: "XS"
})); else if (0 === a.indexOf("%btn%")) o.push(n), i = a.split("%btn%"), o.push(r.createElement(c.Text, {
value: i[1],
style: this.props.style,
size: "XS"
})); else if (this.endsWith(a, "%btn%")) i = a.split("%btn%"), o.push(r.createElement(c.Text, {
value: i[0],
style: this.props.style,
size: "XS"
})), o.push(n); else {
i = a.split("%btn%");
for (var s = 1; s < i.length; s++) o.push(n), o.push(r.createElement(c.Text, {
value: i[s],
style: this.props.style,
size: "XS"
}));
}
return r.createElement("surface", {
style: [ f.buttonCallout, {
width: this.props.width
} ]
}, o);
}, n.contextTypes = d.SpartaContext.contextTypes, n = e.__decorate([ s.input ], n);
}(r.Component);
t.ButtonCallout = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(424), a = n(33), s = n(6), u = n(1178), l = n(7), c = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = l.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props, t = e.gameId, n = e.skipLinks, o = void 0 !== n && n, l = e.maxFriends, c = this.sparta.stores.premiumFriendsStore.get(t);
if (c.isLoading || !c.isReady || !c.value || !c.value.totalNum) return r.createElement("surface", null);
var p = c.value.friends, d = c.value.totalNum;
return r.createElement("surface", {
style: u.PremiumFriendsStyles.premiumFriends(o)
}, r.createElement(s.Text, {
value: __("ID_SPARTA_PREMIUM_FRIENDS").toUpperCase(),
type: a.TextType.EMPHASIS,
size: "XS",
style: u.PremiumFriendsStyles.text
}), r.createElement(i.Friends, {
id: "premium",
friends: p,
totalNum: d,
maxFriends: l,
skipLinks: o
}));
}, n.contextTypes = l.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.PremiumFriends = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("CommerceStyles"), a = function() {
function e() {}
return e.overviewTextConsole = i.wrap(function() {
return o.style({
textLineSpacing: Math.round(1.2 * o.Constants.LINE_HEIGHTS.S)
}, "0c7c2048:7:33");
}), e.singleOfferTextConsole = i.wrap(function() {
return o.style({
textLineSpacing: Math.round(1.2 * o.Constants.LINE_HEIGHTS.S),
textAlignForRTL: "left"
}, "0c7c2048:11:36");
}), e.singleOfferTextPC = i.wrap(function() {
return o.style({
textAlignForRTL: "left",
textLineSpacing: Math.round(1.2 * o.Constants.LINE_HEIGHTS.S)
}, "0c7c2048:16:31");
}), e.tabContentStyle = i.wrap(function() {
return o.style({
flex: 1,
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
width: o.LayoutBounds.content.width,
height: o.LayoutBounds.content.height - o.Grid.getHeight(10)
}, "0c7c2048:21:29");
}), e.loadingStateContainer = i.wrap(function() {
return o.style({
flex: 1,
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
width: o.LayoutBounds.content.width,
height: o.LayoutBounds.content.height - o.Grid.getHeight(10)
}, "0c7c2048:30:35");
}), e = r.__decorate([ i.style ], e);
}();
t.CommerceStyles = a;
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(376), a = n(524), s = n(120), u = n(298), l = n(396), c = n(1185), p = n(318), d = n(303), f = e.get("MatchmakingSession"), m = 0, h = function() {
function e(e, t, n, r, o) {
void 0 === o && (o = s.MatchmakingSessionType.mp);
var a = this;
this.manager = e, this.dependencies = t, this.gameId = n, this.filter = r, this.sessionType = o, 
this.stateDisposer = new l.DisposeCollection(), this.sessionDisposer = new l.DisposeCollection(), 
this.exposeToManagerOn = s.MatchmakingState.STARTING, this.exposedToManager = !1, 
this.startTime = new Date().getTime(), this.userWantsToCancel = !1, this.visitedStates = [], 
this.asyncTransition = function(e, t) {
a.stateMachine.transitionTo(t, function(n, r) {
return e === n.id && t === r.id;
});
}, this.transition = function(e) {
a.stateMachine.transitionTo(e);
}, this.flowId = ++m, this.stateChangeEvent = new u.ScopedEventGenerator("MatchmakingSession (" + this.flowId + ").onStateChange"), 
this.findingGameStatusUpdates = new c.BlazeStatusUpdates(t.gamePushNotifications, f), 
this.onCreate(), this.stateMachine = new i.StateMachine(this.constructor.name + " (" + this.flowId + ")", s.MatchmakingState.IDLE, this.getStates(), {
debug: !0
}), this.stateMachine.start(), this.sessionDisposer.add(this.findingGameStatusUpdates.dispose), 
this.trackVisitedStates(), this.sessionDisposer.add(this.stateMachine.onStateChange(function(e) {
a.stateMachine.onAfterLeave(e.stateId, function() {
a.stateDisposer.dispose();
}), e.stateId === a.exposeToManagerOn && a.setExposedToManager(), a.notifyListeners(e.stateId, e.previousStateId), 
s.MATCHMAKING_FINISHED_STATES.indexOf(e.stateId) >= 0 && a.sessionDisposer.dispose();
}));
}
return e.prototype.notifyListeners = function(e, t) {
var n = this, r = this.manager.sessionInProgress;
this.stateChangeEvent.trigger(e, function() {
return {
session: n,
currentStateId: e,
previousStateId: t
};
}), r === this && a.globalStateChangeEvent.trigger(e, function() {
return {
session: n,
currentStateId: e,
previousStateId: t
};
});
}, e.prototype.setServer = function(e) {
this.server = e;
}, e.prototype.setEstimatedTime = function(e) {
this.estimatedTimeToMatch = e;
}, e.prototype.setSessionId = function(e) {
this.sessionId = e;
}, e.prototype.setBlazeStatus = function(e) {
this.blazeStatus = e;
}, e.prototype.setBlazeGameId = function(e) {
this.blazeGameId = e;
}, e.prototype.setExposedToManager = function() {
this.manager.setSessionInProgress(this), this.exposedToManager = !0;
}, Object.defineProperty(e.prototype, "timeElapsed", {
get: function() {
return new Date().getTime() - this.startTime;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "elapsedSeconds", {
get: function() {
return this._getElapsedSeconds();
},
enumerable: !0,
configurable: !0
}), e.prototype._getElapsedSeconds = function() {
return Math.floor(d.nowStore.seconds - this.startTime / 1e3);
}, e.prototype.cancel = function(e) {
var t = this;
return this.userWantsToCancel = !0, this.cancelOptions = e, new Promise(function(e) {
if (!t.inProgress) return e({
wasCanceled: !0
});
t.onFinished(function(n) {
e({
wasCanceled: n.currentStateId === s.MatchmakingState.CANCELED,
stateId: t.stateId
});
});
});
}, e.prototype.pause = function(e) {
this.stateMachine.pause(e);
}, e.prototype.trackVisitedStates = function() {
var e = this;
this.visitedStates.push(this.stateId), this.sessionDisposer.add(this.stateMachine.onStateChange(function(t) {
e.visitedStates.push(t.stateId);
}));
}, e.prototype.onCreate = function() {}, e.prototype.abortIfUserWantsToCancel = function() {
var e = this, t = this.stateId;
this.stateDisposer.add(o.when(function() {
return e.userWantsToCancel;
}, function() {
t === e.stateId && (f.info("User wants to cancel"), e.transition(s.MatchmakingState.CANCELING));
}));
}, e.prototype.failAfterTimeout = function(e) {
var t = this, n = this.stateId;
setTimeout(function() {
n === t.stateId && (f.error("Failed after timeout", e), t.error = new s.MatchmakingError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_TIMEOUT"), "MatchmakingSession failure: SessionTimedOut"), 
t.transition(s.MatchmakingState.ERROR));
}, e);
}, e.prototype.failIfConnectionDrops = function() {
var e = this;
this.stateDisposer.add(o.when(function() {
return !e.dependencies.presenceStateStore.isReady;
}, function() {
e.inProgress && (f.error("Failed due to dropped connection"), e.error = new s.MatchmakingError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_CONNECTION"), "MatchmakingSession failed due to dropped connection"), 
e.transition(s.MatchmakingState.ERROR));
}));
}, Object.defineProperty(e.prototype, "isCancelable", {
get: function() {
return this._isCancelable();
},
enumerable: !0,
configurable: !0
}), e.prototype._isCancelable = function() {
return this.hasPendingBlazeSession && !!this.sessionId;
}, Object.defineProperty(e.prototype, "stateId", {
get: function() {
return this.stateMachine.currentStateId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "inProgress", {
get: function() {
return this.stateMachine.isRunning;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasPendingBlazeSession", {
get: function() {
return this.inProgress && p.isPendingMatchmakingBlazeStatusName(this.blazeStatus);
},
enumerable: !0,
configurable: !0
}), e.prototype.onStart = function(e) {
return this.sessionDisposer.add(this.listen(s.MatchmakingState.STARTING, e));
}, e.prototype.onFinished = function(e) {
var t = this, n = s.MATCHMAKING_FINISHED_STATES.map(function(n) {
return t.listen(n, e);
});
return this.sessionDisposer.add(function() {
return n.forEach(function(e) {
return e();
});
});
}, e.prototype.listen = function(e, t) {
return this.sessionDisposer.add(this.stateChangeEvent.listen(e, t));
}, r.__decorate([ o.observable ], e.prototype, "server", void 0), r.__decorate([ o.action ], e.prototype, "setServer", null), 
r.__decorate([ o.observable ], e.prototype, "estimatedTimeToMatch", void 0), r.__decorate([ o.action ], e.prototype, "setEstimatedTime", null), 
r.__decorate([ o.observable ], e.prototype, "sessionId", void 0), r.__decorate([ o.action ], e.prototype, "setSessionId", null), 
r.__decorate([ o.observable ], e.prototype, "blazeStatus", void 0), r.__decorate([ o.action ], e.prototype, "setBlazeStatus", null), 
r.__decorate([ o.observable ], e.prototype, "blazeGameId", void 0), r.__decorate([ o.action ], e.prototype, "setBlazeGameId", null), 
r.__decorate([ o.observable ], e.prototype, "exposedToManager", void 0), r.__decorate([ o.action ], e.prototype, "setExposedToManager", null), 
r.__decorate([ o.computed ], e.prototype, "elapsedSeconds", null), r.__decorate([ o.observable ], e.prototype, "userWantsToCancel", void 0), 
r.__decorate([ o.action ], e.prototype, "cancel", null), r.__decorate([ o.action ], e.prototype, "onCreate", null), 
r.__decorate([ o.computed ], e.prototype, "isCancelable", null), r.__decorate([ o.computed ], e.prototype, "stateId", null), 
r.__decorate([ o.computed ], e.prototype, "inProgress", null), r.__decorate([ o.computed ], e.prototype, "hasPendingBlazeSession", null), 
e;
}();
t.MatchmakingSession = h;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.sparta = t;
};
}();
t.MatchmakingSessionFactory = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t) {
this.slot = e.slot, this.imageUrlTemplate = e.imageUrlTemplate, this.equipped = e.equipped, 
this.exclusiveName = t;
}
return e.fromBackend = function(t, n) {
return new e(t, n || "");
}, r.__decorate([ o.observable ], e.prototype, "slot", void 0), r.__decorate([ o.observable ], e.prototype, "imageUrlTemplate", void 0), 
r.__decorate([ o.observable ], e.prototype, "equipped", void 0), r.__decorate([ o.observable ], e.prototype, "exclusiveName", void 0), 
e;
}();
t.EmblemInfo = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
this.personaId = e.personaId, this.platformId = e.platformId, this.displayName = e.displayName, 
this.avatar = e.avatar, this.timeSince = parseInt(e.ts || "0", 10), this.tag = e.tag;
}
return e.fromBackend = function(t) {
return new e(t);
}, r.__decorate([ o.observable ], e.prototype, "personaId", void 0), r.__decorate([ o.observable ], e.prototype, "platformId", void 0), 
r.__decorate([ o.observable ], e.prototype, "displayName", void 0), r.__decorate([ o.observable ], e.prototype, "avatar", void 0), 
r.__decorate([ o.observable ], e.prototype, "timeSince", void 0), r.__decorate([ o.observable ], e.prototype, "tag", void 0), 
e;
}();
t.PlatoonApplicant = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(80), o = n(79), i = function() {
function e(e) {
this.server = e.server, this.platoon = e.platoon;
}
return e.fromBackend = function(t) {
return new e({
server: o.GameServer.fromBackend(t.server),
platoon: r.LightPlatoon.fromBackend(t.platoon)
});
}, e;
}();
t.PlatoonGameServer = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(5), s = n(7), u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).template;
return o.createElement("surface", {
style: a.merge3(e.container, e.content, this.props.style || a.emptyStyle)
}, this.props.children);
}, t.contextTypes = s.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.SimpleTemplate = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(3), o = n(255);
function i(e) {
switch (e.toLowerCase()) {
case "fra":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_FRA");

case "dub":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_DUB");

case "iad":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_IAD");

case "sjc":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_SJC");

case "nrt":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_NRT");

case "syd":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_SYD");

case "brz":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_BRZ");

case "hkg":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_HKG");

case "dxb":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_DXB");

case "jnb":
return __("ID_SPARTA_COMMERCE_RSP_PING_SITE_JNB");

default:
return e.toUpperCase();
}
}
t.pingSiteDescription = i;
var a = [ "EU", "NAm", "SAm", "OC", "Asia", "Afr" ], s = function() {
return function e(t, n, r, o, i, a) {
this.ping = t, this.alias = n, this.description = r, this.region = o, this.capacity = i, 
this.ip = a;
};
}();
t.RichPingSite = s;
var u = function() {
return function e(t) {
this.name = "", this.description = "", this.message = "", this.password = "", this.mapRotationId = "100", 
this.bannerUrl = "", this.name = t.name, this.description = t.description, this.message = t.message, 
this.password = t.password, this.mapRotationId = t.mapRotationId, this.bannerUrl = t.bannerUrl;
try {
this.customGameSettings = function n(e) {
var t = JSON.parse(e);
return {
weaponClasses: t.weaponClasses,
kits: t.kits,
vehicles: t.vehicles,
misc: t.misc,
scales: t.scales
};
}(r.toJS(t).customGameSettings);
} catch (e) {
console.error("Failure to parse customGameSettings for server", t, e);
}
};
}(), l = function() {
function e(e) {
this.adminList = [], this.vipList = [], this.bannedList = [], this.mapRotations = [], 
this.adminList = e.adminList || [], this.vipList = e.vipList || [], this.bannedList = e.bannedList || [], 
this.mapRotations = e.mapRotations || [], this.owner = e.owner, this.server = e.server, 
e.serverSettings && (this.serverSettings = new u(e.serverSettings));
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.RSPServerDetails = l;
var c = function() {
function t(e, t, n, r, o, i, a, s, u, l, c) {
this._offers = [], this.gameId = e, this.serverDetails = t, this.gameSettings = o, 
this.platoonOptions = i, this.platoonSetting = a, this._gameData = n, this._rspTemplate = r, 
this._rspPingSites = l, this._gamePingSites = c, this._offers = s || [], this.orphanedPurchase = u;
}
return Object.defineProperty(t.prototype, "hasGameData", {
get: function() {
return !!this._gameData;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasPingSites", {
get: function() {
return this.pingSites && this.pingSites.length > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasOffers", {
get: function() {
return this.offers && this.offers.length > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasTemplate", {
get: function() {
return !!this._rspTemplate;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasServer", {
get: function() {
return !!this.serverDetails;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasPlatoons", {
get: function() {
return r.isArrayLike(this.platoonOptions);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "gameModes", {
get: function() {
var e = this, t = [];
return this._rspTemplate.gameModes.filter(function(t) {
return !e.gameSettings.excludedGameModes || -1 === e.gameSettings.excludedGameModes.indexOf(t.gameModeShortName);
}).forEach(function(n) {
var r = e._gameData.gameModes.find(function(e) {
return e.filterKey === n.gameModeName;
});
if (r) {
var i = r.expansions[0];
i && t.push(new o.GameMode(n.gameModeShortName, n.gameModeName, r.prettyName, r.description, new o.ImageSet(Object.keys(r.images).map(function(e) {
return {
id: e,
url: r.images[e] || ""
};
})), 2 === i.mask ? 1 : i.mask, i.prettyName));
}
}), t.sort(function(e, t) {
return e.label < t.label ? -1 : 1;
}), t;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "defaultGameMode", {
get: function() {
var e, t = this, n = this.gameModes[0];
return this.gameSettings.defaultGameMode && (e = this.gameModes.find(function(e) {
return e.filterKey === t.gameSettings.defaultGameMode;
})), e || n;
},
enumerable: !0,
configurable: !0
}), t.prototype.getSmallestGameModeSize = function(e) {
return this._rspTemplate.getSmallestGameModeSize(e);
}, Object.defineProperty(t.prototype, "maps", {
get: function() {
var e = this, t = [];
return this._rspTemplate.levels.forEach(function(n) {
var r = e._gameData.maps.find(function(e) {
return e.filterKey === n.levelName;
}), i = e.gameModes.filter(function(e) {
return n.gameModes.indexOf(e.id) >= 0;
});
if (r) {
var a = r.expansions[0];
a && t.push(new o.Map(r.filterKey, r.prettyName, new o.ImageSet(Object.keys(r.images).map(function(e) {
return {
id: e,
url: r.images[e] || ""
};
})), i, 2 === a.mask ? 1 : a.mask, a.prettyName));
}
}), t.sort(function(e, t) {
return e.label < t.label ? -1 : 1;
}), t;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "defaultMap", {
get: function() {
var e, t = this, n = this.maps[0];
return this.gameSettings.defaultMap && (e = this.maps.find(function(e) {
return e.id === t.gameSettings.defaultMap;
})), e || n;
},
enumerable: !0,
configurable: !0
}), t.prototype.filterGameDataCategoryWithMask = function(t, n, r) {
void 0 === r && (r = !1);
var o = this._rspTemplate.getMask(n), i = o ? o.entries : [], a = this._gameData.settings[t] || [];
return r ? function s(t, n) {
return t.map(function(t) {
var r = {};
return Object.keys(t.options).forEach(function(e) {
-1 !== n.indexOf(e) && (r[e] = t.options[e]);
}), e.__assign({}, t, {
options: r
});
});
}(a, i) : function u(e, t) {
return e.filter(function(e) {
return -1 !== t.indexOf(e.filterKey);
});
}(a, i);
}, Object.defineProperty(t.prototype, "weapons", {
get: function() {
return this.filterGameDataCategoryWithMask("Weapons", "weaponmask");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "kits", {
get: function() {
return this.filterGameDataCategoryWithMask("Kits", "kitmask");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "vehicles", {
get: function() {
return this.filterGameDataCategoryWithMask("Vehicles", "vehiclemask");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "misc", {
get: function() {
return this.filterGameDataCategoryWithMask("Misc", "settingmask");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "scales", {
get: function() {
return this.filterGameDataCategoryWithMask("Scales", "scalemask", !0);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "pingSites", {
get: function() {
var e = this._rspPingSites, t = this._gamePingSites, n = [];
return e && t && e.forEach(function(e) {
var r = parseInt(e.capacity || "0", 10);
if (e.siteAlias) {
var o = t[e.siteAlias];
o && n.push(new s(o.ping || 0, e.siteAlias, i(e.siteAlias), o.region || "", r, o.ip || ""));
}
}), n.sort(function(e, t) {
return a.indexOf(e.region) - a.indexOf(t.region);
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "defaultPingSite", {
get: function() {
var e;
return this.pingSites.forEach(function(t) {
t.ping >= 0 && t.capacity > 0 && (!e || e.ping > t.ping) && (e = t);
}), e || new s(-1, "", "", "", 0, "");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "offers", {
get: function() {
var e = [];
if (this.orphanedPurchase && this.orphanedPurchase.data) {
var t = this.orphanedPurchase.data.match(/^rsp:Slots=(\d+),Days=(\d+)$/);
if (t) {
var n = t.pop();
if (n) {
var r = this._offers.find(function(e) {
return e.data.days === n;
});
r && (e = [ {
price: __("ID_SPARTA_COMMERCE_RSP_OFFER_PRICE_PAID"),
days: parseInt(n, 10),
offer: r
} ]);
}
}
} else e = (this._offers || []).map(function(e) {
return {
price: e.price,
listPrice: e.listPrice,
days: parseInt(e.data.days, 10),
offer: e
};
});
return e.sort(function(e, t) {
return e.days < t.days ? -1 : 1;
}), e;
},
enumerable: !0,
configurable: !0
}), e.__decorate([ r.observable ], t.prototype, "platoonOptions", void 0), e.__decorate([ r.observable ], t.prototype, "platoonSetting", void 0), 
e.__decorate([ r.observable ], t.prototype, "_gameData", void 0), e.__decorate([ r.observable ], t.prototype, "_rspTemplate", void 0), 
e.__decorate([ r.observable ], t.prototype, "_rspPingSites", void 0), e.__decorate([ r.observable ], t.prototype, "_offers", void 0), 
e.__decorate([ r.observable ], t.prototype, "orphanedPurchase", void 0), e.__decorate([ r.computed ], t.prototype, "hasGameData", null), 
e.__decorate([ r.computed ], t.prototype, "hasPingSites", null), e.__decorate([ r.computed ], t.prototype, "hasOffers", null), 
e.__decorate([ r.computed ], t.prototype, "hasTemplate", null), e.__decorate([ r.computed ], t.prototype, "hasServer", null), 
e.__decorate([ r.computed ], t.prototype, "hasPlatoons", null), e.__decorate([ r.computed ], t.prototype, "gameModes", null), 
e.__decorate([ r.computed ], t.prototype, "defaultGameMode", null), e.__decorate([ r.computed ], t.prototype, "maps", null), 
e.__decorate([ r.computed ], t.prototype, "defaultMap", null), e.__decorate([ r.computed ], t.prototype, "pingSites", null), 
e.__decorate([ r.computed ], t.prototype, "defaultPingSite", null), e.__decorate([ r.computed ], t.prototype, "offers", null), 
t;
}();
t.RSPSettings = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e() {
this.isSuppressed = !1;
}
return e.prototype.setSuppressed = function(e) {
this.isSuppressed = e;
}, r.__decorate([ o.observable ], e.prototype, "isSuppressed", void 0), r.__decorate([ o.action ], e.prototype, "setSuppressed", null), 
e;
}();
t.suppressAccessSuccessStore = new i();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(69), a = n(1218), s = n(1221), u = n(80), l = n(203), c = n(32), p = n(157), d = n(1222), f = n(1231), m = n(39), h = n(29), g = n(1235), y = n(266), S = n(7), v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = S.SpartaContext.getFromComponent(e), e.titleState = e.sparta.stores.titleState, 
e.tabs = r.createRef(), e.state = {
platoonName: void 0
}, e.onOverviewClick = function() {
e.tabs.current && e.tabs.current.navigateTo("members");
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.tryToSetTitle();
}, n.prototype.componentDidUpdate = function() {
this.tryToSetTitle();
}, n.prototype.tryToSetTitle = function() {
var e = this.props.viewLocation.args.guid, t = i.platoonsStores.platoons.get(e).value;
t instanceof u.Platoon && t.getName() !== this.state.platoonName && (this.titleState.setLocationTitle(__("ID_SHARED_PLATOON"), t.getName()), 
this.setState({
platoonName: t.getName()
}));
}, n.prototype.renderLoading = function() {
return r.createElement(c.Template, {
tallContent: !0,
scrollContent: !1
}, r.createElement(m.EmptyState, {
centerVertically: !0
}, r.createElement(h.Spinner, {
large: !0
})));
}, n.prototype.renderError = function() {
return r.createElement(c.Template, {
tallContent: !0,
scrollContent: !1
}, r.createElement(m.EmptyState, {
text: __("ID_SHARED_PLATOONS_LOADING_FAILED"),
centerVertically: !0
}));
}, n.prototype.renderNotFound = function() {
return r.createElement(c.Template, {
tallContent: !0,
scrollContent: !1
}, r.createElement(m.EmptyState, {
text: __("ID_SHARED_PLATOONS_NOT_FOUND"),
centerVertically: !0
}));
}, n.prototype.getApplicantCount = function(e) {
var t = i.platoonsStores.applicants.get(e.guid);
if (t.isReady) {
var n = t.value;
if (n) return n.length;
}
}, n.prototype.getTabs = function(e, t, n) {
var o = this, i = [];
i.push({
name: "overview",
title: __("ID_SHARED_PLATOONS_OVERVIEW"),
render: function() {
return r.createElement(a.PlatoonOverview, {
platoon: t,
navigateToMembers: o.onOverviewClick
});
}
}), this.sparta.twinkle.buildInfo.isCTE() || i.push({
name: "servers",
title: __("ID_SHARED_PLATOONS_RENTED_SERVERS"),
render: function() {
return r.createElement(g.PlatoonRentedServers, {
game: e,
platoon: t,
membership: n
});
}
}), i.push({
name: "members",
title: __("ID_SHARED_PLATOONS_MEMBERS"),
render: function() {
return r.createElement(s.PlatoonMembers, {
platoon: t,
membership: n
});
}
});
var u = n && n.role;
if (u && (l.hasPermission(u, l.Permission.ACCESS_MANAGE) || l.hasPermission(u, l.Permission.MANAGE_APPLICATIONS))) {
var c = this.getApplicantCount(t) || 0;
i.push({
name: "manage",
title: __("ID_SHARED_PLATOONS_MANAGE"),
showNotification: c > 0,
render: function() {
return r.createElement(d.PlatoonsManage, {
platoon: t,
membership: n
});
}
});
}
return i.push({
name: "more",
title: __("ID_SPARTA_MENU_TITLE_MORE"),
render: function() {
return r.createElement(f.PlatoonsMore, {
platoon: t,
membership: n
});
}
}), i;
}, n.prototype.render = function() {
var e = y.getPlatoonSupportedGameId(this.sparta.stores.gameStore), t = this.props.viewLocation.args.guid, n = this.sparta.stores.gatewayState, o = n.session ? n.session.personaId : "", a = i.platoonsStores.platoons.get(t), s = i.platoonsStores.memberships.get(o), l = a.value;
if (a.failstate || s.failstate) return this.renderError();
if (!a.isReady || !s.isReady) return this.renderLoading();
if (!(l instanceof u.Platoon)) return this.renderNotFound();
var c = s.value ? s.value.find(function(e) {
return e.guid === l.guid;
}) : void 0;
return r.createElement(p.TabbedTemplate, {
ref: this.tabs,
tabs: this.getTabs(e, l, c),
wideContent: !0,
topGutter: !1
});
}, n.contextTypes = S.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.PlatoonsView = v;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(58), s = n(17);
t.PlatoonName = function u(e) {
var t = e.name, n = e.focusItem, u = r.__rest(e, [ "name", "focusItem" ]);
return o.createElement(a.Marquee, {
focusItem: n,
style: s.CommonStyles.flex1,
showEllipsis: !0
}, o.createElement(i.Text, r.__assign({
value: t
}, u)));
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6);
t.PlatoonTag = function a(e) {
var t = e.tag, n = r.__rest(e, [ "tag" ]);
return o.createElement(i.Text, r.__assign({
value: t
}, n));
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(14), i = n(6), a = n(154), s = n(19), u = n(5), l = o.bbOfflineUrl("/sparta/jsclient/builds/assets/friends-icon-84691f65.png"), c = u.StaticStyle.wrapLegacyStyleSheet({
container: {
flexDirection: "row",
alignItems: "center"
},
icon: {
marginRight: 4
},
text: {
marginTop: 2
}
}, "c97adee9:12:15"), p = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e, t = "";
return this.props.showIcon && (e = r.createElement(a.Icon, {
image: l,
key: "icon",
color: this.props.dark ? "#000000" : void 0,
size: this.props.iconSize || "M",
style: c.icon
})), this.props.showLabel && (t = this.props.value + " " + (1 === this.props.value ? __("ID_SHARED_PLATOONS_MEMBER") : __("ID_SHARED_PLATOONS_MEMBERS"))), 
r.createElement(s.LocaleRearrange, {
style: u.merge2(c.container, this.props.containerStyle)
}, e, r.createElement(i.Text, {
key: "count",
size: this.props.size,
style: u.merge2(c.text, this.props.style),
value: t.toUpperCase()
}));
}, n;
}(r.Component);
t.PlatoonMembersCount = p;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
var r;
function o(e) {
return -1 !== [ r.NAME_INVALID_CHARS, r.NAME_TOO_LONG, r.NAME_TOO_SHORT, r.NAME_NOT_TRIMMED, r.NAME_NOT_UNIQUE, r.NAME_IS_RESERVED, r.PROFANITY_IN_NAME ].indexOf(e);
}
function i(e) {
return -1 !== [ r.TAG_TOO_LONG, r.TAG_TOO_SHORT, r.TAG_NOT_TRIMMED, r.TAG_INVALID_CHARS, r.TAG_IS_RESERVED, r.PROFANITY_IN_TAG ].indexOf(e);
}
function a(e) {
return -1 !== [ r.DESCRIPTION_TOO_LONG, r.DESCRIPTION_NOT_TRIMMED, r.PROFANITY_IN_DESCRIPTION ].indexOf(e);
}
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.INTERNAL_ERROR = -35100] = "INTERNAL_ERROR", e[e.NAME_INVALID_CHARS = -35101] = "NAME_INVALID_CHARS", 
e[e.NAME_TOO_LONG = -35102] = "NAME_TOO_LONG", e[e.NAME_TOO_SHORT = -35103] = "NAME_TOO_SHORT", 
e[e.NAME_NOT_TRIMMED = -35104] = "NAME_NOT_TRIMMED", e[e.NAME_NOT_UNIQUE = -35105] = "NAME_NOT_UNIQUE", 
e[e.NAME_IS_RESERVED = -35106] = "NAME_IS_RESERVED", e[e.PROFANITY_IN_NAME = -35107] = "PROFANITY_IN_NAME", 
e[e.TAG_TOO_LONG = -35110] = "TAG_TOO_LONG", e[e.TAG_TOO_SHORT = -35111] = "TAG_TOO_SHORT", 
e[e.TAG_NOT_TRIMMED = -35112] = "TAG_NOT_TRIMMED", e[e.TAG_INVALID_CHARS = -35113] = "TAG_INVALID_CHARS", 
e[e.TAG_IS_RESERVED = -35114] = "TAG_IS_RESERVED", e[e.PROFANITY_IN_TAG = -35115] = "PROFANITY_IN_TAG", 
e[e.DESCRIPTION_TOO_LONG = -35120] = "DESCRIPTION_TOO_LONG", e[e.DESCRIPTION_NOT_TRIMMED = -35121] = "DESCRIPTION_NOT_TRIMMED", 
e[e.PROFANITY_IN_DESCRIPTION = -35122] = "PROFANITY_IN_DESCRIPTION", e[e.TOO_MANY_PLATOONS = -35130] = "TOO_MANY_PLATOONS", 
e[e.TOO_MANY_COMMANDER = -35140] = "TOO_MANY_COMMANDER", e[e.NO_SUCH_PLATOON = -35150] = "NO_SUCH_PLATOON", 
e[e.PERMISSION_ERROR = -35160] = "PERMISSION_ERROR", e[e.EMBLEM_ERROR = -35170] = "EMBLEM_ERROR", 
e[e.GROUPS_ERROR = -35210] = "GROUPS_ERROR", e[e.GENERIC_ERROR = -35220] = "GENERIC_ERROR";
}(r = t.PlatoonException || (t.PlatoonException = {})), t.isUserInputError = function s(e) {
return o(e) || i(e) || a(e);
}, t.isNameError = o, t.isTagError = i, t.isDescriptionError = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(23), a = n(587), s = n(203), u = n(229), l = n(1225), c = n(34), p = n(1226), d = n(588), f = n(5), m = [ o.getHeight(6), 0, o.getHeight(6), 0 ], h = i.content.height, g = f.StaticStyle.wrapLegacyStyleSheet({
rows: {
flexDirection: "column"
},
rowInput: {
width: o.getWidth(17),
marginBottom: 6 * o.GUTTER
},
descriptionField: {
height: o.getHeight(16)
},
scroller: {
height: h - 4 * o.GUTTER,
marginBottom: 4 * o.GUTTER
}
}, "7efe3ea1:17:15"), y = function(t) {
function n(n) {
var o = t.call(this, n) || this;
return o.name = r.createRef(), o.tag = r.createRef(), o.description = r.createRef(), 
o.accessType = r.createRef(), o.onNameChanged = function(t) {
void 0 !== o.props.value && o.props.onChanged ? o.props.onChanged(e.__assign({}, o.state, {
name: t
})) : void 0 !== o.state && o.setState({
name: t
});
}, o.onTagChanged = function(t) {
void 0 !== o.props.value && o.props.onChanged ? o.props.onChanged(e.__assign({}, o.state, {
tag: t
})) : void 0 !== o.state && o.setState({
tag: t
});
}, o.onDescriptionChanged = function(t) {
void 0 !== o.props.value && o.props.onChanged ? o.props.onChanged(e.__assign({}, o.state, {
description: t
})) : void 0 !== o.state && o.setState({
description: t
});
}, o.onAccessTypeChanged = function(t) {
void 0 !== o.props.value && o.props.onChanged ? o.props.onChanged(e.__assign({}, o.state, {
accessType: t
})) : void 0 !== o.state && o.setState({
accessType: t
});
}, void 0 !== n.initialValue ? o.state = n.initialValue : void 0 === n.value && (o.state = {
tag: "",
name: "",
description: "",
accessType: u.AccessType.DEFAULT
}), o;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "value", {
get: function() {
return void 0 !== this.props.value ? this.props.value : this.state;
},
enumerable: !0,
configurable: !0
}), n.prototype.shouldComponentUpdate = function(t, n) {
if (void 0 !== this.props.value) {
var r = this.props, o = r.value, i = e.__rest(r, [ "value" ]), a = t.value, s = e.__rest(t, [ "value" ]);
return d.shouldUpdate(i, s) || d.shouldUpdate(o, a);
}
return d.shouldUpdate(this.state, n);
}, n.prototype.renderNameInput = function(e) {
var t = !e || s.hasPermission(e, s.Permission.EDIT_NAME);
return r.createElement("surface", {
style: g.rowInput
}, r.createElement(p.LabeledInputField, {
label: __("ID_SHARED_PLATOONS_NAME").toUpperCase(),
ref: this.name,
debugName: "inputField_name",
minLength: a.textLimits.name.min,
maxLength: a.textLimits.name.max,
value: this.value.name,
onValueChanged: this.onNameChanged,
disabled: !t,
required: !0
}));
}, n.prototype.renderTagInput = function(e) {
var t = !e || s.hasPermission(e, s.Permission.EDIT_TAG);
return r.createElement("surface", {
style: g.rowInput
}, r.createElement(p.LabeledInputField, {
label: __("ID_SHARED_PLATOONS_TAG").toUpperCase(),
ref: this.tag,
debugName: "inputField_tag",
minLength: a.textLimits.tag.min,
maxLength: a.textLimits.tag.max,
initialValue: this.value.tag,
onValueChanged: this.onTagChanged,
disabled: !t,
required: !0
}));
}, n.prototype.renderDescInput = function(e) {
var t = !e || s.hasPermission(e, s.Permission.EDIT_DESCRIPTION);
return r.createElement("surface", {
style: g.rowInput
}, r.createElement(p.LabeledInputField, {
label: __("ID_SHARED_PLATOONS_DESCRIPTION").toUpperCase(),
ref: this.description,
debugName: "inputField_description",
style: g.descriptionField,
size: "S",
maxLength: a.textLimits.desc.max,
value: this.value.description,
onValueChanged: this.onDescriptionChanged,
disabled: !t,
multiline: !0
}));
}, n.prototype.renderAccessTypeSelector = function(e) {
var t = !e || s.hasPermission(e, s.Permission.EDIT_ACCESS_TYPE);
return r.createElement("surface", {
style: g.rowInput
}, r.createElement(l.PlatoonAccessTypeInput, {
ref: this.accessType,
value: this.value.accessType,
onValueChanged: this.onAccessTypeChanged,
disabled: !t
}));
}, n.prototype.render = function() {
var e = this.props.viewerRole;
return r.createElement(c.Scroller, {
style: f.merge2(g.rows, g.scroller),
softClip: m
}, this.renderNameInput(e), this.renderTagInput(e), this.renderDescInput(e), this.renderAccessTypeSelector(e));
}, n;
}(r.Component);
t.PlatoonInfoEditor = y;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.textLimits = {
tag: {
min: 2,
max: 4
},
name: {
min: 3,
max: 24
},
desc: {
min: 0,
max: 256
},
report: {
min: 0,
max: 256
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.shouldUpdate = function r(e, t) {
if (e === t) return !1;
if (!e && !t) return !1;
if (!e && t) return !0;
if (e && !t) return !0;
var n = Object.keys(e), r = Object.keys(t);
return n.length !== r.length || n.some(function(n) {
return e[n] !== t[n];
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(4), a = n(1228), s = n(69), u = n(575), l = n(80), c = n(6), p = n(39), d = n(29), f = n(34), m = n(5), h = n(7), g = n(259), y = new u.EmblemInfo({
imageUrlTemplate: l.defaultPlatoonEmblem,
equipped: !1,
slot: -1
}, ""), S = o.getWidth(4) + o.GUTTER, v = [ o.getHeight(6), 0, o.getHeight(6), 0 ], _ = {
container: m.StaticStyle.create({
width: 4 * S
}, "e5bd3c78:24:15"),
emblem: {
width: o.getWidth(4),
height: o.getWidth(4)
},
labelText: {
marginBottom: o.GUTTER,
textAlignForRTL: "left"
},
labelTextSecondary: {
opacity: .66,
marginTop: 2 * o.GUTTER,
marginBottom: 4 * o.GUTTER,
textAlignForRTL: "left"
},
cardsScroller: m.StaticStyle.create({
width: 4 * S,
marginBottom: 2 * o.GUTTER
}, "e5bd3c78:41:19"),
cardsGrid: {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -o.GUTTER
}
}, b = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = h.SpartaContext.getFromComponent(r), void 0 !== e.initialValue ? r.state = e.initialValue : void 0 === e.value && (r.state = {
emblemUrl: void 0,
emblemSlot: void 0,
exclusiveName: void 0
}), r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "value", {
get: function() {
return void 0 !== this.props.value ? this.props.value : this.state;
},
enumerable: !0,
configurable: !0
}), n.prototype.selectEmblem = function(e) {
var t = {
emblemUrl: e.imageUrlTemplate,
emblemSlot: e.slot >= 0 ? e.slot : void 0,
exclusiveName: e.exclusiveName && e.exclusiveName.length > 0 ? e.exclusiveName : void 0
};
void 0 !== this.props.value && this.props.onChanged ? this.props.onChanged(t) : void 0 !== this.state && this.setState(t);
}, n.prototype.isSelected = function(e, t) {
return (this.value.emblemUrl ? this.value.emblemUrl : t) === e;
}, n.prototype.renderLoading = function() {
return r.createElement(p.EmptyState, {
style: _.container
}, r.createElement(d.Spinner, {
large: !0
}));
}, n.prototype.render = function() {
var e = this, t = [], n = this.props.platoon, o = s.platoonsStores.emblems.getGallerySlots(), i = s.platoonsStores.emblems.getExclusiveGallerySlots(), p = this.sparta.stores.hostingGameStore, d = !1;
if (p.game && (d = p.game.hasCustomEmblems()), !o.isReady || !i.isReady) return this.renderLoading();
var h = !1;
if ((d && o.value || []).concat(i.value || []).forEach(function(o, i) {
n && o.imageUrlTemplate === n.emblem && (h = !0);
var s = e.isSelected(o.imageUrlTemplate, n && n.emblem);
t.push(r.createElement(a.PlatoonEmblemSelector, {
key: "emblem-" + o.imageUrlTemplate,
emblem: o,
action: function() {
return e.selectEmblem(o);
},
selected: s
}));
}), !h) {
var b = void 0, T = void 0;
n ? (b = new u.EmblemInfo({
imageUrlTemplate: g.getValidEmblemUrl(this.sparta.stores.hostingGameStore, n.emblem),
equipped: !1,
slot: -1
}, ""), T = this.isSelected(b.imageUrlTemplate, n.emblem)) : (b = y, T = this.isSelected(b.imageUrlTemplate, l.defaultPlatoonEmblem)), 
t.unshift(r.createElement(a.PlatoonEmblemSelector, {
key: "current",
emblem: b,
action: this.selectEmblem.bind(this, b),
selected: T
}));
}
var E = Math.ceil(t.length / 4), C = Math.min(E, 2) * S + (E > 2 ? .5 * S : 0);
return r.createElement("surface", {
style: _.container
}, r.createElement(c.Text, {
value: __("ID_SPARTA_PLATOONS_MANAGE_EMBLEM_SElECT").toUpperCase(),
style: _.labelText
}), r.createElement(c.Text, {
value: __("ID_SPARTA_PLATOONS_MANAGE_EMBLEM_SELECT_NEW"),
size: "S",
style: _.labelTextSecondary
}), r.createElement(f.Scroller, {
style: m.merge2(_.cardsScroller, m.DynamicStyle.create({
height: C
}, "e5bd3c78:202:56")),
softClip: v
}, r.createElement("surface", {
style: _.cardsGrid
}, t)));
}, n.contextTypes = h.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.PlatoonEmblemEditor = b;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("PlatoonsStyles"), a = function() {
function e() {}
var t;
return t = e, e.carouselWidth = o.value(function() {
return o.Grid.getWidth(24);
}, "74424e12:17:27"), e.platoonCardSize = o.value(function() {
return o.Constants.CompressedDisabled ? o.Constants.OldCardSize.M : o.Constants.OldCardSize.SSM;
}, "74424e12:19:29"), e.serverCardSize = o.value(function() {
return o.Constants.CompressedDisabled ? o.Constants.OldCardSize.L : o.Constants.OldCardSize.SSL;
}, "74424e12:22:28"), e.template = i.wrap(function() {
return o.style({
marginTop: o.Constants.CompressedDisabled ? -o.Grid.spacer(4) : void 0
}, "74424e12:26:22");
}), e.carousel = i.wrap(function() {
return o.style({
width: t.carouselWidth,
marginBottom: o.Constants.CompressedDisabled ? o.Grid.spacer(2) : o.Grid.spacer(6)
}, "74424e12:30:22");
}), e.carouselHeader = i.wrap(function() {
return o.style({
marginBottom: o.Constants.CompressedDisabled ? o.Grid.spacer(1) : o.Grid.spacer(4),
flex: 1,
height: o.Grid.spacer(3),
textAlignForRTL: "left"
}, "74424e12:35:28");
}), e.btnContainer = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(13),
flexDirection: "row",
justifyContent: "space-around"
}, "74424e12:42:26");
}), e.btn = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(6)
}, "74424e12:48:17");
}), e.colMenu = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(6),
marginRight: o.Grid.getWidth(1)
}, "74424e12:52:21");
}), e.colContent = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(18)
}, "74424e12:57:24");
}), e = t = r.__decorate([ i.style ], e);
}();
t.PlatoonsTemplateStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(18), a = n(8), s = n(4), u = n(3), l = n(66), c = n(80), p = n(140), d = n(21), f = n(76), m = n(37), h = n(154), g = n(583), y = n(582), S = n(584), v = n(258), _ = n(14), b = n(19), T = n(5), E = n(7), C = n(17), I = n(259), A = T.StaticStyle.wrapLegacyStyleSheet({
fold: {
margin: [ 0, 3 * a.GUTTER, 3 * a.GUTTER, 3 * a.GUTTER ],
flexDirection: "row",
alignItems: "center"
},
nameMarquee: {
height: 38,
alignItems: "flex-end"
},
textSecondary: {
textLineSpacing: d.LINE_HEIGHTS.XS,
opacity: .65,
marginRight: 2 * a.GUTTER
},
verifiedIcon: {
marginRight: 2 * a.GUTTER
},
friends: {
flexDirection: "row",
zOffset: 51,
marginBottom: 3 * a.GUTTER
},
avatar: {
width: 40,
height: 40,
marginRight: a.GUTTER,
backgroundColor: "#333333",
textureMode: "contain"
}
}, "d0bd06da:27:15"), w = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = E.SpartaContext.getFromComponent(r), r.focusItem = t.focusItem || r.sparta.twinkle.focus.create(r, l.autoId("platoonCard")), 
r.focusItem.autoFocusCandidate = !0, r.currentLocationPath = r.sparta.stores.locationStore.location.path, 
r;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "isCardActive", {
get: function() {
return this.focusItem.isFocused || this.focusItem.isHovered;
},
enumerable: !0,
configurable: !0
}), t.prototype.renderHeading = function(e) {
var t = this.props.membership;
if (t) return p.getMembershipStatus(t, this.props.isActive).toUpperCase();
if (e && e.displayMembers) {
var n = e.displayMembers.slice(0, 3).map(function(e) {
return o.createElement("surface", {
style: e.avatar ? T.merge2(A.avatar, T.DynamicStyle.create({
texture: e.avatar
}, "d0bd06da:108:56")) : A.avatar,
key: "friend-" + e.personaId
});
});
return o.createElement("surface", {
style: A.friends
}, n);
}
}, t.prototype.renderFold = function(e) {
var t = e.verified ? o.createElement(h.Icon, {
image: _.bbUrl("/sparta/assets/platoons/verified_platoon-91c9d8e6.png"),
style: A.verifiedIcon,
size: "S"
}) : null, n = b.isRTLLanguage() ? C.CommonStyles.justifyContentSpaceBetween : C.CommonStyles.justifyContentFlexStart;
return o.createElement("surface", {
style: T.merge2(A.fold, n)
}, o.createElement(g.PlatoonTag, {
tag: e.getTag(),
size: "S",
style: A.textSecondary
}), t, o.createElement(S.PlatoonMembersCount, {
size: "S",
value: e.size,
showLabel: !0,
dark: this.isCardActive,
showIcon: !0,
style: A.textSecondary
}));
}, t.prototype.render = function() {
var e = this.props.fragment;
if (e && e.isLoading) return o.createElement(f.BasicCard, {
focusItem: this.focusItem,
size: this.props.size
});
var t = e ? e.value : this.props.platoon;
if (!(t instanceof c.Platoon || t instanceof c.LightPlatoon)) return null;
var n = this.currentLocationPath + "/view?guid=" + t.guid, r = v.getEmblemUrl(t.emblem, 256, "png"), a = o.createElement(y.PlatoonName, {
name: t.getName(),
size: "M",
focusItem: this.focusItem
});
return o.createElement(f.BasicCard, {
focusItem: this.focusItem,
icon: I.getValidEmblemUrl(this.sparta.stores.hostingGameStore, r),
iconShadow: !0,
heading: this.renderHeading(t),
description: a,
size: this.props.size,
headingColor: this.props.isActive ? "#FF9900" : void 0,
onPress: i.gotoLocation.bind(i.gotoLocation, n),
fold: this.renderFold(t)
});
}, t.contextTypes = E.SpartaContext.contextTypes, t.defaultProps = {
size: m.CardSize.SSM
}, r.__decorate([ u.computed ], t.prototype, "isCardActive", null), t = r.__decorate([ s.observer ], t);
}(o.Component);
t.PlatoonCard = w;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(31), o = n(73), i = n(46), a = n(24), s = n(51), u = n(36), l = n(431), c = n(87), p = n(322), d = 5, f = {};
function m(e) {
return f[e] < d;
}
function h(e, t, n, r) {
setTimeout(function() {
s.fetchEorData({
gameReportId: e,
oldData: t,
forSpectator: n,
isPremium: r
});
}, 5e3);
}
function g(e) {
var t = e.serverInfo || {}, n = e.personalInfo, r = e.squadInfo, o = e.highlights || [], i = e.scoreboard || {}, a = e.battlePacks, s = e.scraps || {}, u = e.ranks, l = e.platoons || {}, c = e.reportId, d = e.survey, f = e.playerCampaignStatus, m = e.bpProgression, h = e.preEndOfRoundWave, g = function w(e) {
return new p.EndOfRoundServerInfo(e);
}(t), P = function R(e) {
var t = e && e.awardTrain || [], n = e && e.stats, r = e && e.rankProgression, o = e && e.freemiumRank, i = e && e.kitRankProgression || [], a = e && e.topStats || [], s = t.map(function(e) {
return new p.EndOfRoundAward(e);
}), u = function l(e) {
var t = e && e.ranks || [], n = e && e.scores || [], r = t.map(function(e) {
return new p.EndOfRoundRank(e.imageUrl, e.number, e.rankName, parseInt(e.scoreNeeded, 10), e.warBonds, e.isMaxRank);
}), o = n.map(function(e) {
return new p.EndOfRoundRankScore(e.id, e.name, parseInt(e.value, 10));
}), i = e && parseInt(e.initialValue, 10) || 0, a = e && parseInt(e.minutesToNextRank, 10) || 0;
return new p.EndOfRoundRankProgression(i, a, r, o);
}(r), c = I(n), d = function f(e) {
return e.map(function(e) {
var t = e.unitName && "" !== e.unitName ? e.unitName : void 0;
return new p.EndOfRoundTopStat(e.statValue, e.statName, e.rank, t);
});
}(a), m = E(o), h = C(i);
return new p.EndOfRoundPersonalStats(e, u, c, d, s, h, m);
}(n), O = function x(e) {
var t = e && e.squadId, n = e && e.teamId, r = e && e.highlights || [], o = I(e && e.stats), i = r.map(function(e) {
return A(e);
});
return new p.EndOfRoundSquadInfo(t, n, i, o);
}(r), k = function L(e) {
return e.map(function(e) {
return A(e);
});
}(o), M = function D(e) {
var t = e.winner, n = (e.teams || []).map(function(e) {
return function n(e, t) {
var n = e.teamId, r = n === t, o = function i(e) {
return e ? new p.EndOfRoundCounter(void 0, void 0, e.counterType, void 0, void 0, e.teamId) : new p.EndOfRoundCounter();
}(e.counter), a = function s(e) {
if (!e) return new p.EndOfRoundFaction();
return new p.EndOfRoundFaction(e.id, e.imageUrl, e.name);
}(e.faction), u = e.players.map(function(e) {
return new p.EndOfRoundScoreboardEntry(e);
});
return new p.EndOfRoundTeam(n, a, u, o, r);
}(e, t);
});
return new p.EndOfRoundScoreboard(n, t);
}(i), N = y(a), F = S(s), G = v(d), U = _(f), B = b(m), j = T(h);
return new p.EndOfRoundData(c, u, l, N, k, P, g, O, M, F, G, B, U, j);
}
function y(e) {
if (e && e.gameReportId) {
var t = e.gameReportId, n = e.packs, r = e.players || [], o = n.map(function(e) {
return new p.EndOfRoundBattlepackInfo(e.id, e.imageUrl, e.rarity);
}), i = r.map(function(e) {
return new p.EndOfRoundPlayerBattlePack((e.personaId || "").toString(), (e.platformId || "").toString(), e.name, e.avatarUrl, e.packId, e.platoonGuid);
});
return new p.EndOfRoundBattlepacks(t, i, o);
}
}
function S(e) {
var t = e[Object.keys(e)[0]] || {};
return new p.EndOfRoundScraps(t.DAY ? t.DAY : 0, t.WIN ? t.WIN : 0, t.MVP ? t.MVP : 0);
}
function v(e) {
if (e) {
var t = e.questions.map(function(e) {
return new p.EndOfRoundSurveyQuestion(e.id, e.surveyId, e.question, e.gameModes, e.mapNames);
});
return new p.EndOfRoundSurvey(e.id, e.title, t);
}
}
function _(e) {
if (e) {
var t = new l.TunguskaOperationsCampaign();
return t.updateFromBackend(e), t;
}
}
function b(e) {
if (e) {
var t = e[Object.keys(e)[0]] || {};
return new p.EndOfRoundBpProgression(t);
}
}
function T(e) {
if (e) return new p.PreEndOfRoundWave(e);
}
function E(e) {
return e ? new p.EndOfRoundRank(e.imageUrl, e.number, e.rankName) : new p.EndOfRoundRank();
}
function C(e) {
if (e && e.length) return e.map(function(e) {
return new p.KitRankProgressionEntry(e.actualValue, e.earnedInRound, e.id, e.name, e.rank, e.maxRank, e.thresholds);
});
}
function I(e) {
return new p.EndOfRoundStats(e);
}
function A(e) {
var t = function n(e) {
return new p.EndOfRoundPlayer(e.avatar, e.name, e.platoonGuid, (e.personaId || "").toString(), (e.platformId || "").toString(), e.rank, e.teamId, e.emblemUrl);
}(e.player), r = e.value, o = parseInt(r, 10) || parseFloat(r);
return new p.EndOfRoundHighlight(e.id, e.name, t, e.unit, o);
}
t.TunguskaEorClient = i.requester.createClient({
requestOn: [ s.fetchEorData ],
throttle: 600,
shouldPerformRequest: function(e) {
var t = e.gameReportId;
return f[t] = (f[t] || 0) + 1, f[t] <= d;
},
request: function(e) {
var t = e.gameReportId, n = e.oldData, o = void 0 !== n && n, i = e.forSpectator, s = void 0 !== i && i, u = e.isPremium, l = void 0 !== u && u, c = "EndOfRound.getEorData";
return s ? c = "EndOfRound.getEorDataForSpectator" : o && (c = "EndOfRound.getOldEorData"), 
a.request(c, {
game: r.tunguskaGameId,
gameReportId: t,
attempts: f[t],
showPremiumStats: l
});
},
onRequestError: function(e, t) {
var n = t.gameReportId, r = t.oldData, i = t.forSpectator, a = t.isPremium;
u.trackEvent("EndOfRound", "FailedAttempt", e.code + ""), m(n) ? h(n, r, i, a) : (o.tunguskaEndOfRoundStore.setEndOfRoundData(void 0), 
o.tunguskaEndOfRoundStore.setError(e), u.trackEvent("EndOfRound", "Error", "MaxAttempts"));
},
parse: function(e) {
return e && e.playerCampaignStatus && c.tunguskaOperationsCampaignStore.fromBackendEor(e.playerCampaignStatus), 
e ? g(e) : void 0;
},
update: function(e, t, n) {
var r = n.gameReportId, i = n.oldData, a = n.forSpectator, s = n.isPremium;
e ? (o.tunguskaEndOfRoundStore.setEndOfRoundData(e), u.trackEvent("EndOfRound", "Success", f[r].toString())) : m(r) ? (u.trackEvent("EndOfRound", "FailedAttempt", "NoData"), 
h(r, i, a, s)) : u.trackEvent("EndOfRound", "Error", "NoData");
}
}), t.parseEndOfRoundData = g, t.parseBattlePacks = y, t.parseScraps = S, t.parseSurvey = v, 
t.parseOperations = _, t.parseBpProgression = b, t.parsePreEndOfRoundWave = T, t.parseFreemiumRank = E, 
t.parseKitRankProgression = C;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e() {
this.valueNeeded = 0, this.valueAcquired = 0;
}
return Object.defineProperty(e.prototype, "isCompleted", {
get: function() {
return this.valueAcquired >= this.valueNeeded;
},
enumerable: !0,
configurable: !0
}), e.prototype.setValueAcquired = function(e) {
this.valueAcquired = Math.floor(e);
}, r.__decorate([ o.observable ], e.prototype, "valueAcquired", void 0), r.__decorate([ o.computed ], e.prototype, "isCompleted", null), 
r.__decorate([ o.action ], e.prototype, "setValueAcquired", null), e;
}();
t.TunguskaAssignmentProgression = i;
var a = function() {
function e() {
this.code = "", this.name = "", this.awardName = "", this.progression = new i();
}
return e.prototype.updateFromBackend = function(e) {
if (this.code = e.code || "", this.name = e.name || "", this.awardName = e.awardName || "", 
this.criteriaType = e.criteriaType || "GLOBAL_ALL_TIME_TOTAL", e.progression) {
var t = e.progression.valueNeeded || 0, n = e.progression.valueAcquired || 0;
this.progression.valueNeeded = t, !this.isGlobalCriteria && n < t ? this.progression.setValueAcquired(0) : this.progression.setValueAcquired(e.progression && e.progression.valueAcquired || 0);
}
}, Object.defineProperty(e.prototype, "isGlobalCriteria", {
get: function() {
return "GLOBAL_ALL_TIME_TOTAL" === this.criteriaType;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isInARoundCriteria", {
get: function() {
return "IAR_IN_A_ROUND" === this.criteriaType;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isInASpawnCriteria", {
get: function() {
return "GLOBAL_HIGHEST_VALUE_IN_A_SPAWN" === this.criteriaType;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.action ], e.prototype, "updateFromBackend", null), e;
}();
t.TunguskaAssignmentCriteria = a;
var s = function() {
function e() {
this.code = "", this.description = "", this.name = "", this.criterias = [], this.dependencies = [], 
this.progression = new i();
}
return e.prototype.updateFromBackend = function(t) {
var n = this;
this.code = t.code || "", this.images = t.images || {}, this.description = t.description || "", 
this.name = t.name || "", this.score = t.score, this.dependencyRequired = t.dependencyRequired, 
this.criteriaRequired = t.criteriaRequired, this.specialization = t.unlocks && t.unlocks[0] ? t.unlocks[0].specialization : void 0, 
this.dogtag = t.unlocks && t.unlocks[0] ? t.unlocks[0].dogtag : void 0, this.progression.valueNeeded = t.progression && t.progression.valueNeeded || 0, 
this.progression.valueAcquired = t.progression && t.progression.valueAcquired || 0, 
this.criterias = (t.criterias || []).map(function(e) {
var t = n.criterias.find(function(t) {
return t.code === e.code;
});
return t || (t = new a()), t.updateFromBackend(e), t;
}), this.dependencies = (t.dependencies || []).map(function(t) {
var r = n.dependencies.find(function(e) {
return e.code === t.code;
});
return r || (r = new e()), r.updateFromBackend({
code: t.code,
name: t.name,
description: t.description,
images: t.images,
progression: t.progression
}), r;
});
}, Object.defineProperty(e.prototype, "isOpen", {
get: function() {
return 0 === this.dependencies.length || (this.dependencyRequired ? this.dependencies.filter(function(e) {
return e.progression.isCompleted;
}).length >= this.dependencyRequired : this.dependencies.every(function(e) {
return e.progression.isCompleted;
}));
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isTrackable", {
get: function() {
return this.isOpen && !this.progression.isCompleted;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "requiredCriterasAmount", {
get: function() {
return this.criteriaRequired || (this.criterias || []).length;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "completedCriterias", {
get: function() {
return this.criterias.filter(function(e) {
return e.progression.isCompleted;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "progressPercent", {
get: function() {
return 0 === this.criterias.length ? 0 : 0 === this.completedCriterias.length ? 0 : this.completedCriterias.length / this.requiredCriterasAmount;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.action ], e.prototype, "updateFromBackend", null), r.__decorate([ o.computed ], e.prototype, "isOpen", null), 
r.__decorate([ o.computed ], e.prototype, "isTrackable", null), r.__decorate([ o.computed ], e.prototype, "requiredCriterasAmount", null), 
r.__decorate([ o.computed ], e.prototype, "completedCriterias", null), r.__decorate([ o.computed ], e.prototype, "progressPercent", null), 
e;
}();
t.TunguskaAssignment = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(369), o = function() {
function e(e) {
this.sparta = e;
}
return e.prototype.createPartyStore = function() {
return new r.PartyStore(this.sparta.stores.onlineState, this.sparta.stores.userStore, this.sparta.stores.settingsStore, this.sparta.twinkle.buildInfo, this.sparta.stores.popupManager);
}, e;
}();
t.GameStores = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.medalsPageVisited = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1269), o = n(1272);
t.ribbonStore = new r.RibbonStore(o.ribbonClient);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35), o = n(24), i = n(10), a = n(31), s = n(49), u = n(434), l = n(601), c = function() {
return i.presenceStateStore.isReady;
};
t.purchaseItemByGuid = new r.Client("Loadout.purchaseItemByGuid", {
requestPerformer: o.request
}), t.purchaseItemByGuid.addRequirement(c), t.purchaseItemByGuid.addResultHandler(function(e) {
e.onSuccess(function() {
u.KitWeaponClient.trigger(a.tunguskaGameId), l.WalletClient.trigger(a.tunguskaGameId), 
s.refreshCareer();
});
}), t.getItemGates = new r.Client("Loadout.getItemGates", {
requestPerformer: o.request
}), t.getItemGates.addRequirement(c);
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(124), r = function() {
function t(e) {
this.images = {}, this.hires = {}, this.unlockRequirements = [], this.kitShortcutLicenses = [], 
this.name = e.name || "", this.code = e.code || "", this.description = e.description || "", 
this.images = e.images || {}, this.hires = e.hires || {}, this.stats = e.stats, 
this.info = e.info, this.kit = e.kit, this.progression = e.progression, this.star = e.star, 
this.expansion = e.expansion, this.price = e.price, this.accessories = e.accessories, 
this.category = e.category, this.categoryId = e.categoryId, this.premium = e.premium || !1, 
this.unlockRequirements = e.unlockRequirements || [], this.kitShortcutLicenses = e.kitShortcutLicenses || [], 
this.guid = e.guid, this.unlockname = e.unlockname, this.imageUrl = e.imageUrl, 
this.unlockId = e.unlockId, this.purchaseInfo = e.purchaseInfo;
}
return t.prototype.getUnlockProgression = function() {
if (!this.unlockRequirements || !this.unlockRequirements.length) return null;
var t = 0, n = 0;
return this.unlockRequirements.forEach(function(e) {
if (e.criterias.length) {
var r = e.criteriaProgression;
r.valueNeeded > 0 && (t += r.valueNeeded, n += r.valueAcquired);
}
}), 0 !== t ? new e.Progression({
valueNeeded: t,
valueAcquired: n
}) : null;
}, t.prototype.getProgressionInfo = function() {
if (!this.unlockRequirements || !this.unlockRequirements.length) return null;
var e = this.getUnlockProgression() || this.progression, t = "", n = "", r = !1;
return this.unlockRequirements.forEach(function(o) {
if ("" === t) if ("Rank" === o.unlockType) t = "rank", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_RANK").split("[[rank]]").join(e.valueNeeded + ""); else if ("Consumable" === o.unlockType) t = "battlepack", 
n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_BATTLEPACK"), "ct_dlSHTR" === o.code && (t = "phantom", 
n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_PHANTOM")); else if ("U_ACB-90" === o.code) t = "veteran_bf3", 
n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_VETERAN_BF3"); else if ("bucket" === o.unlockType.toLowerCase()) switch (o.code) {
case "sc_recon":
t = "recon", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_RECON");
break;

case "sc_support":
t = "support", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_SUPPORT");
break;

case "sc_engineer":
t = "engineer", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_ENGINEER");
break;

case "sc_assault":
t = "assault", n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_ASSAULT");
} else "award" === o.unlockType.toLowerCase() && o.criterias.length && null !== o.criterias[0].awardName && (t = "assignment", 
r = !0, n = __("ID_SPARTA_CAREER_PROGRESSION_TYPE_COMPLETE").replace("[[item]]", (o.criterias[0].awardName || "").toUpperCase()));
}), "" === t ? null : (n = n.toUpperCase(), {
type: t,
label: n,
showUnlockTitle: r
});
}, t;
}();
t.Weapon = r;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(124), o = n(600), i = n(233), a = function() {
function e(e) {
var t = this;
this.code = e.code || "", this.progression = new r.Progression(e.progression), this.unlockType = e.unlockType || "";
var n = e.criterias || [];
this.criterias = n.map(function(e) {
return e.code && e.progression && (e.progression = i.adjustTimeBasedProgression(e.code, e.progression)), 
(t.progression && t.progression.unlocked || e.progression && e.progression.unlocked) && e.progression && (e.progression.valueAcquired = e.progression.valueNeeded, 
e.progression.unlocked = !0), new o.Criteria(e);
});
}
return Object.defineProperty(e.prototype, "criteriaProgression", {
get: function() {
var e = 0, t = 0;
return this.criterias ? (this.criterias.forEach(function(n) {
n.progression && (e += n.progression.valueAcquired, t += n.progression.valueNeeded);
}), new r.Progression({
valueNeeded: t,
valueAcquired: e
})) : new r.Progression({
valueNeeded: t,
valueAcquired: e
});
},
enumerable: !0,
configurable: !0
}), e;
}();
t.Unlock = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(124), o = function() {
function e(e) {
this.awardName = e.awardName, this.code = e.code, this.name = e.name, this.progression = new r.Progression(e.progression), 
this.criteriaType = e.criteriaType;
}
return e.prototype.isGlobalCriteria = function() {
return 0 === (this.criteriaType || "").indexOf("GLOBAL_");
}, e.prototype.isInARoundCriteria = function() {
return 0 === (this.criteriaType || "").indexOf("IAR_");
}, e.prototype.isInASpawnCriteria = function() {
return 0 === (this.criteriaType || "").indexOf("IAS_");
}, e;
}();
t.Criteria = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(436);
t.WalletClient = r.requester.createClient({
throttle: 1e3,
request: function(e) {
return o.request("Wallet.getWallet", {
game: e
});
},
parse: function(e) {
return e;
},
update: function(e, t, n) {
i.walletStore.updateWallet(n, e);
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(299), a = n(253), s = n(124), u = n(233), l = n(10);
t.MedalClient = r.requester.createClient({
throttle: 3e4,
request: function(e) {
return o.request("Progression.getMedals", {
game: e
});
},
parse: function(e) {
return e.map(function(e) {
var t = (e.awards || []).map(function(e) {
var t, n = e.stages || [], r = e.dependencies && e.dependencies[0];
if (n.length > 0) {
var o = n.filter(function(e) {
return (e.progression || {}).unlocked;
}).length, a = n.length;
t = new s.Progression({
unlocked: (e.progression || {}).unlocked,
valueAcquired: o,
valueNeeded: a
});
} else t = r ? new s.Progression(r.progression) : new s.Progression(e.progression);
return new i.Medal({
xp: e.score,
code: e.code,
description: e.description,
name: e.name,
images: e.images,
progression: t,
dependencies: (e.dependencies || []).map(function(e) {
var t = e.progression || {};
return new i.Medal({
code: e.code,
name: e.name,
description: e.description,
images: e.images,
progression: new s.Progression(t)
});
}),
stages: n.map(function(e) {
var t = e.progression || {};
return new i.Medal({
xp: e.score,
code: e.code,
name: e.name,
description: e.description,
images: e.images,
progression: new s.Progression(t)
});
}),
expansions: e.expansions
});
});
return new a.AwardCategory({
name: e.name,
items: t.sort(u.sortByExpansion)
});
});
},
update: function(e, t, n) {
l.medalStore.setMedalsCategories(n, e);
}
});
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(56), a = n(74), s = n(91), u = n(43), l = n(53), c = n(1277), p = n(297), d = (e.get("GameStateStore"), 
function() {
function e(e) {
this.spartaActivatedStore = e, this.isQuittingWithSquad = !1, this.gameViewState = new a.GameViewState(), 
this.serverState = new c.ServerState(), this.hasLeftFrontend = !1, this.spartaActivatedGameOverrideMessages = [], 
this.handleSpartaActivated();
}
return e.prototype.start = function() {
var e = this;
u.leftServer.listen(function() {
e.handleLeftServer();
}), l.show.listen(function() {
e.setGameViewVisible(!0);
}), l.hide.listen(function() {
e.setGameViewVisible(!1), e.gameViewState.clearPreviousRoutes();
}), l.route.listen(function(t) {
var n = "string" == typeof t ? {
route: t,
subRoute: void 0
} : t;
e.handleRouteChanged(n.route, n.subRoute);
}), o.reaction(function() {
return e.spartaActivatedStore.lastReceived;
}, function() {
e.handleSpartaActivated();
}), o.when(function() {
return e.isOnPlayableLevel;
}, function() {
e.hasLeftFrontend = !0;
});
}, Object.defineProperty(e.prototype, "server", {
get: function() {
return this.serverState.server;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "queue", {
get: function() {
return this.serverState.queue;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isGameViewVisible", {
get: function() {
return this.gameViewState.isVisible;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "currentGameViewRoute", {
get: function() {
return this.gameViewState.route;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "currentGameViewSubRoute", {
get: function() {
return this.gameViewState.subRoute;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "previousGameViewRoute", {
get: function() {
return this.gameViewState.previousRoute;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "previousGameViewSubRoute", {
get: function() {
return this.gameViewState.previousSubRoute;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isEorActive", {
get: function() {
return this.gameViewState.route === a.GameViewRoute.EOR;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasLoadedLevel", {
get: function() {
return this.spartaActivatedStore.navigationState === i.NavigationStates.InGameMenu;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isLoadingToServer", {
get: function() {
return !this.hasLoadedLevel && !!this.server && !this.queue.isPending;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "levelName", {
get: function() {
return this.spartaActivatedStore.levelName;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "gameMode", {
get: function() {
return this.spartaActivatedStore.gameMode;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isSpectator", {
get: function() {
return this.spartaActivatedStore.isSpectator || this.serverState.role === s.JoinRole.spectator;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isMultiplayer", {
get: function() {
return this.spartaActivatedStore.isMultiplayer;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isCoop", {
get: function() {
return !!this.spartaActivatedStore.richGameMode && this.spartaActivatedStore.richGameMode.type === p.GameModeType.coop;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isDeployed", {
get: function() {
return this.spartaActivatedStore.isDeployed;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "readyToShowFrontEnd", {
get: function() {
return this.spartaActivatedStore.navigationState === i.NavigationStates.FrontEnd;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "role", {
get: function() {
return this.serverState.role;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "serverGameId", {
get: function() {
var e = this.serverState.gameId;
return "" !== e ? e : this.gameId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isVisibleOrHasRoute", {
get: function() {
return this.gameViewState.isVisible || this.gameViewState.hasRoute();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isLoadingBackToFrontend", {
get: function() {
return "" !== this.levelName && this.levelName.toLowerCase().indexOf("frontend") >= 0 && this.spartaActivatedStore.navigationState === i.NavigationStates.LoadingScreen;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isOnFrontEnd", {
get: function() {
return this.spartaActivatedStore.navigationState === i.NavigationStates.FrontEnd;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isOnPlayableLevel", {
get: function() {
var e = this.spartaActivatedStore.navigationState;
return "" !== this.levelName ? "levels/frontend/frontend" !== this.levelName.toLowerCase() : !(!e || e === i.NavigationStates.FrontEnd);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isComCenterHiddenInGameView", {
get: function() {
return !1;
},
enumerable: !0,
configurable: !0
}), e.prototype.setGameViewVisible = function(e) {
this.gameViewState.setVisible(e);
}, e.prototype.setWaitingForUserActionToPlay = function(e) {
this.waitingForUserActionToPlay = e;
}, e.prototype.setGameServerRole = function(e) {
this.serverState.role = e;
}, e.prototype.setGameServer = function(e) {
this.serverState.server = e;
}, e.prototype.setSavedFriendInvite = function(e) {
this.savedFriendInvite = e;
}, e.prototype.resetGameServerQueue = function() {
this.serverState.resetQueue();
}, e.prototype.setGameServerQueue = function(e) {
this.serverState.setQueueInfo(e);
}, e.prototype.handleQueueStatusUpdate = function(e) {
this.serverState.queue.updateQueue(e);
}, e.prototype.handleLeftServer = function() {
this.serverState.leaveServer(), this.setGameViewVisible(!1), this.handleRouteChanged(a.GameViewRoute.NONE);
}, e.prototype.isServerJoiningAllowed = function(e) {
var t = this.serverState.server;
return !t || t && t.gameId !== e && !this.isLoadingToServer && this.spartaActivatedStore.navigationState !== i.NavigationStates.LoadingScreen;
}, e.prototype.shouldSuppressServerDisconnectedMessage = function(e) {
return !1;
}, r.__decorate([ o.observable ], e.prototype, "savedFriendInvite", void 0), r.__decorate([ o.observable ], e.prototype, "waitingForUserActionToPlay", void 0), 
r.__decorate([ o.observable ], e.prototype, "isQuittingWithSquad", void 0), r.__decorate([ o.observable ], e.prototype, "gameViewState", void 0), 
r.__decorate([ o.observable ], e.prototype, "serverState", void 0), r.__decorate([ o.observable ], e.prototype, "hasLeftFrontend", void 0), 
r.__decorate([ o.computed ], e.prototype, "server", null), r.__decorate([ o.computed ], e.prototype, "queue", null), 
r.__decorate([ o.computed ], e.prototype, "isGameViewVisible", null), r.__decorate([ o.computed ], e.prototype, "currentGameViewRoute", null), 
r.__decorate([ o.computed ], e.prototype, "currentGameViewSubRoute", null), r.__decorate([ o.computed ], e.prototype, "previousGameViewRoute", null), 
r.__decorate([ o.computed ], e.prototype, "previousGameViewSubRoute", null), r.__decorate([ o.computed ], e.prototype, "isEorActive", null), 
r.__decorate([ o.computed ], e.prototype, "hasLoadedLevel", null), r.__decorate([ o.computed ], e.prototype, "isLoadingToServer", null), 
r.__decorate([ o.computed ], e.prototype, "levelName", null), r.__decorate([ o.computed ], e.prototype, "gameMode", null), 
r.__decorate([ o.computed ], e.prototype, "isSpectator", null), r.__decorate([ o.computed ], e.prototype, "isMultiplayer", null), 
r.__decorate([ o.computed ], e.prototype, "isCoop", null), r.__decorate([ o.computed ], e.prototype, "isDeployed", null), 
r.__decorate([ o.computed ], e.prototype, "readyToShowFrontEnd", null), r.__decorate([ o.computed ], e.prototype, "role", null), 
r.__decorate([ o.computed ], e.prototype, "serverGameId", null), r.__decorate([ o.computed ], e.prototype, "isVisibleOrHasRoute", null), 
r.__decorate([ o.computed ], e.prototype, "isLoadingBackToFrontend", null), r.__decorate([ o.computed ], e.prototype, "isOnFrontEnd", null), 
r.__decorate([ o.computed ], e.prototype, "isOnPlayableLevel", null), r.__decorate([ o.action ], e.prototype, "setGameViewVisible", null), 
r.__decorate([ o.action ], e.prototype, "setWaitingForUserActionToPlay", null), 
r.__decorate([ o.action ], e.prototype, "setGameServerRole", null), r.__decorate([ o.action ], e.prototype, "setGameServer", null), 
r.__decorate([ o.action ], e.prototype, "setSavedFriendInvite", null), e;
}());
t.GameStateStore = d;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(10), a = n(302), s = n(438), u = n(439);
t.TunguskaCodexClient = r.requester.createClient({
throttle: 3e4,
request: function(e) {
return o.request("Progression.getCodex", {
game: e
});
},
shouldPerformRequest: function(e) {
return i.presenceStateStore.isReady;
},
parse: function(e) {
var t = [];
return e.forEach(function(e) {
var n = e.awards;
if (n) {
var r = n.map(function(e) {
var t = e.codexEntry, n = {
small: e.imageUrl || t && t.images && (t.images.Png160xANY || t.images.Png640xANY),
large: e.imageUrl || t && t.images && (t.images.Png640xANY || t.images.Png160xANY)
}, r = Boolean(e.progression && e.progression.unlocked), o = e.progression, i = new u.CodexEntryProgression(e.description || "", r, o && void 0 !== o.valueAcquired ? o.valueAcquired : 0, o && void 0 !== o.valueNeeded ? o.valueNeeded : 1), s = (e.criterias || []).map(function(e) {
var t = e.progression, n = new u.CodexEntryCriteriaProgression(!(!t || void 0 === t.unlocked) && t.unlocked, t && void 0 !== t.valueAcquired ? t.valueAcquired : 0, t && void 0 !== t.valueNeeded ? t.valueNeeded : 1);
return new u.CodexEntryCriteria(e.code || "", e.name || "", n);
}), l = e.expansions ? e.expansions.map(function(e) {
return new a.GameExpansion(e);
}) : [], c = t && t.images ? Object.keys(t.images).map(function(e) {
return t.images && t.images[e] || "";
}) : [], p = new u.CodexEntryDetails(t && t.description || "", t && t.header || "", c, t && t.subHeader, t && t.text2);
return new u.CodexEntry(t && t.category, e.code, s, p, e.name, t && t.id, n, r, !0, i, t && t.voId, e.score, l);
});
t = t.concat(r);
}
}), t;
},
update: function(e) {
s.tunguskaCodexStore.setCodexEntries(e);
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(81), a = n(1280), s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = i.getPuzzleCategories.request({
game: t.game
});
e.useClientResult(n, a.BattlepackPuzzleCategories.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t.prototype.refetch = function(e) {
this.refreshFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.tunguskaBattlepackPuzzleCategoriesStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(1282), a = n(81), s = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.fragmentTtl = 3e5, t;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = a.getBattlepackWidget.request(t);
e.useClientResult(n, i.BattlepackWidget.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.battlepackWidgetStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(81), a = n(608), s = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.fragmentTtl = 12e4, t;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = i.getLoadingScreenSuggestion.request(t);
e.useClientResult(n, a.BattlepackSuggestion.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.tunguskaBattlepackSuggestionStore = new s();
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e.Unopened = "Unopened", e.Loading = "Loading", e.GetBattlepack = "GetBattlepack";
}(r = t.BattlepackBoxType || (t.BattlepackBoxType = {}));
var o = function() {
function e(e) {
this.type = e.suggestion && e.suggestion.suggestionType || r.GetBattlepack, this.data = e.suggestion, 
this.revision = {
endTs: parseInt(e.revision.endTs, 10),
startTs: parseInt(e.revision.startTs, 10),
endingSoon: e.revision.endingSoon,
justStarted: e.revision.justStarted,
name: e.revision.name
};
}
return e.fromBackend = function(t) {
return new e(t);
}, e.isBattlepackRevisionUpdateSuggestion = function(e) {
return "BattlepackRevisionUpdate" === e.suggestionType;
}, e.isAffordableBattlepackSuggestion = function(e) {
return "AffordableBattlepack" === e.suggestionType;
}, e.isScrapDuplicatesSuggestion = function(e) {
return "ScrapDuplicates" === e.suggestionType;
}, e.isScrapExchangeItemSuggestion = function(e) {
return "ScrapExchangeItem" === e.suggestionType;
}, e;
}();
t.BattlepackSuggestion = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35), o = n(24), i = n(1288), a = n(14), s = n(256), u = n(318), l = n(3), c = n(104), p = new r.Client("Matchmaking.startMatchmaking", {
requestPerformer: o.request
}), d = new r.Client("Matchmaking.startGroupMatchmaking", {
requestPerformer: o.request
}), f = new r.Client("Matchmaking.startSquadMatchmaking", {
requestPerformer: o.request
}), m = new r.Client("Matchmaking.stopMatchmaking", {
requestPerformer: o.request
});
t.startMatchmaking = function h(e, t, n) {
var r = JSON.stringify(Object.assign(t.serialize(), {
version: 1
})), o = i.getPingSiteLatencyList(e, n.pingSiteStore), a = n.nativePropertiesStore.getHostingGameId(), s = n.protocolVersionStore.get(e), u = n.partyStore.party;
return u && n.partyStore.canGroupJoin ? d.request({
game: e,
filterJson: r,
pingSiteLatencyList: o,
currentGame: a,
blazeGroupId: u.blazeGroupId || "",
blazeGroupMembers: n.partyStore.membersReady.map(function(e) {
return e.user.personaId || "";
}),
protocolVersion: s || ""
}) : p.request({
game: e,
filterJson: r,
protocolVersion: s || "",
pingSiteLatencyList: o,
currentGame: a
});
}, t.startLookingForGroup = function g(e, t, n) {
var r = JSON.stringify(Object.assign(t.serialize(), {
version: 1
})), o = i.getPingSiteLatencyList(e, n.pingSiteStore), a = n.nativePropertiesStore.getHostingGameId(), s = n.protocolVersionStore.get(e);
return f.request({
game: e,
filterJson: r,
protocolVersion: s || "",
pingSiteLatencyList: o,
currentGame: a
});
}, t.playGameFoundSound = function y() {
var e = c.Sound.load(a.bbOfflineUrl("/sparta/assets/ui/audio/GameFound-0fe383f9.wav"));
e && (e.setVolume(.2), e.play());
}, t.stopMatchmaking = function S(e, t) {
l.when(function() {
return !!e.sessionId;
}, function() {
if (e.sessionId) {
var n = m.request({
game: e.gameId,
sessionId: e.sessionId
});
n.onFinished(function() {
n.status === r.RequestState.SUCCESS && e.setBlazeStatus(u.MatchmakingBlazeStatusName.SessionCanceled), 
t(n.status === r.RequestState.SUCCESS);
});
}
}, {
timeout: s.milliseconds({
seconds: 5
}),
onError: function() {
t(!1);
}
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(4), i = n(3), a = n(1), s = n(34), u = n(15), l = n(8), c = n(6), p = n(142), d = n(23), f = n(323), m = n(9), h = n(22), g = n(42), y = m.SpartaGlobals.bundleIsPC ? l.getHeight(35, !1) : l.getHeight(15, !1), S = d.content.height - y, v = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.props.focusGroup.behavior = g.GroupBehavior.VERTICAL | g.GroupBehavior.WRAP_AROUND, 
n;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "players", {
get: function() {
var e = this;
return this.props.players.map(function(t, n) {
return a.createElement(_, {
player: t,
input: e.props.getInput(t),
buttons: e.props.getButtons(t),
focusGroup: e.props.focusGroup,
index: n,
key: "playerrow" + t.personaId
});
});
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
return a.createElement(s.Scroller, {
softClip: [ 2 * l.GUTTER, 0, 2 * l.GUTTER, 0 ],
style: f.RSPAdminStyle.playerListScroller({
scrollerHeight: S
})
}, this.players);
}, r.__decorate([ i.computed ], t.prototype, "players", null), t = r.__decorate([ o.observer ], t);
}(a.Component);
t.PlayerList = v;
var _ = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.opacityTween = u.Animation.tween("c1b3608a:86:44", 0), n.initFocuses(), 
n;
}
return r.__extends(t, e), t.prototype.componentWillUpdate = function(e) {
e.index !== this.props.index && e.focusGroup.updateMember(this.rowFocus, this.props.index, e.index);
}, t.prototype.componentWillUnmount = function() {
this.opacityTween.destroy(), this.rowFocus.destroy(), this.buttonFocuses.forEach(function(e) {
return e.destroy();
});
}, t.prototype.initFocuses = function() {
var e = this;
this.buttonFocuses = [], m.SpartaGlobals.bundleIsPC && (this.buttonFocuses = this.props.buttons.map(function() {
return h.focusSystem.create(e, "button:" + e.props.player.name);
})), this.rowFocus = h.focusSystem.create(this, "row:" + this.props.player.name), 
this.rowFocus.autoFocusCandidate = !0, this.rowFocus.inheritStateFrom(this.buttonFocuses), 
this.props.focusGroup.addMember(this.rowFocus, this.props.index), this.rowFocus.onFocus(function() {
return !e.opacityTween.isDestroyed() && e.opacityTween.set(1);
}), this.rowFocus.onBlur(function() {
return !e.opacityTween.isDestroyed() && e.opacityTween.set(0);
});
}, t.prototype.renderControls = function() {
return m.SpartaGlobals.bundleIsConsole ? a.createElement("surface", null) : a.createElement("surface", {
style: f.RSPAdminStyle.playerListControls({
tweenId: this.opacityTween.getStyle()
})
}, this.renderLabels());
}, t.prototype.renderLabels = function() {
var e = this;
return this.props.buttons.map(function(t, n) {
return a.createElement(b, {
key: "button" + n,
text: (t.label || "").toLocaleUpperCase(),
action: t.action,
focusItem: e.buttonFocuses[n]
});
});
}, t.prototype.render = function() {
return a.createElement(p.ListItem, {
focusItem: this.rowFocus,
label: this.props.player.name,
upperCase: !1,
input: this.props.input,
subLabel: this.renderControls()
});
}, r.__decorate([ i.action ], t.prototype, "initFocuses", null), t;
}(a.Component), b = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return a.createElement("surface", r.__assign({
style: f.RSPAdminStyle.clickableLabel
}, this.props.focusItem.hooks, {
onClick: this.props.action
}), a.createElement(c.Text, {
size: "XS",
type: "emphasis",
value: this.props.text,
style: f.RSPAdminStyle.clickableLabelText({
isFocused: this.props.focusItem.isFocusedOrHovered
})
}));
}, t = r.__decorate([ o.observer ], t);
}(a.Component);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("GameViewTabStyle"), a = function() {
function e() {}
var t;
return t = e, e.TAB_HEIGHT = o.value(function() {
return o.Grid.getHeight(4);
}, "72908dcf:7:24"), e.BORDER_HEIGHT = o.value(function() {
return 2;
}, "72908dcf:8:27"), e.textStyle = o.wrap(function() {
return o.style({
alignSelf: "center",
zOffset: 2
}, "72908dcf:10:34");
}), e.textActive = o.wrap(function() {
return o.style({
color: "#000000"
}, "72908dcf:17:35");
}), e.textActiveHover = o.wrap(function() {
return o.style({
color: "#000000"
}, "72908dcf:23:40");
}), e.tabNormal = o.wrap(function() {
return o.style({
flex: 0,
alignItems: "center",
flexDirection: "column",
justifyContent: "center",
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 10, 0, 10 ],
minWidth: o.Grid.getWidth(4, !1),
height: t.TAB_HEIGHT
}, "72908dcf:29:34");
}), e.tabActive = o.wrap(function() {
return o.style({
backgroundColor: "#ffffff"
}, "72908dcf:43:34");
}), e.tabActiveHover = o.wrap(function() {
return o.style({
backgroundColor: "#ffffff"
}, "72908dcf:49:39");
}), e.tabHover = o.wrap(function() {
return o.style({
backgroundColor: "#ffffff25"
}, "72908dcf:55:33");
}), e.tabBorder = o.wrap(function() {
return o.style({
zOffset: 1,
height: 2,
backgroundColor: "#efefef",
width: o.Grid.getWidth(4, !1)
}, "72908dcf:61:34");
}), e.tabContainer = o.wrap(function() {
return o.style({
margin: [ 0, o.Grid.GUTTER / 2, 0, o.Grid.GUTTER / 2 ]
}, "72908dcf:70:37");
}), e.container = o.wrap(function() {
return o.style({
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
}, "72908dcf:76:34");
}), e.tabsContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center",
width: o.LayoutBounds.screen.width,
marginBottom: o.Grid.getHeight(3, !1),
marginLeft: -o.LayoutBounds.dangerZoneSize.width,
marginRight: -o.LayoutBounds.dangerZoneSize.width
}, "72908dcf:84:38");
}), e.lineContainerLeft = o.wrap(function() {
return o.style({
flex: 1,
alignItems: "flex-end",
height: t.TAB_HEIGHT + t.BORDER_HEIGHT,
marginRight: o.Grid.GUTTER / 2
}, "72908dcf:95:42");
}), e.lineContainerRight = o.wrap(function() {
return o.style({
flex: 1,
alignItems: "flex-start",
height: t.TAB_HEIGHT + t.BORDER_HEIGHT,
marginLeft: o.Grid.GUTTER / 2
}, "72908dcf:104:43");
}), e.lineBorderLeft = o.wrap(function() {
return o.style({
backgroundColor: "#e6e6e680",
position: "absolute",
bottom: 0,
height: 2,
left: 0,
right: 0
}, "72908dcf:113:39");
}), e.lineBorderRight = o.wrap(function() {
return o.style({
backgroundColor: "#e6e6e680",
position: "absolute",
bottom: 0,
height: 2,
left: 0,
right: 0
}, "72908dcf:124:40");
}), e.button = o.wrap(function() {
return o.style({
margin: [ o.Grid.GUTTER / 2, 0, 0, 0 ]
}, "72908dcf:135:31");
}), e.buttonContainerLeft = o.wrap(function() {
return o.style({
marginRight: 2 * o.Grid.GUTTER,
height: t.TAB_HEIGHT,
width: 4 * o.Grid.GUTTER,
marginTop: -2
}, "72908dcf:141:44");
}), e.buttonContainerRight = o.wrap(function() {
return o.style({
marginLeft: 2 * o.Grid.GUTTER,
height: t.TAB_HEIGHT,
width: 4 * o.Grid.GUTTER,
marginTop: -2
}, "72908dcf:150:45");
}), e = t = r.__decorate([ i.style ], e);
}();
t.GameViewTabStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(21), s = n(15), u = {
duration: 1300
}, l = {
duration: 1300,
delay: 1500
}, c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.opacityTween = s.Animation.componentTween(t, "54063783:21:58", 0), t.state = r.__assign({}, t.props), 
t.pulsate = function() {
if (!t.opacityTween.isDestroyed()) return t.nextProps ? (t.setState(r.__assign({}, t.nextProps), t.pulsate), 
void (t.nextProps = void 0)) : void t.opacityTween.promiseTo(1, u).then(function() {
return t.opacityTween.isDestroyed() ? Promise.resolve() : t.opacityTween.promiseTo(0, l);
}).then(t.pulsate);
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.pulsate();
}, t.prototype.shouldComponentUpdate = function(e, t) {
return this.props.text === e.text && this.props.size === e.size && this.props.textStyle === e.textStyle || (this.nextProps = e), 
this.state !== t;
}, t.prototype.render = function() {
return o.createElement("surface", {
style: this.opacityTween.getStyleClass("opacity")
}, o.createElement(i.Text, {
value: this.state.text.toUpperCase(),
size: this.state.size,
style: this.state.textStyle
}));
}, t.defaultProps = {
size: a.TextSize.M
}, t;
}(o.Component);
t.PulsatingText = c;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(68), a = n(153), s = n(72), u = n(1304), l = n(235), c = n(37), p = n(13), d = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.hasCurrentlyPlaying = !1, e;
}
return e.__extends(n, t), n.prototype.isCurrentlyPlaying = function(e) {
var t = this.props.details.server, n = t.mapNamePretty.toUpperCase() === e.mapPrettyName.toUpperCase() && t.mapModePretty.toUpperCase() === e.modePrettyName.toUpperCase();
return this.hasCurrentlyPlaying ? n = !1 : !0 !== n || this.hasCurrentlyPlaying || (this.hasCurrentlyPlaying = !0), 
n;
}, n.prototype.getItemHeading = function(e, t) {
return t ? __("ID_SPARTA_SERVER_PLAYINGNOW") : void 0;
}, n.prototype.getItemInactiveHighlightColor = function(e, t) {
return t ? "#ffffff33" : void 0;
}, n.prototype.render = function() {
return r.createElement("surface", null);
}, n;
}(r.Component), f = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.renderMap = function(t, n) {
var o = e.isCurrentlyPlaying(t), i = e.props.itemInput && e.props.itemInput(t, n, o), a = i && i.label;
return r.createElement(y, {
key: "maprotationitem" + n,
entry: t,
index: n,
input: i,
label: a,
focusGroup: e.props.focusGroup,
heading: e.getItemHeading(t, o),
inactiveHighlightColor: e.getItemInactiveHighlightColor(t, o)
});
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(s.CardCarousel, {
id: "48287ca3:81:31",
style: u.MapRotationInfoStyle.carousel
}, this.props.details.server.rotation.map(this.renderMap), ";");
}, n = e.__decorate([ o.observer ], n);
}(d);
t.MapRotationCarousel = f;
var m = Math.ceil(p.Grid.getWidth(c.CARD_WIDTH.cells.SW)), h = Math.ceil(p.Grid.getHeight(c.CARD_HEIGHT.cells.SW)), g = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = new l.TableRenderer("map-table", 4, u.MapRotationInfoStyle.tableWidth, u.MapRotationInfoStyle.tableHeight, u.MapRotationInfoStyle.tableHeaderHeight, m + p.Grid.spacer(2), h + p.Grid.spacer(2), u.MapRotationInfoStyle.tableSoftClip);
return this.props.details.server.rotation.forEach(function(n, o) {
t.addRowCell("map" + o, function(t, i) {
var a = e.isCurrentlyPlaying(n), s = e.props.itemInput && e.props.itemInput(n, o, a), l = s && s.label;
return r.createElement(S, {
key: t.rowIndex + "-" + t.columnIndex,
focusItem: i,
entry: n,
index: o,
input: s,
label: l,
heading: e.getItemHeading(n, a),
inactiveHighlightColor: e.getItemInactiveHighlightColor(n, a),
style: u.MapRotationInfoStyle.tableCellItem(t)
});
});
}), t.end(), r.createElement("surface", {
style: u.MapRotationInfoStyle.tableContainer
}, t.render());
}, n = e.__decorate([ o.observer ], n);
}(d);
function y(t) {
var n = t.entry, o = t.index, a = t.focusGroup;
return r.createElement(i.Focusable, {
key: "map" + o,
id: "map" + n.modePrettyName + n.mapPrettyName + o,
group: a,
groupIndex: o
}, function(n) {
return r.createElement(S, e.__assign({
focusItem: n
}, t));
});
}
t.MapRotationGrid = g;
var S = o.observer(function(e) {
var t = e.focusItem, n = e.entry, o = e.index, i = e.heading, s = e.inactiveHighlightColor, u = e.input, l = e.label, p = e.style;
return r.createElement(a.PlayCard, {
key: "map" + o,
input: u,
joinButtonName: l,
focusItem: t,
heading: i,
headingColor: "#FFFFFF",
inactiveHighlightColor: s,
modes: n.modePrettyName.toUpperCase(),
maps: n.mapPrettyName.toUpperCase(),
background: n.mapImage,
size: c.CardSize.SW,
style: p
});
});
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(1), r = n(6), o = n(8), i = n(19), a = n(155), s = n(10), u = n(31), l = function() {
return 1e3 * s.medalStore.getTimeToNextReset(u.tunguskaGameId);
};
t.TunguskaCurrentMedalInfo = function(t) {
var n = t.textSize, s = t.textType, u = t.style;
return e.createElement(i.LocaleRearrange, {
style: u
}, e.createElement(r.Text, {
key: "time",
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_TIME"),
size: n,
type: s
}), e.createElement("surface", {
key: "dayLeft",
style: {
flexDirection: "row",
justifyContent: "center"
}
}, e.createElement(r.Text, {
value: "(",
style: {
marginLeft: o.spacer()
},
type: s,
size: n
}), e.createElement(a.Countdown, {
timeDelta: l,
targetTime: 0,
type: s,
size: n
}), e.createElement(r.Text, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_TIME_LEFT"),
style: {
marginLeft: o.spacer()
},
type: s,
size: n
}), e.createElement(r.Text, {
value: ")",
type: s,
size: n
})));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(8), s = n(324), u = n(6), l = n(14), c = n(15), p = n(5), d = n(27), f = s.AnimationConstants.rankImage, m = l.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), h = p.StaticStyle.wrapLegacyStyleSheet({
image: {
zOffset: 100,
width: 70,
height: 70
}
}, "1df7061b:20:15"), g = l.bbOfflineUrl("/sparta/jsclient/builds/assets/blank-69d0497e.png"), y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t._isMounted = !1, t.tweens = {
opacity: c.Animation.tween("1df7061b:51:34", 1),
translateX: c.Animation.tween("1df7061b:52:37", 0),
flareScale: c.Animation.tween("1df7061b:53:37", 0),
flareOpacity: c.Animation.tween("1df7061b:54:39", 0),
scale: c.Animation.tween("1df7061b:55:32", 1)
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this._isMounted = !0, this.context.retainTexture(this.props.rank.imageUrl || g);
}, t.prototype.shouldComponentUpdate = function(e) {
return null !== this.props.prevRank || null !== e.prevRank;
}, t.prototype.componentDidUpdate = function(e) {
var t = this, n = this.props.parentWidth || 0, r = this.props.rank.number, o = this.props.nextRank ? this.props.nextRank.number : void 0, i = this.props.prevRank ? this.props.prevRank.number : void 0;
if (r === o) {
var s = -n / 2 - a.getWidth(1, !1), u = -n - a.getWidth(2, !1);
return this.animateTo(s).then(function() {
return t.flareAndScaleTo(1.5);
}).then(function() {
return t.animateAndScaleBack(u);
}).then(function() {
t._isMounted && t.props.animationCallback && t.props.animationCallback();
});
}
if (i) {
if (r === i) return this.fadeOutSlow(0);
if (r === i + 1) return this.fadeInSoft(1);
}
this.props.rank.imageUrl !== e.rank.imageUrl && this.context.retainTexture(this.props.rank.imageUrl || g), 
this.props.skipAnimation || this.fadeOut(0).then(function() {
t.resetX(), t.fadeIn(1);
});
}, t.prototype.componentWillUnmount = function() {
this._isMounted = !1, this.tweens.opacity.destroy(), this.tweens.translateX.destroy(), 
this.tweens.scale.destroy(), this.tweens.flareScale.destroy(), this.tweens.flareOpacity.destroy();
}, t.prototype.fadeIn = function(e) {
return this._isMounted ? this.tweens.opacity.promiseTo(e, {
duration: 1e3
}) : Promise.resolve();
}, t.prototype.fadeOutSlow = function(e) {
return this._isMounted ? this.tweens.opacity.promiseTo(e, {
duration: 500
}) : Promise.resolve();
}, t.prototype.fadeOut = function(e) {
return this._isMounted && this.tweens.opacity.set(e), Promise.resolve();
}, t.prototype.fadeInSoft = function(e) {
return this._isMounted && this.tweens.opacity.set(e), Promise.resolve();
}, t.prototype.flareAndScaleTo = function(e) {
var t = this, n = [];
if (this._isMounted) {
var r = {
duration: f.move.duration,
easing: d.Easing.CubicInOut,
delay: f.move.delay
}, o = {
duration: f.move.duration,
easing: d.Easing.CubicInOut
};
n = [ this.tweens.flareScale.promiseTo(3, r), this.tweens.flareOpacity.promiseTo(1, o).then(function() {
return t.tweens.flareOpacity.promiseTo(0, o);
}), this.tweens.scale.promiseTo(e, r) ];
}
return Promise.all(n);
}, t.prototype.resetX = function() {
this.tweens.translateX.set(0);
}, t.prototype.animateTo = function(e) {
if (!this._isMounted) return Promise.resolve();
var t = {
duration: f.move.duration,
easing: d.Easing.CubicInOut
};
return this.tweens.translateX.promiseTo(e, t);
}, t.prototype.animateAndScaleBack = function(e) {
var t = [];
if (this._isMounted) {
var n = {
duration: f.scaleOut.duration,
easing: d.Easing.CubicInOut,
delay: f.scaleOut.delay
};
this.tweens.flareScale.set(0), t = [ this.tweens.scale.promiseTo(1, n), this.tweens.translateX.promiseTo(e, n) ];
}
return Promise.all(t);
}, t.prototype.render = function() {
var e = {
zOffset: 1,
enableMouseEvents: !1,
position: "absolute",
rotateZ: -20,
height: 582.5,
width: 853 / 1.5,
left: 0,
top: 0,
translateX: -853 / 3,
translateY: -1165 / 4.5,
scaleY: this.tweens.flareScale.getStyle(),
texture: m,
opacity: this.tweens.flareOpacity.getStyle()
}, t = this.props.rank.imageUrl || g, n = {
marginBottom: -35,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
height: 70,
width: 70,
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle(),
zOffset: 1e3,
opacity: this.tweens.opacity.getStyle(),
translateX: this.tweens.translateX.getStyle()
}, r = (this.props.rank.number || 0).toString();
return o.createElement("surface", {
style: [ n, this.props.style ]
}, o.createElement("surface", {
style: [ h.image, {
texture: t
} ]
}), o.createElement(u.Text, {
value: r,
size: "S",
type: "emphasis"
}), o.createElement("surface", {
style: e
}));
}, t.contextTypes = {
retainTexture: i.func.isRequired
}, t;
}(o.Component);
t.RankImageContainer = y;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(14), o = {
medic: {
white: r.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconMedicLarge-229bba54.png"),
black: r.bbUrl("/sparta/jsclient/builds/assets/medic-black-ea4e2a1a.png")
},
assault: {
white: r.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconAssaultLarge-563b3a10.png"),
black: r.bbUrl("/sparta/jsclient/builds/assets/assault-black-0dcc3fe4.png")
},
support: {
white: r.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconSupportLarge-17c34ab8.png"),
black: r.bbUrl("/sparta/jsclient/builds/assets/support-black-3eca0136.png")
},
scout: {
white: r.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconScoutLarge-886eef18.png"),
black: r.bbUrl("/sparta/jsclient/builds/assets/scout-black-7ef7dbaf.png")
},
cavalry: {
white: r.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconRiderLarge-c946be3c.png"),
black: ""
},
pilot: {
white: r.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconPilotLarge-b482de39.png"),
black: ""
},
tanker: {
white: r.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconTankerLarge-8a5201f7.png"),
black: ""
},
hero: {
white: r.bbUrl("/gamedata/tunguska/UI/Textures/Icons/HudIcons/KitIcons/Large/KitIconHeroLarge-14a39a48.png"),
black: ""
}
};
t.getImagesByKit = function i(e) {
return e ? o[e.toLowerCase()] || null : {
white: "",
black: ""
};
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(263), i = n(8), a = n(6), s = n(19), u = n(61), l = n(21), c = n(15), p = n(5), d = n(17), f = n(7), m = n(27), h = c.Animation.defaultTweenOptions.duration / 2, g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = f.SpartaContext.getFromComponent(e), e.animation = r.createRef(), 
e;
}
return e.__extends(n, t), n.prototype.play = function(e) {
this.animation.current && this.animation.current.play(e);
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).statsComponents, t = this.props, n = t.place, i = t.right, s = t.bottom, u = t.animation, l = e.textColor(1 === n), c = "";
switch (n) {
case 1:
c = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_BEST");
break;

case 2:
c = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SECOND");
break;

case 3:
c = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_THIRD");
break;

case 4:
c = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_FOURTH");
break;

case 5:
c = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_FIFTH");
}
var f = e.placingFontSize, m = s ? e.placing : e.placingDock;
if (!s) {
var h = i ? e.placingRight : e.placingLeft;
m = p.merge2(m, h);
}
return r.createElement(o.AnimatedSurface, {
style: p.merge2(m, l),
animation: u,
ref: this.animation
}, r.createElement(a.Text, {
value: c,
style: p.merge2(d.CommonStyles.whitespaceNoWrap, l),
size: f,
type: e.placingTextType
}));
}, n.contextTypes = f.SpartaContext.contextTypes, n;
}(r.Component), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = f.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).statsComponents, t = this.props, n = t.name, o = t.value, s = t.width, u = t.note, c = e.textColor(!!u), d = e.statBlockTextSize, f = o ? o.toString() : "0";
return r.createElement(i.Col, {
style: p.merge2(e.statBlockStyle, p.DynamicStyle.create({
width: s
}, "315d888c:146:65"))
}, r.createElement(a.Text, {
value: n,
size: d
}), r.createElement(a.Text, {
value: f,
type: e.statValueTextType,
style: p.merge2(c, e.statBlockValue),
size: l.TextSize.XXL
}), u && r.createElement(a.Text, {
value: u,
type: e.statValueTextType,
style: c,
size: d
}));
}, n.contextTypes = f.SpartaContext.contextTypes, n;
}(r.Component);
t.StatBlock = y;
var S = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
return o.sparta = f.SpartaContext.getFromComponent(o), o.place = r.createRef(), 
o.placeAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
opacity: {
from: .01,
to: 1
}
},
options: {
easing: m.Easing.CubicInOut,
duration: 300
}
}, o;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.props.skipAnimation || this.play();
}, n.prototype.play = function() {
this.place.current && this.place.current.play(1e3);
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).statsComponents, t = this.props, n = t.name, o = t.value, l = t.place, c = t.decimals, p = void 0 === c ? 0 : c, d = t.modifier, f = t.right, m = e.textColor(!!(l && 1 === l && o > 0)), h = parseInt(p.toString(), 10) || 0, y = l && l > 0 && l < 6 && o > 0 ? r.createElement(g, {
place: l,
right: f,
ref: this.place,
animation: this.placeAnimation
}) : null, S = e.fontSize, v = u.formatDecimals(o, h);
return d && (v += d), r.createElement(i.Row, {
style: e.statRowStyle
}, s.localeRearrange([ r.createElement(a.Text, {
value: n.toUpperCase(),
size: S,
style: m,
key: "textval"
}), r.createElement(a.Text, {
type: e.statRowTextType,
value: v,
size: S,
key: "numberval",
style: m
}) ]), y);
}, n.contextTypes = f.SpartaContext.contextTypes, n;
}(r.Component);
t.StatRow = S;
var v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = f.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).statsComponents, t = this.props, n = t.name, o = t.value, s = o ? o.toString() : "0";
return r.createElement(i.Col, {
style: e.smallStatBlockStyle
}, r.createElement(a.Text, {
value: n,
style: {
marginBottom: 8
},
size: e.statBlockTextSize
}), r.createElement(a.Text, {
value: s,
type: e.statBlockValueTextType,
style: e.statBlockValueText,
size: e.statBlockValueTextSize
}));
}, n.contextTypes = f.SpartaContext.contextTypes, n;
}(r.Component);
t.SmallStatBlock = v;
var _ = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
return o.sparta = f.SpartaContext.getFromComponent(o), o.text = r.createRef(), o.score = r.createRef(), 
o.place = r.createRef(), o.textAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
translateY: {
from: 30,
to: 0
},
opacity: {
from: 0,
to: 1
}
},
options: {
easing: m.Easing.CubicOut,
duration: 400
}
}, o.placeAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
opacity: {
from: .01,
to: 1
}
},
options: {
easing: m.Easing.CubicOut,
duration: 300
}
}, o;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.props.skipAnimation || this.play(h);
}, n.prototype.play = function(e) {
this.text.current && this.text.current.play(e), this.score.current && this.score.current.play(e + 50), 
this.place.current && this.place.current.play(e);
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).statsComponents, t = this.props, n = t.value, s = t.place, u = t.name, l = e.fontSize, c = ("number" == typeof n ? Math.round(n).toLocaleString() : n) || "0", f = e.textColor(1 === s && n > 0), m = s && s > 0 && s < 6 && n > 0 ? r.createElement(g, {
place: s,
bottom: !0,
ref: this.place,
animation: this.placeAnimation
}) : null, h = e.fillerBottom(!m);
return r.createElement(i.Col, {
style: p.merge2(e.topStatBlockStyle, h)
}, r.createElement(o.AnimatedSurface, {
ref: this.text,
animation: this.textAnimation,
style: p.merge2(e.topStatBlockText, e.topStatBlockTextHeight)
}, r.createElement(a.Text, {
value: u.toUpperCase(),
size: l,
style: e.topStatText
})), r.createElement(o.AnimatedSurface, {
ref: this.score,
animation: this.textAnimation,
style: e.topStatBlockText
}, r.createElement(a.Text, {
value: c.toUpperCase(),
type: e.statBlockValueTextType,
style: p.merge3(d.CommonStyles.whitespaceNoWrap, e.topStatBlockValue, f),
size: e.statBlockValueTextSize
})), m);
}, n.contextTypes = f.SpartaContext.contextTypes, n;
}(r.Component);
t.TopStatBlock = _;
var b = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
return o.sparta = f.SpartaContext.getFromComponent(o), o.firstPlace = r.createRef(), 
o.secondPlace = r.createRef(), o.placeAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
opacity: {
from: .01,
to: 1
}
},
options: {
easing: m.Easing.CubicInOut,
duration: 300
}
}, o;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.props.skipAnimation || this.play();
}, n.prototype.play = function() {
this.firstPlace.current && this.firstPlace.current.play(1250 + h), this.secondPlace.current && this.secondPlace.current.play(1250 + h);
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).statsComponents, t = this.props, n = t.firstStat, o = t.secondStat, s = t.valueText, l = t.decimals, c = n.value || 0, d = o.value || 0, f = u.formatDecimals(c, l ? 2 : 0), m = u.formatDecimals(d, l ? 2 : 0), h = e.statRowTextSize, y = n.place, S = o.place, v = y && y > 0 && y < 6 && c > 0 ? r.createElement(g, {
place: y,
ref: this.firstPlace,
animation: this.placeAnimation
}) : null, _ = S && S > 0 && S < 6 && d > 0 ? r.createElement(g, {
place: S,
right: !0,
ref: this.secondPlace,
animation: this.placeAnimation
}) : null, b = e.textColor(1 === y && c > 0), T = e.textColor(1 === S && d > 0);
return r.createElement(i.Col, {
style: p.merge2(e.statRowStyle, e.row)
}, v, r.createElement(a.Text, {
value: f,
size: h,
type: e.statRowTextType,
style: b
}), r.createElement(a.Text, {
value: s.toUpperCase(),
size: h
}), r.createElement(a.Text, {
value: m,
size: h,
type: e.statRowTextType,
style: T
}), _);
}, n.contextTypes = f.SpartaContext.contextTypes, n;
}(r.Component);
t.ComparisonStatsRow = b, t.Divider = function() {
return r.createElement("surface", {
style: {
backgroundColor: "#ffffff11",
height: 1
}
});
};
var T = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
return o.animation = r.createRef(), o.statRowAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
translateY: {
from: 10,
to: 0
},
opacity: {
from: 0,
to: 1
}
},
options: {
easing: m.Easing.CubicOut,
duration: 300
}
}, o;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.props.skipAnimation || this.play(100 * this.props.delay + h + 350);
}, n.prototype.play = function(e) {
this.animation.current && this.animation.current.play(e);
}, n.prototype.render = function() {
return r.createElement(o.AnimatedSurface, {
ref: this.animation,
animation: this.statRowAnimation
}, this.props.children);
}, n;
}(r.Component);
t.AnimatedStatRow = T;
var E = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.animation = r.createRef(), n.statBlockAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
scaleY: {
from: 1.3,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: {
easing: m.Easing.CubicOut,
duration: 300
}
}, n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.props.skipAnimation || this.play(50 * this.props.delay);
}, n.prototype.play = function(e) {
this.animation.current && this.animation.current.play(e);
}, n.prototype.render = function() {
return r.createElement(o.AnimatedSurface, {
ref: this.animation,
animation: this.statBlockAnimation
}, this.props.children);
}, n;
}(r.Component);
t.AnimatedStatBlock = E;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(25), a = n(6), s = n(23), u = n(8), l = n(28), c = n(73), p = n(619), d = n(441), f = n(619), m = n(306), h = n(7), g = n(259), y = {
container: {
width: s.safeZone.width,
height: .75 * s.safeZone.height,
marginBottom: u.getHeight(5),
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
content: {
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
title: {
marginBottom: 2 * u.GUTTER
},
description: {
marginBottom: 4 * u.GUTTER
},
playerImage: {
width: 256,
height: 256,
marginBottom: 2 * u.GUTTER
},
button: {
width: u.getWidth(2.5),
margin: [ u.GUTTER, u.GUTTER, 0, u.GUTTER ]
},
reportControls: {
flexDirection: "row",
justifyContent: "center"
}
}, S = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = h.SpartaContext.getFromComponent(r), r.closePopup = function() {
r.props.popupInfo && (i.close(r.props.popupInfo.id), r.props.inGameAction && r.props.inGameAction());
}, r.reportClick = function() {
return r.reportEmblem(r.props.personaId);
}, d.emblemState.personaEmblems.has(e.personaId) && d.emblemState.clearEmblemForPersona(e.personaId), 
f.requestEmblemForPersona(e.personaId), r;
}
return e.__extends(n, t), n.prototype.reportEmblem = function(e) {
p.reportEquippedEmblem(e), c.tunguskaEndOfRoundStore.reportPlayer(e), this.closePopup();
}, n.prototype.render = function() {
var e = __("ID_SPARTA_EOR_REPORT_EMBLEM"), t = this.props.personaId, n = null, o = null, i = null, s = "", u = d.emblemState.getEmblemForPersona(t);
if (this.sparta.stores.settingsStore.hasUGCAccess()) if (u) {
var c = g.getValidEmblemUrl(this.sparta.stores.hostingGameStore, u.url || "");
if (c) {
var p = {
texture: m.imageUrlFromTemplate(c, 256, "png")
};
i = __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_MESSAGE"), s = __("ID_SPARTA_ACTION_CANCEL"), 
n = r.createElement("surface", {
style: [ y.playerImage, p ]
}), o = r.createElement(l.Button, {
name: "2002ef6d:129:31",
text: __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_CONFIRM"),
action: this.reportClick,
style: y.button
});
} else i = __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_MESSAGE_NOT_FOUND"), s = __("ID_SPARTA_ACTION_OK");
} else i = __("ID_SPARTA_START_LOADING"), s = __("ID_SPARTA_ACTION_CANCEL"); else i = __("ID_SPARTA_EOR_REPORT_EMBLEM_POPUP_MESSAGE_NOT_FOUND"), 
s = __("ID_SPARTA_ACTION_OK");
return r.createElement("surface", {
style: y.container
}, r.createElement(a.Text, {
value: e.toUpperCase(),
type: "emphasis",
size: "L",
style: y.title
}), n, r.createElement(a.Text, {
value: i,
type: "emphasis",
size: "S",
style: y.description
}), r.createElement("surface", {
style: y.reportControls
}, o, r.createElement(l.Button, {
name: "2002ef6d:152:35",
text: s,
action: this.closePopup,
style: y.button
})));
}, n.contextTypes = h.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.ScoreboardPlayerPopup = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(441), o = n(10), i = n(24), a = n(88), s = n(9);
var u = a.debounce(function l(e) {
i.request("Emblems.getEquippedEmblem", {
personaId: e,
platform: s.SpartaGlobals.bundlePlatform.toLowerCase()
}).then(function(e) {
return r.emblemState.setEquippedEmblem(e);
}).catch(function() {
return console.warn("Error fetching equipped emblem");
});
}, 3e4, !0);
t.refreshEquippedEmblem = function c() {
var e = o.onlineState.sessionUser;
e && e.spartaUserId.personaId && u(e.spartaUserId.personaId);
}, t.reportEquippedEmblem = function p(e) {
i.request("Petition.reportEquippedEmblem", {
personaId: e
}).then(function(e) {
e || console.warn("Error reporting the equipped emblem, reporting failed");
}).catch(function() {
return console.warn("Error reporting the equipped emblem");
});
}, t.requestEmblemForPersona = function d(e) {
i.request("Emblems.getEquippedEmblem", {
personaId: e,
platform: s.SpartaGlobals.bundlePlatform.toLowerCase()
}).then(function(t) {
return r.emblemState.addEmblemForPersona(e, t);
}).catch(function() {
r.emblemState.addEmblemForPersona(e), console.warn("Error fetching equipped emblem");
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("EorComponentStyles"), a = function() {
function e() {}
return e.scrollerHeight = o.value(function() {
return o.LayoutBounds.content.height - (o.Constants.isPC ? o.Grid.getHeight(25, !1) : o.Grid.getHeight(15, !1));
}, "36eb5324:18:28"), e.scrollerSoftClip = o.value(function() {
return [ o.Grid.getHeight(1, !1), 0, o.Grid.getHeight(3, !1), 0 ];
}, "36eb5324:21:30"), e.listBorder = o.wrap(function() {
return o.style({
position: "absolute",
width: 2,
left: 0,
top: 0,
bottom: 2,
zOffset: 1,
backgroundColor: "#efefef"
}, "36eb5324:23:35");
}), e.teamName = o.wrap(function() {
return o.style({
flex: 1,
whiteSpace: "nowrap"
}, "36eb5324:35:33");
}), e.teamLeft = o.wrap(function() {
return o.style({
flex: 1,
paddingRight: o.Grid.spacer(2, !1)
}, "36eb5324:42:33");
}), e.teamRight = o.wrap(function() {
return o.style({
flex: 1,
paddingLeft: o.Grid.spacer(2, !1)
}, "36eb5324:49:34");
}), e.flagTeam = o.wrap(function() {
return o.style({
flex: 0,
width: 4 * o.Grid.GUTTER,
height: 4 * o.Grid.GUTTER,
marginRight: 2 * o.Grid.GUTTER
}, "36eb5324:56:33");
}), e.header = o.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center",
paddingRight: o.Grid.GUTTER,
marginBottom: o.Grid.getHeight(2, !1)
}, "36eb5324:65:31");
}), e.headerStats = o.wrap(function() {
return o.style({
textAlign: "right"
}, "36eb5324:74:36");
}), e.stat = o.wrap(function() {
return o.style({
flex: 0,
width: o.Grid.getWidth(1, !1)
}, "36eb5324:80:29");
}), e.score = o.wrap(function() {
return o.style({
flex: 0,
width: 1.5 * o.Grid.getWidth(2, !1)
}, "36eb5324:87:30");
}), e = r.__decorate([ i.style ], e);
}();
t.ScoreboardTeamStyles = a;
var s = function() {
function e() {}
var t;
return t = e, e.rowHeight = o.value(function() {
return o.Grid.getHeight(o.Constants.isPC ? 3.75 : 3.2);
}, "36eb5324:97:23"), e.iconHeight = o.value(function() {
return t.rowHeight / 2;
}, "36eb5324:98:24"), e.info = o.wrap(function() {
return o.style({
flex: 1,
height: t.rowHeight,
flexDirection: "row",
alignItems: "center"
}, "36eb5324:100:29");
}), e.statKills = o.stylefunc(function() {
return o.style({
alignSelf: "center",
zOffset: 1,
width: o.Grid.getWidth(1, !1),
textAlign: "right"
}, "36eb5324:110:14");
}, function(e) {
return o.dynamicStyle({
color: e.color
}, "36eb5324:117:36");
}), e.statDeaths = o.stylefunc(function() {
return o.style({
alignSelf: "center",
zOffset: 1,
width: o.Grid.getWidth(1, !1),
textAlign: "right"
}, "36eb5324:124:14");
}, function(e) {
return o.dynamicStyle({
color: e.color
}, "36eb5324:131:36");
}), e.statScore = o.stylefunc(function() {
return o.style({
alignSelf: "center",
zOffset: 1,
width: 1.5 * o.Grid.getWidth(2, !1),
textAlign: "right"
}, "36eb5324:138:14");
}, function(e) {
return o.dynamicStyle({
color: e.color
}, "36eb5324:145:36");
}), e.textStyle = o.wrap(function() {
return o.style({
zOffset: 1,
textAlign: "center",
textAlignForRTL: "center"
}, "36eb5324:151:34");
}), e.playerStyle = o.wrap(function() {
return o.style({
flex: 1,
textAlign: "left",
alignSelf: "flex-start"
}, "36eb5324:159:36");
}), e.rankContainer = o.stylefunc(function() {
return o.style({
zOffset: 1,
width: 4 * o.Grid.GUTTER,
marginRight: 2 * o.Grid.GUTTER,
marginLeft: -1,
alignSelf: "center",
justifyContent: "center",
height: o.Grid.getHeight(2, !1),
marginTop: o.Constants.isPC ? 0 : -2,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ]
}, "36eb5324:168:14");
}, function(e) {
return o.dynamicStyle({
color: e.color
}, "36eb5324:182:36");
}), e.unRankedRankContainer = o.wrap(function() {
return o.style({
width: 4 * o.Grid.GUTTER,
marginRight: 2 * o.Grid.GUTTER,
marginLeft: -1,
height: o.Grid.getHeight(2, !1),
marginTop: o.Constants.isPC ? 0 : -2
}, "36eb5324:188:46");
}), e.rankTextStyle = o.stylefunc(function() {
return o.style({
marginTop: 0,
fontSize: o.Constants.isPC ? 8 : 10,
alignSelf: "center"
}, "36eb5324:199:14");
}, function(e) {
return o.dynamicStyle({
color: e.color
}, "36eb5324:205:36");
}), e.playerRow = o.stylefunc(function() {
return o.style({
height: t.rowHeight,
localBounds: !1,
borderRadius: [ 0, 6, 6, 0 ],
paddingTop: o.Constants.isPC ? 0 : 2,
zOffset: 4,
flex: 1,
paddingRight: o.Grid.GUTTER,
flexDirection: "row",
marginBottom: 2,
marginLeft: 2
}, "36eb5324:212:14");
}, function(e) {
return o.dynamicStyle({
backgroundColor: e.backgroundColor,
opacity: e.isFreemium ? .5 : 1
}, "36eb5324:225:67");
}), e.expandedRow = o.wrap(function() {
return o.style({
flexDirection: "column",
flex: 1
}, "36eb5324:232:36");
}), e.playerName = o.wrap(function() {
return o.style({
maxWidth: o.Grid.getWidth(5, !1) - o.Constants.ELLIPSIS_OFFSET.M
}, "36eb5324:239:35");
}), e.placing = o.stylefunc(function() {
return o.style({
alignSelf: "center",
zOffset: 1,
width: 4 * o.Grid.GUTTER,
margin: [ 0, o.Grid.GUTTER, 0, 2 * o.Grid.GUTTER ]
}, "36eb5324:246:14");
}, function(e) {
return o.dynamicStyle({
color: e.color
}, "36eb5324:253:36");
}), e.border = o.wrap(function() {
return o.style({
position: "absolute",
backgroundColor: "#efefef66"
}, "36eb5324:259:31");
}), e.borderBlack = o.wrap(function() {
return o.style({
position: "absolute",
backgroundColor: "#000000"
}, "36eb5324:266:36");
}), e.contextMenuContainer = o.wrap(function() {
return o.style({
position: "absolute",
right: 0,
top: 0,
width: o.Grid.getWidth(1, !1),
height: t.rowHeight,
backgroundColor: "#000000"
}, "36eb5324:273:45");
}), e.contextMenuButton = o.wrap(function() {
return o.style({
height: t.rowHeight
}, "36eb5324:284:42");
}), e.extraContent = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row",
padding: [ o.Grid.GUTTER, 0, 2 * o.Grid.GUTTER, 2 * o.Grid.GUTTER ]
}, "36eb5324:290:37");
}), e.voipIcon = o.stylefunc(function() {
return o.style({
textureFadeInTime: 0,
width: 17,
height: 18,
position: "absolute",
right: 0,
top: (t.rowHeight - 18) / 2 + (o.Constants.isPC ? 0 : -1)
}, "36eb5324:299:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture,
color: e.color
}, "36eb5324:308:53");
}), e = t = r.__decorate([ i.style ], e);
}();
t.ScoreboardRowStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(5), s = n(15), u = n(8), l = n(6), c = n(37), p = n(62), d = n(86), f = n(17), m = n(1329), h = n(33), g = n(22), y = n(71), S = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.preLoader = y.textureHandler.createPreloader(n), t.entry && (n.focusItem = g.focusSystem.create(n, "codexcard_" + t.entry.code)), 
n;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
this.preLoader.preload(m.TunguskaCodexCardStyle.gradientActive, void 0), this.preLoader.preload(m.TunguskaCodexCardStyle.gradientInactive, void 0), 
this.preLoader.preload(m.TunguskaCodexCardStyle.goldenTexture, void 0);
var e = this.getImage();
this.isCollected() && e ? this.preLoader.preload(e, void 0) : (this.preLoader.preload(m.TunguskaCodexCardStyle.codexLocked, void 0), 
this.preLoader.preload(m.TunguskaCodexCardStyle.codexLockedM, void 0));
}, t.prototype.isCollected = function() {
return this.props.completedOverride || this.props.entry && this.props.entry.isCollected;
}, t.prototype.renderGoldenLine = function(e) {
return o.createElement("surface", {
style: m.TunguskaCodexCardStyle.goldenLine(e, this.props.isInPopup ? 16 : 8)
});
}, t.prototype.getImage = function() {
var e = this.props.entry && this.props.entry && this.props.entry.imageUrls;
return e && e[this.props.imageSize || "small"];
}, t.prototype.renderInfo = function(e) {
var t = e.isCollected || this.props.completedOverride, n = e.category || "", r = e.displayName || "";
return o.createElement("surface", {
style: m.TunguskaCodexCardStyle.info(!!this.props.isInPopup)
}, o.createElement(l.Text, {
key: "category",
value: n.toUpperCase(),
size: this.props.isInPopup ? "L" : "XXS",
style: a.merge2(m.TunguskaCodexCardStyle.textCategory, t ? m.TunguskaCodexCardStyle.goldenText : a.emptyStyle)
}), o.createElement(l.Text, {
key: "name",
value: r.toUpperCase(),
size: this.props.isInPopup ? "XL" : "XS",
type: h.TextType.EMPHASIS,
style: a.merge2(m.TunguskaCodexCardStyle.textName, t ? m.TunguskaCodexCardStyle.goldenText : a.emptyStyle)
}));
}, t.prototype.renderProgress = function(e, t) {
var n = e.criteria || [], r = n.length ? 0 : 1, i = 0;
return n.forEach(function(e) {
r += e.progression ? e.progression.valueNeeded : 0, i += e.progression ? e.progression.valueAcquired : 0;
}), o.createElement(d.ProgressBar, {
style: m.TunguskaCodexCardStyle.progressBar(t),
barColorStyle: f.CommonStyles.bgColor("#ff9900"),
bgColorStyle: f.CommonStyles.bgColor("#000000"),
height: this.props.isInPopup ? "L" : "M",
completed: 100 * i / r / 100
});
}, t.prototype.render = function() {
var e = this.props.isInPopup, t = this.props.entry, n = this.props.skipProgress, r = this.focusItem.isFocusedOrHovered, i = this.isCollected(), l = this.props.isInPopup ? [ 15, 15, 15, 15 ] : [ 5, 5, 5, 5 ], d = this.props.isInPopup ? [ 0, 0, 15, 15 ] : [ 0, 0, 5, 5 ], f = e ? m.TunguskaCodexCardStyle.lockedBackgroundLarge : m.TunguskaCodexCardStyle.lockedBackground, h = a.merge3(m.TunguskaCodexCardStyle.dock, !i && t ? f : a.emptyStyle, m.TunguskaCodexCardStyle.image({
borderRadius: l,
texture: i && t ? this.getImage() : void 0
})), g = a.merge2(m.TunguskaCodexCardStyle.overlayStyle({
borderRadius: l,
texture: m.TunguskaCodexCardStyle.gradientInactive
}), s.Animation.tweenSwitchStyle("22c5e401:142:40", "opacity", 1, 0, r, s.Animation.presets.focusables.enter.fast, s.Animation.presets.focusables.leave)), y = a.merge2(m.TunguskaCodexCardStyle.overlayStyle({
borderRadius: l,
texture: m.TunguskaCodexCardStyle.gradientActive
}), s.Animation.tweenSwitchStyle("22c5e401:155:40", "opacity", 0, 1, r, s.Animation.presets.focusables.enter.fast, s.Animation.presets.focusables.leave)), S = a.DynamicStyle.create({
width: u.getWidth(c.CARD_WIDTH.cells.S),
height: u.getHeight(c.CARD_HEIGHT.cells.S),
borderRadius: l,
enableMouseEvents: !this.props.isInPopup
}, "22c5e401:166:22");
return o.createElement(p.Pressable, {
style: a.merge2(S, a.DynamicStyle.maybeLegacyStyle(this.props.style, "22c5e401:175:37")),
input: this.props.buttons,
scale: !e,
focusItem: this.focusItem
}, o.createElement("surface", {
style: h
}), o.createElement("surface", {
style: g
}), o.createElement("surface", {
style: y
}), !i && !n && t && this.renderProgress(t, d), t && this.renderInfo(t), t && i && t.isGolden && this.renderGoldenLine(d));
}, t.defaultProps = {
isInPopup: !1,
buttons: [],
skipProgress: !1,
completedOverride: !1,
hasNoSideMargin: !1
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaCodexCard = S;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(621), i = n(14), a = n(34), s = n(1330), u = n(305), l = n(143), c = n(25), p = n(23), d = n(8), f = n(6), m = n(21), h = n(19), g = n(225), y = n(5), S = n(9), v = m.LINE_HEIGHTS.S, _ = S.SpartaGlobals.bundleIsPC ? p.dangerZoneSize.height : p.fadeAreaBottom.height, b = y.StaticStyle.wrapLegacyStyleSheet({
container: {
width: p.safeZone.width,
height: .75 * p.safeZone.height,
marginBottom: d.getHeight(5),
flexDirection: "row"
},
cardContainer: {
width: d.getWidth(8.5, !1),
height: .75 * p.safeZone.height
},
cardContainerSmall: {
width: 160 + d.getWidth(1, !1),
height: .75 * p.safeZone.height
},
cardSmall: {
width: 160,
height: 225,
opacity: 1
},
card: {
width: d.getWidth(7.5, !1),
height: .75 * p.safeZone.height,
opacity: 1
},
criteriaContainer: {
marginBottom: d.GUTTER,
marginTop: d.GUTTER
},
criteria: {
flexDirection: "row",
marginBottom: d.GUTTER,
marginTop: d.GUTTER
},
paragraphText: {
marginTop: d.GUTTER,
textLineSpacing: (S.SpartaGlobals.bundleIsConsole, Math.round(1.2 * v)),
textAlignForRTL: "left",
marginRight: 2 * d.GUTTER
},
goldenText: {
texture2: i.bbOfflineUrl("/sparta/assets/tunguska/career/golden-texture-eae85f40.png"),
texture2Mode: "fill",
opacity: 1
}
}, "1556a4cf:30:15");
function T(e) {
var t = u.chunkTextByLines(e.value).map(function(e, t) {
return r.createElement(f.Text, {
value: e,
size: "S",
key: t,
style: b.paragraphText
});
});
return r.createElement("surface", null, t);
}
function E(e) {
var t = {
marginTop: e.topMargin ? e.topMargin : d.GUTTER
};
return h.isRTLLanguage() && (t.textAlignForRTL = "left", t.marginRight = 2 * d.GUTTER), 
r.createElement(f.Text, {
size: e.size,
value: e.value,
style: t
});
}
var C = y.StaticStyle.create({
marginRight: d.spacer(2),
textAlignForRTL: "left",
width: S.SpartaGlobals.bundleIsConsole ? d.getWidth(14.85) : d.getWidth(17.5),
flexWrap: "wrap"
}, "1556a4cf:202:14"), I = y.StaticStyle.create({
marginLeft: d.spacer(2),
width: S.SpartaGlobals.bundleIsConsole ? d.getWidth(13.5) : d.getWidth(17),
flexWrap: "wrap"
}, "1556a4cf:208:14"), A = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.renderProgressInfo = function(e) {
var t = this;
if (e && e.criteria && e.criteria.length) {
var n = e.criteria.map(function(n, r) {
var o = e.isCollected;
return t.renderCriteria(r, n, o);
});
return r.createElement("surface", {
key: "criteria-info"
}, n);
}
return this.renderCriteria(0, {
code: "codex-criteria-code",
name: e.progression && e.progression.description ? e.progression.description : "",
progression: {
unlocked: e.isCollected ? 1 : 0
}
}, !1);
}, n.prototype.renderCollectedInfo = function(e) {
if (e.isCollected || this.props.completedOverride) {
var t = e.details, n = S.SpartaGlobals.bundleIsConsole ? m.TextSize.L : m.TextSize.M, o = r.createElement("surface", null), i = r.createElement("surface", null), a = r.createElement("surface", null);
return t && t.subHeader && "" !== t.subHeader && (i = r.createElement(E, {
size: n,
value: t.subHeader.toUpperCase(),
topMargin: 4 * d.GUTTER
})), t && t.text2 && "" !== t.text2 && (o = r.createElement(T, {
key: "collected-text2",
value: t.text2
})), e && e.details && (a = r.createElement(T, {
key: "collected-details",
value: e.details.description
})), r.createElement("surface", {
key: "collected-info"
}, a, i, o);
}
}, n.prototype.renderCriteria = function(e, t, n) {
var o = t.progression && t.progression.unlocked || this.props.completedOverride || n, i = !0 === o || o > 0, a = o ? b.goldenText : y.emptyStyle, s = h.isRTLLanguage() ? C : I;
return r.createElement("surface", {
key: "criteria-" + e,
style: b.criteriaContainer
}, r.createElement("surface", {
style: b.criteria
}, h.localeRearrange([ r.createElement(l.Checkbox, {
key: "checkbox",
value: i,
style: a
}), r.createElement(f.Text, {
value: t.name,
key: "criteria-name",
size: "S",
style: y.merge2(a, s)
}) ])));
}, n.prototype.renderEliteInfo = function(e) {
return r.createElement("surface", {
key: "elite-xp"
}, r.createElement(f.Text, {
value: e.score + __("ID_SPARTA_GENERIC_XP"),
key: "xp-value",
size: "M",
style: b.paragraphText
}));
}, n.prototype.render = function() {
var e = this.props.codex, t = e.category || "", n = e.details && e.details.header ? e.details.header : "", o = void 0 !== e.score && e.score > 0, i = e.expansions && e.expansions.length > 0 && e.expansions.map(function(e) {
return e.license;
})[0], s = i ? r.createElement(g.PremiumTreatment, {
expansion: i,
showPrefixSeparator: !1,
showExpansionName: !0,
marginRight: h.isRTLLanguage()
}) : null;
return r.createElement(a.Scroller, {
style: {
width: d.getWidth(14, !1),
height: b.container.getNumericStyle("height", 0),
flex: 1
},
softClip: [ 0, 0, 0, _ ],
controller: !0
}, r.createElement(f.Text, {
size: "S",
value: t.toUpperCase(),
style: {
opacity: .66,
textAlignForRTL: "left",
marginRight: 2 * d.GUTTER
}
}), r.createElement(E, {
size: "XL",
value: n.toUpperCase()
}), s, o && this.renderEliteInfo(e), this.renderProgressInfo(e), this.renderCollectedInfo(e));
}, n;
}(r.Component), w = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.isVOPlaying = !1, n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.canPlayVoiceOver() && this.props.codex.voiceOver && (this.isVOPlaying = !0, 
s.playCodexVO(this.props.codex.voiceOver));
}, n.prototype.componentWillUnmount = function() {
this.isVOPlaying && s.stopCodexVO(), this.props.onClose && this.props.onClose();
}, n.prototype.canPlayVoiceOver = function() {
return this.props.codex && this.props.codex.voiceOver && (this.props.codex.isCollected || this.props.completedOverride) && this.props.shouldPlayVoiceOver;
}, n.prototype.closePopup = function() {
this.isVOPlaying && (this.isVOPlaying = !1, s.stopCodexVO());
var e = this.props.popupInfo;
e && c.close(e.id);
}, n.prototype.render = function() {
var e = this.props.completedOverride || !1, t = this.props.codex;
return t.displayName ? r.createElement("surface", {
style: b.container
}, h.localeRearrange([ r.createElement("surface", {
style: b.cardContainer,
key: "card-container"
}, r.createElement(o.TunguskaCodexCard, {
imageSize: "large",
entry: t,
isInPopup: !0,
hasNoSideMargin: !0,
style: b.card,
completedOverride: e
})), r.createElement(A, {
codex: t,
key: "right-pane",
completedOverride: e
}) ])) : r.createElement(f.Text, {
value: __("ID_SPARTA_TUNGUSKA_CODEX_INFO_UNAVAILABLE")
});
}, n.showCloseButton = !0, n.defaultProps = {
shouldPlayVoiceOver: !1,
completedOverride: !1,
isOffline: !1
}, n;
}(r.Component);
t.TunguskaCodexPopup = w;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(10), i = n(6), a = n(8), s = n(86), u = n(14), l = n(4), c = n(11), p = n(1332), d = n(607), f = n(53), m = n(12), h = n(155), g = n(29), y = n(1333), S = n(36), v = n(271), _ = n(31), b = n(82), T = n(440), E = n(5), C = n(17), I = n(608), A = n(22), w = n(71), P = {
front_normal: u.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/default-battlepack-9531d9fe.png"),
front_white: u.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/default-battlepack-w-8886d79f.png")
}, R = {
medal_black: u.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-medal-black-86eb22e9.png"),
medal_white: u.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-medal-white-f8267284.png")
}, O = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, x = {
width: a.getWidth(5),
height: a.getHeight(20)
}, k = {
boxContainer: {
flexDirection: "row",
height: x.height
},
box: {
marginRight: 2 * a.GUTTER
},
battlepack: {
textureMode: "contain",
textureAtlas: "SpartaCommonAtlas",
width: x.width - 10 * a.GUTTER,
height: x.height - 4 * a.GUTTER,
marginTop: 3 * -a.GUTTER
},
bpCounter: {
zOffset: 10,
position: "absolute",
flexDirection: "row",
bottom: 2 * -a.GUTTER,
left: 3 * a.GUTTER,
padding: [ .75 * a.GUTTER, 1.5 * a.GUTTER, .75 * a.GUTTER, 1.5 * a.GUTTER ],
backgroundColor: "#d4d4d4",
alignItems: "center",
justifyContent: "center"
}
}, L = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.unopenedStore = T.tunguskaBattlepackUnopenedStore.get(_.tunguskaGameId), 
n.focusItem = A.focusSystem.create(n, "battlepack_box"), n.focusItem.autoFocusCandidate = !0, 
n;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "unopened", {
get: function() {
return this.unopenedStore.value ? this.unopenedStore.value.battlepacks.reduce(function(e, t) {
return e + t.quantity;
}, 0) : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "suggestion", {
get: function() {
var e = this, t = this.unopenedStore.value;
if (this.unopened > 0 && t) return {
type: I.BattlepackBoxType.Unopened,
title: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_OPEN"),
action: function() {
return f.route({
route: e.props.route,
subRoute: "battlepacks"
});
},
component: r.createElement(y.UnopenedBox, {
data: {
packs: t.battlepacks
},
focusItem: this.focusItem
})
};
var n = d.tunguskaBattlepackSuggestionStore.get("tunguska");
if (!n.isReady) return {
type: I.BattlepackBoxType.Loading,
title: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_VIEW"),
action: function() {
return f.route({
route: e.props.route,
subRoute: "battlepacks"
});
},
component: r.createElement(g.Spinner, null)
};
var o = n.value, i = o && o.data, a = o && o.revision, s = o && o.type;
if (i && a && s) {
if (I.BattlepackSuggestion.isScrapDuplicatesSuggestion(i)) return {
type: s,
title: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BROWSER_INVENTORY"),
action: function() {
return f.route({
route: e.props.route,
subRoute: "battlepacks?tab=inventory"
});
},
component: r.createElement(y.ScrapDuplicatesBox, {
data: i,
revision: a,
focusItem: this.focusItem
})
};
if (I.BattlepackSuggestion.isAffordableBattlepackSuggestion(i)) return {
type: s,
title: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_GET_PACK").replace("[[pack]]", i.name),
action: function() {
return f.route({
route: e.props.route,
subRoute: "battlepacks?tab=get"
});
},
component: r.createElement(y.AffordableBattlepackBox, {
data: i,
revision: a,
focusItem: this.focusItem
})
};
if (I.BattlepackSuggestion.isScrapExchangeItemSuggestion(i)) return {
type: s,
title: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_EXCHANGE_SCRAPS"),
action: function() {
return f.route({
route: e.props.route,
subRoute: "battlepacks?tab=scrapexchange"
});
},
component: r.createElement(y.ScrapExchangeItemBox, {
data: i,
revision: a,
focusItem: this.focusItem
})
};
console.warn("Unknown suggestion type", s);
}
return {
type: I.BattlepackBoxType.GetBattlepack,
title: __("ID_SPARTA_TUNGUSKA_BATTLEPACK_REVISION_AVAILABLE"),
action: function() {
return f.route({
route: e.props.route,
subRoute: "battlepacks?tab=get"
});
},
component: r.createElement(y.GetBattlepacksBox, {
focusItem: this.focusItem,
revision: a,
data: {
image: P.front_normal
}
})
};
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var t = this, n = new m.Input({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_VIEW"),
action: function() {
return e = t.suggestion.action, S.trackEvent("BattlepackSuggestion", "click", t.suggestion.type), 
d.tunguskaBattlepackSuggestionStore.expireFragment("tunguska"), void e();
var e;
},
key: c.Keys.Accept
}), o = this.suggestion.title;
return r.createElement(p.Box, e.__assign({}, x, {
input: n,
title: o,
focusItem: this.focusItem,
style: k.box
}), r.createElement(v.TrackImpression, {
action: "impression",
category: "BattlepackSuggestion",
label: this.suggestion.type
}, this.suggestion.component));
}, n = e.__decorate([ l.observer ], n);
}(r.Component), M = E.StaticStyle.create({
bottom: -1,
width: a.getWidth(5)
}, "467f782e:270:59"), D = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.focusItem = A.focusSystem.create(n, "medal_box"), n.timeDelta = function() {
return 1e3 * o.medalStore.getTimeToNextReset(_.tunguskaGameId);
}, n.focusItem.autoFocusCandidate = !0, n;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = o.medalStore.getSelectedCurrentMedal(_.tunguskaGameId);
e && e.images && e.images.Small && (this.preloader = w.textureHandler.createPreloader(this), 
this.preloader.preload(e.images.Small, void 0));
}, Object.defineProperty(n.prototype, "medalInput", {
get: function() {
var e = this;
return new m.Input({
label: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_CHANGE"),
action: function() {
return f.route({
route: e.props.route,
subRoute: "medals"
});
},
key: c.Keys.Accept
});
},
enumerable: !0,
configurable: !0
}), n.prototype.renderMedalTiming = function(e) {
var t = this.focusItem.isFocusedOrHovered ? "#000000" : "#ffffff", n = __(e ? "ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_TIME_LEFT" : "ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_NONE"), o = e ? {
marginLeft: a.spacer()
} : {
opacity: .66
};
return r.createElement("surface", {
key: "medalCallout",
style: {
flexDirection: "row",
marginBottom: a.spacer()
}
}, e ? r.createElement(h.Countdown, {
timeDelta: this.timeDelta,
size: "XS",
color: t
}) : null, r.createElement(i.Text, {
value: n,
size: "XS",
color: t,
style: o
}));
}, n.prototype.render = function() {
var t, n, i = o.medalStore.getSelectedCurrentMedal(_.tunguskaGameId), a = this.renderMedalTiming(!!i);
if (i) {
var u = i.currentProgression ? i.currentProgression.percentage : 0, l = !i.currentProgression || !i.currentProgression.unlocked;
t = [ a, r.createElement(s.ProgressBar, {
key: "progress",
completed: u,
style: E.merge2(C.CommonStyles.dockBottom, M)
}) ], n = r.createElement("surface", {
style: e.__assign({}, O, {
texture: i.images && i.images.Small,
textureMode: "contain",
textureFadeInTime: 0,
grayScale: l ? 1 : 0
})
});
} else t = [ a ], n = r.createElement("surface", {
style: e.__assign({}, O, {
texture: this.focusItem.isFocusedOrHovered ? R.medal_black : R.medal_white,
opacity: .66,
textureMode: "contain"
})
});
return r.createElement(p.Box, e.__assign({}, x, {
focusItem: this.focusItem,
style: k.box,
shimmer: !i,
input: this.medalInput,
bottom: t,
title: __(i ? "ID_SPARTA_CAREER_WEEKLY_MEDALS_LONG" : "ID_SPARTA_TUNGUSKA_SELECTMEDAL")
}), n);
}, n = e.__decorate([ l.observer ], n);
}(r.Component), N = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e;
b.tunguskaFeatureFlags.ingameBattlepacks.isEnabled() && "playing" !== this.props.route && (e = r.createElement(L, {
route: this.props.route
}));
var t = r.createElement(D, {
route: this.props.route
});
return r.createElement("surface", {
style: [ k.boxContainer, this.props.style ]
}, e, t);
}, n;
}(r.Component);
t.GameViewBoxes = N;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(79), o = n(1), i = n(4), a = n(3), s = n(26), u = n(31), l = n(6), c = n(12), p = n(11), d = n(311), f = n(43), m = n(53), h = n(56), g = n(208), y = n(445), S = n(159), v = n(206), _ = n(205), b = n(73), T = n(19), E = n(58), C = n(260), I = n(1335), A = n(74), w = n(449), P = n(224), R = n(447), O = n(623), x = n(196), k = n(198), L = n(17), M = n(448), D = n(82), N = n(91), F = n(121), G = n(120), U = n(158), B = function() {
function t(e, t, n, r, o, i) {
var s = this;
this.gameStateStoreLoader = e, this.nativePropertiesStore = t, this.gameDataStore = n, 
this.spartaActivatedStore = r;
var l = o.forGame(u.tunguskaGameId);
e.onLoad(function(e) {
a.reaction(function() {
return e.server;
}, function(e) {
s.setServer(e);
});
}), l.onStart(function(e) {
s.setMatchmakingSession(e.session);
}), l.onFinished(function(t) {
var n = t.session, r = t.session.server;
n.stateId === G.MatchmakingState.CANCELED || n.stateId === G.MatchmakingState.ERROR ? s.setMatchmakingSession() : n.stateId === G.MatchmakingState.SUCCESS && r && _.operationFlow.state === _.OperationState.none && s.nativePropertiesStore.isHostingGame(r.game) && (m.route(A.GameViewRoute.NONE), 
i.landOnEarth(function() {
e.get().server && m.route(A.GameViewRoute.LOADING), s.setMatchmakingSession();
}));
});
}
return t.prototype.setMatchmakingSession = function(e) {
this.matchmakingSession = e;
}, Object.defineProperty(t.prototype, "matchmakerFilter", {
get: function() {
return this.matchmakingSession && this.matchmakingSession.filter;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "gameData", {
get: function() {
return this.gameDataStore.get(u.tunguskaGameId).value;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "mapName", {
get: function() {
var e = b.tunguskaEndOfRoundStore.nextLevelName, t = null;
return e && this.gameData && (t = this.gameData.maps.find(function(t) {
return t.filterKey === e;
})), t ? t.prettyName : this.server ? this.server.mapNamePretty : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isConquestAssualt", {
get: function() {
var e = this.gameMode;
return D.tunguskaFeatureFlags.tunguskaConquestAssaultEnabled.isEnabled() && null !== e && void 0 !== e && "Conquest" === e.filterKey && this.showServerInfo && this.server instanceof r.GameServer && -1 !== u.tunguskaConquestAssaultMaps.indexOf(this.server.mapName.toLowerCase());
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isAirAssault", {
get: function() {
var e = this.gameMode;
return null !== e && void 0 !== e && "AirAssault" === e.filterKey && this.showServerInfo;
},
enumerable: !0,
configurable: !0
}), t.prototype.getAirAssaultDescription = function() {
if (this.server) {
var e = this.server.mapName.toLowerCase();
if ("mp_alps" === e) return __("ID_SPARTA_TUNGUSKA_AIR_ASSAULT_ALPS_DESC");
if ("mp_london" === e) return __("ID_SPARTA_TUNGUSKA_AIR_ASSAULT_LONDON_DESC");
if ("mp_blitz" === e) return __("ID_SPARTA_TUNGUSKA_AIR_ASSAULT_BLITZ_DESC");
}
return null;
}, Object.defineProperty(t.prototype, "modeName", {
get: function() {
return this.isConquestAssualt ? __("ID_SPARTA_TUNGUSKA_CONQUESTASSAULT") : this.gameMode ? this.gameMode.prettyName : this.server ? this.server.mapModePretty : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "gameMode", {
get: function() {
var e = b.tunguskaEndOfRoundStore.nextGameMode, t = null;
return e ? t = e : this.server ? t = this.server.mapMode : this.matchmakerFilter && (t = this.matchmakerFilter.categories.gameModes.values.keys().next().value), 
t && this.gameData ? this.gameData.gameModes.find(function(e) {
return e.filterKey === t;
}) : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "header", {
get: function() {
return this.gameMode ? this.isConquestAssualt ? __("ID_SPARTA_TUNGUSKA_CONQUESTASSAULT_HEADER") : this.gameMode.header : this.experience ? this.experience.prettyName : "";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "description", {
get: function() {
if (this.gameMode) {
if (this.isConquestAssualt) return __("ID_SPARTA_TUNGUSKA_CONQUESTASSAULT_DESC");
if (this.isAirAssault) {
var e = this.getAirAssaultDescription();
if (e) return e;
}
return this.gameMode.description;
}
return this.experience ? this.experience.description : "";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "experience", {
get: function() {
if (this.matchmakerFilter && !this.server) {
var e = this.matchmakerFilter.categories.experiences.values.keys().next().value;
if (e && this.gameData) return this.gameData.experiences.find(function(t) {
return t.id === e;
});
}
return null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "showServerInfo", {
get: function() {
var e = this.spartaActivatedStore.navigationState === h.NavigationStates.LoadingScreen, t = !!this.matchmakingSession;
if (this.server) {
if (e) return !0;
if (!t) return !0;
}
return !1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "acceptMatchmakingInputs", {
get: function() {
return this.spartaActivatedStore.navigationState === h.NavigationStates.FrontEnd && !(!this.matchmakingSession || !this.matchmakingSession.inProgress);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "acceptQueueInputs", {
get: function() {
return this.spartaActivatedStore.navigationState === h.NavigationStates.FrontEnd && this.gameStateStoreLoader.get().queue.status === x.QueueStatus.Queued;
},
enumerable: !0,
configurable: !0
}), t.prototype.setServer = function(e) {
this.server = e;
}, t.prototype.gotoEor = function() {
F.blackFadeTransition(function() {
m.route("eor");
});
}, t.prototype.enterGame = function() {
S.goToGame({
withBlackFade: !0,
changeRoute: "playing"
});
}, t.prototype.doQuitGame = function() {
v.nextRoundCountDown.stop(), f.stopGame({});
}, t.prototype.quitGame = function() {
_.operationFlow.state !== _.OperationState.eor && S.quitWithConfirm(function() {
S.toggleQuittingOverlay(!b.tunguskaEndOfRoundStore.gameReadyToQuit);
});
}, e.__decorate([ a.observable ], t.prototype, "server", void 0), e.__decorate([ a.observable ], t.prototype, "matchmakingSession", void 0), 
e.__decorate([ a.action ], t.prototype, "setMatchmakingSession", null), e.__decorate([ a.computed ], t.prototype, "matchmakerFilter", null), 
e.__decorate([ a.computed ], t.prototype, "gameData", null), e.__decorate([ a.computed ], t.prototype, "mapName", null), 
e.__decorate([ a.computed ], t.prototype, "isConquestAssualt", null), e.__decorate([ a.computed ], t.prototype, "isAirAssault", null), 
e.__decorate([ a.computed ], t.prototype, "modeName", null), e.__decorate([ a.computed ], t.prototype, "gameMode", null), 
e.__decorate([ a.computed ], t.prototype, "header", null), e.__decorate([ a.computed ], t.prototype, "description", null), 
e.__decorate([ a.computed ], t.prototype, "experience", null), e.__decorate([ a.computed ], t.prototype, "showServerInfo", null), 
e.__decorate([ a.computed ], t.prototype, "acceptMatchmakingInputs", null), e.__decorate([ a.computed ], t.prototype, "acceptQueueInputs", null), 
e.__decorate([ a.action ], t.prototype, "setServer", null), t;
}();
t.LoadingState = B;
var j = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.tunguska = U.TunguskaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.tunguska.loadingState.matchmakerFilter;
if (!e) return o.createElement("surface", null);
var t = d.getFilterSummary(e), n = [];
return t.text && n.push(o.createElement(l.Text, {
key: "summary",
value: t.text.toUpperCase(),
size: "S"
})), t.isCustomGames && (n.push(o.createElement("surface", {
key: "customPadding",
style: M.TunguskaLoadingStyles.cgPadding
})), n.push(o.createElement(l.Text, {
key: "customFilter",
value: __("ID_SPARTA_FILTER_CUSTOM_FILTERS"),
size: "S",
color: C.customTextColor
}))), o.createElement("surface", {
style: M.TunguskaLoadingStyles.filterSettings({
isRTL: T.isRTLLanguage()
})
}, n);
}, n.contextTypes = U.TunguskaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(o.Component), H = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.tunguska = U.TunguskaContext.getFromComponent(e), e.loadingState = e.tunguska.loadingState, 
e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "primarySettings", {
get: function() {
if (this.loadingState.server && this.loadingState.server.custom) return {
text: __("ID_SPARTA_SERVER_TYPE_CUSTOM_GAME"),
color: C.customTextColor
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "premiumTrialSettings", {
get: function() {
var e = this.tunguska.sparta.stores.freemiumStore, t = this.tunguska.sparta.twinkle.buildInfo, n = [];
if (e.isFreemiumPossible) if (e.isInPremiumParty) {
var r = "";
t.isPC ? r = __("ID_SPARTA_LAYOUT_COMCENTER_PREMIUM_PARTY_PC") : t.isXboxOne ? r = __("ID_SPARTA_LAYOUT_COMCENTER_PREMIUM_PARTY_XB1") : t.isPS4 && (r = __("ID_SPARTA_LAYOUT_COMCENTER_PREMIUM_PARTY_PS4")), 
n.push({
text: r,
color: "#ff9900"
});
} else e.isPremiumTrialEnabled && e.hasFreemium && n.push({
text: __("ID_SPARTA_PREMIUM_TRIALS_TITLE"),
color: "#ff9900"
});
return e.hasFreemium && this.loadingState.server && (k.validateExpansionAccess(this.loadingState.server.game, this.loadingState.server.mapExpansion) || n.push({
text: __("ID_SPARTA_SERVER_LOADING_XP_LOCKED"),
color: "#ff9900"
})), n;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "customGamesSettings", {
get: function() {
var e = this.loadingState.server;
if (e && !_.operationFlow.hideMatchmakingDetails) {
var t = this.tunguska.sparta.stores.gameServerDetailsStore.get(e.game, e.gameId);
if (t.value && t.value.changedSettings) {
var n = t.value.changedSettings;
if (0 === n.length) return;
var r = n.map(function(e) {
return {
text: e.label + ": " + e.value
};
}), i = T.isRTLLanguage() ? E.Direction.Left : E.Direction.Right;
return o.createElement(E.Marquee, {
scroll: !0,
loop: !0,
key: "cgsettings",
scrollTo: i,
delay: 1e3,
speed: .033,
style: L.CommonStyles.flex1
}, o.createElement(R.TwinColumns, {
elements: r
}));
}
}
},
enumerable: !0,
configurable: !0
}), n.prototype.insertSeparators = function(e) {
var t = [], n = e.filter(function(e) {
return !!e;
}), r = n.length;
return n.forEach(function(e, n) {
t.push(e), r > n + 1 && t.push(o.createElement(l.Text, {
color: "#ffffff",
size: "S",
value: "|",
key: "sep" + n,
style: M.TunguskaLoadingStyles.inlineSeparator
}));
}), t;
}, n.prototype.render = function() {
var e = this.loadingState.header, t = this.loadingState.description, n = null, r = this.loadingState.server;
if (r && this.loadingState.showServerInfo) {
var i = this.premiumTrialSettings;
this.loadingState.mapName && i.push({
text: this.loadingState.mapName.toUpperCase()
}), this.loadingState.modeName && i.push({
text: this.loadingState.modeName
}), this.primarySettings && i.push(this.primarySettings), n = o.createElement("surface", {
style: L.CommonStyles.flex1
}, o.createElement("surface", {
style: M.TunguskaLoadingStyles.twinColumns({
isRTL: T.isRTLLanguage()
})
}, T.localeRearrange(this.insertSeparators([ o.createElement(R.TwinColumns, {
elements: i,
key: "primarysettings"
}), this.customGamesSettings ]))), o.createElement(l.Text, {
value: e,
size: "XXL",
style: M.TunguskaLoadingStyles.header({
isRTL: T.isRTLLanguage()
})
}), o.createElement(l.Text, {
value: t,
size: "S",
style: M.TunguskaLoadingStyles.description({
isRTL: T.isRTLLanguage()
})
}), o.createElement("surface", {
style: M.TunguskaLoadingStyles.hint({
isRTL: T.isRTLLanguage()
})
}, o.createElement(I.Hints, {
gameMode: r.mapMode,
map: r.mapName
})));
} else this.loadingState.matchmakingSession && this.loadingState.matchmakingSession.inProgress && !_.operationFlow.hideMatchmakingDetails && (n = o.createElement("surface", {
style: L.CommonStyles.flex1
}, o.createElement(j, null), o.createElement(l.Text, {
value: e,
size: "XXL",
style: M.TunguskaLoadingStyles.header({
isRTL: T.isRTLLanguage()
})
}), o.createElement(l.Text, {
value: t,
size: "S",
style: M.TunguskaLoadingStyles.description({
isRTL: T.isRTLLanguage()
})
})));
return o.createElement("surface", {
style: M.TunguskaLoadingStyles.gameInfo
}, n);
}, n.contextTypes = U.TunguskaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(o.Component), z = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.showJoinButton = !1, e.tunguska = U.TunguskaContext.getFromComponent(e), 
e.loadingState = e.tunguska.loadingState, e.showJoinButtonTimeout = -1, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this, t = this.tunguska.sparta.stores.gameStateStoreLoader.get();
this.reaction(function() {
return e.tunguska.sparta.stores.gameStateStoreLoader.get().isGameViewVisible;
}, function() {
e.updateInput();
}), this.reaction(function() {
return t.hasLoadedLevel && t.queue.status !== x.QueueStatus.Queued;
}, function(t) {
clearTimeout(e.showJoinButtonTimeout), t ? e.showJoinButtonTimeout = setTimeout(a.action(function() {
e.showJoinButton = !0;
}), 1e3) : e.showJoinButton = !1;
});
}, n.prototype.componentWillUnmount = function() {
clearTimeout(this.showJoinButtonTimeout);
}, n.prototype.getInput = function() {
var e = this, t = this.tunguska.sparta.stores.gameStateStoreLoader.get(), n = [];
return t.isGameViewVisible ? (this.loadingState.acceptMatchmakingInputs || t.queue.status === x.QueueStatus.Queued ? n.push(new c.Input({
visible: !0,
label: __("ID_SPARTA_ACTION_CANCEL"),
key: p.Keys.Decline,
action: function() {
return e.loadingState.doQuitGame();
}
})) : v.nextRoundCountDown.active ? n.push(new c.Input({
visible: !0,
label: __("ID_SPARTA_ACTION_QUIT"),
key: p.Keys.Option2,
action: function() {
return e.loadingState.quitGame();
}
})) : this.showJoinButton && n.push(new c.Input({
visible: !0,
label: __("ID_SPARTA_ACTION_JOIN"),
key: p.Keys.Option1,
action: function() {
return e.loadingState.enterGame();
}
})), this.loadingState.acceptMatchmakingInputs && !_.operationFlow.isMatchmakingToAny ? n.push(new c.Input({
visible: !0,
label: __("ID_SPARTA_ACTION_BROWSE_WHILE_WAITING"),
key: p.Keys.Start,
action: function() {
m.browseWhileWaiting(!0);
}
})) : this.loadingState.acceptQueueInputs && !_.operationFlow.isMatchmakingToAny ? n.push(new c.Input({
visible: !0,
label: __("ID_SPARTA_ACTION_BROWSE_WHILE_WAITING"),
key: p.Keys.Start,
action: function() {
m.browseWhileWaiting(!0);
}
})) : v.nextRoundCountDown.active && n.push(new c.Input({
visible: !0,
label: __("ID_SPARTA_GAMESTATE_PREVIOUS_ROUND"),
key: p.Keys.Start,
blockInputFor: S.delayedCrossFadeDuration,
action: function() {
return e.loadingState.gotoEor();
}
})), n) : [];
}, n.prototype.render = function() {
var e = this.loadingState.matchmakingSession && this.loadingState.matchmakingSession.inProgress && this.tunguska.sparta.stores.spartaActivatedStore.navigationState === h.NavigationStates.FrontEnd, t = this.tunguska.sparta.stores.gameStateStoreLoader.get(), n = t.isSpectator || t.serverState.isRole(N.JoinRole.spectator), r = !1, i = "wait";
return this.loadingState.server && this.loadingState.showServerInfo ? (i = "server", 
r = !0) : e && (i = "matchmaking", r = !0), o.createElement(g.TunguskaGameViewRoute, {
footer: o.createElement(y.CountDownLoadingFooter, {
autoDismiss: !0
})
}, r && o.createElement("surface", {
style: L.CommonStyles.flex1
}, o.createElement(H, null), o.createElement("surface", {
style: M.TunguskaLoadingStyles.boxesContainer
}, o.createElement(P.Fader, {
transitionId: i,
style: M.TunguskaLoadingStyles.footerContent
}, !n && !this.tunguska.sparta.twinkle.buildInfo.isCTE() && o.createElement(O.GameViewBoxes, {
style: M.TunguskaLoadingStyles.boxes,
route: A.GameViewRoute.LOADING
}), o.createElement(w.TrackedAssignment, {
assignmentPaddingRightRTL: M.TunguskaLoadingStyles.assignmentPadding
})))));
}, n.contextTypes = U.TunguskaContext.contextTypes, e.__decorate([ a.observable ], n.prototype, "showJoinButton", void 0), 
n = e.__decorate([ i.observer, s.input ], n);
}(o.Component);
t.Loading = z;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
function r(e) {
for (var t, n, r = e.length; 0 !== r; ) n = Math.floor(Math.random() * r), t = e[r -= 1], 
e[r] = e[n], e[n] = t;
return e;
}
function o(e, t) {
return r(e).slice(0, t);
}
Object.defineProperty(t, "__esModule", {
value: !0
});
var i = function() {
function e() {
this.hints = {};
}
return e.prototype.setHints = function(e) {
for (var t = 0, n = Object.keys(e); t < n.length; t++) {
var r = n[t], o = e[r];
this.hints[r] = o;
}
}, e.prototype.getGameModeHints = function(e, t) {
var n = t || 1, r = [], i = this.hints[e];
if (i) {
var a = o(i, n);
a && (r = a);
}
return r;
}, e.prototype.getMapHints = function(e, t) {
var n = t || 1, r = [], i = this.hints[e];
if (i) {
var a = o(i, n);
a && (r = a);
}
return r;
}, e.prototype.getGeneralHints = function(e) {
var t = e || 1, n = [], r = this.hints.general;
if (r) {
var i = o(r, t);
i && (n = i);
}
return n;
}, e.prototype.getHints = function(e, t, n) {
if (!this.hints) return [];
var o = [];
if (e) {
var i = this.getGameModeHints(e, n);
i.length && (o = o.concat(i));
}
if (t) {
var a = this.getMapHints(t, n);
a.length && (o = o.concat(a));
}
var s = this.getGeneralHints(6 - o.length);
return s.length && (o = o.concat(s)), r(o).map(function(e) {
return e.name;
});
}, e;
}();
t.GameHintStore = i, t.gameHintStore = new i();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(62), o = n(6), i = n(11), a = n(12), s = n(4), u = n(1), l = n(8), c = n(49), p = n(258), d = n(58), f = n(9), m = n(7), h = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = m.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "OwnerInfo"), 
r;
}
return e.__extends(n, t), n.prototype.renderEmblem = function() {
var e = this.props.details.platoon;
if (e) {
var t = e.emblem ? p.getEmblemUrl(e.emblem, 128, "png") : void 0;
if (t) return u.createElement("surface", {
style: {
zOffset: 2,
texture: t,
textureMode: "fill",
width: 64,
height: 64
}
});
}
return u.createElement("surface", null);
}, n.prototype.renderAvatar = function() {
var e = this.props.details;
if (e.rsp && e.rsp.owner && e.rsp.owner.avatar) return u.createElement("surface", {
style: {
zOffset: 2,
texture: e.rsp.owner.avatar,
textureMode: "fill",
width: 64,
height: 64
}
});
}, n.prototype.getInput = function() {
var e = this.props.details, t = e && e.rsp && e.rsp.owner, n = [];
return t && n.push(new a.Input({
key: i.Keys.Option1,
label: f.SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD") : __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE"),
action: function() {
return c.showUserProfile(t.platformId, "ServerDetails");
}
})), this.props.input && n.push(this.props.input), n;
}, n.prototype.render = function() {
var t = this.props.details, n = t && t.rsp, i = n && n.owner, a = this.sparta.stores.settingsStore.hasUGCAccess();
if (i && a) {
var s = this.props.details.platoon, c = i.displayName;
s && (c = "[" + s.tag + "] " + c);
var p = this.focusItem.isFocused || this.focusItem.isHovered, f = p ? "#000000" : "#ffffff", m = p ? "#ffffff" : void 0;
return u.createElement("surface", e.__assign({}, this.focusItem.hooks), u.createElement(r.Pressable, {
input: this.getInput(),
focusItem: this.focusItem,
glow: !0
}, u.createElement("surface", {
style: {
flexDirection: "row",
alignItems: "center",
paddingLeft: l.GUTTER,
backgroundColor: m
}
}, u.createElement("surface", {
style: {
zOffset: 1
}
}, u.createElement(o.Text, {
size: "S",
value: __("ID_SPARTA_SERVER_PROVIDED_BY").toLocaleUpperCase(),
color: f,
style: {
marginRight: 2 * l.GUTTER
}
}), u.createElement(d.Marquee, {
delay: 1e3,
scroll: !0,
loop: !0,
width: l.getWidth(5)
}, u.createElement(o.Text, {
size: "M",
color: f,
value: c,
style: {
marginRight: 2 * l.GUTTER
}
}))), s ? this.renderEmblem() : this.renderAvatar())));
}
return u.createElement("surface", null);
}, n.contextTypes = m.SpartaContext.contextTypes, n = e.__decorate([ s.observer ], n);
}(u.Component);
t.OwnerInfo = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(14), i = n(13), a = n(28), s = n(3), u = n(6), l = n(26), c = n(60), p = n(79), d = n(12), f = n(11), m = n(4), h = n(1337), g = n(19), y = n(7), S = n(5), v = function(e) {
return {
normal: o.bbUrl("/sparta/assets/ui/icons/ui/new_star_white-00780cc3.png"),
hover: e ? o.bbUrl("/sparta/assets/ui/icons/ui/new_star_black-4eaa2c88.png") : o.bbUrl("/sparta/assets/ui/icons/ui/new_star_white-00780cc3.png")
};
}, _ = function(e) {
return {
normal: o.bbUrl("/sparta/assets/ui/icons/ui/new_star_outline_white-deecfbe1.png"),
hover: e ? o.bbUrl("/sparta/assets/ui/icons/ui/new_star_outline_black-4e413160.png") : o.bbUrl("/sparta/assets/ui/icons/ui/new_star_outline_white-deecfbe1.png")
};
}, b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = y.SpartaContext.getFromComponent(e), e.onToggle = s.action(function() {
c.toggleBookmark(new p.GameServer(e.props.details));
}), e;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e = this;
return [ new d.Input({
label: this.props.details.isFavorite ? __("ID_SPARTA_ACTION_SERVER_UNFAVORITE") : __("ID_SPARTA_ACTION_SERVER_FAVORITE"),
key: f.Keys.Option3,
action: function() {
return e.onToggle();
}
}) ];
}, n.prototype.render = function() {
var e = this.props.details.isFavorite ? v(this.sparta.twinkle.focus.controllerMode) : _(this.sparta.twinkle.focus.controllerMode);
return r.createElement("surface", {
style: S.merge2(h.ServerFavoriteCounterStyle.container, this.props.style)
}, r.createElement("surface", {
style: h.ServerFavoriteCounterStyle.consoleIcon({
texture: e.normal
})
}), r.createElement("surface", {
style: h.ServerFavoriteCounterStyle.counter
}, r.createElement(u.Text, {
value: this.props.details.serverBookmarkCount
})));
}, n.contextTypes = y.SpartaContext.contextTypes, n = e.__decorate([ l.input, m.observer ], n);
}(r.Component);
t.ServerFavoriteCounter = b;
var T = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.getInput = function() {
return [];
}, n.prototype.render = function() {
var e = this.props.details.isFavorite ? v(this.sparta.twinkle.focus.controllerMode) : _(this.sparta.twinkle.focus.controllerMode);
return r.createElement("surface", {
style: S.merge2(h.ServerFavoriteCounterStyle.pcButtonContainer, this.props.style)
}, r.createElement(E, {
name: "BUTTON_SERVER_FAVORITE_COUNTER",
text: this.props.details.serverBookmarkCount,
upperCase: !1,
action: this.onToggle,
icon: e,
size: i.Grid.getHeight(3),
style: h.ServerFavoriteCounterStyle.favCountContainer,
textStyle: h.ServerFavoriteCounterStyle.favCountText
}));
}, n = e.__decorate([ m.observer ], n);
}(b);
t.ServerFavoriteCounterButton = T;
var E = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.getIcons = function() {
var e = t.prototype.getTexts.call(this), n = {
normal: String(this.props.icon && this.props.icon.normal),
hover: String(this.props.icon && this.props.icon.hover)
};
return Object.assign({}, e, {
normal: r.createElement(g.LocaleRearrange, {
key: "normal",
style: S.merge2(h.ServerFavoriteCounterStyle.favCountButton, this.hideOnHoverTween.getStyleClass("opacity"))
}, r.createElement("surface", {
key: "icon",
style: h.ServerFavoriteCounterStyle.favIcon({
texture: n.normal
})
}), e.normal),
hover: r.createElement(g.LocaleRearrange, {
key: "hover",
style: S.merge2(h.ServerFavoriteCounterStyle.favCountButton, this.showOnHoverTween.getStyleClass("opacity"))
}, r.createElement("surface", {
key: "icon",
style: h.ServerFavoriteCounterStyle.favIcon({
texture: n.hover
})
}), e.hover)
});
}, n = e.__decorate([ m.observer ], n);
}(a.Button);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createBattleplanWaveClients = function o(e) {
return {
getCurrentWave: new r.Client("Missions.getCurrentWave", {
requestPerformer: e
}),
claimWaveReward: new r.Client("Missions.claimWaveReward", {
requestPerformer: e
})
};
}, t.createBattleplanLootbagClients = function i(e) {
return {
getLootbag: new r.Client("Missions.getLootbag", {
requestPerformer: e
})
};
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(68), i = n(4), a = n(53), s = n(6), u = n(18), l = n(184), c = n(1346), p = n(144), d = n(64), f = n(125), m = n(75), h = n(62), g = n(34), y = n(8), S = n(23), v = n(12), _ = n(11), b = n(10), T = n(328), E = n(5), C = n(9), I = n(7), A = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = I.SpartaContext.getFromComponent(r), r.onBackClick = function() {
a.route("playing"), f.resetContextDetails();
}, r.gotoContactUs = function() {
return r.handleNavigation("contactUs");
}, c.wwceSupportArticleState.reset(), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
b.onlineState.isOnlineBlazeAndGateway && (f.getArticles(this.state.context.source), 
f.updateLocation("ARTICLE_LIST"));
}, n.prototype.handleNavigation = function(e, t) {
this.organiseCategories();
var n = this.state.context.categories;
if (f.updateArticleId(t), "contactUs" === e) if (n && n.length > 1) e = "wwcesupport/help/categoryselection"; else {
var r = n && n.length > 0 ? n[0].internalName : "default-category";
f.updateSelectedCategory(r), e = "wwcesupport/help/channelselection";
}
"InGame" === this.state.context.source ? a.route("playing/" + e) : u.gotoLocation(e);
}, n.prototype.organiseCategories = function() {
var e = [], t = [];
c.wwceSupportArticleState.articles.length > 0 && c.wwceSupportArticleState.articles[0].categories.forEach(function(n) {
-1 === t.indexOf(n.internalName) && (t.push(n.internalName), e.push(n));
});
f.updateCategories(e);
}, n.prototype.renderArticleItems = function() {
var e = this;
return c.wwceSupportArticleState.articles.map(function(t, n) {
var i = new v.Input({
action: function() {
return e.handleNavigation("wwcesupport/help/articledetail", t.id);
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: _.Keys.Accept
});
if (n <= 2) return r.createElement(o.Focusable, {
id: "wwcearticle_" + t.id,
key: t.id,
autoFocusCandidate: !0
}, function(e) {
return r.createElement(h.Pressable, {
focusItem: e,
input: i
}, r.createElement(R, {
article: t,
focusItem: e
}));
});
});
}, n.prototype.renderContent = function() {
var e, t = this.sparta.theme.getTheme(this), n = "InGame" === this.state.context.source;
if (c.wwceSupportArticleState.showContactUs && T.wwceFeatureFlags.enableHelpContactUs.isEnabled()) {
var o = __("ID_SPARTA_HELP_CONTACT_US");
e = r.createElement(m.Button, {
name: "b0c435c4:126:27",
text: o,
style: t.wwceSupportOverview.contactUsBtn,
textSize: "M",
action: this.gotoContactUs
});
} else {
var i = void 0;
i = __(n ? "ID_SPARTA_HELP_NO_CONTACT_US_BFONE" : "ID_SPARTA_HELP_NO_CONTACT_US_PC"), 
e = r.createElement(s.Text, {
value: i,
size: "M",
style: t.wwceSupportOverview.noContactUs
});
}
var a = n ? r.createElement(s.Text, {
value: __("ID_SPARTA_MENU_TITLE_HELP_ARTICLE").toUpperCase(),
size: "M",
style: t.wwceSupportOverview.inGameHeader
}) : null, u = S.content.height - y.getHeight(8);
return n && (u -= t.wwceSupportOverview.inGameHeader.getNumericStyle("height", 0)), 
r.createElement("surface", {
style: {
height: S.content.height
}
}, a, r.createElement(g.Scroller, {
style: {
height: u
}
}, this.renderArticleItems()), e);
}, n.prototype.renderNoArticlesFound = function() {
var e, t = this.sparta.theme.getTheme(this), n = "InGame" === this.state.context.source;
if (c.wwceSupportArticleState.showContactUs) {
var o = __("ID_SPARTA_HELP_CONTACT_US"), i = y.GUTTER * (17.5 + 1.75 * o.length), a = y.GUTTER * (105 - (17.5 + 1.75 * o.length)), u = E.DynamicStyle.create({
marginRight: a,
width: i,
height: 7 * y.GUTTER,
position: "absolute",
bottom: C.SpartaGlobals.bundleIsConsole ? 0 : y.getHeight(9),
left: 0
}, "b0c435c4:177:33");
e = r.createElement(m.Button, {
name: "b0c435c4:187:27",
text: o,
style: u,
textSize: "M",
action: this.gotoContactUs
});
} else {
var l = void 0;
l = __(n ? "ID_SPARTA_HELP_NO_CONTACT_US_BFONE" : "ID_SPARTA_HELP_NO_CONTACT_US_PC"), 
e = r.createElement(s.Text, {
value: l,
size: "M",
style: t.wwceSupportOverview.noContactUs
});
}
return r.createElement("surface", {
style: {
width: y.getWidth(y.COLUMNS),
height: S.content.height
}
}, r.createElement(s.Text, {
value: __("ID_SPARTA_HELP_ARTICLE_LIST_NO_ARTICLE_FOUND"),
size: "XL",
style: t.wwceSupportOverview.noArticleHeading
}), r.createElement(s.Text, {
value: __("ID_SPARTA_HELP_ARTICLE_LIST_NO_ARTICLE_FOUND_MSG"),
size: "L",
style: t.wwceSupportOverview.noArticleText
}), e);
}, n.prototype.render = function() {
var e = c.wwceSupportArticleState.articles;
return r.createElement(l.WwceSupportTemplate, {
loading: c.wwceSupportArticleState.loading,
onBackClick: this.onBackClick
}, 0 === e.length ? this.renderNoArticlesFound() : this.renderContent());
}, n.contextTypes = I.SpartaContext.contextTypes, n = e.__decorate([ i.observer, d.subscribeToStores({
context: p.WwceSupportStore
}) ], n);
}(r.Component);
t.WwceSupportOverview = A;
var w = E.StaticStyle.create({
flexDirection: "row",
height: 18 * y.GUTTER
}, "b0c435c4:238:21"), P = E.StaticStyle.create({
width: S.content.width - 32
}, "b0c435c4:239:24"), R = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = I.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e, t, n = this.sparta.theme.getTheme(this);
return this.props.focusItem.isFocusedOrHovered ? (t = n.wwceSupportOverview.verticalDivider, 
e = n.wwceSupportOverview.articleHover) : (t = n.wwceSupportOverview.verticleDividerBlurred, 
e = n.wwceSupportOverview.articleBlurred), r.createElement("surface", {
style: w
}, r.createElement("surface", {
style: t
}), r.createElement("surface", {
style: P
}, r.createElement(s.Text, {
value: this.props.article.title,
size: "L",
style: E.merge2(n.wwceSupportOverview.articleTitle, e)
}), r.createElement(s.Text, {
value: this.props.article.summary,
size: "S",
style: E.merge2(n.wwceSupportOverview.articleSummary, e)
})));
}, n.contextTypes = I.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(7), i = n(5), a = n(64), s = n(18), u = n(53), l = n(19), c = n(23), p = n(75), d = n(8), f = n(34), m = n(6), h = n(9), g = n(125), y = n(1351), S = n(144), v = n(328), _ = n(184), b = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = o.SpartaContext.getFromComponent(r), r.gotoContactUs = function() {
return r.handleNavigation("contactUs");
}, r.onHelpfulYes = function() {
return r.saveArticleMetrics(!0);
}, r.onHelpfulNo = function() {
return r.saveArticleMetrics(!1);
}, r.gotoHelp = function() {
return r.handleNavigation("wwcesupport/help");
}, g.resetArticleDetailState(), r.state = {
articleDetail: void 0,
context: void 0,
disableBtn: !1,
isHelpful: !1
}, r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.state.context && this.state.context.articleId && (g.getArticleDetail(this.state.context.articleId), 
g.updateLocation("ARTICLE_BODY"));
}, n.prototype.getParsedContent = function(e) {
var t = this.sparta.theme.getTheme(this);
if (e.parsedArticle) {
var n = e.parsedArticle, o = "", i = "", a = [], s = function(e) {
"TEXT" === o && (a.push(r.createElement(m.Text, {
size: "S",
style: t.wwceSupportCall.bodyParagraph,
value: i,
key: "ft-" + e
})), i = "");
};
return n.forEach(function(e, n) {
if ("image" === e.chunkType) s(n), a.push(r.createElement("surface", {
style: t.wwceSupportCall.bodyImage({
texture: e.src
}),
key: n
})), o = "IMAGE"; else if ("paragraph" === e.chunkType) i += e.content.text, o = "TEXT"; else if ("bulletlist" === e.chunkType) {
s(n);
var u = [];
e.items.forEach(function(e, o) {
u.push(r.createElement("surface", {
style: t.wwceSupportCall.listItem,
key: "bl-" + n + "_" + o
}, r.createElement(m.Text, {
size: "S",
value: "- " + e.text
})));
}), a.push(r.createElement("surface", {
style: t.wwceSupportCall.list,
key: n
}, u)), o = "LIST";
} else if ("orderedlist" === e.chunkType) {
s(n);
var l = [];
(e.items || []).forEach(function(e, o) {
l.push(r.createElement("surface", {
style: t.wwceSupportCall.listItem,
key: "ol-" + n + "_" + o
}, r.createElement(m.Text, {
size: "S",
value: o + 1 + ". " + e.text
})));
}), a.push(r.createElement("surface", {
style: t.wwceSupportCall.list,
key: n
}, l)), o = "LIST";
}
}), i && s(n.length), a;
}
if (e.article) return e.article.content;
}, n.prototype.saveArticleMetrics = function(e) {
this.state.context && this.state.context.articleId && (g.saveArticleMetrics(this.state.context.articleId, e), 
this.setState({
disableBtn: !0,
isHelpful: e
}));
}, n.prototype.handleNavigation = function(e) {
var t = this.state.context;
if (t) {
if ("contactUs" === e) if (t.categories && t.categories.length > 1) e = "wwcesupport/help/categoryselection"; else {
var n = t.categories && t.categories.length > 0 ? t.categories[0].internalName : "default-category";
g.updateSelectedCategory(n), e = "wwcesupport/help/channelselection";
}
t.source && "InGame" === t.source ? u.route("playing/" + e) : s.gotoLocation(e);
}
}, n.prototype.renderArticleContent = function(e) {
var t = this.sparta.theme.getTheme(this);
if (e.article) {
var n = e.article, o = h.SpartaGlobals.bundleIsPC ? c.content.height - d.getHeight(40) : c.content.height - d.getHeight(30);
return r.createElement("surface", null, r.createElement(m.Text, {
value: n.title,
size: "L",
style: t.wwceSupportArticleDetail.articleTitle
}), r.createElement(m.Text, {
value: n.summary,
size: "S",
style: t.wwceSupportArticleDetail.articleSummary
}), r.createElement(f.Scroller, {
style: {
height: o
},
controller: !0
}, r.createElement("surface", {
style: t.wwceSupportArticleDetail.articleContent
}, this.getParsedContent(e))));
}
}, n.prototype.renderContent = function(e) {
var t = this.sparta.theme.getTheme(this);
if (!this.state.context) return null;
var n, o = "InGame" === this.state.context.source;
if (e.showContactUs && v.wwceFeatureFlags.enableHelpContactUs.isEnabled()) {
var a = __("ID_SPARTA_HELP_CONTACT_US"), s = d.GUTTER * (17.5 + 1.75 * a.length), u = d.GUTTER * (105 - (17.5 + 1.75 * a.length)), f = i.DynamicStyle.create({
marginRight: u,
width: s,
height: 7 * d.GUTTER
}, "313c3419:203:38");
n = r.createElement(p.Button, {
name: "313c3419:210:27",
text: a,
key: "cbtn",
style: f,
textSize: "M",
action: this.gotoContactUs
});
} else {
var h = void 0, g = void 0;
o ? (h = __("ID_SPARTA_HELP_NO_CONTACT_US_BFONE"), g = "S") : (h = __("ID_SPARTA_HELP_NO_CONTACT_US_PC"), 
g = "M"), n = r.createElement(m.Text, {
value: h,
size: g,
style: t.wwceSupportArticleDetail.noContactUs
});
}
var y = i.merge2(t.wwceSupportArticleDetail.helpfulnessBtn, this.state.disableBtn && this.state.isHelpful ? t.wwceSupportArticleDetail.selectedBtnStyle : i.emptyStyle), S = i.merge2(t.wwceSupportArticleDetail.helpfulnessBtn, this.state.disableBtn && !this.state.isHelpful ? t.wwceSupportArticleDetail.selectedBtnStyle : i.emptyStyle), _ = i.merge2(t.wwceSupportArticleDetail.helpfulnessText, l.isRTLLanguage() ? t.wwceSupportArticleDetail.rtlMargin : i.emptyStyle);
return r.createElement("surface", {
style: {
width: c.content.width,
height: c.content.height
}
}, this.renderArticleContent(e), r.createElement("surface", {
style: t.wwceSupportArticleDetail.contactUsBar
}, n, l.localeRearrange([ r.createElement(m.Text, {
size: "S",
value: __("ID_SPARTA_HELP_ARTICLE_HELPFULNESS"),
key: "hfn",
style: _
}), r.createElement(p.Button, {
name: "313c3419:267:35",
text: __("ID_SPARTA_HELP_ARTICLE_HELPFULNESS_YES"),
key: "btn1",
disabled: this.state.disableBtn,
style: y,
action: this.onHelpfulYes
}), r.createElement(p.Button, {
name: "313c3419:275:35",
text: __("ID_SPARTA_HELP_ARTICLE_HELPFULNESS_NO"),
key: "btn2",
disabled: this.state.disableBtn,
style: S,
action: this.onHelpfulNo
}) ])));
}, n.prototype.render = function() {
var e = this.state.articleDetail;
return r.createElement(_.WwceSupportTemplate, {
loading: !e || !e.article,
onBackClick: this.gotoHelp
}, e ? this.renderContent(e) : null);
}, n.contextTypes = o.SpartaContext.contextTypes, n = e.__decorate([ a.subscribeToStores({
articleDetail: y.WwceSupportArticleDetailStore,
context: S.WwceSupportStore
}) ], n);
}(r.Component);
t.WwceSupportArticleDetail = b;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(0), o = n(1), i = n(22), a = n(14), s = n(26), u = n(64), l = n(18), c = n(12), p = n(11), d = n(53), f = n(38), m = n(25), h = n(23), g = n(75), y = n(632), S = n(8), v = n(113), _ = n(142), b = n(34), T = n(112), E = n(6), C = n(9), I = n(125), A = n(1352), w = n(273), P = n(144), R = n(184), O = n(7), x = function(t) {
function n() {
var n = null !== t && t.apply(this, arguments) || this;
return n.sparta = O.SpartaContext.getFromComponent(n), n.phoneField = o.createRef(), 
n.phoneNumberChanged = function(e) {
var t;
e.match(/^[0-9]*$/) && e.length >= n.state.minDigits && e.length <= n.state.maxDigits ? (t = !1, 
n.setState({
phoneNumber: e,
isInvalid: t
})) : (t = !0, n.setState({
isInvalid: t
})), n.checkSubmitBtnStatus(void 0, e, t);
}, n.onSubmit = function() {
return n.handleNavigation(e + "/callbackconfirmation");
}, n.onBackClick = function() {
return n.handleNavigation(e);
}, n;
}
return r.__extends(n, t), n.prototype.componentWillMount = function() {
this.setState({
disableBtn: !0
}), C.SpartaGlobals.bundleIsConsole && l.setClientVideoRecordingEnabled(!1);
}, n.prototype.componentDidMount = function() {
var t;
if (this.state.contact && this.state.contact.countryCode) for (var n = 0, r = this.state.contact.countryCodes; n < r.length; n++) {
if ((i = r[n]).calling_code === this.state.contact.countryCode.calling_code) {
t = i, this.setCountryCode(i);
break;
}
}
if (this.state.contact && this.state.contact.phoneNumber) {
var o = this.state.contact.phoneNumber.toString();
if (t) {
var i = t, a = this.validatePhoneNumber(o, i.min_digits, i.max_digits);
this.checkSubmitBtnStatus(i.calling_code, o, a);
} else this.phoneNumberChanged(o), this.checkSubmitBtnStatus("", o, !1);
}
C.SpartaGlobals.bundleIsPC && this.phoneField.current && this.phoneField.current.activate(), 
e = this.state.context.categories && this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection" : "wwcesupport/help/channelselection";
}, n.prototype.componentWillUnmount = function() {
C.SpartaGlobals.bundleIsConsole && l.setClientVideoRecordingEnabled(!0);
}, n.prototype.getInput = function() {
var e = [];
return C.SpartaGlobals.bundleIsConsole && e.push(new c.Input({
label: __("ID_SPARTA_HELP_PRIVACY_TITLE"),
action: this.showPopupTerms,
key: p.Keys.Option1,
visible: !0
})), e;
}, n.prototype.validatePhoneNumber = function(e, t, n) {
if (e) {
return e.match(/^[0-9]*$/) && e.length >= t && e.length <= n ? (this.setState({
phoneNumber: e,
isInvalid: !1
}), !1) : (this.setState({
isInvalid: !0
}), !0);
}
}, n.prototype.setCountryCode = function(e) {
this.setState({
cCode: e.calling_code,
minDigits: e.min_digits,
maxDigits: e.max_digits
});
var t = !!this.phoneField.current && this.validatePhoneNumber(this.phoneField.current.state.value, e.min_digits, e.max_digits);
this.checkSubmitBtnStatus(void 0, void 0, t);
}, n.prototype.handleNavigation = function(e) {
I.updateContactDetails(this.state.cCode, this.state.phoneNumber), "InGame" === this.state.context.source ? d.route("playing/" + e) : l.gotoLocation(e);
}, n.prototype.checkSubmitBtnStatus = function(e, t, n) {
var r, o = null !== e && void 0 !== e ? e : this.state.cCode, i = null !== t && void 0 !== t ? t : this.state.phoneNumber, a = null !== n && void 0 !== n ? n : this.state.isInvalid;
r = "" === o || "" === i || !1 !== a, this.setState({
disableBtn: r
});
}, n.prototype.showPopupTerms = function() {
var e = this.sparta.theme.getTheme(this);
m.display(new f.Popup({
id: "policyPopup",
fullScreen: !0,
createButtons: !1,
content: o.createElement("surface", {
style: e.wwceSupportCallBack.popup
}, o.createElement(A.PrivacyPolicyContent, null)),
inputs: [ new c.Input({
label: __("ID_SPARTA_ACTION_BACK"),
key: p.Keys.Decline
}) ]
}));
}, n.prototype.renderContent = function() {
var e, t = this, n = this.sparta.theme.getTheme(this), r = this.state.contact.countryCodes.map(function(e, n) {
var r, i = e.iso_code || "default";
return (r = y.flagIcons[i]) || (console.warn("Trying to get a flag that doesn't exist: " + i), 
r = a.bbUrl("/sparta/assets/ui/flags/default-870fef7b.png")), o.createElement(_.ListItem, {
icon: r,
key: e.display_name + "-" + n,
iconSize: "S",
iconSpace: S.GUTTER,
label: e.display_name + " +" + e.calling_code,
onTrigger: t.setCountryCode.bind(t, e)
});
}, this);
e = C.SpartaGlobals.bundleIsPC ? o.createElement(E.Text, {
value: __("ID_SPARTA_HELP_PRIVACY"),
size: "S",
style: n.wwceSupportCallBack.privacy,
onClick: this.showPopupTerms
}) : o.createElement(E.Text, {
value: __("ID_SPARTA_HELP_PRIVACY"),
size: "S",
style: n.wwceSupportCallBack.privacy
});
var s = 0 === this.state.contact.phoneNumber ? "" : this.state.contact.phoneNumber.toString(), u = 4 * S.getHeight(7);
return o.createElement("surface", {
style: {
width: h.content.width,
height: h.content.height
}
}, o.createElement("surface", null, o.createElement(E.Text, {
value: __("ID_SPARTA_HELP_CALL_BACK_HEADING"),
size: "L",
style: n.wwceSupportCallBack.heading
}), o.createElement("surface", {
style: n.wwceSupportCallBack.inputField
}, o.createElement("surface", {
style: n.wwceSupportCallBack.borderStyle
}, o.createElement("surface", {
style: n.wwceSupportCallBack.innerContainer
}, o.createElement(E.Text, {
style: n.wwceSupportCallBack.countryCode,
value: this.state.cCode
}))), o.createElement(T.InputField, {
ref: this.phoneField,
type: T.CharacterType.Numeric,
initialValue: s,
onValueChanged: this.phoneNumberChanged,
isInvalid: this.state.isInvalid,
style: n.wwceSupportCallBack.phoneNumber
})), o.createElement(E.Text, {
value: __("ID_SPARTA_HELP_CALL_BACK_COUNTRY_CODE").toUpperCase(),
size: "S",
style: n.wwceSupportCallBack.code
}), o.createElement("surface", {
style: n.wwceSupportCallBack.countryCodeList
}, o.createElement(b.Scroller, {
style: {
height: u
},
controller: !0
}, o.createElement(v.List, {
divider: "none",
items: r,
autoActivateItems: i.focusSystem.controllerMode,
showActiveIndicator: !0
})))), o.createElement("surface", {
style: n.wwceSupportCallBack.submitFooter
}, o.createElement(g.Button, {
name: "a6ed5466:308:31",
text: __("ID_SPARTA_HELP_SUBMIT"),
textSize: "M",
disabled: this.state.disableBtn,
action: this.onSubmit,
style: n.wwceSupportCallBack.submitBtn
}), e));
}, n.prototype.render = function() {
return o.createElement(R.WwceSupportTemplate, {
onBackClick: this.onBackClick
}, this.renderContent());
}, n.contextTypes = O.SpartaContext.contextTypes, n = r.__decorate([ s.input, u.subscribeToStores({
contact: w.WwceSupportContactChannelStore,
context: P.WwceSupportStore
}) ], n);
}(o.Component);
t.WwceSupportCallBack = x;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(14);
t.flagIcons = {
AD: r.bbUrl("/sparta/assets/ui/flags/AD-e4adff7d.png"),
AE: r.bbUrl("/sparta/assets/ui/flags/AE-34aeeb45.png"),
AF: r.bbUrl("/sparta/assets/ui/flags/AF-f4881338.png"),
AG: r.bbUrl("/sparta/assets/ui/flags/AG-4f7153e5.png"),
AI: r.bbUrl("/sparta/assets/ui/flags/AI-7a085bf1.png"),
AL: r.bbUrl("/sparta/assets/ui/flags/AL-a8bfa21a.png"),
AM: r.bbUrl("/sparta/assets/ui/flags/AM-56e77b86.png"),
AN: r.bbUrl("/sparta/assets/ui/flags/AN-e00b5e97.png"),
AO: r.bbUrl("/sparta/assets/ui/flags/AO-8841662d.png"),
AQ: r.bbUrl("/sparta/assets/ui/flags/AQ-9a8eefd0.png"),
AR: r.bbUrl("/sparta/assets/ui/flags/AR-151d1e46.png"),
AS: r.bbUrl("/sparta/assets/ui/flags/AS-bac10830.png"),
AT: r.bbUrl("/sparta/assets/ui/flags/AT-496ebc6e.png"),
AU: r.bbUrl("/sparta/assets/ui/flags/AU-c78ee63c.png"),
AW: r.bbUrl("/sparta/assets/ui/flags/AW-46ef162b.png"),
AX: r.bbUrl("/sparta/assets/ui/flags/AX-5635d351.png"),
AZ: r.bbUrl("/sparta/assets/ui/flags/AZ-d5b6a7a6.png"),
BA: r.bbUrl("/sparta/assets/ui/flags/BA-99323356.png"),
BB: r.bbUrl("/sparta/assets/ui/flags/BB-b8996737.png"),
BD: r.bbUrl("/sparta/assets/ui/flags/BD-c4e23a5d.png"),
BE: r.bbUrl("/sparta/assets/ui/flags/BE-fb78d11e.png"),
BF: r.bbUrl("/sparta/assets/ui/flags/BF-27a4adc9.png"),
BG: r.bbUrl("/sparta/assets/ui/flags/BG-6aebcc10.png"),
BH: r.bbUrl("/sparta/assets/ui/flags/BH-bc6116e2.png"),
BI: r.bbUrl("/sparta/assets/ui/flags/BI-05145efa.png"),
BJ: r.bbUrl("/sparta/assets/ui/flags/BJ-cff84c9f.png"),
BL: r.bbUrl("/sparta/assets/ui/flags/BL-49a69e98.png"),
BM: r.bbUrl("/sparta/assets/ui/flags/BM-c2589543.png"),
BN: r.bbUrl("/sparta/assets/ui/flags/BN-49969ca8.png"),
BO: r.bbUrl("/sparta/assets/ui/flags/BO-29112a71.png"),
BR: r.bbUrl("/sparta/assets/ui/flags/BR-9ea3dd9d.png"),
BS: r.bbUrl("/sparta/assets/ui/flags/BS-06c54b61.png"),
BT: r.bbUrl("/sparta/assets/ui/flags/BT-1191498b.png"),
BW: r.bbUrl("/sparta/assets/ui/flags/BW-d28b1034.png"),
BY: r.bbUrl("/sparta/assets/ui/flags/BY-61745439.png"),
BZ: r.bbUrl("/sparta/assets/ui/flags/BZ-7ee3e3f9.png"),
CA: r.bbUrl("/sparta/assets/ui/flags/CA-1cb4ebdd.png"),
CC: r.bbUrl("/sparta/assets/ui/flags/CC-c4ae74d9.png"),
CD: r.bbUrl("/sparta/assets/ui/flags/CD-7ffcc4fb.png"),
CF: r.bbUrl("/sparta/assets/ui/flags/CF-13c60a13.png"),
CG: r.bbUrl("/sparta/assets/ui/flags/CG-764b5ee3.png"),
CH: r.bbUrl("/sparta/assets/ui/flags/CH-d0466f31.png"),
CI: r.bbUrl("/sparta/assets/ui/flags/CI-6c10a667.png"),
CK: r.bbUrl("/sparta/assets/ui/flags/CK-5b6e46cb.png"),
CL: r.bbUrl("/sparta/assets/ui/flags/CL-91ef7fad.png"),
CM: r.bbUrl("/sparta/assets/ui/flags/CM-0f23f4b8.png"),
CN: r.bbUrl("/sparta/assets/ui/flags/CN-4f9b63e1.png"),
CO: r.bbUrl("/sparta/assets/ui/flags/CO-df91b71e.png"),
CR: r.bbUrl("/sparta/assets/ui/flags/CR-15895bd4.png"),
CU: r.bbUrl("/sparta/assets/ui/flags/CU-080f7630.png"),
CV: r.bbUrl("/sparta/assets/ui/flags/CV-40c2d2be.png"),
CW: r.bbUrl("/sparta/assets/ui/flags/CW-e6c2517b.png"),
CX: r.bbUrl("/sparta/assets/ui/flags/CX-726d4c60.png"),
CY: r.bbUrl("/sparta/assets/ui/flags/CY-7e351f71.png"),
CZ: r.bbUrl("/sparta/assets/ui/flags/CZ-2186557c.png"),
DE: r.bbUrl("/sparta/assets/ui/flags/DE-3f0ece5b.png"),
DJ: r.bbUrl("/sparta/assets/ui/flags/DJ-731ff03d.png"),
DK: r.bbUrl("/sparta/assets/ui/flags/DK-e6ae2fd1.png"),
DM: r.bbUrl("/sparta/assets/ui/flags/DM-08bde27b.png"),
DO: r.bbUrl("/sparta/assets/ui/flags/DO-8dbc556c.png"),
DZ: r.bbUrl("/sparta/assets/ui/flags/DZ-0a977a8f.png"),
EC: r.bbUrl("/sparta/assets/ui/flags/EC-231273bd.png"),
EE: r.bbUrl("/sparta/assets/ui/flags/EE-21c26c51.png"),
EG: r.bbUrl("/sparta/assets/ui/flags/EG-d58f60dc.png"),
EH: r.bbUrl("/sparta/assets/ui/flags/EH-39b91f9a.png"),
ER: r.bbUrl("/sparta/assets/ui/flags/ER-ed880635.png"),
ES: r.bbUrl("/sparta/assets/ui/flags/ES-b73d720d.png"),
ET: r.bbUrl("/sparta/assets/ui/flags/ET-4d0ae275.png"),
EU: r.bbUrl("/sparta/assets/ui/flags/EU-320e862e.png"),
FI: r.bbUrl("/sparta/assets/ui/flags/FI-61123a1d.png"),
FJ: r.bbUrl("/sparta/assets/ui/flags/FJ-879730c4.png"),
FK: r.bbUrl("/sparta/assets/ui/flags/FK-5704bf47.png"),
FM: r.bbUrl("/sparta/assets/ui/flags/FM-a9c3f10c.png"),
FO: r.bbUrl("/sparta/assets/ui/flags/FO-8249d71d.png"),
FR: r.bbUrl("/sparta/assets/ui/flags/FR-d96086fc.png"),
GA: r.bbUrl("/sparta/assets/ui/flags/GA-ba126721.png"),
GB: r.bbUrl("/sparta/assets/ui/flags/GB-7daf4fd0.png"),
GD: r.bbUrl("/sparta/assets/ui/flags/GD-a8341409.png"),
GE: r.bbUrl("/sparta/assets/ui/flags/GE-1ee8f5d0.png"),
GG: r.bbUrl("/sparta/assets/ui/flags/GG-d56b0224.png"),
GH: r.bbUrl("/sparta/assets/ui/flags/GH-e69af5ad.png"),
GI: r.bbUrl("/sparta/assets/ui/flags/GI-05d2c630.png"),
GL: r.bbUrl("/sparta/assets/ui/flags/GL-8e00a7de.png"),
GM: r.bbUrl("/sparta/assets/ui/flags/GM-db071389.png"),
GN: r.bbUrl("/sparta/assets/ui/flags/GN-a04cd28f.png"),
GQ: r.bbUrl("/sparta/assets/ui/flags/GQ-595ac586.png"),
GR: r.bbUrl("/sparta/assets/ui/flags/GR-bb5e4eb4.png"),
GS: r.bbUrl("/sparta/assets/ui/flags/GS-4e207b92.png"),
GT: r.bbUrl("/sparta/assets/ui/flags/GT-66c6de72.png"),
GU: r.bbUrl("/sparta/assets/ui/flags/GU-7396a516.png"),
GW: r.bbUrl("/sparta/assets/ui/flags/GW-269ec765.png"),
GY: r.bbUrl("/sparta/assets/ui/flags/GY-59b053dc.png"),
HK: r.bbUrl("/sparta/assets/ui/flags/HK-27077c47.png"),
HN: r.bbUrl("/sparta/assets/ui/flags/HN-c17bfb28.png"),
HR: r.bbUrl("/sparta/assets/ui/flags/HR-23ab6bf3.png"),
HT: r.bbUrl("/sparta/assets/ui/flags/HT-9baeec8d.png"),
HU: r.bbUrl("/sparta/assets/ui/flags/HU-15146d95.png"),
IC: r.bbUrl("/sparta/assets/ui/flags/IC-1d88fd18.png"),
ID: r.bbUrl("/sparta/assets/ui/flags/ID-c00e98ab.png"),
IE: r.bbUrl("/sparta/assets/ui/flags/IE-0902c961.png"),
IL: r.bbUrl("/sparta/assets/ui/flags/IL-b1e6df32.png"),
IM: r.bbUrl("/sparta/assets/ui/flags/IM-9b6dfad3.png"),
IN: r.bbUrl("/sparta/assets/ui/flags/IN-faacf69d.png"),
IQ: r.bbUrl("/sparta/assets/ui/flags/IQ-fd96bef3.png"),
IR: r.bbUrl("/sparta/assets/ui/flags/IR-06b2b498.png"),
IS: r.bbUrl("/sparta/assets/ui/flags/IS-ebeb633f.png"),
IT: r.bbUrl("/sparta/assets/ui/flags/IT-3dd2a276.png"),
JE: r.bbUrl("/sparta/assets/ui/flags/JE-5d1e66cb.png"),
JM: r.bbUrl("/sparta/assets/ui/flags/JM-239552fe.png"),
JO: r.bbUrl("/sparta/assets/ui/flags/JO-2b6fd088.png"),
JP: r.bbUrl("/sparta/assets/ui/flags/JP-e879a1c8.png"),
KE: r.bbUrl("/sparta/assets/ui/flags/KE-b75186ce.png"),
KG: r.bbUrl("/sparta/assets/ui/flags/KG-9f9b8a89.png"),
KH: r.bbUrl("/sparta/assets/ui/flags/KH-66c625eb.png"),
KI: r.bbUrl("/sparta/assets/ui/flags/KI-f4d2aadb.png"),
KM: r.bbUrl("/sparta/assets/ui/flags/KM-ab5d5854.png"),
KN: r.bbUrl("/sparta/assets/ui/flags/KN-1b4a1629.png"),
KP: r.bbUrl("/sparta/assets/ui/flags/KP-35f95e2b.png"),
KR: r.bbUrl("/sparta/assets/ui/flags/KR-044e720c.png"),
KW: r.bbUrl("/sparta/assets/ui/flags/KW-ebb336cb.png"),
KY: r.bbUrl("/sparta/assets/ui/flags/KY-5d87bdea.png"),
KZ: r.bbUrl("/sparta/assets/ui/flags/KZ-0a9aa87b.png"),
LA: r.bbUrl("/sparta/assets/ui/flags/LA-eb21d164.png"),
LB: r.bbUrl("/sparta/assets/ui/flags/LB-9158ae1b.png"),
LC: r.bbUrl("/sparta/assets/ui/flags/LC-10120f60.png"),
LI: r.bbUrl("/sparta/assets/ui/flags/LI-0d1ea135.png"),
LK: r.bbUrl("/sparta/assets/ui/flags/LK-b5a963cc.png"),
LR: r.bbUrl("/sparta/assets/ui/flags/LR-e88bf94b.png"),
LS: r.bbUrl("/sparta/assets/ui/flags/LS-6bc2b679.png"),
LT: r.bbUrl("/sparta/assets/ui/flags/LT-debf99d2.png"),
LU: r.bbUrl("/sparta/assets/ui/flags/LU-b7838ab6.png"),
LV: r.bbUrl("/sparta/assets/ui/flags/LV-b2f24089.png"),
LY: r.bbUrl("/sparta/assets/ui/flags/LY-fa400dde.png"),
MA: r.bbUrl("/sparta/assets/ui/flags/MA-6b4517ad.png"),
MD: r.bbUrl("/sparta/assets/ui/flags/MD-63951696.png"),
ME: r.bbUrl("/sparta/assets/ui/flags/ME-a9593d1d.png"),
MF: r.bbUrl("/sparta/assets/ui/flags/MF-c92f9c50.png"),
MG: r.bbUrl("/sparta/assets/ui/flags/MG-9b4dacfc.png"),
MH: r.bbUrl("/sparta/assets/ui/flags/MH-b0c3855c.png"),
MK: r.bbUrl("/sparta/assets/ui/flags/MK-79c0a0db.png"),
ML: r.bbUrl("/sparta/assets/ui/flags/ML-e798d38e.png"),
MM: r.bbUrl("/sparta/assets/ui/flags/MM-ea30c673.png"),
MN: r.bbUrl("/sparta/assets/ui/flags/MN-b926f134.png"),
MO: r.bbUrl("/sparta/assets/ui/flags/MO-c3e6327d.png"),
MP: r.bbUrl("/sparta/assets/ui/flags/MP-19d69554.png"),
MQ: r.bbUrl("/sparta/assets/ui/flags/MQ-5866388c.png"),
MR: r.bbUrl("/sparta/assets/ui/flags/MR-4c5750cd.png"),
MS: r.bbUrl("/sparta/assets/ui/flags/MS-2b8d8f74.png"),
MT: r.bbUrl("/sparta/assets/ui/flags/MT-736e2d9e.png"),
MU: r.bbUrl("/sparta/assets/ui/flags/MU-4ef5c631.png"),
MV: r.bbUrl("/sparta/assets/ui/flags/MV-5b7bbfd0.png"),
MW: r.bbUrl("/sparta/assets/ui/flags/MW-ce5608e7.png"),
MX: r.bbUrl("/sparta/assets/ui/flags/MX-57283c58.png"),
MY: r.bbUrl("/sparta/assets/ui/flags/MY-f7e43df2.png"),
MZ: r.bbUrl("/sparta/assets/ui/flags/MZ-c29168e1.png"),
NA: r.bbUrl("/sparta/assets/ui/flags/NA-4fd5ff15.png"),
NC: r.bbUrl("/sparta/assets/ui/flags/NC-a856653e.png"),
NE: r.bbUrl("/sparta/assets/ui/flags/NE-70b14b65.png"),
NF: r.bbUrl("/sparta/assets/ui/flags/NF-99457e75.png"),
NG: r.bbUrl("/sparta/assets/ui/flags/NG-3de8b11c.png"),
NI: r.bbUrl("/sparta/assets/ui/flags/NI-877b6b79.png"),
NL: r.bbUrl("/sparta/assets/ui/flags/NL-3dbf7fba.png"),
NO: r.bbUrl("/sparta/assets/ui/flags/NO-cc5a119b.png"),
NP: r.bbUrl("/sparta/assets/ui/flags/NP-a2d224e2.png"),
NR: r.bbUrl("/sparta/assets/ui/flags/NR-a1c8802e.png"),
NU: r.bbUrl("/sparta/assets/ui/flags/NU-21ce1ccb.png"),
NZ: r.bbUrl("/sparta/assets/ui/flags/NZ-623ae5d6.png"),
OM: r.bbUrl("/sparta/assets/ui/flags/OM-5e2c5328.png"),
PA: r.bbUrl("/sparta/assets/ui/flags/PA-b18627d2.png"),
PE: r.bbUrl("/sparta/assets/ui/flags/PE-e39e726f.png"),
PF: r.bbUrl("/sparta/assets/ui/flags/PF-b0b49a4d.png"),
PG: r.bbUrl("/sparta/assets/ui/flags/PG-3fd13ef9.png"),
PH: r.bbUrl("/sparta/assets/ui/flags/PH-15f7ee1c.png"),
PK: r.bbUrl("/sparta/assets/ui/flags/PK-db8fc9c9.png"),
PL: r.bbUrl("/sparta/assets/ui/flags/PL-75c0761b.png"),
PN: r.bbUrl("/sparta/assets/ui/flags/PN-3ac40607.png"),
PR: r.bbUrl("/sparta/assets/ui/flags/PR-566f6e29.png"),
PS: r.bbUrl("/sparta/assets/ui/flags/PS-df64769b.png"),
PT: r.bbUrl("/sparta/assets/ui/flags/PT-74f6bf4d.png"),
PW: r.bbUrl("/sparta/assets/ui/flags/PW-caf8552c.png"),
PY: r.bbUrl("/sparta/assets/ui/flags/PY-001da2b8.png"),
QA: r.bbUrl("/sparta/assets/ui/flags/QA-fb925b16.png"),
RO: r.bbUrl("/sparta/assets/ui/flags/RO-e661d49f.png"),
RS: r.bbUrl("/sparta/assets/ui/flags/RS-778fd48d.png"),
RU: r.bbUrl("/sparta/assets/ui/flags/RU-e3a12eab.png"),
RW: r.bbUrl("/sparta/assets/ui/flags/RW-89fa2533.png"),
SA: r.bbUrl("/sparta/assets/ui/flags/SA-91d38b6d.png"),
SB: r.bbUrl("/sparta/assets/ui/flags/SB-9264ba48.png"),
SC: r.bbUrl("/sparta/assets/ui/flags/SC-cc9811a8.png"),
SD: r.bbUrl("/sparta/assets/ui/flags/SD-86fb33aa.png"),
SE: r.bbUrl("/sparta/assets/ui/flags/SE-608bbd2c.png"),
SG: r.bbUrl("/sparta/assets/ui/flags/SG-838fe09f.png"),
SH: r.bbUrl("/sparta/assets/ui/flags/SH-f239fab0.png"),
SI: r.bbUrl("/sparta/assets/ui/flags/SI-b3980327.png"),
SK: r.bbUrl("/sparta/assets/ui/flags/SK-c479360f.png"),
SL: r.bbUrl("/sparta/assets/ui/flags/SL-ac9be6e3.png"),
SM: r.bbUrl("/sparta/assets/ui/flags/SM-66fdf4f5.png"),
SN: r.bbUrl("/sparta/assets/ui/flags/SN-9d032e3d.png"),
SO: r.bbUrl("/sparta/assets/ui/flags/SO-ef2fd436.png"),
SR: r.bbUrl("/sparta/assets/ui/flags/SR-091bb522.png"),
SS: r.bbUrl("/sparta/assets/ui/flags/SS-fcab5cb2.png"),
ST: r.bbUrl("/sparta/assets/ui/flags/ST-e259df2c.png"),
SV: r.bbUrl("/sparta/assets/ui/flags/SV-d8856f13.png"),
SY: r.bbUrl("/sparta/assets/ui/flags/SY-8f5cdb1f.png"),
SZ: r.bbUrl("/sparta/assets/ui/flags/SZ-4dc0f9a7.png"),
TC: r.bbUrl("/sparta/assets/ui/flags/TC-a156dfd1.png"),
TD: r.bbUrl("/sparta/assets/ui/flags/TD-f04f31ce.png"),
TF: r.bbUrl("/sparta/assets/ui/flags/TF-4f7a0223.png"),
TG: r.bbUrl("/sparta/assets/ui/flags/TG-d021a954.png"),
TH: r.bbUrl("/sparta/assets/ui/flags/TH-8c2a3d98.png"),
TJ: r.bbUrl("/sparta/assets/ui/flags/TJ-df83741b.png"),
TK: r.bbUrl("/sparta/assets/ui/flags/TK-c87af5e4.png"),
TL: r.bbUrl("/sparta/assets/ui/flags/TL-531fe62f.png"),
TM: r.bbUrl("/sparta/assets/ui/flags/TM-808180a4.png"),
TN: r.bbUrl("/sparta/assets/ui/flags/TN-e487ea19.png"),
TO: r.bbUrl("/sparta/assets/ui/flags/TO-14931588.png"),
TR: r.bbUrl("/sparta/assets/ui/flags/TR-af48fd2a.png"),
TT: r.bbUrl("/sparta/assets/ui/flags/TT-f5b8db94.png"),
TV: r.bbUrl("/sparta/assets/ui/flags/TV-7e653864.png"),
TW: r.bbUrl("/sparta/assets/ui/flags/TW-27961448.png"),
TZ: r.bbUrl("/sparta/assets/ui/flags/TZ-4b08d222.png"),
UA: r.bbUrl("/sparta/assets/ui/flags/UA-b6b75d48.png"),
UG: r.bbUrl("/sparta/assets/ui/flags/UG-710c7a4e.png"),
US: r.bbUrl("/sparta/assets/ui/flags/US-24c80f7b.png"),
UY: r.bbUrl("/sparta/assets/ui/flags/UY-b38a0a1b.png"),
UZ: r.bbUrl("/sparta/assets/ui/flags/UZ-83c792e5.png"),
VA: r.bbUrl("/sparta/assets/ui/flags/VA-71d050c3.png"),
VC: r.bbUrl("/sparta/assets/ui/flags/VC-7eebd710.png"),
VE: r.bbUrl("/sparta/assets/ui/flags/VE-6d34bf9d.png"),
VG: r.bbUrl("/sparta/assets/ui/flags/VG-a425a235.png"),
VI: r.bbUrl("/sparta/assets/ui/flags/VI-c16a5faf.png"),
VN: r.bbUrl("/sparta/assets/ui/flags/VN-d17eb47d.png"),
VU: r.bbUrl("/sparta/assets/ui/flags/VU-aef21d3d.png"),
WF: r.bbUrl("/sparta/assets/ui/flags/WF-26a80e56.png"),
WS: r.bbUrl("/sparta/assets/ui/flags/WS-b3a806b0.png"),
YE: r.bbUrl("/sparta/assets/ui/flags/YE-f4dbdf42.png"),
YT: r.bbUrl("/sparta/assets/ui/flags/YT-febdebbe.png"),
ZA: r.bbUrl("/sparta/assets/ui/flags/ZA-4e295308.png"),
ZM: r.bbUrl("/sparta/assets/ui/flags/ZM-8775588c.png"),
ZW: r.bbUrl("/sparta/assets/ui/flags/ZW-6b58d77a.png"),
other: r.bbUrl("/sparta/assets/ui/flags/default-870fef7b.png")
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(64), i = n(18), a = n(53), s = n(75), u = n(8), l = n(6), c = n(125), p = n(1353), d = n(273), f = n(144), m = n(184), h = n(7), g = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = h.SpartaContext.getFromComponent(r), r.onCloseClick = function() {
var e = "wwcesupport/help";
"InGame" === r.state.context.source ? a.route("playing/" + e) : i.gotoLocation(e);
}, c.resetCaseDetailState(), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
c.createCase(this.state.contact.email);
}, n.prototype.renderContent = function() {
var e, t = this.sparta.theme.getTheme(this), n = this.state.caseItemDetails.caseDetail && void 0 !== this.state.caseItemDetails.caseDetail.waitTimeRange ? __("ID_SPARTA_HELP_CALL_BACK_CONFIRMATION_MSG") + " " + this.state.caseItemDetails.caseDetail.waitTimeRange : void 0, o = this.state.caseItemDetails.caseDetail && void 0 !== this.state.caseItemDetails.caseDetail.caseNumber ? __("ID_SPARTA_HELP_CALL_BACK_CONFIRMATION_CASE_NUMBER") + " " + this.state.caseItemDetails.caseDetail.caseNumber : void 0;
return this.state.caseItemDetails.message && ("AEGIS-C2C-MESSAGE-01" === this.state.caseItemDetails.messageCode ? n = __("ID_SPARTA_HELP_MESSAGE_C2C_01") : "AEGIS-CASE-DUPLICATE-01" === this.state.caseItemDetails.messageCode ? n = __("ID_SPARTA_HELP_MESSAGE_CASE_DUPLICATE") : "AEGIS-C2C-MESSAGE-02" === this.state.caseItemDetails.messageCode ? n = __("ID_SPARTA_HELP_MESSAGE_C2C_02") : "AEGIS-CHANNEL-MESSAGE-01" === this.state.caseItemDetails.messageCode ? n = __("ID_SPARTA_HELP_MESSAGE_CHANNEL_01") : "AEGIS-CHANNEL-MESSAGE-02" === this.state.caseItemDetails.messageCode && (n = __("ID_SPARTA_HELP_MESSAGE_CHANNEL_02"))), 
null !== o && (e = r.createElement(l.Text, {
value: __("ID_SPARTA_HELP_CALL_BACK_CONFIRMATION_HEADING"),
size: "L",
style: t.wwceSupportCallBackConfirmation.title
})), r.createElement("surface", {
style: t.wwceSupportCallBackConfirmation.wrapper
}, r.createElement("surface", {
style: {
width: 100 * u.GUTTER
}
}, e, r.createElement(l.Text, {
value: n,
size: "M",
style: t.wwceSupportCallBackConfirmation.callUsContent
}), r.createElement(l.Text, {
value: o,
size: "M",
style: t.wwceSupportCallBackConfirmation.callUsContent
}), r.createElement(s.Button, {
name: "0e8ed41d:99:31",
text: __("ID_SPARTA_HELP_CLOSE"),
style: t.wwceSupportCallBackConfirmation.closeBtn,
textSize: "M",
action: this.onCloseClick
})));
}, n.prototype.render = function() {
return r.createElement(m.WwceSupportTemplate, {
loading: void 0 === this.state.caseItemDetails.caseDetail && void 0 === this.state.caseItemDetails.message,
onBackClick: this.onCloseClick
}, this.renderContent());
}, n.contextTypes = h.SpartaContext.contextTypes, n = e.__decorate([ o.subscribeToStores({
contact: d.WwceSupportContactChannelStore,
context: f.WwceSupportStore,
caseItemDetails: p.WwceSupportCaseStore
}) ], n);
}(r.Component);
t.WwceSupportCallBackConfirmation = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(0), o = n(1), i = n(6), a = n(184), s = n(273), u = n(144), l = n(64), c = n(75), p = n(53), d = n(18), f = n(8), m = n(34), h = n(7), g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = h.SpartaContext.getFromComponent(e), e.onCloseClick = function() {
var t;
t = e.state.context.categories && e.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection" : "wwcesupport/help/channelselection", 
"InGame" === e.state.context.source ? p.route("playing/" + t) : d.gotoLocation(t);
}, e;
}
return r.__extends(n, t), n.prototype.componentWillMount = function() {
this.getDeflectionContent();
}, n.prototype.getDeflectionContent = function() {
this.state.contact.channels.forEach(function(t) {
"Deflection" === t.name && (e = t.message);
});
}, n.prototype.getParsedContent = function() {
var t = this.sparta.theme.getTheme(this);
if (e) {
var n = e, r = "", a = "", s = [], u = function(e) {
"TEXT" === r && (s.push(o.createElement(i.Text, {
size: "S",
style: t.wwceSupportCall.bodyParagraph,
value: a,
key: "ft-" + e
})), a = "");
};
return (n || []).forEach(function(e, n) {
if ("image" === e.chunkType) u(n), s.push(o.createElement("surface", {
style: t.wwceSupportCall.bodyImage({
texture: e.src
}),
key: "i-" + n
})), r = "IMAGE"; else if ("paragraph" === e.chunkType) a += e.content.text, r = "TEXT"; else if ("bulletlist" === e.chunkType) {
u(n);
var l = [];
(e.items || []).forEach(function(e, r) {
l.push(o.createElement("surface", {
style: t.wwceSupportCall.listItem,
key: n + "-" + r
}, o.createElement(i.Text, {
size: "S",
value: "- " + e.text
})));
}), s.push(o.createElement("surface", {
style: t.wwceSupportCall.list,
key: "bl-" + n
}, l)), r = "LIST";
} else if ("orderedlist" === e.chunkType) {
u(n);
var c = [];
(e.items || []).forEach(function(e, r) {
c.push(o.createElement("surface", {
style: t.wwceSupportCall.listItem,
key: n + "-" + r
}, o.createElement(i.Text, {
size: "S",
value: r + 1 + ". " + e.text
})));
}), s.push(o.createElement("surface", {
style: t.wwceSupportCall.list,
key: "ol-" + n
}, c)), r = "LIST";
}
}), a && u(n.length), s;
}
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this);
return o.createElement(a.WwceSupportTemplate, {
onBackClick: this.onCloseClick
}, o.createElement("surface", {
style: e.wwceSupportCall.content
}, o.createElement("surface", {
style: {
width: 100 * f.GUTTER
}
}, o.createElement(i.Text, {
value: __("ID_SPARTA_MENU_TITLE_HELP_CALL_US"),
size: "L",
style: e.wwceSupportCall.title
}), o.createElement(m.Scroller, {
style: {
height: f.getHeight(50)
}
}, this.getParsedContent()), o.createElement(c.Button, {
name: "9e3d5fd7:145:35",
text: __("ID_SPARTA_HELP_CLOSE"),
style: e.wwceSupportCall.closeBtn,
textSize: "M",
action: this.onCloseClick
}))));
}, n.contextTypes = h.SpartaContext.contextTypes, n = r.__decorate([ l.subscribeToStores({
contact: s.WwceSupportContactChannelStore,
context: u.WwceSupportStore
}) ], n);
}(o.Component);
t.WwceSupportCallUs = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(4), o = n(1), i = n(68), a = n(5), s = n(14), u = n(64), l = n(18), c = n(12), p = n(11), d = n(53), f = n(23), m = n(6), h = n(125), g = n(636), y = n(144), S = n(450), v = n(184), _ = n(7), b = {
warranty: s.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_Warranty_White-154247ef.png"),
"technical-support": s.bbOfflineUrl("/sparta/jsclient/builds/assets/TechSupport_normalState_PC-1c7c72d0.png"),
"report-concerns-or-harassment": s.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_ReportConcerns_White-bce04f84.png"),
"report-a-bug": s.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_ReportBug_White-bbe8083f.png"),
orders: s.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_Orders_White-c4c73373.png"),
"missing-content": s.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_MissingContent_White-9fa738b1.png"),
"manage-my-account": s.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_ManageAccount_White-8807f3ac.png"),
"game-information": s.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_GameInfo_White-282bf86f.png"),
"codes-and-promotions": s.bbOfflineUrl("/sparta/jsclient/builds/assets/WWCE_CodesAndPromos_White-d1e9fdad.png")
}, T = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = _.SpartaContext.getFromComponent(e), e.onBackClick = function() {
return e.handleNavigation("wwcesupport/help");
}, e;
}
return e.__extends(n, t), n.prototype.handleNavigation = function(e, t) {
h.updateSelectedCategory(t), "InGame" === this.state.context.source ? d.route("playing/" + e) : l.gotoLocation(e);
}, n.prototype.renderContent = function() {
var e = this, t = this.sparta.theme.getTheme(this), n = this.state.context.categories || [];
return o.createElement("surface", {
style: {
width: f.content.width,
height: f.content.height
}
}, o.createElement(m.Text, {
value: __("ID_SPARTA_HELP_CATEGORY_SELECTION_HEADING"),
size: "L",
style: t.wwceSupportCategorySelection.title
}), o.createElement("surface", {
style: a.merge2(t.wwceSupportCategorySelection.boxesContainer, t.wwceSupportCategorySelection.categoryList)
}, n.map(function(n, r) {
if (r <= 3) {
var a = {
texture: b[n.internalName],
width: 120,
height: 120
}, s = [ o.createElement(m.Text, {
key: "cat",
value: n.name.toUpperCase(),
size: "S",
style: t.wwceSupportCategorySelection.category
}) ], u = new c.Input({
key: p.Keys.Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
e.handleNavigation("wwcesupport/help/categoryselection/channelselection", n.internalName);
}
});
return o.createElement(i.Focusable, {
id: "wwce_category_selection",
key: n.name,
autoFocusCandidate: !0
}, function(e) {
return o.createElement(g.HelpBox, {
bottom: s,
style: S.CategorySelectionStyles.box,
input: u,
focusItem: e
}, o.createElement("surface", {
style: a
}));
});
}
}, this)));
}, n.prototype.render = function() {
return o.createElement(v.WwceSupportTemplate, {
onBackClick: this.onBackClick
}, this.renderContent());
}, n.contextTypes = _.SpartaContext.contextTypes, n = e.__decorate([ r.observer, u.subscribeToStores({
context: y.WwceSupportStore
}) ], n);
}(o.Component);
t.WwceSupportCategorySelection = T;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(8), s = n(62), u = n(4), l = n(21), c = n(5), p = n(450), d = c.StaticStyle.wrapLegacyStyleSheet({
container: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 10
},
title: {
padding: a.GUTTER,
marginBottom: a.GUTTER
},
content: {
justifyContent: "center",
alignItems: "center",
flex: 1,
zOffset: 1
},
bottom: {
padding: a.GUTTER
}
}, "043d1cb9:12:15"), f = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.focusItem.isFocusedOrHovered, t = c.merge3(p.HelpBoxStyles.boxDimensions({
width: this.props.width,
height: this.props.height
}), e ? p.HelpBoxStyles.boxFocused : p.HelpBoxStyles.boxBlurred, this.props.style || c.emptyStyle), n = {
color: e ? "#000000" : "#ffffff",
size: l.TextSize.XS,
style: p.HelpBoxStyles.text
}, a = p.HelpBoxStyles.title({
isFocused: e
}), u = this.props.title && o.createElement("surface", {
style: a
}, o.createElement(i.Text, r.__assign({
value: this.props.title.toUpperCase()
}, n))), f = this.props.children || [], m = Array.isArray(f) ? f : [ f ];
m = m.map(function(e, t) {
var r = c.merge2(c.DynamicStyle.maybeLegacyStyle(e.props.style, "043d1cb9:82:40"), c.DynamicStyle.maybeLegacyStyle({
color: n.color
}, "043d1cb9:83:68"));
return o.cloneElement(e, {
key: t,
style: r
});
});
var h = this.props.bottom || [];
return h = "string" == typeof h ? o.createElement(i.Text, {
value: h
}) : h, h = (h = Array.isArray(h) ? h : [ h ]).map(function(e, t) {
var i = c.merge2(c.DynamicStyle.maybeLegacyStyle(e.props.style, "043d1cb9:93:40"), c.DynamicStyle.maybeLegacyStyle({
color: n.color
}, "043d1cb9:94:68"));
return o.cloneElement(e, r.__assign({
key: t
}, e.props, {
style: i
}));
}), o.createElement(s.Pressable, {
input: this.props.input,
focusItem: this.props.focusItem,
style: t,
triggerMode: "after"
}, o.createElement("surface", {
style: d.container
}, u, o.createElement("surface", {
style: d.content
}, m), o.createElement("surface", {
style: d.bottom
}, h)));
}, t.defaultProps = {
width: a.getWidth(a.COLUMNS, !1) / 6,
height: a.getWidth(a.COLUMNS, !1) / 6 * .65
}, t = r.__decorate([ u.observer ], t);
}(o.Component);
t.HelpBox = f;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(0), o = n(4), i = n(1), a = n(68), s = n(5), u = n(64), l = n(18), c = n(12), p = n(11), d = n(53), f = n(23), m = n(6), h = n(125), g = n(636), y = n(273), S = n(144), v = n(450), _ = n(184), b = n(7), T = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = b.SpartaContext.getFromComponent(r), r.onBackClick = function() {
return r.handleNavigation("backClick");
}, h.resetChannelDetailState(), r;
}
return r.__extends(n, t), n.prototype.componentDidMount = function() {
h.getContactChannels(this.state.context.selectedCategory, this.state.context.userLocation), 
e = this.state.context.categories && this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection/" : "wwcesupport/help/channelselection/";
}, n.prototype.handleNavigation = function(e, t) {
"backClick" === e ? (e = this.state.context.categories && this.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection" : "wwcesupport/help", 
h.resetChannelDetailState()) : h.updateSelectedChannel(t), "InGame" === this.state.context.source ? d.route("playing/" + e) : l.gotoLocation(e);
}, n.prototype.renderContent = function() {
var t = this, n = this.sparta.theme.getTheme(this);
return i.createElement("surface", {
style: {
width: f.content.width,
height: f.content.height
}
}, i.createElement(m.Text, {
value: __("ID_SPARTA_HELP_CHANNEL_SELECTION_HEADING"),
size: "L",
style: n.wwceSupportChannelSelection.title
}), i.createElement("surface", {
style: s.merge2(n.wwceSupportChannelSelection.boxesContainer, n.wwceSupportChannelSelection.channelList)
}, this.state.contactChannel.channels.map(function(r) {
if ("Deflection" === r.name) {
var o = [ i.createElement(m.Text, {
key: "chan",
value: __("ID_SPARTA_MENU_TITLE_HELP_CALL_US").toUpperCase(),
size: "S",
style: n.wwceSupportChannelSelection.channelText
}) ], s = new c.Input({
key: p.Keys.Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
return t.handleNavigation(e + "callus", r);
}
});
return i.createElement(a.Focusable, {
id: "wwce_channel_selection",
autoFocusCandidate: !0,
key: r.name
}, function(e) {
return i.createElement(g.HelpBox, {
bottom: o,
input: s,
focusItem: e,
style: v.ChannelSelectionStyles.box
}, i.createElement("surface", {
style: n.wwceSupportChannelSelection.deflectionImageStyle
}));
});
}
if ("phone" === r.name) {
var u, l, d = "";
r.notInBusinessHours ? u = e + "callbackDeflection" : (u = e + "callback", l = __("ID_SPARTA_HELP_CHANNEL_SELECTION_RECOMMENDED"), 
d = __("ID_SPARTA_HELP_CHANNEL_SELECTION_EST_WAIT_TIME") + r.waitTimeRange);
var f = [ i.createElement(m.Text, {
key: "wait",
value: d,
size: "S",
style: n.wwceSupportChannelSelection.channel
}), i.createElement(m.Text, {
key: "call",
value: __("ID_SPARTA_MENU_TITLE_HELP_GET_A_CALL").toUpperCase(),
size: "S",
style: n.wwceSupportChannelSelection.channelText
}) ], h = new c.Input({
key: p.Keys.Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
return t.handleNavigation(u, r);
}
});
return i.createElement(a.Focusable, {
id: "wwce_channel_selection",
autoFocusCandidate: !0,
key: r.name
}, function(e) {
return i.createElement(g.HelpBox, {
title: l,
bottom: f,
input: h,
focusItem: e,
style: v.ChannelSelectionStyles.box
}, i.createElement("surface", {
style: n.wwceSupportChannelSelection.phoneImageStyle
}));
});
}
})));
}, n.prototype.render = function() {
return i.createElement(_.WwceSupportTemplate, {
loading: void 0 === this.state.contactChannel.channels,
onBackClick: this.onBackClick
}, this.renderContent());
}, n.contextTypes = b.SpartaContext.contextTypes, n = r.__decorate([ o.observer, u.subscribeToStores({
context: S.WwceSupportStore,
contactChannel: y.WwceSupportContactChannelStore
}) ], n);
}(i.Component);
t.WwceSupportChannelSelection = T;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(0), o = n(1), i = n(6), a = n(184), s = n(273), u = n(144), l = n(64), c = n(75), p = n(53), d = n(18), f = n(8), m = n(34), h = n(7), g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = h.SpartaContext.getFromComponent(e), e.onCloseClick = function() {
var t;
t = e.state.context.categories && e.state.context.categories.length > 1 ? "wwcesupport/help/categoryselection/channelselection" : "wwcesupport/help/channelselection", 
"InGame" === e.state.context.source ? p.route("playing/" + t) : d.gotoLocation(t);
}, e;
}
return r.__extends(n, t), n.prototype.componentWillMount = function() {
this.getDeflectionContent();
}, n.prototype.getDeflectionContent = function() {
this.state.contact.channels.forEach(function(t) {
"phone" === t.name && (e = t.message);
});
}, n.prototype.getParsedContent = function() {
var t = this.sparta.theme.getTheme(this);
if (e) {
var n = e, r = "", a = "", s = [], u = function(e) {
"TEXT" === r && (s.push(o.createElement(i.Text, {
size: "S",
style: t.wwceSupportCall.bodyParagraph,
value: a,
key: e
})), a = "");
};
return (n || []).forEach(function(e, n) {
if ("image" === e.chunkType) u(n), s.push(o.createElement("surface", {
style: t.wwceSupportCall.bodyImage({
texture: e.src
}),
key: n
})), r = "IMAGE"; else if ("paragraph" === e.chunkType) a += e.content.text, r = "TEXT"; else if ("bulletlist" === e.chunkType) {
u(n);
var l = [];
(e.items || []).forEach(function(e, n) {
l.push(o.createElement("surface", {
style: t.wwceSupportCall.listItem,
key: n
}, o.createElement(i.Text, {
size: "S",
value: "- " + e.text
})));
}), s.push(o.createElement("surface", {
style: t.wwceSupportCall.list,
key: n
}, l)), r = "LIST";
} else if ("orderedlist" === e.chunkType) {
u(n);
var c = [];
(e.items || []).forEach(function(e, n) {
c.push(o.createElement("surface", {
style: t.wwceSupportCall.listItem,
key: n
}, o.createElement(i.Text, {
size: "S",
value: n + 1 + ". " + e.text
})));
}), s.push(o.createElement("surface", {
style: t.wwceSupportCall.list,
key: n
}, c)), r = "LIST";
}
}), a && u(n.length), s;
}
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this);
return o.createElement(a.WwceSupportTemplate, {
onBackClick: this.onCloseClick
}, o.createElement("surface", {
style: e.wwceSupportCall.content
}, o.createElement("surface", {
style: {
width: 100 * f.GUTTER
}
}, o.createElement(i.Text, {
value: __("ID_SPARTA_HELP_CALL_BACK"),
size: "L",
style: e.wwceSupportCall.title
}), o.createElement(m.Scroller, {
style: {
height: f.getHeight(50)
}
}, this.getParsedContent()), o.createElement(c.Button, {
name: "ec6fc673:141:35",
text: __("ID_SPARTA_HELP_CLOSE"),
style: e.wwceSupportCall.closeBtn,
textSize: "M",
action: this.onCloseClick
}))));
}, n.contextTypes = h.SpartaContext.contextTypes, n = r.__decorate([ l.subscribeToStores({
contact: s.WwceSupportContactChannelStore,
context: u.WwceSupportStore
}) ], n);
}(o.Component);
t.WwceSupportCallBackDeflection = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(6), s = n(440), u = n(31), l = n(50), c = n(640), p = n(28), d = n(38), f = n(12), m = n(11), h = n(25), g = n(76), y = n(72), S = n(96), v = n(274), _ = n(1358), b = n(271), T = n(36), E = n(1364), C = n(26), I = n(644), A = n(330), w = n(18), P = n(19), R = n(10), O = n(9);
t.openBattlepackPopup = function(e) {
h.display(new d.Popup({
id: "battlepackPopup",
group: "battlepack",
content: r.createElement(_.BattlepackViewOpened, {
packKey: e
}),
requireOnline: !0,
fullScreen: !0,
createButtons: !1,
containContent: !1,
centerContent: !1,
priority: 1,
stackable: !0
}));
};
var x = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.fragment = s.tunguskaBattlepackUnopenedStore.get(u.tunguskaGameId), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this;
return r.createElement(l.FragmentLoader, {
errorMessage: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_NO_UNOPENED"),
load: this.fragment
}, function(t) {
return r.createElement(M, {
isGameView: e.props.isGameView,
battlepacks: t.battlepacks
});
});
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.TunguskaBattlepackUnopened = x;
var k = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onPress = function(t) {
e.props.onSelect(t), h.close("chooseBattlepack"), T.trackEvent("BattlepackChoose", "click", t.packKey, t.rarenessLevel.value);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this;
return r.createElement(b.TrackImpression, {
action: "impression",
category: "BattlepackChoose"
}, r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.selectBpContainer
}, r.createElement(y.CardCarousel, {
id: "42bee98e:86:29",
clipLeft: !0,
style: E.TunguskaBattlepackUnopenedStyles.selectBpCardCarouselContainer
}, this.props.battlepacks.map(function(t) {
var n = (t.revision ? t.revision.toUpperCase() + " - " : "") + (t.origin ? t.origin.toUpperCase() : "");
return t.packType && "FINAL" !== t.packType && (n = t.packTypeReadable), r.createElement(g.BasicCard, {
key: t.packKey,
overlay: r.createElement(v.TunguskaItemWithRarity, {
rarityValue: t.rarenessLevel.value,
texture: t.images.side_normal
}),
onPress: e.onPress.bind(e, t),
heading: n,
description: t.visualName.toUpperCase()
}, r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.selectBpQuantity
}, r.createElement(a.Text, {
size: "S",
value: "x" + t.quantity
})));
}))));
}, n.showCloseButton = !0, n;
}(r.Component);
t.TunguskaBattlepackSelectBattlepack = k;
var L = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onGetBattlepacksClick = function() {
if (e.props.isGameView) A.battlepackTabState.goToTab("get"); else {
var t = R.locationStore.location;
w.updateLocation(new S.Location({
path: t.path,
args: Object.assign({}, t.args, {
tab: "get"
})
}));
}
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.emptyContainer
}, r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.emptyCenter
}, r.createElement(a.Text, {
style: E.TunguskaBattlepackUnopenedStyles.empty,
size: "M",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_NO_UNOPENED").toUpperCase()
}), r.createElement(p.Button, {
name: "42bee98e:154:31",
textSize: "M",
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_GET"),
style: E.TunguskaBattlepackUnopenedStyles.emptyButton,
action: this.onGetBattlepacksClick,
blockInputFor: 0
})));
}, n;
}(r.Component);
t.NoUnopenedBattlepacks = L;
var M = function(n) {
function s(e, o) {
var i = n.call(this, e, o) || this;
return i.handleOpen = function() {
i.lastOpened = i.selectedBattlepackKey, t.openBattlepackPopup(i.selectedBattlepackKey);
}, i.handleChoose = function() {
h.display(new d.Popup({
content: r.createElement(k, {
battlepacks: i.props.battlepacks,
onSelect: i.setSelectedBattlepack
}),
id: "chooseBattlepack",
createButtons: !1,
inputs: [ new f.Input({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: m.Keys.Decline
}) ]
}));
}, i.setSelectedBattlepack = function(e) {
i.selectedBattlepackKey = e.packKey;
}, e.battlepacks.length && (i.selectedBattlepackKey = e.battlepacks[0].packKey), 
i;
}
return e.__extends(s, n), s.prototype.componentWillReceiveProps = function(e) {
var t = this;
e.battlepacks.length && (e.battlepacks.find(function(e) {
return e.packKey === t.lastOpened;
}) || (this.lastOpened = "", this.selectedBattlepackKey = e.battlepacks[0].packKey));
}, Object.defineProperty(s.prototype, "selectedBattlepack", {
get: function() {
var e = this;
return this.props.battlepacks.find(function(t) {
return t.packKey === e.selectedBattlepackKey;
});
},
enumerable: !0,
configurable: !0
}), s.prototype.getInput = function() {
return this.props.battlepacks.length < 2 || O.SpartaGlobals.bundleIsPC ? [] : new f.Input({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CHOOSE"),
action: this.handleChoose,
blockInputFor: 500,
key: m.Keys.Option1
});
}, Object.defineProperty(s.prototype, "contains", {
get: function() {
if (!this.selectedBattlepack || !this.selectedBattlepack.probabilityGroups) return "";
if ("FINAL" === this.selectedBattlepack.packType) switch (this.selectedBattlepack.rarenessLevel.value) {
case 0:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CONTAINS_FINAL_STANDARD");

case 1:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CONTAINS_FINAL_ENHANCED");

case 2:
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CONTAINS_FINAL_SUPERIOR");

default:
return "";
}
var e = this.selectedBattlepack.probabilityGroups, t = (e.POTENTIAL || 0) + (e.GUARANTEED || 0), n = "";
return t && e.POSSIBLE ? n = __(t > 1 ? "ID_SPARTA_TUNGUSKA_BATTLEPACKS_CONTAINS_ITEMS_AND_BONUS" : "ID_SPARTA_TUNGUSKA_BATTLEPACKS_CONTAINS_ITEM_AND_BONUS") : t > 1 ? n = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CONTAINS_ITEMS") : t && (n = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CONTAINS_ITEM")), 
n = n.replace("[[NUM]]", String(t));
},
enumerable: !0,
configurable: !0
}), s.prototype.render = function() {
var e = this.selectedBattlepack;
if (!e) return r.createElement(L, {
isGameView: this.props.isGameView
});
var t, n = (e.revision ? e.revision.toUpperCase() + " - " : "") + (e.origin ? e.origin.toUpperCase() : "");
return e.packType && "FINAL" !== e.packType && (t = r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.icons({
texture: e.packTypeIcon
})
}), n = e.packTypeReadable), r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.container
}, r.createElement("surface", null, r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.bpImage({
image: e.images.side_big
})
}), r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.bpInfo
}, r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.bpInfoRow
}, r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.bpQuantityContainer
}, r.createElement(a.Text, {
style: E.TunguskaBattlepackUnopenedStyles.bpQuantity,
value: "x" + e.quantity,
size: "S"
})), t)), r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.bpRevisionWrapper({
isRTL: P.isRTLLanguage()
})
}, r.createElement(a.Text, {
style: E.TunguskaBattlepackUnopenedStyles.bpName,
value: e.visualName.toUpperCase()
})), r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.bpRevisionWrapper({
isRTL: P.isRTLLanguage()
})
}, r.createElement(a.Text, {
style: E.TunguskaBattlepackUnopenedStyles.bpRevision({
isRTL: P.isRTLLanguage()
}),
size: "XS",
value: n
})), r.createElement("surface", {
style: E.TunguskaBattlepackUnopenedStyles.bpRevisionWrapper({
isRTL: P.isRTLLanguage()
})
}, r.createElement(a.Text, {
style: E.TunguskaBattlepackUnopenedStyles.bpRevision({
isRTL: P.isRTLLanguage()
}),
size: "XS",
value: this.contains
})), r.createElement(I.TrackButton, {
name: "BUTTON_BATTLEPACK_OPEN",
trackCategory: "TunguskaBattlepackOpenBtn",
trackImpression: !0,
trackLabel: e.packKey,
text: __("ID_SPARTA_ACTION_OPEN"),
style: E.TunguskaBattlepackUnopenedStyles.button,
action: this.handleOpen
}), this.props.battlepacks.length > 1 && O.SpartaGlobals.bundleIsPC && r.createElement(I.TrackButton, {
name: "42bee98e:366:39",
trackCategory: "TunguskaBattlepackChooseBtn",
trackImpression: !0,
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CHOOSE"),
style: E.TunguskaBattlepackUnopenedStyles.button,
action: this.handleChoose
})), r.createElement(c.PotentialItems, {
battlepack: e,
track: "TunguskaBattlepackUnopened"
}));
}, e.__decorate([ o.observable ], s.prototype, "selectedBattlepackKey", void 0), 
e.__decorate([ o.action ], s.prototype, "componentWillReceiveProps", null), e.__decorate([ o.action ], s.prototype, "setSelectedBattlepack", void 0), 
s = e.__decorate([ C.input, i.observer ], s);
}(r.Component);
t.TunguskaBattlepackOpenBattlepack = M;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(66), i = n(3), a = n(4), s = n(6), u = n(15), l = n(8), c = n(126), p = n(12), d = n(11), f = n(25), m = n(38), h = n(641), g = n(62), y = n(204), S = n(1357), v = n(209), _ = n(19), b = n(5), T = n(9), E = n(22), C = n(71), I = n(7), A = b.StaticStyle.create({
marginTop: l.spacer()
}, "5c5a4bad:40:20"), w = a.observer(function(e) {
var t = e.battlepack;
return t.numItems === t.items.length ? r.createElement("surface", null) : r.createElement(s.Text, {
style: A,
size: "S",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACK_OTHER_POSSIBLE_SKINS").replace("[[NUM]]", String(t.numItems - t.items.length))
});
}), P = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.backgroundColorTween = u.Animation.tween("5c5a4bad:59:44", "#00000055"), 
r.textColorTween = u.Animation.tween("5c5a4bad:60:38", "#ffffff"), r.flareOpacityTween = u.Animation.tween("5c5a4bad:61:41", .01), 
r.focusItem = r.props.focusItem || E.focusSystem.create(r, o.autoId("PotentialItem")), 
r.input = new p.Input({
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INSPECT"),
action: function() {
return r.props.action(e.item);
},
key: d.Keys.Accept
}), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.focusReaction = i.reaction(function() {
return e.focusItem.isFocusedOrHovered;
}, function(t) {
t ? (e.backgroundColorTween.set("#ffffff"), e.textColorTween.set("#000000"), e.flareOpacityTween.set(.01)) : (e.backgroundColorTween.set("#00000055"), 
e.textColorTween.set("#ffffff"), e.flareOpacityTween.set(1));
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.focusReaction && this.focusReaction(), this.backgroundColorTween.destroy(), 
this.textColorTween.destroy(), this.flareOpacityTween.destroy();
}, n.prototype.render = function() {
var e, t = this.props, n = t.item, o = t.style, i = n.rarenessLevel, a = [ this.flareOpacityTween.getStyleClass("opacity"), b.DynamicStyle.create({
texture: i ? c.fade[i.value] : void 0,
width: c.fade.width,
height: S.PotentialItemsStyle.boxHeight
}, "5c5a4bad:109:61") ];
n.parentName && n.parentName !== n.name && (e = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SKIN_FOR").replace("[[value]]", n.parentName).toUpperCase());
var u = this.textColorTween.getStyleClass("color");
return r.createElement(g.Pressable, {
focusItem: this.focusItem,
input: this.input
}, r.createElement("surface", {
style: [ S.PotentialItemsStyle.box, o, this.backgroundColorTween.getStyleClass("backgroundColor") ]
}, r.createElement("surface", {
style: S.PotentialItemsStyle.flareWrapper
}, r.createElement("surface", {
style: a
})), r.createElement(v.BattlepackImage, {
size: "S",
item: n,
style: S.PotentialItemsStyle.image,
focusItem: this.props.focusItem
}), r.createElement("surface", {
style: S.PotentialItemsStyle.info
}, r.createElement(s.Text, {
value: n.name,
style: b.merge2(S.PotentialItemsStyle.itemName, u),
size: "XS"
}), r.createElement(s.Text, {
value: e,
style: b.merge2(S.PotentialItemsStyle.parentName, u),
size: "XXS"
}))));
}, n = e.__decorate([ a.observer ], n);
}(r.Component);
t.PotentialItem = P;
var R = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
o.sparta = I.SpartaContext.getFromComponent(o), o.tracked = {
scroll: !1,
scrollBottom: !1
}, o.softClip = [ l.spacer(6), 0, l.spacer(6), 0 ], o.openPreview = function(e) {
if (!o.props.disableInput) {
o.sparta.stores.gaStore.trackEvent(o.props.track + "PotentialItems", "click", e.name, e.rarenessLevel ? e.rarenessLevel.value : 0);
f.display(new m.Popup({
id: "inspectPopup",
group: "battlepack",
content: r.createElement(h.BattlepackItemInspectView, {
item: e,
popupId: "inspectPopup"
}),
priority: 1,
createButtons: !1,
inputs: [ new p.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: d.Keys.Decline
}) ]
}));
}
}, o.handleScroll = function(e) {
o.props.track && (o.tracked.scroll || (o.sparta.stores.gaStore.trackEvent(o.props.track + "PotentialItems", "Scroll"), 
o.tracked.scroll = !0), e.bottom && !o.tracked.scrollBottom && (o.sparta.stores.gaStore.trackEvent(o.props.track + "PotentialItems", "ScrollBottom"), 
o.tracked.scrollBottom = !0));
};
var i = C.textureHandler.createPreloader(o);
return i.preload(c.fade[0], void 0), i.preload(c.fade[1], void 0), i.preload(c.fade[2], void 0), 
o;
}
return e.__extends(n, t), n.prototype.createCategory = function(e, t, n) {
var o = this;
if (!t.length) return [];
var i = "";
n && (i = "(" + (i = (i = __(n > 1 ? "ID_SPARTA_TUNGUSKA_BATTLEPACKS_NUM_ITEMS" : "ID_SPARTA_TUNGUSKA_BATTLEPACKS_NUM_ITEM")).replace("[[NUM]]", String(n))) + ")");
var a = [ r.createElement(y.ItemScrollerItem, {
isNonFocusable: !0,
key: "title_" + e,
debugName: "title_" + e,
height: S.PotentialItemsStyle.titleHeight
}, function(t) {
return r.createElement(s.Text, {
key: t,
value: _.isRTLLanguage() ? i + " " + e.toUpperCase() : e.toUpperCase() + " " + i,
style: S.PotentialItemsStyle.title,
size: "S"
});
}) ];
return t.forEach(function(e) {
a.push(r.createElement(y.ItemScrollerItem, {
isFocusable: !0,
key: e.key,
debugName: e.key,
height: S.PotentialItemsStyle.boxHeight + 3
}, function(t) {
return r.createElement(P, {
key: e.key,
focusItem: t,
action: o.openPreview,
item: e,
style: S.PotentialItemsStyle.nugget
});
}));
}), a;
}, n.prototype.render = function() {
var e = this.props.battlepack.items;
if (!e || !e.length) return r.createElement("surface", null);
var t = T.SpartaGlobals.bundleIsPC ? 80 : 65;
this.props.gridHeight && (t = this.props.gridHeight);
var n = [], o = [], i = [];
e.forEach(function(e) {
switch (e.probability) {
case "GUARANTEED":
n.push(e);
break;

case "POSSIBLE":
i.push(e);
break;

case "POTENTIAL":
default:
o.push(e);
}
});
var a = [];
return a = (a = (a = a.concat(this.createCategory(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_GUARANTEED"), n, this.props.battlepack.probabilityGroups.GUARANTEED))).concat(this.createCategory(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_POTENTIAL"), o, this.props.battlepack.probabilityGroups.POTENTIAL))).concat(this.createCategory(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_POSSIBLE_BONUS"), i)), 
r.createElement("surface", null, r.createElement(y.ItemScroller, {
focusGroup: this.props.focusGroup,
debugName: "potentialitems",
height: l.getHeight(t),
softClip: this.softClip,
onScroll: this.handleScroll
}, a), r.createElement(w, {
battlepack: this.props.battlepack
}));
}, n.contextTypes = I.SpartaContext.contextTypes, n;
}(r.Component);
t.PotentialItems = R;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(28), i = n(8), a = n(25), s = n(451), u = n(9), l = n(5), c = {
btn: {
flex: 1,
marginTop: i.GUTTER
},
actions: {
width: i.getWidth(6),
marginTop: 2 * i.GUTTER
}
}, p = l.StaticStyle.create({
alignItems: "center"
}, "4c213d5e:48:29"), d = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.closePopup = function() {
a.close(e.props.popupId);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e;
return u.SpartaGlobals.bundleIsPC && (e = r.createElement("surface", {
style: c.actions
}, r.createElement(o.Button, {
name: "BUTTON_BATTLEPACK_INSPECT_CLOSE",
text: __("ID_SPARTA_ACTION_CLOSE"),
action: this.closePopup,
style: c.btn
}))), r.createElement("surface", {
style: p
}, r.createElement(s.TunguskaBattlepackSingleItem, {
item: this.props.item
}), e);
}, n;
}(r.Component);
t.BattlepackItemInspectView = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(4), i = n(21), a = {
puzzlePiece: {
texture: n(1356).puzzlePieceTextures.large,
width: i.LINE_HEIGHTS.M,
height: i.LINE_HEIGHTS.M,
zOffset: 5
}
};
t.PuzzlePieceIcon = o.observer(function(e) {
var t = e.color, n = e.scale;
return r.createElement("surface", {
style: [ a.puzzlePiece, {
color: t,
scaleY: n,
scaleX: n
} ]
});
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(23), i = n(8), a = n(6), s = n(28), u = n(15), l = n(126), c = n(331), p = n(4), d = n(94), f = n(264), m = n(268), h = n(31), g = n(29), y = n(19), S = n(17), v = n(78), _ = n(27), b = n(104), T = n(5), E = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, C = {
duration: 500,
delay: 300
}, I = {
move: {
duration: 500,
delay: 500
},
moveUp: {
duration: 500
}
}, A = {
opacity: {
duration: 300
},
scale: {
duration: 300,
delay: 300
}
}, w = {
opacity: {
duration: 700
}
}, P = T.StaticStyle.create({
marginTop: 2 * i.GUTTER,
height: i.getHeight(6),
width: i.getWidth(8)
}, "8b8e83ec:535:28"), R = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.continue = function() {
n.setState({
hideScrapButton: !0
}), n.props.continueCallback && "function" == typeof n.props.continueCallback && n.props.continueCallback();
}, n.state = {
isInputEnabled: !1,
hideScrapButton: !1
}, n.tweens = {
opacity: u.Animation.tween("8b8e83ec:122:38", 0),
scale: u.Animation.tween("8b8e83ec:123:36", 0),
translateY: u.Animation.tween("8b8e83ec:124:41", 0),
flareRotate: u.Animation.tween("8b8e83ec:127:42", 0),
flareScaleX: u.Animation.tween("8b8e83ec:128:42", 1),
flareScaleY: u.Animation.tween("8b8e83ec:129:42", 0),
flareOpacity: u.Animation.tween("8b8e83ec:130:43", 0),
flareTranslateX: u.Animation.tween("8b8e83ec:131:46", 0),
flareTranslateY: u.Animation.tween("8b8e83ec:132:46", 0),
flash1TranslateX: u.Animation.tween("8b8e83ec:135:47", 0),
flash1TranslateY: u.Animation.tween("8b8e83ec:136:47", 0),
flash1Opacity: u.Animation.tween("8b8e83ec:137:44", 0),
flash2TranslateX: u.Animation.tween("8b8e83ec:138:47", 0),
flash2TranslateY: u.Animation.tween("8b8e83ec:139:47", 0),
flash2Opacity: u.Animation.tween("8b8e83ec:140:44", 0),
sideFlareOpacity: u.Animation.tween("8b8e83ec:143:47", 0),
circleScale: u.Animation.tween("8b8e83ec:146:42", 0),
circleOpacity: u.Animation.tween("8b8e83ec:147:44", 0),
glowOpacity: u.Animation.tween("8b8e83ec:150:42", 0),
itemNameTranslateY: u.Animation.tween("8b8e83ec:153:49", 0),
itemNameOpacity: u.Animation.tween("8b8e83ec:154:46", 0),
rarityNameOpacity: u.Animation.tween("8b8e83ec:155:48", 0),
rarityTranslateY: u.Animation.tween("8b8e83ec:156:47", 0),
inventoryStatusOpacity: u.Animation.tween("8b8e83ec:157:53", 0),
buttonScale: u.Animation.tween("8b8e83ec:160:42", 0),
buttonOpacity: u.Animation.tween("8b8e83ec:161:44", 0)
}, m.tunguskaBattlepackInventoryStore.resetFragment(h.tunguskaGameId), n.inventoryFragment = m.tunguskaBattlepackInventoryStore.get(h.tunguskaGameId), 
n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.startAnimations();
}, n.prototype.componentWillUpdate = function(e, t) {
e.item.key !== this.props.item.key && this.setState({
hideScrapButton: !1
});
}, n.prototype.componentWillUnmount = function() {
v.Tween.destroyTweens(this.tweens);
}, n.prototype.getHighestResolutionImage = function(e) {
return e.Png1024xANY ? e.Png1024xANY : e.Png300xANY ? e.Png300xANY : e.Png180xANY ? e.Png180xANY : void 0;
}, n.prototype.onDoneCallback = function() {
"function" == typeof this.props.onDone && this.props.onDone();
}, n.prototype.startAnimations = function() {
var e = this;
this.props.skipAnimation ? this.playSound().then(function() {
return e.skipAnimation();
}).then(function() {
return e.onDoneCallback();
}) : this.playSound().then(function() {
return e.step1();
}).then(function() {
return e.step2();
}).then(function() {
return e.step3();
}).then(function() {
return e.step4();
}).then(function() {
return e.onDoneCallback();
});
}, n.prototype.playSound = function() {
var e = this, t = this.props.item && this.props.item.itemType, n = l.openingAudio[t] || l.openingAudio.DEFAULT;
return new Promise(function(t) {
e.sound = b.Sound.load(n), e.sound && e.sound.play(), setTimeout(function() {
return t();
}, 100);
});
}, n.prototype.stopSound = function() {
this.sound && this.sound.stop();
}, n.prototype.step1 = function() {
var e = o.screen.height / 2 - 128, t = {
duration: 250,
easing: _.Easing.Linear
}, n = {
duration: t.duration,
delay: t.duration,
easing: _.Easing.Linear
}, r = {
duration: t.duration / 3,
delay: t.duration / 3,
easing: _.Easing.Linear
}, i = {
duration: r.duration,
delay: r.delay + r.duration,
easing: _.Easing.Linear
}, a = {
duration: t.duration + n.duration,
easing: _.Easing.Linear
}, s = {
duration: r.duration + i.duration,
delay: r.delay,
easing: _.Easing.Linear
}, u = {
duration: C.duration,
delay: 200,
easing: _.Easing.CubicOut
}, c = 300 - 300 * (4 * l.flare.width / (4 * l.flare.height));
return this.tweens.flash1Opacity.to(1, t), this.tweens.flash1Opacity.to(0, n), this.tweens.flash1TranslateX.set(c), 
this.tweens.flash1TranslateX.to(300, a), this.tweens.flash1TranslateY.set(-350), 
this.tweens.flash1TranslateY.to(-50, a), this.tweens.flash2Opacity.to(1, r), this.tweens.flash2Opacity.to(0, i), 
this.tweens.flash2TranslateX.set(c + 600), this.tweens.flash2TranslateX.to(900, s), 
this.tweens.flash2TranslateY.set(-350), this.tweens.translateY.set(e), this.tweens.opacity.to(1, u), 
this.tweens.scale.to(.75, u), this.tweens.flash2TranslateY.promiseTo(-50, s);
}, n.prototype.step2 = function() {
var e = o.screen.height / 2 - l.flare.height / 2, t = {
duration: I.move.duration,
easing: _.Easing.CubicInOut
}, n = {
duration: A.scale.duration,
easing: _.Easing.QuadraticInOut
}, r = {
duration: A.opacity.duration,
delay: n.duration - 200,
easing: _.Easing.CubicInOut
};
return this.tweens.flareRotate.set(160), this.tweens.flareOpacity.set(1), this.tweens.flareTranslateY.set(e), 
this.tweens.flareScaleX.set(1), this.tweens.flareScaleY.set(0), this.tweens.flareScaleX.to(2, n), 
this.tweens.flareScaleY.to(2, n), this.tweens.flareOpacity.to(0, r), this.tweens.sideFlareOpacity.to(1, n), 
this.tweens.glowOpacity.to(1, n), this.tweens.circleOpacity.set(1), this.tweens.circleOpacity.to(0, t), 
this.tweens.circleScale.to(2, t), this.tweens.scale.promiseTo(1, t);
}, n.prototype.step3 = function() {
var e = {
duration: 800,
easing: _.Easing.Linear
};
return Promise.all([ this.tweens.sideFlareOpacity.promiseTo(0, e), this.tweens.sideFlareOpacity.promiseTo(1.1, e) ]);
}, n.prototype.step4 = function() {
var e = this, t = {
duration: I.moveUp.duration
}, n = {
duration: w.opacity.duration
}, r = {
duration: I.move.duration,
delay: 200
}, a = {
duration: w.opacity.duration,
delay: r.delay + 200
}, s = {
duration: I.move.duration,
delay: r.delay + r.duration
}, u = {
duration: 700,
easing: _.Easing.CubicOut,
delay: s.delay + 240
}, c = o.screen.height / 2 - 128;
this.tweens.translateY.to(250, t), this.tweens.scale.to(.75, t), this.tweens.itemNameTranslateY.set(c), 
this.tweens.buttonScale.to(1, r), this.tweens.buttonOpacity.to(1, r, function() {
return e.setState({
isInputEnabled: !0
});
}), this.tweens.itemNameOpacity.to(1, n), this.tweens.itemNameTranslateY.to(250, n), 
this.tweens.inventoryStatusOpacity.to(1, a), this.tweens.rarityTranslateY.set(i.getHeight(3)), 
this.tweens.rarityTranslateY.to(i.getHeight(2), s), this.tweens.rarityNameOpacity.to(1, s);
var p = l.flare.width, d = l.flare.height, f = -d / 2 + 120, m = 120 - d, h = 0 - (f - m) * (p / d);
return this.tweens.flareRotate.set(-20), this.tweens.flareOpacity.set(0), this.tweens.flareScaleX.set(1), 
this.tweens.flareScaleY.set(1), this.tweens.flareTranslateY.set(m), this.tweens.flareTranslateX.set(h), 
this.tweens.flareTranslateX.to(0, u), this.tweens.flareTranslateY.to(f, u), this.tweens.flareOpacity.to(1, u);
}, n.prototype.skipAnimation = function() {
var e = o.screen.height / 2 - 128, t = {
duration: C.duration,
delay: 200,
easing: _.Easing.CubicOut
}, n = {
duration: 700,
easing: _.Easing.CubicOut,
delay: 240
};
this.tweens.opacity.to(1, t), this.tweens.translateY.set(250), this.tweens.scale.set(.75), 
this.tweens.itemNameTranslateY.set(e), this.tweens.buttonScale.set(1), this.tweens.buttonOpacity.set(1), 
this.tweens.itemNameOpacity.set(1), this.tweens.itemNameTranslateY.set(250), this.tweens.inventoryStatusOpacity.set(1), 
this.tweens.rarityTranslateY.set(i.getHeight(2)), this.tweens.rarityNameOpacity.set(1);
var r = l.flare.width, a = l.flare.height, s = -a / 2 + 120, u = 120 - a, c = 0 - (s - u) * (r / a);
return this.tweens.flareRotate.set(-20), this.tweens.flareOpacity.set(0), this.tweens.flareScaleX.set(1), 
this.tweens.flareScaleY.set(1), this.tweens.flareTranslateY.set(u), this.tweens.flareTranslateX.set(c), 
this.tweens.sideFlareOpacity.set(1), this.setState({
isInputEnabled: !0
}), this.tweens.flareTranslateX.to(0, n), this.tweens.flareTranslateY.to(s, n), 
this.tweens.flareOpacity.promiseTo(1, n);
}, n.prototype.renderButtons = function() {
if (!this.state.isInputEnabled) return null;
var e = this.props.item, t = T.DynamicStyle.create({
zOffset: 1e3,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
scaleY: this.tweens.buttonScale.getStyle(),
scaleX: this.tweens.buttonScale.getStyle(),
opacity: this.tweens.buttonOpacity.getStyle()
}, "8b8e83ec:523:35"), n = P, o = [];
return o.push(r.createElement(s.Button, {
name: "BUTTON_BATTLEPACK_ADD_TO_INVENTORY",
text: __("ID_SPARTA_ACTION_BATTLEPACKS_ADD_TO_INVENTORY"),
stealFocus: !0,
key: "btn-inventory-add",
style: n,
action: this.continue
})), e.scrapValue && e.scrapValue > 0 && !this.state.hideScrapButton && o.push(r.createElement(c.BattlepackItemScrapButton, {
item: e,
style: n,
key: "btn-item-scrap",
onSuccess: this.continue
})), r.createElement("surface", {
style: t
}, o);
}, n.prototype.renderInventoryStatus = function() {
var e = this;
if (!this.inventoryFragment.value) return r.createElement("surface", {
style: {
marginTop: i.spacer(2)
}
}, r.createElement(g.Spinner, null));
var t = this.inventoryFragment.value.items.find(function(t) {
return t.key === e.props.item.key;
});
if (!t || 1 === t.quantity) return null;
var n, o = t.quantity, s = {
width: i.getWidth(8),
marginTop: 2 * i.GUTTER,
flexDirection: "row",
justifyContent: o > 1 ? "space-between" : "center",
alignItems: "center",
opacity: this.tweens.inventoryStatusOpacity.getStyle()
}, u = {
marginLeft: 2 * i.GUTTER,
backgroundColor: "#ffffffaa"
}, l = {
zOffset: 1,
margin: [ .5 * i.GUTTER, 1.5 * i.GUTTER, .5 * i.GUTTER, 1.5 * i.GUTTER ]
}, c = {
marginLeft: .5 * i.GUTTER,
marginRight: .5 * i.GUTTER,
width: o > 1 ? i.getWidth(6.75) : void 0,
textAlignForRTL: o > 1 ? "left" : "center"
};
return o > 1 && (n = r.createElement("surface", {
style: u,
key: "key"
}, r.createElement(a.Text, {
value: "x" + o,
size: "S",
color: "#000000",
style: l
}))), r.createElement(y.LocaleRearrange, {
key: "itemsOwned",
style: s
}, r.createElement(a.Text, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ITEM_ALREADY_OWNED"),
key: "owned",
size: "S",
color: "#ffffffcc",
style: c
}), n);
}, n.prototype.render = function() {
var t = this.props.item;
if (!t) return r.createElement("surface", null);
var n, o = t.rarenessLevel && t.rarenessLevel.value || 0, s = l.getName(o).toUpperCase(), u = this.getHighestResolutionImage(t.images), c = t.name;
t.parentName && t.parentName !== t.name && (n = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SKIN_FOR").replace("[[value]]", t.parentName).toUpperCase());
var p = {
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
zOffset: 1e3,
opacity: this.tweens.opacity.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, m = {
texture: u,
width: 1024,
height: 256,
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
}, h = {
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
width: l.flare.width
}, g = {
texture: l.flare[o],
textureAtlas: "SINGLE_TEXTURE",
zOffset: 1100,
enableMouseEvents: !1,
rotateZ: this.tweens.flareRotate.getStyle(),
blendMode: "screen",
width: l.flare.width,
height: l.flare.height,
position: "absolute",
top: 0,
left: 0,
translateX: this.tweens.flareTranslateX.getStyle(),
translateY: this.tweens.flareTranslateY.getStyle(),
scaleX: this.tweens.flareScaleX.getStyle(),
scaleY: this.tweens.flareScaleY.getStyle(),
opacity: this.tweens.flareOpacity.getStyle()
}, y = {
texture: l.sideFlare[o],
zOffset: 1050,
enableMouseEvents: !1,
width: l.sideFlare.width,
height: l.sideFlare.height,
position: "absolute",
blendMode: "screen",
top: 0,
left: 0,
translateY: d.uiState.window.height / 2 - l.sideFlare.height / 2,
opacity: this.tweens.sideFlareOpacity.getStyle()
}, v = {
texture: l.bottomGlow[o],
width: l.bottomGlow.width,
height: l.bottomGlow.height,
opacity: this.tweens.glowOpacity.getStyle(),
blendMode: "screen",
zOffset: 800,
enableMouseEvents: !1,
position: "absolute",
left: 0,
top: 0,
translateX: d.uiState.window.width / 2 - l.bottomGlow.width / 2,
translateY: d.uiState.window.height - l.bottomGlow.height
}, _ = {
zOffset: 999,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
translateY: this.tweens.itemNameTranslateY.getStyle(),
opacity: this.tweens.itemNameOpacity.getStyle()
}, b = {
zOffset: 999,
marginBottom: i.getHeight(3),
translateY: this.tweens.rarityTranslateY.getStyle(),
opacity: this.tweens.rarityNameOpacity.getStyle(),
color: l.rgb[o]
}, T = e.__assign({
width: d.uiState.window.width,
height: d.uiState.window.height
}, E), C = e.__assign({
texture: l.flare[o],
width: l.flare.width,
height: l.flare.height,
rotateZ: -20,
blendMode: "screen",
enableMouseEvents: !1
}, E), I = e.__assign({}, C, {
zOffset: 1600,
scaleX: 4,
scaleY: 4,
translateX: this.tweens.flash1TranslateX.getStyle(),
translateY: this.tweens.flash1TranslateY.getStyle(),
opacity: this.tweens.flash1Opacity.getStyle()
}), A = e.__assign({}, C, {
zOffset: 1601,
scaleX: 1.5,
scaleY: 4,
translateX: this.tweens.flash2TranslateX.getStyle(),
translateY: this.tweens.flash2TranslateY.getStyle(),
opacity: this.tweens.flash2Opacity.getStyle()
}), w = o > 1 ? e.__assign({
texture: l.circleTexture,
blendMode: "screen",
enableMouseEvents: !1,
width: 1028,
height: 996,
scaleX: this.tweens.circleScale.getStyle(),
scaleY: this.tweens.circleScale.getStyle(),
opacity: this.tweens.circleOpacity.getStyle()
}, E) : void 0, P = this.renderButtons(), R = this.renderInventoryStatus(), O = this.props.index, x = this.props.totalAmount && this.props.totalAmount > 1;
return r.createElement("surface", {
style: T
}, r.createElement("surface", {
style: I
}), r.createElement("surface", {
style: A
}), r.createElement("surface", {
style: {
justifyContent: "center"
}
}, r.createElement("surface", {
style: y
})), r.createElement(f.PopupContainer, {
style: S.CommonStyles.justifyContentFlexStart
}, r.createElement("surface", {
style: h
}, r.createElement("surface", {
style: g
})), r.createElement("surface", {
style: {
zOffset: 900,
alignItems: "center",
alignSelf: "center",
justifyContent: "center",
width: 1028
}
}, r.createElement("surface", {
style: w
})), r.createElement("surface", {
style: p
}, r.createElement("surface", {
style: m
})), r.createElement("surface", {
style: _
}, r.createElement(a.Text, {
value: n,
size: "M",
color: "#ffffffdd"
}), r.createElement(a.Text, {
value: c,
size: "L"
}), r.createElement(a.Text, {
value: s,
style: b,
size: "M"
}), r.createElement("surface", {
style: {
height: i.getHeight(18)
}
}, P), r.createElement("surface", {
style: {
height: i.getHeight(10)
}
}, R), void 0 !== O && x && r.createElement(a.Text, {
value: O + 1 + "/" + this.props.totalAmount
}))), r.createElement("surface", {
style: v
}));
}, n = e.__decorate([ p.observer ], n);
}(r.Component);
t.TunguskaBattlepackOpenedItem = R;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(36), s = n(28), u = n(271), l = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.handleClick = function() {
var e = t.props, n = e.trackCategory, r = e.trackAction, o = e.trackLabel, i = e.trackValue, s = e.action;
a.trackEvent(n, r || "click", o, i), s && s();
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.trackCategory, n = e.trackLabel, i = e.trackValue, a = e.trackImpression, l = e.trackDelay, c = (e.trackAction, 
e.action, r.__rest(e, [ "trackCategory", "trackLabel", "trackValue", "trackImpression", "trackDelay", "trackAction", "action" ])), p = o.createElement(s.Button, r.__assign({
action: this.handleClick
}, c));
return a ? o.createElement(u.TrackImpression, {
category: t,
label: n,
value: i,
delay: l,
action: "impression"
}, p) : p;
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TrackButton = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(1365), a = n(81), s = n(103), u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = s.localeState.commerceLocale, r = s.localeState.displayLocale, o = a.getBattlepackOffers.request({
game: t.game,
locale: n || r
});
e.useClientResult(o, i.BattlepackOffers.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.tunguskaBattlepackOfferStore = new u();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(268), s = n(31), u = n(210), l = n(50), c = n(1372), p = n(1373), d = n(1378), f = n(1383), m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.inventoryFragment = a.tunguskaBattlepackInventoryStore.get(s.tunguskaGameId), 
t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement(l.OptimisticFragmentLoader, {
load: this.inventoryFragment
}, function(e) {
return o.createElement(u.CareerSectionSelectionHandler, {
categories: e.categories
}, function(t, n) {
return o.createElement("surface", {
style: {
flexDirection: "row"
}
}, o.createElement(u.CareerSectionMenu, null, o.createElement(c.TunguskaBattlepackInventoryMenu, {
listSelectionState: t,
itemSelectionState: n,
inventory: e
}), o.createElement(f.TunguskaScrapDuplicates, {
inventory: e
})), o.createElement(u.CareerSectionContent, null, o.createElement(p.TunguskaBattlepackInventoryItems, {
listSelectionState: t,
itemSelectionState: n,
inventory: e
})), o.createElement(u.CareerSectionFocusPane, null, o.createElement(d.TunguskaBattlepackInventoryFocusPane, {
listSelectionState: t,
itemSelectionState: n,
inventory: e
})));
});
});
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaBattlepackInventory = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaBattlepackInventory"), a = function() {
function e() {}
return e.box = o.wrap(function() {
return o.style({
position: "relative",
width: o.Grid.getWidth(3.2),
height: o.Grid.getHeight(11.2)
}, "9a652d38:7:28");
}), e.focusedCard = o.wrap(function() {
return o.style({
backgroundColor: "#ffffff"
}, "9a652d38:15:36");
}), e.activeCard = o.wrap(function() {
return o.style({
backgroundColor: "#ffffff33"
}, "9a652d38:21:35");
}), e.blurredCard = o.wrap(function() {
return o.style({
backgroundColor: "#00000055"
}, "9a652d38:27:36");
}), e.focusedCardText = o.wrap(function() {
return o.style({
color: "#000000"
}, "9a652d38:33:40");
}), e.actions = o.wrap(function() {
return o.style({
marginTop: o.Grid.GUTTER
}, "9a652d38:39:32");
}), e.btn = o.wrap(function() {
return o.style({
marginBottom: o.Grid.GUTTER
}, "9a652d38:45:28");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaBattlepackInventory = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(72), a = n(61), s = n(6), u = n(8), l = n(1385), c = n(51), p = n(14), d = n(19), f = n(155), m = n(158), h = {
timerContainer: {
opacity: .5,
marginTop: 4 * u.GUTTER,
flexDirection: "row",
justifyContent: "space-between",
width: u.getWidth(24)
},
lockIcon: {
opacity: .66,
top: u.getHeight(.5),
marginRight: u.getHeight(1),
width: u.getHeight(2),
height: u.getHeight(2),
texture: p.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-lock-white-242e77e0.png"),
color: "#ffffff"
}
}, g = function(e) {
var t = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPEXCHANGE_EXPIRES_IN");
return a.formatDateDifference(t, e);
}, y = function(e) {
var t, n = e.endTime, o = (t = [ __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPEXCHANGE_TIP1"), __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPEXCHANGE_TIP2"), __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPEXCHANGE_TIP3"), __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPEXCHANGE_TIP4") ])[Math.floor(Math.random() * t.length)];
return r.createElement("surface", {
style: h.timerContainer
}, d.localeRearrange([ r.createElement("surface", {
style: {
width: u.getWidth(14)
},
key: "timer-text"
}, r.createElement(s.Text, {
size: "S",
value: o,
style: {
textAlignForRTL: "left"
}
})), r.createElement("surface", {
key: "timer-counter"
}, "number" == typeof n && r.createElement(f.Countdown, {
format: g,
size: "S",
targetTime: n,
onDone: c.getBattlepackScrapExchange
})) ]));
}, S = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.tunguska = m.TunguskaContext.getFromComponent(r), c.getBattlepackScrapExchange(), 
r;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.tunguska.stores.tunguskaBattlepackScrapExchangeStore;
return e.revisionName && e.items.length ? r.createElement("surface", {
style: {
marginTop: this.props.isGameView ? u.getHeight(1) : void 0
}
}, r.createElement(i.CardCarousel, {
id: "e4425023:104:35",
clipLeft: this.props.isGameView,
key: "carousel",
width: u.getWidth(24)
}, e.items.map(function(e, t) {
return r.createElement(l.TunguskaBattlepackScrapExchangeCard, {
key: t,
item: e
});
})), r.createElement(y, {
endTime: e.endTime
})) : null;
}, n.contextTypes = m.TunguskaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaScrapExchange = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(268), i = n(31), a = n(50), s = n(210), u = n(211), l = n(1387), c = n(1388), p = n(605), d = n(98), f = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.puzzlesFragment = p.tunguskaBattlepackPuzzleCategoriesStore.get(i.tunguskaGameId), 
e.inventoryFragment = o.tunguskaBattlepackInventoryStore.get(i.tunguskaGameId), 
e.listSelectionState = new d.ListSelectionState(), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this;
return r.createElement(a.FragmentLoader, {
errorMessage: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_PIECES_ERROR"),
errorSubText: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_PIECES_SUB_ERROR"),
load: [ this.puzzlesFragment, this.inventoryFragment ]
}, function(t, n) {
return r.createElement(s.CareerSectionSelectionHandler, {
listSelectionState: e.listSelectionState,
categories: t.categories
}, function(e, o) {
return r.createElement("surface", {
style: u.CareerSectionStyle.container
}, r.createElement(s.CareerSectionMenu, null, r.createElement(l.PuzzleCategories, {
listSelectionState: e,
puzzleValue: t
})), r.createElement(s.CareerSectionFullContent, null, r.createElement(c.PuzzlePieces, {
listSelectionState: e,
puzzleValue: t,
inventoryValue: n
})));
});
});
}, n;
}(r.Component);
t.TunguskaBattlepackPuzzles2 = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(4), i = n(86), a = n(237);
t.PuzzleProgressbar = o.observer(function(e) {
var t = e.puzzlePiece;
if (t.isUnlocked) return r.createElement("surface", null);
var n = t.puzzle.price, o = t.item ? t.item.quantity : 0, s = n ? parseInt(n.quantity, 10) : 0;
return r.createElement(i.ProgressBar, {
style: a.TunguskaBattlepackPuzzle2.progressBarStyle,
height: "M",
completed: o / s
});
});
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(10), s = n(408), u = n(4), l = n(5), c = n(40), p = l.StaticStyle.create({
position: "absolute",
right: 0,
bottom: 30,
opacity: .5
}, "83241d94:9:14"), d = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return r.__extends(n, t), n.prototype.render = function() {
var t = "", n = "OnlineEnvironment_Test" === a.nativePropertiesStore.envOnlineEnvironment ? "release-bf1-lsu35#" : "V.";
if (!c.getBuildInfo().isRetail()) {
var r = a.nativePropertiesStore.getHostingGameId(), u = s.environmentInfoStore.get(r).value;
u && (t = e("Blaze: " + u.blaze + " | Tenancy: " + u.tenancy + " | Version: " + u.version + " | Backend GameData CL: " + u.gameData + " | "));
}
return o.createElement(i.Text, {
style: l.merge2(p, this.props.style || l.emptyStyle),
size: "XS",
value: t + n + "26385"
});
}, n = r.__decorate([ u.observer ], n);
}(o.Component);
t.BundleInfo = d;
}).call(this, n(101));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(14), s = n(68), u = n(31), l = n(157), c = n(8), p = n(275), d = n(64), f = n(136), m = n(1408), h = n(656), g = n(227), y = n(128), S = n(82), v = n(334), _ = n(333), b = n(87), T = n(9), E = n(7), C = n(657), I = n(658), A = n(659), w = n(5), P = n(40).getBuildInfo().isCTE(), R = function(t) {
function n() {
var e = t.call(this) || this;
return e.fragment = b.tunguskaOperationsCampaignStore.get(), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "operationsData", {
get: function() {
return this.fragment && this.fragment.isReady && this.fragment.value ? this.fragment.value : null;
},
enumerable: !0,
configurable: !0
}), n.prototype.getOngoingOperationCampaignStatus = function(e) {
if (this.operationsData) return this.operationsData.availableOperations.find(function(t) {
return t.operationIndex === e;
});
}, n.prototype.getMark = function(e) {
if (e.operationIndex && this.operationsData) {
var t = this.getOngoingOperationCampaignStatus(e.operationIndex);
if (t) return t.isCompleted ? _.ServerMarkType.DONE : _.ServerMarkType.STAR;
}
}, n.prototype.getGameModeName = function(e) {
if (e.operationIndex && this.operationsData && this.getOngoingOperationCampaignStatus(e.operationIndex)) return __("ID_SPARTA_OPERATIONS_CAMPAIGN");
return e.mapModePretty || e.mapMode;
}, e.__decorate([ o.computed ], n.prototype, "operationsData", null), n;
}(v.GameServerLayout);
t.TunguskaGameServerLayout = R;
var O = w.StaticStyle.create({
marginBottom: 4
}, "58be51ec:116:36"), x = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.gameId = u.tunguskaGameId, e.gameServerLayout = new R(), e.sparta = E.SpartaContext.getFromComponent(e), 
e.onRefresh = function() {
return e.sparta.stores.serversStore.refresh(e.gameId);
}, e;
}
return e.__extends(n, t), n.prototype.getTabs = function() {
var e = this, t = P && T.SpartaGlobals.bundleIsPC && r.createElement(s.Focusable, {
id: "cte_server_refresh"
}, function(t) {
return r.createElement(g.IconButton, {
icon: a.bbUrl("/sparta/assets/ui/icons/ui/refresh-a64e967a.png"),
focusItem: t,
action: e.onRefresh,
size: c.getHeight(2.4),
key: "cteRefreshButton",
style: O
});
}), n = y.gameDataStore.get(u.tunguskaGameId).value, o = [ {
name: "servers",
title: __("ID_SPARTA_TAB_SERVERS"),
renderHeader: function() {
return P ? t : r.createElement(C.ServerBrowserHeader, {
gameId: u.tunguskaGameId,
filtersRoute: "tunguska/mp/servers/filter"
});
},
render: function() {
return r.createElement(h.ServerBrowser, {
key: "servers",
gameId: u.tunguskaGameId,
gameData: n,
pingSites: e.state.pingSites,
filtersRoute: P ? void 0 : "tunguska/mp/servers/filter",
gameServerLayout: e.gameServerLayout
});
}
} ];
return P || o.push({
name: "favorites",
title: __("ID_SPARTA_TAB_FAVORITES"),
render: function() {
return r.createElement(I.FavoriteServers, {
key: "favorites",
gameId: u.tunguskaGameId,
gameData: n,
pingSites: e.state.pingSites,
gameServerLayout: e.gameServerLayout
});
}
}), P || o.push({
name: "recent",
title: __("ID_SPARTA_TAB_RECENT"),
render: function() {
return r.createElement(A.RecentServers, {
key: "recent",
gameId: u.tunguskaGameId,
gameData: n,
pingSites: e.state.pingSites,
gameServerLayout: e.gameServerLayout
});
}
}), !P && S.tunguskaFeatureFlags.tunguskaRSP.isEnabled() && o.push({
name: "rented",
title: __("ID_SPARTA_TAB_RENTEDSERVERS"),
render: function() {
return r.createElement(m.RentedServers, {
key: "rented",
gameId: u.tunguskaGameId,
gameData: n,
pingSites: e.state.pingSites,
gameServerLayout: e.gameServerLayout
});
}
}), o;
}, n.prototype.render = function() {
return r.createElement(l.TabbedTemplate, {
tabs: this.getTabs(),
showDivider: !0,
topGutter: !1
});
}, n.contextTypes = E.SpartaContext.contextTypes, n = e.__decorate([ i.observer, d.subscribeToStores({
pingSites: p.scopedStore(f.PingSiteStore, u.tunguskaGameId)
}) ], n);
}(r.Component);
t.TunguskaServerList = x;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(60), i = n(308), a = n(309), s = n(9);
t.pingResults = r.observable.map(), s.SpartaGlobals.bundleIsPC && (o.requestPings.listen(function(e) {
i.ping(e);
}), a.pingCompleted.listen(r.action("pingCompleted", function(e, n, r) {
t.pingResults.set(e, r ? -1 : n);
})));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(8), a = n(632), s = n(14), u = n(21), l = n(19), c = n(9), p = {
S: 2,
M: 4,
L: 6
}, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sizingFactor = c.SpartaGlobals.bundleIsPC ? 1 : 1.5, t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.size || t.defaultProps.size, n = this.props.country ? this.props.country.toUpperCase() : t.defaultProps.country, r = a.flagIcons[n];
r || (console.warn("Trying to get a flag that doesn't exist: " + n), r = s.bbUrl("/sparta/assets/ui/flags/default-870fef7b.png"));
var u = i.getHeight(p[e] * this.sizingFactor), c = {
texture: r,
width: u,
height: u,
textureMode: "contain",
marginRight: l.isRTLLanguage() ? 0 : i.GUTTER,
marginLeft: l.isRTLLanguage() ? i.GUTTER : 0,
marginTop: 0
};
return o.createElement("surface", {
style: c
});
}, t.defaultProps = {
country: "other",
size: u.TextSize.S
}, t;
}(o.Component);
t.Flag = d;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(653), o = n(136);
t.serverPingLookup = function(e, t, n) {
var i = null;
return e || "" === t.ip ? t.pingSiteAlias && (i = function a(e, t) {
var n = o.PingSiteStore.getState()[e];
if (n) {
var r = n[t];
return r ? r.ping : null;
}
return null;
}(t.game, t.pingSiteAlias)) : t.ip && r.pingResults.has(t.ip) && (i = r.pingResults.get(t.ip)), 
"function" == typeof n ? n(i) : (console.warn("Expected a function as the children to ServerPingObserver"), 
null);
};
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(332), a = n(4), s = n(12), u = n(8), l = n(18), c = n(26), p = n(1413), d = n(1414), f = n(119), m = n(75), h = n(204), g = n(334), y = n(7), S = n(34), v = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.sparta = y.SpartaContext.getFromComponent(r), r.refreshServers = function() {
r.sparta.stores.serversStore.refresh(r.props.gameId);
}, r.showAllServers = function() {
r.sparta.stores.serverFilterStore.showAllServers(r.props.gameId), r.refreshServers();
}, r.onRenderMoreClick = function() {
r.props.filtersRoute && l.gotoLocation(r.props.filtersRoute);
}, r.renderMoreResults = function() {
if (r.gameServers.value) {
var e = r.gameServers.value.servers.length, t = __("ID_SPARTA_SERVER_MORERESULTS").replace("[[serverCount]]", "" + e), n = r.sparta.theme.getTheme(r).serverBrowser;
return o.createElement(h.ItemScrollerItem, {
key: "moreresults",
debugName: "moreresults",
height: u.getHeight(7) + u.GUTTER,
isFocusable: !0
}, function(e) {
return o.createElement(m.Button, {
name: "3ccd4a67:140:31",
text: t,
focusItem: e,
textSize: "XS",
action: r.onRenderMoreClick,
style: n.moreButton
});
});
}
};
var i = r.sparta.twinkle.buildInfo.isCTE();
return r.emptyState = {
text: __("ID_SPARTA_SERVER_DEFAULT_EMPTY_TEXT"),
subText: i ? void 0 : __("ID_SPARTA_SERVER_DEFAULT_EMPTY_SUBTEXT")
}, r.errorState = {
text: __("ID_SPARTA_SERVER_DEFAULT_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_DEFAULT_ERROR_SUBTEXT")
}, r.focusAncestor = r.sparta.twinkle.focus.createAncestor("searchservers"), r.gameServerLayout = r.props.gameServerLayout || new g.GameServerLayout(), 
r.gameServers = r.sparta.stores.serversStore.get(r.props.gameId), r;
}
return r.__extends(n, t), n.prototype.componentWillMount = function() {
this.sparta.stores.serverFilterStore.prepareFilters(this.props.gameId), this.refreshServers();
}, n.prototype.componentDidMount = function() {
f.onMultiplayerServerDisconnection.subscribeTo(this, this.refreshServers);
}, n.prototype.componentWillUnmount = function() {
this.focusAncestor.destroy();
}, n.prototype.getInput = function() {
if (this.focusAncestor.hasInputFocus) {
var t = this.sparta.theme.getTheme(this).serverBrowser, n = [ new s.Input({
label: __("ID_SPARTA_ACTION_REFRESH"),
action: this.refreshServers,
key: t.refreshButtonKey
}) ];
return this.sparta.twinkle.buildInfo.isEndUserBuild() || this.sparta.twinkle.buildInfo.isPC || n.push(new s.Input({
label: e("[DBG] Show All Servers"),
action: this.showAllServers
})), n;
}
}, n.prototype.renderSidebar = function() {
var t = this.sparta.theme.getTheme(this).serverBrowser, n = this.sparta.twinkle.buildInfo.isEndUserBuild() ? null : o.createElement(m.Button, {
text: e("[DBG] Show All Servers"),
textSize: "XS",
name: "debugShowAllServers",
action: this.showAllServers,
style: t.showAllButton
});
return o.createElement(S.Scroller, {
style: t.sidebar
}, o.createElement("surface", {
style: t.sidebarInner
}, o.createElement(d.QuickSavedFilters, {
gameId: this.props.gameId
}), o.createElement(p.QuickFilter, {
gameId: this.props.gameId,
filtersRoute: this.props.filtersRoute
}), n));
}, n.prototype.render = function() {
var e = this.props, t = e.gameId, n = e.gameData, a = e.pingSites, s = this.gameServers.value ? this.gameServers.value.servers : void 0, u = this.sparta.twinkle.buildInfo.isCTE(), l = !u && this.gameServers.value && this.gameServers.value.hasMoreResults && this.props.filtersRoute ? this.renderMoreResults() : void 0, c = !u && this.sparta.twinkle.buildInfo.isPC ? this.renderSidebar() : null, p = this.sparta.theme.getTheme(this).serverBrowser;
return o.createElement("surface", r.__assign({
style: p.container
}, this.focusAncestor.hooks), o.createElement(i.ServerList, {
servers: s,
bannerItem: l,
gameId: t,
gameData: n,
pingSites: a,
errorState: this.errorState,
emptyState: this.emptyState,
gameServerLayout: this.gameServerLayout,
isLoading: this.gameServers.isLoading
}), c);
}, n.contextTypes = y.SpartaContext.contextTypes, n = r.__decorate([ a.observer, c.input ], n);
}(o.Component);
t.ServerBrowser = v;
}).call(this, n(2), n(101));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(8), i = n(14), a = n(1), s = n(7), u = n(18), l = n(11), c = n(122), p = n(68), d = n(227), f = n(1419), m = n(546), h = i.bbUrl("/sparta/assets/ui/icons/ui/refresh-a64e967a.png"), g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t.onFilterClick = function() {
t.props.disableFilterClick || u.gotoLocation(t.props.filtersRoute);
}, t.onRefreshClick = function() {
return t.sparta.stores.serversStore.refresh(t.props.gameId);
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this, t = this.props, n = t.gameId, r = t.filtersRoute, i = this.sparta.twinkle.buildInfo.isConsole && a.createElement(c.InputButton, {
inputKey: l.Keys.Option2,
action: this.onFilterClick,
blockInputFor: 1e3
}), s = this.sparta.twinkle.buildInfo.isPC && a.createElement(p.Focusable, {
id: "server_refresh"
}, function(t) {
return a.createElement(d.IconButton, {
icon: h,
focusItem: t,
action: e.onRefreshClick,
size: o.getHeight(2.4),
key: "refreshButton",
style: m.ServerBrowserStyle.refreshButton
});
}), u = a.createElement(f.FilterBar, {
gameId: n,
filtersRoute: r,
disableFilterClick: this.props.disableFilterClick
}), g = this.sparta.twinkle.buildInfo.isCTE();
return a.createElement("surface", {
style: m.ServerBrowserStyle.header
}, g ? void 0 : i, g ? void 0 : u, s);
}, t.contextTypes = s.SpartaContext.contextTypes, t;
}(a.Component);
t.ServerBrowserHeader = g;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(4), o = n(1), i = n(7), a = n(119), s = n(60), u = n(332), l = n(50), c = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.disposers = [], e.emptyState = {
text: __("ID_SPARTA_SERVER_FAVORITE_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_FAVORITE_EMPTY_SUBTEXT")
}, e.errorState = {
text: __("ID_SPARTA_SERVER_FAVORITE_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_FAVORITE_ERROR_SUBTEXT")
}, e.sparta = i.SpartaContext.getFromComponent(e), e.servers = e.sparta.stores.bookmarkedServersStore.get(e.props.gameId), 
e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.disposers.push(a.onMultiplayerServerDisconnection.listen(function() {
s.refreshBookmarks({
game: e.props.gameId
});
})), s.refreshBookmarks({
game: this.props.gameId
});
}, n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.servers.value;
}, function(e) {
e && s.requestPings(e.map(function(e) {
return e.ip;
}));
});
}, n.prototype.componentWillUnmount = function() {
this.disposers.forEach(function(e) {
return e();
});
}, n.prototype.render = function() {
var e = this, t = this.props, n = t.gameId, r = t.gameData;
return o.createElement(l.FragmentLoader, {
load: this.servers,
errorMessage: __("ID_SPARTA_GENERIC_ERROR"),
errorSubText: __("ID_SPARTA_SERVER_FAILED_LOADING_DETAILS")
}, function(t) {
return o.createElement(u.ServerList, {
key: "favorite",
servers: t,
emptyState: e.emptyState,
errorState: e.errorState,
pingSites: e.props.pingSites,
gameId: n,
gameData: r,
gameServerLayout: e.props.gameServerLayout
});
});
}, n.contextTypes = i.SpartaContext.contextTypes, n = e.__decorate([ r.observer ], n);
}(o.Component);
t.FavoriteServers = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(4), o = n(1), i = n(7), a = n(119), s = n(60), u = n(332), l = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.disposers = [], e.emptyState = {
text: __("ID_SPARTA_SERVER_RECENT_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_RECENT_EMPTY_SUBTEXT")
}, e.errorState = {
text: __("ID_SPARTA_SERVER_RECENT_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_RECENT_ERROR_SUBTEXT")
}, e.sparta = i.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.disposers.push(a.onMultiplayerServerDisconnection.listen(function() {
s.refreshBookmarks({
game: e.props.gameId
});
})), s.refreshHistory({
game: this.props.gameId
});
}, n.prototype.componentDidMount = function() {
this.sparta.stores.serversSortStore.reset();
}, n.prototype.componentWillUnmount = function() {
this.disposers.forEach(function(e) {
return e();
});
}, n.prototype.render = function() {
var e = this.props, t = e.gameId, n = e.gameData, r = this.sparta.stores.serverHistoryStore;
return o.createElement(u.ServerList, {
key: "recent",
servers: r.getHistoryByGame(t),
error: r.getErrorByGame(t),
emptyState: this.emptyState,
errorState: this.errorState,
pingSites: this.props.pingSites,
gameId: t,
gameData: n,
gameServerLayout: this.props.gameServerLayout,
isLoading: !r.isLoadedForGame(this.props.gameId)
});
}, n.contextTypes = i.SpartaContext.contextTypes, n = e.__decorate([ r.observer ], n);
}(o.Component);
t.RecentServers = l;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(113), a = n(8), s = n(11), u = n(12), l = n(39), c = n(75), p = n(23), d = n(41), f = n(34), m = n(4), h = n(50), g = n(454), y = n(5), S = n(9), v = n(7), _ = y.StaticStyle.wrapLegacyStyleSheet({
itemSpacing: {
marginTop: a.GUTTER
}
}, "31a169d2:20:15"), b = a.getHeight(26), T = a.getHeight(3), E = y.StaticStyle.create({
height: p.content.height - a.getHeight(8)
}, "31a169d2:157:32"), C = function(t) {
function n(n, r) {
var o = t.call(this, n, r) || this;
return o.sparta = v.SpartaContext.getFromComponent(o), o.titleState = o.sparta.stores.titleState, 
o.onDelete = function(e) {
var t = S.SpartaGlobals.bundleIsPC ? o.state.activeItem : e;
if (t) {
var n = t.id;
null != n && d.legacyConfirm(__("ID_SPARTA_FILTER_DELETE_MESSAGE", !0).split("[[filterName]]").join(t.filterName), __("ID_SPARTA_FILTER_DELETE_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0)).then(function() {
var e = o.sparta.stores.serverFilterStore.getFilter(o.props.gameId);
e && e.id === t.id && o.sparta.stores.serverFilterStore.resetFilters(o.props.gameId), 
g.savedFiltersStore.deleteSavedFilter(o.props.gameId, n), o.state.activeItem && o.setState({
activeItem: null
}), o.titleState.clearOverrides();
});
}
}, o.onApply = function(t) {
var n = S.SpartaGlobals.bundleIsPC ? o.state.activeItem : t;
n ? (o.sparta.stores.serverFilterStore.applyFilterProperties(o.props.gameId, n), 
o.props.switchTab && o.props.switchTab(0)) : e.error("No active item to use as a filter to apply");
}, o.state = {
activeItem: null
}, o;
}
return r.__extends(n, t), n.prototype.renderButtons = function(e) {
return [ o.createElement(c.Button, {
name: "31a169d2:105:23",
text: __("ID_SPARTA_ACTION_FILTER_APPLY").toUpperCase(),
key: "apply",
style: _.itemSpacing,
disabled: !e,
action: this.onApply
}), o.createElement(c.Button, {
name: "31a169d2:113:23",
text: __("ID_SPARTA_ACTION_FILTER_DELETE").toUpperCase(),
key: "delete",
style: _.itemSpacing,
disabled: !e,
action: this.onDelete
}) ];
}, n.prototype.renderItem = function(e) {
var t = this, n = S.SpartaGlobals.bundleIsPC ? void 0 : [ new u.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
return t.onApply(e);
},
key: s.Keys.Accept
}), new u.Input({
label: __("ID_SPARTA_ACTION_FILTER_DELETE"),
action: function() {
return t.onDelete(e);
},
key: s.Keys.Option2
}) ];
return {
id: e.id,
label: e.filterName || "",
isActive: e === this.state.activeItem,
input: n,
scrollLabel: !0,
upperCase: !1,
ignoreRTL: !0,
onTrigger: function() {
return t.setState({
activeItem: e
});
}
};
}, n.prototype.render = function() {
var e = this, t = E;
if (0 === this.props.filters.length) return o.createElement(l.EmptyState, {
style: t,
text: __("ID_SPARTA_FILTER_EMPTY_TEXT"),
subText: __("ID_SPARTA_FILTER_EMPTY_SUBTEXT")
});
var n = this.props.filters.map(function(t) {
return e.renderItem(t);
}), r = S.SpartaGlobals.bundleIsPC ? p.content.height - b : p.content.height - T;
return o.createElement(a.Col, {
width: 7,
style: {
height: p.content.height,
justifyContent: "space-between"
}
}, o.createElement(f.Scroller, {
style: {
height: r,
width: a.getWidth(7)
},
softClip: [ T, 0, T, 0 ]
}, o.createElement(i.List, {
divider: this.props.hideDividers ? "none" : "item",
items: n,
showActiveIndicator: !0
})), o.createElement("surface", {
style: {
marginBottom: a.getHeight(4)
}
}, S.SpartaGlobals.bundleIsPC ? this.renderButtons(!!this.state.activeItem) : null));
}, n.contextTypes = v.SpartaContext.contextTypes, n = r.__decorate([ m.observer ], n);
}(o.Component), I = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.fragment = g.savedFiltersStore.get(n.props.gameId), n;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this;
return o.createElement(h.FragmentLoader, {
errorMessage: __("ID_SPARTA_FILTER_ERROR_TEXT"),
load: this.fragment
}, function(t) {
return o.createElement(C, {
gameId: e.props.gameId,
switchTab: e.props.switchTab,
filters: t,
hideDividers: e.props.hideDividers
});
});
}, t = r.__decorate([ m.observer ], t);
}(o.Component);
t.SavedFiltersView = I;
}).call(this, n(2), n(20));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(32), a = n(6), s = n(8), u = n(75), l = n(654), c = n(154), p = n(43), d = n(37), f = n(12), m = n(428), h = n(11), g = n(14), y = n(21), S = n(19), v = n(58), _ = n(67), b = n(180), T = n(18), E = n(36), C = n(626), I = n(91), A = n(411), w = n(627), P = n(17), R = n(5), O = n(334), x = n(333), k = n(79), L = n(33), M = n(7), D = n(655), N = {
official: g.bbUrl("/sparta/assets/ui/gameservers/type/official-6e10d16b.png"),
ranked: g.bbUrl("/sparta/assets/ui/gameservers/type/ranked-63ddf668.png"),
unranked: g.bbUrl("/sparta/assets/ui/gameservers/type/unranked-5b77f221.png"),
private: g.bbUrl("/sparta/assets/ui/gameservers/type/private-40d383c1.png")
};
function F(e, t, n) {
void 0 === n && (n = I.JoinRole.soldier), E.trackJoinSource("serverbrowser", n), 
p.joinServer(b.createJoinOptions(e, t, n));
}
var G = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = M.SpartaContext.getFromComponent(r), r.gameServerLayout = r.props.gameServerLayout || new O.GameServerLayout(), 
r;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props.details.rotation, t = new k.GameServer(this.props.details), n = this.sparta.theme.getTheme(this).serverDetails;
return r.createElement(i.Template, {
scrollContent: !0,
tallContent: !0,
verticalIndicator: !0,
clipContent: !0,
scrollListener: !1,
scrollToFocus: n.scrollToFocus
}, r.createElement(U, {
details: this.props.details,
fullDetails: this.props.fullDetails,
server: t,
roles: this.props.roles,
gameServerLayout: this.gameServerLayout
}), r.createElement(H, {
settings: this.props.settings
}), r.createElement(B, {
rotation: e,
server: t
}));
}, n.contextTypes = M.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.ServerDetails = G;
var U = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = M.SpartaContext.getFromComponent(r), r.onJoinServerClick = function() {
return F(r.sparta.stores.partyStoreLoader, r.props.server);
}, r.onJoinServerAsCommanderClick = function() {
return F(r.sparta.stores.partyStoreLoader, r.props.server, I.JoinRole.commander);
}, r.onJoinServerAsSpectatorClick = function() {
return F(r.sparta.stores.partyStoreLoader, r.props.server, I.JoinRole.spectator);
}, r.game = r.sparta.stores.gameStore.getGame(e.server.game), r.localizedServerTypes = {
official: __("ID_SPARTA_SERVER_TYPE_OFFICIAL"),
ranked: __("ID_SPARTA_SERVER_TYPE_RANKED"),
unranked: __("ID_SPARTA_SERVER_TYPE_UNRANKED"),
private: __("ID_SPARTA_SERVER_TYPE_PRIVATE")
}, r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "fontSizes", {
get: function() {
return this.sparta.theme.getTheme(this).serverDetails.fontSizes;
},
enumerable: !0,
configurable: !0
}), n.prototype.getTopBar = function() {
var e = this.props.server, t = e.name, n = e.gameId, o = t;
this.sparta.stores.settingsStore.hasUGCAccess() || (o = n);
var i = this.props.fullDetails && this.props.fullDetails.platoon, u = i ? new f.Input({
key: h.Keys.Option2,
label: __("ID_SHARED_PLATOONS_VIEW_PLATOON"),
action: function() {
return T.gotoLocation("platoons/your/view?guid=" + i.guid);
}
}) : void 0, l = this.sparta.theme.getTheme(this).serverDetails;
return r.createElement("surface", {
style: l.topBarContainer
}, r.createElement(v.Marquee, {
delay: 1e3,
scroll: !0,
width: s.getWidth(15)
}, r.createElement(a.Text, {
type: l.serverNameType,
value: o,
size: this.fontSizes.serverName,
style: l.serverName
})), r.createElement("surface", null, this.props.fullDetails && r.createElement(C.OwnerInfo, {
details: this.props.fullDetails,
input: u
})));
}, n.prototype.getStandardInformation = function() {
var e = this.sparta.theme.getTheme(this).serverDetails, t = this.props.server, n = this.getServerType(t.serverType), o = t.country ? r.createElement(l.Flag, {
key: "flag",
size: e.flagSize,
country: t.country
}) : null, i = [], s = this.props.gameServerLayout.getMark(t), u = s && this.props.gameServerLayout.getMarkDescription(s);
u && (i.push(u), i.push(e.standardInfoSeparator)), i.push(this.props.gameServerLayout.getGameModeName(t)), 
i.push(e.standardInfoSeparator), i.push(t.mapNamePretty || t.mapName), t.custom && (i = S.localeRearrange(i)).push(e.standardInfoSeparator);
var c = i.join(" ").toUpperCase();
S.isRTLLanguage() && (c = "  " + c + " ");
var p = null != n ? n.icon : null, d = null != n ? n.text : null, f = this.game && this.game.styles || {}, m = t.custom ? r.createElement(a.Text, {
key: "custom",
size: this.fontSizes.serverInfo,
style: R.merge2(e.customLabel, f.customLabel),
value: __("ID_SPARTA_SERVER_CUSTOM").toUpperCase()
}) : null, h = this.props.gameServerLayout.getMark(t);
return r.createElement("surface", {
style: e.standardInformation
}, S.localeRearrange([ o, h && r.createElement(x.ServerMark, {
type: h
}), r.createElement(a.Text, {
key: "mapMode",
size: this.fontSizes.serverInfo,
value: c,
style: e.serverInfo,
type: e.serverInfoType
}), m, p, d ]));
}, n.prototype.getAdditionalInformation = function() {
var e = this.sparta.theme.getTheme(this).serverDetails, t = this.props.server;
return r.createElement("surface", {
style: e.additionalInformation
}, r.createElement("surface", {
style: e.serverInfoColumn
}, r.createElement(a.Text, {
style: e.serverInfoTitle,
value: __("ID_SPARTA_SERVER_PLAYERS").toUpperCase(),
size: e.serverInfoTitleSize,
type: e.serverInfoTitleType
}), r.createElement(a.Text, {
style: e.serverInfoValue,
value: t.slots.soldier.current + " / " + t.slots.soldier.max,
size: e.serverInfoValueSize,
type: e.serverInfoValueType
})), r.createElement("surface", {
style: e.serverInfoColumn
}, r.createElement(a.Text, {
style: e.serverInfoTitle,
value: __("ID_SPARTA_SERVER_PING").toUpperCase(),
size: e.serverInfoTitleSize,
type: e.serverInfoTitleType
}), this.renderPing(t)), r.createElement("surface", {
style: e.serverInfoColumn
}, r.createElement(a.Text, {
style: e.serverInfoTitle,
value: __("ID_SPARTA_SERVER_TICKRATE").toUpperCase(),
size: e.serverInfoTitleSize,
type: e.serverInfoTitleType
}), r.createElement(a.Text, {
style: e.serverInfoValue,
value: t.tickRate + __("ID_SPARTA_SERVER_TICKRATE_UNIT"),
size: e.serverInfoValueSize,
type: e.serverInfoValueType
})));
}, n.prototype.getServerType = function(e) {
if (!e || this.game && this.game.serverConfig.supportedServerTypes && -1 === this.game.serverConfig.supportedServerTypes.indexOf(e)) return null;
var t = N[e.toLowerCase()];
if (!t) return null;
var n = this.fontSizes.serverInfo === y.TextSize.M ? A.IconSize.S : A.IconSize.XS, o = this.localizedServerTypes[e.toLowerCase()] || e, i = this.sparta.theme.getTheme(this).serverDetails;
return {
icon: r.createElement(c.Icon, {
key: "typeIcon",
image: t,
size: n,
style: i.serverTypeIcon
}),
text: r.createElement(a.Text, {
key: "typeText",
value: o.toUpperCase(),
size: this.fontSizes.serverInfo
})
};
}, n.prototype.renderButtons = function() {
var e, t = this.sparta.theme.getTheme(this).serverDetails, n = this.props.server, o = this.sparta.stores.gameStore.getGame(n.game), i = o && o.serverConfig.supportedRoles, a = o && o.serverConfig.supportsFavorite, s = this.sparta.stores.partyStoreLoader.get().canGroupJoin, l = this.sparta.twinkle.buildInfo.isCTE();
this.props.details && !l && this.props.server.guid && a && (e = this.sparta.twinkle.buildInfo.isPC ? r.createElement(w.ServerFavoriteCounterButton, {
details: this.props.details,
style: t.serverFavorite
}) : r.createElement(w.ServerFavoriteCounter, {
details: this.props.details,
style: t.serverFavorite
}));
var c = !s && _.supportsSpectating(n.game) ? r.createElement("surface", {
style: t.button(!0)
}, r.createElement(u.Button, {
name: "BUTTON_SERVER_DETAILS_JOIN_SPECTATOR",
action: this.onJoinServerAsSpectatorClick,
text: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATE_UPPER")
})) : null, p = !s && i && i.indexOf("commander") > -1 ? r.createElement("surface", {
style: t.button(!0)
}, r.createElement(u.Button, {
name: "BUTTON_SERVER_DETAILS_JOIN_COMMANDER",
action: this.onJoinServerAsCommanderClick,
text: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER")
})) : null;
return r.createElement("surface", {
style: t.buttons
}, r.createElement("surface", {
style: t.button(!1)
}, r.createElement(u.Button, {
name: "BUTTON_SERVER_DETAILS_JOIN",
action: this.onJoinServerClick,
text: __("ID_SPARTA_ACTION_JOIN"),
blockInputFor: 1500
})), c, p, e);
}, n.prototype.renderPing = function(e) {
var t = this, n = this.sparta.theme.getTheme(this).serverDetails;
return D.serverPingLookup(this.sparta.twinkle.buildInfo.isConsole, e, function(e) {
if (t.sparta.twinkle.buildInfo.isConsole) return r.createElement(m.PingIndicator, {
style: n.serverPingValue(S.isRTLLanguage()),
ping: e
});
var o = null != e && e >= 0 ? e + __("ID_SPARTA_DATETIME_MS") : "-";
return r.createElement(a.Text, {
style: n.serverInfoValue,
value: o,
size: n.serverInfoValueSize,
type: n.serverInfoValueType
});
});
}, n.prototype.render = function() {
if (!this.props.server) return r.createElement("surface", null);
var e = this.sparta.theme.getTheme(this).serverDetails, t = this.sparta.stores.settingsStore.hasUGCAccess();
return r.createElement("surface", null, this.getTopBar(), this.getStandardInformation(), this.props.server.description && t ? r.createElement(a.Text, {
size: y.TextSize.S,
style: e.serverDescription,
value: this.props.server.description
}) : null, !this.props.hideButtons && this.renderButtons(), this.getAdditionalInformation());
}, n.contextTypes = M.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.BasicInformation = U;
var B = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = M.SpartaContext.getFromComponent(e), e.hasCurrentlyPlaying = !1, 
e;
}
return e.__extends(n, t), n.prototype.isCurrentlyPlaying = function(e) {
var t = this.props.server, n = t.mapNamePretty.toUpperCase() === e.mapPrettyName.toUpperCase() && t.mapModePretty.toUpperCase() === e.modePrettyName.toUpperCase();
return !0 === this.hasCurrentlyPlaying ? n = !1 : !0 !== n || this.hasCurrentlyPlaying || (this.hasCurrentlyPlaying = !0), 
n;
}, n.prototype.mapRotation = function() {
var e = this, t = this.props.rotation;
return t.map(function(n, o) {
var i = e.isCurrentlyPlaying(n), a = t.length > 4 && o % 4 > 0;
return r.createElement(j, {
key: o,
settings: n,
currentlyPlaying: i,
bottomMargin: a
});
});
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).serverDetails;
this.hasCurrentlyPlaying = !1;
var t = this.mapRotation();
return r.createElement("surface", {
style: R.merge2(P.CommonStyles.noLocalBounds, P.CommonStyles.flexColumn)
}, r.createElement("surface", {
style: e.mapRotationTitleContainer
}, r.createElement(a.Text, {
value: __("ID_SPARTA_SERVER_MAPROTATION").toUpperCase(),
size: e.mapRotationTitleSize,
type: e.mapRotationTitleType,
style: e.mapRotationTitle
})), r.createElement("surface", {
style: e.mapRotationWrapper
}, t));
}, n.contextTypes = M.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.MapRotation = B;
var j = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = M.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "map_rotation_item"), 
r;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this), t = e.serverDetails, n = e.components.MapRotationCard, o = this.props, i = o.settings, a = o.currentlyPlaying, s = a ? __("ID_SPARTA_SERVER_PLAYINGNOW").toUpperCase() : "";
return r.createElement("surface", {
style: t.mapRotationItem(this.props.bottomMargin)
}, r.createElement(n, {
heading: s,
headingColor: "#FFFFFF",
inactiveHighlightColor: a ? "#ffffff33" : void 0,
focusItem: this.focusItem,
modes: i.modePrettyName.toUpperCase(),
maps: i.mapPrettyName.toUpperCase(),
background: i.mapImage,
size: d.CardSize.SW
}));
}, n.contextTypes = M.SpartaContext.contextTypes, n;
}(r.Component);
t.MapRotationItem = j;
var H = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = M.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "fontSizes", {
get: function() {
return this.sparta.theme.getTheme(this).serverDetails.fontSizes;
},
enumerable: !0,
configurable: !0
}), n.prototype.createSettingsGroup = function(t, n) {
var o = this.sparta.theme.getTheme(this).serverDetails, i = [];
return n.forEach(function(t, n) {
t.name && t.setting && i.push(r.createElement(z, e.__assign({
key: n
}, t)));
}), 0 === i.length && (i = [ r.createElement(a.Text, {
key: "empty",
value: __("ID_SPARTA_SERVER_SETTINGS_EMPTY"),
size: this.fontSizes.settings,
style: o.emptyGroupText(S.isRTLLanguage())
}) ]), r.createElement("surface", {
key: t,
style: o.infoColumn
}, r.createElement(V, {
key: "title",
title: t
}), i);
}, n.prototype.render = function() {
var e = this, t = this.sparta.theme.getTheme(this).serverDetails, n = this.props.settings || {}, o = Object.keys(n).map(function(t) {
return e.createSettingsGroup(t, n[t]);
}).filter(function(e) {
return !!e;
});
return o.length ? r.createElement("surface", {
style: t.settings
}, o) : r.createElement("surface", null);
}, n.contextTypes = M.SpartaContext.contextTypes, n;
}(r.Component);
t.Settings = H;
var z = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = M.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "settings_item_" + e.setting), 
r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "fontSizes", {
get: function() {
return this.sparta.theme.getTheme(this).serverDetails.fontSizes;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var t = this.sparta.theme.getTheme(this).serverDetails, n = this.props, o = n.name, i = n.setting, s = n.isDefault, u = S.isRTLLanguage(), l = t.serverSettingsKey, c = t.serverSettingsValue;
u ? l = R.merge2(l, t.serverSettingsGutterMargin) : c = R.merge2(c, t.serverSettingsGutterMargin);
var p = this.focusItem.isFocusedOrHovered, d = p ? P.CommonStyles.color("#000000") : P.CommonStyles.color("#ffffff"), f = s ? L.TextType.NORMAL : L.TextType.EMPHASIS, m = p || s ? d : t.customColoredText, h = p && r.createElement("surface", {
style: t.serverSettingsItemHighlight
});
return r.createElement("surface", e.__assign({}, this.focusItem.hooks), h, r.createElement("surface", {
style: t.serverSettingsItemContent
}, S.localeRearrange([ r.createElement("surface", {
key: "settingKey",
style: l
}, r.createElement(v.Marquee, {
focusItem: this.focusItem,
style: P.CommonStyles.flex1,
rtl: u
}, r.createElement(a.Text, {
value: o.toLocaleUpperCase(),
size: this.fontSizes.settings,
style: R.merge2(t.serverSettingsKeyText, d),
type: f
}))), r.createElement("surface", {
key: "settingValue",
style: c
}, r.createElement(a.Text, {
value: i.toLocaleUpperCase(),
size: this.fontSizes.settings,
style: m,
type: f
})) ])), r.createElement("surface", {
style: t.serverSettingsLine(!1)
}));
}, n.contextTypes = M.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.SettingsItem = z;
var V = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = M.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).serverDetails, t = this.props.title;
return r.createElement("surface", null, r.createElement("surface", {
style: R.merge3(P.CommonStyles.flexWrap, P.CommonStyles.flexRow, P.CommonStyles.flex1)
}, r.createElement(a.Text, {
style: e.serverSettingsTitle,
value: t.toLocaleUpperCase(),
type: "emphasis",
size: "S"
}), r.createElement("surface", {
style: e.serverSettingsValue
})), r.createElement("surface", {
style: e.serverSettingsLine(!0)
}));
}, n.contextTypes = M.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1434), o = n(24);
t.cteClient = r.createClients(o.request);
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(199), s = n(75), u = n(6), l = n(38), c = n(25), p = n(15), d = n(5), f = n(7), m = n(329), h = n(17), g = n(413), y = n(21), S = n(33), v = n(417), _ = n(42), b = n(123), T = n(74), E = n(66), C = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.sparta = f.SpartaContext.getFromComponent(r), r.timelineRunner = new m.TimelineRunner(r, "030b3ef5:42:62"), 
r.blackFillTween = {
opacity: p.Animation.componentTween(r, "030b3ef5:45:48", 1),
width: p.Animation.componentTween(r, "030b3ef5:46:46", 1920),
height: p.Animation.componentTween(r, "030b3ef5:47:47", 1080),
left: p.Animation.componentTween(r, "030b3ef5:48:45", 0),
top: p.Animation.componentTween(r, "030b3ef5:49:44", 0)
}, r.videoTween = p.Animation.componentTween(r, "030b3ef5:51:48", 0), r.backgroundTween = p.Animation.componentTween(r, "030b3ef5:52:53", .01), 
r.didStart = !1, r.didShow = !1, r.didClose = !1, r.videoReady = !1, r.ctaAction = function() {
var e = r.props, t = e.takeover, n = e.gameId, o = r.sparta.stores.gaStore;
v.goToRoute(r.sparta, t.cta), o.trackEvent("Takeover", "success", t.telemetryId), 
o.trackScreen(n + "/takeover/" + t.telemetryId + "/success"), r.tweenOut();
}, r.dismiss = function() {
var e = r.sparta.stores, t = e.pinStore, n = e.gaStore, o = e.locationStore;
t.trackPageView(o.location.url), n.trackEvent("Takeover", "dismiss", r.props.takeover.telemetryId), 
r.tweenOut();
}, r.close = function() {
r.didClose || (r.didClose = !0, r.video && (r.sparta.stores.backgroundMusicStore.resumeCurrentTrack(), 
r.video.isPlaying && r.video.stop()), r.unsubVideoStartedPlaying && r.unsubVideoStartedPlaying(), 
r.props.close());
};
var o = r.sparta.stores.hostingGameStore.game;
return r.theme = o && o.theme || r.sparta.theme.baseTheme, r.continueFocusItem = r.sparta.twinkle.focus.create(r, "takeoverDismiss"), 
r.continueFocusItem.autoFocusCandidate = !0, r.continueFocusItem.setActive("takeoverDelay", !1), 
e.takeover.cta && e.takeover.ctaText && (r.ctaFocusItem = r.sparta.twinkle.focus.create(r, "takeoverCta"), 
r.ctaFocusItem.setActive("takeoverDelay", !1)), e.takeover.videoUrl && (r.video = r.sparta.twinkle.video.loadVideo(e.takeover.videoUrl), 
r.video.isFullScreen = !0, r.video.setLoop(!0), r.video.setVolume(0)), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this, t = this.sparta.stores, n = t.pinStore, r = t.gaStore, o = this.props, i = o.takeover, a = o.gameId, s = this.sparta.uiState;
this.autorun(function() {
var t = s.window.width / s.viewportScale.scaleX, n = s.window.height / s.viewportScale.scaleY, r = -(n - 1080) / 2, o = -(t - 1920) / 2;
e.blackFillTween.width.set(t), e.blackFillTween.height.set(n), e.blackFillTween.top.set(r), 
e.blackFillTween.left.set(o);
}), n.trackPageView(a + "/takeover/" + i.telemetryId.replace(/ /g, "-")), r.trackEvent("Takeover", "view", i.telemetryId), 
r.trackScreen(a + "/takeover/" + i.telemetryId);
var u = this.video;
if (u) {
var l = setTimeout(function() {
e.tweenIn();
}, 1500);
this.unsubVideoStartedPlaying = this.sparta.twinkle.events.onVideoStartPlaying.listen(function(t) {
t === u.id && (clearTimeout(l), e.unsubVideoStartedPlaying && e.unsubVideoStartedPlaying(), 
u.setVolume(1), u.applyVolumeFix(), e.didShow && (e.videoTween.to(1, e.theme.takeover.tweenInOptions), 
e.backgroundTween.to(0, e.theme.takeover.tweenOutOptions)), e.videoReady = !0, e.tweenIn());
}), u.play();
} else this.videoReady = !0, u ? (u.play(), setTimeout(function() {
e.tweenIn();
}, 1e3)) : this.tweenIn();
}, n.prototype.componentWillUnmount = function() {
this.close();
}, n.prototype.tweenIn = function() {
var e = this;
this.didStart || (this.didStart = !0, this.video && this.sparta.stores.backgroundMusicStore.stopCurrentTrack(), 
this.timelineRunner.play(function() {
e.continueFocusItem && (e.continueFocusItem.setActive("takeoverDelay", !0), e.continueFocusItem.setFocused(_.FocusSource.Auto, e.sparta.twinkle.focus.controllerMode)), 
e.ctaFocusItem && e.ctaFocusItem.setActive("takeoverDelay", !0);
}, {
background: function() {
e.didShow = !0, e.video && e.videoReady ? e.videoTween.to(1, e.theme.takeover.tweenInOptions) : e.backgroundTween.to(1, e.theme.takeover.tweenInOptions);
}
}));
}, n.prototype.tweenOut = function() {
var e = this;
this.continueFocusItem && this.continueFocusItem.setActive("takeoverDelay", !1), 
this.ctaFocusItem && this.ctaFocusItem.setActive("takeoverDelay", !1), this.timelineRunner.updateTimeline(this.theme.takeover.tweenOut.events), 
this.timelineRunner.play(this.close, {
background: function() {
e.backgroundTween.to(0, e.theme.takeover.tweenOutOptions), e.video && e.videoTween.to(0, e.theme.takeover.tweenOutOptions);
},
blackFill: function() {
e.blackFillTween.opacity.transition(1, 0, e.theme.takeover.tweenOutOptions);
}
});
}, n.prototype.render = function() {
var e, t, n = this.props.takeover, o = this.theme.takeover, i = d.merge2(o.buttonContainer, this.timelineRunner.getStyle(o.tweenIn, "buttons")), a = d.merge3(o.blackFill, this.blackFillTween.opacity.getStyleClass("opacity"), d.merge4(this.blackFillTween.width.getStyleClass("width"), this.blackFillTween.height.getStyleClass("height"), this.blackFillTween.top.getStyleClass("top"), this.blackFillTween.left.getStyleClass("left")));
this.video ? (e = d.emptyStyle, t = d.merge2(o.videoContainer({
video: this.video.id
}), this.videoTween.getStyleClass("layerOpacity"))) : (e = this.timelineRunner.getStyle(o.tweenIn, "scale"), 
t = d.emptyStyle);
var l = d.merge3(e, o.backgroundContainer({
texture: n.backgroundUrl
}), this.backgroundTween.getStyleClass("opacity")), c = d.merge3(e, o.gradient, this.timelineRunner.getStyle(o.tweenIn, "gradient"));
return r.createElement(b.ThemeProvider, {
debugName: "030b3ef5:309:39",
theme: this.theme
}, r.createElement("surface", {
style: h.CommonStyles.dock
}, r.createElement("surface", {
style: a
}), r.createElement("surface", {
style: l
}), this.video ? r.createElement("surface", {
style: t
}) : null, r.createElement("surface", {
style: c
}), r.createElement("surface", {
style: o.popupContent
}, r.createElement("surface", {
style: this.timelineRunner.getStyle(o.tweenIn, "title")
}, r.createElement(u.Text, {
type: S.TextType.LIGHT,
value: n.title.toUpperCase(),
style: o.title,
size: o.titleTextSize
})), n.subtitle ? r.createElement("surface", {
style: this.timelineRunner.getStyle(o.tweenIn, "subTitle")
}, r.createElement(g.HeaderText, {
type: S.TextType.LIGHT,
value: n.subtitle.toUpperCase(),
style: o.subtitle,
size: o.subtitleTextSize
})) : void 0, r.createElement("surface", {
style: this.timelineRunner.getStyle(o.tweenIn, "description")
}, r.createElement(u.Text, {
type: S.TextType.LIGHT,
value: n.description,
style: o.description,
size: o.descriptionTextSize
})), r.createElement("surface", {
style: i
}, r.createElement(s.Button, {
name: "030b3ef5:346:39",
style: o.button,
focusItem: this.continueFocusItem,
text: __("ID_SPARTA_ACTION_CONTINUE"),
action: this.dismiss,
stealFocus: this.sparta.twinkle.buildInfo.isPC
}), n.cta && n.ctaText ? r.createElement(s.Button, {
name: "030b3ef5:355:43",
style: o.ctaButton,
focusItem: this.ctaFocusItem,
text: n.ctaText,
action: this.ctaAction
}) : void 0), n.legal ? r.createElement("surface", {
style: this.timelineRunner.getStyle(o.tweenIn, "legal")
}, r.createElement(u.Text, {
type: S.TextType.LIGHT,
value: n.legal,
style: o.legal,
size: y.TextSize.XXS
})) : void 0)));
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component), I = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = f.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this, t = this.sparta.stores, n = t.takeoverStore, i = t.nativePropertiesStore, s = t.startScreenStore, u = t.layoutVisibilityStore, p = t.gameStateStoreLoader, d = t.blackFadeState;
if (!(n.isDisabled.get(a.TakeoverType.Popup) && n.isDisabled.get(a.TakeoverType.FirstTime) || !i.isHostingGame(this.props.gameId))) {
var f = p.get();
this.takeoverReaction = o.reaction(function() {
if (!s.isVisible && u.content && f.isOnFrontEnd && f.currentGameViewRoute === T.GameViewRoute.NONE && d.current && 0 === d.current.to) return n.get(a.TakeoverType.FirstTime) || n.get(a.TakeoverType.Popup);
}, function(t) {
if (t) {
var o, i = E.autoId("takeover-" + t.takeoverType), u = function() {
return c.close(i);
};
a.Takeover.isType(t) ? o = r.createElement(C, {
takeover: t,
gameId: e.props.gameId,
close: u
}) : a.FirstTimeTakeover.isType(t) && (o = r.createElement(t.component, {
close: u
})), o && (e.takeoverReaction && e.takeoverReaction(), e.when(function() {
return s.isVisible;
}, u), n.disable(a.TakeoverType.Popup), n.disable(a.TakeoverType.FirstTime), c.display(new l.Popup({
id: i,
content: o,
createButtons: !1,
instantShow: !0,
fullScreen: !0,
centerContent: !1,
disableBlur: !0,
backgroundColor: "#00000000",
onClose: function() {
n.seen(t);
}
})));
}
}, {
fireImmediately: !0
});
}
}, n.prototype.componentWillUnmount = function() {
this.takeoverReaction && this.takeoverReaction();
}, n.prototype.render = function() {
return null;
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.TakeoverComponent = I;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaAssignmentsStyles"), a = function() {
function e() {}
return e.categoryContainer = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "column",
marginBottom: o.Grid.spacer(2)
}, "17617d68:7:42");
}), e.categoryTitle = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2),
width: o.Grid.getWidth(15)
}, "17617d68:15:38");
}), e.assignmentsContainer = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row",
flexWrap: "wrap"
}, "17617d68:22:45");
}), e.stackContainer = o.wrap(function() {
return o.style({
flexDirection: "column",
width: o.Grid.getWidth(3),
marginBottom: o.Grid.spacer(1),
marginRight: o.Grid.spacer(1)
}, "17617d68:30:39");
}), e.stackContainerInner = o.stylefunc(function() {
return o.style({}, "17617d68:40:14");
}, function(e) {
return o.dynamicStyle({
translateY: e.translateYTween,
scaleX: e.scaleTween,
scaleY: e.scaleTween
}, "17617d68:41:66");
}), e.itemStyle = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(3),
marginRight: o.Grid.spacer(1)
}, "17617d68:49:34");
}), e.indexInfo = o.wrap(function() {
return o.style({
position: "absolute",
top: 4,
right: 4,
layer: !0,
zOffset: 5
}, "17617d68:56:34");
}), e.stackBorder = o.stylefunc(function() {
return o.style({
position: "absolute",
top: -5,
right: -5,
width: o.Grid.getWidth(3) - o.Grid.spacer(1),
height: o.Grid.getHeight(12) - o.Grid.spacer(1),
zOffset: -1
}, "17617d68:67:14");
}, function(e) {
return o.dynamicStyle({
backgroundColor: e.isFocused ? "#00000055" : "#00000000",
translateY: e.translateYTween
}, "17617d68:76:66");
}), e.stackBorderTop = o.stylefunc(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
left: 0,
backgroundColor: "#00000055",
height: 3
}, "17617d68:84:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.isFocused ? 0 : 1
}, "17617d68:93:41");
}), e.stackBorderRight = o.stylefunc(function() {
return o.style({
position: "absolute",
top: 3,
bottom: 0,
right: 0,
backgroundColor: "#00000055",
width: 3
}, "17617d68:100:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.isFocused ? 0 : 1
}, "17617d68:109:41");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaAssignmentsStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaCareerCodexStyle"), a = function() {
function e() {}
return e.content = o.wrap(function() {
return o.style({
paddingLeft: o.Grid.getWidth(1),
width: o.Grid.getWidth(18)
}, "38c48ea0:18:32");
}), e.tableWidth = o.value(function() {
return o.Grid.getWidth(18);
}, "38c48ea0:25:24"), e.tableHeight = o.value(function() {
return o.LayoutBounds.content.height - o.Grid.spacer(2);
}, "38c48ea0:26:25"), e.cellWidth = o.value(function() {
return o.Grid.getWidth(3.55);
}, "38c48ea0:28:23"), e.cellHeight = o.value(function() {
return o.Grid.getHeight(34);
}, "38c48ea0:29:24"), e.cellStyle = o.stylefunc(function() {
return o.style({
position: "absolute"
}, "38c48ea0:31:14");
}, function(e) {
return o.dynamicStyle({
left: e.left + 10,
top: e.top
}, "38c48ea0:35:48");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaCareerCodexStyle = a;
var s = function() {
function e() {}
var t;
return t = e, e.goldenTexture = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/tunguska/career/golden-texture-eae85f40.png");
}, "38c48ea0:45:27"), e.codexLockedM = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/codex-locked-m-dc2f03d1.png");
}, "38c48ea0:46:26"), e.codexLocked = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/codex-locked-2b76a9ee.png");
}, "38c48ea0:47:25"), e.gradientInactive = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-inactive-news-1bef4fc7.png");
}, "38c48ea0:48:30"), e.gradientActive = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-active-news-abc6b204.png");
}, "38c48ea0:51:28"), e.goldenLine = o.stylefunc(function() {
return o.style({
position: "absolute",
bottom: -1,
right: 0,
left: 0,
zOffset: 51,
texture2: t.goldenTexture,
texture2Mode: "fill"
}, "38c48ea0:56:14");
}, function(e) {
return o.dynamicStyle({
borderRadius: e.isInPopup ? [ 0, 0, 15, 15 ] : [ 0, 0, 5, 5 ],
height: e.isInPopup ? 16 : 8
}, "38c48ea0:66:41");
}), e.pressable = o.stylefunc(function() {
return o.style({
width: o.Grid.getWidth(3.4),
height: o.Grid.getHeight(33),
marginRight: o.Grid.spacer(1),
marginBottom: o.Grid.spacer(1)
}, "38c48ea0:74:14");
}, function(e) {
return o.dynamicStyle({
enableMouseEvents: !e.isInPopup,
borderRadius: e.isInPopup ? [ 15, 15, 15, 15 ] : [ 5, 5, 5, 5 ]
}, "38c48ea0:81:41");
}), e.dock = i.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
}, "38c48ea0:88:18");
}), e.image = i.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
zOffset: 1,
textureMode: "cover"
}, "38c48ea0:96:19");
}), e.info = o.multistyle(function(e) {
return void 0 === e && (e = !1), o.style({
position: "absolute",
bottom: 0,
right: 0,
left: 0,
zOffset: 55,
padding: o.Grid.spacer(e ? 4 : 2)
}, "38c48ea0:106:59");
}), e.goldenText = i.wrap(function() {
return o.style({
texture2: t.goldenTexture,
texture2Mode: "fill",
opacity: 1
}, "38c48ea0:117:24");
}), e.textCategory = i.wrap(function() {
return o.style({
opacity: .66,
textAlignForRTL: "left"
}, "38c48ea0:123:26");
}), e.textName = i.wrap(function() {
return o.style({
textAlignForRTL: "left"
}, "38c48ea0:128:22");
}), e.progressBar = i.wrap(function() {
return o.style({
position: "absolute",
bottom: -1,
left: 0,
right: 0,
zOffset: 51
}, "38c48ea0:132:25");
}), e.lockedBackground = o.multistyle(function(e) {
return void 0 === e && (e = !1), o.style({
texture: e ? t.codexLockedM : t.codexLocked,
opacity: .4
}, "38c48ea0:140:71");
}), e.overlayStyle = i.wrap(function() {
return o.style({
position: "absolute",
bottom: 0,
top: 0,
left: 0,
right: 0,
zOffset: 2,
textureMode: "cover"
}, "38c48ea0:147:26");
}), e.borderRadius = o.multistyle(function(e) {
return void 0 === e && (e = !1), o.style({
borderRadius: e ? [ 15, 15, 15, 15 ] : [ 5, 5, 5, 5 ]
}, "38c48ea0:157:67");
}), e.borderRadiusProgressBar = o.multistyle(function(e) {
return void 0 === e && (e = !1), o.style({
borderRadius: e ? [ 0, 0, 15, 15 ] : [ 0, 0, 5, 5 ]
}, "38c48ea0:163:78");
}), e.overlayGradientActive = i.wrap(function() {
return o.style({
texture: t.gradientActive
}, "38c48ea0:169:35");
}), e.overlayGradientInactive = i.wrap(function() {
return o.style({
texture: t.gradientInactive
}, "38c48ea0:173:37");
}), e = t = r.__decorate([ i.style ], e);
}();
t.TunguskaCodexCardStyles = s;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(1452), i = n(18), a = n(32), s = n(8), u = n(6), l = n(98), c = n(89), p = n(28), d = n(228), f = n(1453), m = n(58), h = n(407), g = n(34), y = n(1454), S = n(39), v = n(1455), _ = n(4), b = n(61), T = n(67), E = n(161), C = n(64), I = n(10), A = n(69), w = n(195), P = n(80), R = n(140), O = n(306), x = n(12), k = n(19), L = n(29), M = n(5), D = n(17), N = n(111), F = n(9), G = n(21), U = n(7), B = M.StaticStyle.create({
height: s.getHeight(14)
}, "c2651036:378:30"), j = M.StaticStyle.create({
width: s.getHeight(12)
}, "c2651036:379:34"), H = M.StaticStyle.create({
flexDirection: "row",
marginLeft: 1.5 * s.GUTTER
}, "c2651036:398:37"), z = M.StaticStyle.create({
marginTop: 15,
marginLeft: 15,
zOffset: 10
}, "c2651036:509:24"), V = M.StaticStyle.create({
width: s.getWidth(5),
marginTop: s.getHeight(2)
}, "c2651036:537:32"), W = M.StaticStyle.create({
width: s.getWidth(24)
}, "c2651036:555:29"), q = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = U.SpartaContext.getFromComponent(e), e.menuSelectionState = new l.ListSelectionState(), 
e.primaryOnClick = function() {
var t = e.getGameStats(), n = e.game && e.game.careerConfig.shouldDisplayMedalProgression ? "/soldier/weapons" : "/soldier/kits";
e.gotoLocation(n + "?id=" + t.highlightsMap.primary.itemId);
}, e.sidearmOnClick = function() {
var t = e.getGameStats(), n = e.game && e.game.careerConfig.shouldDisplayMedalProgression ? "/soldier/weapons" : "/soldier/kits";
e.gotoLocation(n + "?id=" + t.highlightsMap.sidearm.itemId);
}, e.vehicleOnClick = function() {
var t = e.getGameStats(), n = e.game && e.game.soldierConfig, r = n && n.showCategorizationForVehicles ? "category=" + t.highlightsMap.vehicleCategory.name : "id=" + t.highlightsMap.vehicle.name;
e.gotoLocation("/soldier/vehicles?" + r);
}, e.kitOnClick = function() {
var t = e.getGameStats();
e.gotoLocation("/soldier/kits?category=" + t.highlightsMap.kit.name);
}, e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "gameId", {
get: function() {
return this.props.viewLocation.args.gameId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "game", {
get: function() {
return I.gameStore.getGame(this.gameId);
},
enumerable: !0,
configurable: !0
}), n.prototype.getPlatoon = function() {
if (w.platoonsFeatureFlags.platoons.isEnabled() && I.onlineState.sessionUser) {
var e = I.onlineState.sessionUser.spartaUserId.personaId;
if (e) {
var t = A.platoonsStores.activePlatoons.getActivePlatoon(e), n = t.value;
if (t.isReady && n instanceof P.Platoon) return n;
}
}
return null;
}, n.prototype.renderMenuItemProgression = function(e, t) {
if (e.completion) {
var n = (this.getGameStats() || {}).completion.filter(function(t) {
return Array.isArray(e.completion) ? -1 !== e.completion.indexOf(t.name) : t.name === e.completion;
});
if (n.length) {
var i = n.reduce(function(e, t) {
return e.add(t);
}), a = Array.isArray(e.completion) ? e.completion[0] : e.completion;
return r.createElement(y.CompletionProgress, {
key: a,
style: o.CareerGameOverviewStyle.completionProgress,
focusItem: t,
completionName: a,
completionObj: i
});
}
}
}, n.prototype.renderMenuItems = function() {
var e = this, t = T.routeIsHostingGame.get(), n = !E.rimeTransitionState.isInJoinFlow && t, o = this.game && this.game.careerConfig, a = [];
return o ? (o.items.forEach(function(o, s) {
if (o && (!o.requiresInstallation || !e.sparta.stores.installStateStore.isInstalling) && (!o.featureFlag || o.featureFlag.isEnabled()) && ("platoons" !== o.route || w.platoonsFeatureFlags.platoons.isEnabled())) {
var u, l = o.route ? o.route : "menu-item-" + s, p = o.label(), d = o.onTrigger;
if ("platoons" === o.route) {
var f = e.getPlatoon();
if (!f) return;
u = f.getTag(), d = function() {
return i.gotoLocation("platoons/your/view?guid=" + f.guid);
};
}
o.isNative && !n ? d = function() {
return E.requiresRime(e.gameId, o.onTrigger || function() {});
} : o.requiresHostingGame && !t && (d = N.showNotInHostingGame);
var m = "listitem_" + l, h = r.createElement(c.ListItem, {
index: s,
key: l,
debugName: m,
input: new x.Input({
action: d,
label: __("ID_SPARTA_ACTION_SELECT")
}),
selectionState: e.menuSelectionState,
disableActiveIndicator: !0
}, function(t, n) {
return r.createElement(k.LocaleRearrange, {
style: n
}, r.createElement(c.ListItemLabel, {
value: p.toUpperCase(),
right: k.isRTLLanguage(),
key: "label"
}), u ? r.createElement("surface", {
key: "sublabel"
}, r.createElement(c.ListItemLabel, {
value: u.toUpperCase()
})) : e.renderMenuItemProgression(o, t));
});
a.push(h);
}
}), a) : a;
}, n.prototype.getStartRoute = function() {
return this.game && this.game.startRoute;
}, n.prototype.getGameStats = function() {
return this.state.career.gameStats[this.gameId];
}, n.prototype.getRankUpTime = function() {
var e = this.getGameStats(), t = e.rank.progress.total - e.rank.progress.current, n = e.spm, r = 0;
return n > 0 && (r = t / n / 60) < 1 && (r = 0), r;
}, n.prototype.renderEmblem = function() {
var e = this.getPlatoon(), t = e && e.emblem || this.state.career.emblem;
if (t && "" !== t) {
var n = O.imageUrlFromTemplate(t, 512, "png");
return r.createElement("surface", {
style: o.CareerGameOverviewStyle.platoonEmblemBackgroundImage({
texture: n
})
});
}
return r.createElement("surface", null);
}, n.prototype.renderSoldierImage = function() {
I.gameStore.getGame(this.gameId);
var e = this.state.career.gameStats[this.gameId], t = this.game && this.game.getSoldierImageUrl(e);
return r.createElement("surface", {
style: [ o.CareerGameOverviewStyle.soldierImage, {
texture: t
} ]
}, this.renderDogtags());
}, n.prototype.renderDogtags = function() {
var e = this.game, t = this.getGameStats(), n = o.CareerGameOverviewStyle.dogtagsContainer;
return e && t && t.equippedDogtags ? r.createElement(v.EquippedDogtags, {
tags: t.equippedDogtags,
style: n,
size: e.dogtagsConfig.size,
type: e.dogtagsConfig.type
}) : r.createElement("surface", {
style: n
});
}, n.prototype.renderGameStats = function() {
var e = this.getGameStats(), t = F.SpartaGlobals.bundleIsConsole ? G.TextSize.XL : G.TextSize.L, n = e && e.spmFormatted && e.spmFormatted.length > 6 ? G.TextSize.S : t, i = r.createElement(s.Col, {
width: 10 / 3,
style: o.CareerGameOverviewStyle.gameStatsPair
}, r.createElement(u.Text, {
value: __("ID_SPARTA_CAREER_DETAILS_WINS").toUpperCase(),
size: "S",
style: o.CareerGameOverviewStyle.gameStatsHeading
}), r.createElement(u.Text, {
value: (e ? e.winPercentage : 0) + "%",
size: t,
type: "emphasis",
style: o.CareerGameOverviewStyle.gameStatsValue
})), a = r.createElement(s.Col, {
width: 10 / 3,
style: o.CareerGameOverviewStyle.gameStatsPair
}, r.createElement(u.Text, {
value: __("ID_SPARTA_CAREER_DETAILS_SPM").toUpperCase(),
size: "S",
style: o.CareerGameOverviewStyle.gameStatsHeading
}), r.createElement(u.Text, {
value: e ? e.spmFormatted : "0",
size: n,
type: "emphasis",
style: o.CareerGameOverviewStyle.gameStatsValue
})), l = r.createElement(s.Col, {
width: 10 / 3,
style: o.CareerGameOverviewStyle.gameStatsPair
}, r.createElement(u.Text, {
value: __("ID_SPARTA_CAREER_DETAILS_KPM").toUpperCase(),
size: "S",
style: o.CareerGameOverviewStyle.gameStatsHeading
}), r.createElement(u.Text, {
value: e ? e.kpmFormatted : "0",
size: t,
type: "emphasis",
style: o.CareerGameOverviewStyle.gameStatsValue
}));
return r.createElement(s.Row, {
style: o.CareerGameOverviewStyle.gameStatsContainer
}, i, a, l);
}, n.prototype.renderSoldierInfo = function() {
var e = I.onlineState.sessionUser && I.onlineState.sessionUser.displayName ? I.onlineState.sessionUser.displayName : "", t = this.getPlatoon();
t && (e = R.appendTag(e, t.tag));
var n, i, a = this.getGameStats(), l = this.getRankUpTime();
n = 0 === l ? __("ID_SPARTA_CAREER_DETAILS_RANK_LESS_1H") : __("ID_SPARTA_CAREER_DETAILS_RANK_HOURS").replace("[[time]]", l.toFixed()), 
i = l >= 0 ? __("ID_SPARTA_CAREER_DETAILS_RANK_HOURS_TEXT").replace("[[time]]", n) : "", 
1 === a.rank.progress.percentage && (i = "");
var c = this.game && this.game.rankNumberStyle;
return r.createElement(s.Row, {
style: B
}, r.createElement(s.Col, {
style: j
}, this.renderRank()), r.createElement(s.Col, {
width: 14
}, r.createElement(h.Clipper, {
width: s.getWidth(13.5),
height: s.getHeight(7),
clipContent: !0,
softClip: [ 0, 30, 0, 15 ]
}, r.createElement(m.Marquee, {
showEllipsis: !0,
width: s.getWidth(13)
}, r.createElement(u.Text, {
type: "emphasis",
size: "L",
value: e,
style: o.CareerGameOverviewStyle.userName
}))), r.createElement("surface", {
style: H
}, r.createElement("surface", {
style: [ o.CareerGameOverviewStyle.rankNumber, c ]
}, r.createElement(u.Text, {
size: "S",
value: "" + a.rank.number,
style: D.CommonStyles.alignSelfCenter
})), r.createElement(u.Text, {
size: "S",
value: b.formatThousands(a.rank.progress.current) + " / " + b.formatThousands(a.rank.progress.total)
}), r.createElement(u.Text, {
size: "S",
value: i,
style: o.CareerGameOverviewStyle.timeToRankUp
}))));
}, n.prototype.gotoLocation = function(e) {
var t = this.getStartRoute();
i.gotoLocation(t + e);
}, n.prototype.renderCards = function() {
var e = this.getGameStats(), t = this.game, n = e.highlightsMap && e.highlightsMap.kit && e.highlightsMap.kit.name ? e.highlightsMap.kit.name : null, i = n && t && null != t.careerConfig.getImagesByKit ? t.careerConfig.getImagesByKit(n) : null, a = t && t.soldierConfig, s = a && a.showBiggerCardImages, u = a && a.showCategorizationForVehicles ? e.highlightsMap.vehicleCategory : e.highlightsMap.vehicle;
return r.createElement("surface", {
style: o.CareerGameOverviewStyle.topCardContainer
}, r.createElement(f.HighlightCard, {
item: u,
onClick: this.vehicleOnClick,
style: o.CareerGameOverviewStyle.topCard
}), r.createElement(f.HighlightCard, {
item: e.highlightsMap.primary,
onClick: this.primaryOnClick,
biggerImages: s || !1,
style: o.CareerGameOverviewStyle.topCard
}), r.createElement(f.HighlightCard, {
item: e.highlightsMap.kit,
onClick: this.kitOnClick,
imageUrl: i ? i.white : void 0,
style: o.CareerGameOverviewStyle.topCard
}), r.createElement(f.HighlightCard, {
item: e.highlightsMap.sidearm,
onClick: this.sidearmOnClick,
biggerImages: s || !1,
style: o.CareerGameOverviewStyle.topCard
}));
}, n.prototype.renderRank = function() {
var e = this.game;
return r.createElement(d.RankBadge, {
style: z,
skipAnimation: !0,
noAnimation: !0,
badgeSize: s.getHeight(8),
gameId: this.gameId,
rankIconScaling: e && e.rankIconScaling
});
}, n.prototype.render = function() {
if (!I.entitlementStore.hasLoadedGame(this.gameId)) return r.createElement(S.EmptyState, {
centerVertically: !0
}, r.createElement(L.Spinner, {
large: !0
}));
var e = this.game;
if (!I.entitlementStore.ownsGame(this.gameId) && e) {
var t = e.displayName(), n = __("ID_SPARTA_COMMERCE_UNOWNED_GAME").replace("[[game]]", t.toUpperCase()), o = __("ID_SPARTA_COMMERCE_UNOWNED_GAME_SOLDIER_DESC").replace("[[game]]", t);
return r.createElement(S.EmptyState, {
text: n,
subText: o,
centerVertically: !0
}, r.createElement(p.Button, {
name: "c2651036:535:31",
text: __("ID_SPARTA_COMMERCE_UNOWNED_GAME_GET").toUpperCase(),
style: V,
action: this.gotoLocation.bind(this, e.startRoute + "/store/list?tab=game")
}));
}
return this.state.career && this.getGameStats() ? r.createElement("surface", {
style: W
}, this.renderEmblem(), r.createElement(s.Row, {
style: D.CommonStyles.spaceBetweenContent
}, r.createElement(s.Col, {
width: 7
}, this.renderSoldierImage()), r.createElement(s.Col, {
width: 17
}, this.renderSoldierInfo(), r.createElement(s.Row, {
style: D.CommonStyles.spaceBetweenContent
}, r.createElement(s.Col, {
width: 6
}, r.createElement(c.List, null, r.createElement(g.Scroller, {
scrollbar: !0,
style: {
height: s.getHeight(58)
},
softClip: [ 20, 0, 20, 0 ]
}, this.renderMenuItems()))), r.createElement(s.Col, {
width: 10
}, this.renderGameStats(), this.renderCards()))))) : r.createElement(S.EmptyState, {
centerVertically: !0,
text: __("ID_SPARTA_CAREER_ERROR_TEXT"),
subText: __("ID_SPARTA_CAREER_ERROR_SUBTEXT")
});
}, n.contextTypes = U.SpartaContext.contextTypes, n = e.__decorate([ _.observer, C.subscribeToStores({
career: I.careerStore
}) ], n);
}(r.Component);
t.CareerGameOverviewContent = q;
var K = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(a.Template, {
tallContent: !0,
scrollContent: !1
}, r.createElement(q, {
viewLocation: this.props.viewLocation
}));
}, n;
}(r.Component);
t.CareerGameOverview = K;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(64), s = n(1459), u = n(210), l = n(157), c = n(10), p = n(89), d = n(19), f = n(1461), m = n(1464), h = n(235), g = n(211), y = n(160), S = n(12), v = n(11), _ = n(456), b = n(1465), T = n(28), E = n(39), C = n(29), I = n(9), A = function() {
function t(e) {
var t = this;
this.gameId = e, this.equippedDogtags = [], this.isEquipping = !1, this.careerStoreListener = c.careerStore.scope("gameStats").connect(function(e) {
var n = e[t.gameId], r = n && n.equippedDogtags;
r && t.setEquippedDogtags(r);
});
}
return Object.defineProperty(t.prototype, "firstDogtag", {
get: function() {
return 2 === this.equippedDogtags.length ? this.equippedDogtags[0] : void 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "secondDogtag", {
get: function() {
return 2 === this.equippedDogtags.length ? this.equippedDogtags[1] : void 0;
},
enumerable: !0,
configurable: !0
}), t.prototype.setEquippedDogtags = function(e) {
this.equippedDogtags = e;
}, t.prototype.setEquipping = function(e) {
this.isEquipping = e;
}, t.prototype.isDogtagEquipped = function(e) {
return this.equippedDogtags.some(function(t) {
return t.unlockId === e;
});
}, t.prototype.equipDogtag = function(e) {
var t = this;
if (!this.isEquipping) {
this.setEquipping(!0), b.SaveDogtagClient.trigger(this.gameId, e);
var n = b.SaveDogtagClient.listen(o.action(function() {
n(), t.setEquipping(!1);
}));
}
}, t.prototype.unsubscribe = function() {
this.careerStoreListener && this.careerStoreListener.unsubscribe();
}, e.__decorate([ o.observable ], t.prototype, "equippedDogtags", void 0), e.__decorate([ o.observable ], t.prototype, "isEquipping", void 0), 
e.__decorate([ o.computed ], t.prototype, "firstDogtag", null), e.__decorate([ o.computed ], t.prototype, "secondDogtag", null), 
e.__decorate([ o.action ], t.prototype, "setEquippedDogtags", null), e.__decorate([ o.action ], t.prototype, "setEquipping", null), 
t;
}();
t.EquippedDogtagsState = A;
var w = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.equippedDogtagsState = new A(this.props.gameId);
}, n.prototype.componentDidMount = function() {
_.DogtagClient.trigger(this.props.gameId);
}, n.prototype.componentWillUnmount = function() {
this.equippedDogtagsState.unsubscribe();
}, n.prototype.getTabs = function() {
var e = this.props.gameId, t = c.gameStore.getGame(this.props.gameId);
if (!t) return [];
var n = t.dogtagsConfig, r = this.state.dogtags[e];
return [ {
name: "left",
title: n.getLeft(),
component: R,
props: {
gameId: e,
ref: "careerDogtagLeft",
index: 0,
categories: r ? r.left : [],
equippedDogtagsState: this.equippedDogtagsState
}
}, {
name: "right",
title: n.getRight(),
component: R,
props: {
gameId: e,
ref: "careerDogtagRight",
index: 1,
categories: r ? r.right : [],
equippedDogtagsState: this.equippedDogtagsState
}
} ];
}, n.prototype.render = function() {
return this.state.dogtags[this.props.gameId] ? r.createElement(l.TabbedTemplate, {
topGutter: !1,
tabs: this.getTabs()
}) : r.createElement(E.EmptyState, null, r.createElement(C.Spinner, {
large: !0
}));
}, n = e.__decorate([ i.observer, a.subscribeToStores({
dogtags: s.DogtagSplitStore
}) ], n);
}(r.Component);
t.CareerDogtagsNew = w;
var P = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(w, {
gameId: this.props.viewLocation.args.gameId
});
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.CareerDogtags = P;
var R = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = 0 === this.props.index ? this.props.equippedDogtagsState.firstDogtag : this.props.equippedDogtagsState.secondDogtag, n = t && t.unlockId;
return r.createElement(u.CareerSectionSelectionHandler, {
categories: this.props.categories,
preSelectedItemId: n
}, function(t, o) {
return r.createElement("surface", {
style: g.CareerSectionStyle.container
}, r.createElement(u.CareerSectionMenu, null, r.createElement(p.List, null, e.props.categories.map(function(e, n) {
var o = u.getCategoryUnlockStatus(e, !1), i = o.numUnlocked, a = o.numTotal, s = "listitem_" + e.name, l = d.isRTLLanguage(), c = !d.isRTLLanguage();
return r.createElement(p.ListItem, {
index: n,
key: e.name,
selectionState: t,
debugName: s
}, d.localeRearrange([ r.createElement(p.ListItemLabel, {
key: "name",
value: (e.name || "").toUpperCase(),
right: l
}), r.createElement(p.ListItemLabel, {
key: "values",
value: (i + "/" + a).toUpperCase(),
right: c
}) ]));
}))), r.createElement(u.CareerSectionContent, null, r.createElement(O, {
gameId: e.props.gameId,
categories: e.props.categories,
equippedDogtagsState: e.props.equippedDogtagsState,
listSelectionState: t,
itemSelectionState: o,
preSelectedItemId: n
})), r.createElement(x, {
gameId: e.props.gameId,
equippedDogtagsState: e.props.equippedDogtagsState,
itemSelectionState: o
}));
});
}, n = e.__decorate([ i.observer ], n);
}(r.Component), O = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onFocus = function(t, n) {
e.props.itemSelectionState.setActiveItem(t, n);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = new h.TableRenderer("dogtags-table", 4, g.CareerSectionStyle.tableWidth, g.CareerSectionStyle.tableHeight, 0, g.CareerSectionStyle.itemWidth, g.CareerSectionStyle.itemHeight, u.contentSoftClip, this.props.preSelectedItemId), n = 0;
return (this.props.categories[this.props.listSelectionState.activeItemIndex].items || []).forEach(function(o) {
var i = n++;
t.addRowCell(o.code || "dogtag" + i, function(t, n) {
var a = e.props.equippedDogtagsState.isDogtagEquipped(o.code), s = o.progression && o.progression.unlocked && !a ? new S.Input({
label: __("ID_SPARTA_ACTION_EQUIP"),
key: v.Keys.Accept,
action: function() {
return e.props.equippedDogtagsState.equipDogtag(o);
}
}) : void 0, u = g.CareerSectionStyle.itemStyle(t);
return r.createElement(y.AwardItem, {
focusItem: n,
gameId: e.props.gameId,
style: u,
width: g.CareerSectionStyle.itemWidth,
item: o,
awardCount: o.timesTaken,
awardImage: o.images && o.images.Small,
awardCode: o.name,
key: t.rowIndex + "-" + t.columnIndex,
atlas: "DogtagsAtlas",
index: i,
itemState: e.props.itemSelectionState.getItemState(i),
checked: a,
unlocked: !!o.progression && o.progression.unlocked,
onFocus: e.onFocus,
input: I.SpartaGlobals.bundleIsConsole ? s : void 0
});
});
}), t.end(), r.createElement("surface", null, t.render());
}, n = e.__decorate([ i.observer ], n);
}(r.Component), x = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.doEquip = function() {
var t = e.props.itemSelectionState.item;
t && e.props.equippedDogtagsState.equipDogtag(t);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props.itemSelectionState.item;
if (!e) return r.createElement("surface", null);
var t = this.props.equippedDogtagsState.isDogtagEquipped(e.code), n = __(t ? "ID_SPARTA_CAREER_DOGTAGS_EQUIPPED" : "ID_SPARTA_ACTION_EQUIP"), o = e.progression && e.progression.unlocked, i = I.SpartaGlobals.bundleIsPC && o ? r.createElement(T.Button, {
name: "button_dogtag_equip",
textSize: "S",
disabled: t || this.props.equippedDogtagsState.isEquipping,
text: n,
action: this.doEquip,
style: m.CareerDogtagsStyle.equipButton
}) : void 0;
return r.createElement(u.CareerSectionFocusPane, null, r.createElement(f.DogtagFocusPane, {
selectionState: this.props.itemSelectionState,
width: m.CareerDogtagsStyle.focusPaneWidth
}), i);
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(669), a = n(233), s = n(10), u = n(458);
t.AccessoriesClient = r.requester.createClient({
throttle: 3e4,
request: function(e, t) {
var n = s.onlineState.sessionUserId && s.onlineState.sessionUserId.personaId;
return o.request("Progression.getWeaponAccessories", {
game: e,
guid: t,
personaId: n
});
},
parse: function(e, t, n) {
var r = e.map(function(e) {
return new i.Accessory(e);
}).sort(a.sortItemsByProgression), o = [];
if ("6EE7C001-3551-4842-AB91-A0ABE81B798B" === n) o = [ r, [] ]; else {
var s = [], u = [];
r.forEach(function(e) {
e.progression && (e.progression.valueNeeded > 1 || function t(e) {
return e.images && e.images.Small && -1 !== e.images.Small.indexOf("WeaponAccessory/Fancy/TDD_fancy");
}(e)) ? s.push(e) : u.push(e);
}), o = [ s, u ];
}
return {
progression: o[0] || [],
battlepacks: o[1] || []
};
},
update: function(e, t, n, r) {
u.weaponAccessoriesStore.addAccessoriesForWeapon(r, e);
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(124), o = function() {
return function e(t) {
this.images = {};
var n = t.progression || {};
this.progression = new r.Progression(n), this.images = t.images || {}, this.name = t.name || "", 
this.description = t.description ? t.description.replace("\\n", "") : "", this.category = t.category, 
this.stats = t.stats, this.star = t.star, this.vehicleStats = t.vehicleStats;
};
}();
t.Accessory = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(8), s = n(32), u = n(160), l = n(10), c = n(212), p = n(595), d = n(405), f = n(602), m = n(1474), h = n(238), g = n(19), y = n(71), S = n(5), v = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.selectionState = new c.CareerSelectionState(), n.renderCategoryInfo = function(e) {
if (e && e.infoComponent) {
var t = e.infoComponent;
return o.createElement(t, {
key: e.name || "unknownCat",
textSize: "S",
style: {
flexDirection: "row",
marginBottom: a.spacer(2),
justifyContent: g.isRTLLanguage() ? "flex-end" : "flex-start"
}
});
}
}, n.renderItem = function(e, t, r, i, a, s, c) {
var p = n.props.viewLocation.args.gameId, d = l.gameStore.getGame(p), f = d && d.careerConfig.shouldDisplayMedalProgression || "current" === s.id, m = t.expansions && t.expansions.length > 0 ? t.expansions[0] : void 0, h = n.isCurrentMedal(t) && t.currentProgression || t.progression;
return o.createElement(u.AwardItem, {
awardImage: t.images && t.images.Small,
style: S.DynamicStyle.wrapLegacyStyle(e, "11f8ab2b:91:24"),
atlas: "AwardsAtlas",
stages: t.stages,
key: "medal_" + t.code,
awardCode: t.code,
ref: function(e) {
return c(r, e);
},
dependencies: t.dependencies,
itemState: n.selectionState.getItemState(r),
expansion: m,
unlocked: !!t.progression && t.progression.unlocked,
dependencyAcquired: t.progression && t.progression.valueAcquired,
dependencyNeeded: t.progression && t.progression.valueNeeded,
progressPercent: f ? h && h.percentage : void 0,
gameId: p,
onFocus: a
});
}, n.renderFocusPane = function(e) {
var t = n.props.viewLocation.args.gameId, r = l.gameStore.getGame(t), i = r && r.careerConfig.shouldDisplayMedalProgression;
return o.createElement(m.MedalFocusPane, {
selectionState: n.selectionState,
width: a.getWidth(e),
useContinuousProgression: i
});
}, n.preloader = y.textureHandler.createPreloader(n), n.preloader.preload(d.CheckboxStyles.texture, void 0), 
n.preloader.preload(d.CheckboxStyles.textureChecked, void 0), n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
f.MedalClient.trigger(this.props.viewLocation.args.gameId), p.medalsPageVisited();
}, t.prototype.componentWillUnmount = function() {
this.preloader.unloadAll();
}, t.prototype.isCurrentMedal = function(e) {
return e.hasOwnProperty("currentProgression");
}, t.prototype.render = function() {
var e = l.medalStore.getAllCategoriesForGame(this.props.viewLocation.args.gameId), t = e ? e.slice() : [];
return o.createElement(s.Template, {
tallContent: !0,
scrollContent: !1
}, o.createElement(h.CareerSection, {
gameId: this.props.viewLocation.args.gameId,
preSelectedId: this.props.viewLocation.args.id,
categorizedData: t,
selectionState: this.selectionState,
renderCategoryInfo: this.renderCategoryInfo,
renderItem: this.renderItem,
renderFocusPane: this.renderFocusPane
}));
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.CareerMedals = v;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(39), a = n(64), s = n(32), u = n(160), l = n(1475), c = n(238), p = n(212), d = n(23), f = n(29), m = n(10), h = n(672), g = n(1479), y = n(5), S = y.StaticStyle.create({
height: d.content.height
}, "1177407c:118:33"), v = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.renderItem = function(e, t, r, i, a, s, l) {
var c, p = m.gameStore.getGame(n.gameId), d = p && p.soldierConfig.showCategorizationForVehicles ? "normal" : "rectangle";
return t.progression && !t.progression.unlocked && (t.progression.percentage ? c = t.progression.percentage : t.progression.unlocked && (c = t.progression.unlocked)), 
o.createElement(u.AwardItem, {
gameId: n.gameId,
awardImage: t.images.Small,
awardCode: t.name,
imageType: d,
itemState: n.selectionState.getItemState(r),
style: y.DynamicStyle.wrapLegacyStyle(e, "1177407c:66:24"),
key: "item" + r,
ref: function(e) {
return l(r, e);
},
star: t.star,
activeColor: "#000000",
unlocked: t.progression && t.progression.unlocked,
progressPercent: c,
onFocus: a
});
}, n.renderFocusPane = function(e) {
return o.createElement(l.VehicleFocusPane, {
widthGridCells: e,
selectionState: n.selectionState,
gameId: n.gameId
});
}, n.selectionState = new p.CareerSelectionState(), n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = m.gameStore.getGame(this.gameId), t = e && e.soldierConfig.showCategorizationForVehicles;
h.VehicleClient.trigger(this.gameId, t);
}, Object.defineProperty(t.prototype, "gameId", {
get: function() {
return this.props.viewLocation.args.gameId;
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = this.state.vehicles[this.gameId] || [], t = m.gameStore.getGame(this.gameId), n = t && t.soldierConfig.showCategorizationForVehicles, r = null;
return r = 0 === e.length ? o.createElement(i.EmptyState, null, o.createElement(f.Spinner, {
large: !0
})) : o.createElement(c.CareerSection, {
gameId: this.gameId,
preSelectedCategory: this.props.viewLocation.args.category,
preSelectedId: this.props.viewLocation.args.id,
categorizedData: e,
selectionState: this.selectionState,
showCategorization: n,
renderItem: this.renderItem,
renderFocusPane: this.renderFocusPane,
ensureItemFocus: !0
}), o.createElement(s.Template, {
tallContent: !0,
scrollContent: !1
}, o.createElement("surface", {
style: S
}, r));
}, t = r.__decorate([ a.subscribeToStores({
vehicles: g.VehicleStore
}) ], t);
}(o.Component);
t.CareerVehicles = v;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(46), r = n(24), o = n(1477), i = n(1478), a = n(669), s = n(233);
function u(e, t) {
return e.accessories && e.accessories.length ? e.accessories.map(function(n) {
return new a.Accessory({
name: n.name || "",
description: n.description || "",
images: n.images || {},
stats: e.stats || {},
star: e.star,
category: e.name,
progression: n.progression,
vehicleStats: t
});
}).sort(s.sortItemsByProgression) : [];
}
function l(e) {
if (!e || !e.length) return [];
var t = 0, n = {};
e.forEach(function(e) {
var r = e.name, o = 0;
e.stats.values && e.stats.values.kills && (o = e.stats.values.kills), n[r] = (n[r] || 0) + o, 
t += o;
});
var r = Object.keys(n).map(function(e) {
return {
name: e,
kills: n[e]
};
});
return r.push({
name: __("ID_SPARTA_CAREER_VEHICLE_TOTAL_KILLS"),
kills: t
}), r;
}
t.VehicleClient = e.requester.createClient({
throttle: 3e4,
request: function(e, t) {
return void 0 === t && (t = !1), t ? r.request("Progression.getVehiclesWithAccessories", {
game: e
}) : r.request("Progression.getVehicles", {
game: e
});
},
parse: function(e, t, n) {
var r = [];
if (n) for (var a = 0, s = e; a < s.length; a++) {
var c = s[a];
if (c.accessories && c.accessories.length > 0) {
var p = u(c, l(c.vehicles)), d = new o.VehicleCategory(c, p);
r.push(d);
}
} else {
var f = new o.VehicleCategory({
name: "all"
}, function m(e) {
var t = [], n = 0;
return e.forEach(function(e) {
if (e.vehicles && e.vehicles.length > 0) {
var r = e.vehicles[0], o = e.sortOrder || n, a = new i.Vehicle(o, e.name, r.description, r.images, e.stats, e.vehicles.map(function(e) {
return e.name;
}), e.star);
t.push(a);
}
n++;
}), t.sort(function(e, t) {
return e.id < t.id ? -1 : e.id > t.id ? 1 : 0;
});
}(e));
r.push(f);
}
return r;
},
update: function(e, t, n) {
this.publish(n, e);
}
});
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(37), i = n(6), a = n(8), s = n(21), u = n(569), l = n(315), c = n(570), p = n(25), d = n(38), f = n(316), m = n(32), h = n(11), g = n(26), y = n(12), S = n(141), v = n(9), _ = n(416), b = n(1481), T = n(19), E = {
header: s.TextSize.XL,
heading: s.TextSize.S,
text: s.TextSize.S,
subtext: s.TextSize.XS,
fineprint: s.TextSize.XXS
};
var C = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.gameName = S.copyStore.getProperty(S.copyStore.getCopy(), "play-first-trial.gameName") || "", 
r.copy = S.copyStore.getCopyPage("play-first-trial", {
game: r.gameName
}), r.settings = S.copyStore.getCopyPage("settings"), r;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e = S.copyStore.getProperty(this.settings, "label.terms");
return T.isRTLLanguage() && (e = v.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_ACCESS_TERMS_PC") : __("ID_SPARTA_ACCESS_TERMS_XBOX")), 
new y.Input({
action: function() {
return function e() {
p.display(new d.Popup({
content: r.createElement(f.LegalContent, {
legal: "terms"
}),
id: "linkTextPopup",
fullScreen: !0,
inputs: [ new y.Input({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: h.Keys.Decline
}) ]
}));
}();
},
key: h.Keys.Option2,
label: e
});
}, n.prototype.createItemList = function() {
var e = [], t = S.copyStore.getProperty(this.copy, "list") || [];
if (t.length > 0) {
t = S.copyStore.getProperty(t[0], "items") || [];
for (var n = 0; n < t.length; n++) e.push(r.createElement("surface", {
style: b.PlayFirstStyles.listItem
}, r.createElement(i.Text, {
value: "- " + t[n],
style: b.PlayFirstStyles.listItemText,
size: E.text
})));
}
return e;
}, n.prototype.createVideo = function() {
var e = {
id: "play-first-video",
contentHash: "play-first-video",
telemetryId: "play-first-video",
segmentId: "EMPTY",
batchId: -1,
game: S.copyStore.getProperty(this.copy, "video.game") || "",
recommendationType: "video",
url: S.copyStore.getProperty(this.copy, "video.url") || "",
title: S.copyStore.getProperty(this.copy, "video.title") || "",
image: S.copyStore.getProperty(this.copy, "video.imageUrl") || "",
slug: "play-first-video",
recommenderUUID: ""
}, t = v.SpartaGlobals.bundleIsConsole ? o.CardSize.L : o.CardSize.SSL;
return r.createElement("surface", {
style: b.PlayFirstStyles.videoItem
}, r.createElement(_.VideoRecommendationCard, {
recommendation: e,
size: t
}));
}, n.prototype.createLegal = function() {
if ("PC" === S.copyStore.getPlatform()) {
var e = S.copyStore.getProperty(this.settings, "label.terms");
return T.isRTLLanguage() && (e = v.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_ACCESS_TERMS_PC") : __("ID_SPARTA_ACCESS_TERMS_XBOX")), 
r.createElement(l.LinkText, {
action: "popup",
text: e
});
}
return r.createElement(i.Text, {
value: this.copy.legal,
size: E.fineprint
});
}, n.prototype.createMoreInfo = function() {
var e = this.props.viewLocation.args.gameId + "/store/list?tab=access";
return "PC" === S.copyStore.getPlatform() ? r.createElement("surface", null, r.createElement(l.LinkText, {
action: "link",
text: S.copyStore.getProperty(this.settings, "label.learnMore"),
location: e
})) : r.createElement("surface", null, r.createElement(c.ButtonCallout, {
button: "X",
action: "link",
text: S.copyStore.getProperty(this.settings, "label.learnMore"),
location: e
}));
}, n.prototype.render = function() {
return r.createElement(m.Template, {
tallContent: !0
}, r.createElement("surface", null, r.createElement(a.Row, {
style: b.PlayFirstStyles.rowMain
}, r.createElement(a.Col, {
style: b.PlayFirstStyles.columnMain
}, r.createElement("surface", {
style: b.PlayFirstStyles.surfaceMain
}, r.createElement(i.Text, {
value: this.copy.header,
size: E.header,
style: b.PlayFirstStyles.header
}), r.createElement("surface", {
style: b.PlayFirstStyles.list
}, this.createItemList()), r.createElement("surface", {
style: b.PlayFirstStyles.callToAction
}, r.createElement(u.CallToAction, {
gameId: this.props.viewLocation.args.gameId,
headingTextSize: E.text,
buttonTextSize: E.text,
subTextSize: E.subtext
}), r.createElement("surface", {
style: {
paddingTop: a.GUTTER
}
}, this.createMoreInfo())))), r.createElement(a.Col, {
style: {
width: a.getWidth(1)
}
}), r.createElement(a.Col, {
style: b.PlayFirstStyles.columnSidebar
}, r.createElement("surface", {
style: b.PlayFirstStyles.surfaceSidebar
}, this.createVideo()))), r.createElement(a.Row, {
style: b.PlayFirstStyles.rowLegal
}, r.createElement(a.Col, {
style: b.PlayFirstStyles.columnLegal
}, r.createElement("surface", {
style: b.PlayFirstStyles.surfaceLegal
}, this.createLegal()))), r.createElement(a.Row, {
style: b.PlayFirstStyles.rowBorder
}, r.createElement(a.Col, {
style: b.PlayFirstStyles.columnBorder
}))));
}, n = e.__decorate([ g.input ], n);
}(r.Component);
t.PlayFirst = C;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(18), s = n(72), u = n(8), l = n(181), c = n(32), p = n(67), d = n(10), f = n(675), m = n(113), h = n(7), g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = h.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "gameId", {
get: function() {
return this.props.viewLocation.args.gameId;
},
enumerable: !0,
configurable: !0
}), n.prototype.getBaseConfiguration = function() {
var e = [ {
id: "battlepacks",
label: __("ID_SPARTA_TAB_BATTLEPACKS")
}, {
id: "deluxe",
label: __("ID_SPARTA_TAB_HEROES")
}, {
id: "shortcuts",
label: __("ID_SPARTA_TAB_KITSHORTCUTS")
}, {
id: "expansions",
label: __("ID_SPARTA_TAB_EXPANSIONS")
}, {
id: "premium",
label: __("ID_SPARTA_TAB_PREMIUM")
}, {
id: "rent",
label: __("ID_SPARTA_TAB_RSP")
}, {
id: "access",
label: __("ID_SPARTA_TAB_EA_PLAY")
} ], t = d.gameStore.getGame(this.gameId);
if (t) {
var n = {
id: "game",
label: t.displayName()
};
d.entitlementStore.ownsGame(this.gameId) ? e.push(n) : e.unshift(n);
}
var r = [ "rent", "access" ];
return this.sparta.twinkle.buildInfo.isPS4 && r.push("battlepacks"), p.routeIsHostingGame.get() || (e = e.filter(function(e) {
return -1 === r.indexOf(e.id);
})), e;
}, Object.defineProperty(n.prototype, "currentMenuItems", {
get: function() {
var e = this.getBaseConfiguration(), t = d.gameStore.getGame(this.gameId);
return (t ? t.storeConfig.getTabs() : []).map(function(t) {
return e.find(function(e) {
return e.id === t;
});
}).filter(function(e) {
return !!e;
}).map(function(e) {
var n = t ? t.startRoute + "/store/list?tab=" + e.id : void 0, r = function() {
return a.gotoLocation(n || "");
};
return Object.assign({}, e, {
onClick: r,
blockInputFor: 500,
onTrigger: r
});
});
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.currentMenuItems;
return e.length ? r.createElement(f.SideColTemplate, {
wideContent: !0,
useScroller: !1,
sideContent: r.createElement(m.List, {
items: e,
divider: "item"
})
}, r.createElement(y, {
viewLocation: this.props.viewLocation,
inSideColTemplate: !0
})) : r.createElement(c.Template, {
wideContent: !0,
scrollContent: !1
}, r.createElement(y, {
viewLocation: this.props.viewLocation
}));
}, n.contextTypes = h.SpartaContext.contextTypes, e.__decorate([ o.computed ], n.prototype, "gameId", null), 
e.__decorate([ o.computed.struct ], n.prototype, "currentMenuItems", null), n = e.__decorate([ i.observer ], n);
}(r.Component), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = h.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getRecoCategory = function() {
return d.entitlementStore.ownsGame(this.gameId) ? "store_game_overview" : "store_game_overview_promo";
}, Object.defineProperty(n.prototype, "gameId", {
get: function() {
return this.props.viewLocation.args.gameId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "category", {
get: function() {
return this.props.viewLocation.args.recommendationCategory || this.getRecoCategory();
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.props.inSideColTemplate, t = (this.props.viewLocation.args.gameId, 
e ? u.getWidth(24) : u.getWidth(this.sparta.twinkle.buildInfo.isPC ? 16 : 17.5)), n = e ? {
clipMargin: [ 3 * u.GUTTER, s.sideSoftClip, 3 * u.GUTTER, u.getWidth(.5) ]
} : void 0;
return r.createElement(s.CardCarousel, {
id: "250841f2:158:31",
width: t,
clipLeft: e,
scrollerProps: n
}, r.createElement(l.RecommendationRenderer, {
game: this.gameId,
category: this.category
}));
}, n.contextTypes = h.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.StoreRecommendations = y;
var S = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(g, {
viewLocation: this.props.viewLocation
});
}, n;
}(r.Component);
t.StoreLanding = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(8), a = n(23), s = n(32), u = n(34), l = n(37), c = n(9), p = n(5), d = i.COMPRESSED ? 2 * (i.getWidth(l.CARD_WIDTH.cells.M) + i.GUTTER) : i.getWidth(6), f = i.getWidth(24) - d, m = p.StaticStyle.wrapLegacyStyleSheet({
container: {
flexDirection: "row",
width: i.getWidth(24)
},
sideCol: {
width: d,
paddingRight: i.getWidth(1)
},
mainCol: {
width: f,
flexWrap: c.SpartaGlobals.bundleIsPC ? "wrap" : "nowrap",
height: a.content.height
}
}, "d86c4631:14:15"), h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.scroller = o.createRef(), t;
}
return r.__extends(t, e), t.prototype.renderScroller = function() {
return o.createElement(u.Scroller, {
ref: this.scroller,
style: m.mainCol,
controller: !0,
softClip: [ 20, 0, 20, 0 ]
}, this.props.children);
}, t.prototype.renderStatic = function() {
return o.createElement("surface", {
style: m.mainCol
}, this.props.children);
}, t.prototype.render = function() {
var e = !1 !== this.props.useScroller && (c.SpartaGlobals.bundleIsPC || this.props.useScroller);
return o.createElement(s.Template, {
tallContent: this.props.tallContent,
scrollContent: !1,
clipContent: !0,
wideContent: this.props.wideContent,
scrollToFocus: !1
}, o.createElement("surface", {
style: m.container
}, o.createElement("surface", {
style: m.sideCol
}, this.props.sideContent), e ? this.renderScroller() : this.renderStatic()));
}, t.defaultProps = {
tilting: !0,
sideContent: o.createElement("surface", null)
}, t;
}(o.Component);
t.SideColTemplate = h;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(220);
t.fontConfig = {
"ar-sa": r.FuturaMaxiArabicFonts,
"cs-cz": r.FuturaMaxiFonts,
"de-de": r.FuturaMaxiFonts,
"en-us": r.FuturaMaxiFonts,
"es-es": r.FuturaMaxiFonts,
"es-mx": r.FuturaMaxiFonts,
"fr-fr": r.FuturaMaxiFonts,
"it-it": r.FuturaMaxiFonts,
"ja-jp": r.FuturaMaxiJPFonts,
"ko-kr": r.FuturaMaxiFonts,
"pl-pl": r.FuturaMaxiFonts,
"pt-br": r.FuturaMaxiFonts,
"ru-ru": r.FuturaMaxiFonts,
"tr-tr": r.FuturaMaxiFonts,
"zh-tw": r.FuturaMaxiTCFonts,
"zh-cn": r.FuturaMaxiTCFonts,
"zh-sg": r.FuturaMaxiTCFonts,
"zh-hk": r.FuturaMaxiTCFonts
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(513), s = n(1484), u = n(1486), l = n(1488), c = n(1489), p = n(34), d = n(14), f = n(367), m = n(161), h = n(369), g = n(8), y = n(6), S = n(23), v = n(11), _ = n(26), b = n(25), T = n(12), E = n(100), C = n(19), I = n(1490), A = n(15), w = n(304), P = n(5), R = n(678), O = n(38), x = n(9), k = n(368), L = n(7), M = n(294), D = n(65), N = n(123), F = n(42), G = n(22), U = 2 * g.GUTTER, B = S.comCenterWidth - R.FriendItemStyles.friendItemHeight - 4 * U, j = x.SpartaGlobals.bundleIsConsole, H = P.StaticStyle.wrapLegacyStyleSheet({
container: {
zOffset: D.OffsetStyles.comCenter,
position: "absolute",
top: 0,
right: 0,
bottom: 0
},
top: {
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center"
},
topIcon: {
width: 35,
height: 24,
texture: d.bbOfflineUrl("/sparta/jsclient/builds/assets/friends-icon-84691f65.png"),
marginTop: 2 * g.GUTTER,
marginBottom: 2 * g.GUTTER,
zOffset: 10
},
topContextMenuButton: {
backgroundColor: "#00000001",
height: 24
},
slider: {
position: "absolute",
top: j ? S.dangerZoneSize.height : 0,
right: j ? S.dangerZoneSize.width : 0,
bottom: j ? S.dangerZoneSize.height : 0,
width: S.comCenterWidth,
paddingLeft: U,
paddingTop: (j ? 0 : 2 * g.GUTTER) + U,
paddingBottom: (j ? S.footer.height : 2 * g.GUTTER) + U
},
line: {
height: 8,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: d.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
marginBottom: U - 3,
marginTop: g.GUTTER - 4,
opacity: .1
},
partyInvitePopupText: {
alignItems: "center",
marginBottom: 3 * g.GUTTER
},
partyInvitePopup: {
width: S.safeZone.width,
alignItems: "center",
justifyContent: "center"
},
partyInvitePopupFriendContent: {
flex: 1,
alignItems: "center",
justifyContent: "center"
},
partyInvitePopupContent: {
width: g.getWidth(10),
height: g.getHeight(80)
},
partyHeaderContainer: {
flex: 1,
flexDirection: "row",
flexWrap: "nowrap",
justifyContent: "space-between"
},
partyHeaderPremiumFriends: {
zOffset: 100,
backgroundColor: "#000000",
marginLeft: g.GUTTER,
marginRight: g.GUTTER,
padding: 4,
position: "relative",
top: -1
},
premiumFlaresContainer: {
enableMouseEvents: !1,
layer: !0,
layerClip: !0,
position: "absolute",
top: g.spacer(),
left: 0,
right: 0,
height: 170
},
premiumFlares: {
enableMouseEvents: !1,
layer: !0,
layerClip: !0,
position: "absolute",
top: 0,
left: 0,
right: 0,
height: 170
},
userBar: {
width: S.comCenterWidth,
right: j ? S.dangerZoneSize.width : 30,
bottom: (j ? S.dangerZoneSize.height : 0) + (x.SpartaGlobals.bundleIsPC ? 2 * g.GUTTER : 0),
padding: x.SpartaGlobals.bundleIsPC ? [ 0, U, U, U ] : void 0
}
}, "3ea20c17:43:15"), z = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = L.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.shouldComponentUpdate = function(e) {
return this.props.enabled !== e.enabled || this.props.enablePartyHeader !== e.enablePartyHeader;
}, n.prototype.render = function() {
var e, t, n, o = this.sparta.stores.comCenterState, i = this.props.name, a = this.props.showLine || !0;
if (this.props.enabled) {
a && (e = r.createElement("surface", {
key: "line-" + i,
style: o.expansionOpacityTween.getStyleClass("opacity")
}, r.createElement("surface", {
style: H.line
})));
var u = i;
if (this.props.enablePartyHeader) {
u = "";
var l = __("ID_SPARTA_LAYOUT_COMCENTER_PREMIUM_FRIENDS");
t = r.createElement("surface", {
style: H.partyHeaderContainer
}, r.createElement("surface", null, r.createElement(y.Text, {
size: "S",
type: "emphasis",
value: i.toUpperCase()
})), r.createElement("surface", {
style: H.partyHeaderPremiumFriends
}, r.createElement(y.Text, {
style: {
color: "#FF9900"
},
size: "XXS",
type: "emphasis",
value: l
})));
}
n = r.createElement(s.ComCenterHeader, {
key: "header-" + i,
icon: this.props.icon,
textContent: u,
state: o
}, t);
}
return r.createElement("surface", null, e, n);
}, n.contextTypes = L.SpartaContext.contextTypes, n;
}(r.Component), V = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = L.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.stores, t = e.comCenterState, n = e.premiumFriendsStore, o = e.layoutStateStore, i = e.freemiumStore, s = this.props.category, l = this.props.forceHeader || !1, c = s instanceof a.PartyCategory, p = ![ E.UserPresenceStates.Offline ].some(function(e) {
return -1 !== s.presenceStates.indexOf(e);
}), d = w.layoutFeatureFlags.enablePremiumIconComCenter.isEnabled() && o.current.config.gameId, f = d && n.get(d), m = f && f.isReady && f.value ? f.value.friendsLookup : null, h = this.props.partyStore.party, g = s.users.map(function(e) {
var n = e.id, o = c && h && h.isMemberPremium(e.spartaUserId), i = n && !!m && m.get(n), a = o || p && i;
return r.createElement(u.FriendItem, {
key: "friend-" + e.id,
friend: e,
state: t,
showPremiumIndicator: !!a
});
}), y = s.users.length > 0 || l;
return r.createElement("surface", null, r.createElement(z, {
enabled: y,
showLine: this.props.showLine,
name: s.name,
icon: s.icon,
enablePartyHeader: c && i.isInPremiumParty
}), g);
}, n.contextTypes = L.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), W = P.StaticStyle.create({
marginLeft: 4,
paddingRight: 4
}, "3ea20c17:522:34"), q = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = L.SpartaContext.getFromComponent(e), e.reactions = [], e.scroller = r.createRef(), 
e.backgroundTween = A.Animation.tween("3ea20c17:296:39", [ 0, 0, 0, 0 ]), e.opacityTween = A.Animation.tween("3ea20c17:297:36", 0), 
e.translateTween = A.Animation.tween("3ea20c17:298:38", B), e.resetScrollOffset = function() {
if (e.scroller.current && (e.scroller.current.scrollTo(0, 0), G.focusSystem.controllerMode)) {
var t = e.sparta.stores.comCenterState.focusAncestor.children[0];
t && t.setFocused(F.FocusSource.Auto, !0);
}
}, e.onMouseEnter = function() {
return e.setHovered(!0);
}, e.onMouseLeave = function() {
return e.setHovered(!1);
}, e.onInviteRequested = function() {
var t = e.sparta.stores.comCenterState;
b.display(new O.Popup({
content: r.createElement(K, {
state: t
})
}));
}, e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "partyAction", {
get: function() {
var e = this, t = this.sparta.stores.partyStoreLoader.get();
if (t.canSquadJoin) return new T.Input({
key: v.Keys.Option1,
action: function() {
return m.requiresRime("bf4", function() {
t.gotoSquadJoin && (e.sparta.stores.layoutVisibilityStore.setVisibilities({
comCenter: !1
}), t.gotoSquadJoin());
}, "CrossSection", "SquadJoin");
},
label: __("ID_SPARTA_LAYOUT_COMCENTER_SQUAD_JOIN", !0)
});
if (t.canCreateParty) return new T.Input({
key: v.Keys.Option1,
action: function() {
return t.createParty();
},
label: x.SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_COMCENTER_CREATE_PARTY_PS4", !0) : __("ID_SPARTA_COMCENTER_CREATE_PARTY_XB1", !0)
});
if ("PC" === this.sparta.stores.inputRouter.currentInputType) {
if (t.canInviteUserToParty()) return new T.Input({
key: v.Keys.Option1,
label: this.sparta.stores.comCenterState.inviteToPartyText,
action: function() {
return b.display(new O.Popup({
content: r.createElement(K, {
state: e.sparta.stores.comCenterState
})
}));
}
});
} else if (t.canLeaveParty) return new T.Input({
key: v.Keys.Option1,
action: function() {
return t.leaveParty();
},
label: x.SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_COMCENTER_LEAVE_PARTY_PS4", !0) : __("ID_SPARTA_COMCENTER_LEAVE_PARTY_XB1", !0)
});
},
enumerable: !0,
configurable: !0
}), n.prototype.componentWillMount = function() {
var e = this, t = this.sparta.stores.comCenterState;
this.reactions = [ i.reaction(function() {
return {
isExpanded: t.isExpanded,
isEnabled: t.isEnabled,
hideWhenMinimized: t.hideWhenMinimized
};
}, function(n) {
var r = !n.hideWhenMinimized || n.isExpanded;
e.opacityTween.to(n.isEnabled && r ? 1 : 0, f.slideOptions), e.translateTween.to(n.isExpanded ? 0 : B, f.slideOptions), 
t.isModal && !t.showBackground || e.backgroundTween.to(n.isExpanded ? [ 0, 0, 0, 204 ] : [ 0, 0, 0, 0 ], f.slideOptions);
}, {
fireImmediately: !0
}), i.reaction(function() {
return t.shouldUseInput;
}, function(n) {
n ? (t.focusAncestor.isolate(), e.isolateInputGroup()) : (t.focusAncestor.deisolate(), 
e.releaseInputGroup());
}, {
fireImmediately: !0
}), i.reaction(function() {
var e = t.focusAncestor.children[0];
return e && e.isActive;
}, function(t) {
G.focusSystem.controllerMode && (t ? e.resetScrollOffset() : G.focusSystem.triggerRecalculation());
}) ];
}, n.prototype.componentWillUnmount = function() {
this.reactions.forEach(function(e) {
return e();
}), this.backgroundTween.destroy(), this.opacityTween.destroy(), this.translateTween.destroy();
}, n.prototype.getInput = function() {
var e = this;
if (this.sparta.stores.comCenterState.shouldUseInput) {
var t = function() {
return e.sparta.stores.layoutVisibilityStore.setVisibilities({
comCenter: !1
});
}, n = [ new T.Input({
visible: !1,
action: t,
key: v.Keys.Home
}), new T.Input({
visible: !1,
action: t,
key: v.Keys.End
}), new T.Input({
key: v.Keys.Decline,
label: __("ID_SPARTA_ACTION_BACK", !0),
action: t
}) ];
return this.sparta.stores.comCenterState.shouldUseGlobalActions && this.partyAction && n.push(this.partyAction), 
n;
}
}, n.prototype.renderNoFriendsItems = function() {
var e = this.sparta.stores.comCenterState, t = {
opacity: e.expansionOpacityTween.getStyle()
};
return C.isRTLLanguage() && (t.textAlignForRTL = "left", t.marginRight = 9 * g.GUTTER), 
[ r.createElement("surface", {
key: "line-empty",
style: e.expansionOpacityTween.getStyleClass("opacity")
}, r.createElement("surface", {
style: H.line
})), r.createElement(s.ComCenterHeader, {
key: "header-empty",
icon: d.bbOfflineUrl("/sparta/jsclient/builds/assets/playing-minimized-741453a6.png"),
textContent: __("ID_SPARTA_LAYOUT_COMCENTER_EMPTY_TITLE", !0),
state: e
}), r.createElement(y.Text, {
key: "text-empty",
value: __("ID_SPARTA_LAYOUT_COMCENTER_EMPTY_TEXT", !0),
size: "S",
style: t
}) ];
}, n.prototype.renderContent = function() {
var e = this.sparta.stores.comCenterState, t = !e.shouldUseGlobalActions && this.partyAction, n = this.sparta.stores.partyStoreLoader.get(), o = n.state === h.PartyState.Creating || n.state === h.PartyState.Leaving;
if (!t && o) {
var i = __("ID_SPARTA_LAYOUT_COMCENTER_CREATING_PARTY_PC", !0);
x.SpartaGlobals.bundleIsPS4 ? i = __("ID_SPARTA_LAYOUT_COMCENTER_CREATING_PARTY_PS4", !0) : x.SpartaGlobals.bundleIsXBOXONE && (i = __("ID_SPARTA_LAYOUT_COMCENTER_CREATING_PARTY_XB1", !0)), 
t = new T.Input({
label: i
});
}
var a = !!t, s = [ r.createElement(V, {
key: e.partyCategory.name,
category: e.partyCategory,
showLine: !1,
forceHeader: a,
partyStore: n
}) ], l = s.length > 0;
return t && s.push(r.createElement(u.SimpleItem, {
key: "invite-party-members",
state: e,
texture: d.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-add-white-b546484c.png"),
activeTexture: d.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-add-black-1b9e05d0.png"),
avatarStyle: W,
input: t
})), e.friendCategories.forEach(function(e, t) {
var o = l || 0 !== t;
s.push(r.createElement(V, {
key: e.name,
category: e,
showLine: o,
forceHeader: !1,
partyStore: n
}));
}), e.isEmpty && s.push.apply(s, this.renderNoFriendsItems()), s;
}, n.prototype.setHovered = function(e) {
var t = this.sparta.stores.comCenterState;
!t.isEnabled || t.hideWhenMinimized && !t.isExpanded || t.setHovered(e);
}, n.prototype.render = function() {
var t = this.sparta.stores, n = t.comCenterState, o = t.freemiumStore, i = P.merge3(this.backgroundTween.getStyleClass("backgroundColor"), this.opacityTween.getStyleClass("opacity"), this.translateTween.getStyleClass("translateX")), a = n.usePagination && [ r.createElement("surface", {
key: "line-pages",
style: n.expansionOpacityTween.getStyleClass("opacity")
}, r.createElement("surface", {
style: H.line
})), r.createElement(c.Pagination, {
key: "pagination",
state: n,
onPageChanged: this.resetScrollOffset
}) ], s = o.isInPremiumParty && r.createElement("surface", {
style: [ H.premiumFlaresContainer, n.expansionOpacityTween.getStyleClass("opacity") ]
}, r.createElement(I.PremiumFlare, {
top: -g.getHeight(6),
right: x.SpartaGlobals.bundleIsPC ? g.getWidth(.3) : g.getWidth(.6),
delay: 1500,
transparency: .35
}), r.createElement(I.PremiumFlare, {
top: -g.getHeight(1),
right: x.SpartaGlobals.bundleIsPC ? -g.getWidth(1.4) : -g.getWidth(.7),
transparency: .4
})), u = [ H.container, n.translateY.getStyleClass("translateY") ], d = P.merge3(H.slider, i, P.DynamicStyle.create({
marginBottom: n.isGameViewVisible && G.focusSystem.controllerMode ? 2 * U : 0
}, "3ea20c17:605:24"));
return r.createElement(N.ThemeProvider, {
debugName: "3ea20c17:613:39",
theme: this.sparta.theme.baseTheme
}, r.createElement("surface", e.__assign({}, n.focusAncestor.hooks, {
style: u
}), r.createElement("surface", {
style: d,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave
}, r.createElement(M.ErrorBoundary, {
debugName: "3ea20c17:617:40",
errorMessage: void 0
}, r.createElement(p.Scroller, {
ref: this.scroller,
controller: !1,
style: {
flex: 1
},
softClip: [ g.getHeight(2), 0, g.getHeight(2), 0 ]
}, s, n.isInGame && !n.isExpanded ? void 0 : this.renderContent()), a)), r.createElement(l.UserBar, {
state: n,
style: H.userBar,
onInviteRequested: this.onInviteRequested
})));
}, n.contextTypes = L.SpartaContext.contextTypes, e.__decorate([ i.computed ], n.prototype, "partyAction", null), 
n = e.__decorate([ o.observer, _.inputWithOptions({
group: !0,
ignoreParentIsolation: !0
}) ], n);
}(_.InputComponent);
t.ComCenter = q;
var K = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = L.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "visibleFriends", {
get: function() {
var e = this.sparta.stores.partyStoreLoader.get();
return this.sparta.stores.friendStore.friends.filter(function(t) {
return e.canInviteUserToParty(t) || !!e.party && e.party.hasInvitationForUser(t.spartaUserId.getPlatformId());
}).sort(k.compareUsers);
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e, t = this, n = this.sparta.stores.comCenterState, o = this.visibleFriends;
if (0 === o.length) {
var i = __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_NOMOREFRIENDS_PC", !0);
x.SpartaGlobals.bundleIsPS4 ? i = __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_NOMOREFRIENDS_PS4", !0) : x.SpartaGlobals.bundleIsXBOXONE && (i = __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_NOMOREFRIENDS_XB1", !0)), 
e = r.createElement("surface", {
style: H.partyInvitePopupFriendContent
}, r.createElement(y.Text, {
value: i
}));
} else e = r.createElement(p.Scroller, {
key: "scroller",
style: {
flex: 1
}
}, o.map(function(e) {
return r.createElement(u.FriendItem, {
showAsAction: "partyInvite",
showContentOnlyWhileExpanded: !1,
disableInteractions: !0,
key: "friend-" + e.id,
friend: e,
state: t.props.state
});
}));
return r.createElement("surface", {
style: H.partyInvitePopup
}, r.createElement("surface", {
style: H.partyInvitePopupContent
}, r.createElement("surface", {
style: H.partyInvitePopupText
}, r.createElement(y.Text, {
size: "XL",
value: n.inviteToPartyText.toUpperCase()
})), e));
}, n.contextTypes = L.SpartaContext.contextTypes, n.showCloseButton = !0, e.__decorate([ i.computed ], n.prototype, "visibleFriends", null), 
n = e.__decorate([ o.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ComCenterStyle"), a = function() {
function e() {}
var t;
return t = e, e.opacityFaded = o.value(function() {
return .33;
}, "3344bf7b:17:26"), e.opacityNormal = o.value(function() {
return 1;
}, "3344bf7b:18:27"), e.bgColorNormal = o.value(function() {
return "#ffffff01";
}, "3344bf7b:19:27"), e.bgColorHighlighted = o.value(function() {
return "#ffffff";
}, "3344bf7b:20:32"), e.friendItemHeight = o.value(function() {
return o.Grid.getWidth(1);
}, "3344bf7b:21:30"), e.container = o.wrap(function() {
return o.style({
marginBottom: o.Grid.GUTTER,
flexDirection: "row",
height: t.friendItemHeight
}, "3344bf7b:26:34");
}), e.inner = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row"
}, "3344bf7b:38:30");
}), e.normal = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row"
}, "3344bf7b:49:31");
}), e.fold = o.wrap(function() {
return o.style({
position: "absolute",
right: 0,
bottom: -t.friendItemHeight,
left: 0,
height: t.friendItemHeight,
alignItems: "center",
justifyContent: "center"
}, "3344bf7b:60:29");
}), e.avatar = o.wrap(function() {
return o.style({
zOffset: 10,
width: t.friendItemHeight,
height: t.friendItemHeight
}, "3344bf7b:72:31");
}), e.actionItem = o.multistyle(function(e) {
return o.style({
backgroundColor: e ? t.bgColorHighlighted : t.bgColorNormal
}, "3344bf7b:80:68");
}), e.avatarTexture = o.multistyle(function(e) {
return o.style({
flex: 1,
zOffset: 1,
opacity: e ? t.opacityFaded : t.opacityNormal
}, "3344bf7b:86:65");
}), e.content = o.multistyle(function(e) {
return o.style({
zOffset: 10,
flex: 1,
padding: o.Grid.GUTTER,
justifyContent: "center",
backgroundColor: e ? t.bgColorHighlighted : t.bgColorNormal
}, "3344bf7b:94:65");
}), e.contentInner = o.multistyle(function(e) {
return o.style({
opacity: e ? t.opacityFaded : t.opacityNormal
}, "3344bf7b:104:64");
}), e.text = o.multistyle(function(e) {
return o.style({
color: e ? "#000000" : "#ffffff"
}, "3344bf7b:110:62");
}), e.statusText = o.wrap(function() {
return o.style({
marginTop: 6,
opacity: .66
}, "3344bf7b:116:35");
}), e.button = o.multistyle(function(e) {
return o.style({
zOffset: 10,
height: t.friendItemHeight,
minWidth: t.friendItemHeight,
marginLeft: 1,
justifyContent: "center",
alignItems: "center",
padding: [ o.Grid.GUTTER, 2 * o.Grid.GUTTER, o.Grid.GUTTER, 2 * o.Grid.GUTTER ],
backgroundColor: e ? t.bgColorHighlighted : t.bgColorNormal
}, "3344bf7b:123:64");
}), e.buttonIcon = o.stylefunc(function() {
return o.style({
zOffset: 1,
textureMode: "contain",
textureScale: .5,
textureAlign: .5,
position: "absolute",
top: o.Grid.GUTTER,
right: o.Grid.GUTTER,
bottom: o.Grid.GUTTER,
left: o.Grid.GUTTER
}, "3344bf7b:137:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "3344bf7b:149:38");
}), e.displayName = o.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center"
}, "3344bf7b:155:36");
}), e.leaderIcon = o.multistyle(function(e) {
return o.style({
width: 15,
height: 15,
marginRight: o.Grid.GUTTER / 2,
color: e ? "#000000" : "#ffffff",
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/party-leader-0bd095a6.png")
}, "3344bf7b:162:68");
}), e.premiumIcon = o.wrap(function() {
return o.style({
width: 15,
height: 15,
marginRight: o.Grid.GUTTER / 2,
texture: o.bbOfflineUrl("/sparta/assets/ui/icons/ui/icon_premium-186e97c5.jpg")
}, "3344bf7b:172:36");
}), e = t = r.__decorate([ i.style ], e);
}();
t.FriendItemStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(574), i = n(136), a = n(111), s = n(1503), u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.create = function(e, t, n) {
var r = {
nativePropertiesStore: this.sparta.stores.nativePropertiesStore,
partyStore: this.sparta.stores.partyStoreLoader.get(),
protocolVersionStore: this.sparta.stores.protocolVersionStore,
joinFlowLoader: this.sparta.stores.joinFlowLoader,
presenceStateStore: this.sparta.stores.presenceStateStore,
gamePushNotifications: this.sparta.stores.gamePushNotifications,
gameDataStore: this.sparta.stores.gameDataStore,
pingSiteStore: i.PingSiteStore,
showStopMatchmaking: a.showStopMatchmaking
};
return new s.LegacyMatchmakingSession(e, r, t, n);
}, t;
}(o.MatchmakingSessionFactory);
t.LegacyMatchmakingSessionFactory = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(120), o = n(609), i = n(251), a = n(318), s = n(79), u = n(256), l = function() {
function e(e) {
this.setProps(e);
}
return e.prototype.setProps = function(e) {
this.id = e.id, this._onEnter = e.onEnter, this._onLeave = e.onLeave, this._requirement = e.requirement, 
this.transitions = e.transitions;
}, e.prototype.onEnter = function(e, t) {
this._onEnter && this._onEnter(e, t);
}, e.prototype.onLeave = function(e, t) {
this._onLeave && this._onLeave(e, t);
}, e.prototype.requirement = function(e, t) {
return !this._requirement || this._requirement(e, t);
}, e;
}();
t.MatchmakingStateHandler = l;
var c = function(t) {
function n(e, n, o) {
var i = t.call(this, {
id: r.MatchmakingState.STARTING,
transitions: [ r.MatchmakingState.WAITING, r.MatchmakingState.ERROR ]
}) || this;
return i.session = e, i.getStatusUpdates = n, i.transition = o, i;
}
return e.__extends(n, t), n.prototype.onEnter = function() {
var e = this;
this.getStatusUpdates().startBuffering(), o.startMatchmaking(this.session.gameId, this.session.filter, this.session.dependencies).onSuccess(function(t) {
e.session.setSessionId(t.sessionId), e.session.setBlazeStatus(a.MatchmakingBlazeStatusName.SessionStarting), 
t.estimatedTimeToMatch && e.session.setEstimatedTime(t.estimatedTimeToMatch), e.transition(r.MatchmakingState.WAITING);
}).onError(function(t) {
if (t.code === i.GatewayErrorCodes.MM_ALREADY_IN_PROGRESS) e.session.error = new r.MatchmakingError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_ALREADY_IN_PROGRESS"), "MatchmakingSession already in progress, cannot start new session", !1, t.code); else if (t.code === i.GatewayErrorCodes.BLAZE_ERROR) e.session.error = new r.MatchmakingError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_WITH_ERROR_CODE").replace("[[code]]", i.GatewayErrorCodes.BLAZE_ERROR.toString()), "MatchmakingSession failed, blaze error", !1, t.code); else {
var n = t.code ? t.code.toString() : i.GatewayErrorCodes.NONE.toString();
e.session.error = new r.MatchmakingError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_WITH_ERROR_CODE").replace("[[code]]", n), "MatchmakingSession could not be started with error code: " + t.code, !1, t.code);
}
e.transition(r.MatchmakingState.ERROR);
});
}, n;
}(l);
t.StartingStateHandler = c;
var p = function(t) {
function n(e, n, o, i, a) {
var s = t.call(this, {
id: o,
transitions: [ i, r.MatchmakingState.CANCELING, r.MatchmakingState.ERROR ]
}) || this;
return s.session = e, s.getStatusUpdates = n, s.currentState = o, s.nextState = i, 
s.asyncTransition = a, s.timeout = u.milliseconds({
minutes: 1,
seconds: 10
}), s;
}
return e.__extends(n, t), n.prototype.requirement = function(e, t) {
return !!this.session.sessionId;
}, n.prototype.onStateChanged = function(e, t) {
this.session.setBlazeStatus(e), t.gameId && this.session.setBlazeGameId(t.gameId);
}, n.prototype.onSuccessJoined = function(e) {
var t = {
forceJoin: "0" !== e.gameId
};
e.server && this.session.setServer(new s.GameServer(Object.assign({}, e.server, t)));
}, n.prototype.blazeStatusIsOneOf = function(e) {
var t = this;
return e.find(function(e) {
return e.toString() === (t.session.blazeStatus || "").toString();
});
}, n.prototype.setError = function(e, t) {
this.session.error = new r.MatchmakingError(e, t, "MatchmakingSession failure: " + this.session.blazeStatus);
}, n.prototype.onEnter = function() {
var e = this;
this.session.sessionId && (this.session.abortIfUserWantsToCancel(), this.session.failIfConnectionDrops(), 
this.getStatusUpdates().onChange(this.session.sessionId, this.timeout, function() {
return e.session.blazeStatus;
}, function(t, n) {
switch (e.onStateChanged(t, n), t) {
case a.MatchmakingBlazeStatusName.SuccessJoined:
e.onSuccessJoined(n), e.asyncTransition(e.id, e.nextState);
break;

case a.MatchmakingBlazeStatusName.SessionStarting:
case a.MatchmakingBlazeStatusName.SessionStarted:
break;

case a.MatchmakingBlazeStatusName.SessionMissing:
e.setError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_SESSION_MISSING")), 
e.asyncTransition(e.id, r.MatchmakingState.ERROR);
break;

case a.MatchmakingBlazeStatusName.SessionTimedOut:
e.setError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_TIMEOUT")), 
e.asyncTransition(e.id, r.MatchmakingState.ERROR);
break;

case a.MatchmakingBlazeStatusName.JoinFailed:
e.setError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_JOIN_FAILED")), 
e.asyncTransition(e.id, r.MatchmakingState.ERROR);
break;

case a.MatchmakingBlazeStatusName.SessionTerminated:
e.setError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_SESSION_TERMINATED")), 
e.asyncTransition(e.id, r.MatchmakingState.ERROR);
break;

case a.MatchmakingBlazeStatusName.SessionCanceled:
e.asyncTransition(e.id, r.MatchmakingState.CANCELING);
break;

default:
e.setError(__("ID_SPARTA_MATCHMAKING_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_WITH_ERROR_CODE").replace("[[code]]", a.blazeUnmappedStatusErrorCode)), 
e.asyncTransition(e.id, r.MatchmakingState.ERROR);
}
}));
}, n;
}(l);
t.WaitingStateHandler = p;
var d = function(t) {
function n(e, n) {
var o = t.call(this, {
id: r.MatchmakingState.CANCELING,
transitions: [ r.MatchmakingState.CANCELED ]
}) || this;
return o.session = e, o.transition = n, o;
}
return e.__extends(n, t), n.prototype.onEnter = function(e, t) {
var n = this;
this.session.hasPendingBlazeSession ? o.stopMatchmaking(this.session, function() {
n.transition(r.MatchmakingState.CANCELED);
}) : this.transition(r.MatchmakingState.CANCELED);
}, n;
}(l);
t.CancelingStateHandler = d;
var f = function(t) {
function n(e, n) {
var o = t.call(this, {
id: r.MatchmakingState.ERROR,
transitions: []
}) || this;
return o.session = e, o.logger = n, o;
}
return e.__extends(n, t), n.prototype.requirement = function(e, n) {
return t.prototype.requirement.call(this, e, n) && !!this.session.error;
}, n.prototype.onEnter = function(e, t) {
this.session.error && this.logger.error("Matchmaking failed: " + this.session.error.debugMessage);
}, n;
}(l);
t.ErrorStateHandler = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(12), s = n(11), u = n(68), l = n(6), c = n(227), p = n(122), d = n(43), f = n(53), m = n(15), h = n(28), g = n(1507), y = n(5), S = n(1508), v = n(17), _ = n(21), b = n(7), T = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = b.SpartaContext.getFromComponent(e), e.viewTintVisible = !1, e.tweens = {
translateY: m.Animation.tween("85e4defe:30:37", -S.GameJoinNoticeStyle.hiddenTranslateY),
opacity: m.Animation.tween("85e4defe:31:34", 0)
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.sparta.stores.gameJoinNoticeState.showNotice;
}, function(t) {
t ? e.showNotice() : e.hideNotice().then(function() {});
}, {
fireImmediately: !0
}), this.reaction(function() {
return e.sparta.stores.layoutVisibilityStore.viewTint;
}, function(t) {
e.handleViewTintChanged(t);
});
}, n.prototype.componentWillUnmount = function() {
var e = this;
this.hideNotice().then(function() {
e.tweens.opacity.destroy(), e.tweens.translateY.destroy();
});
}, n.prototype.handleViewTintChanged = function(e) {
this.viewTintVisible = e;
}, Object.defineProperty(n.prototype, "shouldBlur", {
get: function() {
return this.viewTintVisible;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "openGameViewInput", {
get: function() {
if (this.sparta.stores.gameJoinNoticeState.canOpenGameView) return new a.Input({
label: __("ID_SPARTA_MATCHMAKING_OPEN_GAME"),
key: s.Keys.Start,
action: function() {
f.browseWhileWaiting(!1);
}
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "cancelInput", {
get: function() {
return this.sparta.stores.gameJoinNoticeState.canCancelMatchmaking ? new a.Input({
label: __("ID_SPARTA_MATCHMAKING_CANCEL_MATCHMAKING"),
key: this.sparta.twinkle.buildInfo.isPC ? s.Keys.Accept : s.Keys.Start,
action: function() {
d.stopGame({});
}
}) : this.sparta.stores.gameJoinNoticeState.canLeaveQueue ? new a.Input({
label: __("ID_SPARTA_MATCHMAKING_LEAVE_QUEUE"),
key: s.Keys.Start,
action: function() {
d.stopGame({});
}
}) : void 0;
},
enumerable: !0,
configurable: !0
}), n.prototype.hideNotice = function() {
return this.sparta.stores.layoutVisibilityStore.setVisibilities({
logo: !0
}), Promise.all([ this.tweens.translateY.promiseTo(-S.GameJoinNoticeStyle.hiddenTranslateY), this.tweens.opacity.promiseTo(0) ]);
}, n.prototype.showNotice = function() {
this.tweens.opacity.to(1), this.tweens.translateY.to(0), this.sparta.stores.layoutVisibilityStore.setVisibilities({
logo: !1
});
}, n.prototype.renderCloseIcon = function() {
var e = this.cancelInput;
return e ? r.createElement(u.Focusable, {
id: "cancel_matchmaking"
}, function(t) {
return r.createElement(c.IconButton, {
focusItem: t,
action: e.action,
size: 15,
icon: S.GameJoinNoticeStyle.closeIconTexture,
style: S.GameJoinNoticeStyle.closeIcon
});
}) : null;
}, n.prototype.renderButtons = function() {
var e = this.openGameViewInput;
return e ? this.sparta.twinkle.focus.controllerMode ? r.createElement(p.InputButton, {
action: e.action,
label: e.label,
inputKey: e.key
}) : r.createElement(h.Button, {
name: "85e4defe:168:31",
action: e.action,
text: e.label,
style: S.GameJoinNoticeStyle.inlineInputPC
}) : this.cancelInput && this.sparta.twinkle.focus.controllerMode ? this.sparta.twinkle.buildInfo.isConsole ? r.createElement(p.InputButton, {
action: this.cancelInput.action,
label: this.cancelInput.label,
inputKey: this.cancelInput.key
}) : r.createElement(h.Button, {
name: "85e4defe:188:35",
action: this.cancelInput.action,
style: S.GameJoinNoticeStyle.cancelButtonControllerPC,
text: this.cancelInput.label
}) : void 0;
}, n.prototype.renderSubStatus = function() {
if (this.sparta.stores.gameJoinNoticeState.subStatusText) return r.createElement(l.Text, {
value: this.sparta.stores.gameJoinNoticeState.subStatusText,
size: _.TextSize.XS,
style: S.GameJoinNoticeStyle.subTextStyle
});
}, n.prototype.renderTimeElapsed = function() {
var e = this.sparta.stores.gameJoinNoticeState.timeElapsedStarted;
if (e) return r.createElement(g.ElapsedTimer, {
style: S.GameJoinNoticeStyle.elapsedTextStyle,
start: e
});
}, n.prototype.render = function() {
var e = this.sparta.stores, t = e.gameJoinNoticeState, n = e.gameStore, o = e.entitlementStore, i = t.gameId;
if (!i) return r.createElement("surface", null);
var a = n.getGame(i);
if (!a) return r.createElement("surface", null);
var s = y.merge4(S.GameJoinNoticeStyle.container(!1), this.tweens.opacity.getStyleClass("opacity"), this.tweens.translateY.getStyleClass("translateY"), this.shouldBlur ? S.GameJoinNoticeStyle.containerBlur : y.emptyStyle), u = o.hasPremiumAccess(a.gameId), c = u ? a.joinNotice.premiumTextColor : v.CommonStyles.color("#ffffff"), p = u ? y.merge2(S.GameJoinNoticeStyle.premiumOverlayTextureBase, a.joinNotice.premiumOverlayTexture) : y.emptyStyle;
return r.createElement("surface", {
style: s
}, r.createElement("surface", {
style: y.merge2(S.GameJoinNoticeStyle.overlay, p)
}, !this.sparta.twinkle.focus.controllerMode && this.renderCloseIcon(), r.createElement(l.Text, {
value: (t.statusText || "").toUpperCase(),
size: this.sparta.twinkle.buildInfo.isPC ? _.TextSize.S : _.TextSize.XS,
style: y.merge2(S.GameJoinNoticeStyle.statusText, c)
}), this.renderSubStatus(), this.renderTimeElapsed(), r.createElement("surface", {
style: S.GameJoinNoticeStyle.buttonsContainer
}, this.renderButtons()), r.createElement("surface", {
style: S.GameJoinNoticeStyle.indicatorContainer
}, r.createElement(E, {
style: a.joinNotice.indicatorAnimationStyle
}))));
}, n.contextTypes = b.SpartaContext.contextTypes, e.__decorate([ o.observable ], n.prototype, "viewTintVisible", void 0), 
e.__decorate([ o.action ], n.prototype, "handleViewTintChanged", null), e.__decorate([ o.computed ], n.prototype, "shouldBlur", null), 
e.__decorate([ o.computed ], n.prototype, "openGameViewInput", null), e.__decorate([ o.computed ], n.prototype, "cancelInput", null), 
n = e.__decorate([ i.observer ], n);
}(r.Component);
t.GameJoinNotice = T;
var E = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = b.SpartaContext.getFromComponent(e), e.onSurfaceId = function(e) {}, 
e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
onSurfaceId: this.onSurfaceId,
style: this.props.style
});
}, n.contextTypes = b.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(10), a = n(49);
t.invalidateStatsClient = r.requester.createClient({
requestOn: [ i.gatewayState.onSessionEstablished ],
shouldPerformRequest: function() {
var e = i.nativePropertiesStore.getHostingGame();
return i.presenceStateStore.isReady && e && e.invalidateStats;
},
request: function() {
var e = {
game: i.nativePropertiesStore.getHostingGame().gameId
};
return o.request("Progression.invalidateStatsAndLicenses", e);
},
parse: function(e) {
return e;
},
update: function() {
a.refreshCareer();
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.onGameSessionJoinRefused = r.createTypedAction();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(220), o = n(9);
t.fontConfig = {
"ar-sa": r.FuturaMaxiArabicFonts,
"cs-cz": r.PuristaFonts,
"de-de": r.PuristaFonts,
"en-us": r.PuristaFonts,
"es-es": r.PuristaFonts,
"es-mx": r.PuristaFonts,
"fr-fr": r.PuristaFonts,
"it-it": r.PuristaFonts,
"ja-jp": r.DFPSougeitaiFonts,
"ko-kr": o.SpartaGlobals.bundleIsPC ? r.AsiaJungGothicFonts : r.PuristaFonts,
"pl-pl": r.PuristaFonts,
"pt-br": r.PuristaFonts,
"ru-ru": r.FuturaMaxiFonts,
"tr-tr": r.PuristaFonts,
"zh-tw": o.SpartaGlobals.bundleIsPC ? r.ARHeitiFonts : r.PuristaFonts,
"zh-cn": o.SpartaGlobals.bundleIsPC ? r.ARHeitiFonts : r.PuristaFonts,
"zh-sg": o.SpartaGlobals.bundleIsPC ? r.ARHeitiFonts : r.PuristaFonts,
"zh-hk": o.SpartaGlobals.bundleIsPC ? r.ARHeitiFonts : r.PuristaFonts
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(218), a = n(253), s = n(124), u = n(1537), l = n(600), c = n(10), p = n(233);
t.AssignmentClient = r.requester.createClient({
throttle: 3e4,
request: function(e) {
return o.request("Progression.getMissions", {
game: e
});
},
parse: function(e, t) {
return e.map(function(n) {
var r = n.awards && n.awards.map(function(n) {
var r = n.unlocks && n.unlocks.filter(function(e) {
return Object.keys(e).some(function(t) {
return null != e[t];
});
}).map(function(e) {
var t = {};
return Object.keys(e).forEach(function(n) {
e[n] && (t[n] = e[n]);
}), t;
}), o = i.DepType.None, a = n.expansions ? n.expansions : [];
n.code && 0 === n.code.indexOf("ghost") && n.imageUrl && (a = function d(e, t) {
var n = e.indexOf("bf4/XP");
if (-1 === n) return [];
var r = e.substring(n + 4, n + 7).toLowerCase();
return t.filter(function(e) {
return e.license === r;
});
}(n.imageUrl, a));
var f = n.progression && n.progression.unlocked, m = n.dependencies && n.dependencies.map(function(t) {
var n, r;
(t.code && 0 === t.code.indexOf("rk") ? (n = i.DepType.Rank, o < i.DepType.Previous && (o = i.DepType.Rank)) : t.code && 0 === t.code.indexOf("apremium") && (n = i.DepType.Premium, 
o < i.DepType.Rank && (o = i.DepType.Premium)), t.code) && (function a(e, t) {
for (var n = 0, r = e; n < r.length; n++) {
var o = r[n];
if ("ID_M_UNSORTED" !== o.name && o.awards) for (var i = 0, a = o.awards; i < a.length; i++) {
var s = a[i];
if (s.code === t) return s;
}
}
return null;
}(e, t.code) && (n = i.DepType.Previous, o = i.DepType.Previous));
return t.progression && (r = new s.Progression({
unlocked: !!f || t.progression.unlocked,
valueAcquired: f ? t.progression.valueNeeded : t.progression.valueAcquired,
valueNeeded: t.progression.valueNeeded
})), new u.Assignment({
code: t.code,
name: t.name,
description: t.description,
images: t.images,
progression: r,
expansions: t.expansions,
icon: n
});
});
if (a && a.length) {
var h = function g(e, t) {
var n = e[0];
if (!n || !n.license) return null;
var r = c.entitlementStore.hasExpansionAccess(t, n.name);
return new u.Assignment({
code: n.license,
name: n.prettyName,
progression: new s.Progression({
unlocked: r,
valueAcquired: r ? 1 : 0,
valueNeeded: 1
}),
expansions: [ n ],
icon: i.DepType.Expansion
});
}(a, t);
h && m && m.unshift(h);
}
return new u.Assignment({
code: n.code,
name: n.name,
description: n.description,
images: n.images,
progression: new s.Progression(n.progression),
dependencies: m,
criterias: n.criterias && n.criterias.map(function(e) {
var t, n = e.progression;
return e.code && n && (t = p.adjustTimeBasedProgression(e.code, n)), n && !t && (t = new s.Progression({
unlocked: !!f || n.unlocked,
valueAcquired: f ? n.valueNeeded : n.valueAcquired,
valueNeeded: n.valueNeeded
})), new l.Criteria({
code: e.code,
name: e.name,
progression: t
});
}),
unlocks: r,
expansions: a,
icon: o
});
});
return new a.AwardCategory({
name: n.name,
items: r
});
});
},
onRequestError: function(e, t) {
this.publish(t, null, e);
},
update: function(e, t, n) {
this.publish(n, e);
}
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(46), o = n(24), i = n(1540), a = n(124), s = n(233), u = n(598), l = n(599);
function c(e, t) {
var n = [ "D54F47DD-8C88-457A-804D-8072AB7B5AB4", "1DA5257A-FC25-4CF6-89D7-C71318BEB932", "3DBDDF9C-C07D-4714-89D2-178B9AE0C42B", "1E23F021-5749-4D8E-A9EB-8E1501C41CD7" ];
return -1 !== n.indexOf(e.code) ? -1 : -1 !== n.indexOf(t.code) ? 1 : s.sortItemsByProgression(e, t);
}
t.KitClient = r.requester.createClient({
throttle: 3e4,
request: function(e) {
return o.request("Progression.getGadgetsAndUpgrades", {
game: e
});
},
parse: function(t) {
return t.map(function(t) {
var n = t.gadgets.map(function(t) {
var n = t.unlockRequirements && t.unlockRequirements.map(function(e) {
return new l.Unlock(e);
});
return new u.Weapon(e.__assign({}, t, {
code: t.guid,
progression: new a.Progression(t.progression),
hires: t.hires && t.hires.hasOwnProperty("Small") ? t.hires : t.images,
unlockRequirements: n
}));
}).sort(c), r = t.upgrades.map(function(t) {
return new u.Weapon(e.__assign({}, t, {
code: t.guid,
progression: new a.Progression(t.progression),
hires: t.images,
stats: {
values: {}
},
unlockRequirements: []
}));
}).filter(function(e) {
return e.progression.valueNeeded > 1;
}).sort(s.sortItemsByProgression);
return new i.KitGadgetUpgradesCategory({
name: t.kit,
items: [ {
name: __("ID_SPARTA_CAREER_GADGETS").toLocaleUpperCase(),
items: n
}, {
name: __("ID_SPARTA_CAREER_UPGRADES").toLocaleUpperCase(),
items: r
} ]
});
});
},
onRequestError: function(e, t) {
this.publish(t, null, e);
},
update: function(e, t, n) {
this.publish(n, e);
}
});
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(0), o = n(1), i = n(4), a = n(6), s = n(28), u = n(17), l = n(688), c = n(689), p = n(21), d = n(163), f = n(3), m = n(29), h = n(5), g = n(7), y = n(213), S = n(329), v = n(26), _ = n(12), b = n(11), T = n(193), E = n(42);
!function(e) {
e[e.default = 0] = "default", e[e.claiming = 1] = "claiming", e[e.failed = 2] = "failed", 
e[e.success = 3] = "success";
}(e || (e = {}));
var C = function(t) {
function n(n, o) {
var i = t.call(this, n, o) || this;
i.battleplan = y.BattleplanContext.getFromComponent(i), i.popupState = e.default, 
i.texturePreloader = i.battleplan.sparta.twinkle.texture.createPreloader(i), i.input = new _.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: b.Keys.Decline,
action: i.props.onClose
});
var a = n.reward;
if (i.texturePreloader.preload(a.image, void 0), n.isCompleted) if (a instanceof l.BattleplanReward && n.onClaim && !a.isClaimed(i.battleplan.waveStore) && a.hasAccess(i.battleplan.sparta.stores.entitlementStore)) {
var s = n.onClaim();
if (!s) return i;
var u = i.battleplan.sparta.stores, p = u.pinStore, d = u.gaStore, f = {
transactionSource: "battleplan",
transactionType: "engagement_reward",
transactionCode: "entitlement",
revenueModel: "virtual",
itemId: a.id
};
p.trackEvent(T.PinEvents.Transaction, r.__assign({}, f, {
status: "initiated"
})), i.setPopupState(e.claiming), s.then(function(t) {
t ? (p.trackEvent(T.PinEvents.Transaction, r.__assign({}, f, {
status: "complete"
})), d.trackEvent("battleplan", "claim", a.id, 1), i.setPopupState(e.success)) : (p.trackEvent(T.PinEvents.Transaction, r.__assign({}, f, {
status: "error"
})), d.trackEvent("battleplan", "claim", a.id, 0), i.setPopupState(e.failed));
});
} else a instanceof c.BattleplanOffer && i.setPopupState(e.success);
return i;
}
return r.__extends(n, t), n.prototype.getInput = function() {
if (this.popupState !== e.success) return this.input;
}, n.prototype.setPopupState = function(e) {
this.popupState = e;
}, n.prototype.render = function() {
var t, n, r, i = this.props, f = i.reward, h = i.onClose, g = this.battleplan.sparta.twinkle.buildInfo.isPC;
if (f instanceof l.BattleplanReward || f instanceof c.BattleplanOffer) {
if (this.popupState === e.claiming) return o.createElement("surface", {
style: u.CommonStyles.dock
}, o.createElement(m.CenteredSpinner, {
large: !0,
wait: 1e3
}));
if (this.popupState === e.failed) return o.createElement("surface", {
style: d.BattleplanPopupStyles.container
}, o.createElement(a.Text, {
value: __("ID_SPARTA_BATTLEPLAN_CLAIM_FAILED_TITLE").toUpperCase(),
size: p.TextSize.L,
style: d.BattleplanPopupStyles.text
}), o.createElement(a.Text, {
value: __("ID_SPARTA_BATTLEPLAN_CLAIM_FAILED_DESC"),
style: d.BattleplanPopupStyles.text
}), g && o.createElement(s.Button, {
name: "6b6954ba:138:39",
stealFocus: !0,
text: __("ID_SPARTA_ACTION_OK"),
style: d.BattleplanPopupStyles.button,
action: h
}));
if (this.popupState === e.success) return o.createElement(I, {
reward: f,
onClose: h,
input: this.input
});
n = f.fillImage, f instanceof l.BattleplanReward ? (t = f.title, f.hasAccess(this.battleplan.sparta.stores.entitlementStore) ? f.description && (r = o.createElement(a.Text, {
value: f.description.toUpperCase(),
size: p.TextSize.M,
style: d.BattleplanPopupStyles.text
})) : r = o.createElement(a.Text, {
value: __("ID_SPARTA_BATTLEPLAN_POPUP_PREMIUM_REQUIRED"),
style: d.BattleplanPopupStyles.text
})) : t = f.title;
} else n = !0, t = f.name, f.description && (r = o.createElement(a.Text, {
value: f.description.toUpperCase(),
size: p.TextSize.M,
style: d.BattleplanPopupStyles.text
}));
return o.createElement("surface", {
style: d.BattleplanPopupStyles.container
}, o.createElement(a.Text, {
value: t.toUpperCase(),
size: p.TextSize.L,
style: d.BattleplanPopupStyles.text
}), r, o.createElement("surface", {
style: d.BattleplanPopupStyles.imageReward({
texture: f.image,
large: n
})
}), g && o.createElement(s.Button, {
name: "6b6954ba:194:31",
stealFocus: !0,
text: __("ID_SPARTA_ACTION_CLOSE"),
style: d.BattleplanPopupStyles.button,
action: h
}), o.createElement("surface", {
style: d.BattleplanPopupStyles.background
}), o.createElement("surface", {
style: d.BattleplanPopupStyles.sideFlare
}));
}, n.contextTypes = y.BattleplanContext.contextTypes, r.__decorate([ f.observable ], n.prototype, "popupState", void 0), 
r.__decorate([ f.action ], n.prototype, "setPopupState", null), n = r.__decorate([ v.input, i.observer ], n);
}(o.Component);
t.BattleplanInspectPopup = C;
var I = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = g.SpartaContext.getFromComponent(r), r.activateButton = !1, r.texturePreloader = r.sparta.twinkle.texture.createPreloader(r), 
r.didAnimate = !1, r.sparta.twinkle.buildInfo.isPC && (r.focusItem = r.sparta.twinkle.focus.create(r, "6b6954ba:232:68"), 
r.focusItem.setActive("button", !1)), r.when(function() {
return r.activateButton;
}, function() {
r.focusItem && (r.focusItem.setActive("button", !0), r.focusItem.setFocused(E.FocusSource.Auto, r.sparta.twinkle.focus.controllerMode));
}), r.timelineRunner = new S.TimelineRunner(r, "6b6954ba:246:55"), r.sound = r.sparta.twinkle.sound.load(d.BattleplanPopupStyles.claimSound), 
r.texturePreloader.preload(d.BattleplanPopupStyles.backgroundTexture, void 0), r.texturePreloader.preload(d.BattleplanPopupStyles.movingFlareTexture, void 0), 
r.texturePreloader.preload(d.BattleplanPopupStyles.sideFlareTexture, void 0), r;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.play();
}, t.prototype.componentDidUpdate = function() {
this.play();
}, t.prototype.getInput = function() {
if (this.activateButton) return this.props.input;
}, t.prototype.componentWillUnmount = function() {
this.didAnimate = !1, this.sound.unload();
}, t.prototype.play = function() {
var e = this;
this.didAnimate || (this.didAnimate = !0, this.timelineRunner.play(function() {}, {
playSound: function() {
return e.sound.play();
},
activateButton: f.action(function() {
return e.activateButton = !0;
})
}));
}, t.prototype.render = function() {
var e, t, n, r = this.props, i = r.reward, u = r.onClose, c = this.sparta.twinkle.buildInfo.isPC;
i instanceof l.BattleplanReward ? (e = d.BattleplanPopupStyles.imageReward({
texture: i.image,
large: i.fillImage
}), t = __("ID_SPARTA_BATTLEPLAN_POPUP_CLAIMED_REWARD_TITLE"), n = i.description || i.title) : (e = d.BattleplanPopupStyles.imageOffer({
texture: i.image
}), t = __("ID_SPARTA_BATTLEPLAN_POPUP_CLAIMED_XPACK_TITLE"), n = i.title);
var f = h.merge2(d.BattleplanPopupStyles.text, this.timelineRunner.getStyle(d.BattleplanPopupStyles.claimTimeline, "title")), m = h.merge2(d.BattleplanPopupStyles.text, this.timelineRunner.getStyle(d.BattleplanPopupStyles.claimTimeline, "name")), g = h.merge2(e, this.timelineRunner.getStyle(d.BattleplanPopupStyles.claimTimeline, "image")), y = h.merge2(d.BattleplanPopupStyles.button, this.timelineRunner.getStyle(d.BattleplanPopupStyles.claimTimeline, "button")), S = h.merge2(d.BattleplanPopupStyles.background, this.timelineRunner.getStyle(d.BattleplanPopupStyles.claimTimeline, "background")), v = h.merge2(d.BattleplanPopupStyles.sideFlare, this.timelineRunner.getStyle(d.BattleplanPopupStyles.claimTimeline, "sideFlare")), _ = h.merge2(d.BattleplanPopupStyles.movingFlare, this.timelineRunner.getStyle(d.BattleplanPopupStyles.claimTimeline, "movingFlare"));
return o.createElement("surface", {
style: d.BattleplanPopupStyles.container
}, o.createElement(a.Text, {
value: t.replace("[[BATTLEFIELD_NAME]]", i.getGameDisplayName(this.sparta.stores.gameStore)).toUpperCase(),
size: p.TextSize.L,
style: f
}), o.createElement(a.Text, {
value: n.toUpperCase(),
size: p.TextSize.M,
style: m
}), o.createElement("surface", {
style: g
}), c && o.createElement(s.Button, {
name: "6b6954ba:343:31",
focusItem: this.focusItem,
text: __("ID_SPARTA_ACTION_CLOSE"),
style: y,
action: u
}), o.createElement("surface", {
style: S
}), o.createElement("surface", {
style: v
}), o.createElement("surface", {
style: _
}));
}, t.contextTypes = g.SpartaContext.contextTypes, r.__decorate([ f.observable ], t.prototype, "activateButton", void 0), 
t = r.__decorate([ v.input, i.observer ], t);
}(o.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t, n, r, o, i, a, s, u, l) {
this.id = e, this.game = t, this.title = n, this.description = r, this.image = o, 
this.premiumOnly = i, this.endTime = a, this.fillImage = s, this.claimed = u, this.gameDisplayName = l;
}
return e.fromBackend = function(t, n) {
return new e(t.id, t.game, t.title, t.description, t.image, t.premiumOnly, new Date(1e3 * parseInt(t.endTime, 10)), t.fillImage, t.claimed, n[t.game]);
}, e.prototype.hasAccess = function(e) {
return !this.premiumOnly || e.hasLoaded && e.hasLoadedGame(this.game) && e.hasPremiumAccess(this.game);
}, e.prototype.isClaimed = function(e) {
return this.claimed || e.claimedRewards.has(this.id);
}, e.prototype.getGameDisplayName = function(e) {
var t = e.getGame(this.game);
return this.gameDisplayName || (t ? t.displayName() : "");
}, e.prototype.premiumLogo = function(e) {
var t = e.getGame(this.game);
return t && t.premiumConfig ? t.premiumConfig.premiumIconUrl : void 0;
}, e;
}();
t.BattleplanReward = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t, n, r, o, i, a, s, u, l) {
this.id = e, this.game = t, this.platform = n, this.title = r, this.image = o, this.identifier = i, 
this.startTime = a, this.endTime = s, this.xpack = u, this.gameDisplayName = l, 
this.fillImage = !1;
}
return e.fromBackend = function(t, n) {
return new e(t.id, t.game, t.platform, t.title, t.image, t.identifier, new Date(1e3 * parseInt(t.startTime, 10)), new Date(1e3 * parseInt(t.endTime, 10)), e.getXpack(t), n[t.game]);
}, e.getXpack = function(e) {
var t = e.identifier.split("-");
if (t[1]) return t[1].replace("xp", "xpack");
}, e.prototype.ownsOffer = function(e) {
return !this.xpack || e.hasLoaded && e.hasLoadedGame(this.game) && e.hasExpansionAccess(this.game, this.xpack);
}, e.prototype.isClaimed = function(e) {
return e.claimedRewards.has(this.id);
}, e.prototype.getGameDisplayName = function(e) {
var t = e.getGame(this.game);
return this.gameDisplayName || (t ? t.displayName() : "");
}, e;
}();
t.BattleplanOffer = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(4), i = n(1), a = n(214), s = n(15), u = n(27), l = n(5), c = 200, p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.bounceTween = s.Animation.componentTween(t, "translateY", 0, {
duration: c
}), t.opacityTween = s.Animation.componentTween(t, "opacity", 1, {
duration: c
}), t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.tweenInitialTimeout = setTimeout(function() {
e.bounce(), e.bounceInterval = setInterval(function() {
e.bounce();
}, 8e3);
}, 3e3);
}, t.prototype.componentWillUnmount = function() {
this.tweenInitialTimeout && clearTimeout(this.tweenInitialTimeout), this.bounceInterval && clearInterval(this.bounceInterval), 
this.bounceBackTimeout && clearTimeout(this.bounceBackTimeout), this.secondBounceTimeout && clearTimeout(this.secondBounceTimeout);
}, t.prototype.bounce = function() {
var e = this;
this.doSingleBounce(), this.secondBounceTimeout = setTimeout(function() {
return e.doSingleBounce();
}, 1.5 * c);
}, t.prototype.doSingleBounce = function() {
var e = this;
this.bounceTween.to(10, {
easing: u.Easing.CubicIn
}), this.opacityTween.to(.5, {
easing: u.Easing.CubicIn
}), this.bounceBackTimeout = setTimeout(function() {
e.bounceTween.to(0, {
easing: u.Easing.CubicOut,
duration: c / 2
}), e.opacityTween.to(1, {
easing: u.Easing.CubicOut,
duration: c / 2
});
}, c);
}, t.prototype.render = function() {
return i.createElement("surface", {
style: l.merge3(a.BFVPromoStyles.scrollIcon, this.bounceTween.getStyleClass("translateY"), this.opacityTween.getStyleClass("opacity")),
onClick: this.props.pageUIState.nextPage
});
}, t = r.__decorate([ o.observer ], t);
}(i.Component);
t.ScrollIcon = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110);
t.destinationFeatureFlags = r.featureFlags.register({
destination: new r.FeatureFlag({}),
destinationAsStoreGameId: new r.FeatureFlag({}),
destinationStoreFriendsWhoPreordered: new r.FeatureFlag({})
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(220), o = n(1582);
t.BFTextFonts = {
light: o.BFTextLight,
normal: o.BFTextRegular,
emphasis: o.BFTextBold,
headerLight: o.BFHeadLight,
headerNormal: o.BFHeadRegular,
headerEmphasis: o.BFHeadRegular
}, t.fontConfig = {
"ar-sa": r.FuturaMaxiArabicFonts,
"cs-cz": t.BFTextFonts,
"de-de": t.BFTextFonts,
"en-us": t.BFTextFonts,
"es-es": t.BFTextFonts,
"es-mx": t.BFTextFonts,
"fr-fr": t.BFTextFonts,
"it-it": t.BFTextFonts,
"ja-jp": r.FuturaMaxiJPFonts,
"ko-kr": r.AsiaJungGothicFonts,
"pl-pl": t.BFTextFonts,
"pt-br": t.BFTextFonts,
"ru-ru": t.BFTextFonts,
"tr-tr": t.BFTextFonts,
"zh-tw": r.FuturaMaxiTCFonts,
"zh-cn": r.FuturaMaxiTCFonts,
"zh-sg": r.FuturaMaxiTCFonts,
"zh-hk": r.FuturaMaxiTCFonts
};
}, function(e, t, n) {
n(694), e.exports = n(869);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(95), o = n(695), i = n(697), a = n(698);
r.globalScope.setImmediate = n(699), r.globalScope.clearImmediate = function() {
console.warn("Avoid clearImmediate(). It doesn't do anything!");
}, r.globalScope.Promise = n(701), r.globalScope.Promise.config({
warnings: !1,
longStackTraces: !1
}), a.promiseMonkeypatch(r.globalScope.Promise.prototype), r.globalScope.Promise.setScheduler(r.globalScope.setImmediate), 
void 0 === r.globalScope.atob && (r.globalScope.atob = o.decode, r.globalScope.btoa = o.encode), 
void 0 === r.globalScope.Duktape && r.globalScope.TwinkleNative && (n(703), n(717), 
n(740), n(748), n(752), n(754), n(773), n(786), n(806), n(808), n(810), n(825), 
n(828), n(830), n(852), n(853), n(865), n(867)), r.globalScope.measureComponent = i.measureComponent;
}, function(e, t, n) {
(function(e, r) {
var o;
 /*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */ !function(i) {
var a = "object" == typeof t && t, s = ("object" == typeof e && e && e.exports, 
"object" == typeof r && r);
s.global !== s && s.window;
var u = function(e) {
this.message = e;
};
(u.prototype = new Error()).name = "InvalidCharacterError";
var l = function(e) {
throw new u(e);
}, c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", p = /[\t\n\f\r ]/g, d = {
encode: function(e) {
e = String(e), /[^\0-\xFF]/.test(e) && l("The string to be encoded contains characters outside of the Latin1 range.");
for (var t, n, r, o, i = e.length % 3, a = "", s = -1, u = e.length - i; ++s < u; ) t = e.charCodeAt(s) << 16, 
n = e.charCodeAt(++s) << 8, r = e.charCodeAt(++s), a += c.charAt((o = t + n + r) >> 18 & 63) + c.charAt(o >> 12 & 63) + c.charAt(o >> 6 & 63) + c.charAt(63 & o);
return 2 == i ? (t = e.charCodeAt(s) << 8, n = e.charCodeAt(++s), a += c.charAt((o = t + n) >> 10) + c.charAt(o >> 4 & 63) + c.charAt(o << 2 & 63) + "=") : 1 == i && (o = e.charCodeAt(s), 
a += c.charAt(o >> 2) + c.charAt(o << 4 & 63) + "=="), a;
},
decode: function(e) {
var t = (e = String(e).replace(p, "")).length;
t % 4 == 0 && (t = (e = e.replace(/==?$/, "")).length), (t % 4 == 1 || /[^+a-zA-Z0-9/]/.test(e)) && l("Invalid character: the string to be decoded is not correctly encoded.");
for (var n, r, o = 0, i = "", a = -1; ++a < t; ) r = c.indexOf(e.charAt(a)), n = o % 4 ? 64 * n + r : r, 
o++ % 4 && (i += String.fromCharCode(255 & n >> (-2 * o & 6)));
return i;
},
version: "0.1.0"
};
void 0 === (o = function() {
return d;
}.call(t, n, t, e)) || (e.exports = o);
}();
}).call(this, n(696)(e), n(185));
}, function(e, t) {
e.exports = function(e) {
return e.webpackPolyfill || (e.deprecate = function() {}, e.paths = [], e.children || (e.children = []), 
Object.defineProperty(e, "loaded", {
enumerable: !0,
get: function() {
return e.l;
}
}), Object.defineProperty(e, "id", {
enumerable: !0,
get: function() {
return e.i;
}
}), e.webpackPolyfill = 1), e;
};
}, function(module, exports, __webpack_require__) {
"use strict";
function measure(e, t, n) {
if (performance && performance.now) {
t = "." + t;
var r = performance.now(), o = n(), i = performance.now() - r, a = exports.measurementsByComponent[e];
a || (a = {}, exports.measurementsByComponent[e] = a);
var s = a[t];
return s || (s = [], a[t] = s), s.push(i), o;
}
}
function measureComponent(name) {
return function(TargetComponent) {
var componentName = name.split("@")[0], MeasuredComponent = function() {};
return eval("MeasuredComponent = function " + componentName + "() {    var self = this;    var args = Array.prototype.slice.call(arguments);    measure(name, 'constructor', function () {        TargetComponent.apply(self, args)    });}"), 
MeasuredComponent.prototype = Object.create(TargetComponent.prototype), Object.keys(TargetComponent).forEach(function(e) {
MeasuredComponent[e] = TargetComponent[e];
}), [ "render", "componentWillMount", "componentDidMount" ].forEach(function(e) {
var t = TargetComponent.prototype[e];
t && (MeasuredComponent.prototype[e] = function() {
for (var n = this, r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
return measure(name, e, function() {
return t.apply(n, r);
});
});
}), MeasuredComponent;
};
}
Object.defineProperty(exports, "__esModule", {
value: !0
}), exports.measurementsByComponent = {}, exports.measureComponent = measureComponent;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.promiseMonkeypatch = function r(e) {
e.flatMap = function(e) {
return this.then(e);
}, e.map = function(e) {
return this.then(function(t) {
var n = e(t);
if (n instanceof Promise) throw new Error("Returning a promise from promise.map is not allowed, use promise.flatMap instead");
return n;
});
}, e.onSuccess = function(e) {
return this.then(function(t) {
e(t);
});
}, e.rescue = function(e) {
return this.catch(function(t) {
return e(t);
});
}, e.onError = function(e) {
return this.catch(function(t) {
e(t);
});
};
};
}, function(e, t, n) {
"use strict";
var r = n(700), o = [], i = [], a = r.makeRequestCallFromTimer(function s() {
if (i.length) throw i.shift();
});
function u(e) {
var t;
(t = o.length ? o.pop() : new l()).task = e, r(t);
}
function l() {
this.task = null;
}
e.exports = u, l.prototype.call = function() {
try {
this.task.call();
} catch (e) {
u.onerror ? u.onerror(e) : (i.push(e), a());
} finally {
this.task = null, o[o.length] = this;
}
};
}, function(e, t, n) {
"use strict";
(function(t) {
function n(e) {
o.length || (r(), !0), o[o.length] = e;
}
e.exports = n;
var r, o = [], i = 0, a = 1024;
function s() {
for (;i < o.length; ) {
var e = i;
if (i += 1, o[e].call(), i > a) {
for (var t = 0, n = o.length - i; t < n; t++) o[t] = o[t + i];
o.length -= i, i = 0;
}
}
o.length = 0, i = 0, !1;
}
var u = void 0 !== t ? t : self, l = u.MutationObserver || u.WebKitMutationObserver;
function c(e) {
return function t() {
var n = setTimeout(o, 0), r = setInterval(o, 50);
function o() {
clearTimeout(n), clearInterval(r), e();
}
};
}
r = "function" == typeof l ? function p(e) {
var t = 1, n = new l(e), r = document.createTextNode("");
return n.observe(r, {
characterData: !0
}), function e() {
t = -t, r.data = t;
};
}(s) : c(s), n.requestFlush = r, n.makeRequestCallFromTimer = c;
}).call(this, n(185));
}, function(e, t, n) {
(function(t, n, r) {
e.exports = function() {
var e, o, i;
return function e(t, n, r) {
function o(a, s) {
if (!n[a]) {
if (!t[a]) {
var u = "function" == typeof _dereq_ && _dereq_;
if (!s && u) return u(a, !0);
if (i) return i(a, !0);
var l = new Error("Cannot find module '" + a + "'");
throw l.code = "MODULE_NOT_FOUND", l;
}
var c = n[a] = {
exports: {}
};
t[a][0].call(c.exports, function(e) {
var n = t[a][1][e];
return o(n || e);
}, c, c.exports, e, t, n, r);
}
return n[a].exports;
}
for (var i = "function" == typeof _dereq_ && _dereq_, a = 0; a < r.length; a++) o(r[a]);
return o;
}({
1: [ function(e, t, n) {
"use strict";
t.exports = function(e) {
var t = e._SomePromiseArray;
function n(e) {
var n = new t(e), r = n.promise();
return n.setHowMany(1), n.setUnwrap(), n.init(), r;
}
e.any = function(e) {
return n(e);
}, e.prototype.any = function() {
return n(this);
};
};
}, {} ],
2: [ function(e, n, r) {
"use strict";
var o;
try {
throw new Error();
} catch (e) {
o = e;
}
var i = e("./schedule"), a = e("./queue"), s = e("./util");
function u() {
this._customScheduler = !1, this._isTickUsed = !1, this._lateQueue = new a(16), 
this._normalQueue = new a(16), this._haveDrainedQueues = !1, this._trampolineEnabled = !0;
var e = this;
this.drainQueues = function() {
e._drainQueues();
}, this._schedule = i;
}
function l(e, t, n) {
this._lateQueue.push(e, t, n), this._queueTick();
}
function c(e, t, n) {
this._normalQueue.push(e, t, n), this._queueTick();
}
function p(e) {
this._normalQueue._pushOne(e), this._queueTick();
}
u.prototype.setScheduler = function(e) {
var t = this._schedule;
return this._schedule = e, this._customScheduler = !0, t;
}, u.prototype.hasCustomScheduler = function() {
return this._customScheduler;
}, u.prototype.enableTrampoline = function() {
this._trampolineEnabled = !0;
}, u.prototype.disableTrampolineIfNecessary = function() {
s.hasDevTools && (this._trampolineEnabled = !1);
}, u.prototype.haveItemsQueued = function() {
return this._isTickUsed || this._haveDrainedQueues;
}, u.prototype.fatalError = function(e, n) {
n ? (t.stderr.write("Fatal " + (e instanceof Error ? e.stack : e) + "\n"), t.exit(2)) : this.throwLater(e);
}, u.prototype.throwLater = function(e, t) {
if (1 === arguments.length && (t = e, e = function() {
throw t;
}), "undefined" != typeof setTimeout) setTimeout(function() {
e(t);
}, 0); else try {
this._schedule(function() {
e(t);
});
} catch (e) {
throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");
}
}, s.hasDevTools ? (u.prototype.invokeLater = function(e, t, n) {
this._trampolineEnabled ? l.call(this, e, t, n) : this._schedule(function() {
setTimeout(function() {
e.call(t, n);
}, 100);
});
}, u.prototype.invoke = function(e, t, n) {
this._trampolineEnabled ? c.call(this, e, t, n) : this._schedule(function() {
e.call(t, n);
});
}, u.prototype.settlePromises = function(e) {
this._trampolineEnabled ? p.call(this, e) : this._schedule(function() {
e._settlePromises();
});
}) : (u.prototype.invokeLater = l, u.prototype.invoke = c, u.prototype.settlePromises = p), 
u.prototype._drainQueue = function(e) {
for (;e.length() > 0; ) {
var t = e.shift();
if ("function" == typeof t) {
var n = e.shift(), r = e.shift();
t.call(n, r);
} else t._settlePromises();
}
}, u.prototype._drainQueues = function() {
this._drainQueue(this._normalQueue), this._reset(), this._haveDrainedQueues = !0, 
this._drainQueue(this._lateQueue);
}, u.prototype._queueTick = function() {
this._isTickUsed || (this._isTickUsed = !0, this._schedule(this.drainQueues));
}, u.prototype._reset = function() {
this._isTickUsed = !1;
}, n.exports = u, n.exports.firstLineError = o;
}, {
"./queue": 26,
"./schedule": 29,
"./util": 36
} ],
3: [ function(e, t, n) {
"use strict";
t.exports = function(e, t, n, r) {
var o = !1, i = function(e, t) {
this._reject(t);
}, a = function(e, t) {
t.promiseRejectionQueued = !0, t.bindingPromise._then(i, i, null, this, e);
}, s = function(e, t) {
0 == (50397184 & this._bitField) && this._resolveCallback(t.target);
}, u = function(e, t) {
t.promiseRejectionQueued || this._reject(e);
};
e.prototype.bind = function(i) {
o || (o = !0, e.prototype._propagateFrom = r.propagateFromFunction(), e.prototype._boundValue = r.boundValueFunction());
var l = n(i), c = new e(t);
c._propagateFrom(this, 1);
var p = this._target();
if (c._setBoundTo(l), l instanceof e) {
var d = {
promiseRejectionQueued: !1,
promise: c,
target: p,
bindingPromise: l
};
p._then(t, a, void 0, c, d), l._then(s, u, void 0, c, d), c._setOnCancel(l);
} else c._resolveCallback(p);
return c;
}, e.prototype._setBoundTo = function(e) {
void 0 !== e ? (this._bitField = 2097152 | this._bitField, this._boundTo = e) : this._bitField = -2097153 & this._bitField;
}, e.prototype._isBound = function() {
return 2097152 == (2097152 & this._bitField);
}, e.bind = function(t, n) {
return e.resolve(n).bind(t);
};
};
}, {} ],
4: [ function(e, t, n) {
"use strict";
var r;
"undefined" != typeof Promise && (r = Promise);
var o = e("./promise")();
o.noConflict = function i() {
try {
Promise === o && (Promise = r);
} catch (e) {}
return o;
}, t.exports = o;
}, {
"./promise": 22
} ],
5: [ function(e, t, n) {
"use strict";
var r = Object.create;
if (r) {
var o = r(null), i = r(null);
o[" size"] = i[" size"] = 0;
}
t.exports = function(t) {
var n = e("./util"), r = n.canEvaluate;
function o(e) {
var r = this.pop(), o = function i(e, r) {
var o;
if (null != e && (o = e[r]), "function" != typeof o) {
var i = "Object " + n.classString(e) + " has no method '" + n.toString(r) + "'";
throw new t.TypeError(i);
}
return o;
}(e, r);
return o.apply(e, this);
}
function i(e) {
return e[this];
}
function a(e) {
var t = +this;
return t < 0 && (t = Math.max(0, t + e.length)), e[t];
}
n.isIdentifier, t.prototype.call = function(e) {
var t = [].slice.call(arguments, 1);
return t.push(e), this._then(o, void 0, void 0, t, void 0);
}, t.prototype.get = function(e) {
var t, n = "number" == typeof e;
if (n) t = a; else if (r) {
var o = (void 0)(e);
t = null !== o ? o : i;
} else t = i;
return this._then(t, void 0, void 0, e, void 0);
};
};
}, {
"./util": 36
} ],
6: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o) {
var i = e("./util"), a = i.tryCatch, s = i.errorObj, u = t._async;
t.prototype.break = t.prototype.cancel = function() {
if (!o.cancellation()) return this._warn("cancellation is disabled");
for (var e = this, t = e; e._isCancellable(); ) {
if (!e._cancelBy(t)) {
t._isFollowing() ? t._followee().cancel() : t._cancelBranched();
break;
}
var n = e._cancellationParent;
if (null == n || !n._isCancellable()) {
e._isFollowing() ? e._followee().cancel() : e._cancelBranched();
break;
}
e._isFollowing() && e._followee().cancel(), e._setWillBeCancelled(), t = e, e = n;
}
}, t.prototype._branchHasCancelled = function() {
this._branchesRemainingToCancel--;
}, t.prototype._enoughBranchesHaveCancelled = function() {
return void 0 === this._branchesRemainingToCancel || this._branchesRemainingToCancel <= 0;
}, t.prototype._cancelBy = function(e) {
return e === this ? (this._branchesRemainingToCancel = 0, this._invokeOnCancel(), 
!0) : (this._branchHasCancelled(), !!this._enoughBranchesHaveCancelled() && (this._invokeOnCancel(), 
!0));
}, t.prototype._cancelBranched = function() {
this._enoughBranchesHaveCancelled() && this._cancel();
}, t.prototype._cancel = function() {
this._isCancellable() && (this._setCancelled(), u.invoke(this._cancelPromises, this, void 0));
}, t.prototype._cancelPromises = function() {
this._length() > 0 && this._settlePromises();
}, t.prototype._unsetOnCancel = function() {
this._onCancelField = void 0;
}, t.prototype._isCancellable = function() {
return this.isPending() && !this._isCancelled();
}, t.prototype.isCancellable = function() {
return this.isPending() && !this.isCancelled();
}, t.prototype._doInvokeOnCancel = function(e, t) {
if (i.isArray(e)) for (var n = 0; n < e.length; ++n) this._doInvokeOnCancel(e[n], t); else if (void 0 !== e) if ("function" == typeof e) {
if (!t) {
var r = a(e).call(this._boundValue());
r === s && (this._attachExtraTrace(r.e), u.throwLater(r.e));
}
} else e._resultCancelled(this);
}, t.prototype._invokeOnCancel = function() {
var e = this._onCancel();
this._unsetOnCancel(), u.invoke(this._doInvokeOnCancel, this, e);
}, t.prototype._invokeInternalOnCancel = function() {
this._isCancellable() && (this._doInvokeOnCancel(this._onCancel(), !0), this._unsetOnCancel());
}, t.prototype._resultCancelled = function() {
this.cancel();
};
};
}, {
"./util": 36
} ],
7: [ function(e, t, n) {
"use strict";
t.exports = function(t) {
var n = e("./util"), r = e("./es5").keys, o = n.tryCatch, i = n.errorObj;
return function a(e, s, u) {
return function(a) {
var l = u._boundValue();
e: for (var c = 0; c < e.length; ++c) {
var p = e[c];
if (p === Error || null != p && p.prototype instanceof Error) {
if (a instanceof p) return o(s).call(l, a);
} else if ("function" == typeof p) {
var d = o(p).call(l, a);
if (d === i) return d;
if (d) return o(s).call(l, a);
} else if (n.isObject(a)) {
for (var f = r(p), m = 0; m < f.length; ++m) {
var h = f[m];
if (p[h] != a[h]) continue e;
}
return o(s).call(l, a);
}
}
return t;
};
};
};
}, {
"./es5": 13,
"./util": 36
} ],
8: [ function(e, t, n) {
"use strict";
t.exports = function(e) {
var t = !1, n = [];
function r() {
this._trace = new r.CapturedTrace(o());
}
function o() {
var e = n.length - 1;
if (e >= 0) return n[e];
}
return e.prototype._promiseCreated = function() {}, e.prototype._pushContext = function() {}, 
e.prototype._popContext = function() {
return null;
}, e._peekContext = e.prototype._peekContext = function() {}, r.prototype._pushContext = function() {
void 0 !== this._trace && (this._trace._promiseCreated = null, n.push(this._trace));
}, r.prototype._popContext = function() {
if (void 0 !== this._trace) {
var e = n.pop(), t = e._promiseCreated;
return e._promiseCreated = null, t;
}
return null;
}, r.CapturedTrace = null, r.create = function i() {
if (t) return new r();
}, r.deactivateLongStackTraces = function() {}, r.activateLongStackTraces = function() {
var n = e.prototype._pushContext, i = e.prototype._popContext, a = e._peekContext, s = e.prototype._peekContext, u = e.prototype._promiseCreated;
r.deactivateLongStackTraces = function() {
e.prototype._pushContext = n, e.prototype._popContext = i, e._peekContext = a, e.prototype._peekContext = s, 
e.prototype._promiseCreated = u, t = !1;
}, t = !0, e.prototype._pushContext = r.prototype._pushContext, e.prototype._popContext = r.prototype._popContext, 
e._peekContext = e.prototype._peekContext = o, e.prototype._promiseCreated = function() {
var e = this._peekContext();
e && null == e._promiseCreated && (e._promiseCreated = this);
};
}, r;
};
}, {} ],
9: [ function(e, n, r) {
"use strict";
n.exports = function(n, r) {
var o, i, a, s = n._getDomain, u = n._async, l = e("./errors").Warning, c = e("./util"), p = c.canAttachTrace, d = /[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/, f = /\((?:timers\.js):\d+:\d+\)/, m = /[\/<\(](.+?):(\d+):(\d+)\)?\s*$/, h = null, g = null, y = !1, S = !(0 == c.env("BLUEBIRD_DEBUG")), v = !(0 == c.env("BLUEBIRD_WARNINGS") || !S && !c.env("BLUEBIRD_WARNINGS")), _ = !(0 == c.env("BLUEBIRD_LONG_STACK_TRACES") || !S && !c.env("BLUEBIRD_LONG_STACK_TRACES")), b = 0 != c.env("BLUEBIRD_W_FORGOTTEN_RETURN") && (v || !!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));
n.prototype.suppressUnhandledRejections = function() {
var e = this._target();
e._bitField = -1048577 & e._bitField | 524288;
}, n.prototype._ensurePossibleRejectionHandled = function() {
0 == (524288 & this._bitField) && (this._setRejectionIsUnhandled(), u.invokeLater(this._notifyUnhandledRejection, this, void 0));
}, n.prototype._notifyUnhandledRejectionIsHandled = function() {
V("rejectionHandled", o, void 0, this);
}, n.prototype._setReturnedNonUndefined = function() {
this._bitField = 268435456 | this._bitField;
}, n.prototype._returnedNonUndefined = function() {
return 0 != (268435456 & this._bitField);
}, n.prototype._notifyUnhandledRejection = function() {
if (this._isRejectionUnhandled()) {
var e = this._settledValue();
this._setUnhandledRejectionIsNotified(), V("unhandledRejection", i, e, this);
}
}, n.prototype._setUnhandledRejectionIsNotified = function() {
this._bitField = 262144 | this._bitField;
}, n.prototype._unsetUnhandledRejectionIsNotified = function() {
this._bitField = -262145 & this._bitField;
}, n.prototype._isUnhandledRejectionNotified = function() {
return (262144 & this._bitField) > 0;
}, n.prototype._setRejectionIsUnhandled = function() {
this._bitField = 1048576 | this._bitField;
}, n.prototype._unsetRejectionIsUnhandled = function() {
this._bitField = -1048577 & this._bitField, this._isUnhandledRejectionNotified() && (this._unsetUnhandledRejectionIsNotified(), 
this._notifyUnhandledRejectionIsHandled());
}, n.prototype._isRejectionUnhandled = function() {
return (1048576 & this._bitField) > 0;
}, n.prototype._warn = function(e, t, n) {
return B(e, t, n || this);
}, n.onPossiblyUnhandledRejection = function(e) {
var t = s();
i = "function" == typeof e ? null === t ? e : c.domainBind(t, e) : void 0;
}, n.onUnhandledRejectionHandled = function(e) {
var t = s();
o = "function" == typeof e ? null === t ? e : c.domainBind(t, e) : void 0;
};
var T = function() {};
n.longStackTraces = function() {
if (u.haveItemsQueued() && !Z.longStackTraces) throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");
if (!Z.longStackTraces && q()) {
var e = n.prototype._captureStackTrace, t = n.prototype._attachExtraTrace;
Z.longStackTraces = !0, T = function() {
if (u.haveItemsQueued() && !Z.longStackTraces) throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");
n.prototype._captureStackTrace = e, n.prototype._attachExtraTrace = t, r.deactivateLongStackTraces(), 
u.enableTrampoline(), Z.longStackTraces = !1;
}, n.prototype._captureStackTrace = G, n.prototype._attachExtraTrace = U, r.activateLongStackTraces(), 
u.disableTrampolineIfNecessary();
}
}, n.hasLongStackTraces = function() {
return Z.longStackTraces && q();
};
var E = function() {
try {
if ("function" == typeof CustomEvent) {
var e = new CustomEvent("CustomEvent");
return c.global.dispatchEvent(e), function(e, t) {
var n = new CustomEvent(e.toLowerCase(), {
detail: t,
cancelable: !0
});
return !c.global.dispatchEvent(n);
};
}
if ("function" == typeof Event) {
var e = new Event("CustomEvent");
return c.global.dispatchEvent(e), function(e, t) {
var n = new Event(e.toLowerCase(), {
cancelable: !0
});
return n.detail = t, !c.global.dispatchEvent(n);
};
}
var e = document.createEvent("CustomEvent");
return e.initCustomEvent("testingtheevent", !1, !0, {}), c.global.dispatchEvent(e), 
function(e, t) {
var n = document.createEvent("CustomEvent");
return n.initCustomEvent(e.toLowerCase(), !1, !0, t), !c.global.dispatchEvent(n);
};
} catch (e) {}
return function() {
return !1;
};
}(), C = c.isNode ? function() {
return t.emit.apply(t, arguments);
} : c.global ? function(e) {
var t = "on" + e.toLowerCase(), n = c.global[t];
return !!n && (n.apply(c.global, [].slice.call(arguments, 1)), !0);
} : function() {
return !1;
};
function I(e, t) {
return {
promise: t
};
}
var A = {
promiseCreated: I,
promiseFulfilled: I,
promiseRejected: I,
promiseResolved: I,
promiseCancelled: I,
promiseChained: function(e, t, n) {
return {
promise: t,
child: n
};
},
warning: function(e, t) {
return {
warning: t
};
},
unhandledRejection: function(e, t, n) {
return {
reason: t,
promise: n
};
},
rejectionHandled: I
}, w = function(e) {
var t = !1;
try {
t = C.apply(null, arguments);
} catch (e) {
u.throwLater(e), t = !0;
}
var n = !1;
try {
n = E(e, A[e].apply(null, arguments));
} catch (e) {
u.throwLater(e), n = !0;
}
return n || t;
};
function P() {
return !1;
}
function R(e, t, n) {
var r = this;
try {
e(t, n, function(e) {
if ("function" != typeof e) throw new TypeError("onCancel must be a function, got: " + c.toString(e));
r._attachCancellationCallback(e);
});
} catch (e) {
return e;
}
}
function O(e) {
if (!this._isCancellable()) return this;
var t = this._onCancel();
void 0 !== t ? c.isArray(t) ? t.push(e) : this._setOnCancel([ t, e ]) : this._setOnCancel(e);
}
function x() {
return this._onCancelField;
}
function k(e) {
this._onCancelField = e;
}
function L() {
this._cancellationParent = void 0, this._onCancelField = void 0;
}
function M(e, t) {
if (0 != (1 & t)) {
this._cancellationParent = e;
var n = e._branchesRemainingToCancel;
void 0 === n && (n = 0), e._branchesRemainingToCancel = n + 1;
}
0 != (2 & t) && e._isBound() && this._setBoundTo(e._boundTo);
}
n.config = function(e) {
if ("longStackTraces" in (e = Object(e)) && (e.longStackTraces ? n.longStackTraces() : !e.longStackTraces && n.hasLongStackTraces() && T()), 
"warnings" in e) {
var t = e.warnings;
Z.warnings = !!t, b = Z.warnings, c.isObject(t) && "wForgottenReturn" in t && (b = !!t.wForgottenReturn);
}
if ("cancellation" in e && e.cancellation && !Z.cancellation) {
if (u.haveItemsQueued()) throw new Error("cannot enable cancellation after promises are in use");
n.prototype._clearCancellationData = L, n.prototype._propagateFrom = M, n.prototype._onCancel = x, 
n.prototype._setOnCancel = k, n.prototype._attachCancellationCallback = O, n.prototype._execute = R, 
D = M, Z.cancellation = !0;
}
return "monitoring" in e && (e.monitoring && !Z.monitoring ? (Z.monitoring = !0, 
n.prototype._fireEvent = w) : !e.monitoring && Z.monitoring && (Z.monitoring = !1, 
n.prototype._fireEvent = P)), n;
}, n.prototype._fireEvent = P, n.prototype._execute = function(e, t, n) {
try {
e(t, n);
} catch (e) {
return e;
}
}, n.prototype._onCancel = function() {}, n.prototype._setOnCancel = function(e) {}, 
n.prototype._attachCancellationCallback = function(e) {}, n.prototype._captureStackTrace = function() {}, 
n.prototype._attachExtraTrace = function() {}, n.prototype._clearCancellationData = function() {}, 
n.prototype._propagateFrom = function(e, t) {};
var D = function N(e, t) {
0 != (2 & t) && e._isBound() && this._setBoundTo(e._boundTo);
};
function F() {
var e = this._boundTo;
return void 0 !== e && e instanceof n ? e.isFulfilled() ? e.value() : void 0 : e;
}
function G() {
this._trace = new J(this._peekContext());
}
function U(e, t) {
if (p(e)) {
var n = this._trace;
if (void 0 !== n && t && (n = n._parent), void 0 !== n) n.attachExtraTrace(e); else if (!e.__stackCleaned__) {
var r = H(e);
c.notEnumerableProp(e, "stack", r.message + "\n" + r.stack.join("\n")), c.notEnumerableProp(e, "__stackCleaned__", !0);
}
}
}
function B(e, t, r) {
if (Z.warnings) {
var o, i = new l(e);
if (t) r._attachExtraTrace(i); else if (Z.longStackTraces && (o = n._peekContext())) o.attachExtraTrace(i); else {
var a = H(i);
i.stack = a.message + "\n" + a.stack.join("\n");
}
w("warning", i) || z(i, "", !0);
}
}
function j(e) {
for (var t = [], n = 0; n < e.length; ++n) {
var r = e[n], o = "    (No stack trace)" === r || h.test(r), i = o && K(r);
o && !i && (y && " " !== r.charAt(0) && (r = "    " + r), t.push(r));
}
return t;
}
function H(e) {
var t = e.stack, n = e.toString();
return t = "string" == typeof t && t.length > 0 ? function r(e) {
for (var t = e.stack.replace(/\s+$/g, "").split("\n"), n = 0; n < t.length; ++n) {
var r = t[n];
if ("    (No stack trace)" === r || h.test(r)) break;
}
return n > 0 && "SyntaxError" != e.name && (t = t.slice(n)), t;
}(e) : [ "    (No stack trace)" ], {
message: n,
stack: "SyntaxError" == e.name ? t : j(t)
};
}
function z(e, t, n) {
if ("undefined" != typeof console) {
var r;
if (c.isObject(e)) {
var o = e.stack;
r = t + g(o, e);
} else r = t + String(e);
"function" == typeof a ? a(r, n) : "function" != typeof console.log && "object" != typeof console.log || console.log(r);
}
}
function V(e, t, n, r) {
var o = !1;
try {
"function" == typeof t && (o = !0, "rejectionHandled" === e ? t(r) : t(n, r));
} catch (e) {
u.throwLater(e);
}
"unhandledRejection" === e ? w(e, n, r) || o || z(n, "Unhandled rejection ") : w(e, r);
}
function W(e) {
var t;
if ("function" == typeof e) t = "[function " + (e.name || "anonymous") + "]"; else {
if (t = e && "function" == typeof e.toString ? e.toString() : c.toString(e), /\[object [a-zA-Z0-9$_]+\]/.test(t)) try {
var n = JSON.stringify(e);
t = n;
} catch (e) {}
0 === t.length && (t = "(empty array)");
}
return "(<" + function r(e) {
return e.length < 41 ? e : e.substr(0, 38) + "...";
}(t) + ">, no stack trace)";
}
function q() {
return "function" == typeof Q;
}
var K = function() {
return !1;
}, X = /[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;
function Y(e) {
var t = e.match(X);
if (t) return {
fileName: t[1],
line: parseInt(t[2], 10)
};
}
function J(e) {
this._parent = e, this._promisesCreated = 0;
var t = this._length = 1 + (void 0 === e ? 0 : e._length);
Q(this, J), t > 32 && this.uncycle();
}
c.inherits(J, Error), r.CapturedTrace = J, J.prototype.uncycle = function() {
var e = this._length;
if (!(e < 2)) {
for (var t = [], n = {}, r = 0, o = this; void 0 !== o; ++r) t.push(o), o = o._parent;
for (var r = (e = this._length = r) - 1; r >= 0; --r) {
var i = t[r].stack;
void 0 === n[i] && (n[i] = r);
}
for (var r = 0; r < e; ++r) {
var a = t[r].stack, s = n[a];
if (void 0 !== s && s !== r) {
s > 0 && (t[s - 1]._parent = void 0, t[s - 1]._length = 1), t[r]._parent = void 0, 
t[r]._length = 1;
var u = r > 0 ? t[r - 1] : this;
s < e - 1 ? (u._parent = t[s + 1], u._parent.uncycle(), u._length = u._parent._length + 1) : (u._parent = void 0, 
u._length = 1);
for (var l = u._length + 1, c = r - 2; c >= 0; --c) t[c]._length = l, l++;
return;
}
}
}
}, J.prototype.attachExtraTrace = function(e) {
if (!e.__stackCleaned__) {
this.uncycle();
for (var t = H(e), n = t.message, r = [ t.stack ], o = this; void 0 !== o; ) r.push(j(o.stack.split("\n"))), 
o = o._parent;
!function i(e) {
for (var t = e[0], n = 1; n < e.length; ++n) {
for (var r = e[n], o = t.length - 1, i = t[o], a = -1, s = r.length - 1; s >= 0; --s) if (r[s] === i) {
a = s;
break;
}
for (var s = a; s >= 0; --s) {
var u = r[s];
if (t[o] !== u) break;
t.pop(), o--;
}
t = r;
}
}(r), function a(e) {
for (var t = 0; t < e.length; ++t) (0 === e[t].length || t + 1 < e.length && e[t][0] === e[t + 1][0]) && (e.splice(t, 1), 
t--);
}(r), c.notEnumerableProp(e, "stack", function s(e, t) {
for (var n = 0; n < t.length - 1; ++n) t[n].push("From previous event:"), t[n] = t[n].join("\n");
return n < t.length && (t[n] = t[n].join("\n")), e + "\n" + t.join("\n");
}(n, r)), c.notEnumerableProp(e, "__stackCleaned__", !0);
}
};
var Q = function e() {
var t = /^\s*at\s*/, n = function(e, t) {
return "string" == typeof e ? e : void 0 !== t.name && void 0 !== t.message ? t.toString() : W(t);
};
if ("number" == typeof Error.stackTraceLimit && "function" == typeof Error.captureStackTrace) {
Error.stackTraceLimit += 6, h = t, g = n;
var r = Error.captureStackTrace;
return K = function(e) {
return d.test(e);
}, function(e, t) {
Error.stackTraceLimit += 6, r(e, t), Error.stackTraceLimit -= 6;
};
}
var o, i = new Error();
if ("string" == typeof i.stack && i.stack.split("\n")[0].indexOf("stackDetection@") >= 0) return h = /@/, 
g = n, y = !0, function e(t) {
t.stack = new Error().stack;
};
try {
throw new Error();
} catch (e) {
o = "stack" in e;
}
return "stack" in i || !o || "number" != typeof Error.stackTraceLimit ? (g = function(e, t) {
return "string" == typeof e ? e : "object" != typeof t && "function" != typeof t || void 0 === t.name || void 0 === t.message ? W(t) : t.toString();
}, null) : (h = t, g = n, function e(t) {
Error.stackTraceLimit += 6;
try {
throw new Error();
} catch (e) {
t.stack = e.stack;
}
Error.stackTraceLimit -= 6;
});
}();
"undefined" != typeof console && void 0 !== console.warn && (a = function(e) {
console.warn(e);
}, c.isNode && t.stderr.isTTY ? a = function(e, t) {
var n = t ? "[33m" : "[31m";
console.warn(n + e + "[0m\n");
} : c.isNode || "string" != typeof new Error().stack || (a = function(e, t) {
console.warn("%c" + e, t ? "color: darkorange" : "color: red");
}));
var Z = {
warnings: v,
longStackTraces: !1,
cancellation: !1,
monitoring: !1
};
return _ && n.longStackTraces(), {
longStackTraces: function() {
return Z.longStackTraces;
},
warnings: function() {
return Z.warnings;
},
cancellation: function() {
return Z.cancellation;
},
monitoring: function() {
return Z.monitoring;
},
propagateFromFunction: function() {
return D;
},
boundValueFunction: function() {
return F;
},
checkForgottenReturns: function $(e, t, n, r, o) {
if (void 0 === e && null !== t && b) {
if (void 0 !== o && o._returnedNonUndefined()) return;
if (0 == (65535 & r._bitField)) return;
n && (n += " ");
var i = "", a = "";
if (t._trace) {
for (var s = t._trace.stack.split("\n"), u = j(s), l = u.length - 1; l >= 0; --l) {
var c = u[l];
if (!f.test(c)) {
var p = c.match(m);
p && (i = "at " + p[1] + ":" + p[2] + ":" + p[3] + " ");
break;
}
}
if (u.length > 0) for (var d = u[0], l = 0; l < s.length; ++l) if (s[l] === d) {
l > 0 && (a = "\n" + s[l - 1]);
break;
}
}
var h = "a promise was created in a " + n + "handler " + i + "but was not returned from it, see http://goo.gl/rRqMUw" + a;
r._warn(h, !0, t);
}
},
setBounds: function ee(e, t) {
if (q()) {
for (var n, r, o = e.stack.split("\n"), i = t.stack.split("\n"), a = -1, s = -1, u = 0; u < o.length; ++u) {
var l = Y(o[u]);
if (l) {
n = l.fileName, a = l.line;
break;
}
}
for (var u = 0; u < i.length; ++u) {
var l = Y(i[u]);
if (l) {
r = l.fileName, s = l.line;
break;
}
}
a < 0 || s < 0 || !n || !r || n !== r || a >= s || (K = function(e) {
if (d.test(e)) return !0;
var t = Y(e);
return !!(t && t.fileName === n && a <= t.line && t.line <= s);
});
}
},
warn: B,
deprecated: function te(e, t) {
var n = e + " is deprecated and will be removed in a future version.";
return t && (n += " Use " + t + " instead."), B(n);
},
CapturedTrace: J,
fireDomEvent: E,
fireGlobalEvent: C
};
};
}, {
"./errors": 12,
"./util": 36
} ],
10: [ function(e, t, n) {
"use strict";
t.exports = function(e) {
function t() {
return this.value;
}
function n() {
throw this.reason;
}
e.prototype.return = e.prototype.thenReturn = function(n) {
return n instanceof e && n.suppressUnhandledRejections(), this._then(t, void 0, void 0, {
value: n
}, void 0);
}, e.prototype.throw = e.prototype.thenThrow = function(e) {
return this._then(n, void 0, void 0, {
reason: e
}, void 0);
}, e.prototype.catchThrow = function(e) {
if (arguments.length <= 1) return this._then(void 0, n, void 0, {
reason: e
}, void 0);
var t = arguments[1];
return this.caught(e, function() {
throw t;
});
}, e.prototype.catchReturn = function(n) {
if (arguments.length <= 1) return n instanceof e && n.suppressUnhandledRejections(), 
this._then(void 0, t, void 0, {
value: n
}, void 0);
var r = arguments[1];
return r instanceof e && r.suppressUnhandledRejections(), this.caught(n, function() {
return r;
});
};
};
}, {} ],
11: [ function(e, t, n) {
"use strict";
t.exports = function(e, t) {
var n = e.reduce, r = e.all;
function o() {
return r(this);
}
e.prototype.each = function(e) {
return n(this, e, t, 0)._then(o, void 0, void 0, this, void 0);
}, e.prototype.mapSeries = function(e) {
return n(this, e, t, t);
}, e.each = function(e, r) {
return n(e, r, t, 0)._then(o, void 0, void 0, e, void 0);
}, e.mapSeries = function i(e, r) {
return n(e, r, t, t);
};
};
}, {} ],
12: [ function(e, t, n) {
"use strict";
var r, o, i = e("./es5"), a = i.freeze, s = e("./util"), u = s.inherits, l = s.notEnumerableProp;
function c(e, t) {
function n(r) {
if (!(this instanceof n)) return new n(r);
l(this, "message", "string" == typeof r ? r : t), l(this, "name", e), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : Error.call(this);
}
return u(n, Error), n;
}
var p = c("Warning", "warning"), d = c("CancellationError", "cancellation error"), f = c("TimeoutError", "timeout error"), m = c("AggregateError", "aggregate error");
try {
r = TypeError, o = RangeError;
} catch (e) {
r = c("TypeError", "type error"), o = c("RangeError", "range error");
}
for (var h = "join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "), g = 0; g < h.length; ++g) "function" == typeof Array.prototype[h[g]] && (m.prototype[h[g]] = Array.prototype[h[g]]);
i.defineProperty(m.prototype, "length", {
value: 0,
configurable: !1,
writable: !0,
enumerable: !0
}), m.prototype.isOperational = !0;
var y = 0;
function S(e) {
if (!(this instanceof S)) return new S(e);
l(this, "name", "OperationalError"), l(this, "message", e), this.cause = e, this.isOperational = !0, 
e instanceof Error ? (l(this, "message", e.message), l(this, "stack", e.stack)) : Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);
}
m.prototype.toString = function() {
var e = Array(4 * y + 1).join(" "), t = "\n" + e + "AggregateError of:\n";
y++, e = Array(4 * y + 1).join(" ");
for (var n = 0; n < this.length; ++n) {
for (var r = this[n] === this ? "[Circular AggregateError]" : this[n] + "", o = r.split("\n"), i = 0; i < o.length; ++i) o[i] = e + o[i];
r = o.join("\n"), t += r + "\n";
}
return y--, t;
}, u(S, Error);
var v = Error.__BluebirdErrorTypes__;
v || (v = a({
CancellationError: d,
TimeoutError: f,
OperationalError: S,
RejectionError: S,
AggregateError: m
}), i.defineProperty(Error, "__BluebirdErrorTypes__", {
value: v,
writable: !1,
enumerable: !1,
configurable: !1
})), t.exports = {
Error: Error,
TypeError: r,
RangeError: o,
CancellationError: v.CancellationError,
OperationalError: v.OperationalError,
TimeoutError: v.TimeoutError,
AggregateError: v.AggregateError,
Warning: p
};
}, {
"./es5": 13,
"./util": 36
} ],
13: [ function(e, t, n) {
var r = function() {
"use strict";
return void 0 === this;
}();
if (r) t.exports = {
freeze: Object.freeze,
defineProperty: Object.defineProperty,
getDescriptor: Object.getOwnPropertyDescriptor,
keys: Object.keys,
names: Object.getOwnPropertyNames,
getPrototypeOf: Object.getPrototypeOf,
isArray: Array.isArray,
isES5: r,
propertyIsWritable: function(e, t) {
var n = Object.getOwnPropertyDescriptor(e, t);
return !(n && !n.writable && !n.set);
}
}; else {
var o = {}.hasOwnProperty, i = {}.toString, a = {}.constructor.prototype, s = function(e) {
var t = [];
for (var n in e) o.call(e, n) && t.push(n);
return t;
};
t.exports = {
isArray: function(e) {
try {
return "[object Array]" === i.call(e);
} catch (e) {
return !1;
}
},
keys: s,
names: s,
defineProperty: function(e, t, n) {
return e[t] = n.value, e;
},
getDescriptor: function(e, t) {
return {
value: e[t]
};
},
freeze: function(e) {
return e;
},
getPrototypeOf: function(e) {
try {
return Object(e).constructor.prototype;
} catch (e) {
return a;
}
},
isES5: r,
propertyIsWritable: function() {
return !0;
}
};
}
}, {} ],
14: [ function(e, t, n) {
"use strict";
t.exports = function(e, t) {
var n = e.map;
e.prototype.filter = function(e, r) {
return n(this, e, r, t);
}, e.filter = function(e, r, o) {
return n(e, r, o, t);
};
};
}, {} ],
15: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r) {
var o = e("./util"), i = t.CancellationError, a = o.errorObj, s = e("./catch_filter")(r);
function u(e, t, n) {
this.promise = e, this.type = t, this.handler = n, this.called = !1, this.cancelPromise = null;
}
function l(e) {
this.finallyHandler = e;
}
function c(e, t) {
return null != e.cancelPromise && (arguments.length > 1 ? e.cancelPromise._reject(t) : e.cancelPromise._cancel(), 
e.cancelPromise = null, !0);
}
function p() {
return f.call(this, this.promise._target()._settledValue());
}
function d(e) {
if (!c(this, e)) return a.e = e, a;
}
function f(e) {
var o = this.promise, s = this.handler;
if (!this.called) {
this.called = !0;
var u = this.isFinallyHandler() ? s.call(o._boundValue()) : s.call(o._boundValue(), e);
if (u === r) return u;
if (void 0 !== u) {
o._setReturnedNonUndefined();
var f = n(u, o);
if (f instanceof t) {
if (null != this.cancelPromise) {
if (f._isCancelled()) {
var m = new i("late cancellation observer");
return o._attachExtraTrace(m), a.e = m, a;
}
f.isPending() && f._attachCancellationCallback(new l(this));
}
return f._then(p, d, void 0, this, void 0);
}
}
}
return o.isRejected() ? (c(this), a.e = e, a) : (c(this), e);
}
return u.prototype.isFinallyHandler = function() {
return 0 === this.type;
}, l.prototype._resultCancelled = function() {
c(this.finallyHandler);
}, t.prototype._passThrough = function(e, t, n, r) {
return "function" != typeof e ? this.then() : this._then(n, r, void 0, new u(this, t, e), void 0);
}, t.prototype.lastly = t.prototype.finally = function(e) {
return this._passThrough(e, 0, f, f);
}, t.prototype.tap = function(e) {
return this._passThrough(e, 1, f);
}, t.prototype.tapCatch = function(e) {
var n = arguments.length;
if (1 === n) return this._passThrough(e, 1, void 0, f);
var r, i = new Array(n - 1), a = 0;
for (r = 0; r < n - 1; ++r) {
var u = arguments[r];
if (!o.isObject(u)) return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got " + o.classString(u)));
i[a++] = u;
}
i.length = a;
var l = arguments[r];
return this._passThrough(s(i, l, this), 1, void 0, f);
}, u;
};
}, {
"./catch_filter": 7,
"./util": 36
} ],
16: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o, i, a) {
var s = e("./errors"), u = s.TypeError, l = e("./util"), c = l.errorObj, p = l.tryCatch, d = [];
function f(e, n, o, i) {
if (a.cancellation()) {
var s = new t(r), u = this._finallyPromise = new t(r);
this._promise = s.lastly(function() {
return u;
}), s._captureStackTrace(), s._setOnCancel(this);
} else {
var l = this._promise = new t(r);
l._captureStackTrace();
}
this._stack = i, this._generatorFunction = e, this._receiver = n, this._generator = void 0, 
this._yieldHandlers = "function" == typeof o ? [ o ].concat(d) : d, this._yieldedPromise = null, 
this._cancellationPhase = !1;
}
l.inherits(f, i), f.prototype._isResolved = function() {
return null === this._promise;
}, f.prototype._cleanup = function() {
this._promise = this._generator = null, a.cancellation() && null !== this._finallyPromise && (this._finallyPromise._fulfill(), 
this._finallyPromise = null);
}, f.prototype._promiseCancelled = function() {
if (!this._isResolved()) {
var e, n = void 0 !== this._generator.return;
if (n) this._promise._pushContext(), e = p(this._generator.return).call(this._generator, void 0), 
this._promise._popContext(); else {
var r = new t.CancellationError("generator .return() sentinel");
t.coroutine.returnSentinel = r, this._promise._attachExtraTrace(r), this._promise._pushContext(), 
e = p(this._generator.throw).call(this._generator, r), this._promise._popContext();
}
this._cancellationPhase = !0, this._yieldedPromise = null, this._continue(e);
}
}, f.prototype._promiseFulfilled = function(e) {
this._yieldedPromise = null, this._promise._pushContext();
var t = p(this._generator.next).call(this._generator, e);
this._promise._popContext(), this._continue(t);
}, f.prototype._promiseRejected = function(e) {
this._yieldedPromise = null, this._promise._attachExtraTrace(e), this._promise._pushContext();
var t = p(this._generator.throw).call(this._generator, e);
this._promise._popContext(), this._continue(t);
}, f.prototype._resultCancelled = function() {
if (this._yieldedPromise instanceof t) {
var e = this._yieldedPromise;
this._yieldedPromise = null, e.cancel();
}
}, f.prototype.promise = function() {
return this._promise;
}, f.prototype._run = function() {
this._generator = this._generatorFunction.call(this._receiver), this._receiver = this._generatorFunction = void 0, 
this._promiseFulfilled(void 0);
}, f.prototype._continue = function(e) {
var n = this._promise;
if (e === c) return this._cleanup(), this._cancellationPhase ? n.cancel() : n._rejectCallback(e.e, !1);
var r = e.value;
if (!0 === e.done) return this._cleanup(), this._cancellationPhase ? n.cancel() : n._resolveCallback(r);
var i = o(r, this._promise);
if (i instanceof t || null !== (i = function a(e, n, r) {
for (var i = 0; i < n.length; ++i) {
r._pushContext();
var a = p(n[i])(e);
if (r._popContext(), a === c) {
r._pushContext();
var s = t.reject(c.e);
return r._popContext(), s;
}
var u = o(a, r);
if (u instanceof t) return u;
}
return null;
}(i, this._yieldHandlers, this._promise))) {
var s = (i = i._target())._bitField;
0 == (50397184 & s) ? (this._yieldedPromise = i, i._proxy(this, null)) : 0 != (33554432 & s) ? t._async.invoke(this._promiseFulfilled, this, i._value()) : 0 != (16777216 & s) ? t._async.invoke(this._promiseRejected, this, i._reason()) : this._promiseCancelled();
} else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s", String(r)) + "From coroutine:\n" + this._stack.split("\n").slice(1, -7).join("\n")));
}, t.coroutine = function(e, t) {
if ("function" != typeof e) throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
var n = Object(t).yieldHandler, r = f, o = new Error().stack;
return function() {
var t = e.apply(this, arguments), i = new r(void 0, void 0, n, o), a = i.promise();
return i._generator = t, i._promiseFulfilled(void 0), a;
};
}, t.coroutine.addYieldHandler = function(e) {
if ("function" != typeof e) throw new u("expecting a function but got " + l.classString(e));
d.push(e);
}, t.spawn = function(e) {
if (a.deprecated("Promise.spawn()", "Promise.coroutine()"), "function" != typeof e) return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
var r = new f(e, this), o = r.promise();
return r._run(t.spawn), o;
};
};
}, {
"./errors": 12,
"./util": 36
} ],
17: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o, i, a) {
var s = e("./util");
s.canEvaluate, s.tryCatch, s.errorObj, t.join = function() {
var e, t = arguments.length - 1;
t > 0 && "function" == typeof arguments[t] && (e = arguments[t]);
var r = [].slice.call(arguments);
e && r.pop();
var o = new n(r).promise();
return void 0 !== e ? o.spread(e) : o;
};
};
}, {
"./util": 36
} ],
18: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o, i, a) {
var s = t._getDomain, u = e("./util"), l = u.tryCatch, c = u.errorObj, p = t._async;
function d(e, t, n, r) {
this.constructor$(e), this._promise._captureStackTrace();
var o = s();
this._callback = null === o ? t : u.domainBind(o, t), this._preservedValues = r === i ? new Array(this.length()) : null, 
this._limit = n, this._inFlight = 0, this._queue = [], p.invoke(this._asyncInit, this, void 0);
}
function f(e, n, o, i) {
if ("function" != typeof n) return r("expecting a function but got " + u.classString(n));
var a = 0;
if (void 0 !== o) {
if ("object" != typeof o || null === o) return t.reject(new TypeError("options argument must be an object but it is " + u.classString(o)));
if ("number" != typeof o.concurrency) return t.reject(new TypeError("'concurrency' must be a number but it is " + u.classString(o.concurrency)));
a = o.concurrency;
}
return a = "number" == typeof a && isFinite(a) && a >= 1 ? a : 0, new d(e, n, a, i).promise();
}
u.inherits(d, n), d.prototype._asyncInit = function() {
this._init$(void 0, -2);
}, d.prototype._init = function() {}, d.prototype._promiseFulfilled = function(e, n) {
var r = this._values, i = this.length(), s = this._preservedValues, u = this._limit;
if (n < 0) {
if (r[n = -1 * n - 1] = e, u >= 1 && (this._inFlight--, this._drainQueue(), this._isResolved())) return !0;
} else {
if (u >= 1 && this._inFlight >= u) return r[n] = e, this._queue.push(n), !1;
null !== s && (s[n] = e);
var p = this._promise, d = this._callback, f = p._boundValue();
p._pushContext();
var m = l(d).call(f, e, n, i), h = p._popContext();
if (a.checkForgottenReturns(m, h, null !== s ? "Promise.filter" : "Promise.map", p), 
m === c) return this._reject(m.e), !0;
var g = o(m, this._promise);
if (g instanceof t) {
var y = (g = g._target())._bitField;
if (0 == (50397184 & y)) return u >= 1 && this._inFlight++, r[n] = g, g._proxy(this, -1 * (n + 1)), 
!1;
if (0 == (33554432 & y)) return 0 != (16777216 & y) ? (this._reject(g._reason()), 
!0) : (this._cancel(), !0);
m = g._value();
}
r[n] = m;
}
var S = ++this._totalResolved;
return S >= i && (null !== s ? this._filter(r, s) : this._resolve(r), !0);
}, d.prototype._drainQueue = function() {
for (var e = this._queue, t = this._limit, n = this._values; e.length > 0 && this._inFlight < t; ) {
if (this._isResolved()) return;
var r = e.pop();
this._promiseFulfilled(n[r], r);
}
}, d.prototype._filter = function(e, t) {
for (var n = t.length, r = new Array(n), o = 0, i = 0; i < n; ++i) e[i] && (r[o++] = t[i]);
r.length = o, this._resolve(r);
}, d.prototype.preservedValues = function() {
return this._preservedValues;
}, t.prototype.map = function(e, t) {
return f(this, e, t, null);
}, t.map = function(e, t, n, r) {
return f(e, t, n, r);
};
};
}, {
"./util": 36
} ],
19: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o, i) {
var a = e("./util"), s = a.tryCatch;
t.method = function(e) {
if ("function" != typeof e) throw new t.TypeError("expecting a function but got " + a.classString(e));
return function() {
var r = new t(n);
r._captureStackTrace(), r._pushContext();
var o = s(e).apply(this, arguments), a = r._popContext();
return i.checkForgottenReturns(o, a, "Promise.method", r), r._resolveFromSyncValue(o), 
r;
};
}, t.attempt = t.try = function(e) {
if ("function" != typeof e) return o("expecting a function but got " + a.classString(e));
var r, u = new t(n);
if (u._captureStackTrace(), u._pushContext(), arguments.length > 1) {
i.deprecated("calling Promise.try with more than 1 argument");
var l = arguments[1], c = arguments[2];
r = a.isArray(l) ? s(e).apply(c, l) : s(e).call(c, l);
} else r = s(e)();
var p = u._popContext();
return i.checkForgottenReturns(r, p, "Promise.try", u), u._resolveFromSyncValue(r), 
u;
}, t.prototype._resolveFromSyncValue = function(e) {
e === a.errorObj ? this._rejectCallback(e.e, !1) : this._resolveCallback(e, !0);
};
};
}, {
"./util": 36
} ],
20: [ function(e, t, n) {
"use strict";
var r = e("./util"), o = r.maybeWrapAsError, i = e("./errors"), a = i.OperationalError, s = e("./es5"), u = /^(?:name|message|stack|cause)$/;
function l(e) {
var t;
if (function n(e) {
return e instanceof Error && s.getPrototypeOf(e) === Error.prototype;
}(e)) {
(t = new a(e)).name = e.name, t.message = e.message, t.stack = e.stack;
for (var o = s.keys(e), i = 0; i < o.length; ++i) {
var l = o[i];
u.test(l) || (t[l] = e[l]);
}
return t;
}
return r.markAsOriginatingFromRejection(e), e;
}
t.exports = function c(e, t) {
return function(n, r) {
if (null !== e) {
if (n) {
var i = l(o(n));
e._attachExtraTrace(i), e._reject(i);
} else if (t) {
var a = [].slice.call(arguments, 1);
e._fulfill(a);
} else e._fulfill(r);
e = null;
}
};
};
}, {
"./errors": 12,
"./es5": 13,
"./util": 36
} ],
21: [ function(e, t, n) {
"use strict";
t.exports = function(t) {
var n = e("./util"), r = t._async, o = n.tryCatch, i = n.errorObj;
function a(e, t) {
if (!n.isArray(e)) return s.call(this, e, t);
var a = o(t).apply(this._boundValue(), [ null ].concat(e));
a === i && r.throwLater(a.e);
}
function s(e, t) {
var n = this._boundValue(), a = void 0 === e ? o(t).call(n, null) : o(t).call(n, null, e);
a === i && r.throwLater(a.e);
}
function u(e, t) {
if (!e) {
var n = new Error(e + "");
n.cause = e, e = n;
}
var a = o(t).call(this._boundValue(), e);
a === i && r.throwLater(a.e);
}
t.prototype.asCallback = t.prototype.nodeify = function(e, t) {
if ("function" == typeof e) {
var n = s;
void 0 !== t && Object(t).spread && (n = a), this._then(n, u, void 0, this, e);
}
return this;
};
};
}, {
"./util": 36
} ],
22: [ function(e, n, r) {
"use strict";
n.exports = function() {
var r = function() {
return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n");
}, o = function() {
return new R.PromiseInspection(this._target());
}, i = function(e) {
return R.reject(new m(e));
};
function a() {}
var s, u = {}, l = e("./util");
s = l.isNode ? function() {
var e = t.domain;
return void 0 === e && (e = null), e;
} : function() {
return null;
}, l.notEnumerableProp(R, "_getDomain", s);
var c = e("./es5"), p = e("./async"), d = new p();
c.defineProperty(R, "_async", {
value: d
});
var f = e("./errors"), m = R.TypeError = f.TypeError;
R.RangeError = f.RangeError;
var h = R.CancellationError = f.CancellationError;
R.TimeoutError = f.TimeoutError, R.OperationalError = f.OperationalError, R.RejectionError = f.OperationalError, 
R.AggregateError = f.AggregateError;
var g = function() {}, y = {}, S = {}, v = e("./thenables")(R, g), _ = e("./promise_array")(R, g, v, i, a), b = e("./context")(R), T = b.create, E = e("./debuggability")(R, b), C = (E.CapturedTrace, 
e("./finally")(R, v, S)), I = e("./catch_filter")(S), A = e("./nodeback"), w = l.errorObj, P = l.tryCatch;
function R(e) {
e !== g && function t(e, n) {
if (null == e || e.constructor !== R) throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");
if ("function" != typeof n) throw new m("expecting a function but got " + l.classString(n));
}(this, e), this._bitField = 0, this._fulfillmentHandler0 = void 0, this._rejectionHandler0 = void 0, 
this._promise0 = void 0, this._receiver0 = void 0, this._resolveFromExecutor(e), 
this._promiseCreated(), this._fireEvent("promiseCreated", this);
}
function O(e) {
this.promise._resolveCallback(e);
}
function x(e) {
this.promise._rejectCallback(e, !1);
}
function k(e) {
var t = new R(g);
t._fulfillmentHandler0 = e, t._rejectionHandler0 = e, t._promise0 = e, t._receiver0 = e;
}
return R.prototype.toString = function() {
return "[object Promise]";
}, R.prototype.caught = R.prototype.catch = function(e) {
var t = arguments.length;
if (t > 1) {
var n, r = new Array(t - 1), o = 0;
for (n = 0; n < t - 1; ++n) {
var a = arguments[n];
if (!l.isObject(a)) return i("Catch statement predicate: expecting an object but got " + l.classString(a));
r[o++] = a;
}
return r.length = o, e = arguments[n], this.then(void 0, I(r, e, this));
}
return this.then(void 0, e);
}, R.prototype.reflect = function() {
return this._then(o, o, void 0, this, void 0);
}, R.prototype.then = function(e, t) {
if (E.warnings() && arguments.length > 0 && "function" != typeof e && "function" != typeof t) {
var n = ".then() only accepts functions but was passed: " + l.classString(e);
arguments.length > 1 && (n += ", " + l.classString(t)), this._warn(n);
}
return this._then(e, t, void 0, void 0, void 0);
}, R.prototype.done = function(e, t) {
var n = this._then(e, t, void 0, void 0, void 0);
n._setIsFinal();
}, R.prototype.spread = function(e) {
return "function" != typeof e ? i("expecting a function but got " + l.classString(e)) : this.all()._then(e, void 0, void 0, y, void 0);
}, R.prototype.toJSON = function() {
var e = {
isFulfilled: !1,
isRejected: !1,
fulfillmentValue: void 0,
rejectionReason: void 0
};
return this.isFulfilled() ? (e.fulfillmentValue = this.value(), e.isFulfilled = !0) : this.isRejected() && (e.rejectionReason = this.reason(), 
e.isRejected = !0), e;
}, R.prototype.all = function() {
return arguments.length > 0 && this._warn(".all() was passed arguments but it does not take any"), 
new _(this).promise();
}, R.prototype.error = function(e) {
return this.caught(l.originatesFromRejection, e);
}, R.getNewLibraryCopy = n.exports, R.is = function(e) {
return e instanceof R;
}, R.fromNode = R.fromCallback = function(e) {
var t = new R(g);
t._captureStackTrace();
var n = arguments.length > 1 && !!Object(arguments[1]).multiArgs, r = P(e)(A(t, n));
return r === w && t._rejectCallback(r.e, !0), t._isFateSealed() || t._setAsyncGuaranteed(), 
t;
}, R.all = function(e) {
return new _(e).promise();
}, R.cast = function(e) {
var t = v(e);
return t instanceof R || ((t = new R(g))._captureStackTrace(), t._setFulfilled(), 
t._rejectionHandler0 = e), t;
}, R.resolve = R.fulfilled = R.cast, R.reject = R.rejected = function(e) {
var t = new R(g);
return t._captureStackTrace(), t._rejectCallback(e, !0), t;
}, R.setScheduler = function(e) {
if ("function" != typeof e) throw new m("expecting a function but got " + l.classString(e));
return d.setScheduler(e);
}, R.prototype._then = function(e, t, n, r, o) {
var i = void 0 !== o, a = i ? o : new R(g), u = this._target(), c = u._bitField;
i || (a._propagateFrom(this, 3), a._captureStackTrace(), void 0 === r && 0 != (2097152 & this._bitField) && (r = 0 != (50397184 & c) ? this._boundValue() : u === this ? void 0 : this._boundTo), 
this._fireEvent("promiseChained", this, a));
var p = s();
if (0 != (50397184 & c)) {
var f, m, y = u._settlePromiseCtx;
0 != (33554432 & c) ? (m = u._rejectionHandler0, f = e) : 0 != (16777216 & c) ? (m = u._fulfillmentHandler0, 
f = t, u._unsetRejectionIsUnhandled()) : (y = u._settlePromiseLateCancellationObserver, 
m = new h("late cancellation observer"), u._attachExtraTrace(m), f = t), d.invoke(y, u, {
handler: null === p ? f : "function" == typeof f && l.domainBind(p, f),
promise: a,
receiver: r,
value: m
});
} else u._addCallbacks(e, t, a, r, p);
return a;
}, R.prototype._length = function() {
return 65535 & this._bitField;
}, R.prototype._isFateSealed = function() {
return 0 != (117506048 & this._bitField);
}, R.prototype._isFollowing = function() {
return 67108864 == (67108864 & this._bitField);
}, R.prototype._setLength = function(e) {
this._bitField = -65536 & this._bitField | 65535 & e;
}, R.prototype._setFulfilled = function() {
this._bitField = 33554432 | this._bitField, this._fireEvent("promiseFulfilled", this);
}, R.prototype._setRejected = function() {
this._bitField = 16777216 | this._bitField, this._fireEvent("promiseRejected", this);
}, R.prototype._setFollowing = function() {
this._bitField = 67108864 | this._bitField, this._fireEvent("promiseResolved", this);
}, R.prototype._setIsFinal = function() {
this._bitField = 4194304 | this._bitField;
}, R.prototype._isFinal = function() {
return (4194304 & this._bitField) > 0;
}, R.prototype._unsetCancelled = function() {
this._bitField = -65537 & this._bitField;
}, R.prototype._setCancelled = function() {
this._bitField = 65536 | this._bitField, this._fireEvent("promiseCancelled", this);
}, R.prototype._setWillBeCancelled = function() {
this._bitField = 8388608 | this._bitField;
}, R.prototype._setAsyncGuaranteed = function() {
d.hasCustomScheduler() || (this._bitField = 134217728 | this._bitField);
}, R.prototype._receiverAt = function(e) {
var t = 0 === e ? this._receiver0 : this[4 * e - 4 + 3];
if (t !== u) return void 0 === t && this._isBound() ? this._boundValue() : t;
}, R.prototype._promiseAt = function(e) {
return this[4 * e - 4 + 2];
}, R.prototype._fulfillmentHandlerAt = function(e) {
return this[4 * e - 4 + 0];
}, R.prototype._rejectionHandlerAt = function(e) {
return this[4 * e - 4 + 1];
}, R.prototype._boundValue = function() {}, R.prototype._migrateCallback0 = function(e) {
e._bitField;
var t = e._fulfillmentHandler0, n = e._rejectionHandler0, r = e._promise0, o = e._receiverAt(0);
void 0 === o && (o = u), this._addCallbacks(t, n, r, o, null);
}, R.prototype._migrateCallbackAt = function(e, t) {
var n = e._fulfillmentHandlerAt(t), r = e._rejectionHandlerAt(t), o = e._promiseAt(t), i = e._receiverAt(t);
void 0 === i && (i = u), this._addCallbacks(n, r, o, i, null);
}, R.prototype._addCallbacks = function(e, t, n, r, o) {
var i = this._length();
if (i >= 65531 && (i = 0, this._setLength(0)), 0 === i) this._promise0 = n, this._receiver0 = r, 
"function" == typeof e && (this._fulfillmentHandler0 = null === o ? e : l.domainBind(o, e)), 
"function" == typeof t && (this._rejectionHandler0 = null === o ? t : l.domainBind(o, t)); else {
var a = 4 * i - 4;
this[a + 2] = n, this[a + 3] = r, "function" == typeof e && (this[a + 0] = null === o ? e : l.domainBind(o, e)), 
"function" == typeof t && (this[a + 1] = null === o ? t : l.domainBind(o, t));
}
return this._setLength(i + 1), i;
}, R.prototype._proxy = function(e, t) {
this._addCallbacks(void 0, void 0, t, e, null);
}, R.prototype._resolveCallback = function(e, t) {
if (0 == (117506048 & this._bitField)) {
if (e === this) return this._rejectCallback(r(), !1);
var n = v(e, this);
if (!(n instanceof R)) return this._fulfill(e);
t && this._propagateFrom(n, 2);
var o = n._target();
if (o !== this) {
var i = o._bitField;
if (0 == (50397184 & i)) {
var a = this._length();
a > 0 && o._migrateCallback0(this);
for (var s = 1; s < a; ++s) o._migrateCallbackAt(this, s);
this._setFollowing(), this._setLength(0), this._setFollowee(o);
} else if (0 != (33554432 & i)) this._fulfill(o._value()); else if (0 != (16777216 & i)) this._reject(o._reason()); else {
var u = new h("late cancellation observer");
o._attachExtraTrace(u), this._reject(u);
}
} else this._reject(r());
}
}, R.prototype._rejectCallback = function(e, t, n) {
var r = l.ensureErrorObject(e), o = r === e;
if (!o && !n && E.warnings()) {
var i = "a promise was rejected with a non-error: " + l.classString(e);
this._warn(i, !0);
}
this._attachExtraTrace(r, !!t && o), this._reject(e);
}, R.prototype._resolveFromExecutor = function(e) {
if (e !== g) {
var t = this;
this._captureStackTrace(), this._pushContext();
var n = !0, r = this._execute(e, function(e) {
t._resolveCallback(e);
}, function(e) {
t._rejectCallback(e, n);
});
n = !1, this._popContext(), void 0 !== r && t._rejectCallback(r, !0);
}
}, R.prototype._settlePromiseFromHandler = function(e, t, n, r) {
var o = r._bitField;
if (0 == (65536 & o)) {
var i;
r._pushContext(), t === y ? n && "number" == typeof n.length ? i = P(e).apply(this._boundValue(), n) : (i = w).e = new m("cannot .spread() a non-array: " + l.classString(n)) : i = P(e).call(t, n);
var a = r._popContext();
0 == (65536 & (o = r._bitField)) && (i === S ? r._reject(n) : i === w ? r._rejectCallback(i.e, !1) : (E.checkForgottenReturns(i, a, "", r, this), 
r._resolveCallback(i)));
}
}, R.prototype._target = function() {
for (var e = this; e._isFollowing(); ) e = e._followee();
return e;
}, R.prototype._followee = function() {
return this._rejectionHandler0;
}, R.prototype._setFollowee = function(e) {
this._rejectionHandler0 = e;
}, R.prototype._settlePromise = function(e, t, n, r) {
var i = e instanceof R, s = this._bitField, u = 0 != (134217728 & s);
0 != (65536 & s) ? (i && e._invokeInternalOnCancel(), n instanceof C && n.isFinallyHandler() ? (n.cancelPromise = e, 
P(t).call(n, r) === w && e._reject(w.e)) : t === o ? e._fulfill(o.call(n)) : n instanceof a ? n._promiseCancelled(e) : i || e instanceof _ ? e._cancel() : n.cancel()) : "function" == typeof t ? i ? (u && e._setAsyncGuaranteed(), 
this._settlePromiseFromHandler(t, n, r, e)) : t.call(n, r, e) : n instanceof a ? n._isResolved() || (0 != (33554432 & s) ? n._promiseFulfilled(r, e) : n._promiseRejected(r, e)) : i && (u && e._setAsyncGuaranteed(), 
0 != (33554432 & s) ? e._fulfill(r) : e._reject(r));
}, R.prototype._settlePromiseLateCancellationObserver = function(e) {
var t = e.handler, n = e.promise, r = e.receiver, o = e.value;
"function" == typeof t ? n instanceof R ? this._settlePromiseFromHandler(t, r, o, n) : t.call(r, o, n) : n instanceof R && n._reject(o);
}, R.prototype._settlePromiseCtx = function(e) {
this._settlePromise(e.promise, e.handler, e.receiver, e.value);
}, R.prototype._settlePromise0 = function(e, t, n) {
var r = this._promise0, o = this._receiverAt(0);
this._promise0 = void 0, this._receiver0 = void 0, this._settlePromise(r, e, o, t);
}, R.prototype._clearCallbackDataAtIndex = function(e) {
var t = 4 * e - 4;
this[t + 2] = this[t + 3] = this[t + 0] = this[t + 1] = void 0;
}, R.prototype._fulfill = function(e) {
var t = this._bitField;
if (!((117506048 & t) >>> 16)) {
if (e === this) {
var n = r();
return this._attachExtraTrace(n), this._reject(n);
}
this._setFulfilled(), this._rejectionHandler0 = e, (65535 & t) > 0 && (0 != (134217728 & t) ? this._settlePromises() : d.settlePromises(this));
}
}, R.prototype._reject = function(e) {
var t = this._bitField;
if (!((117506048 & t) >>> 16)) {
if (this._setRejected(), this._fulfillmentHandler0 = e, this._isFinal()) return d.fatalError(e, l.isNode);
(65535 & t) > 0 ? d.settlePromises(this) : this._ensurePossibleRejectionHandled();
}
}, R.prototype._fulfillPromises = function(e, t) {
for (var n = 1; n < e; n++) {
var r = this._fulfillmentHandlerAt(n), o = this._promiseAt(n), i = this._receiverAt(n);
this._clearCallbackDataAtIndex(n), this._settlePromise(o, r, i, t);
}
}, R.prototype._rejectPromises = function(e, t) {
for (var n = 1; n < e; n++) {
var r = this._rejectionHandlerAt(n), o = this._promiseAt(n), i = this._receiverAt(n);
this._clearCallbackDataAtIndex(n), this._settlePromise(o, r, i, t);
}
}, R.prototype._settlePromises = function() {
var e = this._bitField, t = 65535 & e;
if (t > 0) {
if (0 != (16842752 & e)) {
var n = this._fulfillmentHandler0;
this._settlePromise0(this._rejectionHandler0, n, e), this._rejectPromises(t, n);
} else {
var r = this._rejectionHandler0;
this._settlePromise0(this._fulfillmentHandler0, r, e), this._fulfillPromises(t, r);
}
this._setLength(0);
}
this._clearCancellationData();
}, R.prototype._settledValue = function() {
var e = this._bitField;
return 0 != (33554432 & e) ? this._rejectionHandler0 : 0 != (16777216 & e) ? this._fulfillmentHandler0 : void 0;
}, R.defer = R.pending = function() {
E.deprecated("Promise.defer", "new Promise");
var e = new R(g);
return {
promise: e,
resolve: O,
reject: x
};
}, l.notEnumerableProp(R, "_makeSelfResolutionError", r), e("./method")(R, g, v, i, E), 
e("./bind")(R, g, v, E), e("./cancel")(R, _, i, E), e("./direct_resolve")(R), e("./synchronous_inspection")(R), 
e("./join")(R, _, v, g, d, s), R.Promise = R, R.version = "3.5.0", e("./map.js")(R, _, i, v, g, E), 
e("./call_get.js")(R), e("./using.js")(R, i, v, T, g, E), e("./timers.js")(R, g, E), 
e("./generators.js")(R, i, g, v, a, E), e("./nodeify.js")(R), e("./promisify.js")(R, g), 
e("./props.js")(R, _, v, i), e("./race.js")(R, g, v, i), e("./reduce.js")(R, _, i, v, g, E), 
e("./settle.js")(R, _, E), e("./some.js")(R, _, i), e("./filter.js")(R, g), e("./each.js")(R, g), 
e("./any.js")(R), l.toFastProperties(R), l.toFastProperties(R.prototype), k({
a: 1
}), k({
b: 2
}), k({
c: 3
}), k(1), k(function() {}), k(void 0), k(!1), k(new R(g)), E.setBounds(p.firstLineError, l.lastLineError), 
R;
};
}, {
"./any.js": 1,
"./async": 2,
"./bind": 3,
"./call_get.js": 5,
"./cancel": 6,
"./catch_filter": 7,
"./context": 8,
"./debuggability": 9,
"./direct_resolve": 10,
"./each.js": 11,
"./errors": 12,
"./es5": 13,
"./filter.js": 14,
"./finally": 15,
"./generators.js": 16,
"./join": 17,
"./map.js": 18,
"./method": 19,
"./nodeback": 20,
"./nodeify.js": 21,
"./promise_array": 23,
"./promisify.js": 24,
"./props.js": 25,
"./race.js": 27,
"./reduce.js": 28,
"./settle.js": 30,
"./some.js": 31,
"./synchronous_inspection": 32,
"./thenables": 33,
"./timers.js": 34,
"./using.js": 35,
"./util": 36
} ],
23: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o, i) {
var a = e("./util");
function s(e) {
var r = this._promise = new t(n);
e instanceof t && r._propagateFrom(e, 3), r._setOnCancel(this), this._values = e, 
this._length = 0, this._totalResolved = 0, this._init(void 0, -2);
}
return a.isArray, a.inherits(s, i), s.prototype.length = function() {
return this._length;
}, s.prototype.promise = function() {
return this._promise;
}, s.prototype._init = function e(n, i) {
var s = r(this._values, this._promise);
if (s instanceof t) {
var u = (s = s._target())._bitField;
if (this._values = s, 0 == (50397184 & u)) return this._promise._setAsyncGuaranteed(), 
s._then(e, this._reject, void 0, this, i);
if (0 == (33554432 & u)) return 0 != (16777216 & u) ? this._reject(s._reason()) : this._cancel();
s = s._value();
}
if (null !== (s = a.asArray(s))) 0 !== s.length ? this._iterate(s) : -5 === i ? this._resolveEmptyArray() : this._resolve(function l(e) {
switch (e) {
case -2:
return [];

case -3:
return {};

case -6:
return new Map();
}
}(i)); else {
var c = o("expecting an array or an iterable object but got " + a.classString(s)).reason();
this._promise._rejectCallback(c, !1);
}
}, s.prototype._iterate = function(e) {
var n = this.getActualLength(e.length);
this._length = n, this._values = this.shouldCopyValues() ? new Array(n) : this._values;
for (var o = this._promise, i = !1, a = null, s = 0; s < n; ++s) {
var u = r(e[s], o);
u instanceof t ? (u = u._target(), a = u._bitField) : a = null, i ? null !== a && u.suppressUnhandledRejections() : null !== a ? 0 == (50397184 & a) ? (u._proxy(this, s), 
this._values[s] = u) : i = 0 != (33554432 & a) ? this._promiseFulfilled(u._value(), s) : 0 != (16777216 & a) ? this._promiseRejected(u._reason(), s) : this._promiseCancelled(s) : i = this._promiseFulfilled(u, s);
}
i || o._setAsyncGuaranteed();
}, s.prototype._isResolved = function() {
return null === this._values;
}, s.prototype._resolve = function(e) {
this._values = null, this._promise._fulfill(e);
}, s.prototype._cancel = function() {
!this._isResolved() && this._promise._isCancellable() && (this._values = null, this._promise._cancel());
}, s.prototype._reject = function(e) {
this._values = null, this._promise._rejectCallback(e, !1);
}, s.prototype._promiseFulfilled = function(e, t) {
this._values[t] = e;
var n = ++this._totalResolved;
return n >= this._length && (this._resolve(this._values), !0);
}, s.prototype._promiseCancelled = function() {
return this._cancel(), !0;
}, s.prototype._promiseRejected = function(e) {
return this._totalResolved++, this._reject(e), !0;
}, s.prototype._resultCancelled = function() {
if (!this._isResolved()) {
var e = this._values;
if (this._cancel(), e instanceof t) e.cancel(); else for (var n = 0; n < e.length; ++n) e[n] instanceof t && e[n].cancel();
}
}, s.prototype.shouldCopyValues = function() {
return !0;
}, s.prototype.getActualLength = function(e) {
return e;
}, s;
};
}, {
"./util": 36
} ],
24: [ function(e, t, n) {
"use strict";
t.exports = function(t, n) {
var r = {}, o = e("./util"), i = e("./nodeback"), a = o.withAppended, s = o.maybeWrapAsError, u = o.canEvaluate, l = e("./errors").TypeError, c = {
__isPromisified__: !0
}, p = new RegExp("^(?:" + [ "arity", "length", "name", "arguments", "caller", "callee", "prototype", "__isPromisified__" ].join("|") + ")$"), d = function(e) {
return o.isIdentifier(e) && "_" !== e.charAt(0) && "constructor" !== e;
};
function f(e) {
return !p.test(e);
}
function m(e) {
try {
return !0 === e.__isPromisified__;
} catch (e) {
return !1;
}
}
function h(e, t, n) {
var r = o.getDataPropertyOrDefault(e, t + n, c);
return !!r && m(r);
}
function g(e, t, n, r) {
for (var i = o.inheritedDataKeys(e), a = [], s = 0; s < i.length; ++s) {
var u = i[s], c = e[u], p = r === d || d(u, c, e);
"function" != typeof c || m(c) || h(e, u, t) || !r(u, c, e, p) || a.push(u, c);
}
return function f(e, t, n) {
for (var r = 0; r < e.length; r += 2) {
var o = e[r];
if (n.test(o)) for (var i = o.replace(n, ""), a = 0; a < e.length; a += 2) if (e[a] === i) throw new l("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s", t));
}
}(a, t, n), a;
}
var y = function(e) {
return e.replace(/([$])/, "\\$");
}, S = u ? void 0 : function v(e, u, l, c, __, p) {
var d = function() {
return this;
}(), f = e;
function m() {
var o = u;
u === r && (o = this);
var l = new t(n);
l._captureStackTrace();
var c = "string" == typeof f && this !== d ? this[f] : e, m = i(l, p);
try {
c.apply(o, a(arguments, m));
} catch (e) {
l._rejectCallback(s(e), !0, !0);
}
return l._isFateSealed() || l._setAsyncGuaranteed(), l;
}
return "string" == typeof f && (e = c), o.notEnumerableProp(m, "__isPromisified__", !0), 
m;
};
function _(e, t, n, i, a) {
for (var s = new RegExp(y(t) + "$"), u = g(e, t, s, n), l = 0, c = u.length; l < c; l += 2) {
var p = u[l], d = u[l + 1], f = p + t;
if (i === S) e[f] = S(p, r, p, d, t, a); else {
var m = i(d, function() {
return S(p, r, p, d, t, a);
});
o.notEnumerableProp(m, "__isPromisified__", !0), e[f] = m;
}
}
return o.toFastProperties(e), e;
}
t.promisify = function(e, t) {
if ("function" != typeof e) throw new l("expecting a function but got " + o.classString(e));
if (m(e)) return e;
var n = void 0 === (t = Object(t)).context ? r : t.context, i = !!t.multiArgs, a = function s(e, t, n) {
return S(e, t, void 0, e, null, n);
}(e, n, i);
return o.copyDescriptors(e, a, f), a;
}, t.promisifyAll = function(e, t) {
if ("function" != typeof e && "object" != typeof e) throw new l("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");
var n = !!(t = Object(t)).multiArgs, r = t.suffix;
"string" != typeof r && (r = "Async");
var i = t.filter;
"function" != typeof i && (i = d);
var a = t.promisifier;
if ("function" != typeof a && (a = S), !o.isIdentifier(r)) throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");
for (var s = o.inheritedDataKeys(e), u = 0; u < s.length; ++u) {
var c = e[s[u]];
"constructor" !== s[u] && o.isClass(c) && (_(c.prototype, r, i, a, n), _(c, r, i, a, n));
}
return _(e, r, i, a, n);
};
};
}, {
"./errors": 12,
"./nodeback": 20,
"./util": 36
} ],
25: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o) {
var i, a = e("./util"), s = a.isObject, u = e("./es5");
"function" == typeof Map && (i = Map);
var l = function() {
var e = 0, t = 0;
function n(n, r) {
this[e] = n, this[e + t] = r, e++;
}
return function r(o) {
t = o.size, e = 0;
var i = new Array(2 * o.size);
return o.forEach(n, i), i;
};
}();
function c(e) {
var t, n = !1;
if (void 0 !== i && e instanceof i) t = l(e), n = !0; else {
var r = u.keys(e), o = r.length;
t = new Array(2 * o);
for (var a = 0; a < o; ++a) {
var s = r[a];
t[a] = e[s], t[a + o] = s;
}
}
this.constructor$(t), this._isMap = n, this._init$(void 0, n ? -6 : -3);
}
function p(e) {
var n, i = r(e);
return s(i) ? (n = i instanceof t ? i._then(t.props, void 0, void 0, void 0, void 0) : new c(i).promise(), 
i instanceof t && n._propagateFrom(i, 2), n) : o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n");
}
a.inherits(c, n), c.prototype._init = function() {}, c.prototype._promiseFulfilled = function(e, t) {
this._values[t] = e;
var n = ++this._totalResolved;
if (n >= this._length) {
var r;
if (this._isMap) r = function(e) {
for (var t = new i(), n = e.length / 2 | 0, r = 0; r < n; ++r) {
var o = e[n + r], a = e[r];
t.set(o, a);
}
return t;
}(this._values); else {
r = {};
for (var o = this.length(), a = 0, s = this.length(); a < s; ++a) r[this._values[a + o]] = this._values[a];
}
return this._resolve(r), !0;
}
return !1;
}, c.prototype.shouldCopyValues = function() {
return !1;
}, c.prototype.getActualLength = function(e) {
return e >> 1;
}, t.prototype.props = function() {
return p(this);
}, t.props = function(e) {
return p(e);
};
};
}, {
"./es5": 13,
"./util": 36
} ],
26: [ function(e, t, n) {
"use strict";
function r(e) {
this._capacity = e, this._length = 0, this._front = 0;
}
r.prototype._willBeOverCapacity = function(e) {
return this._capacity < e;
}, r.prototype._pushOne = function(e) {
var t = this.length();
this._checkCapacity(t + 1);
var n = this._front + t & this._capacity - 1;
this[n] = e, this._length = t + 1;
}, r.prototype.push = function(e, t, n) {
var r = this.length() + 3;
if (this._willBeOverCapacity(r)) return this._pushOne(e), this._pushOne(t), void this._pushOne(n);
var o = this._front + r - 3;
this._checkCapacity(r);
var i = this._capacity - 1;
this[o + 0 & i] = e, this[o + 1 & i] = t, this[o + 2 & i] = n, this._length = r;
}, r.prototype.shift = function() {
var e = this._front, t = this[e];
return this[e] = void 0, this._front = e + 1 & this._capacity - 1, this._length--, 
t;
}, r.prototype.length = function() {
return this._length;
}, r.prototype._checkCapacity = function(e) {
this._capacity < e && this._resizeTo(this._capacity << 1);
}, r.prototype._resizeTo = function(e) {
var t = this._capacity;
this._capacity = e;
var n = this._front, r = this._length, o = n + r & t - 1;
!function i(e, t, n, r, o) {
for (var i = 0; i < o; ++i) n[i + r] = e[i + t], e[i + t] = void 0;
}(this, 0, this, t, o);
}, t.exports = r;
}, {} ],
27: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o) {
var i = e("./util"), a = function(e) {
return e.then(function(t) {
return s(t, e);
});
};
function s(e, s) {
var u = r(e);
if (u instanceof t) return a(u);
if (null === (e = i.asArray(e))) return o("expecting an array or an iterable object but got " + i.classString(e));
var l = new t(n);
void 0 !== s && l._propagateFrom(s, 3);
for (var c = l._fulfill, p = l._reject, d = 0, f = e.length; d < f; ++d) {
var m = e[d];
(void 0 !== m || d in e) && t.cast(m)._then(c, p, void 0, l, null);
}
return l;
}
t.race = function(e) {
return s(e, void 0);
}, t.prototype.race = function() {
return s(this, void 0);
};
};
}, {
"./util": 36
} ],
28: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o, i, a) {
var s = t._getDomain, u = e("./util"), l = u.tryCatch;
function c(e, n, r, o) {
this.constructor$(e);
var a = s();
this._fn = null === a ? n : u.domainBind(a, n), void 0 !== r && (r = t.resolve(r))._attachCancellationCallback(this), 
this._initialValue = r, this._currentCancellable = null, this._eachValues = o === i ? Array(this._length) : 0 === o ? null : void 0, 
this._promise._captureStackTrace(), this._init$(void 0, -5);
}
function p(e, t) {
this.isFulfilled() ? t._resolve(e) : t._reject(e);
}
function d(e, t, n, o) {
if ("function" != typeof t) return r("expecting a function but got " + u.classString(t));
var i = new c(e, t, n, o);
return i.promise();
}
function f(e) {
this.accum = e, this.array._gotAccum(e);
var n = o(this.value, this.array._promise);
return n instanceof t ? (this.array._currentCancellable = n, n._then(m, void 0, void 0, this, void 0)) : m.call(this, n);
}
function m(e) {
var n, r = this.array, o = r._promise, i = l(r._fn);
o._pushContext(), (n = void 0 !== r._eachValues ? i.call(o._boundValue(), e, this.index, this.length) : i.call(o._boundValue(), this.accum, e, this.index, this.length)) instanceof t && (r._currentCancellable = n);
var s = o._popContext();
return a.checkForgottenReturns(n, s, void 0 !== r._eachValues ? "Promise.each" : "Promise.reduce", o), 
n;
}
u.inherits(c, n), c.prototype._gotAccum = function(e) {
void 0 !== this._eachValues && null !== this._eachValues && e !== i && this._eachValues.push(e);
}, c.prototype._eachComplete = function(e) {
return null !== this._eachValues && this._eachValues.push(e), this._eachValues;
}, c.prototype._init = function() {}, c.prototype._resolveEmptyArray = function() {
this._resolve(void 0 !== this._eachValues ? this._eachValues : this._initialValue);
}, c.prototype.shouldCopyValues = function() {
return !1;
}, c.prototype._resolve = function(e) {
this._promise._resolveCallback(e), this._values = null;
}, c.prototype._resultCancelled = function(e) {
if (e === this._initialValue) return this._cancel();
this._isResolved() || (this._resultCancelled$(), this._currentCancellable instanceof t && this._currentCancellable.cancel(), 
this._initialValue instanceof t && this._initialValue.cancel());
}, c.prototype._iterate = function(e) {
var n, r;
this._values = e;
var o = e.length;
if (void 0 !== this._initialValue ? (n = this._initialValue, r = 0) : (n = t.resolve(e[0]), 
r = 1), this._currentCancellable = n, !n.isRejected()) for (;r < o; ++r) {
var i = {
accum: null,
value: e[r],
index: r,
length: o,
array: this
};
n = n._then(f, void 0, void 0, i, void 0);
}
void 0 !== this._eachValues && (n = n._then(this._eachComplete, void 0, void 0, this, void 0)), 
n._then(p, p, void 0, n, this);
}, t.prototype.reduce = function(e, t) {
return d(this, e, t, null);
}, t.reduce = function(e, t, n, r) {
return d(e, t, n, r);
};
};
}, {
"./util": 36
} ],
29: [ function(e, o, i) {
"use strict";
var a, s, u, l, c, p = e("./util"), d = p.getNativePromise();
if (p.isNode && "undefined" == typeof MutationObserver) {
var f = n.setImmediate, m = t.nextTick;
a = p.isRecentNode ? function(e) {
f.call(n, e);
} : function(e) {
m.call(t, e);
};
} else if ("function" == typeof d && "function" == typeof d.resolve) {
var h = d.resolve();
a = function(e) {
h.then(e);
};
} else a = "undefined" == typeof MutationObserver || "undefined" != typeof window && window.navigator && (window.navigator.standalone || window.cordova) ? void 0 !== r ? function(e) {
r(e);
} : "undefined" != typeof setTimeout ? function(e) {
setTimeout(e, 0);
} : function() {
throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");
} : (s = document.createElement("div"), u = {
attributes: !0
}, l = !1, c = document.createElement("div"), new MutationObserver(function() {
s.classList.toggle("foo"), l = !1;
}).observe(c, u), function e(t) {
var n = new MutationObserver(function() {
n.disconnect(), t();
});
n.observe(s, u), l || (l = !0, c.classList.toggle("foo"));
});
o.exports = a;
}, {
"./util": 36
} ],
30: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r) {
var o = t.PromiseInspection, i = e("./util");
function a(e) {
this.constructor$(e);
}
i.inherits(a, n), a.prototype._promiseResolved = function(e, t) {
this._values[e] = t;
var n = ++this._totalResolved;
return n >= this._length && (this._resolve(this._values), !0);
}, a.prototype._promiseFulfilled = function(e, t) {
var n = new o();
return n._bitField = 33554432, n._settledValueField = e, this._promiseResolved(t, n);
}, a.prototype._promiseRejected = function(e, t) {
var n = new o();
return n._bitField = 16777216, n._settledValueField = e, this._promiseResolved(t, n);
}, t.settle = function(e) {
return r.deprecated(".settle()", ".reflect()"), new a(e).promise();
}, t.prototype.settle = function() {
return t.settle(this);
};
};
}, {
"./util": 36
} ],
31: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r) {
var o = e("./util"), i = e("./errors").RangeError, a = e("./errors").AggregateError, s = o.isArray, u = {};
function l(e) {
this.constructor$(e), this._howMany = 0, this._unwrap = !1, this._initialized = !1;
}
function c(e, t) {
if ((0 | t) !== t || t < 0) return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");
var n = new l(e), o = n.promise();
return n.setHowMany(t), n.init(), o;
}
o.inherits(l, n), l.prototype._init = function() {
if (this._initialized) if (0 !== this._howMany) {
this._init$(void 0, -5);
var e = s(this._values);
!this._isResolved() && e && this._howMany > this._canPossiblyFulfill() && this._reject(this._getRangeError(this.length()));
} else this._resolve([]);
}, l.prototype.init = function() {
this._initialized = !0, this._init();
}, l.prototype.setUnwrap = function() {
this._unwrap = !0;
}, l.prototype.howMany = function() {
return this._howMany;
}, l.prototype.setHowMany = function(e) {
this._howMany = e;
}, l.prototype._promiseFulfilled = function(e) {
return this._addFulfilled(e), this._fulfilled() === this.howMany() && (this._values.length = this.howMany(), 
1 === this.howMany() && this._unwrap ? this._resolve(this._values[0]) : this._resolve(this._values), 
!0);
}, l.prototype._promiseRejected = function(e) {
return this._addRejected(e), this._checkOutcome();
}, l.prototype._promiseCancelled = function() {
return this._values instanceof t || null == this._values ? this._cancel() : (this._addRejected(u), 
this._checkOutcome());
}, l.prototype._checkOutcome = function() {
if (this.howMany() > this._canPossiblyFulfill()) {
for (var e = new a(), t = this.length(); t < this._values.length; ++t) this._values[t] !== u && e.push(this._values[t]);
return e.length > 0 ? this._reject(e) : this._cancel(), !0;
}
return !1;
}, l.prototype._fulfilled = function() {
return this._totalResolved;
}, l.prototype._rejected = function() {
return this._values.length - this.length();
}, l.prototype._addRejected = function(e) {
this._values.push(e);
}, l.prototype._addFulfilled = function(e) {
this._values[this._totalResolved++] = e;
}, l.prototype._canPossiblyFulfill = function() {
return this.length() - this._rejected();
}, l.prototype._getRangeError = function(e) {
var t = "Input array must contain at least " + this._howMany + " items but contains only " + e + " items";
return new i(t);
}, l.prototype._resolveEmptyArray = function() {
this._reject(this._getRangeError(0));
}, t.some = function(e, t) {
return c(e, t);
}, t.prototype.some = function(e) {
return c(this, e);
}, t._SomePromiseArray = l;
};
}, {
"./errors": 12,
"./util": 36
} ],
32: [ function(e, t, n) {
"use strict";
t.exports = function(e) {
function t(e) {
void 0 !== e ? (e = e._target(), this._bitField = e._bitField, this._settledValueField = e._isFateSealed() ? e._settledValue() : void 0) : (this._bitField = 0, 
this._settledValueField = void 0);
}
t.prototype._settledValue = function() {
return this._settledValueField;
};
var n = t.prototype.value = function() {
if (!this.isFulfilled()) throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");
return this._settledValue();
}, r = t.prototype.error = t.prototype.reason = function() {
if (!this.isRejected()) throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");
return this._settledValue();
}, o = t.prototype.isFulfilled = function() {
return 0 != (33554432 & this._bitField);
}, i = t.prototype.isRejected = function() {
return 0 != (16777216 & this._bitField);
}, a = t.prototype.isPending = function() {
return 0 == (50397184 & this._bitField);
}, s = t.prototype.isResolved = function() {
return 0 != (50331648 & this._bitField);
};
t.prototype.isCancelled = function() {
return 0 != (8454144 & this._bitField);
}, e.prototype.__isCancelled = function() {
return 65536 == (65536 & this._bitField);
}, e.prototype._isCancelled = function() {
return this._target().__isCancelled();
}, e.prototype.isCancelled = function() {
return 0 != (8454144 & this._target()._bitField);
}, e.prototype.isPending = function() {
return a.call(this._target());
}, e.prototype.isRejected = function() {
return i.call(this._target());
}, e.prototype.isFulfilled = function() {
return o.call(this._target());
}, e.prototype.isResolved = function() {
return s.call(this._target());
}, e.prototype.value = function() {
return n.call(this._target());
}, e.prototype.reason = function() {
var e = this._target();
return e._unsetRejectionIsUnhandled(), r.call(e);
}, e.prototype._value = function() {
return this._settledValue();
}, e.prototype._reason = function() {
return this._unsetRejectionIsUnhandled(), this._settledValue();
}, e.PromiseInspection = t;
};
}, {} ],
33: [ function(e, t, n) {
"use strict";
t.exports = function(t, n) {
var r = e("./util"), o = r.errorObj, i = r.isObject, a = {}.hasOwnProperty;
return function s(e, u) {
if (i(e)) {
if (e instanceof t) return e;
var l = function c(e) {
try {
return function t(e) {
return e.then;
}(e);
} catch (e) {
return o.e = e, o;
}
}(e);
if (l === o) {
u && u._pushContext();
var p = t.reject(l.e);
return u && u._popContext(), p;
}
if ("function" == typeof l) {
if (function d(e) {
try {
return a.call(e, "_promise0");
} catch (e) {
return !1;
}
}(e)) {
var p = new t(n);
return e._then(p._fulfill, p._reject, void 0, p, null), p;
}
return function f(e, i, a) {
var s = new t(n), u = s;
a && a._pushContext(), s._captureStackTrace(), a && a._popContext();
var l = !0, c = r.tryCatch(i).call(e, function p(e) {
s && (s._resolveCallback(e), s = null);
}, function d(e) {
s && (s._rejectCallback(e, l, !0), s = null);
});
return l = !1, s && c === o && (s._rejectCallback(c.e, !0, !0), s = null), u;
}(e, l, u);
}
}
return e;
};
};
}, {
"./util": 36
} ],
34: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r) {
var o = e("./util"), i = t.TimeoutError;
function a(e) {
this.handle = e;
}
a.prototype._resultCancelled = function() {
clearTimeout(this.handle);
};
var s = function(e) {
return u(+this).thenReturn(e);
}, u = t.delay = function(e, o) {
var i, u;
return void 0 !== o ? (i = t.resolve(o)._then(s, null, null, e, void 0), r.cancellation() && o instanceof t && i._setOnCancel(o)) : (i = new t(n), 
u = setTimeout(function() {
i._fulfill();
}, +e), r.cancellation() && i._setOnCancel(new a(u)), i._captureStackTrace()), i._setAsyncGuaranteed(), 
i;
};
function l(e) {
return clearTimeout(this.handle), e;
}
function c(e) {
throw clearTimeout(this.handle), e;
}
t.prototype.delay = function(e) {
return u(e, this);
}, t.prototype.timeout = function(e, t) {
var n, s;
e = +e;
var u = new a(setTimeout(function e() {
n.isPending() && function(e, t, n) {
var r;
r = "string" != typeof t ? t instanceof Error ? t : new i("operation timed out") : new i(t), 
o.markAsOriginatingFromRejection(r), e._attachExtraTrace(r), e._reject(r), null != n && n.cancel();
}(n, t, s);
}, e));
return r.cancellation() ? (s = this.then(), (n = s._then(l, c, void 0, u, void 0))._setOnCancel(u)) : n = this._then(l, c, void 0, u, void 0), 
n;
};
};
}, {
"./util": 36
} ],
35: [ function(e, t, n) {
"use strict";
t.exports = function(t, n, r, o, i, a) {
var s = e("./util"), u = e("./errors").TypeError, l = e("./util").inherits, c = s.errorObj, p = s.tryCatch, d = {};
function f(e) {
setTimeout(function() {
throw e;
}, 0);
}
function m(e, n) {
var o = 0, a = e.length, s = new t(i);
return function i() {
if (o >= a) return s._fulfill();
var u = function l(e) {
var t = r(e);
return t !== e && "function" == typeof e._isDisposable && "function" == typeof e._getDisposer && e._isDisposable() && t._setDisposable(e._getDisposer()), 
t;
}(e[o++]);
if (u instanceof t && u._isDisposable()) {
try {
u = r(u._getDisposer().tryDispose(n), e.promise);
} catch (e) {
return f(e);
}
if (u instanceof t) return u._then(i, f, null, null, null);
}
i();
}(), s;
}
function h(e, t, n) {
this._data = e, this._promise = t, this._context = n;
}
function g(e, t, n) {
this.constructor$(e, t, n);
}
function y(e) {
return h.isDisposer(e) ? (this.resources[this.index]._setDisposable(e), e.promise()) : e;
}
function S(e) {
this.length = e, this.promise = null, this[e - 1] = null;
}
h.prototype.data = function() {
return this._data;
}, h.prototype.promise = function() {
return this._promise;
}, h.prototype.resource = function() {
return this.promise().isFulfilled() ? this.promise().value() : d;
}, h.prototype.tryDispose = function(e) {
var t = this.resource(), n = this._context;
void 0 !== n && n._pushContext();
var r = t !== d ? this.doDispose(t, e) : null;
return void 0 !== n && n._popContext(), this._promise._unsetDisposable(), this._data = null, 
r;
}, h.isDisposer = function(e) {
return null != e && "function" == typeof e.resource && "function" == typeof e.tryDispose;
}, l(g, h), g.prototype.doDispose = function(e, t) {
var n = this.data();
return n.call(e, e, t);
}, S.prototype._resultCancelled = function() {
for (var e = this.length, n = 0; n < e; ++n) {
var r = this[n];
r instanceof t && r.cancel();
}
}, t.using = function() {
var e = arguments.length;
if (e < 2) return n("you must pass at least 2 arguments to Promise.using");
var o, i = arguments[e - 1];
if ("function" != typeof i) return n("expecting a function but got " + s.classString(i));
var u = !0;
2 === e && Array.isArray(arguments[0]) ? (o = arguments[0], e = o.length, u = !1) : (o = arguments, 
e--);
for (var l = new S(e), d = 0; d < e; ++d) {
var f = o[d];
if (h.isDisposer(f)) {
var g = f;
(f = f.promise())._setDisposable(g);
} else {
var v = r(f);
v instanceof t && (f = v._then(y, null, null, {
resources: l,
index: d
}, void 0));
}
l[d] = f;
}
for (var _ = new Array(l.length), d = 0; d < _.length; ++d) _[d] = t.resolve(l[d]).reflect();
var b = t.all(_).then(function(e) {
for (var t = 0; t < e.length; ++t) {
var n = e[t];
if (n.isRejected()) return c.e = n.error(), c;
if (!n.isFulfilled()) return void b.cancel();
e[t] = n.value();
}
T._pushContext(), i = p(i);
var r = u ? i.apply(void 0, e) : i(e), o = T._popContext();
return a.checkForgottenReturns(r, o, "Promise.using", T), r;
}), T = b.lastly(function() {
var e = new t.PromiseInspection(b);
return m(l, e);
});
return l.promise = T, T._setOnCancel(l), T;
}, t.prototype._setDisposable = function(e) {
this._bitField = 131072 | this._bitField, this._disposer = e;
}, t.prototype._isDisposable = function() {
return (131072 & this._bitField) > 0;
}, t.prototype._getDisposer = function() {
return this._disposer;
}, t.prototype._unsetDisposable = function() {
this._bitField = -131073 & this._bitField, this._disposer = void 0;
}, t.prototype.disposer = function(e) {
if ("function" == typeof e) return new g(e, this, o());
throw new u();
};
};
}, {
"./errors": 12,
"./util": 36
} ],
36: [ function(e, r, o) {
"use strict";
var i = e("./es5"), a = "undefined" == typeof navigator, s = {
e: {}
}, u, l = "undefined" != typeof self ? self : "undefined" != typeof window ? window : void 0 !== n ? n : void 0 !== this ? this : null;
function c() {
try {
var e = u;
return u = null, e.apply(this, arguments);
} catch (e) {
return s.e = e, s;
}
}
function p(e) {
return u = e, c;
}
var d = function(e, t) {
var n = {}.hasOwnProperty;
function r() {
for (var r in this.constructor = e, this.constructor$ = t, t.prototype) n.call(t.prototype, r) && "$" !== r.charAt(r.length - 1) && (this[r + "$"] = t.prototype[r]);
}
return r.prototype = t.prototype, e.prototype = new r(), e.prototype;
};
function f(e) {
return null == e || !0 === e || !1 === e || "string" == typeof e || "number" == typeof e;
}
function m(e) {
return "function" == typeof e || "object" == typeof e && null !== e;
}
function h(e) {
return f(e) ? new Error(w(e)) : e;
}
function g(e, t) {
var n, r = e.length, o = new Array(r + 1);
for (n = 0; n < r; ++n) o[n] = e[n];
return o[n] = t, o;
}
function y(e, t, n) {
if (!i.isES5) return {}.hasOwnProperty.call(e, t) ? e[t] : void 0;
var r = Object.getOwnPropertyDescriptor(e, t);
return null != r ? null == r.get && null == r.set ? r.value : n : void 0;
}
function S(e, t, n) {
if (f(e)) return e;
var r = {
value: n,
configurable: !0,
enumerable: !1,
writable: !0
};
return i.defineProperty(e, t, r), e;
}
function v(e) {
throw e;
}
var _ = function() {
var e = [ Array.prototype, Object.prototype, Function.prototype ], t = function(t) {
for (var n = 0; n < e.length; ++n) if (e[n] === t) return !0;
return !1;
};
if (i.isES5) {
var n = Object.getOwnPropertyNames;
return function(e) {
for (var r = [], o = Object.create(null); null != e && !t(e); ) {
var a;
try {
a = n(e);
} catch (e) {
return r;
}
for (var s = 0; s < a.length; ++s) {
var u = a[s];
if (!o[u]) {
o[u] = !0;
var l = Object.getOwnPropertyDescriptor(e, u);
null != l && null == l.get && null == l.set && r.push(u);
}
}
e = i.getPrototypeOf(e);
}
return r;
};
}
var r = {}.hasOwnProperty;
return function(n) {
if (t(n)) return [];
var o = [];
e: for (var i in n) if (r.call(n, i)) o.push(i); else {
for (var a = 0; a < e.length; ++a) if (r.call(e[a], i)) continue e;
o.push(i);
}
return o;
};
}(), b = /this\s*\.\s*\S+\s*=/;
function T(e) {
try {
if ("function" == typeof e) {
var t = i.names(e.prototype), n = i.isES5 && t.length > 1, r = t.length > 0 && !(1 === t.length && "constructor" === t[0]), o = b.test(e + "") && i.names(e).length > 0;
if (n || r || o) return !0;
}
return !1;
} catch (e) {
return !1;
}
}
function E(e) {
function t() {}
t.prototype = e;
for (var n = 8; n--; ) new t();
return e;
}
var C = /^[a-z$_][a-z$_0-9]*$/i;
function I(e) {
return C.test(e);
}
function A(e, t, n) {
for (var r = new Array(e), o = 0; o < e; ++o) r[o] = t + o + n;
return r;
}
function w(e) {
try {
return e + "";
} catch (e) {
return "[no string representation]";
}
}
function P(e) {
return null !== e && "object" == typeof e && "string" == typeof e.message && "string" == typeof e.name;
}
function R(e) {
try {
S(e, "isOperational", !0);
} catch (e) {}
}
function O(e) {
return null != e && (e instanceof Error.__BluebirdErrorTypes__.OperationalError || !0 === e.isOperational);
}
function x(e) {
return P(e) && i.propertyIsWritable(e, "stack");
}
var k = "stack" in new Error() ? function(e) {
return x(e) ? e : new Error(w(e));
} : function(e) {
if (x(e)) return e;
try {
throw new Error(w(e));
} catch (e) {
return e;
}
};
function L(e) {
return {}.toString.call(e);
}
function M(e, t, n) {
for (var r = i.names(e), o = 0; o < r.length; ++o) {
var a = r[o];
if (n(a)) try {
i.defineProperty(t, a, i.getDescriptor(e, a));
} catch (e) {}
}
}
var D = function(e) {
return i.isArray(e) ? e : null;
};
if ("undefined" != typeof Symbol && Symbol.iterator) {
var N = "function" == typeof Array.from ? function(e) {
return Array.from(e);
} : function(e) {
for (var t, n = [], r = e[Symbol.iterator](); !(t = r.next()).done; ) n.push(t.value);
return n;
};
D = function(e) {
return i.isArray(e) ? e : null != e && "function" == typeof e[Symbol.iterator] ? N(e) : null;
};
}
var F = void 0 !== t && "[object process]" === L(t).toLowerCase(), G = void 0 !== t && void 0 !== t.env;
function U(e) {
return G ? t.env[e] : void 0;
}
function B() {
if ("function" == typeof Promise) try {
var e = new Promise(function() {});
if ("[object Promise]" === {}.toString.call(e)) return Promise;
} catch (e) {}
}
function j(e, t) {
return e.bind(t);
}
var H = {
isClass: T,
isIdentifier: I,
inheritedDataKeys: _,
getDataPropertyOrDefault: y,
thrower: v,
isArray: i.isArray,
asArray: D,
notEnumerableProp: S,
isPrimitive: f,
isObject: m,
isError: P,
canEvaluate: a,
errorObj: s,
tryCatch: p,
inherits: d,
withAppended: g,
maybeWrapAsError: h,
toFastProperties: E,
filledRange: A,
toString: w,
canAttachTrace: x,
ensureErrorObject: k,
originatesFromRejection: O,
markAsOriginatingFromRejection: R,
classString: L,
copyDescriptors: M,
hasDevTools: "undefined" != typeof chrome && chrome && "function" == typeof chrome.loadTimes,
isNode: F,
hasEnvVariables: G,
env: U,
global: l,
getNativePromise: B,
domainBind: j
}, z;
H.isRecentNode = H.isNode && (z = t.versions.node.split(".").map(Number), 0 === z[0] && z[1] > 10 || z[0] > 0), 
H.isNode && H.toFastProperties(t);
try {
throw new Error();
} catch (e) {
H.lastLineError = e;
}
r.exports = H;
}, {
"./es5": 13
} ]
}, {}, [ 4 ])(4);
}(), "undefined" != typeof window && null !== window ? window.P = window.Promise : "undefined" != typeof self && null !== self && (self.P = self.Promise);
}).call(this, n(337), n(185), n(276).setImmediate);
}, function(e, t, n) {
(function(e, t) {
!function(e, n) {
"use strict";
if (!e.setImmediate) {
var r, o = 1, i = {}, a = !1, s = e.document, u = Object.getPrototypeOf && Object.getPrototypeOf(e);
u = u && u.setTimeout ? u : e, "[object process]" === {}.toString.call(e.process) ? function l() {
r = function(e) {
t.nextTick(function() {
y(e);
});
};
}() : !function c() {
if (e.postMessage && !e.importScripts) {
var t = !0, n = e.onmessage;
return e.onmessage = function() {
t = !1;
}, e.postMessage("", "*"), e.onmessage = n, t;
}
}() ? e.MessageChannel ? function p() {
var e = new MessageChannel();
e.port1.onmessage = function(e) {
y(e.data);
}, r = function(t) {
e.port2.postMessage(t);
};
}() : s && "onreadystatechange" in s.createElement("script") ? function d() {
var e = s.documentElement;
r = function(t) {
var n = s.createElement("script");
n.onreadystatechange = function() {
y(t), n.onreadystatechange = null, e.removeChild(n), n = null;
}, e.appendChild(n);
};
}() : function f() {
r = function(e) {
setTimeout(y, 0, e);
};
}() : function m() {
var t = "setImmediate$" + Math.random() + "$", n = function(n) {
n.source === e && "string" == typeof n.data && 0 === n.data.indexOf(t) && y(+n.data.slice(t.length));
};
e.addEventListener ? e.addEventListener("message", n, !1) : e.attachEvent("onmessage", n), 
r = function(n) {
e.postMessage(t + n, "*");
};
}(), u.setImmediate = function h(e) {
"function" != typeof e && (e = new Function("" + e));
for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++) t[n] = arguments[n + 1];
var a = {
callback: e,
args: t
};
return i[o] = a, r(o), o++;
}, u.clearImmediate = g;
}
function g(e) {
delete i[e];
}
function y(e) {
if (a) setTimeout(y, 0, e); else {
var t = i[e];
if (t) {
a = !0;
try {
!function r(e) {
var t = e.callback, r = e.args;
switch (r.length) {
case 0:
t();
break;

case 1:
t(r[0]);
break;

case 2:
t(r[0], r[1]);
break;

case 3:
t(r[0], r[1], r[2]);
break;

default:
t.apply(n, r);
}
}(t);
} finally {
g(e), a = !1;
}
}
}
}
}("undefined" == typeof self ? void 0 === e ? this : e : self);
}).call(this, n(185), n(337));
}, function(e, t, n) {
n(704), n(241), n(706), n(469), n(707), n(708), n(709), n(710), n(711), n(712), 
n(713), n(714), n(715), n(716), e.exports = n(54);
}, function(e, t, n) {
"use strict";
var r = n(164), o = n(16), i = n(166), a = n(338), s = n(147), u = n(169), l = n(167), c = n(70), p = n(705), d = n(145), f = n(279), m = n(469), h = n(344), g = n(345), y = n(48), S = n(107), v = n(83), _ = n(99), b = function(e) {
var t = 1 == e, n = 4 == e;
return function(o, i, a) {
var s, u, l, c = r(i, a, 3), p = S(o), d = t || 7 == e || 2 == e ? new ("function" == typeof this ? this : I)() : void 0;
for (s in p) if (_(p, s) && (l = c(u = p[s], s, o), e)) if (t) d[s] = l; else if (l) switch (e) {
case 2:
d[s] = u;
break;

case 3:
return !0;

case 5:
return u;

case 6:
return s;

case 7:
d[l[0]] = l[1];
} else if (n) return !1;
return 3 == e || n ? n : d;
};
}, T = b(6), E = function(e) {
return function(t) {
return new C(t, e);
};
}, C = function(e, t) {
this._t = S(e), this._a = l(e), this._i = 0, this._k = t;
};
function I(e) {
var t = s(null);
return void 0 != e && (m(e) ? f(e, !0, function(e, n) {
t[e] = n;
}) : a(t, e)), t;
}
h(C, "Dict", function() {
var e, t = this._t, n = this._a, r = this._k;
do {
if (this._i >= n.length) return this._t = void 0, g(1);
} while (!_(t, e = n[this._i++]));
return g(0, "keys" == r ? e : "values" == r ? t[e] : [ e, t[e] ]);
}), I.prototype = null, o(o.G + o.F, {
Dict: I
}), o(o.S, "Dict", {
keys: E("keys"),
values: E("values"),
entries: E("entries"),
forEach: b(0),
map: b(1),
filter: b(2),
some: b(3),
every: b(4),
find: b(5),
findKey: T,
mapPairs: b(7),
reduce: function A(e, t, n) {
d(t);
var r, o, i = S(e), a = l(i), s = a.length, u = 0;
if (arguments.length < 3) {
if (!s) throw TypeError("Reduce of empty object with no initial value");
r = i[a[u++]];
} else r = Object(n);
for (;s > u; ) _(i, o = a[u++]) && (r = t(r, i[o], o, e));
return r;
},
keyOf: p,
includes: function w(e, t) {
return void 0 !== (t == t ? p(e, t) : T(e, function(e) {
return e != e;
}));
},
has: _,
get: function P(e, t) {
if (_(e, t)) return e[t];
},
set: function R(e, t, n) {
return v && t in Object ? c.f(e, t, i(0, n)) : e[t] = n, e;
},
isDict: function O(e) {
return y(e) && u(e) === I.prototype;
}
});
}, function(e, t, n) {
var r = n(167), o = n(107);
e.exports = function(e, t) {
for (var n, i = o(e), a = r(i), s = a.length, u = 0; s > u; ) if (i[n = a[u++]] === t) return n;
};
}, function(e, t, n) {
var r = n(55), o = n(241);
e.exports = n(54).getIterator = function(e) {
var t = o(e);
if ("function" != typeof t) throw TypeError(e + " is not iterable!");
return r(t.call(e));
};
}, function(e, t, n) {
var r = n(57), o = n(54), i = n(16), a = n(470);
i(i.G + i.F, {
delay: function e(t) {
return new (o.Promise || r.Promise)(function(e) {
setTimeout(a.call(e, !0), t);
});
}
});
}, function(e, t, n) {
var r = n(471), o = n(16);
n(54)._ = r._ = r._ || {}, o(o.P + o.F, "Function", {
part: n(470)
});
}, function(e, t, n) {
var r = n(16);
r(r.S + r.F, "Object", {
isObject: n(48)
});
}, function(e, t, n) {
var r = n(16);
r(r.S + r.F, "Object", {
classof: n(242)
});
}, function(e, t, n) {
var r = n(16), o = n(473);
r(r.S + r.F, "Object", {
define: o
});
}, function(e, t, n) {
var r = n(16), o = n(473), i = n(147);
r(r.S + r.F, "Object", {
make: function(e, t) {
return o(i(e), t);
}
});
}, function(e, t, n) {
"use strict";
n(280)(Number, "Number", function(e) {
this._l = +e, this._i = 0;
}, function() {
var e = this._i++, t = !(e < this._l);
return {
done: t,
value: t ? void 0 : e
};
});
}, function(e, t, n) {
var r = n(16), o = n(346)(/[\\^$*+?.()|[\]{}]/g, "\\$&");
r(r.S, "RegExp", {
escape: function e(t) {
return o(t);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(346)(/[&<>"']/g, {
"&": "&amp;",
"<": "&lt;",
">": "&gt;",
'"': "&quot;",
"'": "&apos;"
});
r(r.P + r.F, "String", {
escapeHTML: function e() {
return o(this);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(346)(/&(?:amp|lt|gt|quot|apos);/g, {
"&amp;": "&",
"&lt;": "<",
"&gt;": ">",
"&quot;": '"',
"&apos;": "'"
});
r(r.P + r.F, "String", {
unescapeHTML: function e() {
return o(this);
}
});
}, function(e, t, n) {
n(281), n(718), n(719), n(720), n(721), n(722), n(723), n(724), n(727), n(728), 
n(729), n(730), n(731), n(732), n(733), n(734), n(735), n(736), n(737), n(738), 
n(739), n(282), e.exports = n(54).Array;
}, function(e, t, n) {
var r = n(16);
r(r.S, "Array", {
isArray: n(347)
});
}, function(e, t, n) {
"use strict";
var r = n(164), o = n(16), i = n(115), a = n(468), s = n(343), u = n(90), l = n(476), c = n(241);
o(o.S + o.F * !n(348)(function(e) {
Array.from(e);
}), "Array", {
from: function e(t) {
var n, o, p, d, f = i(t), m = "function" == typeof this ? this : Array, h = arguments.length, g = h > 1 ? arguments[1] : void 0, y = void 0 !== g, S = 0, v = c(f);
if (y && (g = r(g, h > 2 ? arguments[2] : void 0, 2)), void 0 == v || m == Array && s(v)) for (o = new m(n = u(f.length)); n > S; S++) l(o, S, y ? g(f[S], S) : f[S]); else for (d = v.call(f), 
o = new m(); !(p = d.next()).done; S++) l(o, S, y ? a(d, g, [ p.value, S ], !0) : p.value);
return o.length = S, o;
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(476);
r(r.S + r.F * n(44)(function() {
function e() {}
return !(Array.of.call(e) instanceof e);
}), "Array", {
of: function e() {
for (var t = 0, n = arguments.length, r = new ("function" == typeof this ? this : Array)(n); n > t; ) o(r, t, arguments[t++]);
return r.length = n, r;
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(107), i = [].join;
r(r.P + r.F * (n(240) != Object || !n(127)(i)), "Array", {
join: function e(t) {
return i.call(o(this), void 0 === t ? "," : t);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(467), i = n(187), a = n(188), s = n(90), u = [].slice;
r(r.P + r.F * n(44)(function() {
o && u.call(o);
}), "Array", {
slice: function e(t, n) {
var r = s(this.length), o = i(this);
if (n = void 0 === n ? r : n, "Array" == o) return u.call(this, t, n);
for (var l = a(t, r), c = a(n, r), p = s(c - l), d = new Array(p), f = 0; f < p; f++) d[f] = "String" == o ? this.charAt(l + f) : this[l + f];
return d;
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(145), i = n(115), a = n(44), s = [].sort, u = [ 1, 2, 3 ];
r(r.P + r.F * (a(function() {
u.sort(void 0);
}) || !a(function() {
u.sort(null);
}) || !n(127)(s)), "Array", {
sort: function e(t) {
return void 0 === t ? s.call(i(this)) : s.call(i(this), o(t));
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(131)(0), i = n(127)([].forEach, !0);
r(r.P + r.F * !i, "Array", {
forEach: function e(t) {
return o(this, t, arguments[1]);
}
});
}, function(e, t, n) {
var r = n(726);
e.exports = function(e, t) {
return new (r(e))(t);
};
}, function(e, t, n) {
var r = n(48), o = n(347), i = n(63)("species");
e.exports = function(e) {
var t;
return o(e) && ("function" != typeof (t = e.constructor) || t !== Array && !o(t.prototype) || (t = void 0), 
r(t) && null === (t = t[i]) && (t = void 0)), void 0 === t ? Array : t;
};
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(131)(1);
r(r.P + r.F * !n(127)([].map, !0), "Array", {
map: function e(t) {
return o(this, t, arguments[1]);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(131)(2);
r(r.P + r.F * !n(127)([].filter, !0), "Array", {
filter: function e(t) {
return o(this, t, arguments[1]);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(131)(3);
r(r.P + r.F * !n(127)([].some, !0), "Array", {
some: function e(t) {
return o(this, t, arguments[1]);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(131)(4);
r(r.P + r.F * !n(127)([].every, !0), "Array", {
every: function e(t) {
return o(this, t, arguments[1]);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(477);
r(r.P + r.F * !n(127)([].reduce, !0), "Array", {
reduce: function e(t) {
return o(this, t, arguments.length, arguments[1], !1);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(477);
r(r.P + r.F * !n(127)([].reduceRight, !0), "Array", {
reduceRight: function e(t) {
return o(this, t, arguments.length, arguments[1], !0);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(339)(!1), i = [].indexOf, a = !!i && 1 / [ 1 ].indexOf(1, -0) < 0;
r(r.P + r.F * (a || !n(127)(i)), "Array", {
indexOf: function e(t) {
return a ? i.apply(this, arguments) || 0 : o(this, t, arguments[1]);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(107), i = n(146), a = n(90), s = [].lastIndexOf, u = !!s && 1 / [ 1 ].lastIndexOf(1, -0) < 0;
r(r.P + r.F * (u || !n(127)(s)), "Array", {
lastIndexOf: function e(t) {
if (u) return s.apply(this, arguments) || 0;
var n = o(this), r = a(n.length), l = r - 1;
for (arguments.length > 1 && (l = Math.min(l, i(arguments[1]))), l < 0 && (l = r + l); l >= 0; l--) if (l in n && n[l] === t) return l || 0;
return -1;
}
});
}, function(e, t, n) {
var r = n(16);
r(r.P, "Array", {
copyWithin: n(478)
}), n(245)("copyWithin");
}, function(e, t, n) {
var r = n(16);
r(r.P, "Array", {
fill: n(349)
}), n(245)("fill");
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(131)(5), i = !0;
"find" in [] && Array(1).find(function() {
i = !1;
}), r(r.P + r.F * i, "Array", {
find: function e(t) {
return o(this, t, arguments.length > 1 ? arguments[1] : void 0);
}
}), n(245)("find");
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(131)(6), i = "findIndex", a = !0;
i in [] && Array(1)[i](function() {
a = !1;
}), r(r.P + r.F * a, "Array", {
findIndex: function e(t) {
return o(this, t, arguments.length > 1 ? arguments[1] : void 0);
}
}), n(245)(i);
}, function(e, t, n) {
n(246)("Array");
}, function(e, t, n) {
n(741), n(742), n(743), n(745), n(746), e.exports = Date;
}, function(e, t, n) {
var r = n(16);
r(r.S, "Date", {
now: function() {
return new Date().getTime();
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(115), i = n(165);
r(r.P + r.F * n(44)(function() {
return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
toISOString: function() {
return 1;
}
});
}), "Date", {
toJSON: function e(t) {
var n = o(this), r = i(n);
return "number" != typeof r || isFinite(r) ? n.toISOString() : null;
}
});
}, function(e, t, n) {
var r = n(16), o = n(744);
r(r.P + r.F * (Date.prototype.toISOString !== o), "Date", {
toISOString: o
});
}, function(e, t, n) {
"use strict";
var r = n(44), o = Date.prototype.getTime, i = Date.prototype.toISOString, a = function(e) {
return e > 9 ? e : "0" + e;
};
e.exports = r(function() {
return "0385-07-25T07:06:39.999Z" != i.call(new Date(-5e13 - 1));
}) || !r(function() {
i.call(new Date(NaN));
}) ? function e() {
if (!isFinite(o.call(this))) throw RangeError("Invalid time value");
var t = this, n = t.getUTCFullYear(), r = t.getUTCMilliseconds(), i = n < 0 ? "-" : n > 9999 ? "+" : "";
return i + ("00000" + Math.abs(n)).slice(i ? -6 : -4) + "-" + a(t.getUTCMonth() + 1) + "-" + a(t.getUTCDate()) + "T" + a(t.getUTCHours()) + ":" + a(t.getUTCMinutes()) + ":" + a(t.getUTCSeconds()) + "." + (r > 99 ? r : "0" + a(r)) + "Z";
} : i;
}, function(e, t, n) {
var r = Date.prototype, o = r.toString, i = r.getTime;
new Date(NaN) + "" != "Invalid Date" && n(106)(r, "toString", function e() {
var t = i.call(this);
return t == t ? o.call(this) : "Invalid Date";
});
}, function(e, t, n) {
var r = n(63)("toPrimitive"), o = Date.prototype;
r in o || n(114)(o, r, n(747));
}, function(e, t, n) {
"use strict";
var r = n(55), o = n(165);
e.exports = function(e) {
if ("string" !== e && "number" !== e && "default" !== e) throw TypeError("Incorrect hint");
return o(r(this), "number" != e);
};
}, function(e, t, n) {
n(749), n(750), n(751), e.exports = n(54).Function;
}, function(e, t, n) {
var r = n(16);
r(r.P, "Function", {
bind: n(479)
});
}, function(e, t, n) {
var r = n(70).f, o = Function.prototype, i = /^\s*function ([^ (]*)/;
"name" in o || n(83) && r(o, "name", {
configurable: !0,
get: function() {
try {
return ("" + this).match(i)[1];
} catch (e) {
return "";
}
}
});
}, function(e, t, n) {
"use strict";
var r = n(48), o = n(169), i = n(63)("hasInstance"), a = Function.prototype;
i in a || n(70).f(a, i, {
value: function(e) {
if ("function" != typeof this || !r(e)) return !1;
if (!r(this.prototype)) return e instanceof this;
for (;e = o(e); ) if (this.prototype === e) return !0;
return !1;
}
});
}, function(e, t, n) {
n(191), n(281), n(350), n(753), e.exports = n(54).Map;
}, function(e, t, n) {
"use strict";
var r = n(480), o = n(215);
e.exports = n(283)("Map", function(e) {
return function t() {
return e(this, arguments.length > 0 ? arguments[0] : void 0);
};
}, {
get: function e(t) {
var n = r.getEntry(o(this, "Map"), t);
return n && n.v;
},
set: function e(t, n) {
return r.def(o(this, "Map"), 0 === t ? 0 : t, n);
}
}, r, !0);
}, function(e, t, n) {
n(755), n(756), n(757), n(758), n(759), n(760), n(761), n(762), n(764), n(765), 
n(766), n(767), n(768), n(769), n(770), n(771), n(772), e.exports = n(54).Math;
}, function(e, t, n) {
var r = n(16), o = n(481), i = Math.sqrt, a = Math.acosh;
r(r.S + r.F * !(a && 710 == Math.floor(a(Number.MAX_VALUE)) && a(1 / 0) == 1 / 0), "Math", {
acosh: function e(t) {
return (t = +t) < 1 ? NaN : t > 94906265.62425156 ? Math.log(t) + Math.LN2 : o(t - 1 + i(t - 1) * i(t + 1));
}
});
}, function(e, t, n) {
var r = n(16), o = Math.asinh;
r(r.S + r.F * !(o && 1 / o(0) > 0), "Math", {
asinh: function e(t) {
return isFinite(t = +t) && 0 != t ? t < 0 ? -e(-t) : Math.log(t + Math.sqrt(t * t + 1)) : t;
}
});
}, function(e, t, n) {
var r = n(16), o = Math.atanh;
r(r.S + r.F * !(o && 1 / o(-0) < 0), "Math", {
atanh: function e(t) {
return 0 == (t = +t) ? t : Math.log((1 + t) / (1 - t)) / 2;
}
});
}, function(e, t, n) {
var r = n(16), o = n(353);
r(r.S, "Math", {
cbrt: function e(t) {
return o(t = +t) * Math.pow(Math.abs(t), 1 / 3);
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Math", {
clz32: function e(t) {
return (t >>>= 0) ? 31 - Math.floor(Math.log(t + .5) * Math.LOG2E) : 32;
}
});
}, function(e, t, n) {
var r = n(16), o = Math.exp;
r(r.S, "Math", {
cosh: function e(t) {
return (o(t = +t) + o(-t)) / 2;
}
});
}, function(e, t, n) {
var r = n(16), o = n(354);
r(r.S + r.F * (o != Math.expm1), "Math", {
expm1: o
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Math", {
fround: n(763)
});
}, function(e, t, n) {
var r = n(353), o = Math.pow, i = o(2, -52), a = o(2, -23), s = o(2, 127) * (2 - a), u = o(2, -126);
e.exports = Math.fround || function e(t) {
var n, o, l = Math.abs(t), c = r(t);
return l < u ? c * (l / u / a + 1 / i - 1 / i) * u * a : (o = (n = (1 + a / i) * l) - (n - l)) > s || o != o ? c * (1 / 0) : c * o;
};
}, function(e, t, n) {
var r = n(16), o = Math.abs;
r(r.S, "Math", {
hypot: function e(t, n) {
for (var r, i, a = 0, s = 0, u = arguments.length, l = 0; s < u; ) l < (r = o(arguments[s++])) ? (a = a * (i = l / r) * i + 1, 
l = r) : a += r > 0 ? (i = r / l) * i : r;
return l === 1 / 0 ? 1 / 0 : l * Math.sqrt(a);
}
});
}, function(e, t, n) {
var r = n(16), o = Math.imul;
r(r.S + r.F * n(44)(function() {
return -5 != o(4294967295, 5) || 2 != o.length;
}), "Math", {
imul: function e(t, n) {
var r = +t, o = +n, i = 65535 & r, a = 65535 & o;
return 0 | i * a + ((65535 & r >>> 16) * a + i * (65535 & o >>> 16) << 16 >>> 0);
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Math", {
log10: function e(t) {
return Math.log(t) * Math.LOG10E;
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Math", {
log1p: n(481)
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Math", {
log2: function e(t) {
return Math.log(t) / Math.LN2;
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Math", {
sign: n(353)
});
}, function(e, t, n) {
var r = n(16), o = n(354), i = Math.exp;
r(r.S + r.F * n(44)(function() {
return -2e-17 != !Math.sinh(-2e-17);
}), "Math", {
sinh: function e(t) {
return Math.abs(t = +t) < 1 ? (o(t) - o(-t)) / 2 : (i(t - 1) - i(-t - 1)) * (Math.E / 2);
}
});
}, function(e, t, n) {
var r = n(16), o = n(354), i = Math.exp;
r(r.S, "Math", {
tanh: function e(t) {
var n = o(t = +t), r = o(-t);
return n == 1 / 0 ? 1 : r == 1 / 0 ? -1 : (n - r) / (i(t) + i(-t));
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Math", {
trunc: function e(t) {
return (t > 0 ? Math.floor : Math.ceil)(t);
}
});
}, function(e, t, n) {
n(774), n(775), n(776), n(777), n(778), n(779), n(780), n(781), n(782), n(783), 
n(784), n(785), e.exports = n(54).Number;
}, function(e, t, n) {
"use strict";
var r = n(57), o = n(99), i = n(187), a = n(351), s = n(165), u = n(44), l = n(190).f, c = n(130).f, p = n(70).f, d = n(284).trim, f = r.Number, m = f, h = f.prototype, g = "Number" == i(n(147)(h)), y = "trim" in String.prototype, S = function(e) {
var t = s(e, !1);
if ("string" == typeof t && t.length > 2) {
var n, r, o, i = (t = y ? t.trim() : d(t, 3)).charCodeAt(0);
if (43 === i || 45 === i) {
if (88 === (n = t.charCodeAt(2)) || 120 === n) return NaN;
} else if (48 === i) {
switch (t.charCodeAt(1)) {
case 66:
case 98:
r = 2, o = 49;
break;

case 79:
case 111:
r = 8, o = 55;
break;

default:
return +t;
}
for (var a, u = t.slice(2), l = 0, c = u.length; l < c; l++) if ((a = u.charCodeAt(l)) < 48 || a > o) return NaN;
return parseInt(u, r);
}
}
return +t;
};
if (!f(" 0o1") || !f("0b1") || f("+0x1")) {
f = function e(t) {
var n = arguments.length < 1 ? 0 : t, r = this;
return r instanceof f && (g ? u(function() {
h.valueOf.call(r);
}) : "Number" != i(r)) ? a(new m(S(n)), r, f) : S(n);
};
for (var v, _ = n(83) ? l(m) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), b = 0; _.length > b; b++) o(m, v = _[b]) && !o(f, v) && p(f, v, c(m, v));
f.prototype = h, h.constructor = f, n(106)(r, "Number", f);
}
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(146), i = n(482), a = n(483), s = 1..toFixed, u = Math.floor, l = [ 0, 0, 0, 0, 0, 0 ], c = "Number.toFixed: incorrect invocation!", p = function(e, t) {
for (var n = -1, r = t; ++n < 6; ) r += e * l[n], l[n] = r % 1e7, r = u(r / 1e7);
}, d = function(e) {
for (var t = 6, n = 0; --t >= 0; ) n += l[t], l[t] = u(n / e), n = n % e * 1e7;
}, f = function() {
for (var e = 6, t = ""; --e >= 0; ) if ("" !== t || 0 === e || 0 !== l[e]) {
var n = String(l[e]);
t = "" === t ? n : t + a.call("0", 7 - n.length) + n;
}
return t;
}, m = function(e, t, n) {
return 0 === t ? n : t % 2 == 1 ? m(e, t - 1, n * e) : m(e * e, t / 2, n);
};
r(r.P + r.F * (!!s && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !n(44)(function() {
s.call({});
})), "Number", {
toFixed: function e(t) {
var n, r, s, u, l = i(this, c), h = o(t), g = "", y = "0";
if (h < 0 || h > 20) throw RangeError(c);
if (l != l) return "NaN";
if (l <= -1e21 || l >= 1e21) return String(l);
if (l < 0 && (g = "-", l = -l), l > 1e-21) if (r = (n = function(e) {
for (var t = 0, n = e; n >= 4096; ) t += 12, n /= 4096;
for (;n >= 2; ) t += 1, n /= 2;
return t;
}(l * m(2, 69, 1)) - 69) < 0 ? l * m(2, -n, 1) : l / m(2, n, 1), r *= 4503599627370496, 
(n = 52 - n) > 0) {
for (p(0, r), s = h; s >= 7; ) p(1e7, 0), s -= 7;
for (p(m(10, s, 1), 0), s = n - 1; s >= 23; ) d(1 << 23), s -= 23;
d(1 << s), p(1, 1), d(2), y = f();
} else p(0, r), p(1 << -n, 0), y = f() + a.call("0", h);
return y = h > 0 ? g + ((u = y.length) <= h ? "0." + a.call("0", h - u) + y : y.slice(0, u - h) + "." + y.slice(u - h)) : g + y;
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(44), i = n(482), a = 1..toPrecision;
r(r.P + r.F * (o(function() {
return "1" !== a.call(1, void 0);
}) || !o(function() {
a.call({});
})), "Number", {
toPrecision: function e(t) {
var n = i(this, "Number#toPrecision: incorrect invocation!");
return void 0 === t ? a.call(n) : a.call(n, t);
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Number", {
EPSILON: Math.pow(2, -52)
});
}, function(e, t, n) {
var r = n(16), o = n(57).isFinite;
r(r.S, "Number", {
isFinite: function e(t) {
return "number" == typeof t && o(t);
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Number", {
isInteger: n(484)
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Number", {
isNaN: function e(t) {
return t != t;
}
});
}, function(e, t, n) {
var r = n(16), o = n(484), i = Math.abs;
r(r.S, "Number", {
isSafeInteger: function e(t) {
return o(t) && i(t) <= 9007199254740991;
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Number", {
MAX_SAFE_INTEGER: 9007199254740991
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Number", {
MIN_SAFE_INTEGER: -9007199254740991
});
}, function(e, t, n) {
var r = n(16), o = n(485);
r(r.S + r.F * (Number.parseFloat != o), "Number", {
parseFloat: o
});
}, function(e, t, n) {
var r = n(16), o = n(486);
r(r.S + r.F * (Number.parseInt != o), "Number", {
parseInt: o
});
}, function(e, t, n) {
n(487), n(789), n(790), n(791), n(792), n(793), n(794), n(795), n(796), n(797), 
n(798), n(799), n(800), n(801), n(802), n(803), n(805), n(191), e.exports = n(54).Object;
}, function(e, t, n) {
var r = n(57), o = n(54), i = n(244), a = n(488), s = n(70).f;
e.exports = function(e) {
var t = o.Symbol || (o.Symbol = i ? {} : r.Symbol || {});
"_" == e.charAt(0) || e in t || s(t, e, {
value: a.f(e)
});
};
}, function(e, t, n) {
var r = n(167), o = n(277), i = n(278);
e.exports = function(e) {
var t = r(e), n = o.f;
if (n) for (var a, s = n(e), u = i.f, l = 0; s.length > l; ) u.call(e, a = s[l++]) && t.push(a);
return t;
};
}, function(e, t, n) {
var r = n(16);
r(r.S, "Object", {
create: n(147)
});
}, function(e, t, n) {
var r = n(16);
r(r.S + r.F * !n(83), "Object", {
defineProperty: n(70).f
});
}, function(e, t, n) {
var r = n(16);
r(r.S + r.F * !n(83), "Object", {
defineProperties: n(466)
});
}, function(e, t, n) {
var r = n(107), o = n(130).f;
n(132)("getOwnPropertyDescriptor", function() {
return function e(t, n) {
return o(r(t), n);
};
});
}, function(e, t, n) {
var r = n(115), o = n(169);
n(132)("getPrototypeOf", function() {
return function e(t) {
return o(r(t));
};
});
}, function(e, t, n) {
var r = n(115), o = n(167);
n(132)("keys", function() {
return function e(t) {
return o(r(t));
};
});
}, function(e, t, n) {
n(132)("getOwnPropertyNames", function() {
return n(489).f;
});
}, function(e, t, n) {
var r = n(48), o = n(170).onFreeze;
n(132)("freeze", function(e) {
return function t(n) {
return e && r(n) ? e(o(n)) : n;
};
});
}, function(e, t, n) {
var r = n(48), o = n(170).onFreeze;
n(132)("seal", function(e) {
return function t(n) {
return e && r(n) ? e(o(n)) : n;
};
});
}, function(e, t, n) {
var r = n(48), o = n(170).onFreeze;
n(132)("preventExtensions", function(e) {
return function t(n) {
return e && r(n) ? e(o(n)) : n;
};
});
}, function(e, t, n) {
var r = n(48);
n(132)("isFrozen", function(e) {
return function t(n) {
return !r(n) || !!e && e(n);
};
});
}, function(e, t, n) {
var r = n(48);
n(132)("isSealed", function(e) {
return function t(n) {
return !r(n) || !!e && e(n);
};
});
}, function(e, t, n) {
var r = n(48);
n(132)("isExtensible", function(e) {
return function t(n) {
return !!r(n) && (!e || e(n));
};
});
}, function(e, t, n) {
var r = n(16);
r(r.S + r.F, "Object", {
assign: n(338)
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Object", {
is: n(804)
});
}, function(e, t) {
e.exports = Object.is || function e(t, n) {
return t === n ? 0 !== t || 1 / t == 1 / n : t != t && n != n;
};
}, function(e, t, n) {
var r = n(16);
r(r.S, "Object", {
setPrototypeOf: n(352).set
});
}, function(e, t, n) {
n(807), e.exports = n(54).parseFloat;
}, function(e, t, n) {
var r = n(16), o = n(485);
r(r.G + r.F * (parseFloat != o), {
parseFloat: o
});
}, function(e, t, n) {
n(809), e.exports = n(54).parseInt;
}, function(e, t, n) {
var r = n(16), o = n(486);
r(r.G + r.F * (parseInt != o), {
parseInt: o
});
}, function(e, t, n) {
n(811), n(812), n(813), n(814), n(815), n(816), n(817), n(818), n(819), n(820), 
n(821), n(822), n(823), n(824), e.exports = n(54).Reflect;
}, function(e, t, n) {
var r = n(16), o = n(145), i = n(55), a = (n(57).Reflect || {}).apply, s = Function.apply;
r(r.S + r.F * !n(44)(function() {
a(function() {});
}), "Reflect", {
apply: function e(t, n, r) {
var u = o(t), l = i(r);
return a ? a(u, n, l) : s.call(u, n, l);
}
});
}, function(e, t, n) {
var r = n(16), o = n(147), i = n(145), a = n(55), s = n(48), u = n(44), l = n(479), c = (n(57).Reflect || {}).construct, p = u(function() {
function e() {}
return !(c(function() {}, [], e) instanceof e);
}), d = !u(function() {
c(function() {});
});
r(r.S + r.F * (p || d), "Reflect", {
construct: function e(t, n) {
i(t), a(n);
var r = arguments.length < 3 ? t : i(arguments[2]);
if (d && !p) return c(t, n, r);
if (t == r) {
switch (n.length) {
case 0:
return new t();

case 1:
return new t(n[0]);

case 2:
return new t(n[0], n[1]);

case 3:
return new t(n[0], n[1], n[2]);

case 4:
return new t(n[0], n[1], n[2], n[3]);
}
var u = [ null ];
return u.push.apply(u, n), new (l.apply(t, u))();
}
var f = r.prototype, m = o(s(f) ? f : Object.prototype), h = Function.apply.call(t, m, n);
return s(h) ? h : m;
}
});
}, function(e, t, n) {
var r = n(70), o = n(16), i = n(55), a = n(165);
o(o.S + o.F * n(44)(function() {
Reflect.defineProperty(r.f({}, 1, {
value: 1
}), 1, {
value: 2
});
}), "Reflect", {
defineProperty: function e(t, n, o) {
i(t), n = a(n, !0), i(o);
try {
return r.f(t, n, o), !0;
} catch (e) {
return !1;
}
}
});
}, function(e, t, n) {
var r = n(16), o = n(130).f, i = n(55);
r(r.S, "Reflect", {
deleteProperty: function e(t, n) {
var r = o(i(t), n);
return !(r && !r.configurable) && delete t[n];
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(55), i = function(e) {
this._t = o(e), this._i = 0;
var t, n = this._k = [];
for (t in e) n.push(t);
};
n(344)(i, "Object", function() {
var e, t = this._k;
do {
if (this._i >= t.length) return {
value: void 0,
done: !0
};
} while (!((e = t[this._i++]) in this._t));
return {
value: e,
done: !1
};
}), r(r.S, "Reflect", {
enumerate: function e(t) {
return new i(t);
}
});
}, function(e, t, n) {
var r = n(130), o = n(169), i = n(99), a = n(16), s = n(48), u = n(55);
a(a.S, "Reflect", {
get: function e(t, n) {
var a, l, c = arguments.length < 3 ? t : arguments[2];
return u(t) === c ? t[n] : (a = r.f(t, n)) ? i(a, "value") ? a.value : void 0 !== a.get ? a.get.call(c) : void 0 : s(l = o(t)) ? e(l, n, c) : void 0;
}
});
}, function(e, t, n) {
var r = n(130), o = n(16), i = n(55);
o(o.S, "Reflect", {
getOwnPropertyDescriptor: function e(t, n) {
return r.f(i(t), n);
}
});
}, function(e, t, n) {
var r = n(16), o = n(169), i = n(55);
r(r.S, "Reflect", {
getPrototypeOf: function e(t) {
return o(i(t));
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Reflect", {
has: function e(t, n) {
return n in t;
}
});
}, function(e, t, n) {
var r = n(16), o = n(55), i = Object.isExtensible;
r(r.S, "Reflect", {
isExtensible: function e(t) {
return o(t), !i || i(t);
}
});
}, function(e, t, n) {
var r = n(16);
r(r.S, "Reflect", {
ownKeys: n(474)
});
}, function(e, t, n) {
var r = n(16), o = n(55), i = Object.preventExtensions;
r(r.S, "Reflect", {
preventExtensions: function e(t) {
o(t);
try {
return i && i(t), !0;
} catch (e) {
return !1;
}
}
});
}, function(e, t, n) {
var r = n(70), o = n(130), i = n(169), a = n(99), s = n(16), u = n(166), l = n(55), c = n(48);
s(s.S, "Reflect", {
set: function e(t, n, s) {
var p, d, f = arguments.length < 4 ? t : arguments[3], m = o.f(l(t), n);
if (!m) {
if (c(d = i(t))) return e(d, n, s, f);
m = u(0);
}
return a(m, "value") ? !(!1 === m.writable || !c(f) || ((p = o.f(f, n) || u(0)).value = s, 
r.f(f, n, p), 0)) : void 0 !== m.set && (m.set.call(f, s), !0);
}
});
}, function(e, t, n) {
var r = n(16), o = n(352);
o && r(r.S, "Reflect", {
setPrototypeOf: function e(t, n) {
o.check(t, n);
try {
return o.set(t, n), !0;
} catch (e) {
return !1;
}
}
});
}, function(e, t, n) {
n(826), n(827), n(490), n(491), n(492), n(493), n(494), e.exports = n(54).RegExp;
}, function(e, t, n) {
var r = n(57), o = n(351), i = n(70).f, a = n(190).f, s = n(356), u = n(357), l = r.RegExp, c = l, p = l.prototype, d = /a/g, f = /a/g, m = new l(d) !== d;
if (n(83) && (!m || n(44)(function() {
return f[n(63)("match")] = !1, l(d) != d || l(f) == f || "/a/i" != l(d, "i");
}))) {
l = function e(t, n) {
var r = this instanceof l, i = s(t), a = void 0 === n;
return !r && i && t.constructor === l && a ? t : o(m ? new c(i && !a ? t.source : t, n) : c((i = t instanceof l) ? t.source : t, i && a ? u.call(t) : n), r ? this : p, l);
};
for (var h = function(e) {
e in l || i(l, e, {
configurable: !0,
get: function() {
return c[e];
},
set: function(t) {
c[e] = t;
}
});
}, g = a(c), y = 0; g.length > y; ) h(g[y++]);
p.constructor = l, l.prototype = p, n(106)(r, "RegExp", l);
}
n(246)("RegExp");
}, function(e, t, n) {
"use strict";
n(490);
var r = n(55), o = n(357), i = n(83), a = /./.toString, s = function(e) {
n(106)(RegExp.prototype, "toString", e, !0);
};
n(44)(function() {
return "/a/b" != a.call({
source: "a",
flags: "b"
});
}) ? s(function e() {
var t = r(this);
return "/".concat(t.source, "/", "flags" in t ? t.flags : !i && t instanceof RegExp ? o.call(t) : void 0);
}) : "toString" != a.name && s(function e() {
return a.call(this);
});
}, function(e, t, n) {
n(191), n(281), n(350), n(829), e.exports = n(54).Set;
}, function(e, t, n) {
"use strict";
var r = n(480), o = n(215);
e.exports = n(283)("Set", function(e) {
return function t() {
return e(this, arguments.length > 0 ? arguments[0] : void 0);
};
}, {
add: function e(t) {
return r.def(o(this, "Set"), t = 0 === t ? 0 : t, t);
}
}, r);
}, function(e, t, n) {
n(831), n(832), n(833), n(281), n(834), n(835), n(836), n(837), n(838), n(839), 
n(840), n(841), n(842), n(843), n(844), n(845), n(846), n(847), n(848), n(849), 
n(850), n(851), n(491), n(492), n(493), n(494), e.exports = n(54).String;
}, function(e, t, n) {
var r = n(16), o = n(188), i = String.fromCharCode, a = String.fromCodePoint;
r(r.S + r.F * (!!a && 1 != a.length), "String", {
fromCodePoint: function e(t) {
for (var n, r = [], a = arguments.length, s = 0; a > s; ) {
if (n = +arguments[s++], o(n, 1114111) !== n) throw RangeError(n + " is not a valid code point");
r.push(n < 65536 ? i(n) : i(55296 + ((n -= 65536) >> 10), n % 1024 + 56320));
}
return r.join("");
}
});
}, function(e, t, n) {
var r = n(16), o = n(107), i = n(90);
r(r.S, "String", {
raw: function e(t) {
for (var n = o(t.raw), r = i(n.length), a = arguments.length, s = [], u = 0; r > u; ) s.push(String(n[u++])), 
u < a && s.push(String(arguments[u]));
return s.join("");
}
});
}, function(e, t, n) {
"use strict";
n(284)("trim", function(e) {
return function t() {
return e(this, 3);
};
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(475)(!1);
r(r.P, "String", {
codePointAt: function e(t) {
return o(this, t);
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(90), i = n(358), a = "".endsWith;
r(r.P + r.F * n(359)("endsWith"), "String", {
endsWith: function e(t) {
var n = i(this, t, "endsWith"), r = arguments.length > 1 ? arguments[1] : void 0, s = o(n.length), u = void 0 === r ? s : Math.min(o(r), s), l = String(t);
return a ? a.call(n, l, u) : n.slice(u - l.length, u) === l;
}
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(358);
r(r.P + r.F * n(359)("includes"), "String", {
includes: function e(t) {
return !!~o(this, t, "includes").indexOf(t, arguments.length > 1 ? arguments[1] : void 0);
}
});
}, function(e, t, n) {
var r = n(16);
r(r.P, "String", {
repeat: n(483)
});
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(90), i = n(358), a = "".startsWith;
r(r.P + r.F * n(359)("startsWith"), "String", {
startsWith: function e(t) {
var n = i(this, t, "startsWith"), r = o(Math.min(arguments.length > 1 ? arguments[1] : void 0, n.length)), s = String(t);
return a ? a.call(n, s, r) : n.slice(r, r + s.length) === s;
}
});
}, function(e, t, n) {
"use strict";
n(108)("anchor", function(e) {
return function t(n) {
return e(this, "a", "name", n);
};
});
}, function(e, t, n) {
"use strict";
n(108)("big", function(e) {
return function t() {
return e(this, "big", "", "");
};
});
}, function(e, t, n) {
"use strict";
n(108)("blink", function(e) {
return function t() {
return e(this, "blink", "", "");
};
});
}, function(e, t, n) {
"use strict";
n(108)("bold", function(e) {
return function t() {
return e(this, "b", "", "");
};
});
}, function(e, t, n) {
"use strict";
n(108)("fixed", function(e) {
return function t() {
return e(this, "tt", "", "");
};
});
}, function(e, t, n) {
"use strict";
n(108)("fontcolor", function(e) {
return function t(n) {
return e(this, "font", "color", n);
};
});
}, function(e, t, n) {
"use strict";
n(108)("fontsize", function(e) {
return function t(n) {
return e(this, "font", "size", n);
};
});
}, function(e, t, n) {
"use strict";
n(108)("italics", function(e) {
return function t() {
return e(this, "i", "", "");
};
});
}, function(e, t, n) {
"use strict";
n(108)("link", function(e) {
return function t(n) {
return e(this, "a", "href", n);
};
});
}, function(e, t, n) {
"use strict";
n(108)("small", function(e) {
return function t() {
return e(this, "small", "", "");
};
});
}, function(e, t, n) {
"use strict";
n(108)("strike", function(e) {
return function t() {
return e(this, "strike", "", "");
};
});
}, function(e, t, n) {
"use strict";
n(108)("sub", function(e) {
return function t() {
return e(this, "sub", "", "");
};
});
}, function(e, t, n) {
"use strict";
n(108)("sup", function(e) {
return function t() {
return e(this, "sup", "", "");
};
});
}, function(e, t, n) {
n(487), n(191), e.exports = n(54).Symbol;
}, function(e, t, n) {
n(854), n(855), n(856), n(857), n(858), n(859), n(860), n(861), n(862), n(863), 
n(864), n(191), e.exports = n(54);
}, function(e, t, n) {
"use strict";
var r = n(16), o = n(286), i = n(360), a = n(55), s = n(188), u = n(90), l = n(48), c = n(57).ArrayBuffer, p = n(496), d = i.ArrayBuffer, f = i.DataView, m = o.ABV && c.isView, h = d.prototype.slice, g = o.VIEW;
r(r.G + r.W + r.F * (c !== d), {
ArrayBuffer: d
}), r(r.S + r.F * !o.CONSTR, "ArrayBuffer", {
isView: function e(t) {
return m && m(t) || l(t) && g in t;
}
}), r(r.P + r.U + r.F * n(44)(function() {
return !new d(2).slice(1, void 0).byteLength;
}), "ArrayBuffer", {
slice: function e(t, n) {
if (void 0 !== h && void 0 === n) return h.call(a(this), t);
for (var r = a(this).byteLength, o = s(t, r), i = s(void 0 === n ? r : n, r), l = new (p(this, d))(u(i - o)), c = new f(this), m = new f(l), g = 0; o < i; ) m.setUint8(g++, c.getUint8(o++));
return l;
}
}), n(246)("ArrayBuffer");
}, function(e, t, n) {
var r = n(16);
r(r.G + r.W + r.F * !n(286).ABV, {
DataView: n(360).DataView
});
}, function(e, t, n) {
n(148)("Int8", 1, function(e) {
return function t(n, r, o) {
return e(this, n, r, o);
};
});
}, function(e, t, n) {
n(148)("Uint8", 1, function(e) {
return function t(n, r, o) {
return e(this, n, r, o);
};
});
}, function(e, t, n) {
n(148)("Uint8", 1, function(e) {
return function t(n, r, o) {
return e(this, n, r, o);
};
}, !0);
}, function(e, t, n) {
n(148)("Int16", 2, function(e) {
return function t(n, r, o) {
return e(this, n, r, o);
};
});
}, function(e, t, n) {
n(148)("Uint16", 2, function(e) {
return function t(n, r, o) {
return e(this, n, r, o);
};
});
}, function(e, t, n) {
n(148)("Int32", 4, function(e) {
return function t(n, r, o) {
return e(this, n, r, o);
};
});
}, function(e, t, n) {
n(148)("Uint32", 4, function(e) {
return function t(n, r, o) {
return e(this, n, r, o);
};
});
}, function(e, t, n) {
n(148)("Float32", 4, function(e) {
return function t(n, r, o) {
return e(this, n, r, o);
};
});
}, function(e, t, n) {
n(148)("Float64", 8, function(e) {
return function t(n, r, o) {
return e(this, n, r, o);
};
});
}, function(e, t, n) {
n(191), n(282), n(866), e.exports = n(54).WeakMap;
}, function(e, t, n) {
"use strict";
var r, o = n(131)(0), i = n(106), a = n(170), s = n(338), u = n(497), l = n(48), c = n(44), p = n(215), d = a.getWeak, f = Object.isExtensible, m = u.ufstore, h = {}, g = function(e) {
return function t() {
return e(this, arguments.length > 0 ? arguments[0] : void 0);
};
}, y = {
get: function e(t) {
if (l(t)) {
var n = d(t);
return !0 === n ? m(p(this, "WeakMap")).get(t) : n ? n[this._i] : void 0;
}
},
set: function e(t, n) {
return u.def(p(this, "WeakMap"), t, n);
}
}, S = e.exports = n(283)("WeakMap", g, y, u, !0, !0);
c(function() {
return 7 != new S().set((Object.freeze || Object)(h), 7).get(h);
}) && (s((r = u.getConstructor(g, "WeakMap")).prototype, y), a.NEED = !0, o([ "delete", "has", "get", "set" ], function(e) {
var t = S.prototype, n = t[e];
i(t, e, function(t, o) {
if (l(t) && !f(t)) {
this._f || (this._f = new r());
var i = this._f[e](t, o);
return "set" == e ? this : i;
}
return n.call(this, t, o);
});
}));
}, function(e, t, n) {
n(191), n(350), n(868), e.exports = n(54).WeakSet;
}, function(e, t, n) {
"use strict";
var r = n(497), o = n(215);
n(283)("WeakSet", function(e) {
return function t() {
return e(this, arguments.length > 0 ? arguments[0] : void 0);
};
}, {
add: function e(t) {
return r.def(o(this, "WeakSet"), t, !0);
}
}, r, !1, !0);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(40), o = n(875), i = n(1087), a = n(555), s = n(1106), u = n(1113), l = n(1149), c = n(1163), p = n(425), d = n(1204), f = n(266), m = n(1240), h = n(1243), g = n(1509), y = n(1515), S = n(1548), v = n(1553), _ = n(1555), b = n(1556), T = n(1557), E = n(1573), C = r.getBuildInfo().isCTE();
o.startClient([ i, s, u, g, S, b, a, m, h, C ? void 0 : y, C ? void 0 : c, C ? void 0 : p, f, C ? void 0 : v, C ? void 0 : l, C ? void 0 : d, C ? void 0 : _, C ? void 0 : T, C ? void 0 : E ]);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(361), i = n(95), a = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.remoteEngine = t, n.syncMethodsToSendOverWebsocket = {
createTweenSync: 1,
startTweenSync: 1,
updateTweensSync: 1,
jsStartSync: 1
}, n;
}
return r.__extends(t, e), t.prototype.start = function(e) {
this.remoteEngine.start(e);
}, t.prototype.objectAssignDefined = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o, i, a = typeof n;
if (Array.isArray(n) && (a = "array"), "object" !== a && null !== n && "undefined" !== a) throw new Error("Source 2 must be object, null or undefined, got " + a);
if (t) for (o in t) t.hasOwnProperty(o) && void 0 !== (i = t[o]) && (e[o] = i);
if (n) for (o in n) n.hasOwnProperty(o) && void 0 !== (i = n[o]) && (e[o] = i);
return e;
}, t.prototype.objectAssign = function(e, t, n) {
if ("object" != typeof e) throw new Error("Target must be object, got: " + typeof e);
var r = typeof t;
if (Array.isArray(t) && (r = "array"), "object" !== r && null !== t && "undefined" !== r) throw new Error("Source 1 must be object, null or undefined, got " + r);
var o, i, a = typeof n;
if (Array.isArray(n) && (a = "array"), "object" !== a && null !== n && "undefined" !== a) throw new Error("Source 2 must be object, null or undefined, got " + a);
if (t) for (o in t) t.hasOwnProperty(o) && (i = t[o], e[o] = i);
if (n) for (o in n) n.hasOwnProperty(o) && (i = n[o], e[o] = i);
return e;
}, t.prototype.profilerTime = function() {
return i.globalScope.window.performance.now();
}, t.prototype.call = function(t, n, r, o) {
var i = !1;
return t in this.syncMethodsToSendOverWebsocket && (n = !1, i = !0), e.prototype.call.call(this, t, n, r, o, i);
}, t.prototype.delegateCall = function(e, t, n) {
return this.remoteEngine.call(e, t, n);
}, t;
}(o.AbstractDelegate);
t.RemoteDelegate = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(287), i = n(40);
t.diffProps = function a(e, t, n) {
r || -1 === (r = i.getBuildInfo().getSurfaceProps()).indexOf("events") && r.push("events");
var a, s, u, l, c, p = !1, d = r;
(e.shaderUrl || e.shaderProgram || t.shaderUrl || t.shaderProgram) && (d = r.slice(), 
Object.keys(e).forEach(function(e) {
e.startsWith("shaderParam_") && d.push(e);
}), Object.keys(t).forEach(function(e) {
e.startsWith("shaderParam_") && d.push(e);
}));
for (var f = d.length, m = 0; m < f; m++) if ((l = typeof (s = e[a = d[m]])) == (c = typeof (u = t[a]))) switch (l) {
case "undefined":
break;

case "object":
o.isEqual(s, u) || (p = !0, n[a] = u);
break;

case "number":
case "string":
case "boolean":
s !== u && (p = !0, n[a] = u);
break;

default:
throw new Error("Unknown type " + l + " for property " + a);
} else "undefined" === c ? (p = !0, n[a] = null) : (p = !0, n[a] = u);
return p;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(84), i = n(3), a = n(288), s = n(149), u = [], l = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.delegate = t, n.supportsSyncTweens = !1, n.supportsLineApi = !1, n.supportsDisableWorldRender = !1, 
n.asyncId = 0, n.asyncCalls = {}, n.onCallMethodAsync = function(e, t, r) {
var o = n.asyncCalls[e];
delete n.asyncCalls[e], o && o(t, r);
}, n.objectAssignDefined = function(e, t, r) {
return n.delegate.objectAssignDefined(e, t, r);
}, n.objectAssign = function(e, t, r) {
return n.delegate.objectAssign(e, t, r);
}, n.batchedUpdates = function(e) {
e();
}, n;
}
return r.__extends(t, e), t.prototype.isCallSupported = function(e) {
return !!this.delegate.functions && this.delegate.functions.hasOwnProperty(e);
}, t.prototype.start = function(e) {
return this.delegate.start(e);
}, t.prototype.callAsync = function(e) {
for (var t = this, n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
return new Promise(function(r, o) {
if (t.isCallSupported("callMethodAsync")) {
var i = t.asyncId++;
t.asyncCalls[i] = function(e, t) {
e ? r(t) : o(t);
}, t.callMethodAsync(i, e, n);
} else {
var a = t.delegate.call(e, !0, n);
r(a);
}
});
}, t.prototype.profilerTime = function() {
return this.delegate.profilerTime();
}, t.prototype.createTween = function(t, n) {
return this.supportsSyncTweens ? e.prototype.createTweenSync.call(this, t, n) : e.prototype.createTween.call(this, t, n);
}, t.prototype.startTween = function(t, n, r, o, i, a, s) {
return this.supportsSyncTweens ? e.prototype.startTweenSync.call(this, t, n, r, o, i, a, s) : e.prototype.startTween.call(this, t, n, r, o, i, a, s);
}, t.prototype.updateTweens = function(t) {
return this.supportsSyncTweens ? e.prototype.updateTweensSync.call(this, t) : e.prototype.updateTweens.call(this, t);
}, t.prototype.disableWorldRender = function(e) {
this.supportsDisableWorldRender && this.delegate.call("disableWorldRender", !1, [ e ]);
}, t.prototype.getBuildInfoSync = function() {
var e = this.delegate.call("getBuildInfoSync", !0, u);
this.supportsSyncTweens = !!e.functions.createTweenSync;
var t = e.features.LinePointsProperty;
this.supportsLineApi = t && t.enabled;
var n = e.features.DisableWorldRender;
return this.supportsDisableWorldRender = n && n.enabled, e;
}, t.prototype.setClipboardText = function(t) {
return e.prototype.clipboardSetText.call(this, t);
}, t.prototype.getClipboardText = function() {
return e.prototype.clipboardGetText.call(this);
}, t.prototype.onScriptCalls = function(e) {
var t = this;
e = o.options.batchCallTransformer(e), s.beginScriptCalls.trigger();
var n = !1;
this.batchedUpdates(function() {
a.tweenBatcher.start(), i.transaction(function() {
for (var r = 0; r < e.length; ++r) {
var i = e[r], a = i[0], s = i[1], u = t[a];
if (u) {
if (o.options.onErrorCallback) try {
u.apply(void 0, s);
} catch (e) {
o.options.onErrorCallback(a, e);
} else u.apply(void 0, s);
t.delegate.needStateChanges && "onSurfaceBoundsChanged" !== a && (n = !0);
} else console.error("Missing function '" + a + "'. Make sure it exists in NativeAPI");
}
}), a.tweenBatcher.stop(t), s.endScriptCalls.trigger();
}), n && this.applyStateChanges();
}, t;
}(n(873).TwinkleNativeApiGenerated);
t.NativeAPI = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = [], o = function() {
function e(e) {
this.delegate = e;
}
return e.prototype.createRootSurface = function(e) {
this.delegate.call("createRootSurface", !1, [ e ]);
}, e.prototype.updateSurface = function(e, t) {
this.delegate.call("updateSurface", !1, [ e, t ]);
}, e.prototype.replaceUpdateSurface = function(e, t) {
this.delegate.call("replaceUpdateSurface", !1, [ e, t ]);
}, e.prototype.replaceSurface = function(e, t) {
this.delegate.call("replaceSurface", !1, [ e, t ]);
}, e.prototype.updateSurfaceChildren = function(e, t) {
this.delegate.call("updateSurfaceChildren", !1, [ e, t ]);
}, e.prototype.getSurfaceBoundsSync = function(e) {
return this.delegate.call("getSurfaceBoundsSync", !0, [ e ]);
}, e.prototype.getSurfacesBoundsSync = function(e) {
return this.delegate.call("getSurfacesBoundsSync", !0, [ e ]);
}, e.prototype.getSurfaceChainAtPositionSync = function(e, t) {
return this.delegate.call("getSurfaceChainAtPositionSync", !0, [ e, t ]);
}, e.prototype.surfaceDebugHighlight = function(e, t, n, r, o) {
this.delegate.call("surfaceDebugHighlight", !1, [ e, t, n, r, o ]);
}, e.prototype.playVideo = function(e, t, n) {
this.delegate.call("playVideo", !1, [ e, t, n ]);
}, e.prototype.playVideoAudioBus = function(e, t, n, r) {
this.delegate.call("playVideoAudioBus", !1, [ e, t, n, r ]);
}, e.prototype.playVideoSaveCacheOnDisk = function(e, t, n, r, o) {
this.delegate.call("playVideoSaveCacheOnDisk", !1, [ e, t, n, r, o ]);
}, e.prototype.playVideoRenderWorld = function(e, t, n, r, o, i) {
this.delegate.call("playVideoRenderWorld", !1, [ e, t, n, r, o, i ]);
}, e.prototype.pauseVideo = function(e) {
this.delegate.call("pauseVideo", !1, [ e ]);
}, e.prototype.stopVideo = function(e) {
this.delegate.call("stopVideo", !1, [ e ]);
}, e.prototype.setVideoVolume = function(e, t) {
this.delegate.call("setVideoVolume", !1, [ e, t ]);
}, e.prototype.stopAllVideo = function() {
this.delegate.call("stopAllVideo", !1, r);
}, e.prototype.playSound = function(e, t, n) {
this.delegate.call("playSound", !1, [ e, t, n ]);
}, e.prototype.playSoundAudioBus = function(e, t, n, r) {
this.delegate.call("playSoundAudioBus", !1, [ e, t, n, r ]);
}, e.prototype.pauseSound = function(e) {
this.delegate.call("pauseSound", !1, [ e ]);
}, e.prototype.stopSound = function(e) {
this.delegate.call("stopSound", !1, [ e ]);
}, e.prototype.stopSoundWithFadeout = function(e, t) {
this.delegate.call("stopSoundWithFadeout", !1, [ e, t ]);
}, e.prototype.setSoundVolume = function(e, t) {
this.delegate.call("setSoundVolume", !1, [ e, t ]);
}, e.prototype.setSoundPitch = function(e, t) {
this.delegate.call("setSoundPitch", !1, [ e, t ]);
}, e.prototype.stopAllSounds = function() {
this.delegate.call("stopAllSounds", !1, r);
}, e.prototype.fetchKey = function(e, t) {
this.delegate.call("fetchKey", !1, [ e, t ]);
}, e.prototype.storeKey = function(e, t, n) {
this.delegate.call("storeKey", !1, [ e, t, n ]);
}, e.prototype.removeKey = function(e, t) {
this.delegate.call("removeKey", !1, [ e, t ]);
}, e.prototype.clearKeys = function(e) {
this.delegate.call("clearKeys", !1, [ e ]);
}, e.prototype.createTween = function(e, t) {
this.delegate.call("createTween", !1, [ e, t ]);
}, e.prototype.destroyTween = function(e) {
this.delegate.call("destroyTween", !1, [ e ]);
}, e.prototype.updateTween = function(e, t, n, r, o, i, a) {
this.delegate.call("updateTween", !1, [ e, t, n, r, o, i, a ]);
}, e.prototype.startTween = function(e, t, n, r, o, i, a) {
this.delegate.call("startTween", !1, [ e, t, n, r, o, i, a ]);
}, e.prototype.updateTweens = function(e) {
this.delegate.call("updateTweens", !1, [ e ]);
}, e.prototype.createTweenSync = function(e, t) {
this.delegate.call("createTweenSync", !0, [ e, t ]);
}, e.prototype.destroyTweenSync = function(e) {
this.delegate.call("destroyTweenSync", !0, [ e ]);
}, e.prototype.updateTweenSync = function(e, t, n, r, o, i, a) {
this.delegate.call("updateTweenSync", !0, [ e, t, n, r, o, i, a ]);
}, e.prototype.startTweenSync = function(e, t, n, r, o, i, a) {
this.delegate.call("startTweenSync", !0, [ e, t, n, r, o, i, a ]);
}, e.prototype.updateTweensSync = function(e) {
this.delegate.call("updateTweensSync", !0, [ e ]);
}, e.prototype.getTweenValueSync = function(e) {
return this.delegate.call("getTweenValueSync", !0, [ e ]);
}, e.prototype.createStyle = function(e, t) {
this.delegate.call("createStyle", !1, [ e, t ]);
}, e.prototype.getStyle = function(e) {
return this.delegate.call("getStyle", !0, [ e ]);
}, e.prototype.deleteStyle = function(e) {
return this.delegate.call("deleteStyle", !1, [ e ]);
}, e.prototype.createDynamicAtlasSync = function(e, t, n, r, o, i) {
this.delegate.call("createDynamicAtlasSync", !0, [ e, t, n, r, o, i ]);
}, e.prototype.destroyAtlas = function(e) {
this.delegate.call("destroyAtlas", !0, [ e ]);
}, e.prototype.setEnableAtlas = function(e, t) {
this.delegate.call("setEnableAtlas", !0, [ e, t ]);
}, e.prototype.loadDefaultTexture = function(e, t, n) {
this.delegate.call("loadDefaultTexture", !1, [ e, t, n ]);
}, e.prototype.loadDefaultTextureGenMipmap = function(e, t, n, r) {
this.delegate.call("loadDefaultTextureGenMipmap", !1, [ e, t, n, r ]);
}, e.prototype.isEnterOnCircle = function() {
return this.delegate.call("isEnterOnCircle", !0, r);
}, e.prototype.clipboardSetText = function(e) {
return this.delegate.call("clipboardSetText", !0, [ e ]);
}, e.prototype.clipboardGetText = function() {
return this.delegate.call("clipboardGetText", !0, r);
}, e.prototype.setGlyphTextureSizeSync = function(e) {
this.delegate.call("setGlyphTextureSizeSync", !0, [ e ]);
}, e.prototype.setGlyphSamplesSync = function(e) {
this.delegate.call("setGlyphSamplesSync", !0, [ e ]);
}, e.prototype.jsStart = function() {
this.delegate.call("jsStart", !1, r);
}, e.prototype.jsStartSync = function() {
this.delegate.call("jsStartSync", !0, r);
}, e.prototype.addTimeout = function(e, t) {
this.delegate.call("addTimeout", !1, [ e, t ]);
}, e.prototype.log = function(e, t) {
this.delegate.call("log", !0, [ e, t ]);
}, e.prototype.setCaptureGameScreen = function(e) {
this.delegate.call("setCaptureGameScreen", !1, [ e ]);
}, e.prototype.clearCaptureGameScreen = function() {
this.delegate.call("clearCaptureGameScreen", !1, r);
}, e.prototype.httpRequest = function(e, t, n, r, o) {
this.delegate.call("httpRequest", !1, [ e, t, n, r, o ]);
}, e.prototype.loadAssetRequest = function(e, t) {
this.delegate.call("loadAssetRequest", !0, [ e, t ]);
}, e.prototype.loadFont = function(e, t) {
this.delegate.call("loadFont", !1, [ e, t ]);
}, e.prototype.playSpriteAnimation = function(e, t) {
this.delegate.call("playSpriteAnimation", !1, [ e, t ]);
}, e.prototype.applyStateChanges = function() {
this.delegate.call("applyStateChanges", !1, r);
}, e.prototype.sendMessage = function(e, t) {
this.delegate.call("sendMessage", !1, [ e, t ]);
}, e.prototype.fbSettingSet = function(e, t) {
this.delegate.call("fbSettingSet", !1, [ e, t ]);
}, e.prototype.showError = function(e) {
this.delegate.call("showError", !1, [ e ]);
}, e.prototype.enableMouseMoveSync = function(e) {
this.delegate.call("enableMouseMoveSync", !0, [ e ]);
}, e.prototype.getBuildInfoSync = function() {
return this.delegate.call("getBuildInfoSync", !0, r);
}, e.prototype.setUseCssMarginOrderSync = function(e) {
this.delegate.call("setUseCssMarginOrderSync", !0, [ e ]);
}, e.prototype.verifyCodeSignatureSync = function(e) {
return this.delegate.call("verifyCodeSignatureSync", !0, [ e ]);
}, e.prototype.setFullscreenResampleSync = function(e, t, n) {
this.delegate.call("setFullscreenResampleSync", !0, [ e, t, n ]);
}, e.prototype.reloadScriptEngine = function() {
this.delegate.call("reloadScriptEngine", !0, r);
}, e.prototype.openUrl = function(e) {
return this.delegate.call("openUrl", !0, [ e ]);
}, e.prototype.sendConsoleCommandSync = function(e) {
return this.delegate.call("sendConsoleCommandSync", !0, [ e ]);
}, e.prototype.writeConsoleOutputSync = function(e, t) {
return this.delegate.call("writeConsoleOutputSync", !0, [ e, t ]);
}, e.prototype.debugUiCreateWindow = function(e, t, n, r, o) {
this.delegate.call("debugUiCreateWindow", !1, [ e, t, n, r, o ]);
}, e.prototype.debugUiCreateToggle = function(e, t, n, r, o, i) {
this.delegate.call("debugUiCreateToggle", !1, [ e, t, n, r, o, i ]);
}, e.prototype.debugUiCreateAction = function(e, t, n, r, o) {
this.delegate.call("debugUiCreateAction", !1, [ e, t, n, r, o ]);
}, e.prototype.debugUiCreateOrUpdateElement = function(e, t, n, r, o, i, a, s, u, l, c, p, d, f, m, h) {
this.delegate.call("debugUiCreateOrUpdateElement", !1, [ e, t, n, r, o, i, a, s, u, l, c, p, d, f, m, h ]);
}, e.prototype.debugUiDeleteElement = function(e, t) {
this.delegate.call("debugUiDeleteElement", !1, [ e, t ]);
}, e.prototype.debugUiSetChildIds = function(e, t, n) {
this.delegate.call("debugUiSetChildIds", !1, [ e, t, n ]);
}, e.prototype.debugUiSetWindowRootElement = function(e, t) {
this.delegate.call("debugUiSetWindowRootElement", !1, [ e, t ]);
}, e.prototype.getPerfCounter = function() {
return this.delegate.call("getPerfCounter", !0, r, "0");
}, e.prototype.getPerfFrequency = function() {
return this.delegate.call("getPerfFrequency", !0, r, "1");
}, e.prototype.startScriptCallProfiling = function(e) {
this.delegate.call("startScriptCallProfiling", !0, [ e ]);
}, e.prototype.endScriptCallProfiling = function() {
this.delegate.call("endScriptCallProfiling", !0, r);
}, e.prototype.sendDebugHttpResponse = function(e, t, n) {
this.delegate.call("sendDebugHttpResponse", !1, [ e, t, n ]);
}, e.prototype.addTimingEvent = function(e, t, n) {
return this.delegate.call("addTimingEvent", !0, [ e, t, n ]);
}, e.prototype.debugSelectSurfaces = function(e, t) {
return this.delegate.call("debugSelectSurfaces", !0, [ e, t ]);
}, e.prototype.debugClearAllSurfaceSelection = function() {
this.delegate.call("debugClearAllSurfaceSelection", !0, r);
}, e.prototype.sendRtvConsoleMsgResult = function(e, t) {
this.delegate.call("sendRtvConsoleMsgResult", !1, [ e, t ]);
}, e.prototype.getGamedataByGuid = function(e) {
return this.delegate.call("getGamedataByGuid", !0, [ e ]);
}, e.prototype.getGamedataByName = function(e) {
return this.delegate.call("getGamedataByName", !0, [ e ]);
}, e.prototype.getGamedataTypeInfo = function(e) {
return this.delegate.call("getGamedataTypeInfo", !0, [ e ]);
}, e.prototype.getGamedataLocStringByHash = function(e) {
return this.delegate.call("getGamedataLocStringByHash", !0, [ e ]);
}, e.prototype.getGamedataLocStringBySID = function(e) {
return this.delegate.call("getGamedataLocStringBySID", !0, [ e ]);
}, e.prototype.disableWorldRender = function(e) {
this.delegate.call("disableWorldRender", !1, [ e ]);
}, e.prototype.callMethodAsync = function(e, t, n) {
this.delegate.call("callMethodAsync", !1, [ e, t, n ]);
}, e;
}();
t.TwinkleNativeApiGenerated = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(40), o = n(500), i = n(95), a = function() {
function e() {
this.clientIsOpen = !1, this.queuedPayloads = [];
}
return e.prototype.start = function(t) {
var n = this, o = "" === r.getBuildInfo().fbBranchName, a = r.getBuildInfo().hasDebugHttp() || o ? "/ws" : "/remotescriptengine/ws";
this.client = new WebSocket("ws://" + i.globalScope.location.host + a), this.client.onopen = function() {
n.clientIsOpen = !0, n.queuedPayloads.forEach(function(e) {
return n.sendPayload(e);
}), n.queuedPayloads.length = 0, t();
}, this.client.onerror = function(e) {
n.clientIsOpen = !1, console.error("WebSocket connection closed down.", e), t && t();
}, this.client.onmessage = function(t) {
n.onScriptCalls ? n.onScriptCalls(e.getCallsFromMessage(t)) : console.log("onScriptCalls not added to RemoteEngine");
};
}, e.decodeResponse = function(e) {
return e.replace(/"__BASE64(.*?)"/g, function(e, t) {
return JSON.stringify(o.decode(t));
});
}, e.createPayload = function(e, t) {
return JSON.stringify([ e, t ]);
}, e.syncRequest = function(t, n) {
var r = new i.globalScope.XMLHttpRequest();
if (r.open("POST", e.syncUrl + (n ? "?" + n : ""), !1), r.overrideMimeType("text/plain"), 
r.send(t), 404 === r.status && "/remotescriptengine/sync_call" === e.syncUrl) return e.syncUrl = "/sync_call", 
this.syncRequest(t, n);
if (200 !== r.status) throw console.error("Got status: ", r.status, " for payload ", t), 
new Error("Sync call returned status " + r.status + ". See console for more detail.");
try {
return JSON.parse(e.decodeResponse(r.responseText));
} catch (e) {
throw console.error("Could not parse TwinkleNative sync reply as JSON", e), console.info("Reply: ", r.responseText), 
new Error("Sync call failed to parse as JSON. See console for more detail.");
}
}, e.getCallsFromMessage = function(t) {
var n, r = e.decodeResponse(t.data);
try {
var o = JSON.parse(r);
n = "string" == typeof o[0] && Array.isArray(o[1]) ? [ o ] : o;
} catch (e) {
return console.error("Could not parse TwinkleNative websocket message as JSON", e), 
console.info("Websocket message: ", t.data), [];
}
return n;
}, e.prototype.sendPayload = function(e) {
if (this.client && this.client.readyState === this.client.OPEN) try {
this.client.send(e);
} catch (e) {
console.error("Failed to send payload over WebSocket:", e);
}
}, e.prototype.call = function(t, n, r) {
if ("getPerfCounter" === t) return "0";
if ("addTimingEvent" === t) return "0";
var o = e.createPayload(t, r);
if (n) return e.syncRequest(o, t)[0];
this.clientIsOpen ? this.sendPayload(o) : this.queuedPayloads.push(o);
}, e.syncUrl = "/remotescriptengine/sync_call", e;
}();
t.RemoteEngine = a;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
}), n(876);
var r = n(1), o = n(3), i = n(290), a = n(117), s = n(150), u = n(882), l = n(883), c = (n(1023), 
n(1024)), p = n(1025), d = n(509), f = (n(1086), n(5));
o.configure({
enforceActions: !1
}), t.startClient = function m(t) {
var n = new p.SpartaInstance(), m = n.twinkle, h = m.options, g = m.nativeApi, y = m.frostbite, S = m.inputHandler;
g.onSendErrorToJs = function(e, t) {
var n = "", r = "";
t && t.forEach(function(e) {
n += r + e + "\n", r += "  ";
}), n += r + e, console.error("************** Error reported from native **************\n" + n);
}, c.initUrlHooks(m.options, function(e) {
m.nativeApi.showError(e);
}, n.stores.settingsStore), i.init();
var v = m.getBuildInfo();
m.nativeApi.setFullscreenResampleSync(!1, 1920, 1080), console.log("##################################################"), 
console.log("Sparta JavaScript version", "release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod"), 
console.log("##################################################"), v.isRemoteEngine() && (e.twinkle = m), 
o.runInAction("Initial controllerMode value", function() {
return m.focus.controllerMode = v.isConsole;
}), o.runInAction(function() {
S.mouseAndKeyboardMode = void 0;
});
var _ = function b(e, t) {
var n = [];
return t.forEach(function(t) {
var r;
t && ("function" == typeof t.initialize && (r = t.initialize(e)) && n.push.apply(n, r), 
t.module && t.module.initialize && t.subModules && (r = t.module.initialize(e, t.subModules)) && n.push.apply(n, r));
}), n;
}(n, t);
function T(t, n) {
var r = d.sendSentryReport(n);
console.error("OnError called:", n), e.isJSC ? g.showError("Error calling '" + t + "':\n" + n.toString() + ".\nLine: " + n.line + "\nColumn:" + n.column + "\nStack:\n" + n.stack + (r ? "\nSentry Event ID:" + r.event_id : "")) : g.showError("Error calling '" + t + "'. Reason: " + n.stack);
}
a.coreEventStore.onAllModulesLoaded(), g.start(function() {
u.load(m.texture), h.useNativeTextureFadeIn = v.hasTextureFadeIn(), h.defaultTextStyle = f.StaticStyle.create({
fontFamily: "Purista-Medium",
fontSize: 18,
color: "#ffffff",
textSoftness: v.isPC ? .6 : 0,
textEdgeOffset: 0
}, "a8d48652:252:35"), h.enableDevWarnings = !1, h.enableLogging = !v.isEndUserBuild(), 
h.onErrorCallback = T, h.useNativeStyles = v.isFeatureSupported("CopyTweenExpressions"), 
h.useNativeTextureFadeIn && v.hasMutableDefaultSurface() && g.updateSurface("<TwinkleLayout::defaultSurface>", {
textureFadeInTime: .3,
textureFadeInCutoff: .01,
textureFadeInEasing: "CubicOut"
}), v.hasJsCreateAtlas() && (g.createDynamicAtlasSync("SpartaCommonAtlas", 1024, 1024, "RGBA", 0, 0), 
g.createDynamicAtlasSync("AvatarAtlas", 512, 512, "RGBA", 0, 0), g.createDynamicAtlasSync("DogtagsAtlas", 1024, 1024, "RGBA", 0, 0), 
g.createDynamicAtlasSync("WeaponsAtlas", 1024, 1024, "RGBA", 0, 0), g.createDynamicAtlasSync("VehiclesAtlas", 1024, 1024, "RGBA", 0, 0), 
g.createDynamicAtlasSync("KitsAtlas", 1024, 1024, "RGBA", 0, 0), g.createDynamicAtlasSync("AwardsAtlas", 1024, 1024, "RGBA", 0, 0), 
g.createDynamicAtlasSync("CodexAtlas", 1024, 1024, "RGBA", 0, 0), g.createDynamicAtlasSync("AssignmentsAtlas", 1024, 1024, "RGBA", 0, 0)), 
v.isFunctionSupported("setUseCssMarginOrderSync") && g.setUseCssMarginOrderSync(!0);
var e = function t(e) {
var t = [], n = 0;
return e.forEach(function(e) {
var o = n++;
t.push(r.createElement(e, {
key: o
}));
}), t;
}(_);
l.Client.render(n, e), function e(t) {
var n = t.reconciler.rootId;
if (n) {
var r = t.bounds.getBoundsSync(n);
if (r) return void t.events.onWindowSizeChanged.trigger(r.width, r.height);
}
setTimeout(function() {
return e(t);
}, 500);
}(m), m.events.onWindowSizeChanged.listen(function(e, t) {
if (v.hasSetGlyphSamplesSync()) {
var n = 2;
(v.isPC && t > 600 || t > 1080) && (n = 3), g.setGlyphSamplesSync(n);
}
var r = m.reconciler.rootId;
r && g.updateSurface(r, {
width: e,
height: t
});
});
}), function E(e, t) {
var n = !1, r = function(e) {
n || (n = !0, t(e));
};
setTimeout(function() {
return r("");
}, 3e3), e.uuidPromise.then(function(e) {
return r(e);
}).catch(function() {
return r("");
});
}(n.stores.pinStore, function(e) {
y.sendMessage("sparta.jsClientReady", {
deviceId: e
});
}), y.sendMessage("sparta.setJsBuildInfo", {
changelist: "ad7bf56a8e58e452d13d9fd9de786d4fa6acec43",
version: "release-bf1-lsu35/26385/tunguska",
gatewayUrl: ""
}), v.isPS4 && s.onReady.listen(function() {
y.sendMessage("sparta.orbis.getAccountInfo");
});
};
}).call(this, n(185));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), n(66), n(0);
var r = n(52);
r.nativeApi.supportsSyncTweens ? r.nativeApi.jsStartSync() : r.nativeApi.jsStart();
}, function(e, t, n) {
"use strict";
/** @license React v16.4.1
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var r = n(362), o = n(363), i = n(289), a = n(501), s = "function" == typeof Symbol && Symbol.for, u = s ? Symbol.for("react.element") : 60103, l = s ? Symbol.for("react.portal") : 60106, c = s ? Symbol.for("react.fragment") : 60107, p = s ? Symbol.for("react.strict_mode") : 60108, d = s ? Symbol.for("react.profiler") : 60114, f = s ? Symbol.for("react.provider") : 60109, m = s ? Symbol.for("react.context") : 60110, h = s ? Symbol.for("react.async_mode") : 60111, g = s ? Symbol.for("react.forward_ref") : 60112;
s && Symbol.for("react.timeout");
var y = "function" == typeof Symbol && Symbol.iterator;
function S(e) {
for (var t = arguments.length - 1, n = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, r = 0; r < t; r++) n += "&args[]=" + encodeURIComponent(arguments[r + 1]);
o(!1, "Minified React error #" + e + "; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ", n);
}
var v = {
isMounted: function() {
return !1;
},
enqueueForceUpdate: function() {},
enqueueReplaceState: function() {},
enqueueSetState: function() {}
};
function _(e, t, n) {
this.props = e, this.context = t, this.refs = i, this.updater = n || v;
}
function b() {}
function T(e, t, n) {
this.props = e, this.context = t, this.refs = i, this.updater = n || v;
}
_.prototype.isReactComponent = {}, _.prototype.setState = function(e, t) {
"object" != typeof e && "function" != typeof e && null != e && S("85"), this.updater.enqueueSetState(this, e, t, "setState");
}, _.prototype.forceUpdate = function(e) {
this.updater.enqueueForceUpdate(this, e, "forceUpdate");
}, b.prototype = _.prototype;
var E = T.prototype = new b();
E.constructor = T, r(E, _.prototype), E.isPureReactComponent = !0;
var C = {
current: null
}, I = Object.prototype.hasOwnProperty, A = {
key: !0,
ref: !0,
__self: !0,
__source: !0
};
function w(e, t, n) {
var r = void 0, o = {}, i = null, a = null;
if (null != t) for (r in void 0 !== t.ref && (a = t.ref), void 0 !== t.key && (i = "" + t.key), 
t) I.call(t, r) && !A.hasOwnProperty(r) && (o[r] = t[r]);
var s = arguments.length - 2;
if (1 === s) o.children = n; else if (1 < s) {
for (var l = Array(s), c = 0; c < s; c++) l[c] = arguments[c + 2];
o.children = l;
}
if (e && e.defaultProps) for (r in s = e.defaultProps) void 0 === o[r] && (o[r] = s[r]);
return {
$$typeof: u,
type: e,
key: i,
ref: a,
props: o,
_owner: C.current
};
}
function P(e) {
return "object" == typeof e && null !== e && e.$$typeof === u;
}
var R = /\/+/g, O = [];
function x(e, t, n, r) {
if (O.length) {
var o = O.pop();
return o.result = e, o.keyPrefix = t, o.func = n, o.context = r, o.count = 0, o;
}
return {
result: e,
keyPrefix: t,
func: n,
context: r,
count: 0
};
}
function k(e) {
e.result = null, e.keyPrefix = null, e.func = null, e.context = null, e.count = 0, 
10 > O.length && O.push(e);
}
function L(e, t, n, r) {
var o = typeof e;
"undefined" !== o && "boolean" !== o || (e = null);
var i = !1;
if (null === e) i = !0; else switch (o) {
case "string":
case "number":
i = !0;
break;

case "object":
switch (e.$$typeof) {
case u:
case l:
i = !0;
}
}
if (i) return n(r, e, "" === t ? "." + M(e, 0) : t), 1;
if (i = 0, t = "" === t ? "." : t + ":", Array.isArray(e)) for (var a = 0; a < e.length; a++) {
var s = t + M(o = e[a], a);
i += L(o, s, n, r);
} else if (null === e || void 0 === e ? s = null : s = "function" == typeof (s = y && e[y] || e["@@iterator"]) ? s : null, 
"function" == typeof s) for (e = s.call(e), a = 0; !(o = e.next()).done; ) i += L(o = o.value, s = t + M(o, a++), n, r); else "object" === o && S("31", "[object Object]" === (n = "" + e) ? "object with keys {" + Object.keys(e).join(", ") + "}" : n, "");
return i;
}
function M(e, t) {
return "object" == typeof e && null !== e && null != e.key ? function n(e) {
var t = {
"=": "=0",
":": "=2"
};
return "$" + ("" + e).replace(/[=:]/g, function(e) {
return t[e];
});
}(e.key) : t.toString(36);
}
function D(e, t) {
e.func.call(e.context, t, e.count++);
}
function N(e, t, n) {
var r = e.result, o = e.keyPrefix;
e = e.func.call(e.context, t, e.count++), Array.isArray(e) ? F(e, r, n, a.thatReturnsArgument) : null != e && (P(e) && (t = o + (!e.key || t && t.key === e.key ? "" : ("" + e.key).replace(R, "$&/") + "/") + n, 
e = {
$$typeof: u,
type: e.type,
key: t,
ref: e.ref,
props: e.props,
_owner: e._owner
}), r.push(e));
}
function F(e, t, n, r, o) {
var i = "";
null != n && (i = ("" + n).replace(R, "$&/") + "/"), t = x(t, i, r, o), null == e || L(e, "", N, t), 
k(t);
}
var G = {
Children: {
map: function(e, t, n) {
if (null == e) return e;
var r = [];
return F(e, r, null, t, n), r;
},
forEach: function(e, t, n) {
if (null == e) return e;
t = x(null, null, t, n), null == e || L(e, "", D, t), k(t);
},
count: function(e) {
return null == e ? 0 : L(e, "", a.thatReturnsNull, null);
},
toArray: function(e) {
var t = [];
return F(e, t, null, a.thatReturnsArgument), t;
},
only: function(e) {
return P(e) || S("143"), e;
}
},
createRef: function() {
return {
current: null
};
},
Component: _,
PureComponent: T,
createContext: function(e, t) {
return void 0 === t && (t = null), (e = {
$$typeof: m,
_calculateChangedBits: t,
_defaultValue: e,
_currentValue: e,
_currentValue2: e,
_changedBits: 0,
_changedBits2: 0,
Provider: null,
Consumer: null
}).Provider = {
$$typeof: f,
_context: e
}, e.Consumer = e;
},
forwardRef: function(e) {
return {
$$typeof: g,
render: e
};
},
Fragment: c,
StrictMode: p,
unstable_AsyncMode: h,
unstable_Profiler: d,
createElement: w,
cloneElement: function(e, t, n) {
(null === e || void 0 === e) && S("267", e);
var o = void 0, i = r({}, e.props), a = e.key, s = e.ref, l = e._owner;
if (null != t) {
void 0 !== t.ref && (s = t.ref, l = C.current), void 0 !== t.key && (a = "" + t.key);
var c = void 0;
for (o in e.type && e.type.defaultProps && (c = e.type.defaultProps), t) I.call(t, o) && !A.hasOwnProperty(o) && (i[o] = void 0 === t[o] && void 0 !== c ? c[o] : t[o]);
}
if (1 === (o = arguments.length - 2)) i.children = n; else if (1 < o) {
c = Array(o);
for (var p = 0; p < o; p++) c[p] = arguments[p + 2];
i.children = c;
}
return {
$$typeof: u,
type: e.type,
key: a,
ref: s,
props: i,
_owner: l
};
},
createFactory: function(e) {
var t = w.bind(null, e);
return t.type = e, t;
},
isValidElement: P,
version: "16.4.1",
__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {
ReactCurrentOwner: C,
assign: r
}
}, U = {
default: G
}, B = U && G || U;
e.exports = B.default ? B.default : B;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(95);
if (r.globalScope.isJSC = void 0 === r.globalScope.Duktape && r.globalScope.TwinkleNative, 
r.globalScope.isBrowser = void 0 !== r.globalScope.navigator, r.globalScope.isNode = void 0 !== r.globalScope.process, 
n(77).addReactHelperFunctions(), r.globalScope.isNode) r.globalScope.__ = function(e) {
return e;
}; else if (r.globalScope.isBrowser) ; else {
if (!r.globalScope.TwinkleNative) throw new Error("Unable to detect JavaScript runtime!");
var o = Object;
"function" != typeof o.assign && (o.assign = function(e) {
if (void 0 === e || null === e) throw new TypeError("Cannot convert undefined or null to object");
for (var t = Object(e), n = 1; n < arguments.length; n++) {
var r = arguments[n];
if (void 0 !== r && null !== r) for (var o in r) r.hasOwnProperty(o) && (t[o] = r[o]);
}
return t;
});
var i = String.prototype;
i.startsWith || (i.startsWith = function(e, t) {
return t = t || 0, this.substr(t, e.length) === e;
}), r.globalScope.console = e, r.globalScope.performance = {
now: function() {
return Date.now();
}
};
var a = [];
r.globalScope.window = {
addEventListener: function(e, t) {
a.push({
name: e,
callback: t
});
},
postMessage: function(e) {
for (var t = 0, n = a; t < n.length; t++) {
var r = n[t];
"message" === r.name && r.callback({
data: e
});
}
}
}, r.globalScope.document = {
body: null,
getElementsByTagName: function(e) {
if ("head" === e) return [ r.globalScope.head ];
},
createElement: function(e) {
return {
tag: e
};
}
};
}
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(52), o = n(499), i = n(95), a = n(498), s = {}, u = 0, l = {}, c = 0;
if (r.nativeApi.onTimeout = function(e) {
var t = s[e];
delete s[e], t && t();
}, r.nativeApi.delegate instanceof o.MockDelegate || (i.globalScope.originalSetTimeout = i.globalScope.setTimeout, 
i.globalScope.originalSetInterval = i.globalScope.setInterval, i.globalScope.originalClearTimeout = i.globalScope.clearTimeout, 
i.globalScope.originalClearInterval = i.globalScope.clearInterval, i.globalScope.setTimeout = function e(t, n) {
var o = u++;
return void 0 === n && (n = 0), s[o] = t, r.nativeApi.addTimeout(o, n), o;
}, i.globalScope.setInterval = function e(t, n) {
var r = c++;
l[r] = !0;
var o = function e() {
if (l[r]) {
var i = Date.now();
t();
var a = Math.round(Date.now() - i);
setTimeout(o, Math.max(1, n - a));
}
};
return setTimeout(o, n), r;
}, i.globalScope.clearInterval = function e(t) {
delete l[t];
}, i.globalScope.clearTimeout = function e(t) {
delete s[t];
}), r.nativeApi.delegate instanceof a.InprocDelegate) {
var p = parseInt(r.nativeApi.getPerfFrequency(), 10) / 1e3;
i.globalScope.performance = {
now: function() {
return parseInt(r.nativeApi.getPerfCounter(), 10) / p;
}
};
}
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(52), o = n(149), i = n(133).__Logger.get("globalHooks");
r.nativeApi.onWindowSizeChanged = function(e, t) {
return o.onWindowSizeChanged.trigger(e, t);
}, r.nativeApi.onSoundStopped = function(e) {
return i.log("onSoundStopped " + e);
}, r.nativeApi.onAssetLoaded = function(e, t) {
return o.onAssetLoaded.trigger(e, t);
}, r.nativeApi.onVideoStopped = function(e) {
return o.onVideoStopped.trigger(e);
}, r.nativeApi.onVideoLooped = function(e) {
return o.onVideoLooped.trigger(e);
}, r.nativeApi.onVideoStartPlaying = function(e) {
return o.onVideoStartPlaying.trigger(e);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t, n) {
this.publisher = e, this.onPublish = t, this.onUnsubscribe = n;
}
return e.prototype.unsubscribe = function() {
this.publisher ? (this.publisher.removeSubscription(this), delete this.publisher) : console.warn("Double unsubscribe on the same publisher, is it shared or a race?");
}, e;
}();
t.Subscription = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(14);
t.load = function o(e) {
e.loadDefaultTexture(1, r.bbOfflineUrl("/sparta/assets/ui/lib/RoundedRect-4806f472.png"), "SINGLE_TEXTURE");
};
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(884), u = n(292), l = n(5), c = n(885), p = n(7), d = n(294), f = e.get("Client"), m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.keepAlive = p.SpartaContext.getFromComponent(t).twinkle.texture.keepAlive, 
t.textures = i.observable.map([], {
deep: !1
}), t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.keepAlive.textures.observe(function(t) {
"add" === t.type ? e.textures.set(t.newValue, e.createTextureStyle(t.newValue)) : "update" === t.type ? (e.textures.delete(t.oldValue), 
e.textures.set(t.newValue, e.createTextureStyle(t.newValue))) : e.textures.delete(t.oldValue);
});
}, t.prototype.createTextureStyle = function(e) {
return l.merge2(this.keepAlive.debug ? c.TexturePreloaderStyles.debugItem : c.TexturePreloaderStyles.item, l.DynamicStyle.create({
texture: e.reference.url,
textureAtlas: e.reference.atlas
}, "d2aee110:38:99"));
}, t.prototype.render = function() {
var e = this.keepAlive.debug ? c.TexturePreloaderStyles.debugContainer : c.TexturePreloaderStyles.container, t = [];
return this.textures.forEach(function(e, n) {
t.push(o.createElement("surface", {
key: n.reference.key,
style: e,
isPreloader: !0
}));
}), o.createElement("surface", {
style: e
}, t);
}, t.contextTypes = p.SpartaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component), h = l.StaticStyle.create({
flex: 1,
left: 0,
top: 0,
position: "absolute"
}, "d2aee110:69:18"), g = function(e) {
function t(t) {
var n = e.call(this, t) || this;
n.timeout = 0, n.state = {
loadedTranslations: !1
};
var r = t.sparta.stores, o = r.gameStore, i = r.nativePropertiesStore, a = r.locationStore, l = r.gameStateStoreLoader, c = r.localeState;
return c.initialize(o, i, a, l), n.reaction(function() {
return c.gameLocale;
}, function(e) {
e && s.loadTranslations(e, c.needsFallback || !1).then(function() {
return u.setInitialTranslations(c), c.updateFontsForLocale(e);
}).then(function() {
return clearTimeout(n.timeout), n.setState({
loadedTranslations: !0
}), null;
}).catch(function(e) {
f.error(e);
});
}), n;
}
var n;
return r.__extends(t, e), n = t, t.prototype.componentDidMount = function() {
var e = this;
this.timeout = setTimeout(function() {
var t = "Could not load translations in time (15000ms). Forcing UI to show.";
f.error(t), e.props.sparta.twinkle.nativeApi.showError(t), e.setState({
loadedTranslations: !0
});
}, 15e3);
}, t.prototype.render = function() {
return o.createElement("surface", {
style: h
}, this.state.loadedTranslations ? this.props.components : null, o.createElement(m, null));
}, t.render = function(e, t) {
e.twinkle.render(o.createElement(p.SpartaContext.Provider, {
value: e
}, o.createElement(d.ErrorBoundary, {
debugName: "d2aee110:137:43"
}, o.createElement(n, {
sparta: e,
components: t
}))));
}, t = n = r.__decorate([ a.observer ], t);
}(o.Component);
t.Client = g;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(504), o = n(40), i = n(216), a = n(291), s = n(27), u = n(84), l = e.get("TranslationLoader"), c = {
ar_sa: "assets/ar_SA-8aacf40e.json",
cs_cz: "assets/cs_CZ-5dad7a2b.json",
de_de: "assets/de_DE-54d1e49a.json",
en_us: "assets/en_US-48b45ecf.json",
es_es: "assets/es_ES-d1ea46ac.json",
es_mx: "assets/es_MX-e1743077.json",
fr_fr: "assets/fr_FR-1bf1a82c.json",
it_it: "assets/it_IT-7dd679a3.json",
ja_jp: "assets/ja_JP-1adc7a23.json",
ko_kr: "assets/ko_KR-6a6696e5.json",
pl_pl: "assets/pl_PL-89011c0d.json",
pt_br: "assets/pt_BR-5aee943e.json",
ru_ru: "assets/ru_RU-8161f6c3.json",
tr_tr: "assets/tr_TR-b162c80a.json",
zh_cn: "assets/zh_CN-33bda125.json",
zh_tw: "assets/zh_TW-94842ce8.json"
};
t.test_setTranslationPaths = function p(e) {
c = e;
};
var d = !1, f = !1, m = "en_us";
function h(e) {
var t;
return t = "http://offline.twinkle/sparta/jsclient/builds/assets/translations" + e.substr(e.lastIndexOf("/")), 
u.options.urlHook(t);
}
t.loadTranslations = function g(e, t) {
var n, u = e.replace("-", "_"), p = "", g = "";
(function y(e) {
return "object" == typeof e;
})(c) && (p = c[u] || "", g = c[m]), d = !1, f = !t;
var S, v = h(p);
return t && (S = h(g)), new Promise(function(e, u) {
function c(e, o) {
var i = new Date().getTime() - n.getTime();
if (e) {
l.info("Translations loaded in " + i + " ms", v);
try {
r.TranslationHolder.currentTranslations = JSON.parse(o);
} catch (e) {
throw e.message = "Could not parse translations for " + v + ": " + e.message, "string" == typeof o && (e.message += "\nFirst 50 characters of file: `" + o.slice(0, 50) + "`", 
e.message += "\nLast 50 characters of file: `" + o.slice(-50) + "`"), e;
}
t || (r.TranslationHolder.fallbackTranslations = r.TranslationHolder.currentTranslations);
} else l.warn("Failed to download translations after " + i + " ms", v);
d = !0;
}
function p(e, t) {
var o = new Date().getTime() - n.getTime();
if (e) {
l.info("Fallback translations loaded in " + o + " ms", S);
try {
r.TranslationHolder.fallbackTranslations = JSON.parse(t);
} catch (e) {
throw e.message = "Could not parse fallback translations for " + v + ": " + e.message, 
"string" == typeof t && (e.message += "\nFirst 50 characters of file: `" + t.slice(0, 50) + "`", 
e.message += "\nLast 50 characters of file: `" + t.slice(-50) + "`"), e;
}
} else l.warn("Failed to download fallback translations after " + o + " ms", S);
f = !0;
}
n = new Date(), setTimeout(function t() {
f && d ? e() : setTimeout(t, 100);
}, 100), o.getBuildInfo().hasLoadAssetRequest() ? (a.loadAssetRequest(v, c), t && S && a.loadAssetRequest(S, p)) : (i.httpRequest(s.HttpMethod.GET, v, "", "", !1, c), 
t && S && i.httpRequest(s.HttpMethod.GET, S, "", "", !1, p));
});
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ClientStyles"), a = function() {
function e() {}
var t;
return t = e, e.debugWidth = o.value(function() {
return 30;
}, "96347c48:7:24"), e.debugHeight = o.value(function() {
return 30;
}, "96347c48:8:25"), e.item = i.wrap(function() {
return o.style({
width: 1,
height: 1,
opacity: .01,
position: "absolute",
left: 0,
top: 0
}, "96347c48:10:18");
}), e.container = i.wrap(function() {
return o.style({
enableMouseEvents: !1,
position: "absolute",
left: 0,
top: 0
}, "96347c48:19:23");
}), e.debugItem = i.wrap(function() {
return o.style({
width: t.debugWidth,
height: t.debugHeight,
opacity: 1
}, "96347c48:26:23");
}), e.debugContainer = i.wrap(function() {
return o.style({
enableMouseEvents: !1,
flexDirection: "row",
flexWrap: "wrap",
position: "absolute",
left: 0,
top: 0,
right: 0,
bottom: 0
}, "96347c48:32:28");
}), e = t = r.__decorate([ i.style ], e);
}();
t.TexturePreloaderStyles = a;
}, function(e, t, n) {
"use strict";
var r = n(501), o = n(363), i = n(887);
e.exports = function() {
function e(e, t, n, r, a, s) {
s !== i && o(!1, "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");
}
function t() {
return e;
}
e.isRequired = e;
var n = {
array: e,
bool: e,
func: e,
number: e,
object: e,
string: e,
symbol: e,
any: e,
arrayOf: t,
element: e,
instanceOf: t,
node: e,
objectOf: t,
oneOf: t,
oneOfType: t,
shape: t,
exact: t
};
return n.checkPropTypes = r, n.PropTypes = n, n;
};
}, function(e, t, n) {
"use strict";
e.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t) {
this.x = e, this.y = t;
}
return e.prototype.angle = function(e) {
return Math.atan2(e.y - this.y, e.x - this.x);
}, e.prototype.distance = function(e) {
return Math.sqrt(Math.pow(e.x - this.x, 2) + Math.pow(e.y - this.y, 2));
}, e.prototype.squaredDistance = function(e) {
var t = e.x - this.x, n = e.y - this.y;
return t * t + n * n;
}, e;
}();
t.Point = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(890), o = [ 0, 0, 0, 0 ];
function i(e) {
return Array.isArray(e) && e.length >= 4 && "number" == typeof e[0] && "number" == typeof e[1] && "number" == typeof e[2] && "number" == typeof e[3];
}
t.isVector = i, t.ensureVector = function a(e) {
return i(e) ? e : "string" == typeof e ? r.parseHex(e) : o;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.parseHex = function r(e) {
var t = e.match(/^#([0-9a-f]{3})$/i);
if (t) return [ 17 * parseInt(t[1].charAt(0), 16), 17 * parseInt(t[1].charAt(1), 16), 17 * parseInt(t[1].charAt(2), 16), 255 ];
if (t = e.match(/^#([0-9a-f]{6})$/i)) return [ parseInt(t[1].substr(0, 2), 16), parseInt(t[1].substr(2, 2), 16), parseInt(t[1].substr(4, 2), 16), 255 ];
if (t = e.match(/^#([0-9a-f]{8})$/i)) return [ parseInt(t[1].substr(0, 2), 16), parseInt(t[1].substr(2, 2), 16), parseInt(t[1].substr(4, 2), 16), parseInt(t[1].substr(6, 2), 16) ];
throw Error("Could not parse " + e + " as hex");
};
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(3), a = function() {
function t() {
this.games = i.observable.map();
}
return t.prototype.getGame = function(t) {
var n = this.games.get(t);
return n || e.error("GameStore - trying to get a game (id: '" + t + "') that is not yet registered"), 
n;
}, t.prototype.getRegisteredGameIds = function() {
return Array.from(this.games.keys());
}, t.prototype.getRegisteredGames = function() {
return Array.from(this.games.values());
}, t.prototype.clearGames = function() {
this.games.clear();
}, t.prototype.getGameBySection = function(e) {
return o.values(this.games).find(function(t) {
return t.startRoute === e;
});
}, Object.defineProperty(t.prototype, "enabledGameIds", {
get: function() {
var e = [];
return this.games.forEach(function(t, n) {
t.isEnabled && e.push(n);
}), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "fetchableGameIds", {
get: function() {
var e = [];
return this.games.forEach(function(t, n) {
t.storeConfig && t.storeConfig.canFetchOffers && e.push(n);
}), e;
},
enumerable: !0,
configurable: !0
}), t.prototype.registerGame = function(e) {
this.games.set(e.gameId, e);
}, r.__decorate([ o.computed ], t.prototype, "enabledGameIds", null), r.__decorate([ o.computed ], t.prototype, "fetchableGameIds", null), 
r.__decorate([ o.action ], t.prototype, "registerGame", null), t;
}();
t.GameStore = a;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
var r = n(893), o = n(362);
function i(e, t) {
return t.encode ? t.strict ? r(e) : encodeURIComponent(e) : e;
}
t.extract = function(e) {
return e.split("?")[1] || "";
}, t.parse = function(e, t) {
var n = function r(e) {
var t;
switch (e.arrayFormat) {
case "index":
return function(e, n, r) {
t = /\[(\d*)\]$/.exec(e), e = e.replace(/\[\d*\]$/, ""), t ? (void 0 === r[e] && (r[e] = {}), 
r[e][t[1]] = n) : r[e] = n;
};

case "bracket":
return function(e, n, r) {
t = /(\[\])$/.exec(e), e = e.replace(/\[\]$/, ""), t && void 0 !== r[e] ? r[e] = [].concat(r[e], n) : r[e] = n;
};

default:
return function(e, t, n) {
void 0 !== n[e] ? n[e] = [].concat(n[e], t) : n[e] = t;
};
}
}(t = o({
arrayFormat: "none"
}, t)), i = Object.create(null);
return "string" != typeof e ? i : (e = e.trim().replace(/^(\?|#|&)/, "")) ? (e.split("&").forEach(function(e) {
var t = e.replace(/\+/g, " ").split("="), r = t.shift(), o = t.length > 0 ? t.join("=") : void 0;
o = void 0 === o ? null : decodeURIComponent(o), n(decodeURIComponent(r), o, i);
}), Object.keys(i).sort().reduce(function(e, t) {
var n = i[t];
return Boolean(n) && "object" == typeof n && !Array.isArray(n) ? e[t] = function e(t) {
return Array.isArray(t) ? t.sort() : "object" == typeof t ? e(Object.keys(t)).sort(function(e, t) {
return Number(e) - Number(t);
}).map(function(e) {
return t[e];
}) : t;
}(n) : e[t] = n, e;
}, Object.create(null))) : i;
}, t.stringify = function(e, t) {
var n = function r(e) {
switch (e.arrayFormat) {
case "index":
return function(t, n, r) {
return null === n ? [ i(t, e), "[", r, "]" ].join("") : [ i(t, e), "[", i(r, e), "]=", i(n, e) ].join("");
};

case "bracket":
return function(t, n) {
return null === n ? i(t, e) : [ i(t, e), "[]=", i(n, e) ].join("");
};

default:
return function(t, n) {
return null === n ? i(t, e) : [ i(t, e), "=", i(n, e) ].join("");
};
}
}(t = o({
encode: !0,
strict: !0,
arrayFormat: "none"
}, t));
return e ? Object.keys(e).sort().map(function(r) {
var o = e[r];
if (void 0 === o) return "";
if (null === o) return i(r, t);
if (Array.isArray(o)) {
var a = [];
return o.slice().forEach(function(e) {
void 0 !== e && a.push(n(r, e, a.length));
}), a.join("&");
}
return i(r, t) + "=" + i(o, t);
}).filter(function(e) {
return e.length > 0;
}).join("&") : "";
};
}, function(e, t, n) {
"use strict";
e.exports = function(e) {
return encodeURIComponent(e).replace(/[!'()*]/g, function(e) {
return "%" + e.charCodeAt(0).toString(16).toUpperCase();
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(97), a = function() {
function e() {
this.all = o.observable.array();
}
return Object.defineProperty(e.prototype, "routes", {
get: function() {
return new i.RouteDeclaration("", {
children: this.all
}).cascade().flatten();
},
enumerable: !0,
configurable: !0
}), e.prototype.addRoute = function(e) {
this.all.push(e);
}, e.prototype.removeRoute = function(e) {
var t = this.all.indexOf(e);
-1 !== t && this.all.splice(t, 1);
}, e.prototype.replaceRoute = function(e, t) {
var n = this.all.indexOf(e);
-1 !== n && (this.all[n] = t);
}, e.prototype.isValidPath = function(e) {
if ("" === e) return !1;
var t = e.split("?")[0];
return !!this.routes.find(function(e) {
return e.location.path === t;
});
}, r.__decorate([ o.computed ], e.prototype, "routes", null), r.__decorate([ o.action ], e.prototype, "addRoute", null), 
r.__decorate([ o.action ], e.prototype, "removeRoute", null), r.__decorate([ o.action ], e.prototype, "replaceRoute", null), 
e;
}();
t.RouteStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(512), a = n(15), s = n(27), u = n(5), l = function() {
function e(e, t, n, r, i) {
var l = this;
this.nativePropertiesStore = e, this.locationStore = t, this.routeStore = n, this.settingsStore = r, 
this.popupStore = i, this.viewportScale = a.Animation.tween("946cc6d6:13:45", 1, {
easing: s.Easing.CubicOut
}), this.viewportScaleStyle = u.StaticStyle.create({
scaleX: this.viewportScale.getStyle(),
scaleY: this.viewportScale.getStyle()
}, "946cc6d6:14:25"), o.reaction(function() {
return l.hasVisiblePopups;
}, function(e) {
l.viewportScale.to(e ? .94 : 1);
}, {
fireImmediately: !0
});
}
return Object.defineProperty(e.prototype, "hasVisiblePopups", {
get: function() {
return this.popupStore.updatedPopups.size > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "current", {
get: function() {
return new i.LayoutState(this.locationStore.location, this.routeStore.routes, this.settingsStore);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "routeIsHostingGame", {
get: function() {
return this.nativePropertiesStore.isHostingGame(this.current.config.gameId);
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.computed ], e.prototype, "hasVisiblePopups", null), r.__decorate([ o.computed ], e.prototype, "current", null), 
r.__decorate([ o.computed ], e.prototype, "routeIsHostingGame", null), e;
}();
t.LayoutStateStore = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e() {
this.shortcutKits = o.observable.map();
}
return e.prototype.setShortcutKit = function(e, t, n) {
var r = e + "-" + t;
this.shortcutKits.set(r, n);
}, e.prototype.getByLicense = function(e, t) {
var n = e + "-" + t;
return this.shortcutKits.get(n) || [];
}, r.__decorate([ o.action ], e.prototype, "setShortcutKit", null), e;
}();
t.ShortcutKitsStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3), a = n(118);
!function(e) {
e[e.Native = 0] = "Native", e[e.Url = 1] = "Url";
}(r = t.MusicType || (t.MusicType = {}));
var s = function() {
function e(e, t) {
var n = this;
this.nativePropertiesStore = e, this.twinkle = t, this.externalSounds = {}, i.reaction(function() {
return n.currentTrack;
}, function(t) {
var o = n.previousTrack, i = e.hostingGame;
i && (o || t.type !== r.Native || t.trackId !== i.backgroundMusicTrack) && (o && (o.type === r.Native ? a.stopTrack(o.trackId) : n.stopExternalSound(o.trackUrl)), 
t && (t.type === r.Native ? a.playTrack(t.trackId) : n.playExternalSound(t.trackUrl)));
});
}
return e.prototype.stopCurrentTrack = function() {
this.currentTrack && (this.currentTrack.type === r.Native ? a.stopTrack(this.currentTrack.trackId) : this.stopExternalSound(this.currentTrack.trackUrl));
}, e.prototype.resumeCurrentTrack = function() {
this.currentTrack && (this.currentTrack.type === r.Native ? a.playTrack(this.currentTrack.trackId) : this.playExternalSound(this.currentTrack.trackUrl));
}, e.prototype.stopExternalSound = function(e) {
var t = this.externalSounds[e];
t && t.stopWithFadeOut();
}, e.prototype.playExternalSound = function(e) {
var t = this.externalSounds[e];
t || ((t = this.twinkle.sound.load(e)).setLoop(!0), this.externalSounds[e] = t), 
t.playInAudioBus("Music");
}, e.prototype.setTrack = function(e) {
(function t(e, n) {
return !!n && (e.type === r.Native && n.type === r.Native && e.trackId === n.trackId || e.type === r.Url && n.type === r.Url && e.trackUrl === n.trackUrl);
})(e, this.currentTrack) || (this.previousTrack = this.currentTrack, this.currentTrack = e);
}, e.prototype.setNativeTrack = function(e) {
if (e) this.setTrack({
type: r.Native,
trackId: e
}); else if (!e) {
var t = this.nativePropertiesStore.hostingGame;
t && t.backgroundMusicTrack && this.setTrack({
type: r.Native,
trackId: t.backgroundMusicTrack
});
}
}, e.prototype.setUrl = function(e) {
e && this.setTrack({
type: r.Url,
trackUrl: e
});
}, o.__decorate([ i.observable ], e.prototype, "currentTrack", void 0), o.__decorate([ i.observable ], e.prototype, "previousTrack", void 0), 
o.__decorate([ i.action ], e.prototype, "playExternalSound", null), o.__decorate([ i.action ], e.prototype, "setTrack", null), 
o.__decorate([ i.action ], e.prototype, "setNativeTrack", null), o.__decorate([ i.action ], e.prototype, "setUrl", null), 
e;
}();
t.BackgroundMusicStore = s;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(100);
t.getTranslatedPresence = function r(t) {
var n = "";
switch (t) {
case e.UserPresenceStates.Joinable:
n = __("ID_SPARTA_LAYOUT_COMCENTER_JOINABLE", !0);
break;

case e.UserPresenceStates.Playing:
n = __("ID_SPARTA_LAYOUT_COMCENTER_PLAYING", !0);
break;

case e.UserPresenceStates.Online:
n = __("ID_SPARTA_LAYOUT_COMCENTER_ONLINE", !0);
break;

case e.UserPresenceStates.Away:
n = __("ID_SPARTA_LAYOUT_COMCENTER_AWAY", !0);
break;

case e.UserPresenceStates.Offline:
n = __("ID_SPARTA_LAYOUT_COMCENTER_OFFLINE", !0);
}
return n;
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.Mutual = 0] = "Mutual", e[e.Request = 1] = "Request", e[e.Invited = 2] = "Invited", 
e[e.None = 3] = "None";
}(r = t.FriendStates || (t.FriendStates = {})), t.parseFriendState = function o(e) {
if ("number" == typeof e) return e;
switch (e) {
case "MUTUAL":
return r.Mutual;

case "REQUEST":
return r.Request;

case "INVITED":
return r.Invited;

case "NONE":
return r.None;

default:
throw Error("Could not parse string as FriendState: " + e);
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(901), a = n(42), s = n(116), u = n(149), l = n(372), c = n(902), p = n(903), d = n(904), f = n(905), m = n(133), h = n(77), g = n(84), y = 1920, S = 1080;
u.onWindowSizeChanged.listen(function(e, t) {
y = e, S = t;
});
var v = m.__Logger.get("FocusSystem"), _ = function() {
function e(e) {
var t = this;
this.reconciler = e, this.debug = !1, this.importantAreaSurfaces = [], this.isolatedGroups = o.observable.array(), 
this.isolatedAncestors = o.observable.array(), this.ancestors = o.observable.array(), 
this.shouldRecalculate = !1, this.scaledSurfaceIds = [], this.customAutofocusScoringFunctions = [], 
this.controllerMode = !0, this.onInvalidQuery = new s.TwinkleTypedEvent(), this.batchedSurfaceIds = [], 
this.items = o.observable.array(), this.focusHistory = [], this.invalidQuery = new f.InvalidQuery(this), 
u.endScriptCalls.listen(function() {
t.batchedSurfaceIds.length > 0 && t.flushBatchedSurfaceIds(), t.shouldRecalculate && t.recalculate();
});
}
return e.prototype.createStaticGroup = function(e) {
return new c.FocusGroup(this, e);
}, e.prototype.createAncestor = function(e) {
return new p.FocusAncestor(this, e);
}, e.prototype.createComponentGroup = function(e, t, n) {
var r = this.createStaticGroup(t);
return n && (r.behavior = n), h.addLifecycleHook(e, "componentWillUnmount", function() {
return r.destroy();
}), r;
}, e.prototype.createComponentAncestor = function(e, t) {
var n = this.createAncestor(t);
return h.addLifecycleHook(e, "componentWillUnmount", function() {
return n.destroy();
}), n;
}, e.prototype.getSurfaceById = function(e) {
if (this.reconciler) return this.reconciler.getSurfaceById(e);
}, e.prototype.batchSurfaceIds = function(e, t) {
this.batchedSurfaceIds.push({
item: e,
surfaceId: t
});
}, e.prototype.flushBatchedSurfaceIds = function() {
var e = this, t = this.batchedSurfaceIds.slice();
this.batchedSurfaceIds.length = 0, t.forEach(function(e) {
e.item.setSurfaceId(e.surfaceId);
}), g.options.enableDevWarnings && t.forEach(function(t) {
if (t.item instanceof d.FocusItem && t.item.surfaceId && !t.item.isDestroyed) {
var n = e.items.find(function(e) {
return e !== t.item && !e.isDestroyed && !!e.surfaceId && e.id === t.item.id;
});
n && console.error("Focus id '" + t.item.id + "' already exists on surfaceId " + n.surfaceId + " (trying to mount the same id on " + t.item.surfaceId + ")");
}
}), this.controllerMode && (this.shouldRecalculate = !0);
}, e.prototype.create = function(e, t) {
if ("" === t) throw new Error("Invalid id: " + t);
var n = new d.FocusItem(this, t);
return n.connectLifeCycle(e), this.items.push(n), this.shouldRecalculate = !0, n;
}, Object.defineProperty(e.prototype, "focusedItem", {
get: function() {
if (this.currentFocusedItem && this.currentFocusedItem.isActive) return this.currentFocusedItem;
},
enumerable: !0,
configurable: !0
}), e.prototype.getFocusedSurfaceElement = function() {
return this.getSurfaceById(this.focusedItem && this.focusedItem.surfaceId);
}, e.prototype.getHoveredSurfaceElement = function() {
return this.getSurfaceById(this.hoveredItem && this.hoveredItem.surfaceId);
}, Object.defineProperty(e.prototype, "hoveredItem", {
get: function() {
if (this.currentHoveredItem && this.currentHoveredItem.isActive) return this.currentHoveredItem;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "executor", {
get: function() {
return this.focusedItem ? this.focusedItem.activeInputExecutor : this.hoveredItem ? this.hoveredItem.activeInputExecutor : void 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "refs", {
get: function() {
var e = {};
return this.items.forEach(function(t) {
e[t.id] = t;
}), e;
},
enumerable: !0,
configurable: !0
}), e.prototype.remove = function(e) {
var t = this.items.indexOf(e);
t > -1 && this.items.splice(t, 1), this.shouldRecalculate = !0, this.currentFocusedItem === e && (this.currentFocusedItem = void 0), 
this.currentHoveredItem === e && (this.currentHoveredItem = void 0), this.lastHoveredItem === e && (this.lastHoveredItem = void 0), 
this.lastFocusedItem === e && (this.lastFocusedItem = void 0);
var n = this.focusHistory.indexOf(e);
n > -1 && this.focusHistory.splice(n, 1);
}, e.prototype.addImportantArea = function(e) {
var t = this.getSurfaceById(e);
t && this.importantAreaSurfaces.push(t);
}, e.prototype.removeImportantArea = function(e) {
var t = this.importantAreaSurfaces.find(function(t) {
return t.tag === e;
});
if (t) {
var n = this.importantAreaSurfaces.indexOf(t);
n > -1 && this.importantAreaSurfaces.splice(n, 1);
}
}, e.prototype.removeFocus = function(e) {
this.currentFocusedItem === e && (this.currentFocusedItem = void 0);
}, e.prototype.setAsFocused = function(e, t, n) {
if ((!e || e.isValidForFocus() || n) && (this.currentFocusedItem = e, e ? (this.lastFocusSource = t, 
this.lastFocusedItem = e, this.log("Setting " + e.id + " as focused (" + a.FocusSource[t] + ")")) : this.log("Clearing focus"), 
e)) {
var r = this.focusHistory.indexOf(e);
r > -1 && this.focusHistory.splice(r, 1), this.focusHistory.push(e);
}
}, e.prototype.setAsHovered = function(e, t) {
this.currentHoveredItem = e, e && (this.lastHoverSource = t, this.lastHoveredItem = e);
}, e.prototype.removeHover = function(e) {
this.currentHoveredItem === e && (this.currentHoveredItem = void 0);
}, e.prototype.clearItemScalingCache = function() {
this.items.forEach(function(e) {
delete e.needsScaling;
});
}, e.prototype.createScaledComponent = function() {
var e = this, t = void 0;
return function(n) {
if (n) n.getSurfaceId && (t = n.getSurfaceId(), e.scaledSurfaceIds.push(t), e.clearItemScalingCache()); else if (t) {
var r = e.scaledSurfaceIds.indexOf(t);
r > -1 && (e.scaledSurfaceIds.splice(r, 1), e.clearItemScalingCache()), t = void 0;
}
};
}, e.prototype.isValidForFocus = function(e, t, n) {
var r = this;
return l.wrap(function() {
return !!e && e !== t && e.isValidForFocus() && r.isVisible(e, n) && r.invalidQuery.isValid(e);
}, "isValidForFocus");
}, e.prototype.getDefaultItem = function(e) {
var t = this;
return l.wrap(function() {
var n = -1, r = void 0;
t.log("Getting a default item - checking candidate scores:");
for (var o = 0, i = t.items; o < i.length; o++) {
var a = i[o], s = t.getAutoFocusCandidateScore(a, e);
s > -1 && t.log(a.id + " - score: " + s), (s > n || void 0 === r) && (n = s, r = a);
}
return r ? t.log("Selected " + r.id + " as best match for focus") : t.log("Could not find a candidate"), 
r;
}, "getDefaultItem");
}, e.prototype.getAutoFocusCandidateScore = function(e, t, n) {
if (!this.isValidForFocus(e, void 0, t)) return n && n.push("INVALIDS(-1)"), -1;
var r = 0;
this.currentFocusedItem === e && (this.lastFocusSource === a.FocusSource.Auto ? (r += 500, 
n && n.push("AUTO_FOCUSED(500)")) : (r += 3e3, n && n.push("USER_FOCUSED(3000)")));
var o = this.focusHistory.indexOf(e);
o > -1 && (r += 50 + o, n && n.push("HISTORY[" + (this.focusHistory.length - o) + "](" + (50 + o) + ")")), 
e.autoFocusCandidate && (r += 1e3, n && n.push("AUTOFOCUS_CANDIDATE(1000)")), this.currentHoveredItem === e && (r += 300, 
n && n.push("HOVERED(300)")), this.lastHoveredItem === e && (r += 100, n && n.push("LAST_HOVERED(100)"));
var i = e.surfaceId ? this.getSurfaceById(e.surfaceId) : void 0;
return i && this.importantAreaSurfaces.forEach(function(e) {
i.isDescendantOf(e) && (r += 2e3, n && n.push("IMPORTANT_AREA(2000)"));
}), this.customAutofocusScoringFunctions.forEach(function(t) {
var o = t(e);
r += o, n && o > 0 && n.push("CUSTOM(" + o + ")");
}), r;
}, e.prototype.log = function(e) {
this.debug && v.log(e);
}, e.prototype.refreshBounds = function() {
this.log("*** Refreshing bounds ***");
var e = l.start();
this.invalidQuery.reset(), this.onInvalidQuery.trigger(this.invalidQuery), l.end("InvalidQuery", e);
}, e.prototype.withBounds = function(e) {
var t = this;
return o.untracked(function() {
t.refreshBounds();
try {
return e();
} finally {
t.invalidQuery.reset();
}
});
}, e.prototype.isVisible = function(e, t) {
if (this.invalidQuery.isSetAsVisible(e)) return !0;
var n = e.getBounds();
if (!n) return this.log("No bounds: " + e.id), !1;
if (t) return !0;
if (void 0 === e.needsScaling) {
var r = e.surfaceId;
if (!r) return this.log("No surfaceId: " + e.id), !1;
var o = this.getSurfaceById(r);
if (!o) return this.log("No surface for: " + e.id), !1;
e.needsScaling = !1;
for (var i = 0, a = this.scaledSurfaceIds; i < a.length; i++) {
var s = a[i], u = this.getSurfaceById(s);
if (u && o.isDescendantOf(u)) {
e.needsScaling = !0;
break;
}
}
}
var l = y, c = S;
return e.needsScaling && (n = n.offset((y - 1920) / 2, (S - 1080) / 2), l = 1920, 
c = 1080), !(n.right <= 0 || n.left >= l || n.top >= c || n.bottom <= 0) || (this.log("Outside window: " + e.id + " " + n.left + " " + n.top + "->" + n.right + " " + n.bottom + "W" + l + "H" + c), 
!1);
}, e.prototype.triggerRecalculation = function() {
this.shouldRecalculate = !0;
}, e.prototype.recalculate = function(e) {
var t = this;
void 0 === e && (e = !1);
var n = l.start();
this.shouldRecalculate = !1, this.focusedItem && this.lastFocusSource !== a.FocusSource.Auto || (this.withBounds(function() {
if (t.controllerMode || e) {
var n = t.getDefaultItem(!0);
n ? n !== t.currentFocusedItem && (t.log("*** Recalculated and selected " + n.id + " as the best choice to focus"), 
t.setAsFocused(n, a.FocusSource.Auto)) : t.log("*** Recalculated but found nothing to focus");
} else t.log("*** Won't set default focus item since controllerMode is inactive");
}), l.end("FocusRecalc", n));
}, e.prototype.findClosestItem = function(e) {
var t = this;
return this.withBounds(function() {
var n = e.getBounds();
if (!n) return console.error("No bounds for fromItem", e.id), null;
var r = l.start(), o = t.items.filter(function(n) {
return t.isValidForFocus(n, e);
}), i = t.getClosestItem(n, o, a.Direction.Down), s = t.getClosestItem(n, o, a.Direction.Up), u = t.getClosestItem(n, o, a.Direction.Right), c = t.getClosestItem(n, o, a.Direction.Left), p = {
item: null,
distance: Number.MAX_VALUE
};
return s.distance < p.distance && (p = s), u.distance < p.distance && (p = u), c.distance < p.distance && (p = c), 
i.distance < p.distance && (p = i), l.end("FindClosestItem", r), p.item;
});
}, e.prototype.getClosestItem = function(e, t, n) {
for (var r = l.start(), o = t.slice(), s = null, u = Number.MAX_VALUE, c = 0, p = o; c < p.length; c++) {
if (S = (y = p[c]).getBounds()) {
var d = i.getDistanceInDirection(e, S, n);
!isNaN(d) && d < u && (u = d, s = y);
}
}
var f = s && s.getBounds();
if (f && !(n === a.Direction.Up || n === a.Direction.Down ? f.left === e.left && f.right === e.right : f.top === e.top && f.bottom === e.bottom)) for (var m = -1, h = 0, g = o; h < g.length; h++) {
var y, S;
if ((S = (y = g[h]).getBounds()) && (n === a.Direction.Up && S.bottom === f.bottom || n === a.Direction.Down && S.top === f.top || n === a.Direction.Left && S.right === f.right || n === a.Direction.Right && S.left === f.left)) {
var v = this.focusHistory.indexOf(y);
v > m && (s = y, m = v);
}
}
return l.end("GetClosestItem", r), {
item: s,
distance: u
};
}, e.prototype.findNextItem = function(e, t) {
var n = this, r = e.getBounds();
if (!r) return console.error("No bounds for fromItem", e.id), null;
var o = this.items.filter(function(t) {
return n.isValidForFocus(t, e);
});
return this.getClosestItem(r, o, t).item;
}, e.prototype.findNextItemOutsideGroup = function(e, t, n) {
var r = this, o = e.getBounds();
if (!o) return console.error("No bounds for fromItem", e.id), null;
var i = this.items.filter(function(t) {
return t.group !== n && r.isValidForFocus(t, e);
});
return this.getClosestItem(o, i, t).item;
}, e.prototype.handleNavigationResult = function(e, t, n) {
if (t.group && (!e || t.group !== e.group)) {
var r = t.group.navigateToGroup(e, n, t);
if (r.result === a.NavigationResultType.HIT && r.toItem && (this.log("Item " + t.id + " is member of group " + t.group.debugName + ", which tells us to navigate to item " + r.toItem.id + " instead"), 
t = r.toItem), r.result === a.NavigationResultType.STOP) return;
}
t.focusOnHover ? t.setHovered(a.FocusSource.Spatial) : t.setFocused(a.FocusSource.Spatial);
}, e.prototype.navigate = function(e, t) {
var n = l.start();
this._navigate(e, t), l.end("Navigate", n);
}, e.prototype._navigate = function(e, t) {
var n = this;
if (this.controllerMode = !0, this.focusedItem && this.focusedItem.group) {
var r = this.focusedItem.group.navigateFromItem(this.focusedItem, e);
if (r.result === a.NavigationResultType.HIT && r.toItem) return this.log("FocusGroup " + this.focusedItem.group.debugName + " returned HIT on " + r.toItem.id), 
this.handleNavigationResult(this.focusedItem, r.toItem, e);
}
this.withBounds(function() {
if (n.log("------------------ Navigate " + a.Direction[e] + " ------------------------"), 
n.focusedItem && n.isValidForFocus(n.focusedItem)) {
var r = n.focusedItem.navigate(e);
switch (r.result) {
case a.NavigationResultType.STOP:
return void n.log("------------------------- STOP ----------------------------------------");

case a.NavigationResultType.HIT:
return r.toItem && (n.log("FocusItem eturned HIT on " + r.toItem.id), n.handleNavigationResult(n.focusedItem, r.toItem, e)), 
n.log("----------------------------- HIT WITHOUT ITEM ------------------------------------"), 
void (r.toItem && t && t());

case a.NavigationResultType.FALLTHROUGH:
n.log("FocusItem returned FALLTHROUGH, finding closest item...");
var o = n.findNextItem(n.focusedItem, e);
o ? (n.log("Closest item is: " + o.id), n.handleNavigationResult(n.focusedItem, o, e), 
t && t()) : n.log("No closest item found"), n.log("-----------------------------------------------------------------");
break;

default:
n.log("No navigation result");
}
} else {
n.log("No focused item, focusing a default item");
var i = n.getDefaultItem(!1);
i && n.handleNavigationResult(null, i, e);
}
});
}, r.__decorate([ o.observable.ref ], e.prototype, "currentFocusedItem", void 0), 
r.__decorate([ o.observable.ref ], e.prototype, "currentHoveredItem", void 0), r.__decorate([ o.observable.ref ], e.prototype, "lastFocusedItem", void 0), 
r.__decorate([ o.observable ], e.prototype, "controllerMode", void 0), r.__decorate([ o.action ], e.prototype, "flushBatchedSurfaceIds", null), 
r.__decorate([ o.action ], e.prototype, "create", null), r.__decorate([ o.computed ], e.prototype, "focusedItem", null), 
r.__decorate([ o.computed ], e.prototype, "hoveredItem", null), r.__decorate([ o.computed ], e.prototype, "executor", null), 
r.__decorate([ o.computed ], e.prototype, "refs", null), r.__decorate([ o.action ], e.prototype, "remove", null), 
r.__decorate([ o.action ], e.prototype, "addImportantArea", null), r.__decorate([ o.action ], e.prototype, "removeImportantArea", null), 
r.__decorate([ o.action ], e.prototype, "removeFocus", null), r.__decorate([ o.action ], e.prototype, "setAsFocused", null), 
r.__decorate([ o.action ], e.prototype, "setAsHovered", null), r.__decorate([ o.action ], e.prototype, "removeHover", null), 
r.__decorate([ o.action ], e.prototype, "triggerRecalculation", null), r.__decorate([ o.action ], e.prototype, "recalculate", null), 
r.__decorate([ o.action ], e.prototype, "navigate", null), e;
}();
t.FocusSystem = _;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(42), o = 1e6;
t.getDistanceInDirection = function i(e, t, n) {
e.intersects(t) ? t = t.subtract(e) : t.intersects(e) && (e = e.subtract(t));
var i = !1, a = !1, s = e.bottom < t.top, u = e.top > t.bottom, l = e.right < t.left, c = e.left > t.right;
switch (n) {
case r.Direction.Right:
i = t.left - e.right >= 0, a = u || s;
break;

case r.Direction.Down:
i = t.top - e.bottom >= 0, a = l || c;
break;

case r.Direction.Left:
i = t.right - e.left <= 0, a = u || s;
break;

case r.Direction.Up:
i = t.bottom - e.top <= 0, a = l || c;
}
return i ? e.edgeDistanceSquared(t) + (a ? o : 0) : NaN;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(42), a = n(84), s = function() {
function e(e, t) {
var n = this;
this.system = e, this.debugName = t, this.members = o.observable.array(), this.disablers = o.observable.array(), 
this.behavior = 0, this.directionHandlers = {}, this.cancelReaction = o.reaction(function() {
return n.focusedMember;
}, function(e) {
n.focusedMember && (n.lastFocusedMember = n.focusedMember);
}, {
fireImmediately: !0
});
}
return e.prototype.destroy = function() {
this.cancelReaction ? this.cancelReaction() : a.options.enableDevWarnings && console.error("Focus group destroyed twice!"), 
this.directionHandlers = {}, this.members.forEach(function(e) {
e && (e.group = null);
});
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
return 0 === this.disablers.length;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "definedMembers", {
get: function() {
var e = [];
return this.members.forEach(function(t) {
t && e.push(t);
}), e;
},
enumerable: !0,
configurable: !0
}), e.prototype.isolate = function() {
this.deisolate(), this.system.isolatedGroups.push(this), this.system.triggerRecalculation();
}, e.prototype.deisolate = function() {
var e = this.system.isolatedGroups.indexOf(this);
e > -1 && this.system.isolatedGroups.splice(e, 1), this.system.triggerRecalculation();
}, e.prototype.addMember = function(e, t) {
var n = this;
if ("number" == typeof t && t >= 0) {
if (this.members.length > t && this.members[t] === e && e.group === this) return;
for (;this.members.length <= t; ) this.members.push(void 0);
this.members[t] !== e && (this.members[t] = e);
} else this.members.push(e);
e.group = this, e.onDestroy.listen(function() {
var t = n.members.indexOf(e);
t > -1 && (n.members[t] = void 0);
});
}, e.prototype.updateMember = function(e, t, n) {
if ("number" == typeof t && t >= 0 && "number" == typeof n && n >= 0 && e.group === this) {
for (this.members[t] === e && (this.members[t] = void 0); this.members.length <= n; ) this.members.push(void 0);
this.members[n] = e;
}
}, e.prototype.handleDirection = function(e, t) {
return this.directionHandlers[e] = t, this;
}, e.prototype.enabled = function(e) {
return (this.behavior & e) > 0;
}, e.prototype.setActive = function(e, t) {
if ("string" != typeof e) throw new Error("Expected a uniqueKey: " + e);
var n = this.disablers.indexOf(e);
n > -1 && t && this.disablers.splice(n, 1), -1 !== n || t || this.disablers.push(e);
}, e.prototype.navigateFromItem = function(e, t) {
var n = this.directionHandlers[t];
if (n) {
var r = n(e, t);
if (r.result !== i.NavigationResultType.FALLTHROUGH) return r;
}
switch (t) {
case i.Direction.Left:
case i.Direction.Right:
if (this.enabled(i.GroupBehavior.HORIZONTAL)) return this.navigateOffset(e, t);
if (this.enabled(i.GroupBehavior.VERTICAL)) return this.navigateFromGroup(e, t);
break;

case i.Direction.Up:
case i.Direction.Down:
if (this.enabled(i.GroupBehavior.VERTICAL)) return this.navigateOffset(e, t);
if (this.enabled(i.GroupBehavior.HORIZONTAL)) return this.navigateFromGroup(e, t);
}
return {
result: i.NavigationResultType.FALLTHROUGH
};
}, e.prototype.navigateOffset = function(e, t) {
var n = t === i.Direction.Left || t === i.Direction.Up ? -1 : 1, r = this.members.filter(function(e) {
return e && e.isActiveCache;
}), o = r.indexOf(e) + n;
if (o < 0 || o >= r.length) {
if (!this.enabled(i.GroupBehavior.WRAP_AROUND)) return this.enabled(i.GroupBehavior.EDGE_STOP) ? {
result: i.NavigationResultType.STOP
} : this.navigateFromGroup(e, t);
o = o < 0 ? r.length - 1 : 0;
}
return {
result: i.NavigationResultType.HIT,
toItem: r[o]
};
}, e.prototype.navigateFromGroup = function(e, t) {
return this.directionHandlers[t] ? (this.system.log("Group direction handler " + i.Direction[t]), 
this.directionHandlers[t](e, t)) : {
result: i.NavigationResultType.FALLTHROUGH
};
}, e.prototype.selectBestMember = function(e, t, n) {
var r = this, o = this.members.filter(function(e) {
return r.system.isValidForFocus(e);
});
return this.enabled(i.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER) && this.lastFocusedMember && o.indexOf(this.lastFocusedMember) > -1 ? this.lastFocusedMember : this.enabled(i.GroupBehavior.PREFER_FIRST_MEMBER_OVER_TARGET) ? o[0] : n || o[0];
}, e.prototype.navigateToGroup = function(e, t, n) {
var r = this.selectBestMember(e, t, n);
return r ? {
result: i.NavigationResultType.HIT,
toItem: r
} : {
result: i.NavigationResultType.FALLTHROUGH
};
}, Object.defineProperty(e.prototype, "focusedIndex", {
get: function() {
return this.system.focusedItem ? this.members.indexOf(this.system.focusedItem) : -1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hoveredIndex", {
get: function() {
return this.system.hoveredItem ? this.members.indexOf(this.system.hoveredItem) : -1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "focusedMember", {
get: function() {
var e = this.focusedIndex;
return e > -1 ? this.members[e] : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasFocusedMember", {
get: function() {
return this.focusedIndex > -1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasHoveredMember", {
get: function() {
return this.hoveredIndex > -1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasLastFocusedMember", {
get: function() {
return !!this.system.lastFocusedItem && this.members.indexOf(this.system.lastFocusedItem) > -1;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.action ], e.prototype, "destroy", null), r.__decorate([ o.computed ], e.prototype, "isActive", null), 
r.__decorate([ o.computed ], e.prototype, "definedMembers", null), r.__decorate([ o.action ], e.prototype, "isolate", null), 
r.__decorate([ o.action ], e.prototype, "deisolate", null), r.__decorate([ o.action ], e.prototype, "addMember", null), 
r.__decorate([ o.action ], e.prototype, "updateMember", null), r.__decorate([ o.action ], e.prototype, "setActive", null), 
r.__decorate([ o.computed ], e.prototype, "focusedIndex", null), r.__decorate([ o.computed ], e.prototype, "hoveredIndex", null), 
r.__decorate([ o.computed ], e.prototype, "focusedMember", null), r.__decorate([ o.computed ], e.prototype, "hasFocusedMember", null), 
r.__decorate([ o.computed ], e.prototype, "hasHoveredMember", null), r.__decorate([ o.computed ], e.prototype, "hasLastFocusedMember", null), 
e;
}();
t.FocusGroup = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t) {
var n = this;
this.system = e, this.id = t, this.isolationExceptions = o.observable.array(), this.disablers = o.observable.array(), 
this.skipBatching = !1, this.hooks = {
onSurfaceId: function(e) {
return n.system.batchSurfaceIds(n, e || void 0);
}
}, o.action("Add focus ancestor", function() {
return n.system.ancestors.push(n);
})();
}
return e.prototype.setSurfaceId = function(e) {
this.surfaceId = e;
}, e.prototype.getSurfaceElement = function() {
if (this.surfaceId) return this.system.getSurfaceById(this.surfaceId);
}, e.prototype.setActive = function(e, t) {
if ("string" != typeof e) throw new Error("Expected a uniqueKey: " + e);
var n = this.disablers.indexOf(e);
n > -1 && t && this.disablers.splice(n, 1), -1 !== n || t || this.disablers.push(e);
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
return 0 === this.disablers.length;
},
enumerable: !0,
configurable: !0
}), e.prototype.isolate = function() {
this.deisolate(), this.system.isolatedAncestors.push(this), this.system.triggerRecalculation();
}, e.prototype.deisolate = function() {
var e = this.system.isolatedAncestors.indexOf(this);
e > -1 && this.system.isolatedAncestors.splice(e, 1), this.system.triggerRecalculation();
}, e.prototype.destroy = function() {
var e = this.system.ancestors.indexOf(this);
e && this.system.ancestors.splice(e, 1);
}, Object.defineProperty(e.prototype, "children", {
get: function() {
if (!this.surfaceId) return this.system.log("WARN: FocusAncestor " + this.id + " does not have a surfaceId, did you forget to hook it to a surface?"), 
[];
var e = this.getSurfaceElement();
return e ? this.system.items.filter(function(t) {
var n = t.getSurfaceElement();
return !!n && n.isDescendantOf(e);
}) : (this.system.log("WARN: FocusAncestor " + this.id + " does not have a surface, is this done before mounting perhaps?"), 
[]);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "subAncestors", {
get: function() {
if (!this.surfaceId) return this.system.log("WARN: FocusAncestor " + this.id + " does not have a surfaceId, did you forget to hook it to a surface?"), 
[];
var e = this.getSurfaceElement();
return e ? this.system.ancestors.filter(function(t) {
var n = t.getSurfaceElement();
return !!n && n.isDescendantOf(e);
}) : (this.system.log("WARN: FocusAncestor " + this.id + " does not have a surface, is this done before mounting perhaps?"), 
[]);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "focusedChild", {
get: function() {
var e = this.getSurfaceElement(), t = this.system.getFocusedSurfaceElement();
return e && t && t.isDescendantOf(e) ? this.system.focusedItem : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasFocusedChild", {
get: function() {
return !!this.focusedChild;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hoveredChild", {
get: function() {
var e = this.getSurfaceElement(), t = this.system.getHoveredSurfaceElement();
return e && t && t.isDescendantOf(e) ? this.system.hoveredItem : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasHoveredChild", {
get: function() {
return !!this.hoveredChild;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasFocusedOrHoveredChild", {
get: function() {
return this.hasFocusedChild || this.hasHoveredChild;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasInputFocus", {
get: function() {
return !!this.hasFocusedChild || this.isActive && !this.system.focusedItem && !!this.surfaceId;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.observable ], e.prototype, "surfaceId", void 0), r.__decorate([ o.action ], e.prototype, "setSurfaceId", null), 
r.__decorate([ o.action ], e.prototype, "setActive", null), r.__decorate([ o.computed ], e.prototype, "isActive", null), 
r.__decorate([ o.action ], e.prototype, "isolate", null), r.__decorate([ o.action ], e.prototype, "deisolate", null), 
r.__decorate([ o.action ], e.prototype, "destroy", null), r.__decorate([ o.computed ], e.prototype, "children", null), 
r.__decorate([ o.computed ], e.prototype, "subAncestors", null), r.__decorate([ o.computed ], e.prototype, "focusedChild", null), 
r.__decorate([ o.computed ], e.prototype, "hasFocusedChild", null), r.__decorate([ o.computed ], e.prototype, "hoveredChild", null), 
r.__decorate([ o.computed ], e.prototype, "hasHoveredChild", null), r.__decorate([ o.computed ], e.prototype, "hasFocusedOrHoveredChild", null), 
r.__decorate([ o.computed ], e.prototype, "hasInputFocus", null), e;
}();
t.FocusAncestor = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(134), a = n(42), s = n(116), u = n(84), l = n(27), c = n(133), p = n(77), d = c.__Logger.get("FocusItem"), f = function() {
function e(e, t) {
var n = this;
this.focusSystem = e, this.id = t, this._isPressed = !1, this.group = null, this.inheritsStateFrom = o.observable.array(), 
this.isDestroyed = !1, this.isHoverDisabled = !1, this.focusOnHover = !1, this.autoFocusCandidate = !1, 
this.disablers = o.observable.array(), this.onDestroy = new s.TwinkleSignal(), this.onClick = new s.TwinkleTypedEvent(), 
this.onChange = new s.TwinkleTypedEvent(), this.directionHandlers = {}, this.bounds = null, 
this.skipBatching = !1, this.isActiveCache = !0, this.setBounds = function(e) {
var t = i.Bounds.fromRaw(e);
n.bounds && t.equals(n.bounds) || (n.bounds = t, n.focusSystem.triggerRecalculation());
}, this.handleClick = function(e) {
n.isEventOnInheritedFocusItem(e) || (n.focusSystem.controllerMode = !1, n._isPressed = !1, 
n.isActive && (n.onClick.trigger(e), n.focusOnHover && n.setFocused(a.FocusSource.Mouse), 
n.activeInputExecutor && n.activeInputExecutor.execute()));
}, this.handleMouseDown = function(e) {
n.isEventOnInheritedFocusItem(e) || e.button !== l.MouseButton.Primary || (n.focusSystem.log("Mouse down " + n.id), 
n.focusSystem.controllerMode = !1, n._isPressed = !0);
}, this.handleMouseEnter = function(e) {
n.isHoverDisabled || n.isEventOnInheritedFocusItem(e) || (n.focusSystem.log("Mouse enter " + n.id), 
n.focusSystem.controllerMode = !1, n.setHovered(a.FocusSource.Mouse));
}, this.handleMouseLeave = function(e) {
n.isHoverDisabled || n.isEventOnInheritedFocusItem(e) || (n.focusSystem.log("Mouse leave " + n.id), 
n.focusSystem.controllerMode = !1, n.removeHover(), n._isPressed = !1);
}, this.onFocus(function() {
return n.onChange.trigger(!0);
}), this.onBlur(function() {
return n.onChange.trigger(!1);
}), this.onDestroy.listen(o.autorun(function() {
n.isFocused && !n.isActive && o.untracked(function() {
return n.focusSystem.removeFocus(n);
});
})), this.hooks = {
onSurfaceId: function(e) {
return n.focusSystem.batchSurfaceIds(n, e || void 0);
},
onBounds: this.setBounds,
onClick: this.handleClick,
onMouseDown: this.handleMouseDown,
onMouseEnter: this.handleMouseEnter,
onMouseLeave: this.handleMouseLeave
}, this.onDestroy.listen(o.reaction(function() {
return n.isActive;
}, o.action("set active cache", function(e) {
n.isActiveCache = e;
}), {
fireImmediately: !0
}));
}
return e.prototype.setHoverDisabled = function(e) {
this.isHoverDisabled = e, this.removeHover();
}, e.prototype.inheritStateFrom = function(e) {
this.inheritsStateFrom.replace(e);
}, e.prototype.setSurfaceId = function(e) {
this.isDestroyed || (this.surfaceId = e);
}, e.prototype.toString = function() {
return "FocusItem(" + this.id + ")";
}, e.prototype.getSurfaceElement = function() {
if (this.surfaceId) return this.focusSystem.getSurfaceById(this.surfaceId);
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
if (this.focusSystem.isolatedGroups.length > 0 && (!this.group || -1 === this.focusSystem.isolatedGroups.indexOf(this.group))) return !1;
var e = this.focusSystem.isolatedAncestors.length;
if (e > 0) {
if (!this.surfaceId) return !1;
var t = this.focusSystem.isolatedAncestors[e - 1];
if (-1 === t.children.indexOf(this) && -1 === t.isolationExceptions.indexOf(this)) return !1;
}
return 0 === this.disablers.length && (!this.group || this.group.isActive);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isFocused", {
get: function() {
return this.inheritsStateFrom.length > 0 && this.inheritsStateFrom.filter(function(e) {
return e.isFocused;
}).length > 0 || this.focusSystem.focusedItem === this;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPressed", {
get: function() {
var e = this.inheritsStateFrom.length > 0 && this.inheritsStateFrom.filter(function(e) {
return e.isPressed;
}).length > 0;
return this.isActive && (e || this._isPressed);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isHovered", {
get: function() {
return this.inheritsStateFrom.length > 0 && this.inheritsStateFrom.filter(function(e) {
return e.isHovered;
}).length > 0 || this.focusSystem.hoveredItem === this;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isFocusedOrHovered", {
get: function() {
return this.isFocused || this.isHovered;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "activeInputExecutor", {
get: function() {
return this.inputExecutor;
},
enumerable: !0,
configurable: !0
}), e.prototype.handleDirection = function(e, t) {
this.directionHandlers[e] = t;
}, e.prototype.isValidForFocus = function() {
return this.isActiveCache && null !== this.surfaceId && !this.isDestroyed;
}, e.prototype.navigate = function(e) {
if (this.focusSystem.log("Navigating from " + this.id + " to " + a.Direction[e]), 
this.group) {
var t = this.group.navigateFromItem(this, e);
if (t.result !== a.NavigationResultType.FALLTHROUGH) return this.focusSystem.log("Item group navigation result: " + a.NavigationResultType[t.result]), 
t;
}
return this.directionHandlers[e] ? this.directionHandlers[e](e) : {
result: a.NavigationResultType.FALLTHROUGH
};
}, e.prototype.setInputExecutor = function(e) {
this.inputExecutor = e;
}, e.prototype.setActive = function(e, t) {
var n = this.disablers.indexOf(e);
n > -1 && t && this.disablers.splice(n, 1), -1 !== n || t || this.disablers.push(e);
}, e.prototype.setFocused = function(e, t) {
(e !== a.FocusSource.Auto || this.focusSystem.controllerMode) && this.focusSystem.setAsFocused(this, e, t);
}, e.prototype.setHovered = function(e) {
this.focusOnHover && this.focusSystem.setAsFocused(this, e), this.focusSystem.setAsHovered(this, e);
}, e.prototype.removeHover = function() {
this.focusOnHover && this.focusSystem.removeFocus(this), this.focusSystem.removeHover(this);
}, e.prototype.isEventOnInheritedFocusItem = function(e) {
if (this.inheritsStateFrom.length > 0) for (var t = this.inheritsStateFrom.map(function(e) {
return e.surfaceId;
}), n = 0, r = e.surfaces; n < r.length; n++) {
var o = r[n];
if (t.indexOf(o.surfaceId) >= 0) return !0;
}
return !1;
}, e.prototype.onFocus = function(e) {
var t = this, n = o.autorun(function() {
t.isFocused && o.untracked(e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onBlur = function(e) {
var t = this, n = this.onFocus(function() {
return o.when(function() {
return !t.isFocused;
}, e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onHover = function(e) {
var t = this, n = o.autorun(function() {
t.isHovered && o.untracked(e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onLeave = function(e) {
var t = this, n = this.onHover(function() {
return o.when(function() {
return !t.isHovered;
}, e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.onFocusOrHover = function(e) {
var t = this, n = o.reaction(function() {
return t.isFocusedOrHovered;
}, e);
return this.onDestroy.listen(n), n;
}, e.prototype.onBlurOrLeave = function(e) {
var t = this, n = this.onFocusOrHover(function() {
return o.when(function() {
return !t.isFocusedOrHovered;
}, e);
});
return this.onDestroy.listen(n), n;
}, e.prototype.connectLifeCycle = function(e) {
var t = this, n = 0;
u.options.enableDevWarnings && p.addLifecycleHook(e, "componentDidMount", function() {
n = setTimeout(function() {
!t.surfaceId && t.isActive && d.warn("Mounted focusable " + t.id + " without a surface element, did you forget to hook it to a surface?");
}, 1e3);
}), p.addLifecycleHook(e, "componentWillUnmount", function() {
u.options.enableDevWarnings && clearTimeout(n), t.destroy();
});
}, e.prototype.getBounds = function() {
return this.bounds;
}, e.prototype.destroy = function() {
this.isDestroyed = !0, this.inputExecutor = void 0, this.onChange.destroy(), this.onClick.destroy(), 
this.onDestroy.trigger(), this.onDestroy.destroy(), this.focusSystem.remove(this);
}, r.__decorate([ o.observable ], e.prototype, "_isPressed", void 0), r.__decorate([ o.observable.ref ], e.prototype, "inputExecutor", void 0), 
r.__decorate([ o.observable.ref ], e.prototype, "group", void 0), r.__decorate([ o.observable ], e.prototype, "surfaceId", void 0), 
r.__decorate([ o.observable ], e.prototype, "isHoverDisabled", void 0), r.__decorate([ o.action ], e.prototype, "setHoverDisabled", null), 
r.__decorate([ o.observable.ref ], e.prototype, "bounds", void 0), r.__decorate([ o.observable ], e.prototype, "isActiveCache", void 0), 
r.__decorate([ o.action ], e.prototype, "setBounds", void 0), r.__decorate([ o.action ], e.prototype, "inheritStateFrom", null), 
r.__decorate([ o.action ], e.prototype, "setSurfaceId", null), r.__decorate([ o.computed ], e.prototype, "isActive", null), 
r.__decorate([ o.computed ], e.prototype, "isFocused", null), r.__decorate([ o.computed ], e.prototype, "isPressed", null), 
r.__decorate([ o.computed ], e.prototype, "isHovered", null), r.__decorate([ o.computed ], e.prototype, "isFocusedOrHovered", null), 
r.__decorate([ o.computed ], e.prototype, "activeInputExecutor", null), r.__decorate([ o.action ], e.prototype, "setInputExecutor", null), 
r.__decorate([ o.action ], e.prototype, "setActive", null), r.__decorate([ o.action ], e.prototype, "setFocused", null), 
r.__decorate([ o.action ], e.prototype, "setHovered", null), r.__decorate([ o.action ], e.prototype, "removeHover", null), 
r.__decorate([ o.action ], e.prototype, "handleClick", void 0), r.__decorate([ o.action ], e.prototype, "handleMouseDown", void 0), 
r.__decorate([ o.action ], e.prototype, "handleMouseEnter", void 0), r.__decorate([ o.action ], e.prototype, "handleMouseLeave", void 0), 
r.__decorate([ o.action ], e.prototype, "destroy", null), e;
}();
t.FocusItem = f;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
this.system = e, this.invalids = [], this.visible = [];
}
return e.prototype.reportInvalid = function(e) {
e.length > 0 && (this.system.log("Reported invalid: " + e.map(function(e) {
return e ? e.id : "null";
}).join(", ")), this.invalids = this.invalids.concat(e));
}, e.prototype.setAsVisible = function(e) {
e.length > 0 && (this.system.log("Setting as visible: " + e.map(function(e) {
return e ? e.id : "null";
}).join(", ")), this.visible = this.visible.concat(e));
}, e.prototype.isValid = function(e) {
return -1 === this.invalids.indexOf(e);
}, e.prototype.isSetAsVisible = function(e) {
return this.visible.indexOf(e) > -1;
}, e.prototype.reset = function() {
this.invalids = [], this.visible = [];
}, e;
}();
t.InvalidQuery = r;
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(173), a = n(250), s = n(100), u = n(249), l = n(24), c = n(217), p = n(43);
var d = function() {
function t(e, t, n, r) {
var i = this;
this.getBuildInfo = e, this.gatewayState = t, this.userStore = n, this.presenceStateStore = r, 
p.joinedServer.listen(function(e) {
i.setSessionUserServer(e);
}), p.leftServer.listen(function() {
i.setSessionUserServer(void 0);
}), o.reaction(function() {
return i.sessionUserPresence;
}, function(e) {
e && i.userStore.updatePresences([ e ]);
}, {
fireImmediately: !0
}), o.reaction(function() {
return i.isOnlineBlazeAndGateway;
}, function(e) {
e && i.userStore.fetchProfilesForUsersWithoutAvatars();
}, {
fireImmediately: !0
});
}
return Object.defineProperty(t.prototype, "sessionUser", {
get: function() {
var e = this.sessionUserId && this.sessionUserId.getPlatformId();
return e ? this.userStore.users.get(e) : void 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canNeverGoOnline", {
get: function() {
return function e(t) {
return t === i.ConnectionResultType.tooYoung || t === i.ConnectionResultType.tooYoungForContent || t === i.ConnectionResultType.requiredUpdateExists || t === i.ConnectionResultType.originStartupFailed || t === i.ConnectionResultType.originMandatoryUpdate || t === i.ConnectionResultType.originNotLoggedIn || t === i.ConnectionResultType.accountBanned || t === i.ConnectionResultType.missingOnlineAccess || t === i.ConnectionResultType.noMultiplayerPrivilege;
}(this.presenceStateStore.resultType);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isDisconnected", {
get: function() {
return this.presenceStateStore.isDisconnected;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasInfo", {
get: function() {
return this.presenceStateStore.hasInfo;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canGoOnline", {
get: function() {
return !this.isOnlineBlazeAndGateway && !this.isConnecting && !this.canNeverGoOnline;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canGoOnlineAutomatically", {
get: function() {
return this.canGoOnline && this.presenceStateStore.resultType !== i.ConnectionResultType.originOffline;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "goOnlineIsRetry", {
get: function() {
return this.presenceStateStore.resultType === i.ConnectionResultType.missingOnlineAccess || this.presenceStateStore.resultType === i.ConnectionResultType.noMultiplayerPrivilege;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "shouldRetryGoOnline", {
get: function() {
return this.presenceStateStore.resultType === i.ConnectionResultType.authCodeFailed;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canChangeUser", {
get: function() {
return this.presenceStateStore.resultType === i.ConnectionResultType.missingOnlineAccess || this.presenceStateStore.resultType === i.ConnectionResultType.noMultiplayerPrivilege;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isConnecting", {
get: function() {
return this.presenceStateStore.isConnecting || this.presenceStateStore.resultType === i.ConnectionResultType.needUserInteraction || this.gatewayState.sessionState === a.GatewaySessionState.connecting;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isOnlineBlazeAndGateway", {
get: function() {
return this.presenceStateStore.isReady && this.hasGatewaySession;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "hasGatewaySession", {
get: function() {
return this.gatewayState.sessionState === a.GatewaySessionState.established;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "sessionUserPresence", {
get: function() {
if (this.sessionUserId) {
var e = this.presenceStateStore.isReady ? s.UserPresenceStates.Playing : s.UserPresenceStates.Offline;
return new u.UserPresence({
userId: this.sessionUserId.getPlatformId() || void 0,
state: this.sessionUserServer ? s.UserPresenceStates.Joinable : e,
server: this.sessionUserServer
});
}
},
enumerable: !0,
configurable: !0
}), t.prototype.setSessionUserId = function(e) {
this.sessionUserId = e;
}, t.prototype.setSessionUserServer = function(e) {
this.sessionUserServer = e;
}, t.prototype.connect = function(t, n) {
var r = this, i = this.presenceStateStore.lastUpdated;
this.presenceStateStore.isReady ? l.connect() : c.connect(), o.when(function() {
return i < r.presenceStateStore.lastUpdated && !r.presenceStateStore.isConnecting && (r.gatewayState.hasResolved || r.presenceStateStore.isDisconnected);
}, function() {
t(r.connectionMessage);
}, {
timeout: 1e4,
onError: function() {
var t = new Error("No response received for the user's request to go online");
n ? n(t) : e.warn(t);
}
});
}, Object.defineProperty(t.prototype, "connectionMessage", {
get: function() {
if (this.isOnlineBlazeAndGateway) return {
title: "",
description: ""
};
if (this.isConnecting) return {
title: __("ID_SPARTA_ONLINE_PRESENCE_CONNECTING"),
description: this.presenceStateStore.customMessage
};
if (this.presenceStateStore.isReady && this.gatewayState.sessionState === a.GatewaySessionState.failed) return {
title: __("ID_SPARTA_ONLINE_GATEWAY_NOT_LOGGED_IN"),
description: __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED") + "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO") + " (2000)"
};
var e = this.presenceStateStore, t = this.getBuildInfo(), n = "", r = "";
switch (e.hasInternet ? (n = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED") + "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO") + " (1000)") : (n = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED") + "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO") + " (1001)"), 
e.resultType) {
case i.ConnectionResultType.duplicateLogin:
n = __("ID_SPARTA_ONLINE_PRESENCE_ALREADY_IN_USE"), r = "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case i.ConnectionResultType.loginCancelled:
n = t.isXboxOne ? __("ID_SPARTA_ONLINE_PRESENCE_LOGIN_CANCELLED_XB1") : t.isPS4 ? __("ID_SPARTA_ONLINE_PRESENCE_LOGIN_CANCELLED_PS4") : __("ID_SPARTA_ONLINE_PRESENCE_LOGIN_CANCELLED_PC"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_UNAVAILABLE"), r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case i.ConnectionResultType.accountBanned:
n = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS"), r = __("ID_SPARTA_ONLINE_PRESENCE_BANNED_DESC");
break;

case i.ConnectionResultType.invalidUser:
case i.ConnectionResultType.missingOnlineAccess:
n = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS"), r = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS_DESC"), 
t.isXboxOne ? r += __("ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS_XBLIVE") : t.isPS4 ? r += __("ID_SPARTA_ONLINE_PRESENCE_MISSING_ACCESS_PSNETWORK") : r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case i.ConnectionResultType.noMultiplayerPrivilege:
n = __("ID_SPARTA_ONLINE_PRESENCE_MISSING_PRIVILEGES"), r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO"), t.isXboxOne ? (r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED_XONE"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO")) : t.isPS4 && (n = "", r = "");
break;

case i.ConnectionResultType.originOffline:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_OFFLINE"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_OFFLINE_DESC");
break;

case i.ConnectionResultType.originStartupFailed:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_FAILED"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_FAILED_DESC");
break;

case i.ConnectionResultType.originMandatoryUpdate:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_UPDATE"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_UPDATE_DESC"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case i.ConnectionResultType.originNotLoggedIn:
n = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_NOT_LOGGED_IN"), r = __("ID_SPARTA_ONLINE_PRESENCE_ORIGIN_NOT_LOGGED_IN_DESC"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case i.ConnectionResultType.psuLimitExceeded:
n = __("ID_SPARTA_ONLINE_PRESENCE_PSU_LIMIT_EXCEEDED"), r = __("ID_SPARTA_ONLINE_PRESENCE_PSU_LIMIT_EXCEEDED_DESC");
break;

case i.ConnectionResultType.requiredUpdateExists:
case i.ConnectionResultType.gameClientVersionMissmatch:
n = __("ID_SPARTA_ONLINE_PRESENCE_REQUIRED_UPDATE"), r = __("ID_SPARTA_ONLINE_PRESENCE_REQUIRED_UPDATE_DESC"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case i.ConnectionResultType.authCodeFailed:
case i.ConnectionResultType.networkError:
case i.ConnectionResultType.serverConfiguration:
case i.ConnectionResultType.systemError:
case i.ConnectionResultType.failure:
n = __("ID_SPARTA_ONLINE_PRESENCE_FAILED_EA_ONLINE"), r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case i.ConnectionResultType.connectionFailed:
case i.ConnectionResultType.networkDisconnect:
case i.ConnectionResultType.serverDisconnect:
case i.ConnectionResultType.serverNotFound:
case i.ConnectionResultType.timeout:
n = __("ID_SPARTA_ONLINE_PRESENCE_LOST_EA_CONNECTION"), r = __("ID_SPARTA_ONLINE_PRESENCE_ONLINE_FEATURES_DISABLED"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case i.ConnectionResultType.tooYoung:
case i.ConnectionResultType.tooYoungForContent:
n = __("ID_SPARTA_ONLINE_PRESENCE_ACCESS_DENIED"), r = __("ID_SPARTA_ONLINE_PRESENCE_ACCESS_DENIED_DESC");
break;

case i.ConnectionResultType.userLost:
n = t.isXboxOne ? __("ID_SPARTA_ONLINE_PRESENCE_SIGNIN_CHANGE") : t.isPS4 ? __("ID_SPARTA_ONLINE_PRESENCE_LOST_PSN_CONNECTION") : __("ID_SPARTA_ONLINE_PRESENCE_LOST_USER"), 
r = __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
break;

case i.ConnectionResultType.noService:
n = __("ID_SPARTA_ONLINE_PRESENCE_NO_SERVICE"), r = __("ID_SPARTA_ONLINE_PRESENCE_NO_SERVICE_DESC"), 
r += "\n" + __("ID_SPARTA_ONLINE_PRESENCE_MORE_INFO");
}
return {
title: n,
description: r
};
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.observable ], t.prototype, "sessionUserId", void 0), r.__decorate([ o.computed ], t.prototype, "sessionUser", null), 
r.__decorate([ o.computed ], t.prototype, "canGoOnline", null), r.__decorate([ o.computed ], t.prototype, "canGoOnlineAutomatically", null), 
r.__decorate([ o.computed ], t.prototype, "goOnlineIsRetry", null), r.__decorate([ o.computed ], t.prototype, "shouldRetryGoOnline", null), 
r.__decorate([ o.computed ], t.prototype, "canChangeUser", null), r.__decorate([ o.computed ], t.prototype, "isConnecting", null), 
r.__decorate([ o.computed ], t.prototype, "isOnlineBlazeAndGateway", null), r.__decorate([ o.computed ], t.prototype, "hasGatewaySession", null), 
r.__decorate([ o.observable ], t.prototype, "sessionUserServer", void 0), r.__decorate([ o.computed ], t.prototype, "sessionUserPresence", null), 
r.__decorate([ o.action ], t.prototype, "setSessionUserId", null), r.__decorate([ o.action ], t.prototype, "setSessionUserServer", null), 
r.__decorate([ o.computed ], t.prototype, "connectionMessage", null), t;
}();
t.OnlineState = d;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(100), a = n(518), s = n(49), u = n(9), l = function() {
function e(e, t) {
this.userStore = e, this.onlineState = t, this.totalFriends = null, this.pagination = new c(this, this.userStore, this.onlineState);
}
return Object.defineProperty(e.prototype, "friends", {
get: function() {
return o.values(this.userStore.users).filter(function(e) {
return e.isFriend;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "presenceStates", {
get: function() {
var e = {};
return this.friends.forEach(function(t) {
e[t.presence.state.toString()] = t.presence.state;
}), Object.keys(e).map(function(t) {
return e[t];
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "onlineFriends", {
get: function() {
return this.friends.filter(function(e) {
return e.presence.state !== i.UserPresenceStates.Offline;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "playingFriends", {
get: function() {
return this.friends.filter(function(e) {
return !!e.presence.server;
});
},
enumerable: !0,
configurable: !0
}), e.prototype.setTotalFriends = function(e) {
this.totalFriends = e;
}, e.prototype.findFriendById = function(e) {
return this.friends.find(function(t) {
return t.id === e;
});
}, e.prototype.findFriendByPersonaId = function(e) {
return this.friends.find(function(t) {
return t.spartaUserId.personaId === e;
});
}, r.__decorate([ o.observable ], e.prototype, "totalFriends", void 0), r.__decorate([ o.computed ], e.prototype, "friends", null), 
r.__decorate([ o.computed.struct ], e.prototype, "presenceStates", null), r.__decorate([ o.computed ], e.prototype, "onlineFriends", null), 
r.__decorate([ o.computed ], e.prototype, "playingFriends", null), r.__decorate([ o.action ], e.prototype, "setTotalFriends", null), 
e;
}();
t.FriendStore = l;
var c = function() {
function e(e, t, n) {
var r = this;
this.friendStore = e, this.userStore = t, this.onlineState = n, this.friendIds = o.observable([]), 
this.currentPage = 0, this.personaIds = o.observable.array(), this.pageSize = 32, 
o.reaction(function() {
return r.friendIds.slice();
}, function() {
var e = [];
r.friends.forEach(function(t) {
t.personaId && e.push(t.personaId);
}), r.setPersonaIds(e);
}), o.reaction(function() {
return r.onlineState.isOnlineBlazeAndGateway;
}, function(e) {
e && r.fetchFriends(r.currentPage);
}), s.onSignInChange.listen(function() {
r.reset(), r.fetchFriends(r.currentPage);
});
}
return Object.defineProperty(e.prototype, "totalPages", {
get: function() {
return Math.ceil((this.friendStore.totalFriends || 0) / this.pageSize);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "friends", {
get: function() {
var e = this, t = [];
return this.friendIds.forEach(function(n) {
var r = e.userStore.users.get(n);
r && t.push(r);
}), t;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canShowNextPage", {
get: function() {
return this.currentPage < this.totalPages - 1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canShowPreviousPage", {
get: function() {
return this.currentPage >= 1;
},
enumerable: !0,
configurable: !0
}), e.prototype.fetchFriends = function(e) {
var t = [ "InTitleFilter", "OnlineOtherTitleFilter" ];
u.SpartaGlobals.bundleIsXBOXONE ? t.push("OfflineFilter") : t.push("MutualOfflineFilter"), 
a.fetchFriends({
page: e,
friendsPerPage: this.pageSize,
filters: t
});
}, e.prototype.setFriendIds = function(e) {
var t = this, n = [];
e.forEach(function(e) {
var t = e.getPlatformId();
t && n.push(t);
});
for (var r = 0; r < this.friendIds.length; ) -1 === n.indexOf(this.friendIds[r]) ? this.friendIds.splice(r, 1) : r++;
n.forEach(function(e) {
-1 === t.friendIds.indexOf(e) && t.friendIds.push(e);
});
}, e.prototype.reset = function() {
this.currentPage = 0, this.setPersonaIds([]), this.friendIds.clear();
}, e.prototype.setPersonaIds = function(e) {
this.personaIds.replace(e);
}, e.prototype.gotoPage = function(e) {
this.currentPage = e, this.fetchFriends(e);
}, e.prototype.gotoNextPage = function() {
this.canShowNextPage && this.gotoPage(this.currentPage + 1);
}, e.prototype.gotoPreviousPage = function() {
this.canShowPreviousPage && this.gotoPage(this.currentPage - 1);
}, r.__decorate([ o.observable ], e.prototype, "currentPage", void 0), r.__decorate([ o.computed ], e.prototype, "totalPages", null), 
r.__decorate([ o.computed ], e.prototype, "friends", null), r.__decorate([ o.computed ], e.prototype, "canShowNextPage", null), 
r.__decorate([ o.computed ], e.prototype, "canShowPreviousPage", null), r.__decorate([ o.action ], e.prototype, "setFriendIds", null), 
r.__decorate([ o.action ], e.prototype, "reset", null), r.__decorate([ o.action ], e.prototype, "setPersonaIds", null), 
r.__decorate([ o.action ], e.prototype, "gotoPage", null), e;
}();
t.FriendPagination = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(192), a = n(249), s = n(172), u = n(516), l = n(59), c = n(88), p = function() {
function e() {
var e = this;
this.users = o.observable.map(), this.fetchedIds = {}, this.handleUserProfilesResponse = function(t, n) {
var r = [];
n.userProfiles.forEach(function(t) {
var n = s.SpartaUserId.getPlatformId(t.spartaUserId), o = n ? e.users.get(n) : void 0;
o && r.push(o.extend({
displayName: o.displayName || t.displayName,
avatarUrl: u.formatAvatarUrl(t.profileImageUrl)
}));
}), e.updateUsers(r);
}, o.reaction(function() {
return o.values(e.users);
}, function(t) {
e.fetchProfilesForUsersWithoutAvatars();
}), l.frostbite.registerMessageListener("sparta.getUserProfilesResp", this.handleUserProfilesResponse);
}
return e.prototype.fetchProfilesForUsersWithoutAvatars = function() {
this.usersWithoutAvatars.length > 0 && this.fetchProfiles(this.usersWithoutAvatars.map(function(e) {
return e.spartaUserId;
}));
}, Object.defineProperty(e.prototype, "usersWithoutAvatars", {
get: function() {
var e = this;
return o.values(this.users).filter(function(t) {
var n = t.spartaUserId.getPlatformId();
return n ? !e.fetchedIds[n] && (!t.avatarUrl || !t.displayName) : !t.avatarUrl || !t.displayName;
});
},
enumerable: !0,
configurable: !0
}), e.prototype.setUsers = function(e) {
this.users.clear(), this.updateUsers(e);
}, e.prototype.reset = function() {
this.users.clear(), this.fetchedIds = {};
}, e.prototype.getByPlatformId = function(e) {
return e ? this.users.get(e) : void 0;
}, e.prototype.fetchProfiles = function(e) {
var t = this;
e.forEach(function(e) {
var n = e.getPlatformId();
n && (t.fetchedIds[n] = !0);
}), l.frostbite.sendMessage("sparta.getUserProfiles", {
users: e.map(function(e) {
return Object.assign({}, e);
}),
profileImageSize: "medium"
});
}, e.prototype.updateUsers = function(e) {
var t = this;
e.forEach(function(e) {
if (e && e.id) {
var n = t.users.get(e.id), r = n ? n.updateFrom(e) : e;
t.users.set(e.id, r);
}
});
}, e.prototype.updatePresences = function(e) {
var t = this, n = [];
e.forEach(function(e) {
var o = t.users.get(e.userId);
if (o) {
var u = new a.UserPresence(r.__assign({}, o.presence, e));
n.push(o.extend({
presence: u
}));
} else e.userId && t.updateUsers([ new i.User({
spartaUserId: s.SpartaUserId.fromPlatformId(e.userId),
presence: e
}) ]);
}), n.length && this.updateUsers(n);
}, e.prototype.removeServerPresences = function(e) {
var t = e.map(function(e) {
return {
userId: e,
server: void 0
};
});
this.updatePresences(t);
}, r.__decorate([ c.debounced({
duration: 1e3,
isLeading: !0,
isTailing: !0
}) ], e.prototype, "fetchProfilesForUsersWithoutAvatars", null), r.__decorate([ o.action ], e.prototype, "setUsers", null), 
r.__decorate([ o.action ], e.prototype, "reset", null), r.__decorate([ o.action ], e.prototype, "fetchProfiles", null), 
r.__decorate([ o.action ], e.prototype, "updateUsers", null), r.__decorate([ o.action ], e.prototype, "updatePresences", null), 
e;
}();
t.UserStore = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(116), i = n(3), a = n(11), s = n(12);
function u(e, t) {
return e === t ? 0 : (e.key ? e.key.order : 0) < (t.key ? t.key.order : 0) ? -1 : 1;
}
t.sortInput = u;
var l = function() {
function e(e, t) {
this.inputStore = e, this.input = t;
}
return e.prototype.getInput = function() {
return "function" == typeof this.input ? this.input() : this.input;
}, e.prototype.execute = function() {
var e = this.getInput();
e && this.inputStore.executeInputAction(e);
}, e;
}(), c = function() {
function e(e) {
var t = this;
this.focus = e, this.isolatedGroupIds = [], this.entries = i.observable.array([], {
deep: !1
}), this.inputCache = [], this.inputBlocks = 0, this.inputBlockedInRime = !1, this.calledTrigger = new o.TwinkleTypedEvent(), 
this.calledAction = new o.TwinkleTypedEvent(), this.calledHoldAction = new o.TwinkleTypedEvent(), 
this.calledReleaseAction = new o.TwinkleTypedEvent(), i.reaction(function() {
return t.inputs;
}, function(e) {
return t.inputCache = e;
});
}
return e.prototype.getEntries = function() {
return this.entries.slice();
}, e.prototype.getIsolatedGroupIds = function() {
return this.isolatedGroupIds.slice();
}, e.prototype.trigger = function(e) {
var t = this;
this.calledTrigger.trigger(e), this.inputCache.forEach(function(n) {
if (n.key === e.key) {
if (e.isPress) t.executeInputAction(n, e) && t.calledAction.trigger(e);
e.isHold && n.holdAction && (n.holdAction(e), t.calledHoldAction.trigger(e)), e.isRelease && n.releaseAction && (n.releaseAction(e), 
t.calledReleaseAction.trigger(e));
}
});
}, e.prototype.executeInputAction = function(e, t) {
return !(this.inputBlocked || !e.action) && (e.blockInputFor > 0 && this.blockInputFor(e.blockInputFor), 
e.action(t), !0);
}, e.prototype.bindInputToFocusItem = function(e, t) {
t.setInputExecutor(new l(this, e));
}, e.prototype.register = function(e, t, n) {
this.unregister(e, t), this.entries.push({
groupId: t,
regId: e,
inputs: n
});
}, e.prototype.unregister = function(e, t) {
for (var n = this.entries.length, r = 0; r < n; ++r) {
var o = this.entries[r];
if (o.regId === e && o.groupId === t) {
this.entries.splice(r, 1);
break;
}
}
}, e.prototype.isolateGroup = function(e) {
this.releaseGroup(e), this.isolatedGroupIds.push(e);
}, e.prototype.releaseGroup = function(e) {
var t = this.isolatedGroupIds.indexOf(e);
t > -1 && this.isolatedGroupIds.splice(t, 1);
}, e.prototype.isolateMultipleGroups = function(e) {
this.isolateGroup(e.join("|"));
}, e.prototype.releaseMultipleGroups = function(e) {
this.releaseGroup(e.join("|"));
}, Object.defineProperty(e.prototype, "inputs", {
get: function() {
var e = this.entries.slice();
if (this.isolatedGroupIds.length > 0) {
var t = this.isolatedGroupIds[this.isolatedGroupIds.length - 1];
e = e.filter(function(e) {
return -1 !== t.indexOf(e.groupId);
});
}
e.reverse();
var n = [];
if (e.forEach(function(e) {
n.push.apply(n, e.inputs);
}), this.focus.controllerMode) {
var r = this.focus.executor;
if (r instanceof l) {
var o = r.getInput();
o && n.push(o);
}
}
var i = a.Keys.prioritized.slice(), c = [], p = [];
return n.forEach(function(e) {
if (e.key) {
var t = i.indexOf(e.key);
if (t > -1) i.splice(t, 1), c.push(e); else if (!e.lowPriority) {
var n = c.findIndex(function(t) {
return t.key === e.key;
});
if (n > -1 && c[n].lowPriority) c.splice(n, 1, e); else ;
}
} else p.push(e);
}), p.forEach(function(e) {
if (i.length > 0) {
var t = new s.Input(Object.assign({}, e, {
key: i.shift()
}));
c.push(t);
} else console.error("Could not assign input key automatically: No more keys available");
}), c.sort(u), c;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "appearanceInputs", {
get: function() {
return this.inputs.filter(function(e) {
return e && (e.visible || void 0 === e.visible) && e.key;
});
},
enumerable: !0,
configurable: !0
}), e.prototype.blockInputFor = function(e) {
var t = this;
this.inputBlocks++, setTimeout(i.action("decrease input blocks", function() {
return t.inputBlocks--;
}), e);
}, e.prototype.blockInput = function() {
var e = this;
this.inputBlocks++;
var t = !1;
return i.action(function() {
if (t) throw Error("Got multiple calls to InputStore.blockInput reset function");
e.inputBlocks--, t = !0;
});
}, e.prototype.blockInputInRime = function() {
var e = this;
return this.inputBlockedInRime = !0, i.action(function() {
if (!e.inputBlockedInRime) throw Error("Got multiple calls to InputStore.blockInputInRime reset function");
e.inputBlockedInRime = !1;
});
}, Object.defineProperty(e.prototype, "inputBlocked", {
get: function() {
return this.inputBlocks > 0;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ i.observable ], e.prototype, "isolatedGroupIds", void 0), r.__decorate([ i.observable ], e.prototype, "inputBlocks", void 0), 
r.__decorate([ i.observable ], e.prototype, "inputBlockedInRime", void 0), r.__decorate([ i.action ], e.prototype, "register", null), 
r.__decorate([ i.action ], e.prototype, "unregister", null), r.__decorate([ i.action ], e.prototype, "isolateGroup", null), 
r.__decorate([ i.action ], e.prototype, "releaseGroup", null), r.__decorate([ i.action ], e.prototype, "isolateMultipleGroups", null), 
r.__decorate([ i.action ], e.prototype, "releaseMultipleGroups", null), r.__decorate([ i.computed ], e.prototype, "inputs", null), 
r.__decorate([ i.computed ], e.prototype, "appearanceInputs", null), r.__decorate([ i.action ], e.prototype, "blockInputFor", null), 
r.__decorate([ i.action ], e.prototype, "blockInput", null), r.__decorate([ i.action ], e.prototype, "blockInputInRime", null), 
r.__decorate([ i.computed ], e.prototype, "inputBlocked", null), e;
}();
t.InputStore = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(117), a = n(174), s = n(252), u = n(40), l = function() {
function e(e) {
var t = this;
this.gameStore = e, this.defaultLocale = a.Locales.ENGLISH, this.defaultRegion = s.Regions.EU, 
this.hostingGame = null, this.hostingGameId = null, this.ready = !1, this.gatewaySettingsReady = !1, 
this.enableTwinkleInputConcepts = !1, this.gatewayProtocol = "http", this.commerceLocale = null, 
this.region = null, this.locale = null, this.protocolVersion = null, this.crossLaunchProtocolVersion = null, 
this.parentSessionId = null, this.gatewayHost = null, this.gatewayTenancyRootEnv = "unknown", 
this.gatewayTenancyBlazeEnv = "unknown", this.envOnlineEnvironment = null, this.productCode = null, 
this.serviceOverride = null, this.envChangeListNumber = null, this.isStreamingInstalling = null, 
this.showStartScreen = null, this.crossLaunch = null, this.envBranchName = u.getBuildInfo().fbBranchName, 
o.when(function() {
return "" !== t.envBranchName && i.coreEventStore.allModulesLoaded;
}, function() {
return t.setHostingGame(t.envBranchName);
}), o.reaction(function() {
return i.coreEventStore.firstPartyConnectedMessage;
}, function(e) {
e && t.onFirstPartyConnectedMessage(e);
}), o.reaction(function() {
return i.coreEventStore.nativeClientReadyMessage;
}, function(e) {
e && t.onNativeClientReadyMessage(e);
}), o.reaction(function() {
return i.coreEventStore.blazeConfigReadyMessage;
}, function(e) {
e && t.onBlazeConfigReadyMessage(e);
}), o.when(function() {
return !!t.hostingGame && !!t.readyMessage;
}, function() {
return t.initialize();
}), o.when(function() {
return !!t.hostingGame && !!t.blazeConfigReadyMessage;
}, function() {
return t.initializeGatewaySettings();
});
}
return Object.defineProperty(e.prototype, "gatewayUrl", {
get: function() {
return null != this.gatewayHost ? this.gatewayProtocol + "://" + this.gatewayHost : null;
},
enumerable: !0,
configurable: !0
}), e.prototype.setHostingGame = function(e) {
var t = this.getGameByBranchName(e);
if (!t) throw new Error("Cannot get game by branchName: " + e);
this.hostingGame = t, this.hostingGameId = t.gameId;
}, Object.defineProperty(e.prototype, "regionOrDefault", {
get: function() {
return this.region || this.defaultRegion;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "localeOrDefault", {
get: function() {
return this.locale || this.defaultLocale;
},
enumerable: !0,
configurable: !0
}), e.prototype.getHostingGame = function() {
if (null === this.hostingGame) throw new Error("getHostingGame called before modules are loaded, please use onHostingGame instead");
return this.hostingGame;
}, e.prototype.getHostingGameId = function() {
if (null === this.hostingGameId) throw new Error("getHostingGameId called before modules are loaded, please use onHostingGameId instead");
return this.hostingGameId;
}, e.prototype.onHostingGame = function(e) {
var t = this;
return o.when(function() {
return !!t.hostingGame;
}, function() {
t.hostingGame && e(t.hostingGame);
});
}, e.prototype.onHostingGameId = function(e) {
var t = this;
return o.when(function() {
return !!t.hostingGameId;
}, function() {
t.hostingGameId && e(t.hostingGameId);
});
}, e.prototype.onNativeClientReadyMessage = function(e) {
this.readyMessage = e, u.getBuildInfo().fbBranchName || this.envBranchName || !e.nativeClientInformation.env.branchName || (this.envBranchName = e.nativeClientInformation.env.branchName);
}, e.prototype.onBlazeConfigReadyMessage = function(e) {
this.blazeConfigReadyMessage = e;
}, e.prototype.initialize = function() {
if (!this.readyMessage) throw new Error("initialize called before NativeClientReadyMessage has been received");
var e = this.readyMessage.nativeClientInformation;
if (Object.keys(e.serviceOverride).length > 0) try {
this.serviceOverride = JSON.parse(e.serviceOverride);
} catch (t) {
console.warn("Failed to parse service override JSON:", e.serviceOverride);
}
Object.keys(e.productCode).length > 0 && (this.productCode = e.productCode);
var t = e.locale || this.defaultLocale;
this.gatewayHost = e.env.gatewayHost || "", this.gatewayTenancyRootEnv = e.env.gatewayTenancyRootEnv || "unknown", 
this.gatewayTenancyBlazeEnv = e.env.gatewayTenancyBlazeEnv || "unknown", this.envOnlineEnvironment = e.env.onlineEnvironment, 
this.envChangeListNumber = e.env.changeListNumber, this.protocolVersion = e.protocolVersion, 
this.enableTwinkleInputConcepts = e.enableTwinkleInputConcepts || !1, this.region = e.region || this.defaultRegion, 
this.locale = t, this.commerceLocale = (e.commerceLocale || "").toLowerCase(), this.crossLaunch = e.crossLaunch || null, 
this.parentSessionId = e.parentSessionId, this.isStreamingInstalling = e.isStreamingInstalling || !1, 
this.crossLaunchProtocolVersion = e.crossLaunchProtocolVersion || null, "boolean" == typeof e.showStartScreen && (this.showStartScreen = e.showStartScreen), 
e.env.gatewayProtocol && (this.gatewayProtocol = e.env.gatewayProtocol), this.ready = !0, 
this.gatewaySettingsReady = !0;
}, e.prototype.initializeGatewaySettings = function() {
if (!this.blazeConfigReadyMessage) throw new Error("initialize called before BlazeConfigReadyMessage has been received");
var e = this.blazeConfigReadyMessage;
this.gatewayHost = e.gatewayHost || "", this.gatewayTenancyRootEnv = e.gatewayTenancyRootEnv || "unknown", 
this.gatewayTenancyBlazeEnv = e.gatewayTenancyBlazeEnv || "unknown", e.gatewayProtocol && (this.gatewayProtocol = e.gatewayProtocol);
}, e.prototype.onFirstPartyConnectedMessage = function(e) {
this.envOnlineEnvironment = e.onlineEnvironment, this.gatewayHost = e.gatewayHost, 
this.gatewayProtocol = e.gatewayProtocol;
}, e.prototype.getGameByBranchName = function(e) {
var t = null;
return this.gameStore.getRegisteredGames().forEach(function(n) {
if (n.branchNameTest && -1 !== e.toLowerCase().indexOf(n.branchNameTest)) return t = n, 
!1;
}), t;
}, e.prototype.isHostingGame = function(e) {
return this.hostingGameId || console.error("Cannot check hosting game before it is set!"), 
this.hostingGameId === e;
}, r.__decorate([ o.observable ], e.prototype, "envBranchName", void 0), r.__decorate([ o.observable ], e.prototype, "hostingGame", void 0), 
r.__decorate([ o.observable ], e.prototype, "hostingGameId", void 0), r.__decorate([ o.observable ], e.prototype, "ready", void 0), 
r.__decorate([ o.observable ], e.prototype, "gatewaySettingsReady", void 0), r.__decorate([ o.observable ], e.prototype, "enableTwinkleInputConcepts", void 0), 
r.__decorate([ o.observable ], e.prototype, "gatewayProtocol", void 0), r.__decorate([ o.observable ], e.prototype, "commerceLocale", void 0), 
r.__decorate([ o.observable ], e.prototype, "region", void 0), r.__decorate([ o.observable ], e.prototype, "locale", void 0), 
r.__decorate([ o.observable ], e.prototype, "protocolVersion", void 0), r.__decorate([ o.observable ], e.prototype, "crossLaunchProtocolVersion", void 0), 
r.__decorate([ o.observable ], e.prototype, "parentSessionId", void 0), r.__decorate([ o.observable ], e.prototype, "gatewayHost", void 0), 
r.__decorate([ o.observable ], e.prototype, "gatewayTenancyRootEnv", void 0), r.__decorate([ o.observable ], e.prototype, "gatewayTenancyBlazeEnv", void 0), 
r.__decorate([ o.observable ], e.prototype, "envOnlineEnvironment", void 0), r.__decorate([ o.observable ], e.prototype, "productCode", void 0), 
r.__decorate([ o.observable ], e.prototype, "serviceOverride", void 0), r.__decorate([ o.observable ], e.prototype, "envChangeListNumber", void 0), 
r.__decorate([ o.observable ], e.prototype, "isStreamingInstalling", void 0), r.__decorate([ o.observable ], e.prototype, "showStartScreen", void 0), 
r.__decorate([ o.observable ], e.prototype, "crossLaunch", void 0), r.__decorate([ o.observable ], e.prototype, "readyMessage", void 0), 
r.__decorate([ o.observable ], e.prototype, "blazeConfigReadyMessage", void 0), 
r.__decorate([ o.computed ], e.prototype, "gatewayUrl", null), r.__decorate([ o.action ], e.prototype, "setHostingGame", null), 
r.__decorate([ o.computed ], e.prototype, "regionOrDefault", null), r.__decorate([ o.computed ], e.prototype, "localeOrDefault", null), 
r.__decorate([ o.action ], e.prototype, "onNativeClientReadyMessage", null), r.__decorate([ o.action ], e.prototype, "onBlazeConfigReadyMessage", null), 
r.__decorate([ o.action ], e.prototype, "initialize", null), r.__decorate([ o.action ], e.prototype, "initializeGatewaySettings", null), 
r.__decorate([ o.action ], e.prototype, "onFirstPartyConnectedMessage", null), e;
}();
t.NativePropertiesStore = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(15), a = n(74), s = n(109), u = n(52), l = function() {
function e(e, t, n) {
this.frostbite = e, this.gameStateStoreLoader = t, this.spartaActivatedStore = n, 
this.allOverride = !1, this.onlyOverride = !1, this.glyphCacheSizeLowered = !1;
var r = {
content: !0,
input: !0,
background: !0,
logo: !0,
mainMenu: !1,
comCenter: !1,
header: !0,
userBar: s.useConsoleMenu,
miniMenu: !s.useConsoleMenu,
breadcrumbs: !0
};
this.fullState = r, this.setVisibilities(r);
}
return Object.defineProperty(e.prototype, "invertedInput", {
get: function() {
return s.useConsoleMenu && this.mainMenu;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewTint", {
get: function() {
return s.useConsoleMenu && (this.mainMenu || this.comCenter);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "viewOffsetX", {
get: function() {
return s.useConsoleMenu && this.mainMenu;
},
enumerable: !0,
configurable: !0
}), e.prototype.setVisibilities = function(e, t, n) {
var o = this;
void 0 === n && (n = i.Animation.defaultTweenOptions.duration), this.fullState.comCenter && e.mainMenu ? e = r.__assign({}, e, {
mainMenu: !1
}) : this.fullState.mainMenu && e.comCenter && (e = r.__assign({}, e, {
comCenter: !1
})), this.updateVisibilities(e);
var s = new Promise(function(e) {
setTimeout(function() {
if (t) {
var n = t();
if (n instanceof Promise) return void n.then(e);
}
e();
}, n);
}), l = this.gameStateStoreLoader.gameStateStore;
!1 === e.all ? s.then(function() {
o.glyphCacheSizeLowered || (o.glyphCacheSizeLowered = !0, u.nativeApi.setGlyphTextureSizeSync(2048)), 
o.spartaActivatedStore.hideTwinkle();
}) : l && l.currentGameViewRoute === a.GameViewRoute.NONE && this.glyphCacheSizeLowered && (this.glyphCacheSizeLowered = !1, 
u.nativeApi.setGlyphTextureSizeSync(4096));
}, e.prototype.updateVisibilities = function(e) {
var t = this;
if (void 0 === e && (e = {}), Object.keys(e).forEach(function(n) {
if ("all" !== n && "only" !== n) {
var r = e[n];
void 0 !== r && (t[n] = r, t.fullState[n] = r);
}
}), void 0 !== e.all && (this.allOverride = !e.all), void 0 !== e.only && (this.onlyOverride = e.only), 
(this.allOverride || this.onlyOverride) && (this.content = !1, this.input = !1, 
this.background = !1, this.logo = !1, this.mainMenu = !1, this.comCenter = !1, this.header = !1, 
this.userBar = !1, this.miniMenu = !1, this.breadcrumbs = !1, this.onlyOverride)) {
var n = this.onlyOverride;
Object.keys(n).forEach(function(e) {
var r = n[e];
t[e] = void 0 !== r ? r : t.fullState[e];
});
}
(e.all || !1 === e.only && !this.allOverride) && Object.keys(this.fullState).forEach(function(e) {
t[e] = t.fullState[e];
}), s.useConsoleMenu && (this.mainMenu ? this.header = !1 : this.allOverride || this.onlyOverride || (this.header = this.fullState.header), 
this.comCenter ? this.userBar = !1 : this.allOverride || this.onlyOverride || (this.userBar = this.fullState.userBar));
}, r.__decorate([ o.observable ], e.prototype, "content", void 0), r.__decorate([ o.observable ], e.prototype, "input", void 0), 
r.__decorate([ o.observable ], e.prototype, "background", void 0), r.__decorate([ o.observable ], e.prototype, "logo", void 0), 
r.__decorate([ o.observable ], e.prototype, "mainMenu", void 0), r.__decorate([ o.observable ], e.prototype, "comCenter", void 0), 
r.__decorate([ o.observable ], e.prototype, "header", void 0), r.__decorate([ o.observable ], e.prototype, "userBar", void 0), 
r.__decorate([ o.observable ], e.prototype, "miniMenu", void 0), r.__decorate([ o.observable ], e.prototype, "breadcrumbs", void 0), 
r.__decorate([ o.action ], e.prototype, "setVisibilities", null), r.__decorate([ o.action ], e.prototype, "updateVisibilities", null), 
e;
}();
t.LayoutVisibilityStore = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(374), a = n(375), s = n(36), u = n(195), l = n(77), c = function() {
function e(e, t, n, r) {
var i = this;
this.trackingClients = e, this.nativePropertiesStore = t, this.sharedRecommendationsStore = n, 
this.feedStore = r, this.buckets = o.observable.map([], {
deep: !1
}), this.previewEnabled = !1, this.previewPayload = {}, this.cardDisplayTime = new WeakMap(), 
this.handleCardInteraction = function(e) {
var t = e.props.recommendation;
if (t) {
var n = i.cardDisplayTime.get(e);
s.trackRecommendationCardClick(t, n), s.trackJoinSource("recommendation", t), i.trackCardClick(t);
}
}, this.addLifecycleHooks = function(e, t) {
l.addLifecycleHook(e, "componentDidMount", function() {
i.cardDisplayTime.set(e, Date.now());
}), l.addLifecycleHook(e, "componentWillUnmount", function() {
var n = e.props.recommendation;
if (n) {
var r = "function" == typeof t ? t() : t, o = i.cardDisplayTime.get(e);
s.trackRecommendationCardImpression(n, r, o), i.cardDisplayTime.delete(e);
}
});
};
}
return Object.defineProperty(e.prototype, "filterRecommendations", {
get: function() {
var e = [];
return this.buckets.forEach(function(t) {
t.forEach(function(t) {
i.isFilterRecommendation(t) && !t.filter.mixes && e.push(t);
});
}), e;
},
enumerable: !0,
configurable: !0
}), e.prototype.update = function(e, t) {
this.buckets.set(e, t);
}, e.prototype.clear = function() {
a.recommendationsFeatureFlags.previewRecommendations.isEnabled() && (this.sharedRecommendationsStore.setPreview(this.previewEnabled, this.previewPayload), 
this.buckets.clear());
}, e.prototype.togglePreview = function() {
a.recommendationsFeatureFlags.previewRecommendations.isEnabled() && (this.previewEnabled = !this.previewEnabled, 
this.sharedRecommendationsStore.setPreview(this.previewEnabled, this.previewPayload), 
this.buckets.clear());
}, e.prototype.setPreviewPayload = function(e) {
void 0 === e && (e = {}), a.recommendationsFeatureFlags.previewRecommendations.isEnabled() && (this.previewPayload = e, 
this.sharedRecommendationsStore.setPreview(this.previewEnabled, this.previewPayload), 
this.buckets.clear());
}, e.prototype.fetch = function(e, t) {
var n = this, r = this.createBucketId(e, t), a = this.nativePropertiesStore.getHostingGameId(), l = this.sharedRecommendationsStore.getFragment(r), c = l.value;
if (!c || l.hasExpired) {
l.isReady = !1;
var p = Date.now();
this.sharedRecommendationsStore.fetchFragment(l, {
games: [ e ],
categories: [ a + "_" + t ],
protocolVersion: this.nativePropertiesStore.protocolVersion
}), o.when(function() {
return l.isReady;
}, function() {
if (n.didValuesChange(c, l.value)) {
for (var t = l.value ? l.value.slice() : [], o = (Date.now() - p) / 1e3, a = 0, d = t; a < d.length; a++) {
var f = d[a];
s.trackRecommendationCard("received", f, o);
}
if (u.platoonsFeatureFlags.platoons.isEnabled()) {
var m = t.find(i.isServerRecommendation);
m && m.platoon ? (t.splice(t.indexOf(m), 1), n.feedStore.updatePlatoonRecommendation(m.game || e, m)) : n.feedStore.updatePlatoonRecommendation(e, void 0);
} else t = t.filter(function(e) {
return !(i.isPlatoonRecommendation(e) || i.isServerRecommendation(e) && e.platoon);
});
n.update(r, t);
}
});
}
}, e.prototype.createBucketId = function(e, t) {
return e + ":" + t;
}, e.prototype.get = function(e, t, n) {
void 0 === n && (n = !1);
var r = this.buckets.get(this.createBucketId(e, t));
if (n && r) {
var o = this.feedStore.platoonRecommendation.get(e), i = this.feedStore.partyRecommendation.get(e), a = this.feedStore.friendRecommendation.get(e), s = [];
return o ? s.push(o) : i ? s.push(i) : a && s.push(a), s.concat(r);
}
return r;
}, e.prototype.didValuesChange = function(e, t) {
if (!t) return !1;
if (!e || e.length !== t.length) return !0;
var n, r, o;
for (n = 0; n < t.length; n++) if (o = e[n], r = t[n], this.didValueChange(o, r)) return !0;
return !1;
}, e.prototype.didValueChange = function(e, t) {
return e.contentHash !== t.contentHash;
}, e.prototype.trackCardClick = function(e) {
var t;
i.isFilterRecommendation(e) && (t = e.filter), this.isValidRecommendation(e) && this.trackingClients.click.request({
info: {
telemetryId: e.telemetryId,
id: e.id,
recommendationType: e.recommendationType,
position: e.positionIndex,
segmentId: e.segmentId
},
filter: t,
game: e.game
});
}, e.prototype.isValidRecommendation = function(e) {
return "number" == typeof e.positionIndex && "string" == typeof e.id && "string" == typeof e.telemetryId;
}, r.__decorate([ o.observable ], e.prototype, "previewEnabled", void 0), r.__decorate([ o.computed ], e.prototype, "filterRecommendations", null), 
r.__decorate([ o.action ], e.prototype, "update", null), r.__decorate([ o.action ], e.prototype, "clear", null), 
r.__decorate([ o.action ], e.prototype, "togglePreview", null), r.__decorate([ o.action ], e.prototype, "setPreviewPayload", null), 
r.__decorate([ o.action ], e.prototype, "fetch", null), e;
}();
t.RecommendationStore = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(500), i = n(194), a = n(150), s = n(56), u = n(173), l = n(43), c = n(53), p = n(119), d = n(36), f = n(193), m = n(18), h = n(96), g = n(102);
t.initializeBindings = function y(e) {
var t = e.twinkle.buildInfo, n = e.stores, y = n.gaStore, S = n.pinStore, v = e.stores, _ = v.onlineState, b = v.presenceStateStore, T = v.locationStore, E = v.nativePropertiesStore, C = v.gameStateStoreLoader, I = v.entitlementStore, A = v.spartaActivatedStore, w = v.matchmakingManager, P = v.partyStoreLoader, R = v.localeState;
m.quitSparta.listen(function() {
S.sendEvents(), y.sendAnalytics();
}), r.reaction(function() {
return T.location;
}, function() {
Date.now();
}), C.onLoad(function(e) {
r.reaction(function() {
return e.isGameViewVisible;
}, function(e) {
e && Date.now();
});
}), i.handleStartScreenClosed.listen(function() {
Date.now();
}), r.reaction(function() {
return T.location;
}, d.trackLocation), m.updateLocation.listen(d.trackLocation), r.when(function() {
return I.hasLoaded;
}, function() {
var e = E.getHostingGameId();
S.currentGame = e, I.hasTrial(e) && (t.isPC ? S.release = "trial_origin_access" : t.isXboxOne && (S.release = "trial_ea_access"));
var n = I.hasPremiumAccess(e);
d.setDimension(f.Dimensions.PremiumUser, n), r.when(function() {
return S.allUserSegments.length > 0;
}, function() {
d.setDimension(f.Dimensions.UserSegments, S.getSegmentString());
});
}), E.onHostingGameId(function(e) {
return S.currentGame = e;
}), r.reaction(function() {
return E.parentSessionId;
}, function(e) {
e && (S.parentSessionId = e);
}, {
fireImmediately: !0
});
var O = !1;
r.reaction(function() {
return A.navigationState;
}, function(t) {
t === s.NavigationStates.FrontEnd && (O || (O = !0, d.trackSessionStart(e)), d.trackGameEnd(), 
d.trackSpartaStart());
}, {
fireImmediately: !0
});
var x = !1;
r.reaction(function() {
return _.sessionUser;
}, function(t) {
t && !x && (x = !0, d.trackLogin(e, !0));
}, {
fireImmediately: !0
}), r.reaction(function() {
return b.eventType;
}, function(t) {
t === u.ConnectionEventType.connectFailed && (d.trackLogin(e, !1), d.trackError(new Error("ConnectionEventType.connectFailed")));
});
var k, L = [];
w.onFinished(function(e) {
var t = e.session;
t.server && (d.trackFunnel("matchmaking/success"), k = t, d.trackJoinSource("matchmaking", t));
}), l.handleJoinReady.listen(function() {
d.trackFunnel("serverjoin/ready"), d.trackJoinSources("Ready");
}), l.joinServer.listen(function(e) {
if (e.friend) {
var t = e.friend.spartaUserId.getPlatformId();
t && (L.push(t), d.trackJoinSource("friend", e.friend));
}
e.platoonGuid && (e.platoonMember ? d.trackPlayWithPlatoon(e.platoonGuid) : d.trackPlatoonServerJoin(e.platoonGuid));
}), P.onLoad(function(e) {
r.reaction(function() {
return e.party ? e.party.size : 0;
}, function(t) {
t > 1 && d.trackJoinSource("party", e);
});
});
var M = 0, D = Date.now();
l.joinedServer.listen(function(e) {
k && d.trackMultiplayerJoin(e, k, L), k = void 0, L = [], d.trackFunnel("serverjoin/success"), 
M || (M = Math.floor(Date.now() - D), y.trackTimer("ServerJoin", "FirstServerJoin", M)), 
d.trackJoinSources("Joined", !0);
}), p.onJoinMultiplayerFailed.listen(function() {
k = void 0, L = [], d.trackFunnel("serverjoin/failed"), d.trackJoinSources("Failed", !0);
}), r.reaction(function() {
return T.location;
}, function(e) {
S.trackPageView(e.url, e.cause);
}), E.onHostingGameId(function(e) {
return d.setDimension(f.Dimensions.Game, e);
}), r.when(function() {
return E.ready && null !== R.gameLocale;
}, function() {
y.setProps({
ul: R.gameLocale
}), d.setDimension(f.Dimensions.Environment, E.envOnlineEnvironment), d.setDimension(f.Dimensions.Language, R.gameLocale);
}), a.onReady.listen(function() {
d.trackPresence("Connected");
}), a.onDisconnected.listen(function() {
d.trackPresence("Disconnected");
}), g.PurchaseFlow.onFinished(function(e) {
var t;
try {
t = JSON.parse(o.decode(e.offer.pinData || ""));
} catch (t) {
console.error("Failed to parse pinData for Offer", e.offer);
}
e.state.currentStateId === g.PurchaseFlowState.SUCCESS && d.trackPurchase(e.purchaseId || "", e.offer.id, e.offer.offerId, t.price, t.currency), 
d.trackEvent("Purchase", e.checkoutResult, e.offer.id);
});
var N = "";
r.reaction(function() {
return S.allUserSegments;
}, function(e) {
var t = S.getSegmentString();
e.length > 0 && t !== N && (d.setDimension(f.Dimensions.UserSegments, t), N = t);
});
var F = !1;
c.route.listen(function(e) {
var t = "string" == typeof e ? {
route: e,
subRoute: void 0
} : e;
t.route && "none" !== t.route && !F && (F = !0, C.map(function(e) {
var n = e.serverGameId, r = e.isMultiplayer, o = s.NavigationStates[A.navigationState || s.NavigationStates.None].toLowerCase(), i = [ n, r ? "mp" : "sp", o, t.subRoute || "" ].join("/");
d.trackLocation(new h.Location(i));
}), setTimeout(function() {
F = !1;
}, 200));
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = [ "passwordProtected", "mapRotation", "modeRotation" ];
t.formatFilter = function i(e) {
var t = e.name, n = Object.assign({}, e, {
name: void 0
}), i = {};
if ("object" == typeof n && Object.keys(n).forEach(function(e) {
var t = n[e];
"string" == typeof t || "number" == typeof t ? i[e] = t : t && "object" == typeof t && Object.keys(t).map(function(e) {
return t[e];
}).length > 0 && (i[e] = r.__assign({}, t));
}), i.advanced) {
var a = i.advanced;
Object.keys(a).forEach(function(e) {
o.indexOf(e) >= 0 && (i[e] = a[e], delete a[e]);
}), 0 === Object.keys(a).length && delete i.advanced;
}
return t && (i.name = "string" == typeof t ? t : t.name), "" === i.name && delete i.name, 
e && e.version && (i.version = e.version), i;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createRecommendationTrackingClients = function o(e) {
var t = {
requestPerformer: e,
maxRetries: 3,
retryTimeout: 3e3
};
return {
click: new r.Client("Recommender.click", t)
};
};
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = e.get("InstallStateStore"), a = function() {
function t(t, n) {
var r = this;
this.frostbite = t, this.nativePropertiesStore = n, this.progress = 1, this.isInstalling = !1, 
this.isMpInstalled = !0, this.levelInstallStates = o.observable.map(), this.onInstallStateReceived = function(e, t) {
(void 0 === t.isValid || t.isValid) && r.handleInstallStateChanged(t);
}, this.updateListener = this.frostbite.registerMessageListener("sparta.streamingInstallStateChanged", this.onInstallStateReceived), 
this.frostbite.registerMessageListener("sparta.getStreamingInstallStateResponse", this.onInstallStateReceived), 
o.when(function() {
return null !== r.nativePropertiesStore.isStreamingInstalling;
}, function() {
r.nativePropertiesStore.isStreamingInstalling && (e.info("Manually trigger install state due to message indicating that it is happening!"), 
r.setState({
isInstalling: !0,
isMpInstalled: !1,
progress: -1
})), r.getState();
});
}
return t.prototype.setState = function(e) {
this.progress = e.progress, this.isInstalling = e.isInstalling, this.isMpInstalled = e.isMpInstalled;
}, t.prototype.getState = function() {
this.frostbite.sendMessage("sparta.getStreamingInstallStateRequest");
}, t.prototype.updateLevelInstallState = function(e) {
this.levelInstallStates.set(e.streamingGroupSubscription.level, {
installGroupName: e.streamingGroupSubscription.installGroupName,
isInstalling: e.isInstalling,
progress: e.progress,
eta: e.eta
});
}, t.prototype.getLevelInstallState = function(t) {
var n = this.levelInstallStates.get(t);
return n || (e.warn("Could not find levelName", t, "in streaming install info."), 
{
installGroupName: "not-yet-tracked",
isInstalling: !0,
progress: 0,
eta: 0
});
}, t.prototype.handleInstallStateChanged = function(e) {
var t = this, n = e.streamingInstall, r = n.isInstalling, o = n.isMpInstalled, a = n.installProgress, s = n.subscriptionStateInfo, u = 100 === a || o;
return u && this.isInstalling && i.info("Streaming installation is complete!"), 
this.setState({
isInstalling: r,
isMpInstalled: u,
progress: a / 100
}), s && s.length > 0 && s.forEach(function(e) {
t.updateLevelInstallState(e);
}), u;
}, r.__decorate([ o.observable ], t.prototype, "progress", void 0), r.__decorate([ o.observable ], t.prototype, "isInstalling", void 0), 
r.__decorate([ o.observable ], t.prototype, "isMpInstalled", void 0), r.__decorate([ o.action ], t.prototype, "setState", null), 
r.__decorate([ o.action ], t.prototype, "updateLevelInstallState", null), t;
}();
t.InstallStateStore = a;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t, n, r, i) {
var a = this;
this.friendStore = e, this.gameStore = t, this.partyStoreLoader = n, this.protocolVersionStore = r, 
this.onlineState = i, this.platoonRecommendation = o.observable.map([], {
deep: !1
}), this.partyRecommendation = o.observable.map([], {
deep: !1
}), this.friendRecommendation = o.observable.map([], {
deep: !1
}), o.reaction(function() {
return a.friendStore.playingFriends;
}, function(e) {
a.updateFriendRecommendations(e);
}), n.onLoad(function(e) {
o.reaction(function() {
return e.party ? e.party.leader : void 0;
}, function(e) {
a.updatePartyRecommendation(e);
});
});
}
return e.prototype.updatePlatoonRecommendation = function(e, t) {
t ? this.platoonRecommendation.set(e, t) : this.platoonRecommendation.delete(e);
}, e.prototype.updateFriendRecommendations = function(t) {
var n = this, r = t.reduce(function(e, t) {
var r = t.presence.server && t.presence.server.game;
if (r && -1 === e.indexOf(r)) {
var o = n.protocolVersionStore.get(r);
a(t, n.onlineState.sessionUser, r, o) && e.push(r);
}
return e;
}, []);
this.gameStore.enabledGameIds.forEach(function(t) {
r.indexOf(t) > -1 ? n.friendRecommendation.has(t) || n.friendRecommendation.set(t, e.generateFriendsPlaying(t)) : n.friendRecommendation.delete(t);
});
}, e.prototype.updatePartyRecommendation = function(t) {
var n = this.partyStoreLoader.get();
if (!n.canSquadJoin) if (t && n.party && !n.isPartyLeader && t.presence.server) {
var r = t.presence.server;
this.partyRecommendation.get(r.game) || this.partyRecommendation.set(r.game, e.generateParty(r.game));
} else this.partyRecommendation.clear();
}, e.prototype.getPlayingFriendIds = function(e) {
var t = this.protocolVersionStore.get(e), n = this.onlineState.sessionUser;
return this.friendStore.playingFriends.filter(function(r) {
return a(r, n, e, t);
}).map(function(e) {
return e.id;
}).filter(s);
}, e.generateFriendsPlaying = function(e) {
return {
id: "friends-playing",
batchId: -1,
contentHash: "friends-playing",
telemetryId: "friends-playing",
segmentId: "game-generated",
recommendationType: "friends",
game: e
};
}, e.generateParty = function(e) {
return {
id: "party-playing",
batchId: -1,
contentHash: "party-playing",
telemetryId: "party-playing",
segmentId: "game-generated",
recommendationType: "party",
game: e
};
}, r.__decorate([ o.action ], e.prototype, "updatePlatoonRecommendation", null), 
r.__decorate([ o.action ], e.prototype, "updateFriendRecommendations", null), r.__decorate([ o.action ], e.prototype, "updatePartyRecommendation", null), 
e;
}();
function a(e, t, n, r) {
return e !== t && e.presence.server && e.presence.server.game === n && e.presence.server.protocolVersion === r && e.isJoinable;
}
function s(e) {
return "string" == typeof e;
}
t.FeedStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(60), a = n(92), s = function() {
function e(e, t) {
var n = this;
this.recommendationStore = e, this.protocolVersionStore = t, this.counters = {}, 
o.reaction(function() {
return n.recommendationStore.filterRecommendations;
}, function(e) {
n.updateCounters(e);
});
}
return e.prototype.setCounters = function(e) {
this.counters = r.__assign({}, this.counters, e);
}, e.prototype.updateCounters = function(e) {
var t = this, n = [];
e.forEach(function(e) {
var r = {
id: e.id,
game: e.game,
signalFilterJson: JSON.stringify(new a.GameFilter(e.filter).serialize()),
protocolVersion: void 0
}, o = e.game ? t.protocolVersionStore.get(e.game) : void 0;
o && (r.protocolVersion = o), n.push(r);
}), n.length && i.fetchServerCounts(n);
}, r.__decorate([ o.observable ], e.prototype, "counters", void 0), r.__decorate([ o.action ], e.prototype, "setCounters", null), 
e;
}();
t.ServerCountStore = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3);
t.createProtocolVersionStore = function o(e, t) {
var n = r.observable.map();
return t.onHostingGameId(function(o) {
r.reaction(function() {
return {
hostingProtocolVersion: t.protocolVersion,
crossLaunchProtocolVersion: t.crossLaunchProtocolVersion
};
}, function(t) {
var r = t.hostingProtocolVersion, i = t.crossLaunchProtocolVersion;
e.getRegisteredGames().forEach(function(e) {
var t = e.gameId, a = o === t ? r : i;
null !== a ? n.set(t, a) : n.has(t) && n.delete(t);
});
}, {
fireImmediately: !0
});
}), n;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t, n, r, o) {
this.settingsStore = e, this.layoutStateStore = t, this.gameStore = n, this.partyStoreLoader = r, 
this.hasPremiumAccess = o;
}
return Object.defineProperty(e.prototype, "gameId", {
get: function() {
return this.layoutStateStore.current.config.gameId;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "gameAcceptsPremiumFriends", {
get: function() {
var e = this.gameId && this.gameStore.getGame(this.gameId);
return !(!e || !e.premiumConfig) && e.premiumConfig.acceptsPremiumFriends;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "gameAcceptsPremiumTrial", {
get: function() {
var e = this.gameId && this.gameStore.getGame(this.gameId);
return !(!e || !e.premiumConfig) && e.premiumConfig.acceptsPremiumTrial;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isInPremiumParty", {
get: function() {
if (!this.gameId || !this.gameAcceptsPremiumFriends) return !1;
if (!this.settingsStore.isLiveConfigEnabled(this.gameId, "PremiumFriends")) return !1;
var e = this.partyStoreLoader.get();
return !!e.party && e.party.premiumMembers.length > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isPremiumTrialEnabled", {
get: function() {
return !(!this.gameId || !this.gameAcceptsPremiumTrial) && this.settingsStore.isLiveConfigEnabled(this.gameId, "PremiumTrial");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isFreemiumPossible", {
get: function() {
return this.isInPremiumParty || this.isPremiumTrialEnabled;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasFreemium", {
get: function() {
return this.isFreemiumPossible && !!this.gameId && !this.hasPremiumAccess(this.gameId);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "canJoinWithFreemium", {
get: function() {
var e = this.partyStoreLoader.get();
return this.isPremiumTrialEnabled || this.isInPremiumParty && e.isPartyLeader;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.computed ], e.prototype, "gameId", null), r.__decorate([ o.computed ], e.prototype, "gameAcceptsPremiumFriends", null), 
r.__decorate([ o.computed ], e.prototype, "gameAcceptsPremiumTrial", null), r.__decorate([ o.computed ], e.prototype, "isInPremiumParty", null), 
r.__decorate([ o.computed ], e.prototype, "isPremiumTrialEnabled", null), r.__decorate([ o.computed ], e.prototype, "isFreemiumPossible", null), 
r.__decorate([ o.computed ], e.prototype, "hasFreemium", null), r.__decorate([ o.computed ], e.prototype, "canJoinWithFreemium", null), 
e;
}();
t.FreemiumStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
this.nativePropertiesStore = e;
}
return Object.defineProperty(e.prototype, "game", {
get: function() {
var e = this.nativePropertiesStore.hostingGame;
if (e) return e;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.computed ], e.prototype, "game", null), e;
}();
t.HostingGameStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(56), a = n(18);
function s(e) {
return "levels/frontend/frontend" === e.toLowerCase();
}
var u = function() {
function e(e, t, n, r) {
var i = this;
this.frostbite = e, this.hostingGameStore = t, this.gameDataStore = n, this.onlineState = r, 
this.isSpartaActive = !1, this.lastReceived = new Date().getTime(), this.isMultiplayer = !0, 
this.isSpectator = !1, this.levelName = "", this.gameMode = "", this.overallGameMode = "", 
this.enterOffline = !1, e.registerMessageListener("sparta.activated", function(e, t) {
i.updateFromSpartaActivated(t);
}), e.registerMessageListener("sparta.resume", function() {
i.activate();
}), e.registerMessageListener("sparta.suspend", function() {
i.deactivate();
}), e.registerMessageListener("sparta.startLoadingLevel", function(e, t) {
i.startLoadingLevel(t);
}), e.registerMessageListener("sparta.finishLoadingLevel", function(e, t) {
i.finishLoadingLevel(t);
}), e.registerMessageListener("sparta.showFrontEnd", function() {
i.showFrontEnd();
}), e.registerMessageListener("sparta.showInGameMenu", function() {
i.showInGameMenu();
}), o.reaction(function() {
return i.enterOffline;
}, function(e) {
if (e) {
var t = i.hostingGameStore.game;
t && a.gotoLocation(t.startRoute);
}
});
}
return Object.defineProperty(e.prototype, "gameData", {
get: function() {
if (this.onlineState.isOnlineBlazeAndGateway) {
var e = this.hostingGameStore.game;
if (e && e.gameId) return this.gameDataStore.get(e.gameId).value;
}
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "richGameMode", {
get: function() {
var e = this;
if (this.gameData) return this.gameData.gameModes.find(function(t) {
return t.filterKey === e.gameMode;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "richMap", {
get: function() {
var e = this;
if (this.gameData) return this.gameData.maps.find(function(t) {
return t.filterKey === e.levelName;
});
},
enumerable: !0,
configurable: !0
}), e.prototype.startLoadingLevel = function(e) {
this.navigationState = i.NavigationStates.LoadingScreen, this.updateLoadingInfo(e), 
this.lastReceived = new Date().getTime();
}, e.prototype.finishLoadingLevel = function(e) {
s(this.levelName) ? this.navigationState = i.NavigationStates.FrontEnd : this.navigationState = i.NavigationStates.InGameMenu, 
this.updateLoadingInfo(e), this.lastReceived = new Date().getTime();
}, e.prototype.updateLoadingInfo = function(e) {
var t = s(e.levelName);
this.levelName = e.levelName || "", this.gameMode = t ? "" : e.gameMode.replace(/\d+$/, ""), 
this.overallGameMode = t ? "" : e.overallGameMode, this.isMultiplayer = e.isMultiplayer, 
this.isSpectator = !t && e.isSpectator;
}, e.prototype.showFrontEnd = function() {
this.navigationState = i.NavigationStates.FrontEnd, this.levelName = "Levels/FrontEnd/FrontEnd", 
this.isMultiplayer = !1, this.lastReceived = new Date().getTime();
}, e.prototype.showInGameMenu = function() {
this.navigationState = i.NavigationStates.InGameMenu, this.lastReceived = new Date().getTime();
}, e.prototype.showEndOfRound = function() {
this.navigationState = i.NavigationStates.EndOfRound, this.lastReceived = new Date().getTime();
}, e.prototype.updateFromSpartaActivated = function(e) {
var t = this.navigationState;
this.navigationState = e.navigationState, this.oldNavigationState = t, this.hideStartScreen = void 0 !== e.autoShowStartScreen && !e.autoShowStartScreen, 
this.levelName = e.levelName || "", this.gameMode = s(e.levelName) ? "" : e.gameMode.replace(/\d+$/, ""), 
this.isMultiplayer = e.isMultiplayer, this.isDeployed = e.isDeployed, this.isSpectator = e.isSpectator, 
this.enterOffline = e.enterOffline, this.lastReceived = new Date().getTime(), this.isSpartaActive = !0;
}, e.prototype.deactivate = function() {
this.isSpartaActive = !1;
}, e.prototype.activate = function() {
this.isSpartaActive = !0;
}, e.prototype.setMultiplayer = function(e) {
this.isMultiplayer = e;
}, e.prototype.setNavigationState = function(e) {
this.navigationState = e;
}, Object.defineProperty(e.prototype, "isSingleplayer", {
get: function() {
return !this.isMultiplayer;
},
enumerable: !0,
configurable: !0
}), e.prototype.hideTwinkle = function() {
this.deactivate(), this.frostbite.sendMessage("sparta.hideSparta");
}, e.prototype.showTwinkle = function(e) {
void 0 === e && (e = !1), this.frostbite.sendMessage("sparta.showTwinkle", {
withoutInput: e
});
}, r.__decorate([ o.observable ], e.prototype, "isSpartaActive", void 0), r.__decorate([ o.observable ], e.prototype, "lastReceived", void 0), 
r.__decorate([ o.observable ], e.prototype, "navigationState", void 0), r.__decorate([ o.observable ], e.prototype, "oldNavigationState", void 0), 
r.__decorate([ o.observable ], e.prototype, "isMultiplayer", void 0), r.__decorate([ o.observable ], e.prototype, "isDeployed", void 0), 
r.__decorate([ o.observable ], e.prototype, "isSpectator", void 0), r.__decorate([ o.observable ], e.prototype, "hideStartScreen", void 0), 
r.__decorate([ o.observable ], e.prototype, "levelName", void 0), r.__decorate([ o.observable ], e.prototype, "gameMode", void 0), 
r.__decorate([ o.observable ], e.prototype, "overallGameMode", void 0), r.__decorate([ o.observable ], e.prototype, "enterOffline", void 0), 
r.__decorate([ o.computed ], e.prototype, "gameData", null), r.__decorate([ o.computed ], e.prototype, "richGameMode", null), 
r.__decorate([ o.computed ], e.prototype, "richMap", null), r.__decorate([ o.action ], e.prototype, "startLoadingLevel", null), 
r.__decorate([ o.action ], e.prototype, "finishLoadingLevel", null), r.__decorate([ o.action ], e.prototype, "updateLoadingInfo", null), 
r.__decorate([ o.action ], e.prototype, "showFrontEnd", null), r.__decorate([ o.action ], e.prototype, "showInGameMenu", null), 
r.__decorate([ o.action ], e.prototype, "showEndOfRound", null), r.__decorate([ o.action ], e.prototype, "updateFromSpartaActivated", null), 
r.__decorate([ o.action ], e.prototype, "deactivate", null), r.__decorate([ o.action ], e.prototype, "activate", null), 
r.__decorate([ o.action ], e.prototype, "setMultiplayer", null), r.__decorate([ o.action ], e.prototype, "setNavigationState", null), 
r.__decorate([ o.computed ], e.prototype, "isSingleplayer", null), e;
}();
t.SpartaActivatedStore = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.name = "GameStateStore", t.onHostingGame(o.action(function(e) {
n.store = e.gameStateStore, n.store && n.store.start();
})), n;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "gameStateStore", {
get: function() {
return this.store;
},
enumerable: !0,
configurable: !0
}), t.prototype.expireStoreWhenLoadingBackToFrontend = function(e) {
this.onLoad(function(t) {
o.reaction(function() {
return t.isLoadingBackToFrontend;
}, function(t) {
t && e.expireFragments();
});
});
}, t.prototype.refreshStoreWhenLoadingBackToFrontend = function(e, t) {
this.onLoad(function(n) {
o.reaction(function() {
return n.isLoadingBackToFrontend;
}, function(n) {
n && e.refreshFragments(t);
});
});
}, t;
}(n(378).StoreLoader);
t.GameStateStoreLoader = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(253), a = n(299), s = function() {
function e(e, t) {
this.getServerAdjustedTimestamp = e, this.getGame = t, this.nativeCurrentMedals = o.observable.map(), 
this.medalsCategories = o.observable.map();
}
return e.prototype.getCurrentMedals = function(e) {
var t = this, n = this.nativeCurrentMedals.get(e);
return n ? n.map(function(n) {
var o = n.code ? t.getMedalByCode(e, n.code) : void 0, i = r.__assign({}, n, o);
return new a.CurrentMedal(i);
}) : [];
}, e.prototype.getSelectedCurrentMedal = function(e) {
var t = this.getCurrentMedals(e);
if (t) return t.find(function(e) {
return e.isSelected;
});
}, e.prototype.getCurrentMedalsCategory = function(e) {
var t = this.getGame(e), n = t && t.careerConfig && t.careerConfig.currentMedals;
if (n) return new i.AwardCategory({
id: "current",
infoComponent: n.infoComponent,
sortOrder: -1,
name: n.getCategoryName(),
items: this.getCurrentMedals(e)
});
}, e.prototype.getAllCategoriesForGame = function(e) {
var t = [], n = this.getCurrentMedalsCategory(e), r = this.medalsCategories.get(e);
return n && t.push(n), t.concat(r ? r.slice() : []);
}, e.prototype.setMedalsCategories = function(e, t) {
this.medalsCategories.set(e, t);
}, e.prototype.setCurrentMedals = function(e, t) {
t.length > 0 ? this.nativeCurrentMedals.set(e, t) : this.nativeCurrentMedals.get(e) || this.nativeCurrentMedals.set(e, []);
}, e.prototype.selectCurrentMedal = function(e, t) {
var n = this.nativeCurrentMedals.get(e);
n && n.length > 0 && this.nativeCurrentMedals.set(e, n.map(function(e) {
return new a.CurrentMedal(Object.assign({}, e, {
isSelected: e.code === t
}));
}));
}, e.prototype.getMedalByCode = function(e, t) {
var n, r = this.medalsCategories.get(e);
if (r && r.length > 0) for (var o = 0, i = r; o < i.length; o++) {
var a = i[o];
if (n = a.items ? a.items.find(function(e) {
return e.code === t;
}) : void 0) break;
}
return n;
}, e.prototype.getTimeToNextReset = function(e) {
var t = this.getGame(e), n = t && t.careerConfig && t.careerConfig.currentMedals;
if (!n) return -1;
var r = 24 * n.daysToReset * 3600, o = this.getServerAdjustedTimestamp() + 210866803200;
return Math.floor(o / r) * r + r - o;
}, r.__decorate([ o.action ], e.prototype, "setMedalsCategories", null), r.__decorate([ o.action ], e.prototype, "setCurrentMedals", null), 
r.__decorate([ o.action ], e.prototype, "selectCurrentMedal", null), e;
}();
t.MedalStore = s;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(926), a = n(45), s = n(30), u = n(9), l = function(t) {
function n(e) {
var n = t.call(this) || this;
return n.client = e, n.onEntitlementsReceived = a.createTypedAction(), n.additionalGames = [ "origin" ], 
o.when(function() {
return n.hasLoaded;
}, function() {
return n.onEntitlementsReceived();
}), n;
}
return r.__extends(n, t), n.prototype.updateGameFragment = function(e, t, n) {
e.useClientResult(n, function(e) {
return e[t] ? e[t].map(function(e) {
return new i.Entitlement(e);
}) : [];
});
}, n.prototype.batchFetch = function(e) {
var t = this, n = this.client.request(e);
e.games.concat(this.additionalGames).forEach(function(e) {
t.updateGameFragment(t.getFragment(e), e, n);
});
}, n.prototype.fetch = function(e, t) {
var n = this.client.request({
games: [ t.game ],
forceRefresh: t.forceRefresh
});
this.updateGameFragment(e, t.game, n);
}, n.prototype.get = function(t) {
this.hasLoadedGame(t) || e.error("Entitlements for " + t + " should be pre-fetched.");
var n = this.getFragment(t);
return n.needsFetch && this.fetchFragment(n, {
game: t
}), n;
}, n.prototype.findEntitlement = function(e, t, n) {
var r = this.get(e);
return r.value ? r.value.find(function(e) {
return n ? e.entitlementTag === t && e.status === n : e.entitlementTag === t;
}) : void 0;
}, n.prototype.refresh = function(e) {
return this.batchFetch({
games: e,
forceRefresh: !0
});
}, Object.defineProperty(n.prototype, "hasLoaded", {
get: function() {
if (this.fragments.size < 1) return !1;
var e = !0;
return this.fragments.forEach(function(t) {
t.isReady || (e = !1);
}), e;
},
enumerable: !0,
configurable: !0
}), n.prototype.hasLoadedGame = function(e) {
return void 0 !== this.getFragment(e).value;
}, n.prototype.hasExpansionAccess = function(e, t) {
var n = i.EntitlementTag.xpack(t);
return !!this.findEntitlement(e, n, i.EntitlementStatus.ACTIVE);
}, n.prototype.hasOnlineAccess = function(e) {
return !!this.findEntitlement(e, i.EntitlementTag.ONLINE_ACCESS, i.EntitlementStatus.ACTIVE);
}, n.prototype.hasDeluxeEdition = function(e) {
return !!this.findEntitlement(e, i.EntitlementTag.DELUXE_EDITION);
}, n.prototype.ownsGame = function(e) {
return !!this.findEntitlement(e, i.EntitlementTag.ONLINE_ACCESS, i.EntitlementStatus.ACTIVE);
}, n.prototype.isBanned = function(e) {
return !!this.findEntitlement(e, i.EntitlementTag.ONLINE_ACCESS, i.EntitlementStatus.BANNED);
}, n.prototype.hasAccess = function() {
return u.SpartaGlobals.bundleIsPC ? !!this.findEntitlement("origin", i.EntitlementTag.ORIGIN_ACCESS, i.EntitlementStatus.ACTIVE) : !!this.findEntitlement("origin", i.EntitlementTag.EA_ACCESS, i.EntitlementStatus.ACTIVE);
}, n.prototype.hasTrial = function(e) {
return !this.findEntitlement(e, i.EntitlementTag.ONLINE_ACCESS) && !!this.findEntitlement(e, i.EntitlementTag.TRIAL, i.EntitlementStatus.ACTIVE);
}, n.prototype.hasPremiumAccess = function(e) {
return !!this.findEntitlement(e, i.EntitlementTag.PREMIUM_ACCESS, i.EntitlementStatus.ACTIVE);
}, r.__decorate([ o.computed ], n.prototype, "hasLoaded", null), n;
}(s.FragmentStore);
t.EntitlementStore = l;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.EntitlementTag = {
ONLINE_ACCESS: "ONLINE_ACCESS",
DELUXE_EDITION: "EDITION_DELUXE",
ORIGIN_ACCESS: "ORIGIN_ACCESS",
EA_ACCESS: "EA_ACCESS",
TRIAL: "TRIAL_ONLINE_ACCESS",
PREMIUM_ACCESS: "PREMIUM_ACCESS",
xpack: function(e) {
return (e || "").toUpperCase() + "_ACCESS";
}
}, t.EntitlementStatus = {
ACTIVE: "ACTIVE",
DELETED: "DELETED",
PENDING: "PENDING",
BANNED: "BANNED",
DISABLED: "DISABLED"
};
var r = function() {
return function e(t) {
this.entitlementTag = t.entitlementTag, this.status = t.status, this.entitlementTag && this.status || console.warn("Incomplete entitlement", this);
};
}();
t.Entitlement = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35), o = n(10), i = [ function() {
return o.onlineState.isOnlineBlazeAndGateway;
} ], a = 3, s = 3e3;
t.createClient = function u(e) {
return new r.Client("Identity.getEntitlementsByGames", {
requestPerformer: e,
requirementDeterminators: i,
maxRetries: a,
retryTimeout: s
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(3), o = n(10), i = n(43), a = n(53), s = n(56), u = n(254), l = n(196), c = n(120), p = function() {
return function e() {};
}();
t.GameJoinNoticeStatusHandler = p;
var d = function() {
function t(e) {
var t = this;
this.showNotice = !1, e.onStart(function(e) {
t.start(e.session.gameId, e.session);
}), e.onFinished(function() {
t.end();
}), i.handleJoinReady.listen(function(e) {
var n = e.squad;
t.isRunning || n || t.start(e.server.game);
}), i.leftServer.listen(function() {
t.end();
}), a.browseWhileWaiting.listen(function(e) {
t.toggleNotice(e);
}), r.reaction(function() {
return o.spartaActivatedStore.navigationState;
}, function(e) {
e === s.NavigationStates.LoadingScreen && t.end();
});
}
return Object.defineProperty(t.prototype, "isRunning", {
get: function() {
return this.matchmaker && this.matchmaker.inProgress;
},
enumerable: !0,
configurable: !0
}), t.prototype.setStatusHandler = function(e) {
this.statusHandler = e;
}, t.prototype.toggleNotice = function(e) {
this.showNotice = e;
}, t.prototype.start = function(e, t) {
this.gameId = e, this.showNotice = this.joinConfig.useGameJoinNotice || !this.gameViewComponent, 
this.matchmaker = t;
}, t.prototype.end = function() {
this.gameId = void 0, this.showNotice = !1, this.matchmaker = void 0;
}, Object.defineProperty(t.prototype, "joinConfig", {
get: function() {
var e = this.gameId && o.gameStore.getGame(this.gameId);
return e ? e.joinConfig : new u.JoinConfig();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "gameViewComponent", {
get: function() {
if (o.nativePropertiesStore.getHostingGameId() === this.gameId) return this.joinConfig.gameViewComponent;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canOpenGameView", {
get: function() {
return this.isRunning && !this.joinConfig.useGameJoinNotice && !!this.gameViewComponent;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canCancelMatchmaking", {
get: function() {
return this.matchmaker && this.matchmaker.isCancelable;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "canLeaveQueue", {
get: function() {
var e = o.gameStateStoreLoader.get(), t = e.queue.gameId && "0" !== e.queue.gameId;
return t || e.queue.status !== l.QueueStatus.Queued || console.warn("You can't quit a queue without a gameId"), 
e && e.queue && e.queue.status === l.QueueStatus.Queued && t && !!e.queue.position && e.queue.position >= 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "matchStatus", {
get: function() {
if (this.isRunning) switch (this.matchmaker && this.matchmaker.stateId) {
case c.MatchmakingState.STARTING:
case c.MatchmakingState.WAITING:
return __("ID_SPARTA_MATCHMAKING_SESSION_STARTED");

case c.MatchmakingState.ERROR:
return __("ID_SPARTA_MATCHMAKING_SESSION_TIMEOUT");

case c.MatchmakingState.SUCCESS:
return __("ID_SPARTA_MATCHMAKING_JOINED");

default:
return "";
}
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "statusText", {
get: function() {
if (this.statusHandler) return this.statusHandler.getStatusMessage;
var e = !!this.gameId && o.entitlementStore.hasPremiumAccess(this.gameId), t = o.gameStateStoreLoader.get(), n = t.queue.getPrettyStatus(e), r = t.server ? t.server.name : "", i = this.matchStatus;
return r && (r = __("ID_SPARTA_MATCHMAKING_JOINING_SERVER")), n || i || r || "";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "subStatusText", {
get: function() {
if (this.statusHandler) return this.statusHandler.getSubStatusMessage;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "timeElapsedStarted", {
get: function() {
if (this.statusHandler) return this.statusHandler.timeElapsedStarted;
},
enumerable: !0,
configurable: !0
}), e.__decorate([ r.observable ], t.prototype, "showNotice", void 0), e.__decorate([ r.observable ], t.prototype, "gameId", void 0), 
e.__decorate([ r.observable ], t.prototype, "statusHandler", void 0), e.__decorate([ r.observable ], t.prototype, "matchmaker", void 0), 
e.__decorate([ r.computed ], t.prototype, "isRunning", null), e.__decorate([ r.action ], t.prototype, "setStatusHandler", null), 
e.__decorate([ r.action ], t.prototype, "toggleNotice", null), e.__decorate([ r.action ], t.prototype, "start", null), 
e.__decorate([ r.action ], t.prototype, "end", null), e.__decorate([ r.computed ], t.prototype, "joinConfig", null), 
e.__decorate([ r.computed ], t.prototype, "gameViewComponent", null), e.__decorate([ r.computed ], t.prototype, "canOpenGameView", null), 
e.__decorate([ r.computed ], t.prototype, "canCancelMatchmaking", null), e.__decorate([ r.computed ], t.prototype, "canLeaveQueue", null), 
e.__decorate([ r.computed ], t.prototype, "matchStatus", null), e.__decorate([ r.computed ], t.prototype, "statusText", null), 
e.__decorate([ r.computed ], t.prototype, "subStatusText", null), e.__decorate([ r.computed ], t.prototype, "timeElapsedStarted", null), 
t;
}();
t.GameJoinNoticeState = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
var n = this;
this.eventName = t.eventName || "", this.sequence = t.sequence || -1, this.gameSessionId = t.gameSessionId || "", 
this.customProps = t.customProps || {}, this.clientTimestamp = t.clientTimestamp || Date.now().toString(), 
this.eventHeaders = t.eventHeaders || {}, this.params = {};
var r = t.params;
r && Object.keys(r).forEach(function(e) {
var t = r[e];
n.params[e] = function o(e) {
return "string" == typeof e;
}(t) ? t.toLowerCase() : t;
});
};
}();
t.BasicPinEvent = r;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(25), i = n(56), a = n(3), s = function() {
function t(e, t, n) {
var r = this;
this.spartaActivatedStore = e, this.gameStateStoreLoader = t, this.layoutVisibilityStore = n, 
this.updatedPopups = a.observable.map([], {
deep: !1
}), o.display.listen(function(e) {
var t = r.spartaActivatedStore.navigationState;
t !== i.NavigationStates.None ? r.openPopupWhenReady(e, t) : (console.error("Why is there not a navigation state ?!?!?"), 
a.when(function() {
return r.spartaActivatedStore.navigationState !== i.NavigationStates.None;
}, function() {
return r.openPopupWhenReady(e, t);
}));
}), o.close.listen(function(e) {
r.close(e);
}), o.closeAll.listen(this.closeAll), o.closeGroup.listen(function(e) {
r.closeGroup(e);
});
}
return Object.defineProperty(t.prototype, "topPopup", {
get: function() {
var e = Array.from(this.updatedPopups.values());
return e.length ? e[e.length - 1] : null;
},
enumerable: !0,
configurable: !0
}), t.prototype.open = function(e) {
var t = this;
this.topPopup && this.topPopup.priority > e.priority ? a.when(function() {
return !!t.topPopup && t.topPopup.priority <= e.priority;
}, function() {
var n = t.spartaActivatedStore.navigationState;
t.openPopupWhenReady(e, n);
}) : this.updatedPopups.has(e.id) || (this.updatedPopups.set(e.id, e), this.layoutVisibilityStore.mainMenu && this.layoutVisibilityStore.setVisibilities({
mainMenu: !1
}));
}, t.prototype.close = function(e) {
var t = this.updatedPopups.get(e);
t && t.onClose && t.onClose(), this.updatedPopups.delete(e);
}, t.prototype.closeAll = function() {
Array.from(this.updatedPopups.values()).forEach(function(e) {
e.onClose && e.onClose();
}), this.updatedPopups.clear();
}, t.prototype.closeGroup = function(e) {
var t = this;
Array.from(this.updatedPopups.values()).forEach(function(n) {
n.group === e && t.updatedPopups.delete(n.id);
});
}, t.prototype.openPopupWhenReady = function(t, n) {
var r = this;
switch (void 0 === n && (n = i.NavigationStates.None), n) {
case i.NavigationStates.FrontEnd:
case i.NavigationStates.LoadingScreen:
case i.NavigationStates.EndOfRound:
this.open(t);
break;

case i.NavigationStates.InGameMenu:
this.gameStateStoreLoader.get().isGameViewVisible ? this.open(t) : a.when(function() {
return r.gameStateStoreLoader.get().isGameViewVisible;
}, function() {
return e(function() {
return r.open(t);
});
});
}
}, r.__decorate([ a.computed ], t.prototype, "topPopup", null), r.__decorate([ a.action ], t.prototype, "open", null), 
r.__decorate([ a.action ], t.prototype, "close", null), r.__decorate([ a.action.bound ], t.prototype, "closeAll", null), 
r.__decorate([ a.action ], t.prototype, "closeGroup", null), t;
}();
t.PopupStore = s;
}).call(this, n(276).setImmediate);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(91), o = function() {
function e(e) {
this.isSpectator = e.role === r.JoinRole.spectator ? "true" : void 0, this.role = e.role || r.JoinRole.soldier;
}
return e.prototype.toString = function() {
var e = this;
return "<data " + Object.keys(this).map(function(t) {
return t + '="' + e[t] + '"';
}).join(" ").replace(/"/g, '\\"') + "></data>";
}, e;
}(), i = function() {
function e(e) {
var t = e.requestStateParams;
t && (this.requestStateParams = t instanceof o ? t : new o(t)), this.gameMode = e.gameMode, 
this.gameId = e.gameId, this.joinFriend = e.joinFriend, this.role = e.role, this.parentSessionId = e.parentSessionId, 
this.asSpectator = e.asSpectator, this.joinWithParty = e.joinWithParty, this.serverPassword = e.serverPassword;
}
return e.prototype.toString = function() {
var e = [];
function t(t, n) {
void 0 !== n && (e.push("-" + t), null != n && "" !== n && e.push('"' + n + '"'));
}
return t("gameId", this.gameId), t("gameMode", this.gameMode), t("joinFriend", this.joinFriend), 
t("role", this.role), t("asSpectator", this.asSpectator), t("parentSessinId", this.parentSessionId), 
t("joinWithParty", this.joinWithParty), t("serverPassword", this.serverPassword), 
this.requestStateParams && t("requestStateParams", this.requestStateParams.toString()), 
e.join(" ");
}, e;
}();
t.LaunchParams = i;
var a = function() {
return function e(t) {
this.gameId = t.gameId, t.params && (this.params = t.params && t.params instanceof i ? t.params : new i(t.params));
};
}();
t.CrossLaunchOptions = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(25);
var i = function(e) {
function t(t) {
return e.call(this, Object.assign({}, t, {
action: function n(e, t) {
o.close(e.id), t && t();
}.bind(null, t.popup, t.action)
})) || this;
}
return r.__extends(t, e), t;
}(n(12).Input);
t.PopupInput = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("FontStyles"), a = function() {
function e() {}
return e.textSize = o.value(function() {
return o.Constants.isPC ? {
XXXXL: 56,
XXXL: 56,
XXL: 42,
XL: 30,
L: 24,
M: 18,
S: 12,
XS: 10,
XXS: 8
} : {
XXXXL: 64,
XXXL: 64,
XXL: 52,
XL: 37,
L: 30,
M: 22,
S: 16,
XS: 14,
XXS: 12
};
}, "25890c1a:7:22"), e = r.__decorate([ i.style ], e);
}();
t.FontStyles = a;
var s = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "Purista-Medium";
}, "25890c1a:37:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-Medium-12682148.ttf");
}, "25890c1a:38:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
textLetterSpacing: 1,
fontSize: a.textSize[e]
}, "25890c1a:39:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.PuristaNormal = s;
var u = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "Purista-SemiBold";
}, "25890c1a:50:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/Purista-SemiBold-7bc23464.ttf");
}, "25890c1a:51:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
textLetterSpacing: 1,
fontSize: a.textSize[e]
}, "25890c1a:52:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.PuristaEmphasis = u;
var l = function() {
function e() {}
var t;
return t = e, e.textSize = o.value(function() {
return o.Constants.isPC ? {
XXXXL: 56,
XXXL: 56,
XXL: 42,
XL: 30,
L: 24,
M: 18,
S: 14,
XS: 14,
XXS: 13
} : {
XXXXL: 64,
XXXL: 64,
XXL: 52,
XL: 37,
L: 30,
M: 22,
S: 17,
XS: 17,
XXS: 17
};
}, "25890c1a:63:22"), e.fontName = o.value(function() {
return "ARHeitiMediumB5";
}, "25890c1a:90:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/ARHeitiMediumB5-0dc1118f.ttf");
}, "25890c1a:91:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: t.textSize[e]
}, "25890c1a:92:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.ARHeiti = l;
var c = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "DFP_sougeitai_W5";
}, "25890c1a:102:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/DFP_sougeitai_W5-d813b437.ttf");
}, "25890c1a:103:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e]
}, "25890c1a:104:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.DFPSougeitai = c;
var p = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "Asiajunggothic";
}, "25890c1a:114:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/Asiajunggothic-c10f28b5.ttf");
}, "25890c1a:115:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e]
}, "25890c1a:116:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.AsiaJungGothic = p;
var d = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "FuturaMaxiStd-Light";
}, "25890c1a:126:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Light-a0a07b55.ttf");
}, "25890c1a:127:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
textLetterSpacing: 2,
fontSize: a.textSize[e]
}, "25890c1a:128:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.FuturaMaxiNormal = d;
var f = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "FuturaMaxiBook";
}, "25890c1a:139:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiStd-Book-ee00ffa1.ttf");
}, "25890c1a:140:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
textLetterSpacing: 2,
fontSize: a.textSize[e]
}, "25890c1a:141:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.FuturaMaxiEmphasis = f;
var m = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "FuturaMaxiBook-JP";
}, "25890c1a:152:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-JP-d50af3c6.ttf");
}, "25890c1a:153:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e]
}, "25890c1a:154:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.FuturaMaxiJP = m;
var h = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "FuturaMaxiBook-TC";
}, "25890c1a:164:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-TC-c3bf1e0d.ttf");
}, "25890c1a:165:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e]
}, "25890c1a:166:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.FuturaMaxiTC = h;
var g = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "FuturaMaxiBook-AR";
}, "25890c1a:176:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/FuturaMaxiBook-AR-b175aa25.ttf");
}, "25890c1a:177:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
textLetterSpacing: .6,
fontSize: a.textSize[e]
}, "25890c1a:178:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.FuturaMaxiArabic = g;
var y = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "BFText-Regular-SC";
}, "25890c1a:189:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/fonts/BFText-Regular-SC-19cf572c.ttf");
}, "25890c1a:190:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e]
}, "25890c1a:191:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.BFTextRegularSC = y;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
var t = this;
this.language = null, this.country = null, e.registerMessageListener("sparta.orbis.getAccountInfoResponse", function(e, n) {
t.populate(n);
});
}
return e.prototype.populate = function(e) {
this.language = e.language, this.country = e.country;
}, r.__decorate([ o.observable ], e.prototype, "language", void 0), r.__decorate([ o.observable ], e.prototype, "country", void 0), 
r.__decorate([ o.action ], e.prototype, "populate", null), e;
}();
t.AccountInfoPSN = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.DEFAULT_LOCALE = "en-us";
var r = function() {
function e(e, t) {
for (var n in this.localesBySection = e, this.gameLocale = t, this.requiresFallback = !1, 
e) this.sectionNeedsFallback(n) && (this.requiresFallback = !0);
}
return e.prototype.sectionNeedsFallback = function(e) {
return !!this.localesBySection[e] && this.localesBySection[e] !== this.gameLocale;
}, e;
}();
t.LocaleSupport = r, t.getLocaleSupport = function o(e, n, i) {
var a = {};
return e.forEach(function(e) {
a[e.startRoute] = e.locales[n].indexOf(i) > -1 ? i : t.DEFAULT_LOCALE;
}), new r(a, i);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t, n) {
void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = 0), this.x = e, 
this.y = t, this.z = n;
}
return e.prototype.add = function(t) {
return new e(this.x + t.x, this.y + t.y, this.z + t.z);
}, e.prototype.subtract = function(t) {
return new e(this.x - t.x, this.y - t.y, this.z - t.z);
}, e.prototype.scale = function(t, n, r) {
return void 0 === t && (t = 1), void 0 === n && (n = 1), void 0 === r && (r = 1), 
new e(this.x * t, this.y * n, this.z * r);
}, e;
}();
t.Vector3 = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(15), s = n(21), u = n(14), l = n(4), c = n(17), p = n(5), d = n(7);
var f = p.StaticStyle.wrapLegacyStyleSheet({
container: {
position: "relative",
layer: !0,
layerClip: !0,
justifyContent: "center",
backgroundColor: "#ffffff00"
},
border: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 5,
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
},
borderValid: {
texture: u.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png")
},
borderInvalid: {
texture: u.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-red-04dcea22.png")
},
innerContainer: {
paddingLeft: 10,
paddingRight: 10,
position: "relative",
flexDirection: "row"
},
text: {
zOffset: 50,
color: "#ffffff"
},
selection: {
backgroundColor: "#ffffff99",
flexDirection: "row"
},
placeholder: {
color: "#ffffff",
opacity: .66
},
emptyText: {
position: "relative",
left: -10
}
}, "da395960:20:15"), m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = d.SpartaContext.getFromComponent(t), t.offsetTween = a.Animation.tween("da395960:100:43", 0), 
t.mounted = !1, t.onClick = function(e) {
t.props.onClick && (e.stopPropagation(), t.props.onClick(e));
}, t.updateContainerWidth = function(e) {
t.containerWidth = e.width;
}, t.onTextFieldBounds = function(e) {
t.updateOffset(e);
}, t.onContainerBounds = function(e) {
t.props.focusItem.hooks.onBounds(e), t.updateContainerWidth(e);
}, t;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
this.mounted = !0;
}, t.prototype.componentWillUnmount = function() {
this.mounted = !1, this.offsetTween.destroy();
}, t.prototype.onCharClicked = function(e, t, n) {
this.props.onCharacterClicked && (n.stopPropagation(), this.props.onCharacterClicked(e + t));
}, t.prototype.onCharMouseEnter = function(e, t, n) {
this.props.onCharacterMouseEnter && this.props.onCharacterMouseEnter(e + t, n);
}, t.prototype.onCharMouseDown = function(e, t, n) {
this.props.onCharacterMouseDown && (n.stopPropagation(), this.props.onCharacterMouseDown(e + t));
}, t.prototype.updateOffset = function(e) {
if (this.mounted) {
var t = e.width;
t > this.containerWidth - 40 ? this.offsetTween.set(this.containerWidth - (t + 40)) : this.offsetTween.set(0);
}
}, t.prototype.renderClickableChar = function(e, t, n, r) {
var a = "clickable-char-" + t + n;
if (" " === e) {
var s = p.merge2(r, c.CommonStyles.opacity(0));
return o.createElement(i.Text, {
key: a,
value: "_",
style: s,
size: this.props.size,
onClick: this.onCharClicked.bind(this, t, n),
onMouseEnter: this.onCharMouseEnter.bind(this, t, n),
onMouseDown: this.onCharMouseDown.bind(this, t, n)
});
}
return o.createElement(i.Text, {
key: a,
value: e,
style: r,
size: this.props.size,
onClick: this.onCharClicked.bind(this, t, n),
onMouseEnter: this.onCharMouseEnter.bind(this, t, n),
onMouseDown: this.onCharMouseDown.bind(this, t, n)
});
}, t.prototype.renderClickableChars = function(e, t, n) {
var r = this;
return e.split("").map(function(e, o) {
return r.renderClickableChar(e, o, t, n);
});
}, t.prototype.renderPlaceholder = function() {
return o.createElement(i.Text, {
value: this.props.placeholder,
size: this.props.size,
style: f.placeholder
});
}, t.prototype.renderEmptyText = function() {
return o.createElement(i.Text, {
value: " ",
style: f.emptyText,
size: this.props.size
});
}, t.prototype.renderTextField = function() {
var e = this.props.selectionStart || 0, t = this.props.selectionEnd || 0, n = this.props.size || "M", r = this.props.value || "", a = this.sparta.theme.getTheme(this).getFonts().normal.fontStyle(this.props.size || s.TextSize.M).getStyleValue("textLetterSpacing") || 0, u = p.merge2(f.text, a > 0 ? p.DynamicStyle.create({
paddingLeft: a
}, "da395960:220:32") : p.emptyStyle), l = r.substring(0, e), c = r.substring(e, t), d = r.substring(t), m = o.createElement("surface", {
key: "text-scroller-offset",
style: {
position: "absolute",
opacity: 0
},
onBounds: this.onTextFieldBounds
}, o.createElement(i.Text, {
value: r.substring(0, t),
size: n
})), h = this.renderClickableChars(l, 0, u), g = o.createElement("surface", {
key: "selection",
style: f.selection
}, this.renderClickableChars(c, e, u)), y = this.renderClickableChars(d, t, u);
return h.concat([ g ]).concat(y).concat([ m ]);
}, t.prototype.render = function() {
var e = function t(e) {
return s.LINE_HEIGHTS[e] / 5;
}(this.props.size || "M"), n = {
height: 3 * e + s.LINE_HEIGHTS[this.props.size || "M"],
paddingTop: e,
paddingBottom: e
};
!this.props.focusItem || !this.props.focusItem.isFocusedOrHovered || this.props.disabled || !this.sparta.twinkle.buildInfo.isConsole && this.props.isActive || (n.backgroundColor = "#ffffff10");
var i = this.sparta.twinkle.buildInfo.isPC || !this.props.isActive, a = p.merge3(f.border, this.props.isInvalid && i ? f.borderInvalid : f.borderValid, c.CommonStyles.opacity(this.props.isActive ? 1 : this.props.isInvalid ? .5 : .2)), u = null, l = this.props.value || "";
u = this.props.isActive && this.sparta.twinkle.buildInfo.isPC ? "" === l ? this.renderEmptyText() : this.renderTextField() : "" === l ? this.renderPlaceholder() : this.renderTextField();
var d = p.merge3(f.container, this.props.style || p.emptyStyle, p.DynamicStyle.create(n, "da395960:291:79"));
return o.createElement("surface", r.__assign({}, this.props.focusItem.hooks, {
style: d,
onClick: this.onClick,
onBounds: this.onContainerBounds
}), o.createElement("surface", {
style: a
}), o.createElement("surface", {
style: p.merge2(f.innerContainer, this.offsetTween.getStyleClass("translateX"))
}, u, this.props.children));
}, t.contextTypes = d.SpartaContext.contextTypes, t.defaultProps = {
value: "",
selectionStart: 0,
selectionEnd: 0,
size: "M",
placeholder: "",
isActive: !1
}, t = r.__decorate([ l.observer ], t);
}(o.Component);
t.TextField = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(134), a = n(4), s = n(15), u = n(6), l = n(34), c = n(14), p = n(21), d = n(5), f = n(9), m = n(17);
var h = d.StaticStyle.wrapLegacyStyleSheet({
container: {
position: "relative",
paddingLeft: 10,
paddingRight: 10
},
border: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 1,
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2,
texture: c.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png")
},
borderTextureRed: {
texture: c.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-red-04dcea22.png")
},
scroller: {
flex: 1,
zOffset: 2
},
text: {
flexDirection: "column"
},
textLine: {
flexDirection: "row",
flexWrap: "wrap"
},
textWord: {
flexDirection: "row"
},
textChar: {
zOffset: 1
},
cursorAndChar: {
flexDirection: "row"
},
textCursor: {
position: "absolute",
top: 0,
left: 0,
bottom: 0,
zOffset: 2
},
selectedChar: {
backgroundColor: "#FFFFFF"
},
spaceChar: {
opacity: 0
}
}, "343aa3a2:23:15"), g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.cursor = o.createRef(), t.cursorOpacity = s.Animation.tween("343aa3a2:110:52", 0), 
t.scroller = o.createRef(), t.onClick = function(e) {
t.props.onClick && t.props.onClick(e);
}, t;
}
return r.__extends(t, e), t.prototype.componentWillReceiveProps = function(e) {
var t = this;
this.props.isActive !== e.isActive && (e.isActive ? (this.cursorVisibilityInterval = setInterval(function() {
return t.toggleCursorVisibility();
}, 500), this.cursorOpacity.set(1)) : (clearInterval(this.cursorVisibilityInterval), 
this.cursorOpacity.set(0)));
}, t.prototype.componentWillUnmount = function() {
clearInterval(this.cursorVisibilityInterval), this.cursorOpacity.destroy();
}, t.prototype.componentDidUpdate = function() {
if (this.scroller.current && this.cursor.current) {
var e = this.cursor.current.getBounds();
if (e) {
var t = new i.Bounds(e.x, e.y, e.width, e.height);
this.scroller.current.scrollToBounds(t);
}
}
}, t.prototype.toggleCursorVisibility = function() {
this.cursorOpacity.set(this.cursorOpacity.previousInstruction.to ? 0 : 1);
}, t.prototype.onCharClicked = function(e) {
this.props.onCharacterClicked && this.props.onCharacterClicked(e);
}, t.prototype.onCharMouseEnter = function(e, t) {
this.props.onCharacterMouseEnter && this.props.onCharacterMouseEnter(e, t);
}, t.prototype.onCharMouseDown = function(e) {
this.props.onCharacterMouseDown && this.props.onCharacterMouseDown(e);
}, t.prototype.renderText = function() {
var e = this, t = 0;
return (this.props.value || " ").split("\n").map(function(n, r, i) {
r > 0 && t++;
var a = !n.length;
a && (n = " ");
var s = n.split(" ").map(function(n, a, s) {
a < s.length - 1 && (n += " ");
var l = n.split("").map(function(n) {
var r = " " === n, i = e.props.useCursor && e.props.isActive && e.props.selectionStart === t && e.props.selectionEnd === t, a = e.props.useCursor && e.props.isActive && e.props.selectionStart <= t && e.props.selectionEnd > t, s = t, l = o.createElement(u.Text, {
key: s,
value: r ? "-" : n,
size: e.props.size,
color: a ? "#000000" : "#FFFFFF",
style: d.merge3(h.textChar, r ? h.spaceChar : d.emptyStyle, d.DynamicStyle.maybeLegacyStyle({
height: p.LINE_HEIGHTS[e.props.size || "M"]
}, "343aa3a2:211:73")),
onClick: e.onCharClicked.bind(e, s),
onMouseEnter: e.onCharMouseEnter.bind(e, s),
onMouseDown: e.onCharMouseDown.bind(e, s)
});
return t++, i ? o.createElement("surface", {
key: s,
ref: e.cursor,
style: h.cursorAndChar
}, o.createElement(u.Text, {
value: "|",
size: e.props.size,
style: d.merge2(h.textCursor, e.cursorOpacity.getStyleClass("opacity"))
}), l) : a ? o.createElement("surface", {
key: s,
style: h.selectedChar
}, l) : l;
});
return e.props.useCursor && e.props.isActive && a === s.length - 1 && r === i.length - 1 && e.props.selectionStart === t && e.props.selectionEnd === t && l.push(o.createElement("surface", {
key: "cursor",
ref: e.cursor,
style: h.cursorAndChar
}, o.createElement(u.Text, {
value: "|",
size: e.props.size,
style: d.merge2(h.textCursor, e.cursorOpacity.getStyleClass("opacity"))
}), o.createElement(u.Text, {
value: "-",
size: e.props.size,
style: d.merge2(h.textChar, h.spaceChar)
}))), o.createElement("surface", {
key: a,
style: h.textWord
}, l);
});
a && t--;
var l = t;
return o.createElement("surface", {
key: r,
style: h.textLine,
onClick: e.onCharClicked.bind(e, l)
}, s);
});
}, t.prototype.render = function() {
var e = {}, t = function n(e) {
return p.LINE_HEIGHTS[e] / 5;
}(this.props.size || "M");
e.paddingTop = 2 * t, e.paddingBottom = t, this.props.disabled || !this.props.focusItem.isFocusedOrHovered || !f.SpartaGlobals.bundleIsConsole && this.props.isActive ? e.backgroundColor = "#ffffff00" : e.backgroundColor = "#ffffff10";
var i = !this.props.isInvalid || !f.SpartaGlobals.bundleIsPC && this.props.isActive ? this.props.isActive ? m.CommonStyles.opacity(1) : d.emptyStyle : d.merge2(h.borderTextureRed, m.CommonStyles.opacity(this.props.isActive ? 1 : .5)), a = this.renderText(), s = d.merge3(h.container, d.DynamicStyle.create(e, "343aa3a2:314:30"), d.DynamicStyle.maybeLegacyStyle(this.props.style, "343aa3a2:315:49"));
return o.createElement("surface", r.__assign({}, this.props.focusItem.hooks, {
style: s,
onClick: this.onClick
}), o.createElement("surface", {
style: d.merge2(h.border, i)
}), o.createElement(l.Scroller, {
ref: this.scroller,
style: h.scroller,
scrollbarPosition: "inside",
softClip: [ t, 0, t, 0 ],
clipMargin: [ t / 2, 0, t / 2, 0 ]
}, o.createElement("surface", {
style: h.text
}, a)));
}, t.defaultProps = {
value: "",
selectionStart: 0,
selectionEnd: 0,
size: "M",
placeholder: "",
isActive: !1
}, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.TextArea = g;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24);
t.ServerVerifyPasswordClient = r.requester.createClient({
throttle: 500,
request: function(e, t) {
var n = {
game: e.game,
gameId: e.gameId,
password: t
};
return o.request("GameServer.verifyPassword", n);
},
parse: function(e) {
return e;
},
update: function(e) {
this.publish(e);
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(364);
t.instances = [], t.requesterClient = function i(e) {
var n = new o.Publisher(), i = Object.assign(e, {
trigger: function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this._applyListener.apply(this, e);
},
listeners: [],
triggerAsPromise: function() {
for (var t = this, n = [], o = 0; o < arguments.length; o++) n[o] = arguments[o];
var i = r.__assign({}, e);
return new Promise(function(e, r) {
var o = t.listen(function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
o();
var r = t.length && t[0];
e(r);
});
t.onRequestError = function(e) {
i.onRequestError && i.onRequestError(e), r(e);
}, t.trigger.apply(t, n);
});
},
listen: function(e) {
return n.listen(e);
},
publish: function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
n.publish.apply(n, e);
},
reset: function() {
this._previousRequests = {}, this._previousRequest = null;
},
startListening: function() {
for (var e = this, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
if (this.listeners = [], !(this.requestOn && this.requestOn.length > 0)) throw new Error("Client.startListening() was called, but no 'requestOn' listener specified!");
this.listeners = this.requestOn.map(function(t) {
return t.listen(function() {
for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
e._applyListener.apply(e, t), e.interval && !e._intervalHandler && (e._intervalHandler = setInterval(e._applyListener.bind(e), e.interval));
});
}), this.updateOn && (this.listeners = this.listeners.concat(this.updateOn.map(function(t) {
return t.listen(e._performParse.bind(e));
})));
},
stopListening: function() {
(this.listeners || []).forEach(function(e) {
return e();
}), this._intervalHandler && (clearInterval(this._intervalHandler), this._intervalHandler = void 0);
},
_applyListener: function() {
for (var e, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
if ("number" == typeof this.throttleAll) {
if (this._previousRequest && Date.now() - this._previousRequest < this.throttleAll) return !1;
this._previousRequest = Date.now();
}
try {
e = "function" == typeof this.listener ? this.listener.apply(this, t) : t;
} catch (e) {
throw console.error("Error in listener", e), e;
}
"[object Arguments]" === Object.prototype.toString.call(e) ? e = Array.prototype.slice.call(e) : "[object Array]" !== Object.prototype.toString.call(e) && (e = [ e ]), 
this._performRequest.apply(this, e);
},
_previousRequests: {},
_performRequest: function() {
for (var e, t = this, n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
if ("function" == typeof this.shouldPerformRequest) try {
if (!this.shouldPerformRequest.apply(this, n)) return;
} catch (e) {
throw console.error("Error running shouldPerformRequest", e), e;
}
if ("number" == typeof this.throttle) {
var o = JSON.stringify(n);
if (this._previousRequests[o] && Date.now() - this._previousRequests[o] < this.throttle) return !1;
this._previousRequests[o] = Date.now();
}
try {
e = this.request.apply(this, n);
} catch (e) {
throw console.error("Could not perform request", n, e), e;
}
if (!(this.updateOn || e && "function" == typeof e.then)) throw new Error("No updateOn specified, expected request to return a Promise");
e && "function" == typeof e.then && e.then(function(e) {
try {
t._performParse.apply(t, [ e ].concat(n));
} catch (t) {
console.error("Parse failed of response", e, t);
}
return null;
}).catch(function(e) {
return "function" == typeof t.onRequestError && t.onRequestError.apply(t, [ e ].concat(n)), 
null;
});
},
_performParse: function(e) {
var t, n = Array.prototype.slice.call(arguments);
try {
t = this.parse.apply(this, n);
} catch (t) {
throw console.error("Could not parse response", e, t), t;
}
n.unshift(t);
var r = !0;
if ("function" == typeof this.shouldPerformUpdate) try {
r = this.shouldPerformUpdate.apply(this, n);
} catch (e) {
throw console.error("Error running shouldPerformUpdate", e), e;
}
if (r) try {
this.update.apply(this, n);
} catch (e) {
throw e;
}
this._performFinish.apply(this, n);
},
_performFinish: function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
"function" == typeof this.finished && this.finished.apply(this, e), "function" == typeof this._finished && this._finished.apply(this, e);
}
});
return t.instances.push(i), i;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(151), i = n(384), a = function(e) {
function t() {
return e.call(this, new i.Career()) || this;
}
return r.__extends(t, e), t.prototype.setEquippedDogtags = function(e, t) {
var n, o = this.getState(), i = r.__assign({}, o.gameStats[e].props);
i.equippedDogtags = t;
var a = Object.assign({}, o.gameStats, ((n = {})[e] = i, n)), s = o.copyWithUpdatedData({
gameStats: a
});
this.setState(s);
}, t.prototype.getGameStats = function(e) {
var t = this.getState();
return t ? t.gameStats[e] : null;
}, t.prototype.canPlayAsCommander = function(e) {
var t = this.getGameStats(e);
return !t || t.rank.number >= 10;
}, t;
}(o.Store);
t.CareerStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.immutable = function r(e) {
return Object.assign({}, e);
}, t.update = function o(e, t) {
return Object.assign({}, e, t);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(944), i = n(945), a = n(385), s = n(61), u = function() {
return function e(t) {
var n = this;
this.props = t, this.rank = new a.Rank(r.__assign({}, t.rank, {
progress: t.rankProgress
})), t.freemiumRank && (this.freemiumRank = new a.Rank(r.__assign({}, t.freemiumRank.rank, {
progress: t.freemiumRank.progress
})), this.freemiumScore = t.freemiumRank.freemiumScore), this.timePlayed = t.timePlayed || 0, 
this.kills = t.kills || 0, this.deaths = t.deaths || 0, this.wins = t.wins || 0, 
this.losses = t.losses || 0, this.kpm = t.kpm, this.kpmFormatted = s.formatRatio(this.kpm), 
this.spm = Math.round(t.spm), this.spmFormatted = s.formatThousands(this.spm), t.equippedDogtags && (this.equippedDogtags = t.equippedDogtags), 
this.skill = t.skill ? Math.floor(t.skill) : 0, this.favoriteMap = "-", this.highlightsMap = {}, 
t.highlights && t.highlights.forEach(function(e) {
var t = e.highlightType;
n.highlightsMap[t] = new i.Highlight(e);
}), this.highlights = t.highlights, this.highlightsByType = t.highlightsByType, 
this.completion = t.completion.map(function(e) {
return new o.Completion(e);
}), this.games = this.wins + this.losses, this.kdRatio = s.formatRatioBetweenNumbers(this.kills, this.deaths), 
this.wlRatio = s.formatRatioBetweenNumbers(this.wins, this.losses), this.winPercentage = (this.wins / Math.max(this.games, 1) * 100).toFixed(0), 
this.losePercentage = s.formatRatioBetweenNumbers(this.losses, this.games);
};
}();
t.Stats = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(523), o = n(385), i = function() {
function e(e) {
e = e || {}, this.name = e.name || "", this.rank = new o.Rank(e.rank), this.imageUrl = e.imageUrl || "", 
this.progress = new r.Progress(e.progress);
}
return e.prototype.add = function(t) {
return new e({
name: this.name + " & " + t.name,
progress: new r.Progress({
current: this.progress.current + t.progress.current,
total: this.progress.total + t.progress.total
})
});
}, e;
}();
t.Completion = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(61), o = function() {
return function e(t) {
t = t || {}, this.itemId = t.itemId, this.imageUrl = t.imageUrl || "", this.name = t.name || "", 
this.value = r.formatThousands(t.value), this.heading = t.highlightName || "", this.valueText = t.highlightText || "";
};
}();
t.Highlight = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t, n) {
var r = this;
this.matchmakingManager = e, this.gameStateStoreLoader = t, this.gameStore = n, 
this.isGameViewVisible = !1, this.matchmakingManager.onStart(function(e) {
r.setMatchMakingId(e.session.gameId);
}), this.gameStateStoreLoader.onLoad(function(e) {
o.reaction(function() {
return e.isGameViewVisible;
}, function(e) {
r.setGameViewVisible(e);
});
});
}
return e.prototype.setMatchMakingId = function(e) {
this.matchmakingGameId = e;
}, e.prototype.setGameViewVisible = function(e) {
this.isGameViewVisible = e;
}, Object.defineProperty(e.prototype, "gameViewComponent", {
get: function() {
var e = this.matchmakingGameId || this.gameStateStoreLoader.map(function(e) {
return e.serverGameId;
});
if (e) {
var t = this.gameStore.getGame(e);
return t && t.joinConfig.gameViewComponent;
}
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isVisible", {
get: function() {
return this.gameViewComponent && this.isGameViewVisible;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.observable ], e.prototype, "matchmakingGameId", void 0), r.__decorate([ o.observable ], e.prototype, "isGameViewVisible", void 0), 
r.__decorate([ o.action ], e.prototype, "setMatchMakingId", null), r.__decorate([ o.action ], e.prototype, "setGameViewVisible", null), 
r.__decorate([ o.computed ], e.prototype, "gameViewComponent", null), r.__decorate([ o.computed ], e.prototype, "isVisible", null), 
e;
}();
t.GameViewComponentStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(948), a = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.name = "JoinFlow", t.nativePropertiesStore.onHostingGame(o.action(function(e) {
var r = e.joinConfig.createJoinFlow;
n.store = r ? r(t) : new i.JoinFlow(t), n.store && n.store.initialize();
})), n;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "flow", {
get: function() {
return this.store;
},
enumerable: !0,
configurable: !0
}), t;
}(n(378).StoreLoader);
t.JoinFlowLoader = a;
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(197), a = n(111), s = n(43), u = n(119), l = n(217), c = n(379), p = n(198), d = n(41), f = n(950), m = n(951), h = n(24), g = n(196), y = function() {
function t(t) {
var n = this;
this.dependencies = t, this.joinsAnotherServer = !1, this.logger = e.get("JoinFlow"), 
this.debug = !1, this.checkPresenceReady = function(e) {
return new Promise(function(t, r) {
n.dependencies.presenceStateStore.isReady ? t(e) : r(new i.JoinMultiplayerError("Player is offline", {
label: "checkPresenceReady",
message: __("ID_SPARTA_GAMESTATE_MUST_LOGIN")
}));
});
}, this.checkGameState = function(e) {
var t = n.dependencies.gameStateStoreLoader.get().server;
return n.dependencies.matchmakingManager.isInProgress ? n.checkMatchmakingState(e) : t ? n.checkServerState(e) : Promise.resolve(e);
}, this.checkMPInstalled = function(e) {
return new Promise(function(t, r) {
n.dependencies.installStateStore.isMpInstalled ? t(e) : r(new i.JoinMultiplayerError("User tries to join a game while MP is installing", {
label: "checkMPInstalled",
message: __("ID_SPARTA_ONLINE_JOIN_UNABLE_TO_JOIN", !0),
title: __("ID_SPARTA_INSTALL_INSTALLING_MP", !0)
}));
});
}, this.checkQoSReady = function(e) {
return new Promise(function(t, r) {
var a = n.dependencies.presenceStateStore.isQoSReady;
a || l.connect(), o.when(function() {
return a;
}, function() {
t(e);
}, {
timeout: 3e4,
onError: function() {
r(new i.JoinMultiplayerError("Could not connect to ping sites"));
}
});
});
}, this.queueManager = new f.QueueManager(m.createClients(h.request), this.dependencies.nativePropertiesStore, this.dependencies.gameStateStoreLoader, this.dependencies.gamePushNotifications);
}
return t.prototype.initialize = function() {
this.queueManager.initialize();
}, t.prototype.setJoinsAnotherServer = function(e) {
this.joinsAnotherServer = e;
}, t.prototype.performSinglePlayerChecks = function() {
return this.checkGameState();
}, t.prototype.performJoinServerChecks = function(e) {
var t = this;
return this.queueManager.setCanceledJoin(!1), this.checkCrosslaunch(e.server.game, e).then(this.checkPresenceReady).then(function() {
return t.checkPartyLeadership(e);
}).then(this.checkGameState).then(function() {
t.queueManager.setCanceledJoin(!1);
}).then(function() {
return t.checkJoinOptions(e);
}).then(this.checkMPInstalled).then(this.checkQoSReady);
}, t.prototype.performJoinFriendChecks = function(e) {
var t = this;
return this.queueManager.setCanceledJoin(!1), this.checkPresenceReady(e).then(this.checkGameState).then(function() {
t.queueManager.setCanceledJoin(!1);
}).then(function() {
return t.checkMPInstalled(e);
}).then(this.checkQoSReady).then(function() {
return e;
});
}, t.prototype.performMatchmakingChecks = function(e) {
var t = this;
return this.checkCrosslaunch(e).then(function() {
return t.checkPresenceReady();
}).then(function() {
return t.checkMPInstalled();
}).then(function() {
return t.checkQoSReady();
}).then(function() {
return t.checkPartyLeadership();
});
}, t.prototype.performMatchmakingResultChecks = function(e) {
var t = this;
return this.queueManager.setCanceledJoin(!1), this.checkPresenceReady(e).then(this.checkGameState).then(function() {
t.queueManager.setCanceledJoin(!1);
}).then(function() {
return t.checkJoinOptions(e);
});
}, t.prototype.checkCrosslaunch = function(e, t) {
var n = this;
return new Promise(function(r, o) {
if (e !== n.dependencies.nativePropertiesStore.getHostingGameId()) {
if (n.dependencies.crosslaunchManager.setting === c.CrosslaunchManager.SettingOptions.None) return void o(new i.JoinMultiplayerError("No rime access", void 0, a.showNotInHostingGame));
if (!n.dependencies.crosslaunchManager.ownsGame(e)) return void o(new i.JoinMultiplayerError("Unowned game", void 0, function() {
return a.showMissingGame(e);
}));
}
r(t);
});
}, t.prototype.checkMatchmakingState = function(e) {
var t = this;
return new Promise(function(n, r) {
var o = t.dependencies.matchmakingManager.sessionInProgress;
o ? o.isCancelable ? a.showStopMatchmaking(o.flowId).then(function() {
o.cancel({
joinNewSession: !0
}).then(function() {
n(e);
});
}).catch(function() {
r(new i.JoinMultiplayerError("Matchmaking on-going and user did not cancel"));
}) : r(new i.JoinMultiplayerError("Matchmaking on-going and not cancelable")) : n(e);
});
}, t.prototype.checkServerState = function(e) {
var t = this;
return new Promise(function(n, r) {
var o = t.dependencies.gameStateStoreLoader.get();
o.isOnPlayableLevel && e && e.server ? o.isServerJoiningAllowed(e.server.gameId) ? n(e) : r(new i.JoinMultiplayerError("Already on a server", {
label: "checkGameState",
message: __("ID_SPARTA_GAMESTATE_ALREADY_IN_SERVER", !0)
})) : o.queue && o.queue.isPending ? a.showLeaveQueue().then(function() {
var t = u.onLeaveServerQueue.listen(function(o) {
t(), o ? n(e) : r(new i.JoinMultiplayerError("promptLeaveQueue - Failed to leave server queue"));
});
s.stopGame({});
}).catch(function() {
r(new i.JoinMultiplayerError("promptLeaveQueue - Queue has not been left, server join was cancelled"));
}) : r(new i.JoinMultiplayerError("Rejecting game start, in-game/join not cancellable"));
});
}, t.prototype.checkPartyLeadership = function(e) {
var t = this.dependencies.partyStoreLoader.get(), n = t.party && t.party.leader, r = n && n.presence && n.presence.server, o = t.canStartMPSession || r && e && e.server.gameId === r.gameId;
return new Promise(function(t, n) {
o ? t(e) : a.showPartyLeaderRestriction().then(function() {
return t(e);
}).catch(function() {
return n(new i.JoinMultiplayerError("In a party, but not the leader"));
});
});
}, t.prototype.checkJoinOptions = function(e) {
var t = this;
return new Promise(function(n, r) {
var o = e.server.game, s = p.getMissingExpansions(o, e.server.expansions), u = s[0], l = s[1], c = 0 === u.length && 0 === l.length;
if (!c && e.server.mapExpansion && (c = p.validateExpansionAccess(o, e.server.mapExpansion, e.role)), 
!c && t.dependencies.freemiumStore.hasFreemium && (c = !0), e.server.forceJoin) n(e); else if (!c || l.length) r(new i.JoinMultiplayerError("Missing expansions", void 0, function() {
p.showMissingExpansionsPopup(o, u, l);
})); else if (e.server.isRoleSupported(e.role)) if ("commander" !== e.role || t.dependencies.canPlayAsCommander(o)) if (e.server.passwordProtected) a.showPasswordPrompt(e.server).then(function(t) {
n(e.withPassword(t));
}).catch(function(e) {
r(new i.JoinMultiplayerError(e, {
label: "checkJoinOptions",
message: e
}));
}); else if (e.squad) {
var d = e.server.expansionMask;
(d & e.squad.expansionMask) !== d ? a.showPartyContentMissing().then(function() {
n(e);
}).catch(function() {
r(new i.JoinMultiplayerError("Missing content for party"));
}) : n(e);
} else n(e); else r(new i.JoinMultiplayerError("Insufficient rank for commander role", {
label: "checkJoinOptions",
message: __("ID_SPARTA_ONLINE_JOIN_RANK_10", !0),
title: __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE", !0)
})); else r(new i.JoinMultiplayerError("Not supported role", void 0, function() {
a.showNotSupportedRole(t.dependencies.popupManager, e.role);
}));
});
}, t.prototype.checkMatchmakingOptions = function(e, t, n) {
var r = this;
return new Promise(function(o, a) {
var s, u, l, c, d = [], f = [], m = !1;
if (n) if (t.categories.gameModes.values.size > 0) {
var h = t.categories.gameModes.values.keys().next();
l = n.gameModes.find(function(e) {
return e.filterKey === h.value;
});
} else if (t.categories.experiences.values.size > 0) {
var g = t.categories.experiences.values.keys().next();
c = n.experiences.find(function(e) {
return e.filterKey === g.value;
});
}
l && l.expansions ? (s = p.getMissingExpansions(e, l.expansions), f = s[0], d = s[1]) : c && c.expansions && (u = p.getMissingExpansions(e, c.expansions), 
f = u[0], d = u[1], m = c.premium);
var y = 0 === f.length && 0 === d.length;
!y && r.dependencies.freemiumStore.hasFreemium && (y = !0), y ? "commander" !== t.role || r.dependencies.canPlayAsCommander(e) ? o() : a(new i.JoinMultiplayerError("Matchmaking - Game id is undefined!! Something wrong!", {
label: "checkMatchmakingOptions",
message: __("ID_SPARTA_ONLINE_JOIN_RANK_10", !0),
title: __("ID_SPARTA_MATCHMAKING_CHECK_FAILED", !0)
})) : !m || r.dependencies.hasPremiumAccess(e) || d.length ? a(new i.JoinMultiplayerError("Missing expansions", void 0, function() {
p.showMissingExpansionsPopup(e, f, d);
})) : a(new i.JoinMultiplayerError("Suggest buying premium if the playlist was premium", void 0, function() {
p.showNoPremiumAccessPopup(e, f);
}));
});
}, t.prototype.handleChecksError = function(e) {
e.customHandler ? e.customHandler() : e.alertOptions && this.dependencies.popupManager.displayError(new d.UserError(e.alertOptions.action || "joinServer", e.alertOptions.label), e.alertOptions.message, e.alertOptions.title), 
this.logger.warn("Pre-checks failed. Error message: " + e.debugMessage + (e.alertOptions ? " | Check: " + e.alertOptions.label : "")), 
this.debug && this.logger.warn(e);
}, t.prototype.continueCampaign = function(e) {
return Promise.resolve();
}, t.prototype.leaveQueue = function() {
this.leaveGame();
}, t.prototype.leaveGame = function(e) {
void 0 === e && (e = !1);
var t = this.dependencies.gameStateStoreLoader.get().server;
this.handleLeaveGameServer(e, t), this.handleLeaveMatchmaking(), this.queueManager.leaveQueue(t), 
s.leftServer();
}, t.prototype.handleLeaveGameServer = function(e, t) {
this.dependencies.gameStateStoreLoader.get().isOnPlayableLevel && e && this.dependencies.twinkle.frostbite.sendMessage("sparta.leaveGame");
}, t.prototype.handleLeaveMatchmaking = function() {
this.dependencies.matchmakingManager.withSessionInProgress(function(e) {
e.isCancelable && e.cancel().then(function() {});
});
}, t.prototype.handleJoinResultMessage = function(e) {
this.updateQueueFromJoinResultMessage(e), this.dependencies.matchmakingManager.withSessionInProgress(function(t) {
t.blazeGameId !== e.blazeGameId && t.isCancelable && t.cancel().then(function() {});
});
}, t.prototype.updateQueueFromJoinResultMessage = function(e) {
var t = this.dependencies.gameStateStoreLoader.get(), n = t.server;
t.queue.status === g.QueueStatus.Queued && n && (!!e.blazeGameId && n.gameId !== e.blazeGameId && (this.logger.warn("We are switching from queued to a new server, expect some warnings/errors"), 
this.queueManager.leaveQueue(n), this.setJoinsAnotherServer(!0)));
e.eventType === i.JoinEventType.queued || e.resultType === i.JoinResultType.queued ? t.setGameServerQueue({
gameId: e.gameId,
blazeGameId: e.blazeGameId,
status: g.QueueStatus.Queued
}) : t.resetGameServerQueue();
}, t.prototype.handleFriendInviteResult = function(e) {}, r.__decorate([ o.observable ], t.prototype, "joinsAnotherServer", void 0), 
r.__decorate([ o.action ], t.prototype, "setJoinsAnotherServer", null), t;
}();
t.JoinFlow = y;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(43), o = function() {
function e() {
this.gameModMasks = {};
}
return e.prototype.getMask = function(e) {
return this.gameModMasks[e];
}, e.prototype.setMask = function(e, t) {
e ? this.gameModMasks[e] = parseInt(t, 10) : console.warn("Received invalid gameId", e);
}, e;
}();
t.installedExpansions = new o(), r.setInstalledExpansions.listen(function(e, n) {
t.installedExpansions.setMask(e, n);
});
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(111), a = n(196), s = n(197), u = n(119), l = n(301), c = e.get("QueueManager"), p = function() {
function e(e, t, n, r) {
var o = this;
this.clients = e, this.nativePropertiesStore = t, this.gameStateStoreLoader = n, 
this.gamePushNotifications = r, this.canceledJoin = !1, this.queueStatusListener = null, 
this.queueUpdatesReader = null, this.reserveServerSlots = function(e) {
var t = null;
return o.nativePropertiesStore.getHostingGameId() === e.server.game && (t = o.nativePropertiesStore.protocolVersion), 
e.squad ? e.squad.size > e.server.slots[e.role].max - e.server.slots[e.role].current ? i.showTooFewSlotsOnServer().then(function() {
return e;
}) : Promise.resolve(e) : (o.gameStateStoreLoader.get().setGameServerQueue({
gameId: e.server.game,
blazeGameId: e.server.gameId,
status: a.QueueStatus.None
}), new Promise(function(n, r) {
var i = e.party;
i ? o.reserveSlotsAsGroup(e, i, t).onSuccess(function(t) {
o.handleRequestSuccess(e, t, n, r);
}).onError(function(t) {
o.handleRequestError(e, t, r);
}) : o.reserveSlot(e, t).onSuccess(function(t) {
o.handleRequestSuccess(e, t, n, r);
}).onError(function(t) {
o.handleRequestError(e, t, r);
});
}));
};
}
return e.prototype.initialize = function() {
var e = this;
this.queueStatusUpdates = this.gamePushNotifications.buffer(l.PushNotificationTopic.QUEUESTATUS_UPDATED), 
this.gameStateStoreLoader.onLoad(function(t) {
o.reaction(function() {
return {
blazeGameId: t.queue.blazeGameId,
status: t.queue.status
};
}, function(n) {
n.blazeGameId && n.status === a.QueueStatus.Queued && null === e.queueUpdatesReader ? (c.log("Start reading queue updates"), 
e.queueUpdatesReader = e.queueStatusUpdates.read(function(e) {
t.handleQueueStatusUpdate(e.payload);
})) : e.queueUpdatesReader && !n.blazeGameId && (c.log("Stop reading queue updates"), 
e.queueUpdatesReader(), e.queueUpdatesReader = null);
}), o.reaction(function() {
return t.isOnPlayableLevel;
}, function(t) {
t && e.queueStatusUpdates.clear();
});
});
}, e.prototype.setCanceledJoin = function(e) {
this.canceledJoin = e;
}, e.prototype.reserveSlotsAsGroup = function(e, t, n) {
return this.clients.reserveSlotsAsGroup.request({
game: e.server.game,
gameId: e.server.gameId,
gameProtocolVersion: null !== n ? n : void 0,
groupId: t.blazeGroupId,
currentGame: this.nativePropertiesStore.getHostingGameId(),
settings: {
role: e.role,
additionalPlayers: t.members.map(function(t) {
return {
personaId: t.user.personaId ? parseInt(t.user.personaId, 10) : 0,
role: e.role
};
})
}
});
}, e.prototype.reserveSlot = function(e, t) {
return this.clients.reserveSlot.request({
game: e.server.game,
gameId: e.server.gameId,
gameProtocolVersion: null !== t ? t : void 0,
currentGame: this.nativePropertiesStore.getHostingGameId(),
settings: {
role: e.role
}
});
}, e.prototype.handleRequestSuccess = function(e, t, n, r) {
if (this.canceledJoin) return this.gameStateStoreLoader.get().resetGameServerQueue(), 
void r(new s.JoinMultiplayerError("Ignore Queue response if join canceled"));
switch (t.status) {
case "Joined":
case "PartiallyJoined":
this.handleJoinedResponse(e, n);
break;

case "Queued":
this.handleQueuedResponse(e, n, r);
break;

case "QueueFull":
this.handleQueueFullResponse(r);
break;

case "Failed":
this.handleFailedResponse(t, r);
break;

default:
n(e);
}
}, e.prototype.handleRequestError = function(e, t, n) {
this.gameStateStoreLoader.get().setGameServerQueue({
gameId: e.server.game,
blazeGameId: e.server.gameId,
status: a.QueueStatus.Failed
}), n(new s.JoinMultiplayerError(t ? t.message : "Unknown Gateway Error"));
}, e.prototype.handleJoinedResponse = function(e, t) {
this.gameStateStoreLoader.get().setGameServerQueue({
gameId: e.server.game,
blazeGameId: e.server.gameId,
status: a.QueueStatus.Joined
}), t(e);
}, e.prototype.clearQueueStatusListener = function() {
this.queueStatusListener && (this.queueStatusListener(), this.queueStatusListener = null);
}, e.prototype.handleQueuedResponse = function(e, t, n) {
var r = this, i = this.gameStateStoreLoader.get();
i.setGameServerQueue({
gameId: e.server.game,
blazeGameId: e.server.gameId,
status: a.QueueStatus.Queued
}), this.queueStatusListener = o.reaction(function() {
return i.queue.status;
}, function() {
var o = i.queue;
if (!o.blazeGameId || o.blazeGameId === e.server.gameId) {
if (r.canceledJoin) return i.resetGameServerQueue(), r.clearQueueStatusListener(), 
void n(new s.JoinMultiplayerError("Ignore Queue response if join canceled"));
var u = o.status;
u === a.QueueStatus.Joined ? (r.clearQueueStatusListener(), t(e)) : u === a.QueueStatus.Failed && (r.clearQueueStatusListener(), 
n(new s.JoinMultiplayerError("Queueing failed to continue", {
label: "QueueingFailed",
message: __("ID_SPARTA_ONLINE_JOIN_NO_SLOTS_AVAILABLE")
})));
}
});
}, e.prototype.handleQueueFullResponse = function(e) {
e(new s.JoinMultiplayerError("Queue is full", {
label: "QueueFull",
message: s.getHumanReadableMessage(s.JoinResultType.gameFull) || ""
}));
}, e.prototype.handleFailedResponse = function(e, t) {
this.gameStateStoreLoader.get().resetGameServerQueue();
var n = s.JoinResultType.unknownError;
!e.errorResponse || "GAMEMANAGER_ERR_PARTICIPANT_SLOTS_FULL" !== e.errorResponse && "GAMEMANAGER_ERR_SPECTATOR_SLOTS_FULL" !== e.errorResponse || (n = s.JoinResultType.gameFull), 
t(new s.JoinMultiplayerError("Failed to start queueing", {
label: "QueueFailed",
message: s.getHumanReadableMessage(n) || ""
}));
}, e.prototype.leaveQueue = function(e) {
this.clearQueue(), e && this.clients.leaveGame.request({
game: e.game,
gameId: e.gameId
}).onSuccess(function() {
u.onLeaveServerQueue(!0);
}).onError(function(e) {
u.onLeaveServerQueue(!1), c.error("Game.leaveGame - Failed - ", e && e.message);
});
}, e.prototype.clearQueue = function() {
this.gameStateStoreLoader.get().resetGameServerQueue(), this.clearQueueStatusListener(), 
this.setCanceledJoin(!0);
}, r.__decorate([ o.observable ], e.prototype, "canceledJoin", void 0), r.__decorate([ o.action ], e.prototype, "setCanceledJoin", null), 
e;
}();
t.QueueManager = p;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClients = function o(e) {
return {
reserveSlot: new r.Client("Game.reserveSlot", {
requestPerformer: e
}),
reserveSlotsAsGroup: new r.Client("Game.reserveSlotsAsGroup", {
requestPerformer: e
}),
leaveGame: new r.Client("Game.leaveGame", {
requestPerformer: e
})
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(953), o = n(24);
t.gameDataClient = r.createGameDataClients(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createGameDataClients = function o(e) {
return {
getGameData: new r.Client("Gamedata.getGameData", {
requestPerformer: e
}),
getKits: new r.Client("Gamedata.getKits", {
requestPerformer: e
})
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(297), a = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.client = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.client.getGameData.request(t);
e.useClientResult(n, i.GameData.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t.prototype.getFactionById = function(e, t) {
var n = this.get(e).value;
if (n && n.factions) return n.factions.find(function(e) {
return e.id === t;
});
}, t;
}(o.FragmentStore);
t.GameDataStore = a;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(118), i = n(3), a = n(293), s = n(11), u = n(18), l = n(129), c = n(42), p = e.get("InputRouter");
t.HOLD_DELAY = 400, t.REPEAT_DELAY = 300;
var d = !0, f = 0, m = function() {
function e(e, t, n) {
this.focus = e, this.inputStore = t, this.key = n;
}
return e.prototype.trigger = function(e) {
void 0 === e && (e = {});
var t = new a.KeyEvent(this.key, !!e.isRelease, !!e.isRepeat, !!e.isHold);
if (this.inputStore.trigger(t), !e.isRelease && !e.isHold && d) switch (this.key) {
case s.Keys.Left:
this.focus.navigate(c.Direction.Left, function() {
return o.playEffect(l.AudioEffect.Highlight);
});
break;

case s.Keys.Up:
this.focus.navigate(c.Direction.Up, function() {
return o.playEffect(l.AudioEffect.Highlight);
});
break;

case s.Keys.Right:
this.focus.navigate(c.Direction.Right, function() {
return o.playEffect(l.AudioEffect.Highlight);
});
break;

case s.Keys.Down:
this.focus.navigate(c.Direction.Down, function() {
return o.playEffect(l.AudioEffect.Highlight);
});
}
}, e.prototype.hold = function() {
this.trigger({
isHold: !0
}), this.holdTriggered = !0;
}, e.prototype.repeat = function() {
var e = this;
this.trigger({
isRepeat: !0
}), this.repeatId = setInterval(function() {
return e.trigger({
isRepeat: !0
});
}, 30), this.repeatTriggered = !0;
}, e.prototype.update = function(e) {
var n = this;
if (this.isDown === e) return !1;
if (clearTimeout(this.holdDelayId), clearTimeout(this.repeatDelayId), clearInterval(this.repeatId), 
this.isDown = e, e) {
this.trigger(), this.holdDelayId = setTimeout(function() {
return n.hold();
}, t.HOLD_DELAY);
var r = this.key === s.Keys.ScrollDown || this.key === s.Keys.ScrollUp ? 50 : t.REPEAT_DELAY;
this.key.enableRepeat && (this.repeatDelayId = setTimeout(function() {
return n.repeat();
}, r));
} else this.trigger({
isRelease: !0,
isRepeat: this.repeatTriggered,
isHold: this.holdTriggered
});
return this.holdTriggered = !1, this.repeatTriggered = !1, !0;
}, e;
}(), h = function() {
function e(e, t, n, r, o, a) {
var l = this;
this.inputHandler = t, this.buildInfo = n, this.frostbite = r, this.focus = o, this.inputStore = a, 
this.states = {}, this.handleInputActionDown = function(e, t, n) {
l.setUsingGamePad(n);
var r = s.Keys.byFBAction(f)[t];
r && l.updateKey(r, !0);
}, this.handleInputActionUp = function(e, t, n) {
var r = s.Keys.byFBAction(f)[t];
r && l.updateKey(r, !1);
}, this.usingGamePad = n.isConsole, i.reaction(function() {
return e.enableTwinkleInputConcepts;
}, function(e) {
return f = e ? 1 : 0;
}, {
fireImmediately: !0
}), u.setNavigationEnabled.listen(function(e) {
d = e;
}), r.registerMessageListener("sparta.activated", function() {
l.forceReleaseKeys();
}), r.registerMessageListener("sparta.resume", function() {
l.forceReleaseKeys();
}), t.onMouseEventBeforePropagation.listen(function() {
l.setUsingGamePad(!1);
}), t.onInputActionDown.listen(this.handleInputActionDown), t.onInputActionUp.listen(this.handleInputActionUp), 
t.onInputHotkeyDown.listen(this.handleInputActionDown), t.onInputHotkeyUp.listen(this.handleInputActionUp);
}
return Object.defineProperty(e.prototype, "currentInputType", {
get: function() {
return this.buildInfo.isXboxOne ? "XBOXONE" : this.buildInfo.isPS4 ? "PS4" : this.buildInfo.isPC ? void 0 === this.inputHandler.mouseAndKeyboardMode ? this.usingGamePad ? "XBOXONE" : "PC" : this.inputHandler.mouseAndKeyboardMode ? "PC" : "Gen4a" === this.inputHandler.padLayout ? "XBOXONE" : "Gen4b" === this.inputHandler.padLayout ? "PS4" : "XBOXONE" : "PC";
},
enumerable: !0,
configurable: !0
}), e.prototype.getState = function(e) {
return this.states[e.id] || (this.states[e.id] = new m(this.focus, this.inputStore, e));
}, e.prototype.setUsingGamePad = function(e) {
this.buildInfo.isPC && (this.usingGamePad = e);
}, e.prototype.forceReleaseKeys = function() {
var e = this;
Object.keys(this.states).forEach(function(t) {
var n = e.states[t];
n.update(!1) && p.info("Force release key '" + n.key.name + "' as it was down when Sparta deactivated");
});
}, e.prototype.updateKey = function(e, t) {
this.getState(e).update(t);
}, e.prototype.toggleHotkey = function(e, t) {
this.frostbite.sendMessage("sparta.enableHotkey", {
key: e.fbAction[1],
enable: t
});
}, r.__decorate([ i.observable ], e.prototype, "usingGamePad", void 0), r.__decorate([ i.computed ], e.prototype, "currentInputType", null), 
r.__decorate([ i.action ], e.prototype, "setUsingGamePad", null), e;
}();
t.InputRouter = h;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(386), o = n(957), i = n(960), a = n(60);
t.createGameServerDetailsStore = function(e, t) {
var n = new o.GameServerDetailsStore(i.gameServerDetailsClients, e);
function s(e, t) {
e.addResultHandler(function(e) {
e.onSuccess(function() {
r.trackRSPEvent(t, "Success");
}).onError(function() {
r.trackRSPEvent(t, "Failure");
});
});
}
a.toggleBookmark.listen(function(e) {
n.optimisticallyUpdateBookmarkedServer(e);
}), a.serverBookmarkingFailed.listen(function(e) {
n.updateBookmarkedServer(e);
});
var u = function() {
return t.isReady;
};
return i.gameServerDetailsClients.move.addRequirement(u), s(i.gameServerDetailsClients.move, "MovePlayer"), 
i.gameServerDetailsClients.kick.addRequirement(u), s(i.gameServerDetailsClients.kick, "KickPlayer"), 
i.gameServerDetailsClients.addBan.addRequirement(u), s(i.gameServerDetailsClients.addBan, "AddServerBan"), 
i.gameServerDetailsClients.removeBan.addRequirement(u), s(i.gameServerDetailsClients.removeBan, "RemoveServerBan"), 
i.gameServerDetailsClients.addMod.addRequirement(u), s(i.gameServerDetailsClients.addMod, "AddServerMod"), 
i.gameServerDetailsClients.removeMod.addRequirement(u), s(i.gameServerDetailsClients.removeMod, "RemoveServerMod"), 
i.gameServerDetailsClients.addVip.addRequirement(u), s(i.gameServerDetailsClients.addVip, "AddServerVip"), 
i.gameServerDetailsClients.removeVip.addRequirement(u), s(i.gameServerDetailsClients.removeVip, "RemoveServerVip"), 
i.gameServerDetailsClients.details.addRequirement(u), s(i.gameServerDetailsClients.details, "GetFullServerDetails"), 
i.gameServerDetailsClients.personas.addRequirement(u), s(i.gameServerDetailsClients.personas, "GetPersonasByIds"), 
n;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(958), a = n(3), s = n(251), u = n(79);
var l = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.clients = t, r.gameDataStore = n, r.fragmentTtl = 6e4, r.fragmentLimit = 3, 
r;
}
return r.__extends(t, e), t.prototype.optimisticallyUpdateBookmarkedServer = function(e) {
var t = new u.GameServer(Object.assign({}, e, {
isFavorite: !e.isFavorite
}));
this.updateBookmarkedServer(t);
}, t.prototype.updateBookmarkedServer = function(e) {
var t = this.getFragmentId(e.game, e.gameId), n = this.fragments.get(t);
if (n && n.value) {
var r = n.value;
if (r.server.isFavorite !== e.isFavorite) {
var o = e.isFavorite ? 1 : -1;
r.server = Object.assign({}, r.server, {
isFavorite: e.isFavorite,
serverBookmarkCount: function i(e, t) {
return String(Math.max(0, parseInt(e, 10) + t));
}(r.server.serverBookmarkCount, o)
});
}
}
}, t.prototype.getFragmentId = function(e, t) {
return e + "-" + t;
}, t.prototype.fetch = function(e, t) {
var n = this, r = this.clients.details.request(t), o = this.gameDataStore.get(t.game);
this.awaitFragment(o, e, function(o) {
e.useClientResult(r, i.GameServerDetails.fromBackend.bind(n, t.game, o));
});
}, t.prototype.get = function(e, t) {
var n = this.getFragmentId(e, t);
return this.getOrFetchFragment(n, {
game: e,
gameId: t
});
}, t.prototype.awaitFragment = function(e, t, n) {
a.when(function() {
return !e.isLoading;
}, function() {
e.value ? n(e.value) : t.setFailstate(new s.GatewayRequestError("Dependent fragment failed", s.GatewayErrorCodes.NONE));
});
}, t.prototype.rspControls = function(e) {
var t = this, n = e.rsp;
if (!n) throw new Error("Can't provide rspControls for non-RSP server: " + e.server.gameId);
var r = e.game, o = e.server.gameId, i = this.get(r, o), a = n.server ? n.server.serverId : void 0;
if (void 0 === a) throw new Error("Can't provide rspControls without serverId: " + e.server.gameId);
return {
personas: function(e) {
return t.clients.personas.request({
game: r,
personaIds: e
});
},
move: function(e, n) {
return t.clients.move.request({
game: r,
personaId: e,
gameId: o,
teamId: String(n),
forceKill: !0,
moveParty: !1
});
},
kick: function(e, n) {
return t.clients.kick.request({
game: r,
gameId: o,
personaId: e,
reason: n
});
},
addBan: function(e, n) {
var o = t.clients.addBan.request({
game: r,
personaId: n,
personaName: e,
serverId: a
});
return t.expireOnSuccess(i, o), o;
},
addVip: function(e, n) {
var o = t.clients.addVip.request({
game: r,
personaName: e,
personaId: n,
serverId: a
});
return t.expireOnSuccess(i, o), o;
},
addMod: function(e, n) {
var o = t.clients.addMod.request({
game: r,
personaName: e,
personaId: n,
serverId: a
});
return t.expireOnSuccess(i, o), o;
},
removeBan: function(e) {
var n = t.clients.removeBan.request({
game: r,
personaId: e,
serverId: a
});
return t.expireOnSuccess(i, n), n;
},
removeVip: function(e) {
var n = t.clients.removeVip.request({
game: r,
personaId: e,
serverId: a
});
return t.expireOnSuccess(i, n), n;
},
removeMod: function(e) {
var n = t.clients.removeMod.request({
game: r,
personaId: e,
serverId: a
});
return t.expireOnSuccess(i, n), n;
},
chooseLevel: function(e, n) {
var o = t.clients.chooseLevel.request({
game: r,
persistedGameId: e,
levelIndex: String(n)
});
return t.expireOnSuccess(i, o), o;
}
};
}, t.prototype.expireOnSuccess = function(e, t) {
var n = this;
t.onSuccess(function() {
e.expire(), e.value && n.get(e.value.game, e.value.server.gameId);
});
}, r.__decorate([ a.action ], t.prototype, "updateBookmarkedServer", null), t;
}(o.FragmentStore);
t.GameServerDetailsStore = l;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(3), o = n(3), i = function() {
function t(e, t, n) {
this.game = e, this.server = t.serverInfo, t.rspInfo && (this.rsp = r.toJS(t.rspInfo)), 
this.platoon = t.platoonInfo, this.gameData = n;
}
return t.fromBackend = function(e, n, r) {
return new t(e, r, n);
}, Object.defineProperty(t.prototype, "settings", {
get: function() {
var e = this;
return Object.keys(this.gameData.settings).reduce(function(t, n) {
var r = e.gameData.settings[n].map(function(t) {
var r = "";
e.server.settings[n] && e.server.settings[n][t.name] && (r = e.server.settings[n][t.name]);
var o = t.defaultOption ? t.options[t.defaultOption] : t.defaultValue, i = function a(e) {
if ("on" === e) return 1;
if ("off" === e) return 0;
return parseFloat("" + e);
}(r || o);
return {
id: t.name,
label: t.prettyName,
value: function s(e, t) {
if ("bool" === t) return 1 === e ? __("ID_SPARTA_FILTER_SETTING_ON").toLocaleUpperCase() : __("ID_SPARTA_FILTER_SETTING_OFF").toLocaleUpperCase();
if ("scale" === t) return Math.floor(100 * e) + "%";
throw new Error("Unknown setting type: " + t);
}(i, t.type),
changed: i !== o
};
});
return t[n] = r, t;
}, {});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "changedSettings", {
get: function() {
var e = this;
return Object.keys(this.settings).reduce(function(t, n) {
return t = t.concat(e.settings[n]);
}, []).filter(function(e) {
return e.changed;
});
},
enumerable: !0,
configurable: !0
}), e.__decorate([ o.observable ], t.prototype, "server", void 0), e.__decorate([ r.computed ], t.prototype, "settings", null), 
e.__decorate([ r.computed ], t.prototype, "changedSettings", null), t;
}();
t.GameServerDetails = i;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
void 0 === e && (e = {}), this.current = e.current || 0, this.max = e.max || 0;
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.GameServerSlot = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(961), o = n(24);
t.gameServerDetailsClients = r.createClients(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClients = function o(e) {
var t = {
requestPerformer: e
};
return {
details: new r.Client("GameServer.getFullServerDetails", t),
personas: new r.Client("RSP.getPersonasByIds", t),
move: new r.Client("RSP.movePlayer", t),
kick: new r.Client("RSP.kickPlayer", t),
addBan: new r.Client("RSP.addServerBan", t),
removeBan: new r.Client("RSP.removeServerBan", t),
addVip: new r.Client("RSP.addServerVip", t),
removeVip: new r.Client("RSP.removeServerVip", t),
addMod: new r.Client("RSP.addServerAdmin", t),
removeMod: new r.Client("RSP.removeServerAdmin", t),
chooseLevel: new r.Client("RSP.chooseLevel", t)
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t, n, r, i) {
var s = this;
this.layoutVisibilityStore = e, this.gameStateStoreLoader = t, this.layoutStateStore = n, 
this.socialState = r, this.popup = new a(function() {
return s.contentVisible && s.layoutStateStore.hasVisiblePopups;
}), this.content = new a(function() {
return s.contentVisible && !s.gameViewVisible && !s.layoutVisibilityStore.mainMenu && !s.layoutStateStore.hasVisiblePopups;
}), this.isPurchaseActive = !1, o.reaction(function() {
return s.showPrice;
}, function(e) {
return i.sendMessage(e ? "sparta.orbis.showStoreIcon" : "sparta.orbis.hideStoreIcon");
});
}
return Object.defineProperty(e.prototype, "showPrice", {
get: function() {
return !this.isPurchaseActive && (this.content.visibility || this.popup.visibility);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "contentVisible", {
get: function() {
return this.layoutVisibilityStore.content && !this.socialState.isOpened && !this.layoutVisibilityStore.mainMenu && !this.layoutVisibilityStore.comCenter;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "gameViewVisible", {
get: function() {
var e = this.gameStateStoreLoader.gameStateStore;
return !(!e || !e.isGameViewVisible);
},
enumerable: !0,
configurable: !0
}), e.prototype.setPurchaseActive = function(e) {
this.isPurchaseActive = e;
}, r.__decorate([ o.observable ], e.prototype, "isPurchaseActive", void 0), r.__decorate([ o.computed ], e.prototype, "showPrice", null), 
r.__decorate([ o.computed ], e.prototype, "contentVisible", null), r.__decorate([ o.computed ], e.prototype, "gameViewVisible", null), 
r.__decorate([ o.action ], e.prototype, "setPurchaseActive", null), e;
}();
t.PS4StoreIconStore = i;
var a = function() {
function e(e) {
this.visibilityCheck = e, this.numPricesMounted = 0;
}
return Object.defineProperty(e.prototype, "visibility", {
get: function() {
return this.numPricesMounted > 0 && this.visibilityCheck();
},
enumerable: !0,
configurable: !0
}), e.prototype.add = function() {
++this.numPricesMounted;
}, e.prototype.remove = function() {
--this.numPricesMounted;
}, r.__decorate([ o.observable ], e.prototype, "numPricesMounted", void 0), r.__decorate([ o.computed ], e.prototype, "visibility", null), 
r.__decorate([ o.action ], e.prototype, "add", null), r.__decorate([ o.action ], e.prototype, "remove", null), 
e;
}();
t.AreaState = a;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(388), i = n(30), a = function() {
function e(e) {
this.purchases = e;
}
return Object.defineProperty(e.prototype, "pending", {
get: function() {
return this.purchases.filter(function(e) {
return "Pending" === e.state.name;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "orphaned", {
get: function() {
return this.purchases.filter(function(e) {
return "Orphaned" === e.state.name;
});
},
enumerable: !0,
configurable: !0
}), e.fromBackend = function(t) {
return new e(t.purchases);
}, e;
}();
t.ResumablePurchases = a;
var s = function(t) {
function n(n, r) {
var o = t.call(this) || this;
return o.listClient = n, o.completeClient = r, o.logger = e.get("ResumablePurchasesStore"), 
o;
}
return r.__extends(n, t), n.prototype.fetch = function(e, t) {
var n = this.listClient.request(t);
e.useClientResult(n, a.fromBackend);
}, n.prototype.get = function(e, t) {
return this.getOrFetchFragment(e, {
games: [ e ],
categories: t
});
}, n.prototype.completePending = function(e) {
var t = this;
return new Promise(function(n, r) {
if (!e.length) return n();
var i = e[0].game;
o.sequentialEach(e, function(e, n) {
if (e && e.purchaseId) {
var o = t.completeClient.request({
game: e.game,
productId: "",
purchaseId: e.purchaseId,
result: "completed",
pinData: void 0
});
o.onFinished(n), o.onError(r);
} else t.logger.error("Attempted to complete purchase w missing purchaseId:", e), 
n();
}, function() {
t.resetFragment(i), n();
});
});
}, n;
}(i.FragmentStore);
t.ResumablePurchasesStore = s;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(60), a = function() {
function e() {
var e = this;
this.value = {}, this.populatedForGames = [], i.setFilterOptions.listen(function(t) {
e.populateServerFilterOptions(t);
});
}
return e.prototype.populateServerFilterOptions = function(e) {
this.value = Object.assign({}, this.value, e), this.populatedForGames = Object.keys(this.value);
}, r.__decorate([ o.observable ], e.prototype, "value", void 0), r.__decorate([ o.observable ], e.prototype, "populatedForGames", void 0), 
r.__decorate([ o.action ], e.prototype, "populateServerFilterOptions", null), e;
}();
t.PopulatedServerFilterOptionsStore = a;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function(t) {
function n(e, n) {
var r = t.call(this) || this;
return r.gameDataServerFilterOptionsStore = e, r.populatedServerFilterOptionsStore = n, 
r;
}
return r.__extends(n, t), n.prototype.fetch = function(t, n) {
var r = this, i = n.gameId, a = this.gameDataServerFilterOptionsStore.get(i);
o.when(function() {
return !!a.value && r.populatedServerFilterOptionsStore.populatedForGames.indexOf(i) > -1;
}, function() {
a.value ? t.setValue(Object.assign({}, a.value, r.populatedServerFilterOptionsStore.value[i])) : (e.error("Can't fetch game data server filter options fragment"), 
t.setFailstate(a.failstate));
});
}, n.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
gameId: e
});
}, n;
}(n(30).FragmentStore);
t.ServerFilterOptionsStore = i;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(92), i = n(136), a = n(3), s = n(967), u = n(176), l = [];
function c(t, n) {
var r = t[n];
return r ? function i(t) {
var n = {};
return t.forEach(function(t) {
switch (t.type) {
case u.FilterOptionType.Bool:
n[t.filterKey] = t.defaultValue ? o.FilterValue.ON : o.FilterValue.OFF;
break;

case u.FilterOptionType.Scale:
t.defaultOption && (n[t.defaultOption] = o.FilterValue.ON);
break;

case u.FilterOptionType.Int:
break;

default:
e.error("Unexpected filter option type");
}
}), n;
}(r.options) : {};
}
function p(e, t, n) {
var r = e.getGame(t), a = r && r.serverConfig.serverListDefaultFilter;
return a || (a = {}), (a = Object.assign({}, a)).kits = c(n, o.FilterCategoryName.Kits), 
a.vehicles = c(n, o.FilterCategoryName.Vehicles), a.weaponClasses = c(n, o.FilterCategoryName.WeaponClasses), 
a.misc = c(n, o.FilterCategoryName.Misc), a.scales = c(n, o.FilterCategoryName.Scales), 
void 0 !== a.regions && function s(e, t) {
var n, r = i.PingSiteStore.getBestPingSite(t), a = r ? r.region : null;
a && (e.regions = ((n = {})[a] = o.FilterValue.ON, n));
}(a, t), new o.GameFilter(a, n);
}
var d = n(88).debounce(function f(e, t) {
l.indexOf(e) > -1 && s.saveFilterState(e, t);
}, 3e3);
function m(t, n, r) {
var o = t.get(n);
if (o.value) return r(o.value);
a.when(function() {
return !!o.value;
}, function() {
o.value ? r(o.value) : e.error("Didnt receive valid server filter options in the fragment");
});
}
var h = function() {
function t(e, t, n) {
var r = this;
this.serverFilterOptionsStore = e, this.gameStore = t, this.filters = a.observable.map(), 
a.when(function() {
return n.isOnlineBlazeAndGateway;
}, function() {
return r.loadFilterState();
});
}
return t.prototype.toggleFilter = function(e, t, n) {
var r = this;
m(this.serverFilterOptionsStore, e, function(o) {
r.updateFilter(e, o, function(e) {
return e.toggleFilterCondition(t, n);
});
});
}, t.prototype.setNameValue = function(e, t) {
var n = this;
m(this.serverFilterOptionsStore, e, function(r) {
n.updateFilter(e, r, function(e) {
return e.setName(t || "");
});
});
}, t.prototype.resetFilters = function(e) {
var t = this;
m(this.serverFilterOptionsStore, e, function(n) {
t.resetGameFilter(e, n, function() {
return p(t.gameStore, e, n);
});
});
}, t.prototype.prepareFilters = function(e) {
var t = this;
m(this.serverFilterOptionsStore, e, function(n) {
null == t.filters.get(e) && t.resetGameFilter(e, n, function() {
return p(t.gameStore, e, n);
});
});
}, t.prototype.applyFilterProperties = function(e, t) {
var n = this;
m(this.serverFilterOptionsStore, e, function(r) {
n.resetGameFilter(e, r, function() {
return new o.GameFilter(t, r);
});
});
}, t.prototype.showAllServers = function(e) {
var t = this;
m(this.serverFilterOptionsStore, e, function(n) {
t.resetGameFilter(e, n, function() {
return new o.GameFilter({
version: 6
}, n);
});
});
}, t.prototype.toggleAll = function(e, t) {
var n = this;
m(this.serverFilterOptionsStore, e, function(r) {
n.updateFilter(e, r, function(e) {
return e.toggleAll(t);
});
});
}, t.prototype.invertFilterCategory = function(e, t) {
var n = this;
m(this.serverFilterOptionsStore, e, function(r) {
n.updateFilter(e, r, function(e) {
return e.invertCategory(t);
});
});
}, t.prototype._receiveState = function(e, t) {
var n = this;
e.forEach(function(e) {
m(n.serverFilterOptionsStore, e, function(r) {
var i = t[e] || {};
n.filters.set(e, new o.GameFilter(i, r));
});
});
}, t.prototype.resetGameFilter = function(e, t, n) {
var r = n(p(this.gameStore, e, t));
this.filters.set(e, r), d(e, r);
}, t.prototype.createFilter = function(e, t) {
var n = new o.GameFilter({}, t);
return this.filters.set(e, n), n;
}, t.prototype.updateFilter = function(e, t, n) {
var r = this.filters.get(e);
r || (r = new o.GameFilter({}, t), this.filters.set(e, r)), r.resetFilterId(), n(r), 
d(e, r);
}, t.prototype.loadFilterState = function() {
var t = this, n = this.gameStore.enabledGameIds;
l = n, s.getFilterState(n).then(function(e) {
t._receiveState(n, e);
}).catch(function(t) {
return e.warn("Could not load filter state from gateway", t);
});
}, t.prototype.getFilter = function(e) {
return this.filters.get(e);
}, r.__decorate([ a.action ], t.prototype, "_receiveState", null), r.__decorate([ a.action ], t.prototype, "resetGameFilter", null), 
r.__decorate([ a.action ], t.prototype, "createFilter", null), r.__decorate([ a.action ], t.prototype, "updateFilter", null), 
t;
}();
t.ServerFilterStore = h;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(24);
t.saveFilterState = function o(e, t) {
r.request("GameServer.setFilterState", {
game: e,
filterJson: JSON.stringify(t.serialize())
}).catch(function(e) {
return console.warn("Could not save filter state", e);
});
}, t.getFilterState = function i(e) {
return r.request("GameServer.getFilterStates", {
games: e
}).then(function(e) {
if (!e) return {};
var t = {};
return Object.keys(e).forEach(function(n) {
var r = function o(e, t) {
if ("string" != typeof e) return null;
try {
return JSON.parse(e);
} catch (n) {
return console.warn("Unable to parse filter state for game", t, e, n), null;
}
}(e[n], n);
r && (t[n] = r);
}), t;
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(528), i = function() {
function e(e, t) {
var n = this;
this.clients = t, this.sendTimer = -1, this.lastFlush = new Date().getTime(), this.enabled = !0, 
this.queue = [], this.props = {
v: 1
}, this.transientProps = {}, this.logger = {
log: o.logToVoid,
info: o.logToVoid,
warn: o.logToVoid,
error: o.logToVoid,
debug: o.logToVoid
}, e.then(function(e) {
n.uuid = e, n.setProps({
cid: e
});
}), this.setEnabled(this.enabled);
}
return e.prototype.useLogger = function(e) {
this.logger = e;
}, e.prototype.setEnabled = function(e) {
var t = this;
this.enabled = e, e ? this.sendTimer = setInterval(function() {
t.sendAnalytics();
}, 1e4) : clearInterval(this.sendTimer);
}, e.prototype.setProps = function(e) {
this.props = r.__assign({}, this.props, e);
}, e.prototype.setTransientProps = function(e) {
this.transientProps = r.__assign({}, this.transientProps, e);
}, e.prototype.getTransientProps = function() {
var e = r.__assign({}, this.transientProps);
return this.transientProps = {}, e;
}, e.prototype.setUserId = function(e) {
this.userId = e;
}, e.prototype.setMachineId = function(e) {
this.machineId = e;
}, e.prototype.setUserIdGetter = function(e) {
this.userIdGetter = e;
}, e.prototype.sendAnalytics = function() {
var e = this;
if (this.enabled && this.queue.length > 0 && this.uuid) {
var t = this.queue.splice(0, 15).map(function(e) {
return e();
}), n = t.map(function(e) {
return Object.keys(e).map(function(t) {
return [ e[t], t ];
}).filter(function(e) {
return void 0 !== e[0];
}).map(function(e) {
return e[1] + "=" + encodeURIComponent(e[0]);
}).join("&");
});
this.lastFlush = new Date().getTime(), this.clients.send.request(n).onSuccess(function(n) {
e.logger.debug("sendAnalytics -> success", t, n);
}).onError(function(n) {
e.logger.error("sendAnalytics -> error", t, n);
});
}
}, e.prototype.track = function(e) {
var t = this;
if (this.enabled) {
var n = new Date().getTime() - this.lastFlush, o = this.machineId ? {
cid: this.machineId
} : {};
this.queue.push(function() {
return r.__assign({
uid: t.userIdGetter && t.userIdGetter() || t.userId
}, t.props, e, t.getTransientProps(), {
qt: n
}, o);
});
}
}, e.prototype.setCustomDimension = function(e, t) {
var n;
this.setTransientProps(((n = {})["cd" + e] = t, n));
}, e.prototype.setCustomMetric = function(e, t) {
var n;
this.setTransientProps(((n = {})["cm" + e] = t, n));
}, e.prototype.trackScreen = function(e) {
this.track({
t: "screenview",
cd: "/" + e
});
}, e.prototype.trackEvent = function(e, t, n, r) {
this.track({
t: "event",
ec: e,
ea: t,
el: n,
ev: r
});
}, e.prototype.trackTimer = function(e, t, n, r) {
this.track({
t: "timing",
utc: e,
utv: t,
utt: n,
utl: r
});
}, e.prototype.trackException = function(e, t) {
void 0 === t && (t = !1), this.track({
t: "exception",
exd: e,
exf: t
});
}, e.prototype.trackPurchase = function(e, t, n, r, o, i) {
void 0 === i && (i = 1), this.track({
t: "transaction",
ti: e,
tr: r,
ts: 0,
tt: 0,
cu: o
}), this.track({
t: "item",
ti: e,
in: t,
ic: n,
ip: r,
iq: i,
cu: o
});
}, e.prototype.setCampaignName = function(e) {
this.setTransientProps({
cn: e
});
}, e.prototype.setCampaignSource = function(e) {
this.setTransientProps({
cs: e
});
}, e.prototype.setCampaignMedium = function(e) {
this.setTransientProps({
cm: e
});
}, e.prototype.setScreenResolution = function(e, t) {
this.setTransientProps({
sr: e + "x" + t
});
}, e.prototype.setViewportSize = function(e, t) {
this.setTransientProps({
vp: e + "x" + t
});
}, e.prototype.setExperimentID = function(e) {
this.setTransientProps({
xid: e
});
}, e.prototype.setExperimentVariant = function(e) {
this.setTransientProps({
xvar: e
});
}, e;
}();
t.GAStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClient = function o(e) {
return new r.Client("Recommender.fetch", {
requestPerformer: e
});
}, t.createPreviewClient = function i(e) {
return new r.Client("Recommender.fetchPreview", {
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function(e) {
function t(t, n, r) {
var o = e.call(this, {
fragmentTtl: 6e4
}) || this;
return o.client = t, o.setUserSegments = n, o.previewClient = r, o.previewEnabled = !1, 
o.previewPayload = {}, o.batchId = 0, o;
}
return r.__extends(t, e), t.prototype.increaseBatch = function() {
return this.batchId++;
}, t.prototype.fetch = function(e, t) {
var n, o = this, i = this.increaseBatch();
n = this.previewEnabled && this.previewClient ? this.previewClient.request(r.__assign({}, t, {
platform: this.previewPayload.platform || void 0,
personaId: this.previewPayload.personaId || void 0,
segment: this.previewPayload.segment || void 0,
licenses: this.previewPayload.overrideLicenses ? this.previewPayload.licenses || [] : void 0
})) : this.client.request(t), e.useClientResult(n, function(e) {
var t = [];
return Object.keys(e).forEach(function(n) {
var a = e[n].recommendations, s = e[n].segments;
a.forEach(function(e) {
t.push(r.__assign({
game: n,
batchId: i
}, e));
}), o.setUserSegments && o.setUserSegments(n, s);
}), t;
});
}, t.prototype.get = function(e, t) {
return this.getOrFetchFragment(e, t);
}, t.prototype.setPreview = function(e, t) {
void 0 === t && (t = {}), this.previewEnabled = e, this.previewPayload = t, this.clearFragments();
}, t;
}(n(30).FragmentStore);
t.RecommendationsStore = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(303), a = function() {
function e() {
var e = this;
this.countdown = 0, this.startTime = 0, this.stop = o.action(function() {
e.countdown = 0;
});
}
return Object.defineProperty(e.prototype, "timeLeft", {
get: function() {
if (this.countdown > 0) {
var e = i.nowStore.seconds - this.startTime;
return this.countdown - e;
}
return 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "active", {
get: function() {
return this.timeLeft > 0;
},
enumerable: !0,
configurable: !0
}), e.prototype.start = function(e, t) {
this.startTime = i.nowStore.seconds, this.countdown = Math.ceil(60 * e + t);
}, r.__decorate([ o.observable ], e.prototype, "countdown", void 0), r.__decorate([ o.observable ], e.prototype, "startTime", void 0), 
r.__decorate([ o.computed ], e.prototype, "timeLeft", null), r.__decorate([ o.computed ], e.prototype, "active", null), 
r.__decorate([ o.action ], e.prototype, "start", null), e;
}();
t.CountdownState = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(35), i = n(30), a = n(304), s = n(390), u = n(3);
var l = function(e) {
function t(t, n, r, i) {
var a = e.call(this, {}) || this;
return a.nativePropertiesStore = t, a.onlineState = n, a.sections = [], a.clients = function u(e) {
return {
getRandomBackground: new o.Client("Background.getRandomBackground", {
requestPerformer: e
}),
getRandomBackgrounds: new o.Client("Background.getRandomBackgrounds", {
requestPerformer: e
})
};
}(i), s.whenDefined(function() {
return r.allModulesLoaded && a.nativePropertiesStore.hostingGameId;
}, function(e) {
a.fetchRegisteredSections(e);
}), a;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getRandomBackground.request(t);
e.useClientResult(n, function(e) {
return e ? {
videoUrl: e.videoUrl,
imageUrl: e.imageUrl,
endTime: 1e3 * parseInt(e.end, 10),
section: e.section
} : null;
});
}, t.prototype.getKey = function(e, t) {
return e + ":" + t;
}, t.prototype.fetchRegisteredSections = function(e) {
for (var t = this, n = this.sections, r = 0, o = n; r < o.length; r++) {
var i = o[r];
this.getFragment(this.getKey(e, i)).setValue(null);
}
u.when(function() {
return t.onlineState.isOnlineBlazeAndGateway && a.layoutFeatureFlags.useEngagementBg.isEnabled();
}, function() {
t.clients.getRandomBackgrounds.request({
game: e,
sections: n
}).onSuccess(function(r) {
for (var o = function(n) {
var o = t.getFragment(t.getKey(e, n)), i = r.find(function(e) {
return e.section === n;
});
i && o.setValue({
videoUrl: i.videoUrl,
imageUrl: i.imageUrl,
endTime: 1e3 * parseInt(i.end, 10),
section: i.section
});
}, i = 0, a = n; i < a.length; i++) {
o(a[i]);
}
});
});
}, t.prototype.createDynamicSectionBackground = function(e) {
var t = this;
return this.sections.push(e), {
get: function() {
var n = t.nativePropertiesStore.hostingGameId;
if (n && a.layoutFeatureFlags.useEngagementBg.isEnabled()) {
var r = t.getFragment(t.getKey(n, e));
if (r.isReady && (!r.value || r.value.endTime > Date.now())) return r.value || void 0;
t.onlineState.isOnlineBlazeAndGateway && t.fetchFragment(r, {
game: n,
section: e
});
}
}
};
}, t;
}(i.FragmentStore);
t.BackgroundStore = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35), o = n(10), i = n(391), a = n(9), s = [ function() {
return o.onlineState.isOnlineBlazeAndGateway;
}, function() {
return !!i.storeAvailabilityStore.get().value;
} ], u = 3, l = 3e3;
t.createClient = function c(e) {
var t = (a.SpartaGlobals.bundleIsXBOXONE, "Store.getOffers");
return new r.Client(t, {
requestPerformer: e,
requirementDeterminators: s,
maxRetries: u,
retryTimeout: l
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(179), a = function() {
function e(e) {
this.gameId = e, this.version = 0, this.offersMap = o.observable.map(), this.all = o.observable([]);
}
return e.fromBackend = function(t, n) {
var r = e.getInstance(t);
return r.update(n), r;
}, e.getInstance = function(t) {
var n = e.instances.get(t);
return n || (n = new e(t), e.instances.set(t, n)), n;
}, e.prototype.update = function(e) {
var t = this;
this.version++;
var n = e.map(function(e) {
return new i.Offer(e, t.gameId);
});
this.offersMap.forEach(function(e) {
e.replace([]);
}), n.forEach(function(e) {
var n = t.getGroup(e.group);
n.push(e), t.offersMap.set(e.group, n);
}), this.all.replace(n);
}, e.prototype.getGroup = function(e) {
return this.offersMap.get(e) || o.observable([]);
}, e.prototype.findById = function(e) {
return this.all.find(function(t) {
return t.id === e;
});
}, e.prototype.findByLicense = function(e) {
return this.all.filter(function(t) {
return t.licenses.indexOf(e) >= 0;
});
}, Object.defineProperty(e.prototype, "battlepacks", {
get: function() {
return this.getGroup(i.OfferGroup.BATTLEPACKS);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "game", {
get: function() {
return this.getGroup(i.OfferGroup.GAME);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "deluxe", {
get: function() {
return this.getGroup(i.OfferGroup.DELUXE);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "premium", {
get: function() {
return this.getGroup(i.OfferGroup.PREMIUM);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "xpacks", {
get: function() {
return this.getGroup(i.OfferGroup.XPACKS);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "shortcuts", {
get: function() {
return this.getGroup(i.OfferGroup.SHORTCUTS);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "rsp", {
get: function() {
return this.getGroup(i.OfferGroup.RSP);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "preorder", {
get: function() {
return this.getGroup(i.OfferGroup.PREORDER);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "beta", {
get: function() {
return this.getGroup(i.OfferGroup.BETA);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "cte", {
get: function() {
return this.getGroup(i.OfferGroup.CTE);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "access", {
get: function() {
return this.getGroup(i.OfferGroup.ACCESS);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "currency", {
get: function() {
return this.getGroup(i.OfferGroup.CURRENCY);
},
enumerable: !0,
configurable: !0
}), e.instances = o.observable.map(), r.__decorate([ o.observable ], e.prototype, "version", void 0), 
r.__decorate([ o.action ], e.prototype, "update", null), e;
}();
t.GameOffers = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.name = "PartyStore", t.onHostingGame(o.action(function(e) {
n.store = e.stores && e.stores.createPartyStore && e.stores.createPartyStore(), 
n.store && n.store.initialize(e);
})), n;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "partyStore", {
get: function() {
return this.store;
},
enumerable: !0,
configurable: !0
}), t;
}(n(378).StoreLoader);
t.PartyStoreLoader = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createServerDetailsClient = function o(e) {
return new r.Client("GameServer.getServerDetails", {
throttleTimeout: 1e3,
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(60), a = n(79);
var s = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.client = t, n.fragmentLimit = 10, i.toggleBookmark.listen(function(e) {
n.optimisticallyUpdateBookmarkedServer(e);
}), i.serverBookmarkingFailed.listen(function(e) {
n.updateBookmarkedServer(e);
}), n;
}
return r.__extends(t, e), t.prototype.optimisticallyUpdateBookmarkedServer = function(e) {
var t = new a.GameServer(Object.assign({}, e, {
isFavorite: !e.isFavorite
}));
this.updateBookmarkedServer(t);
}, t.prototype.updateBookmarkedServer = function(e) {
var t = this.getFragmentId(e.game, e.gameId), n = this.fragments.get(t);
if (n && n.value) {
var r = n.value;
if (r.isFavorite !== e.isFavorite) {
var o = e.isFavorite ? 1 : -1;
n.setValue(Object.assign({}, r, {
isFavorite: e.isFavorite,
serverBookmarkCount: function i(e, t) {
return String(Math.max(0, parseInt(e, 10) + t));
}(r.serverBookmarkCount, o)
}));
}
}
}, t.prototype.getFragmentId = function(e, t) {
return e + "-" + t;
}, t.prototype.fetch = function(e, t) {
var n = this.client.request(t);
e.useClientResult(n, function(e) {
return e;
});
}, t.prototype.get = function(e, t) {
var n = this.getFragmentId(e, t);
return this.getOrFetchFragment(n, {
game: e,
gameId: t
});
}, t;
}(o.FragmentStore);
t.ServerDetailsStore = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createServersClient = function o(e) {
return new r.Client("GameServer.searchServers", {
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(79), i = n(30), a = n(3), s = n(60), u = function() {
function e(e) {
if (e) {
var t = [], n = [];
e.gameservers.forEach(function(e) {
null != e.name && "" !== e.name.trim() ? t.push(e) : n.push(e);
}), n.length && console.warn("Invalid servers returned", n), this.servers = t.map(function(e) {
return new o.GameServer(e);
}), this.hasMoreResults = e.hasMoreResults;
} else this.servers = [], this.hasMoreResults = !1;
}
return r.__decorate([ a.observable ], e.prototype, "servers", void 0), e;
}();
t.GameServers = u;
var l = function(e) {
function t(t, n, r, o, i) {
var a = e.call(this) || this;
return a.twinkle = t, a.serversClient = n, a.protocolVersionStore = r, a.gameStore = o, 
a.serverFilterStore = i, s.toggleBookmark.listen(function(e) {
a.optimisticallyUpdateBookmarkedServer(e);
}), s.serverBookmarkingFailed.listen(function(e) {
a.updateBookmarkedServer(e);
}), a;
}
return r.__extends(t, e), t.prototype.get = function(e, t) {
return this.getOrFetchFragment(e, {
gameId: e,
filter: t
});
}, t.prototype.refresh = function(e, t) {
return this.refreshFragment(e, {
gameId: e,
filter: t
});
}, t.prototype.optimisticallyUpdateBookmarkedServer = function(e) {
var t = new o.GameServer(Object.assign({}, e, {
isFavorite: !e.isFavorite
}));
this.updateBookmarkedServer(t);
}, t.prototype.updateBookmarkedServer = function(e) {
if (e.guid) {
var t = this.getFragment(e.game).value;
if (t) {
var n = t.servers.map(function(e) {
return e.guid;
}).indexOf(e.guid);
n > -1 && (t.servers[n] = e);
}
}
}, t.prototype.fetch = function(e, t) {
var n = t.gameId, r = t.filter, o = "";
if (this.isCTE) o = JSON.stringify({
version: 6
}); else if (r) o = r.json; else {
var i = this.serverFilterStore.getFilter(n);
o = i ? i.json : JSON.stringify({});
}
var a = this.gameStore.getGame(n), s = {
filterJson: o,
game: n,
limit: a ? a.serverConfig.serverLimit : 50
}, l = this.protocolVersionStore.get(n);
l && (s.protocolVersion = l);
var c = this.serversClient.request(s);
e.useClientResult(c, function(e) {
return new u(e);
});
}, Object.defineProperty(t.prototype, "isCTE", {
get: function() {
return this.twinkle.buildInfo.isCTE();
},
enumerable: !0,
configurable: !0
}), r.__decorate([ a.action ], t.prototype, "updateBookmarkedServer", null), t;
}(i.FragmentStore);
t.ServersStore = l;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(3), o = n(392), i = [ {
key: o.SortKeys.NONE,
direction: o.SortDirection.NONE,
getLabel: function() {
return __("ID_SPARTA_SERVER_SORT_NONE");
}
}, {
key: o.SortKeys.NAME,
direction: o.SortDirection.ASC,
getLabel: function() {
return __("ID_SPARTA_SERVER_SORT_NAME");
}
}, {
key: o.SortKeys.PLAYERS,
direction: o.SortDirection.DESC,
getLabel: function() {
return __("ID_SPARTA_SERVER_SORT_PLAYERS");
}
}, {
key: o.SortKeys.PING,
direction: o.SortDirection.ASC,
getLabel: function() {
return __("ID_SPARTA_SERVER_SORT_PING");
}
} ], a = function() {
function t() {
this.current = i[0], this.next = i[1];
}
return t.prototype.reset = function() {
this.current = i[0], this.next = i[1];
}, t.prototype.cycle = function() {
var e = this.next || i[0], t = i.findIndex(function(t) {
return t.key === e.key && t.direction === e.direction;
}) + 1;
t === i.length && (t = 0);
var n = i[t];
this.current = e, this.next = n;
}, t.prototype.setSort = function(e) {
var t = this.current, n = t;
if (t && t.key === e) {
var r = void 0;
switch (t.direction) {
case o.SortDirection.ASC:
r = o.SortDirection.DESC;
break;

case o.SortDirection.DESC:
r = o.SortDirection.NONE;
break;

default:
r = o.SortDirection.ASC;
}
n = {
key: t.key,
direction: r,
getLabel: function() {
return t.getLabel();
}
};
} else {
var a = i.find(function(t) {
return t.key === e;
});
a && (n = a);
}
this.current = n;
}, e.__decorate([ r.observable ], t.prototype, "current", void 0), e.__decorate([ r.observable ], t.prototype, "next", void 0), 
e.__decorate([ r.action ], t.prototype, "reset", null), e.__decorate([ r.action ], t.prototype, "cycle", null), 
e.__decorate([ r.action ], t.prototype, "setSort", null), t;
}();
t.ServersSortStore = a;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(60), a = n(30), s = n(79), u = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.client = t, i.toggleBookmark.listen(function(e) {
n.optimisticallyUpdateBookmarkedServer(e);
}), i.serverBookmarkingFailed.listen(function(e) {
return n.updateBookmarkedServer(e);
}), n;
}
return r.__extends(t, e), t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
gameId: e
});
}, t.prototype.fetch = function(e, t) {
var n = this.client.request({
game: t.gameId
});
e.useClientResult(n, function(e) {
return e.map(function(e) {
return new s.GameServer(e);
});
});
}, t.prototype.optimisticallyUpdateBookmarkedServer = function(e) {
var t = new s.GameServer(Object.assign({}, e, {
isFavorite: !e.isFavorite
}));
this.updateBookmarkedServer(t);
}, t.prototype.updateBookmarkedServer = function(e) {
if (e.guid) {
var t = this.getFragment(e.game);
t.value && (e.isFavorite ? t.value.push(e) : t.setValue(t.value.filter(function(t) {
return t.guid !== e.guid;
})));
}
}, r.__decorate([ o.action ], t.prototype, "updateBookmarkedServer", null), t;
}(a.FragmentStore);
t.BookmarkedServersStore = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(79), a = n(60);
t.createServerHistoryClient = function(e) {
return r.requester.createClient({
requestOn: [ a.refreshHistory ],
shouldPerformRequest: function() {
return e.hasGatewaySession;
},
request: function(t) {
if (!t || !t.game) throw new Error("You need to provide at least a game when fetching server history");
var n = e.sessionUser;
if (!n) return Promise.reject("No session user state available");
if (!n.spartaUserId) return Promise.reject("No spartaUserId available in state: " + JSON.stringify(n));
if (!n.spartaUserId.personaId) return Promise.reject("No spartaUserId.personaId available in state: " + JSON.stringify(n));
var r = {
game: t.game,
personaId: n.spartaUserId.personaId
};
return o.request("ServerHistory.mostRecentServers", r);
},
onRequestError: function(e, t) {
this.publish(t.game, [], e);
},
parse: function(e) {
return e.map(function(e) {
return new i.GameServer(e);
});
},
update: function(e, t, n) {
this.publish(n.game, e);
}
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(79), i = n(3), a = n(60), s = function() {
function e(e) {
var t = this;
this.client = e, this.errorsByGame = i.observable.map(), this.historyByGame = i.observable.map(), 
e.listen(function(e, n, r) {
r ? t.updateError(e, r) : t.updateList(e, n);
}), a.toggleBookmark.listen(function(e) {
var n = new o.GameServer(Object.assign({}, e, {
isFavorite: !e.isFavorite
}));
t.updateServerBookmarked(n);
}), a.serverBookmarkingFailed.listen(function(e) {
return t.updateServerBookmarked(e);
});
}
return e.prototype.startListening = function() {
this.client.startListening();
}, e.prototype.updateList = function(e, t) {
this.historyByGame.set(e, t), this.errorsByGame.delete(e), a.requestPings(t.map(function(e) {
return e.ip;
}));
}, e.prototype.updateError = function(e, t) {
this.errorsByGame.set(e, t);
}, e.prototype.getErrorByGame = function(e) {
return this.errorsByGame.get(e);
}, e.prototype.isLoadedForGame = function(e) {
return this.historyByGame.has(e);
}, e.prototype.getHistoryByGame = function(e) {
return this.historyByGame.get(e) || [];
}, e.prototype.updateServerBookmarked = function(e) {
if (e.guid) {
var t = this.historyByGame.get(e.game);
if (t) {
var n = t.map(function(e) {
return e.guid;
}).indexOf(e.guid);
n > -1 && (t[n] = e);
}
}
}, r.__decorate([ i.action ], e.prototype, "updateList", null), r.__decorate([ i.action ], e.prototype, "updateError", null), 
r.__decorate([ i.action ], e.prototype, "updateServerBookmarked", null), e;
}();
t.ServerHistoryStore = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createBookmarkedServersClient = function o(e) {
return new r.Client("ServerBookmark.getBookmarks", {
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(986), o = n(987), i = function(t) {
function n(e, n, r) {
var o = t.call(this) || this;
return o.client = e, o.gameStore = n, o.bundleUpdateStore = r, o;
}
return e.__extends(n, t), n.prototype.fetch = function(e) {
e.useClientResult(this.client.getNotices.request({
games: this.gameStore.getRegisteredGameIds()
}), o.Notice.fromBackend);
}, n.prototype.get = function(e) {
if (this.bundleUpdateStore.isMandatoryUpdateInstalled) return new o.Notice(__("ID_SPARTA_UPDATE_AVAILABLE"), o.NoticeType.Success);
var t = this.getOrFetchFragment();
return t.value ? (t.value.get(e) || [])[0] : void 0;
}, n;
}(r.MiniFragmentStore);
t.NoticeStore = i;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function(e) {
function t(t, n) {
var r = e.call(this, t) || this;
return r.fetchMethod = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e) {
this.fetchMethod(e);
}, t;
}(n(30).FragmentStore), i = function() {
function e(e) {
void 0 === e && (e = {}), this.options = e;
}
return e.prototype.getFragment = function() {
return this.fragmentStore.getFragment(e.fragmentId);
}, e.prototype.getOrFetchFragment = function() {
return this.fragmentStore.getOrFetchFragment(e.fragmentId);
}, Object.defineProperty(e.prototype, "fragmentStore", {
get: function() {
return this.store || (this.store = new o(this.options, this.fetch.bind(this))), 
this.store;
},
enumerable: !0,
configurable: !0
}), e.prototype.reset = function() {
this.fragmentStore.resetFragment(e.fragmentId);
}, e.prototype.expire = function() {
return this.fragmentStore.expireFragment(e.fragmentId);
}, e.prototype.refresh = function() {
return this.fragmentStore.refreshFragment(e.fragmentId);
}, e.fragmentId = "MiniFragmentStore", e;
}();
t.MiniFragmentStore = i;
}, function(e, t, n) {
"use strict";
var r, o;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.DoubleXp = 0] = "DoubleXp", e[e.Success = 1] = "Success", e[e.Info = 2] = "Info", 
e[e.Warning = 3] = "Warning", e[e.Danger = 4] = "Danger";
}(o = t.NoticeType || (t.NoticeType = {}));
var i = ((r = {})[o.Warning] = "#ffad32", r[o.DoubleXp] = "#ffad32", r[o.Danger] = "#f69a9a", 
r[o.Success] = "#a6f59c", r[o.Info] = "#89f0ff", r), a = function() {
function e(e, t) {
this.text = e, this.type = t;
}
return Object.defineProperty(e.prototype, "color", {
get: function() {
return i[this.type];
},
enumerable: !0,
configurable: !0
}), e.fromBackend = function(t) {
var n = new Map();
return Object.keys(t).forEach(function(r) {
var o = t[r].map(function(t) {
return new e(t.text, e.stringToNoticeType(t.severity));
}).sort(e.compareType);
n.set(r, o);
}), n;
}, e.stringToNoticeType = function(e) {
switch (e) {
case "star":
return o.DoubleXp;

case "success":
return o.Success;

case "info":
return o.Info;

case "warn":
return o.Warning;

case "high":
return o.Danger;

default:
return o.Info;
}
}, e.compareType = function(e, t) {
return t.type - e.type;
}, e;
}();
t.Notice = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createNoticeClient = function o(e) {
var t = {
requestPerformer: e
};
return {
getNotices: new r.Client("Notice.getNotices", t)
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(990), a = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.client = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.client.request(t);
e.useClientResult(n, function(e) {
return new i.GameExpansions(e);
});
}, t.prototype.get = function(e, t) {
var n = e + "_" + (t = t.toLowerCase());
return this.getOrFetchFragment(n, {
game: e,
platform: t
});
}, t;
}(o.FragmentStore);
t.ExpansionStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
this.data = e;
}
return Object.defineProperty(e.prototype, "expansions", {
get: function() {
return this.data && this.data.expansions ? this.data.expansions : [];
},
enumerable: !0,
configurable: !0
}), e.prototype.getXpack = function(e) {
var t = null;
return this.expansions.forEach(function(n) {
n.name !== e && n.license !== e || (t = n);
}), t;
}, e.prototype.isXpackInEarlyAccess = function(e) {
return !!e && "EARLY_ACCESS" === e.releaseStatus;
}, e;
}();
t.GameExpansions = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(992), o = n(24);
t.expansionClient = r.createClient(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClient = function o(e) {
return new r.Client("Expansions.getAll", {
throttleTimeout: 3e4,
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(994), a = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.client = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.client.request(t);
e.useClientResult(n, i.PremiumFriends.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e,
limit: 99
});
}, t;
}(o.FragmentStore);
t.PremiumFriendsStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
this.totalNum = 0, this.totalNum = e.num ? e.num : 0, this.friends = e.friends ? e.friends : [], 
this.friendsLookup = o.observable.map(this.friends.map(function(e) {
return [ e.nucleusId, e ];
}));
}
return e.fromBackend = function(t) {
return new e(t);
}, r.__decorate([ o.observable ], e.prototype, "friends", void 0), e;
}();
t.PremiumFriends = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(996), o = n(24);
t.premiumFriendsClient = r.createClient(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClient = function o(e) {
return new r.Client("Friend.getPremiumFriends", {
throttleTimeout: 3e4,
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(199), a = n(200), s = n(222), u = function() {
function e(e, t) {
this.clients = e, this.nativePropertiesStore = t, this.storageClient = new a.StorageClient(), 
this.state = o.observable.map([], {
deep: !1
}), this.isDisabled = o.observable.map();
}
return e.prototype.disable = function(e) {
this.isDisabled.set(e, !0);
}, e.prototype.enable = function(e) {
this.isDisabled.set(e, !1);
}, e.prototype.disableAll = function() {
this.isDisabled.set(i.TakeoverType.Popup, !0), this.isDisabled.set(i.TakeoverType.FirstTime, !0);
}, e.prototype.seen = function(e) {
var t = this;
this.remove(e.takeoverType);
var n = this.nativePropertiesStore.hostingGameId;
n && (i.Takeover.isType(e) ? this.clients.takeoverSeen.request({
game: n,
takeoverId: e.id
}) : i.FirstTimeTakeover.isType(e) && s.getLocalUserGameInfo().then(function(e) {
var n = s.collectLocalUserIdentifiers(e);
t.storageClient.get("first_time_takeover", function(e) {
void 0 === e && (e = {}), n.forEach(function(t) {
e[t] = !0;
}), t.storageClient.save("first_time_takeover", e);
});
}));
}, e.prototype.add = function(e) {
this.state.set(e.takeoverType, e);
}, e.prototype.remove = function(e) {
this.state.delete(e);
}, e.prototype.get = function(e) {
return this.isDisabled.get(e) ? null : this.state.get(e) || null;
}, e.prototype.fetch = function(e) {
return e === i.TakeoverType.Popup ? this.fetchTakeover() : e === i.TakeoverType.FirstTime ? this.fetchFirstTimeTakeover() : (console.warn("Missing fetch implementation for TakeoverType '" + e + "'"), 
Promise.resolve(null));
}, e.prototype.fetchTakeover = function() {
var e = this, t = this.nativePropertiesStore.hostingGameId;
return this.isDisabled.get(i.TakeoverType.Popup) || !t ? Promise.resolve(null) : new Promise(function(n) {
var r = e.clients.getTakeovers.request({
game: t
});
r.onFinished(function() {
var t = r.response;
if (t && t.length > 0) {
var o = i.Takeover.fromBackend(t[0]);
e.add(o), n(o);
} else n(null);
});
});
}, e.prototype.fetchFirstTimeTakeover = function() {
return r.__awaiter(this, void 0, Promise, function() {
var e, t, n, o, a = this;
return r.__generator(this, function(r) {
switch (r.label) {
case 0:
return e = this.nativePropertiesStore.hostingGame, !this.isDisabled.get(i.TakeoverType.FirstTime) && e && e.firstTimeTakeover ? (t = e.firstTimeTakeover, 
[ 4, s.getLocalUserGameInfo() ]) : [ 2, Promise.resolve(null) ];

case 1:
return n = r.sent(), o = s.collectLocalUserIdentifiers(n), [ 2, new Promise(function(e) {
a.storageClient.get("first_time_takeover", function(n) {
void 0 === n && (n = {}), o.some(function(e) {
return Boolean(n[e]);
}) ? e(null) : (a.add(t), e(t));
});
}) ];
}
});
});
}, r.__decorate([ o.action ], e.prototype, "disable", null), r.__decorate([ o.action ], e.prototype, "enable", null), 
r.__decorate([ o.action ], e.prototype, "disableAll", null), r.__decorate([ o.action ], e.prototype, "add", null), 
r.__decorate([ o.action ], e.prototype, "remove", null), e;
}();
t.TakeoverStore = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(25), s = n(38), u = n(6), l = n(305), c = n(8), p = n(34), d = n(75), f = n(26), m = n(12), h = n(11), g = n(15), y = n(19), S = n(5), v = n(7), _ = n(531), b = {
EULA: h.Keys.Decline,
TOS: h.Keys.Option1,
PP: h.Keys.Option2
}, T = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = v.SpartaContext.getFromComponent(r), r.onAccepted = function() {
r.props.popupInfo && a.close(r.props.popupInfo.id), r.props.onCompleted();
}, r.onReject = function() {
r.props.legal.reject();
}, r.fadeTween = g.Animation.tween("50562351:53:42", 1), r.errorTweens = {
translateY: g.Animation.tween("50562351:55:41", c.getHeight(4)),
opacity: g.Animation.tween("50562351:56:38", 0)
}, r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.stopContentFade = o.reaction(function() {
return e.props.legal.currentDocumentKey;
}, function() {
return e.fadeTween.to(1);
}), this.stopCannotRejectReveal = o.reaction(function() {
return e.props.legal.hasRejected;
}, function() {
var t = {
easing: [ 0, .33, .33, 1 ]
};
e.errorTweens.translateY.to(0, t), e.errorTweens.opacity.to(1, t);
});
}, n.prototype.componentWillUnmount = function() {
this.stopContentFade(), this.stopCannotRejectReveal(), this.fadeTween.destroy(), 
this.errorTweens.translateY.destroy(), this.errorTweens.opacity.destroy();
}, n.prototype.getInput = function() {
var e = this;
return Object.keys(b).filter(function(t) {
return e.props.legal.documents.hasOwnProperty(t);
}).map(function(t) {
var n = e.props.legal.documents[t];
return new m.Input({
label: n.title,
action: function() {
return e.switchToDocument(t);
},
key: b[t],
visible: t !== e.props.legal.currentDocumentKey
});
});
}, n.prototype.switchToDocument = function(e) {
var t = this;
this.props.legal.currentDocumentKey !== e && this.fadeTween.to(0, void 0, function() {
t.props.legal.switchToDocument(e);
});
}, n.prototype.render = function() {
var e = this.props.legal.currentDocument;
if (null == e) return r.createElement("surface", null);
var t, n = this.sparta.theme.getTheme(this).legal, o = {
opacity: this.fadeTween.getStyle()
}, i = _.LegalStyle.textStyle, a = n.buttonContainer;
y.isRTLLanguage() && (a = n.buttonContainerRTL, t = _.LegalStyle.textStyleRtl);
var s = e.title.toUpperCase(), f = l.chunkTextByLines(e.text).map(function(e, n) {
return r.createElement(u.Text, {
size: "S",
value: e,
key: "text_chunk_" + n,
style: S.merge2(i, t || S.emptyStyle)
});
}), m = r.createElement(d.Button, {
name: "50562351:149:23",
key: "accept",
stealFocus: !0,
text: __("ID_SPARTA_LEGAL_ACCEPT"),
style: n.button,
action: this.onAccepted
}), h = this.props.legal.hasRejected ? null : r.createElement(d.Button, {
name: "50562351:160:23",
key: "reject",
text: __("ID_SPARTA_LEGAL_DONOTACCEPT"),
style: n.button,
action: this.onReject
});
return this.props.legal.legalConfig.useGDPRFlow && (m = r.createElement(d.Button, {
name: "50562351:171:27",
key: "accept",
stealFocus: !0,
text: __("ID_SPARTA_LEGAL_CONTINUE"),
style: n.button,
action: this.onAccepted
}), h = r.createElement("surface", {
key: "reject"
})), r.createElement("surface", {
style: n.container
}, r.createElement(p.Scroller, {
style: {
width: n.containerWidth,
height: c.getHeight(56)
},
controller: !0,
clipMargin: [ c.getHeight(5), 0, 0, c.getWidth(3) ],
softClip: [ 20, 0, 20, 0 ]
}, r.createElement("surface", {
style: [ n.content, o ]
}, r.createElement(u.Text, {
key: "title",
value: s,
size: "L",
type: "emphasis",
style: n.title
}), f)), r.createElement(u.Text, {
value: this.props.acceptMessage,
size: "S",
style: n.acceptMessage
}), r.createElement(u.Text, {
size: "S",
color: "#b92828",
style: S.merge3(n.errorMessage, this.errorTweens.translateY.getStyleClass("translateY"), this.errorTweens.opacity.getStyleClass("opacity")),
value: this.props.legal.legalConfig.getDeclineMessage ? this.props.legal.legalConfig.getDeclineMessage() : __("ID_SPARTA_LEGAL_ACCEPT_ERROR")
}), r.createElement("surface", {
style: a
}, y.localeRearrange([ m, h ])));
}, n.contextTypes = v.SpartaContext.contextTypes, n = e.__decorate([ i.observer, f.input ], n);
}(r.Component);
t.LegalFlow = T;
var E = function() {
function t(e, t, n) {
void 0 === t && (t = {}), this.documents = {}, this.currentDocumentKey = "", this.hasRejected = !1, 
this.legalConfig = e, this.documents = t, this.currentDocumentKey = n;
}
return Object.defineProperty(t.prototype, "currentDocument", {
get: function() {
return this.documents[this.currentDocumentKey];
},
enumerable: !0,
configurable: !0
}), t.prototype.switchToDocument = function(e) {
this.currentDocumentKey = e;
}, t.prototype.reject = function() {
this.hasRejected = !0;
}, e.__decorate([ o.observable ], t.prototype, "currentDocumentKey", void 0), e.__decorate([ o.observable ], t.prototype, "hasRejected", void 0), 
e.__decorate([ o.computed ], t.prototype, "currentDocument", null), e.__decorate([ o.action ], t.prototype, "switchToDocument", null), 
e.__decorate([ o.action ], t.prototype, "reject", null), t;
}();
t.displayLegalPopup = function C(e, t) {
var n = t.documents, o = t.acceptMessage, i = t.initialDocument;
return new Promise(function(t, u) {
var l = new E(e, n, i);
a.display(new s.Popup({
content: r.createElement(T, {
legal: l,
acceptMessage: o,
onCompleted: t,
onCancel: u
}),
createButtons: !0,
useInputStore: !0
}));
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1e3), o = n(24);
t.takeoverClients = r.createClients(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClients = function o(e) {
return {
getTakeovers: new r.Client("Takeover.getTakeovers", {
requestPerformer: e
}),
takeoverSeen: new r.Client("Takeover.takeoverSeen", {
requestPerformer: e
})
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
var t = this;
this.games = o.observable([]), o.reaction(function() {
return e.current;
}, function(e) {
var n = e.config.gameId;
n && -1 === t.games.indexOf(n) && t.addGameToFetch(n);
});
}
return e.prototype.addGameToFetch = function(e) {
-1 === this.games.indexOf(e) && this.games.push(e);
}, e.prototype.addGamesToFetch = function(e) {
var t = this;
e.forEach(function(e) {
-1 === t.games.indexOf(e) && t.games.push(e);
});
}, e.prototype.reset = function() {
this.games.clear();
}, r.__decorate([ o.action ], e.prototype, "addGameToFetch", null), r.__decorate([ o.action ], e.prototype, "addGamesToFetch", null), 
r.__decorate([ o.action ], e.prototype, "reset", null), e;
}();
t.CareerFetchingState = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(35), a = function() {
function e(e, t) {
this.twinkle = t, this.subscribed = e.subscribed, this.level = e.level;
}
return Object.defineProperty(e.prototype, "isOriginAccessPremier", {
get: function() {
return this.twinkle.buildInfo.isPC && this.subscribed && "Premium" === this.level.name;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isOriginAccessBasic", {
get: function() {
return this.twinkle.buildInfo.isPC && this.subscribed && "Standard" === this.level.name;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isEAAccess", {
get: function() {
return this.twinkle.buildInfo.isXboxOne && this.subscribed;
},
enumerable: !0,
configurable: !0
}), e;
}();
t.SubscriptionStatus = a, t.createSubscriptionStatusClient = function s(e) {
return new i.Client("Inventory.getSubscriptionStatus", {
requestPerformer: e,
throttleTimeout: 1e4
});
};
var u = function(e) {
function t(t, n, r) {
var o = e.call(this, {
fragmentTtl: 6e4
}) || this;
return o.client = t, o.twinkle = n, o.onlineState = r, o;
}
return r.__extends(t, e), t.prototype.fetch = function(e) {
var t = this;
if (!this.twinkle.buildInfo.isPS4 && this.onlineState.isOnlineBlazeAndGateway) {
var n = this.client.request({});
e.useClientResult(n, function(e) {
return new a(e, t.twinkle);
});
}
}, t.prototype.get = function() {
return this.getOrFetchFragment("STATUS");
}, t.prototype.refresh = function() {
this.refreshFragment("STATUS");
}, t;
}(o.FragmentStore);
t.SubscriptionStatusStore = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
var t = this;
this.trialActive = !1, this.blockUser = !1, e.registerMessageListener("sparta.trialUserStatusUpdated", function(e, n) {
t.populate(n);
});
}
return e.prototype.populate = function(e) {
this.trialActive = e.trialActive, this.blockUser = e.blockUser;
}, r.__decorate([ o.observable ], e.prototype, "trialActive", void 0), r.__decorate([ o.observable ], e.prototype, "blockUser", void 0), 
r.__decorate([ o.action ], e.prototype, "populate", null), e;
}();
t.TrialStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(173), a = function() {
function e(e, t) {
var n = this;
this.frostbite = e, this.getGame = t, this.state = "idle", this.isEASignInDialogShown = !1, 
this.userPressedToStart = !1, this.frostbite.registerMessageListener("sparta.eaSignInDialogUpdate", function(e, t) {
n.setEASignInDialogShown(t.isActive);
});
}
return e.prototype.setEASignInDialogShown = function(e) {
this.isEASignInDialogShown = e;
}, e.prototype.isEnabled = function() {
var e = this.getGame();
return !(!e || !e.originAccountFlowInJs);
}, e.prototype.onPressToStart = function() {
this.isEnabled() && (this.userPressedToStart = !0, this.frostbite.sendMessage("sparta.goOnline", {
silentOnline: !0
}));
}, e.prototype.onPresenceUpdate = function(e) {
var t = this, n = e.eventType, r = e.resultType;
this.isEnabled() && ("idle" === this.state && n === i.ConnectionEventType.connectFailed && r === i.ConnectionResultType.needUserInteraction && (this.state = "going-offline", 
this.frostbite.sendMessage("sparta.goOffline"), setTimeout(function() {
t.frostbite.sendMessage("sparta.goOnline", {
silentOnline: !1
}), t.state = "going-fully-online";
}, 1e3)), "going-fully-online" === this.state && n === i.ConnectionEventType.qualityOfServiceDone && (this.state = "idle"));
}, r.__decorate([ o.observable ], e.prototype, "isEASignInDialogShown", void 0), 
r.__decorate([ o.action ], e.prototype, "setEASignInDialogShown", null), e;
}();
t.OriginAccountFlow = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(395), a = n(397), s = n(194), u = function() {
function e(e) {
this._isEnabled = !0, this.flow = new i.StartScreenFlow(e), this.flow.onDismissed(function() {
s.handleStartScreenClosed();
});
}
return e.prototype.setEnabled = function(e) {
a.legacyStartScreenStore.enable(e);
}, Object.defineProperty(e.prototype, "isEnabled", {
get: function() {
return a.legacyStartScreenStore.isEnabled;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isVisible", {
get: function() {
return a.legacyStartScreenStore.isVisible;
},
enumerable: !0,
configurable: !0
}), e.prototype.setDismissCallback = function(e) {
return a.legacyStartScreenStore.overrideDismissCallback(e);
}, r.__decorate([ o.observable ], e.prototype, "_isEnabled", void 0), r.__decorate([ o.action ], e.prototype, "setEnabled", null), 
r.__decorate([ o.computed ], e.prototype, "isEnabled", null), r.__decorate([ o.computed ], e.prototype, "isVisible", null), 
e;
}();
t.StartScreenStore = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(78), o = n(288), i = n(27), a = n(52), s = 0, u = function() {
function e(e) {
this.surface = e, this.fadeToOpacity = null, this.cancelOnLoaded = null;
}
return e.prototype.setupTween = function(e) {
var t = this;
this.texture = e, this.cancel(), this.tween = new r.Tween("fadeIn_" + this.texture.reference.url + "_" + s++, .01, {
easing: i.Easing.CubicOut,
duration: 300
}), this.cancelOnLoaded = e.onLoaded(function(e) {
e && t.tween && (t.tween.to(t.fadeToOpacity, void 0, function() {
t.surface.manualUpdate({
opacity: t.oldOpacity
}), a.nativeApi.applyStateChanges(), t.destroy();
}), o.tweenBatcher.flush(a.nativeApi));
});
}, e.prototype.destroy = function() {
this.cancel();
}, e.prototype.cancel = function() {
this.cancelOnLoaded && (this.cancelOnLoaded(), this.cancelOnLoaded = null), this.tween && (this.tween.destroy(), 
this.tween = null);
}, e.prototype.update = function(e, t) {
if (!e.isLoaded()) {
var n = t.opacity;
if (this.oldOpacity = n, this.fadeToOpacity = 1, "number" == typeof n) this.fadeToOpacity = n; else if ("string" == typeof n) this.fadeToOpacity = 0; else {
if ("object" == typeof n) return;
this.oldOpacity = null;
}
(!this.tween || this.texture && this.texture.reference.key !== e.reference.key) && this.setupTween(e), 
t.opacity = this.tween ? this.tween.getStyle() : void 0;
}
}, e.handle = function(t, n, r) {
n.isLoaded() || (t._fadeIn || (t._fadeIn = new e(t)), t._fadeIn.update(n, r));
}, e.unmount = function(e) {
e._fadeIn && (e._fadeIn.destroy(), e._fadeIn = void 0);
}, e;
}();
t.TextureFadeIn = u;
}, function(e, t, n) {
"use strict";
var r;
Object.defineProperty(t, "__esModule", {
value: !0
}), function(e) {
e[e.NOT_LOADED = 0] = "NOT_LOADED", e[e.LOADING = 1] = "LOADING", e[e.FAILED = 2] = "FAILED", 
e[e.LOADED = 3] = "LOADED";
}(r = t.TextureState || (t.TextureState = {}));
var o = function() {
function e(e) {
this.reference = e, this.state = r.NOT_LOADED, this.refCount = 0, this.stateId = 0;
}
return e.toReference = function(e, t) {
return {
key: e + "_" + t,
url: e,
atlas: t
};
}, e.prototype.getState = function() {
return r[this.state];
}, e.prototype.changeState = function(e) {
this.state = e, this.stateId++;
}, e.prototype.isLoaded = function() {
return this.state === r.LOADED || this.state === r.FAILED;
}, e.prototype.onLoaded = function(e) {
var t = this;
return this.isLoaded() ? (e(!0), i) : this.state === r.FAILED ? (e(!1), i) : (this.callbacks ? this.callbacks.push(e) : this.callbacks = [ e ], 
function() {
if (t.callbacks) {
var n = t.callbacks.indexOf(e);
n > -1 && t.callbacks.splice(n, 1);
}
});
}, e.prototype.loaded = function(e) {
this.changeState(e ? r.LOADED : r.FAILED), this.callbacks && this.callbacks.slice().forEach(function(t) {
return t(e);
});
}, e.prototype.unloaded = function() {
this.changeState(r.NOT_LOADED);
}, e.prototype.loading = function() {
this.changeState(r.LOADING);
}, e;
}();
function i() {}
t.Texture = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(133), a = function() {
function e() {
this.debug = !1, this.textures = o.observable.map([], {
deep: !1
}), this.autoKeepAliveFor = 0;
}
return e.prototype.add = function(e) {
this.textures.has(e.reference.key) || this.textures.set(e.reference.key, e);
}, e.prototype.remove = function(e) {
this.textures.has(e.reference.key) && this.textures.delete(e.reference.key);
}, e.prototype.handle = function(e, t, n) {
n.isPreloader ? delete n.isPreloader : this.autoKeepAliveFor > 0 && e._primaryTexture !== t && (e._primaryTexture && this.decreaseRefCount(e._primaryTexture), 
e._primaryTexture = t, this.increaseRefCount(t));
}, e.prototype.increaseRefCount = function(e) {
e.refCount++, 1 === e.refCount && this.add(e);
}, e.prototype.decreaseRefCount = function(e) {
var t = this;
e.refCount--, 0 === e.refCount && (0 === this.autoKeepAliveFor ? this.remove(e) : setTimeout(function() {
0 === e.refCount && t.remove(e);
}, this.autoKeepAliveFor));
}, e.prototype.unmount = function(e) {
e._primaryTexture && (this.decreaseRefCount(e._primaryTexture), e._primaryTexture = null);
}, e.prototype.clear = function() {
this.textures.clear();
}, e.prototype.toggleDebug = function() {
this.debug = !this.debug, i.__Logger.get("TextureKeepAlive").log("Texture keep-alive debugging turned " + (this.debug ? "ON" : "OFF"));
}, r.__decorate([ o.observable ], e.prototype, "debug", void 0), r.__decorate([ o.action ], e.prototype, "add", null), 
r.__decorate([ o.action ], e.prototype, "remove", null), r.__decorate([ o.action ], e.prototype, "clear", null), 
r.__decorate([ o.action ], e.prototype, "toggleDebug", null), e;
}();
t.TextureKeepAlive = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(15), a = n(6), s = n(5), u = n(17), l = n(4), c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tweens = {
container: i.Animation.componentTween(t, "4370f8b4:22:50", 1),
icon: i.Animation.componentTween(t, "4370f8b4:23:45", 0),
label: i.Animation.componentTween(t, "4370f8b4:24:46", 0)
}, t;
}
return r.__extends(t, e), t.prototype.separate = function(e) {
return Promise.all([ this.tweens.container.promiseTransition(1, 0, e), this.tweens.icon.promiseTransition(0, -100, e), this.tweens.label.promiseTransition(0, 100, e) ]);
}, t.prototype.join = function(e) {
this.tweens.container.to(1, e), this.tweens.icon.to(0, e), this.tweens.label.to(0, e);
}, t.prototype.hide = function(e) {
return this.tweens.container.promiseTransition(1, 0, e);
}, t.prototype.render = function() {
var e, t = this.props, n = t.iconSize, r = t.icon, i = t.iconSpace, l = t.spacing, c = t.label, p = t.isDisabled;
e = "string" == typeof r ? o.createElement("surface", {
style: s.DynamicStyle.create({
texture: r,
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
width: n,
height: n,
grayScale: p ? 1 : 0
}, "4370f8b4:60:28")
}) : r;
var d = s.merge3(u.LabeledIconStyles.container, this.tweens.container.getStyleClass("opacity"), this.props.style);
return o.createElement("surface", {
style: d,
onClick: this.props.onClick
}, o.createElement("surface", {
style: s.merge2(this.tweens.icon.getStyleClass("translateX"), s.DynamicStyle.create({
width: n,
height: n,
marginRight: 2 * i + (l || n / 2),
marginLeft: i
}, "4370f8b4:84:70"))
}, e), o.createElement("surface", {
style: s.merge2(u.LabeledIconStyles.labelElement, this.tweens.label.getStyleClass("translateX"))
}, "string" == typeof c ? o.createElement(a.Text, {
value: c
}) : c), this.props.children);
}, t.defaultProps = {
iconSpace: 0,
spacing: 0,
isDisabled: !1
}, t = r.__decorate([ l.observer ], t);
}(o.Component);
t.AnimatedLabeledIcon = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(402), a = n(27), s = function() {
function e(e, t, n, r) {
this.R = e, this.G = t, this.B = n, this.A = r;
}
return e.prototype.add = function(e) {
this.R += e.R, this.G += e.G, this.B += e.B, this.A += e.A;
}, e.prototype.asArray = function() {
return [ this.R, this.G, this.B, this.A ];
}, e;
}();
t.ColorConfig = s;
var u = function() {
return function e(t, n, r, o, i, s, u) {
void 0 === r && (r = a.Easing.Linear), void 0 === o && (o = .2), void 0 === i && (i = .2), 
void 0 === s && (s = .8), void 0 === u && (u = .8), this.fromColor = t, this.toColor = n, 
this.easing = r, this.p1x = o, this.p1y = i, this.p2x = s, this.p2y = u;
};
}();
t.ColorTweenConfig = u;
var l = function() {
function e(e, t, n, r, o) {
void 0 === o && (o = !0), this.absolute = !0, this.R = e, this.G = t, this.B = n, 
this.A = r, this.absolute = o;
}
return e.prototype.generateValue = function() {
return new s(this.R.generateValue(), this.G.generateValue(), this.B.generateValue(), this.A.generateValue());
}, e.prototype.toJson = function() {
return {
R: this.R.toJson(),
G: this.G.toJson(),
B: this.B.toJson(),
A: this.A.toJson()
};
}, e.prototype.fromJson = function(e) {
this.R.fromJson(e.R), this.G.fromJson(e.G), this.B.fromJson(e.B), this.A.fromJson(e.A);
}, r.__decorate([ o.observable ], e.prototype, "R", void 0), r.__decorate([ o.observable ], e.prototype, "G", void 0), 
r.__decorate([ o.observable ], e.prototype, "B", void 0), r.__decorate([ o.observable ], e.prototype, "A", void 0), 
r.__decorate([ o.observable ], e.prototype, "absolute", void 0), e;
}();
t.JitterColorConfig = l;
var c = function() {
function e(e, t, n) {
this.easing = a.Easing.Linear, this.p1x = new i.JitterValue(.2, 0, null), this.p1y = new i.JitterValue(.2, 0, null), 
this.p2x = new i.JitterValue(.8, 0, null), this.p2y = new i.JitterValue(.8, 0, null), 
this.fromColor = e, this.toColor = t, this.easing = n;
}
return e.prototype.generateConfig = function() {
var e = this.fromColor.generateValue(), t = this.toColor.generateValue();
return this.fromColor.absolute && !this.toColor.absolute ? t.add(e) : !this.fromColor.absolute && this.toColor.absolute && e.add(t), 
new u(e, t, this.easing, this.p1x.generateValue(), this.p1y.generateValue(), this.p2x.generateValue(), this.p2y.generateValue());
}, e.prototype.toJson = function() {
return {
fromColor: this.fromColor.toJson(),
toColor: this.toColor.toJson(),
easing: this.easing,
p1x: this.p1x.toJson(),
p1y: this.p1y.toJson(),
p2x: this.p2x.toJson(),
p2y: this.p2y.toJson()
};
}, e.prototype.fromJson = function(e) {
this.fromColor.fromJson(e.fromColor), this.toColor.fromJson(e.toColor), this.easing = e.easing, 
this.p1x.fromJson(e.p1x), this.p1y.fromJson(e.p1y), this.p2x.fromJson(e.p2x), this.p2y.fromJson(e.p2y);
}, r.__decorate([ o.observable ], e.prototype, "fromColor", void 0), r.__decorate([ o.observable ], e.prototype, "toColor", void 0), 
r.__decorate([ o.observable ], e.prototype, "easing", void 0), r.__decorate([ o.observable ], e.prototype, "p1x", void 0), 
r.__decorate([ o.observable ], e.prototype, "p1y", void 0), r.__decorate([ o.observable ], e.prototype, "p2x", void 0), 
r.__decorate([ o.observable ], e.prototype, "p2y", void 0), r.__decorate([ o.action ], e.prototype, "fromJson", null), 
e;
}();
t.JitterColorTweenConfig = c;
}, function(e) {
e.exports = {
texture: "",
blendMode: "screen",
maxParticles: 15,
lifetimeMs: {
value: 15e3,
variance: 1500,
absolute: null
},
emitInterval: {
value: 10,
variance: 50,
absolute: null
},
x: {
from: {
value: 0,
variance: 300,
absolute: !0
},
to: {
value: 200,
variance: 300,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
y: {
from: {
value: 0,
variance: 0,
absolute: !0
},
to: {
value: 400,
variance: -200,
absolute: !0
},
easing: "QuadraticIn",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
opacity: {
from: {
value: 1,
variance: 0,
absolute: !0
},
to: {
value: 1,
variance: 0,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
scale: {
from: {
value: 26,
variance: 0,
absolute: !0
},
to: {
value: 0,
variance: 0,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
rotate: {
from: {
value: -60,
variance: 10,
absolute: !0
},
to: {
value: 0,
variance: 0,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
color: {
fromColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 255,
variance: 0,
absolute: !0
},
B: {
value: 255,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
toColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 255,
variance: 0,
absolute: !0
},
B: {
value: 255,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1013), o = n(200), i = n(373), a = n(216), s = n(27);
var u = new o.StorageClient();
t.uuidPromise = new Promise(function(e) {
u.get("hubble-uuid", function(t) {
t || (t = i.createUUID(), u.save("hubble-uuid", t)), e(t);
});
}), t.gaClients = r.createClients(function l(e, t) {
return new Promise(function(n, r) {
a.httpRequest(s.HttpMethod.POST, "http://www.google-analytics.com/" + e, t.join("\n"), "", !1, function(e, t) {
e ? n(t) : r(new Error("Unable to send data to GA."));
});
});
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(35), i = {
throttleTimeout: 1e3,
maxRetries: 1,
retryTimeout: 1e3
};
t.createClients = function a(e) {
var t = r.__assign({}, i, {
requestPerformer: e
});
return {
send: new o.Client("batch", t)
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(373), i = n(528), a = n(3), s = n(193), u = function() {
function e(e, t, n, r) {
var s = this;
this.uuidPromise = e, this.clients = t, this.nativePropertiesStore = n, this.locationStore = r, 
this.sendTimer = -1, this.queue = [], this.userSegmentsByGame = a.observable.map([], {
deep: !1
}), this.enabled = !0, this.gameSessionId = o.createUUID(), this.sessionStart = Date.now(), 
this.sequence = 0, this.parentSessionId = "", this.currentGame = "", this.platform = "", 
this.build = "", this.release = "", this.os = "", this.logger = {
log: i.logToVoid,
info: i.logToVoid,
warn: i.logToVoid,
error: i.logToVoid,
debug: i.logToVoid
}, this.propsQueue = [], this.pageViewStarted = Date.now(), this.goingTo = null, 
this.syntheticHistory = [], e.then(function(e) {
return s.uuid = e;
}), this.setEnabled(this.enabled), this.nativePropertiesStore.onHostingGame(function(e) {
s.propsQueue.slice().map(function(t) {
return e.generatePinEvent(t);
}).forEach(function(e) {
s.queue.push(e);
}), s.propsQueue = [];
});
}
return Object.defineProperty(e.prototype, "allUserSegments", {
get: function() {
return a.values(this.userSegmentsByGame).slice();
},
enumerable: !0,
configurable: !0
}), e.prototype.useLogger = function(e) {
this.logger = e;
}, e.prototype.setEnabled = function(e) {
var t = this;
this.enabled = e, e ? this.sendTimer = setInterval(function() {
t.sendEvents();
}, 1e4) : clearInterval(this.sendTimer);
}, e.prototype.getSequence = function() {
return this.sequence++;
}, e.prototype.generateGameSessionId = function() {
this.gameSessionId = o.createUUID();
}, e.prototype.setParentSessionId = function(e) {
this.parentSessionId = e;
}, e.prototype.trackPageView = function(e, t) {
var n = Date.now(), r = n - this.pageViewStarted, o = "", i = "";
(this.pageViewStarted = n, this.goingTo && (o = this.goingTo, this.syntheticHistory.push(this.goingTo)), 
this.goingTo = e, this.locationStore.canGoBack) && (this.syntheticHistory.length > 1 && (i = this.syntheticHistory[this.syntheticHistory.length - 2] || ""));
var a = {
pageDurationSec: r / 1e3,
navigatingTo: e,
currentPage: o,
navigatingFrom: i,
pageType: "web_page"
}, u = {};
t && (u.action = t), this.syntheticHistory = this.syntheticHistory.slice(-3), this.trackEvent(s.PinEvents.PageView, a, u);
}, e.prototype.trackEvent = function(e, t, n) {
void 0 === t && (t = {}), void 0 === n && (n = {}), this.enabled && this.generateEvent({
eventName: e,
params: t,
sequence: this.getSequence(),
gameSessionId: this.gameSessionId,
customProps: n
});
}, e.prototype.generateEvent = function(e) {
this.nativePropertiesStore.hostingGame ? this.queue.push(this.nativePropertiesStore.hostingGame.generatePinEvent(e)) : this.propsQueue.push(e);
}, e.prototype.attachSegmentId = function(e) {
var t = this;
return e.map(function(e) {
return "message" === e.eventName && "" === e.params.segmentId && (e.params.segmentId = t.getSegmentString()), 
e;
});
}, e.prototype.getSegmentString = function(e) {
var t = e && this.userSegmentsByGame.get(e);
return t ? t.join(",") : this.allUserSegments.join(",");
}, e.prototype.getSessionTime = function() {
return Math.round((Date.now() - this.sessionStart) / 1e3);
}, e.prototype.getPayload = function(e) {
return {
game: this.currentGame,
uuid: this.uuid || "",
gameSessionId: this.gameSessionId,
parentSessionId: this.parentSessionId,
events: e,
sessionDuration: this.getSessionTime().toString(),
build: this.build,
release: this.release
};
}, e.prototype.sendEvents = function() {
if (this.enabled && this.queue.length > 0 && this.uuid) {
var e = this.attachSegmentId(this.queue.splice(0, 10)), t = this.getPayload(e);
this.logger.debug("sendEvents:", t), this.clients.sendEvents.request(t);
}
}, e.prototype.setUserSegment = function(e, t) {
this.userSegmentsByGame.set(e, t);
}, r.__decorate([ a.computed ], e.prototype, "allUserSegments", null), r.__decorate([ a.action ], e.prototype, "setUserSegment", null), 
e;
}();
t.PinStore = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(35), i = {
throttleTimeout: 1e3,
maxRetries: 1,
retryTimeout: 1e3
};
t.createClients = function a(e) {
var t = r.__assign({}, i, {
requestPerformer: e
});
return {
sendEvents: new o.Client("Telemetry.batchEvents", t)
};
};
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(390), a = n(1017), s = n(30), u = n(521), l = n(35);
e.get("GameMixStore");
t.createClient = function c(e) {
return new l.Client("Cocktail.getMix", {
requestPerformer: e
});
};
var p = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.client = t, r.gameDataStore = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.client.request(t), r = this.gameDataStore.get(t.game);
o.when(function() {
return r.isReady;
}, function() {
var t = r.value;
t ? e.useClientResult(n, function(e) {
return a.GameMix.fromBackend(e, t);
}) : e.setFailstate(r.failstate);
});
}, t.prototype.getFragmentId = function(e, t) {
return e + "-" + t;
}, t.prototype.get = function(e, t) {
return this.getOrFetchFragment(this.getFragmentId(e, t), {
game: e,
mixId: t
});
}, t.prototype.setFromProps = function(e, t) {
var n = this, r = this.gameDataStore.get(e);
i.whenDefined(function() {
return r.value;
}, function(r) {
var o = new u.Fragment(t.mixId, a.GameMix.fromBackend(t, r));
n.setFragment(n.getFragmentId(e, t.mixId), o);
});
}, t;
}(s.FragmentStore);
t.GameMixStore = p;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var n = e.get("GameMix"), r = function() {
function e(e, t, n, r) {
this.mixId = e, this.mixType = t, this.mapRotation = n, this.mapRotationAttributes = r;
}
return e.fromBackend = function(t, r) {
var o = [], i = t.mapRotation.reduce(function(e, t) {
var n = t.gameMode, i = t.levelName, a = r.maps.find(function(e) {
return e.filterKey === i;
}), s = r.gameModes.find(function(e) {
return e.filterKey === n;
});
return a ? e.push({
map: a,
gameMode: s
}) : (a || o.push(i), s || o.push(n)), e;
}, []);
return 0 === i.length && n.error("Zero length map rotation for game mix:", t), o.length > 0 && n.error("Insufficient game data to describe mixId", t.mixId, Array.from(new Set(o))), 
new e(t.mixId, t.mixType, i, t.mapRotationAttributes);
}, e;
}();
t.GameMix = r;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e, r) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var o = n(0), i = n(3), a = n(35), s = n(79), u = n(301), l = n(100), c = n(88), p = n(256), d = e.get("ServerPresenceStore"), f = function() {
function e(e, t, n, o, a, s) {
var l = this;
this.onlineState = e, this.friendStore = t, this.userStore = n, this.gameStateStoreLoader = o, 
this.gamePushNotifications = a, this.fetchServerPresenceClient = s, this.gamePushPersonaIds = i.observable.array(), 
this.lastPresenceUpdates = i.observable.array([], {
deep: !1
}), this.gamePushPersonaIds.observe(function(e) {
"splice" === e.type && e.addedCount > 0 && l.fetchServerPresence(r("Friends playing changed, fetching for specific friends"));
}, !0), a.listen(u.PushNotificationTopic.FRIENDS_PLAYING, function(e) {
u.isFriendUpdate(e.payload, u.PushNotificationTopic.FRIENDS_PLAYING) && l.addPlaying(e.payload.personaIds);
}), a.listen(u.PushNotificationTopic.FRIENDS_STOPPED_PLAYING, function(e) {
u.isFriendUpdate(e.payload, u.PushNotificationTopic.FRIENDS_STOPPED_PLAYING) && l.removePlaying(e.payload.personaIds);
}), i.reaction(function() {
return l.onlineState.isOnlineBlazeAndGateway && l.onlineFriendPersonaIds.length > 0;
}, function(e) {
e && l.fetchServerPresenceForAllFriends(r("Came online, fetching for all online friends"));
}, {
fireImmediately: !0
}), i.reaction(function() {
return l.onlineFriendPersonaIds.length;
}, function(e) {
l.onlineState.isOnlineBlazeAndGateway && e > 0 && l.fetchServerPresenceForAllFriends(r("New friend(s) came online, fetching for all online friends"));
}), this.gameStateStoreLoader.onLoad(function(e) {
i.reaction(function() {
return e.isOnFrontEnd;
}, function(e) {
e && l.onlineState.isOnlineBlazeAndGateway && l.onlineFriendPersonaIds.length > 0 && l.fetchServerPresenceForAllFriends(r("Returned to frontend, fetching for all online friends"));
});
}), i.reaction(function() {
return i.toJS(l.lastPresenceUpdates);
}, function(e) {
l.userStore.updatePresences(e);
});
}
return Object.defineProperty(e.prototype, "onlineFriendPersonaIds", {
get: function() {
return this.friendStore.friends.reduce(function(e, t) {
return t.presence.state !== l.UserPresenceStates.Offline && (t.spartaUserId.personaId ? e.push(t.spartaUserId.personaId) : d.warn("No personaId found for friend", t)), 
e;
}, []);
},
enumerable: !0,
configurable: !0
}), e.prototype.fetchServerPresence = function(e) {
this._fetchServerPresence(this.gamePushPersonaIds, e);
}, e.prototype.fetchServerPresenceForAllFriends = function(e) {
this._fetchServerPresence(this.onlineFriendPersonaIds, e);
}, e.prototype._fetchServerPresence = function(e, t) {
var n = this;
e.length > 0 && (d.info(t), this.fetchServerPresenceClient.request({
personaIds: e.slice()
}).onSuccess(function(t) {
var r = e.reduce(function(e, r) {
var o = t[r], i = n.friendStore.findFriendByPersonaId(r);
return i && i.id && o && e.push({
userId: i.id,
server: new s.GameServer(o)
}), e;
}, []);
n.setPlayingPresences(r);
var o = e.reduce(function(e, r) {
var o = t[r], i = n.friendStore.findFriendByPersonaId(r);
return i && i.personaId && !o && e.push(i.personaId), e;
}, []);
n.removePlaying(o), d.info("Retrieved server presence for", e.length, "friends;", r.length, "playing.");
}));
}, e.prototype.addPlaying = function(e) {
var t = this;
e.forEach(function(e) {
-1 === t.gamePushPersonaIds.indexOf(e) && t.gamePushPersonaIds.push(e);
});
}, e.prototype.removePlaying = function(e) {
var t = this;
e.forEach(function(e) {
var n = t.gamePushPersonaIds.indexOf(e);
n >= 0 && t.gamePushPersonaIds.splice(n, 1);
}), e.forEach(function(e) {
var n = t.friendStore.findFriendByPersonaId(e);
n && n.id && t.userStore.removeServerPresences([ n.id ]);
});
}, e.prototype.setPlayingPresences = function(e) {
this.lastPresenceUpdates.replace(e);
}, o.__decorate([ i.computed ], e.prototype, "onlineFriendPersonaIds", null), o.__decorate([ c.debounced({
duration: p.milliseconds({
seconds: 1
}),
isLeading: !1,
isTailing: !0
}) ], e.prototype, "fetchServerPresence", null), o.__decorate([ c.debounced({
duration: p.milliseconds({
seconds: 5
}),
isLeading: !0,
isTailing: !1
}) ], e.prototype, "fetchServerPresenceForAllFriends", null), o.__decorate([ i.action ], e.prototype, "addPlaying", null), 
o.__decorate([ i.action ], e.prototype, "removePlaying", null), o.__decorate([ i.action ], e.prototype, "setPlayingPresences", null), 
e;
}();
t.ServerPresenceStore = f, t.createFetchServerPresenceClient = function m(e) {
return new a.Client("GameServer.getServersByPersonaIds", {
requestPerformer: e
});
};
}).call(this, n(20), n(101));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = (e.get("GameViewCountdownWidgetStore"), function() {
function e(e) {
this.gameStateStoreLoader = e, this.widgets = o.observable.array([], {
deep: !1
});
}
return e.prototype.addWidget = function(e) {
this.widgets.push(e);
}, Object.defineProperty(e.prototype, "widget", {
get: function() {
var e = this;
return this.gameStateStoreLoader.map(function(t) {
return e.widgets.find(function(e) {
return e.gameViewRoute === t.currentGameViewRoute;
});
});
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.action ], e.prototype, "addWidget", null), r.__decorate([ o.computed ], e.prototype, "widget", null), 
e;
}());
t.GameViewCountdownWidgetStore = i;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(256), a = n(1021), s = function(e) {
function t(t) {
var n = e.call(this, {
fragmentTtl: i.milliseconds({
seconds: 120
})
}) || this;
return n.clients = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getUserFlag.request(t);
e.useClientResult(n, function(n) {
var r, o;
return e.value ? (o = e.value).setFlag(t.flag, n) : o = a.UserStateOptions.fromBackend(t.game, ((r = {})[t.flag] = n, 
r)), o;
});
}, t.prototype.get = function(e, t) {
var n = this.getFragment(e);
return n.needsFetch ? this.fetchFragment(n, {
game: e,
flag: t
}) : n.value && !n.value.hasFlag(t) && this.fetchFragment(n, {
game: e,
flag: t
}), n;
}, t.prototype.updateFlag = function(e, t, n) {
var r = this;
return new Promise(function(o) {
var i = r.clients.updateFlag.request({
game: e.gameId,
flag: t,
state: n
});
i.onSuccess(function(r) {
r && e.setFlag(t, n);
}), i.onFinished(o);
});
}, t;
}(o.FragmentStore);
t.UserStateStore = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t) {
this.gameId = e, this.options = o.observable.box({}), this.options.set(t);
}
return e.fromBackend = function(t, n) {
return new e(t, n);
}, e.prototype.hasFlag = function(e) {
return "boolean" == typeof this.options.get()[e];
}, e.prototype.getFlag = function(e, t) {
var n = this.options.get();
return "boolean" == typeof n[e] ? n[e] : t;
}, e.prototype.setFlag = function(e, t) {
var n, o = this.options.get();
this.options.set(r.__assign({}, o, ((n = {})[e] = t, n)));
}, r.__decorate([ o.action ], e.prototype, "setFlag", null), e;
}();
t.UserStateOptions = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createUserStateClients = function o(e) {
var t = {
requestPerformer: e,
maxRetries: 3,
retryTimeout: 500
};
return {
getUserFlag: new r.Client("State.getUserFlag", t),
updateFlag: new r.Client("State.updateFlag", t)
};
};
}, function(module, exports, __webpack_require__) {
"use strict";
(function(Logger) {
Object.defineProperty(exports, "__esModule", {
value: !0
});
var React = __webpack_require__(1), debugHttp_1 = __webpack_require__(404), StyleTemplate_1 = __webpack_require__(13), NativeTypes_1 = __webpack_require__(27), mobx_1 = __webpack_require__(3), logger = Logger.get("StyleTemplates");
function init() {
0;
}
exports.init = init;
var reloadStyleTemplate = mobx_1.action(function(code) {
if (StyleTemplate_1.isHotReloadingEnabled()) {
var module = {
exports: {}
};
try {
eval(code);
} catch (e) {
logger.error(code), logger.error("Eval of updated template failed: " + e.message);
}
} else logger.error("Hot reloading disabled");
function require(e) {
if ("react" === e) return React;
if (e.endsWith("StyleTemplate")) return {
Template: StyleTemplate_1.TemplateUpdate,
style: StyleTemplate_1.style,
stylefunc: StyleTemplate_1.stylefunc,
value: StyleTemplate_1.value,
valuefunc: StyleTemplate_1.valuefunc,
merge: StyleTemplate_1.merge,
timeline: StyleTemplate_1.timeline,
tween: StyleTemplate_1.tween,
trigger: StyleTemplate_1.trigger,
tweenSwitch: StyleTemplate_1.tweenSwitch,
multistyle: StyleTemplate_1.multistyle,
multistyle2: StyleTemplate_1.multistyle2,
multistyle3: StyleTemplate_1.multistyle3,
multistyle4: StyleTemplate_1.multistyle4,
multistyle5: StyleTemplate_1.multistyle5,
dynamicStyle: StyleTemplate_1.dynamicStyle,
template: StyleTemplate_1.template,
wrap: StyleTemplate_1.wrap,
Grid: StyleTemplate_1.Grid,
LayoutBounds: StyleTemplate_1.LayoutBounds,
bbOfflineUrl: StyleTemplate_1.bbOfflineUrl,
bbUrl: StyleTemplate_1.bbUrl,
withDefault: StyleTemplate_1.withDefault,
frames: StyleTemplate_1.frames,
sleep: StyleTemplate_1.sleep,
Constants: StyleTemplate_1.Constants
};
if ("twinkle/src/core/native/NativeTypes" === e) return {
Easing: NativeTypes_1.Easing
};
if (e.endsWith(".template")) {
var t = e.split("/"), n = t[t.length - 1], r = n.substr(0, n.length - ".template".length), o = StyleTemplate_1.templateFiles[r];
return o || (logger.error("Imported template " + e + " not found!"), {});
}
logger.error("Style template requiring unknown module: ", e);
}
});
}).call(this, __webpack_require__(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(503), o = n(3), i = n(71), a = n(5);
t.initUrlHooks = function s(t, n, u) {
var l = e.get("UrlHook");
o.reaction(function() {
return u.battlebinaryPrefix;
}, function() {
Object.keys(a.staticStyles).forEach(function(e) {
a.staticStyles[e].resetHooks();
});
}), t.urlHook = function(e) {
if (e) if (e.substr(0, r.bbPrefixLen) === r.bbPrefix) u.battlebinaryPrefix ? e = u.battlebinaryPrefix + e.substr(r.bbPrefixLen) : l.warn("Trying to replace BB-prefix without a bb prefix: " + e); else if (e.substr(0, r.onlinePrefixLen) === r.onlinePrefix) {
if (e = e.substr(r.onlinePrefixLen), u.battlebinaryPrefix) return u.battlebinaryPrefix + e;
var t = "Trying to use " + e + " when offline. Use bbOfflineUrl instead of bbUrl.";
l.warn(t);
} else e.substr(0, r.offlinePrefixLen) === r.offlinePrefix && (e = "http://battlebinary.battlelog.com/view" + e.substr(r.offlinePrefixLen));
return e;
}, t.styleHook = function(e, n) {
var r, o, a;
return "string" == typeof n.texture && ((o = t.urlHook(n.texture)) !== n.texture && (r || (r = {}), 
r.texture = o), (a = i.textureHandler.getAtlas(e, o, n.textureAtlas)) !== n.textureAtlas && (r || (r = {}), 
r.textureAtlas = a)), "string" == typeof n.texture1 && ((o = t.urlHook(n.texture1)) !== n.texture1 && (r || (r = {}), 
r.texture1 = o), (a = i.textureHandler.getAtlas(e, o, n.texture1Atlas)) !== n.texture1Atlas && (r || (r = {}), 
r.texture1Atlas = a)), "string" == typeof n.texture2 && ((o = t.urlHook(n.texture2)) !== n.texture2 && (r || (r = {}), 
r.texture2 = o), (a = i.textureHandler.getAtlas(e, o, n.texture2Atlas)) !== n.texture2Atlas && (r || (r = {}), 
r.texture2Atlas = a)), "string" == typeof n.texture3 && ((o = t.urlHook(n.texture3)) !== n.texture3 && (r || (r = {}), 
r.texture3 = o), (a = i.textureHandler.getAtlas(e, o, n.texture3Atlas)) !== n.texture3Atlas && (r || (r = {}), 
r.texture3Atlas = a)), t.useNativeTextureFadeIn || (void 0 !== n.textureFadeInTime && (r || (r = {}), 
r.textureFadeInTime = void 0), void 0 !== n.textureFadeInCutoff && (r || (r = {}), 
r.textureFadeInCutoff = void 0), void 0 !== n.textureFadeInEasing && (r || (r = {}), 
r.textureFadeInEasing = void 0)), r ? Object.assign({}, n, r) : n;
};
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1026), o = n(10), i = n(1037), a = n(94), s = n(1038), u = n(1082), l = n(1083), c = n(1084), p = n(24), d = n(1085), f = function() {
return function e() {
this.twinkle = new r.TwinkleInstance(), this.gatewayClient = {
request: p.request,
connect: p.connect,
firstPartyRequest: p.firstPartyRequest,
disconnect: p.disconnect
}, this.events = new c.SpartaEvents(), this.stores = new o.CoreStores(this.twinkle, this.events), 
this.theme = new s.SpartaTheme(this.stores.localeState), this.inputButtonIcons = new i.InputButtonIcons(this.stores.inputRouter), 
this.uiState = a.uiState, this.backgroundContainer = new l.BackgroundContainer(this.uiState, this.stores.layoutVisibilityStore, this.stores.layoutStateStore, new l.BackgroundInfo(this.stores.layoutStateStore.current), new l.BackgroundItem("0", null), new l.BackgroundItem("1", null), new l.BackgroundItem("2", null), new l.BackgroundItem("3", null)), 
this.nativeApi = new u.SpartaNativeApiGenerated(this.twinkle.nativeApi.delegate), 
this.loadingUi = new d.LoadingUi(this.twinkle.frostbite);
};
}();
t.SpartaInstance = f;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(22), o = n(52), i = n(149), a = n(393), s = n(1027), u = n(59), l = n(216), c = n(40), p = n(71), d = n(84), f = n(104), m = n(540), h = n(288), g = n(78), y = n(401), S = n(403), v = n(1028), _ = n(404), b = n(1032), T = n(1033), E = n(1034), C = n(1035), I = n(1036), A = function() {
function e() {
this.focus = r.focusSystem, this.nativeApi = o.nativeApi, this.events = i, this.kvstorage = a, 
this.debugHttp = {
onGet: _.onGet,
onPost: _.onPost
}, this.frostbite = u.frostbite, this.httpRequest = l.httpRequest, this.getBuildInfo = c.getBuildInfo, 
this.buildInfo = c.getBuildInfo(), this.texture = p.textureHandler, this.video = s, 
this.options = d.options, this.tweenBatcher = h.tweenBatcher, this.console = new b.ConsoleHandler(this.buildInfo, this.nativeApi), 
this.reconciler = new v.TwinkleReconciler(this.nativeApi, this.options), this.inputHandler = new I.InputHandler(this.focus, this.nativeApi, this.reconciler, this.buildInfo), 
this.debugUI = new E.DebugUiRenderer(this.nativeApi), this.textureStyleCache = new C.TextureStyleCache(), 
this.bounds = new m.BoundsHandler(this.nativeApi, this.reconciler), this.sound = {
load: f.Sound.load,
stopAll: f.Sound.stopAll
}, this.particles = {
Renderer: S.Renderer,
createEmitter: function() {
return new y.Emitter();
}
}, T.initManifestListeners(this.frostbite, this.nativeApi), this.focus.reconciler = this.reconciler;
}
return e.prototype.loadFont = function(e, t) {
this.options.urlHook && (t = this.options.urlHook(t)), this.nativeApi.loadFont(e, t);
}, e.prototype.render = function(e) {
return v.render(this, e);
}, e.prototype.createTween = function(e, t, n) {
return new g.Tween(e, t, n);
}, e;
}();
t.TwinkleInstance = A;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
for (var r = n(40), o = n(52), i = n(84), a = {}, s = 1, u = 0; u < 5; u++) o.nativeApi.stopVideo(u);
var l = function() {
function e(e, t) {
this.id = e, this.url = t, this.volume = 1, this.audioBus = "", this.loop = !0, 
this.isFullScreen = !1, this.saveCacheOnDisk = !1, this.renderWorld = !0, this.numPlays = 0;
}
return e.prototype.play = function() {
this.isPlaying || (r.getBuildInfo().hasVideoRenderWorld() ? o.nativeApi.playVideoRenderWorld(this.id, this.url, this.loop, this.audioBus, this.saveCacheOnDisk, this.renderWorld) : r.getBuildInfo().hasVideoSaveCacheOnDisk() ? o.nativeApi.playVideoSaveCacheOnDisk(this.id, this.url, this.loop, this.audioBus, this.saveCacheOnDisk) : r.getBuildInfo().hasAudioBus() ? o.nativeApi.playVideoAudioBus(this.id, this.url, this.loop, this.audioBus) : o.nativeApi.playVideo(this.id, this.url, this.loop)), 
o.nativeApi.setVideoVolume(this.id, this.volume), this.applyVolumeFix(), this.numPlays++;
}, Object.defineProperty(e.prototype, "isPlaying", {
get: function() {
return this.numPlays >= 1;
},
enumerable: !0,
configurable: !0
}), e.prototype.stop = function() {
this.isPlaying && (this.numPlays--, 0 === this.numPlays && o.nativeApi.stopVideo(this.id));
}, e.prototype.setVolume = function(e) {
this.volume = e;
}, e.prototype.setAudioBus = function(e) {
this.audioBus = e;
}, e.prototype.applyVolumeFix = function() {
1 === this.volume ? o.nativeApi.setVideoVolume(this.id, .999) : 0 === this.volume && o.nativeApi.setVideoVolume(this.id, .001);
}, e.prototype.setLoop = function(e) {
this.loop = e;
}, e.prototype.setCacheOnDisk = function(e) {
this.saveCacheOnDisk = e;
}, e.prototype.setRenderWorld = function(e) {
this.renderWorld = e;
}, e;
}();
t.Video = l, t.loadVideo = function c(e) {
e = i.options.urlHook(e);
var t = a[e];
if (!t) {
var n = s++;
t = a[e] = new l(n, e);
}
return t;
}, t.stopAll = function p() {
for (var e in a) a[e] && a[e].stop();
o.nativeApi.stopAllVideo();
}, t.stopUrl = function d(e) {
e in a && a[e].stop();
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(541), i = n(289), a = n(257), s = n(1031), u = 0;
var l = function() {
function e(e, t) {
this.nativeApi = e, this.options = t, this.rootId = void 0, this.surfaceByTag = {};
var n = this;
this.renderer = o({
createInstance: function(e, t, r, o, i) {
var a = (t.surfaceDebugName || "") + "_" + function l() {
return u++;
}();
return new s.Surface(n, a, "surface" === e ? t : {});
},
appendInitialChild: function(e, t) {
e.appendChildBeforeMount(t);
},
finalizeInitialChildren: function(e, t, n, r) {
return e.finalizeBeforeMount(t, n, r);
},
getPublicInstance: function(e) {
return e;
},
prepareForCommit: function() {},
prepareUpdate: function(e, t, n, r, o, i) {
return n === r ? null : e.receiveProps(r);
},
resetAfterCommit: function() {
e.applyStateChanges();
},
createTextInstance: function(e, t, n) {
return e;
},
getRootHostContext: function(e) {
return i;
},
getChildHostContext: function(e) {
return e;
},
shouldSetTextContent: function(e, t) {
return !1;
},
scheduleDeferredCallback: function(e, t) {
return 0;
},
cancelDeferredCallback: function(e) {},
now: function() {
return Date.now();
},
isPrimaryRenderer: !0,
supportsMutation: !0,
supportsPersistence: !1,
supportsHydration: !1,
shouldDeprioritizeSubtree: function() {
return !1;
},
appendChild: function(e, t) {
e.appendChild(t);
},
insertBefore: function(e, t, n) {
e.insertBefore(t, n);
},
appendChildToContainer: function(t, r) {
n.rootId = r.tag, e.createRootSurface(r.getObject());
},
insertInContainerBefore: function(e, t, n) {},
removeChild: function(e, t) {
e.removeChild(t);
},
removeChildFromContainer: function(e, t) {
t.finalizeBeforeRemoval();
},
commitUpdate: function(e, t, n, r, o) {
e.commitUpdate(t);
},
commitMount: function(e, t, n) {
e.commitMount();
},
commitTextUpdate: function(e, t, n) {},
resetTextContent: function(e) {}
}), e.batchedUpdates = this.renderer.batchedUpdates, this.root = this.renderer.createContainer("Twinkle");
}
return e.prototype.getSurfaceById = function(e) {
return e ? this.surfaceByTag[e] : void 0;
}, e;
}();
t.TwinkleReconciler = l, t.render = function c(e, t) {
var n = e.reconciler, o = n.renderer, i = n.root;
return o.updateContainer(r.createElement(a.TwinkleContext.Provider, {
value: e
}, t), i, null), o.getPublicRootInstance(i);
}, t.injectDevTools = function p(e) {
var t = e.renderer;
t.injectIntoDevTools({
bundleType: 1,
version: r.version,
rendererPackageName: "twinkle",
findFiberByHostInstance: t.findHostInstance
});
};
}, function(e, t, n) {
/** @license React v16.4.0
 * react-reconciler.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
e.exports = function t(r) {
"use strict";
var o = n(362), i = n(363), a = n(1), s = n(289), u = n(1030);
function l(e) {
for (var t = arguments.length - 1, n = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, r = 0; r < t; r++) n += "&args[]=" + encodeURIComponent(arguments[r + 1]);
i(!1, "Minified React error #" + e + "; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ", n);
}
var c = a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, p = "function" == typeof Symbol && Symbol.for, d = p ? Symbol.for("react.element") : 60103, f = p ? Symbol.for("react.portal") : 60106, m = p ? Symbol.for("react.fragment") : 60107, h = p ? Symbol.for("react.strict_mode") : 60108, g = p ? Symbol.for("react.profiler") : 60114, y = p ? Symbol.for("react.provider") : 60109, S = p ? Symbol.for("react.context") : 60110, v = p ? Symbol.for("react.async_mode") : 60111, _ = p ? Symbol.for("react.forward_ref") : 60112, b = p ? Symbol.for("react.timeout") : 60113, T = "function" == typeof Symbol && Symbol.iterator;
function E(e) {
return null === e || void 0 === e ? null : "function" == typeof (e = T && e[T] || e["@@iterator"]) ? e : null;
}
function C(e) {
var t = e.type;
if ("function" == typeof t) return t.displayName || t.name;
if ("string" == typeof t) return t;
switch (t) {
case v:
return "AsyncMode";

case S:
return "Context.Consumer";

case m:
return "ReactFragment";

case f:
return "ReactPortal";

case g:
return "Profiler(" + e.pendingProps.id + ")";

case y:
return "Context.Provider";

case h:
return "StrictMode";

case b:
return "Timeout";
}
if ("object" == typeof t && null !== t) switch (t.$$typeof) {
case _:
return "" !== (e = t.render.displayName || t.render.name || "") ? "ForwardRef(" + e + ")" : "ForwardRef";
}
return null;
}
function I(e) {
var t = e;
if (e.alternate) for (;t.return; ) t = t.return; else {
if (0 != (2 & t.effectTag)) return 1;
for (;t.return; ) if (0 != (2 & (t = t.return).effectTag)) return 1;
}
return 3 === t.tag ? 2 : 3;
}
function A(e) {
2 !== I(e) && l("188");
}
function w(e) {
var t = e.alternate;
if (!t) return 3 === (t = I(e)) && l("188"), 1 === t ? null : e;
for (var n = e, r = t; ;) {
var o = n.return, i = o ? o.alternate : null;
if (!o || !i) break;
if (o.child === i.child) {
for (var a = o.child; a; ) {
if (a === n) return A(o), e;
if (a === r) return A(o), t;
a = a.sibling;
}
l("188");
}
if (n.return !== r.return) n = o, r = i; else {
a = !1;
for (var s = o.child; s; ) {
if (s === n) {
a = !0, n = o, r = i;
break;
}
if (s === r) {
a = !0, r = o, n = i;
break;
}
s = s.sibling;
}
if (!a) {
for (s = i.child; s; ) {
if (s === n) {
a = !0, n = i, r = o;
break;
}
if (s === r) {
a = !0, r = i, n = o;
break;
}
s = s.sibling;
}
a || l("189");
}
}
n.alternate !== r && l("190");
}
return 3 !== n.tag && l("188"), n.stateNode.current === n ? e : t;
}
function P(e) {
if (!(e = w(e))) return null;
for (var t = e; ;) {
if (5 === t.tag || 6 === t.tag) return t;
if (t.child) t.child.return = t, t = t.child; else {
if (t === e) break;
for (;!t.sibling; ) {
if (!t.return || t.return === e) return null;
t = t.return;
}
t.sibling.return = t.return, t = t.sibling;
}
}
return null;
}
var R = r.getPublicInstance, O = r.getRootHostContext, x = r.getChildHostContext, k = r.prepareForCommit, L = r.resetAfterCommit, M = r.createInstance, D = r.appendInitialChild, N = r.finalizeInitialChildren, F = r.prepareUpdate, G = r.shouldSetTextContent, U = r.shouldDeprioritizeSubtree, B = r.createTextInstance, j = r.scheduleDeferredCallback, H = r.cancelDeferredCallback, z = r.now, V = r.isPrimaryRenderer, W = r.supportsMutation, q = r.supportsPersistence, K = r.supportsHydration, X = r.appendChild, Y = r.appendChildToContainer, J = r.commitTextUpdate, Q = r.commitMount, Z = r.commitUpdate, $ = r.insertBefore, ee = r.insertInContainerBefore, te = r.removeChild, ne = r.removeChildFromContainer, re = r.resetTextContent, oe = r.cloneInstance, ie = r.createContainerChildSet, ae = r.appendChildToContainerChildSet, se = r.finalizeContainerChildren, ue = r.replaceContainerChildren, le = r.canHydrateInstance, ce = r.canHydrateTextInstance, pe = r.getNextHydratableSibling, de = r.getFirstHydratableChild, fe = r.hydrateInstance, me = r.hydrateTextInstance;
function he(e) {
var t = "";
do {
e: switch (e.tag) {
case 0:
case 1:
case 2:
case 5:
var n = e._debugOwner, r = e._debugSource, o = C(e), i = null;
n && (i = C(n)), n = r, o = "\n    in " + (o || "Unknown") + (n ? " (at " + n.fileName.replace(/^.*[\\\/]/, "") + ":" + n.lineNumber + ")" : i ? " (created by " + i + ")" : "");
break e;

default:
o = "";
}
t += o, e = e.return;
} while (e);
return t;
}
new Set();
var ge = [], ye = -1;
function Se(e) {
return {
current: e
};
}
function ve(e) {
0 > ye || (e.current = ge[ye], ge[ye] = null, ye--);
}
function _e(e, t) {
ge[++ye] = e.current, e.current = t;
}
var be = Se(s), Te = Se(!1), Ee = s;
function Ce(e) {
return Ae(e) ? Ee : be.current;
}
function Ie(e, t) {
var n = e.type.contextTypes;
if (!n) return s;
var r = e.stateNode;
if (r && r.__reactInternalMemoizedUnmaskedChildContext === t) return r.__reactInternalMemoizedMaskedChildContext;
var o, i = {};
for (o in n) i[o] = t[o];
return r && ((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = t, 
e.__reactInternalMemoizedMaskedChildContext = i), i;
}
function Ae(e) {
return 2 === e.tag && null != e.type.childContextTypes;
}
function we(e) {
Ae(e) && (ve(Te), ve(be));
}
function Pe(e) {
ve(Te), ve(be);
}
function Re(e, t, n) {
be.current !== s && l("168"), _e(be, t), _e(Te, n);
}
function Oe(e, t) {
var n = e.stateNode, r = e.type.childContextTypes;
if ("function" != typeof n.getChildContext) return t;
for (var i in n = n.getChildContext()) i in r || l("108", C(e) || "Unknown", i);
return o({}, t, n);
}
function xe(e) {
if (!Ae(e)) return !1;
var t = e.stateNode;
return t = t && t.__reactInternalMemoizedMergedChildContext || s, Ee = be.current, 
_e(be, t), _e(Te, Te.current), !0;
}
function ke(e, t) {
var n = e.stateNode;
if (n || l("169"), t) {
var r = Oe(e, Ee);
n.__reactInternalMemoizedMergedChildContext = r, ve(Te), ve(be), _e(be, r);
} else ve(Te);
_e(Te, t);
}
function Le(e, t, n, r) {
this.tag = e, this.key = n, this.sibling = this.child = this.return = this.stateNode = this.type = null, 
this.index = 0, this.ref = null, this.pendingProps = t, this.memoizedState = this.updateQueue = this.memoizedProps = null, 
this.mode = r, this.effectTag = 0, this.lastEffect = this.firstEffect = this.nextEffect = null, 
this.expirationTime = 0, this.alternate = null;
}
function Me(e, t, n) {
var r = e.alternate;
return null === r ? ((r = new Le(e.tag, t, e.key, e.mode)).type = e.type, r.stateNode = e.stateNode, 
r.alternate = e, e.alternate = r) : (r.pendingProps = t, r.effectTag = 0, r.nextEffect = null, 
r.firstEffect = null, r.lastEffect = null), r.expirationTime = n, r.child = e.child, 
r.memoizedProps = e.memoizedProps, r.memoizedState = e.memoizedState, r.updateQueue = e.updateQueue, 
r.sibling = e.sibling, r.index = e.index, r.ref = e.ref, r;
}
function De(e, t, n) {
var r = e.type, o = e.key;
if (e = e.props, "function" == typeof r) var i = r.prototype && r.prototype.isReactComponent ? 2 : 0; else if ("string" == typeof r) i = 5; else switch (r) {
case m:
return Ne(e.children, t, n, o);

case v:
i = 11, t |= 3;
break;

case h:
i = 11, t |= 2;
break;

case g:
return (r = new Le(15, e, o, 4 | t)).type = g, r.expirationTime = n, r;

case b:
i = 16, t |= 2;
break;

default:
e: {
switch ("object" == typeof r && null !== r ? r.$$typeof : null) {
case y:
i = 13;
break e;

case S:
i = 12;
break e;

case _:
i = 14;
break e;

default:
l("130", null == r ? r : typeof r, "");
}
i = void 0;
}
}
return (t = new Le(i, e, o, t)).type = r, t.expirationTime = n, t;
}
function Ne(e, t, n, r) {
return (e = new Le(10, e, r, t)).expirationTime = n, e;
}
function Fe(e, t, n) {
return (e = new Le(6, e, null, t)).expirationTime = n, e;
}
function Ge(e, t, n) {
return (t = new Le(4, null !== e.children ? e.children : [], e.key, t)).expirationTime = n, 
t.stateNode = {
containerInfo: e.containerInfo,
pendingChildren: null,
implementation: e.implementation
}, t;
}
var Ue = null, Be = null;
function je(e) {
return function(t) {
try {
return e(t);
} catch (e) {}
};
}
function He(e) {
"function" == typeof Ue && Ue(e);
}
function ze(e) {
"function" == typeof Be && Be(e);
}
var Ve = !1;
function We(e) {
return {
expirationTime: 0,
baseState: e,
firstUpdate: null,
lastUpdate: null,
firstCapturedUpdate: null,
lastCapturedUpdate: null,
firstEffect: null,
lastEffect: null,
firstCapturedEffect: null,
lastCapturedEffect: null
};
}
function qe(e) {
return {
expirationTime: e.expirationTime,
baseState: e.baseState,
firstUpdate: e.firstUpdate,
lastUpdate: e.lastUpdate,
firstCapturedUpdate: null,
lastCapturedUpdate: null,
firstEffect: null,
lastEffect: null,
firstCapturedEffect: null,
lastCapturedEffect: null
};
}
function Ke(e) {
return {
expirationTime: e,
tag: 0,
payload: null,
callback: null,
next: null,
nextEffect: null
};
}
function Xe(e, t, n) {
null === e.lastUpdate ? e.firstUpdate = e.lastUpdate = t : (e.lastUpdate.next = t, 
e.lastUpdate = t), (0 === e.expirationTime || e.expirationTime > n) && (e.expirationTime = n);
}
function Ye(e, t, n) {
var r = e.alternate;
if (null === r) {
var o = e.updateQueue, i = null;
null === o && (o = e.updateQueue = We(e.memoizedState));
} else o = e.updateQueue, i = r.updateQueue, null === o ? null === i ? (o = e.updateQueue = We(e.memoizedState), 
i = r.updateQueue = We(r.memoizedState)) : o = e.updateQueue = qe(i) : null === i && (i = r.updateQueue = qe(o));
null === i || o === i ? Xe(o, t, n) : null === o.lastUpdate || null === i.lastUpdate ? (Xe(o, t, n), 
Xe(i, t, n)) : (Xe(o, t, n), i.lastUpdate = t);
}
function Je(e, t, n) {
var r = e.updateQueue;
null === (r = null === r ? e.updateQueue = We(e.memoizedState) : Qe(e, r)).lastCapturedUpdate ? r.firstCapturedUpdate = r.lastCapturedUpdate = t : (r.lastCapturedUpdate.next = t, 
r.lastCapturedUpdate = t), (0 === r.expirationTime || r.expirationTime > n) && (r.expirationTime = n);
}
function Qe(e, t) {
var n = e.alternate;
return null !== n && t === n.updateQueue && (t = e.updateQueue = qe(t)), t;
}
function Ze(e, t, n, r, i, a) {
switch (n.tag) {
case 1:
return "function" == typeof (e = n.payload) ? e.call(a, r, i) : e;

case 3:
e.effectTag = -1025 & e.effectTag | 64;

case 0:
if (null === (i = "function" == typeof (e = n.payload) ? e.call(a, r, i) : e) || void 0 === i) break;
return o({}, r, i);

case 2:
Ve = !0;
}
return r;
}
function $e(e, t, n, r, o) {
if (Ve = !1, !(0 === t.expirationTime || t.expirationTime > o)) {
for (var i = (t = Qe(e, t)).baseState, a = null, s = 0, u = t.firstUpdate, l = i; null !== u; ) {
var c = u.expirationTime;
c > o ? (null === a && (a = u, i = l), (0 === s || s > c) && (s = c)) : (l = Ze(e, 0, u, l, n, r), 
null !== u.callback && (e.effectTag |= 32, u.nextEffect = null, null === t.lastEffect ? t.firstEffect = t.lastEffect = u : (t.lastEffect.nextEffect = u, 
t.lastEffect = u))), u = u.next;
}
for (c = null, u = t.firstCapturedUpdate; null !== u; ) {
var p = u.expirationTime;
p > o ? (null === c && (c = u, null === a && (i = l)), (0 === s || s > p) && (s = p)) : (l = Ze(e, 0, u, l, n, r), 
null !== u.callback && (e.effectTag |= 32, u.nextEffect = null, null === t.lastCapturedEffect ? t.firstCapturedEffect = t.lastCapturedEffect = u : (t.lastCapturedEffect.nextEffect = u, 
t.lastCapturedEffect = u))), u = u.next;
}
null === a && (t.lastUpdate = null), null === c ? t.lastCapturedUpdate = null : e.effectTag |= 32, 
null === a && null === c && (i = l), t.baseState = i, t.firstUpdate = a, t.firstCapturedUpdate = c, 
t.expirationTime = s, e.memoizedState = l;
}
}
function et(e, t) {
"function" != typeof e && l("191", e), e.call(t);
}
function tt(e, t, n) {
for (null !== t.firstCapturedUpdate && (null !== t.lastUpdate && (t.lastUpdate.next = t.firstCapturedUpdate, 
t.lastUpdate = t.lastCapturedUpdate), t.firstCapturedUpdate = t.lastCapturedUpdate = null), 
e = t.firstEffect, t.firstEffect = t.lastEffect = null; null !== e; ) {
var r = e.callback;
null !== r && (e.callback = null, et(r, n)), e = e.nextEffect;
}
for (e = t.firstCapturedEffect, t.firstCapturedEffect = t.lastCapturedEffect = null; null !== e; ) null !== (t = e.callback) && (e.callback = null, 
et(t, n)), e = e.nextEffect;
}
function nt(e, t) {
return {
value: e,
source: t,
stack: he(t)
};
}
var rt = Se(null), ot = Se(null), it = Se(0);
function at(e) {
var t = e.type._context;
V ? (_e(it, t._changedBits), _e(ot, t._currentValue), _e(rt, e), t._currentValue = e.pendingProps.value, 
t._changedBits = e.stateNode) : (_e(it, t._changedBits2), _e(ot, t._currentValue2), 
_e(rt, e), t._currentValue2 = e.pendingProps.value, t._changedBits2 = e.stateNode);
}
function st(e) {
var t = it.current, n = ot.current;
ve(rt), ve(ot), ve(it), e = e.type._context, V ? (e._currentValue = n, e._changedBits = t) : (e._currentValue2 = n, 
e._changedBits2 = t);
}
var ut = {}, lt = Se(ut), ct = Se(ut), pt = Se(ut);
function dt(e) {
return e === ut && l("174"), e;
}
function ft(e, t) {
_e(pt, t), _e(ct, e), _e(lt, ut), t = O(t), ve(lt), _e(lt, t);
}
function mt(e) {
ve(lt), ve(ct), ve(pt);
}
function ht(e) {
ct.current === e && (ve(lt), ve(ct));
}
function gt(e, t, n) {
var r = e.memoizedState;
r = null === (t = t(n, r)) || void 0 === t ? r : o({}, r, t), e.memoizedState = r, 
null !== (e = e.updateQueue) && 0 === e.expirationTime && (e.baseState = r);
}
var yt = {
isMounted: function(e) {
return !!(e = e._reactInternalFiber) && 2 === I(e);
},
enqueueSetState: function(e, t, n) {
e = e._reactInternalFiber;
var r = xn(), o = Ke(r = Rn(r, e));
o.payload = t, void 0 !== n && null !== n && (o.callback = n), Ye(e, o, r), On(e, r);
},
enqueueReplaceState: function(e, t, n) {
e = e._reactInternalFiber;
var r = xn(), o = Ke(r = Rn(r, e));
o.tag = 1, o.payload = t, void 0 !== n && null !== n && (o.callback = n), Ye(e, o, r), 
On(e, r);
},
enqueueForceUpdate: function(e, t) {
e = e._reactInternalFiber;
var n = xn(), r = Ke(n = Rn(n, e));
r.tag = 2, void 0 !== t && null !== t && (r.callback = t), Ye(e, r, n), On(e, n);
}
};
function St(e, t, n, r, o, i) {
var a = e.stateNode;
return e = e.type, "function" == typeof a.shouldComponentUpdate ? a.shouldComponentUpdate(n, o, i) : !e.prototype || !e.prototype.isPureReactComponent || (!u(t, n) || !u(r, o));
}
function vt(e, t, n, r) {
e = t.state, "function" == typeof t.componentWillReceiveProps && t.componentWillReceiveProps(n, r), 
"function" == typeof t.UNSAFE_componentWillReceiveProps && t.UNSAFE_componentWillReceiveProps(n, r), 
t.state !== e && yt.enqueueReplaceState(t, t.state, null);
}
function _t(e, t) {
var n = e.type, r = e.stateNode, o = e.pendingProps, i = Ce(e);
r.props = o, r.state = e.memoizedState, r.refs = s, r.context = Ie(e, i), null !== (i = e.updateQueue) && ($e(e, i, o, r, t), 
r.state = e.memoizedState), "function" == typeof (i = e.type.getDerivedStateFromProps) && (gt(e, i, o), 
r.state = e.memoizedState), "function" == typeof n.getDerivedStateFromProps || "function" == typeof r.getSnapshotBeforeUpdate || "function" != typeof r.UNSAFE_componentWillMount && "function" != typeof r.componentWillMount || (n = r.state, 
"function" == typeof r.componentWillMount && r.componentWillMount(), "function" == typeof r.UNSAFE_componentWillMount && r.UNSAFE_componentWillMount(), 
n !== r.state && yt.enqueueReplaceState(r, r.state, null), null !== (i = e.updateQueue) && ($e(e, i, o, r, t), 
r.state = e.memoizedState)), "function" == typeof r.componentDidMount && (e.effectTag |= 4);
}
var bt = Array.isArray;
function Tt(e, t, n) {
if (null !== (e = n.ref) && "function" != typeof e && "object" != typeof e) {
if (n._owner) {
var r = void 0;
(n = n._owner) && (2 !== n.tag && l("110"), r = n.stateNode), r || l("147", e);
var o = "" + e;
return null !== t && null !== t.ref && "function" == typeof t.ref && t.ref._stringRef === o ? t.ref : ((t = function(e) {
var t = r.refs === s ? r.refs = {} : r.refs;
null === e ? delete t[o] : t[o] = e;
})._stringRef = o, t);
}
"string" != typeof e && l("148"), n._owner || l("254", e);
}
return e;
}
function Et(e, t) {
"textarea" !== e.type && l("31", "[object Object]" === Object.prototype.toString.call(t) ? "object with keys {" + Object.keys(t).join(", ") + "}" : t, "");
}
function Ct(e) {
function t(t, n) {
if (e) {
var r = t.lastEffect;
null !== r ? (r.nextEffect = n, t.lastEffect = n) : t.firstEffect = t.lastEffect = n, 
n.nextEffect = null, n.effectTag = 8;
}
}
function n(n, r) {
if (!e) return null;
for (;null !== r; ) t(n, r), r = r.sibling;
return null;
}
function r(e, t) {
for (e = new Map(); null !== t; ) null !== t.key ? e.set(t.key, t) : e.set(t.index, t), 
t = t.sibling;
return e;
}
function o(e, t, n) {
return (e = Me(e, t, n)).index = 0, e.sibling = null, e;
}
function i(t, n, r) {
return t.index = r, e ? null !== (r = t.alternate) ? (r = r.index) < n ? (t.effectTag = 2, 
n) : r : (t.effectTag = 2, n) : n;
}
function a(t) {
return e && null === t.alternate && (t.effectTag = 2), t;
}
function s(e, t, n, r) {
return null === t || 6 !== t.tag ? ((t = Fe(n, e.mode, r)).return = e, t) : ((t = o(t, n, r)).return = e, 
t);
}
function u(e, t, n, r) {
return null !== t && t.type === n.type ? ((r = o(t, n.props, r)).ref = Tt(e, t, n), 
r.return = e, r) : ((r = De(n, e.mode, r)).ref = Tt(e, t, n), r.return = e, r);
}
function c(e, t, n, r) {
return null === t || 4 !== t.tag || t.stateNode.containerInfo !== n.containerInfo || t.stateNode.implementation !== n.implementation ? ((t = Ge(n, e.mode, r)).return = e, 
t) : ((t = o(t, n.children || [], r)).return = e, t);
}
function p(e, t, n, r, i) {
return null === t || 10 !== t.tag ? ((t = Ne(n, e.mode, r, i)).return = e, t) : ((t = o(t, n, r)).return = e, 
t);
}
function h(e, t, n) {
if ("string" == typeof t || "number" == typeof t) return (t = Fe("" + t, e.mode, n)).return = e, 
t;
if ("object" == typeof t && null !== t) {
switch (t.$$typeof) {
case d:
return (n = De(t, e.mode, n)).ref = Tt(e, null, t), n.return = e, n;

case f:
return (t = Ge(t, e.mode, n)).return = e, t;
}
if (bt(t) || E(t)) return (t = Ne(t, e.mode, n, null)).return = e, t;
Et(e, t);
}
return null;
}
function g(e, t, n, r) {
var o = null !== t ? t.key : null;
if ("string" == typeof n || "number" == typeof n) return null !== o ? null : s(e, t, "" + n, r);
if ("object" == typeof n && null !== n) {
switch (n.$$typeof) {
case d:
return n.key === o ? n.type === m ? p(e, t, n.props.children, r, o) : u(e, t, n, r) : null;

case f:
return n.key === o ? c(e, t, n, r) : null;
}
if (bt(n) || E(n)) return null !== o ? null : p(e, t, n, r, null);
Et(e, n);
}
return null;
}
function y(e, t, n, r, o) {
if ("string" == typeof r || "number" == typeof r) return s(t, e = e.get(n) || null, "" + r, o);
if ("object" == typeof r && null !== r) {
switch (r.$$typeof) {
case d:
return e = e.get(null === r.key ? n : r.key) || null, r.type === m ? p(t, e, r.props.children, o, r.key) : u(t, e, r, o);

case f:
return c(t, e = e.get(null === r.key ? n : r.key) || null, r, o);
}
if (bt(r) || E(r)) return p(t, e = e.get(n) || null, r, o, null);
Et(t, r);
}
return null;
}
function S(o, a, s, u) {
for (var l = null, c = null, p = a, d = a = 0, f = null; null !== p && d < s.length; d++) {
p.index > d ? (f = p, p = null) : f = p.sibling;
var m = g(o, p, s[d], u);
if (null === m) {
null === p && (p = f);
break;
}
e && p && null === m.alternate && t(o, p), a = i(m, a, d), null === c ? l = m : c.sibling = m, 
c = m, p = f;
}
if (d === s.length) return n(o, p), l;
if (null === p) {
for (;d < s.length; d++) (p = h(o, s[d], u)) && (a = i(p, a, d), null === c ? l = p : c.sibling = p, 
c = p);
return l;
}
for (p = r(o, p); d < s.length; d++) (f = y(p, o, d, s[d], u)) && (e && null !== f.alternate && p.delete(null === f.key ? d : f.key), 
a = i(f, a, d), null === c ? l = f : c.sibling = f, c = f);
return e && p.forEach(function(e) {
return t(o, e);
}), l;
}
function v(o, a, s, u) {
var c = E(s);
"function" != typeof c && l("150"), null == (s = c.call(s)) && l("151");
for (var p = c = null, d = a, f = a = 0, m = null, S = s.next(); null !== d && !S.done; f++, 
S = s.next()) {
d.index > f ? (m = d, d = null) : m = d.sibling;
var v = g(o, d, S.value, u);
if (null === v) {
d || (d = m);
break;
}
e && d && null === v.alternate && t(o, d), a = i(v, a, f), null === p ? c = v : p.sibling = v, 
p = v, d = m;
}
if (S.done) return n(o, d), c;
if (null === d) {
for (;!S.done; f++, S = s.next()) null !== (S = h(o, S.value, u)) && (a = i(S, a, f), 
null === p ? c = S : p.sibling = S, p = S);
return c;
}
for (d = r(o, d); !S.done; f++, S = s.next()) null !== (S = y(d, o, f, S.value, u)) && (e && null !== S.alternate && d.delete(null === S.key ? f : S.key), 
a = i(S, a, f), null === p ? c = S : p.sibling = S, p = S);
return e && d.forEach(function(e) {
return t(o, e);
}), c;
}
return function(e, r, i, s) {
"object" == typeof i && null !== i && i.type === m && null === i.key && (i = i.props.children);
var u = "object" == typeof i && null !== i;
if (u) switch (i.$$typeof) {
case d:
e: {
var c = i.key;
for (u = r; null !== u; ) {
if (u.key === c) {
if (10 === u.tag ? i.type === m : u.type === i.type) {
n(e, u.sibling), (r = o(u, i.type === m ? i.props.children : i.props, s)).ref = Tt(e, u, i), 
r.return = e, e = r;
break e;
}
n(e, u);
break;
}
t(e, u), u = u.sibling;
}
i.type === m ? ((r = Ne(i.props.children, e.mode, s, i.key)).return = e, e = r) : ((s = De(i, e.mode, s)).ref = Tt(e, r, i), 
s.return = e, e = s);
}
return a(e);

case f:
e: {
for (u = i.key; null !== r; ) {
if (r.key === u) {
if (4 === r.tag && r.stateNode.containerInfo === i.containerInfo && r.stateNode.implementation === i.implementation) {
n(e, r.sibling), (r = o(r, i.children || [], s)).return = e, e = r;
break e;
}
n(e, r);
break;
}
t(e, r), r = r.sibling;
}
(r = Ge(i, e.mode, s)).return = e, e = r;
}
return a(e);
}
if ("string" == typeof i || "number" == typeof i) return i = "" + i, null !== r && 6 === r.tag ? (n(e, r.sibling), 
(r = o(r, i, s)).return = e, e = r) : (n(e, r), (r = Fe(i, e.mode, s)).return = e, 
e = r), a(e);
if (bt(i)) return S(e, r, i, s);
if (E(i)) return v(e, r, i, s);
if (u && Et(e, i), void 0 === i) switch (e.tag) {
case 2:
case 1:
l("152", (s = e.type).displayName || s.name || "Component");
}
return n(e, r);
};
}
var It = Ct(!0), At = Ct(!1), wt = null, Pt = null, Rt = !1;
function Ot(e, t) {
var n = new Le(5, null, null, 0);
n.type = "DELETED", n.stateNode = t, n.return = e, n.effectTag = 8, null !== e.lastEffect ? (e.lastEffect.nextEffect = n, 
e.lastEffect = n) : e.firstEffect = e.lastEffect = n;
}
function xt(e, t) {
switch (e.tag) {
case 5:
return null !== (t = le(t, e.type, e.pendingProps)) && (e.stateNode = t, !0);

case 6:
return null !== (t = ce(t, e.pendingProps)) && (e.stateNode = t, !0);

default:
return !1;
}
}
function kt(e) {
if (Rt) {
var t = Pt;
if (t) {
var n = t;
if (!xt(e, t)) {
if (!(t = pe(n)) || !xt(e, t)) return e.effectTag |= 2, Rt = !1, void (wt = e);
Ot(wt, n);
}
wt = e, Pt = de(t);
} else e.effectTag |= 2, Rt = !1, wt = e;
}
}
function Lt(e) {
for (e = e.return; null !== e && 5 !== e.tag && 3 !== e.tag; ) e = e.return;
wt = e;
}
function Mt(e) {
if (!K || e !== wt) return !1;
if (!Rt) return Lt(e), Rt = !0, !1;
var t = e.type;
if (5 !== e.tag || "head" !== t && "body" !== t && !G(t, e.memoizedProps)) for (t = Pt; t; ) Ot(e, t), 
t = pe(t);
return Lt(e), Pt = wt ? pe(e.stateNode) : null, !0;
}
function Dt() {
K && (Pt = wt = null, Rt = !1);
}
function Nt(e, t, n) {
Ft(e, t, n, t.expirationTime);
}
function Ft(e, t, n, r) {
t.child = null === e ? At(t, null, n, r) : It(t, e.child, n, r);
}
function Gt(e, t) {
var n = t.ref;
(null === e && null !== n || null !== e && e.ref !== n) && (t.effectTag |= 128);
}
function Ut(e, t, n, r, o) {
Gt(e, t);
var i = 0 != (64 & t.effectTag);
if (!n && !i) return r && ke(t, !1), Ht(e, t);
n = t.stateNode, c.current = t;
var a = i ? null : n.render();
return t.effectTag |= 1, i && (Ft(e, t, null, o), t.child = null), Ft(e, t, a, o), 
t.memoizedState = n.state, t.memoizedProps = n.props, r && ke(t, !0), t.child;
}
function Bt(e) {
var t = e.stateNode;
t.pendingContext ? Re(0, t.pendingContext, t.pendingContext !== t.context) : t.context && Re(0, t.context, !1), 
ft(e, t.containerInfo);
}
function jt(e, t, n, r) {
var o = e.child;
for (null !== o && (o.return = e); null !== o; ) {
switch (o.tag) {
case 12:
var i = 0 | o.stateNode;
if (o.type === t && 0 != (i & n)) {
for (i = o; null !== i; ) {
var a = i.alternate;
if (0 === i.expirationTime || i.expirationTime > r) i.expirationTime = r, null !== a && (0 === a.expirationTime || a.expirationTime > r) && (a.expirationTime = r); else {
if (null === a || !(0 === a.expirationTime || a.expirationTime > r)) break;
a.expirationTime = r;
}
i = i.return;
}
i = null;
} else i = o.child;
break;

case 13:
i = o.type === e.type ? null : o.child;
break;

default:
i = o.child;
}
if (null !== i) i.return = o; else for (i = o; null !== i; ) {
if (i === e) {
i = null;
break;
}
if (null !== (o = i.sibling)) {
o.return = i.return, i = o;
break;
}
i = i.return;
}
o = i;
}
}
function Ht(e, t) {
if (null !== e && t.child !== e.child && l("153"), null !== t.child) {
var n = Me(e = t.child, e.pendingProps, e.expirationTime);
for (t.child = n, n.return = t; null !== e.sibling; ) e = e.sibling, (n = n.sibling = Me(e, e.pendingProps, e.expirationTime)).return = t;
n.sibling = null;
}
return t.child;
}
function zt(e, t, n) {
if (0 === t.expirationTime || t.expirationTime > n) {
switch (t.tag) {
case 3:
Bt(t);
break;

case 2:
xe(t);
break;

case 4:
ft(t, t.stateNode.containerInfo);
break;

case 13:
at(t);
}
return null;
}
switch (t.tag) {
case 0:
null !== e && l("155");
var r = t.type, o = t.pendingProps, i = Ce(t);
return r = r(o, i = Ie(t, i)), t.effectTag |= 1, "object" == typeof r && null !== r && "function" == typeof r.render && void 0 === r.$$typeof ? (i = t.type, 
t.tag = 2, t.memoizedState = null !== r.state && void 0 !== r.state ? r.state : null, 
"function" == typeof (i = i.getDerivedStateFromProps) && gt(t, i, o), o = xe(t), 
r.updater = yt, t.stateNode = r, r._reactInternalFiber = t, _t(t, n), e = Ut(e, t, !0, o, n)) : (t.tag = 1, 
Nt(e, t, r), t.memoizedProps = o, e = t.child), e;

case 1:
return o = t.type, n = t.pendingProps, Te.current || t.memoizedProps !== n ? (o = o(n, r = Ie(t, r = Ce(t))), 
t.effectTag |= 1, Nt(e, t, o), t.memoizedProps = n, e = t.child) : e = Ht(e, t), 
e;

case 2:
if (o = xe(t), null === e) if (null === t.stateNode) {
var a = t.pendingProps, u = t.type;
r = Ce(t);
var c = 2 === t.tag && null != t.type.contextTypes;
a = new u(a, i = c ? Ie(t, r) : s), t.memoizedState = null !== a.state && void 0 !== a.state ? a.state : null, 
a.updater = yt, t.stateNode = a, a._reactInternalFiber = t, c && ((c = t.stateNode).__reactInternalMemoizedUnmaskedChildContext = r, 
c.__reactInternalMemoizedMaskedChildContext = i), _t(t, n), r = !0;
} else {
u = t.type, r = t.stateNode, c = t.memoizedProps, i = t.pendingProps, r.props = c;
var p = r.context;
a = Ie(t, a = Ce(t));
var d = u.getDerivedStateFromProps;
(u = "function" == typeof d || "function" == typeof r.getSnapshotBeforeUpdate) || "function" != typeof r.UNSAFE_componentWillReceiveProps && "function" != typeof r.componentWillReceiveProps || (c !== i || p !== a) && vt(t, r, i, a), 
Ve = !1;
var f = t.memoizedState;
p = r.state = f;
var m = t.updateQueue;
null !== m && ($e(t, m, i, r, n), p = t.memoizedState), c !== i || f !== p || Te.current || Ve ? ("function" == typeof d && (gt(t, d, i), 
p = t.memoizedState), (c = Ve || St(t, c, i, f, p, a)) ? (u || "function" != typeof r.UNSAFE_componentWillMount && "function" != typeof r.componentWillMount || ("function" == typeof r.componentWillMount && r.componentWillMount(), 
"function" == typeof r.UNSAFE_componentWillMount && r.UNSAFE_componentWillMount()), 
"function" == typeof r.componentDidMount && (t.effectTag |= 4)) : ("function" == typeof r.componentDidMount && (t.effectTag |= 4), 
t.memoizedProps = i, t.memoizedState = p), r.props = i, r.state = p, r.context = a, 
r = c) : ("function" == typeof r.componentDidMount && (t.effectTag |= 4), r = !1);
} else u = t.type, r = t.stateNode, i = t.memoizedProps, c = t.pendingProps, r.props = i, 
p = r.context, a = Ie(t, a = Ce(t)), (u = "function" == typeof (d = u.getDerivedStateFromProps) || "function" == typeof r.getSnapshotBeforeUpdate) || "function" != typeof r.UNSAFE_componentWillReceiveProps && "function" != typeof r.componentWillReceiveProps || (i !== c || p !== a) && vt(t, r, c, a), 
Ve = !1, p = t.memoizedState, f = r.state = p, null !== (m = t.updateQueue) && ($e(t, m, c, r, n), 
f = t.memoizedState), i !== c || p !== f || Te.current || Ve ? ("function" == typeof d && (gt(t, d, c), 
f = t.memoizedState), (d = Ve || St(t, i, c, p, f, a)) ? (u || "function" != typeof r.UNSAFE_componentWillUpdate && "function" != typeof r.componentWillUpdate || ("function" == typeof r.componentWillUpdate && r.componentWillUpdate(c, f, a), 
"function" == typeof r.UNSAFE_componentWillUpdate && r.UNSAFE_componentWillUpdate(c, f, a)), 
"function" == typeof r.componentDidUpdate && (t.effectTag |= 4), "function" == typeof r.getSnapshotBeforeUpdate && (t.effectTag |= 256)) : ("function" != typeof r.componentDidUpdate || i === e.memoizedProps && p === e.memoizedState || (t.effectTag |= 4), 
"function" != typeof r.getSnapshotBeforeUpdate || i === e.memoizedProps && p === e.memoizedState || (t.effectTag |= 256), 
t.memoizedProps = c, t.memoizedState = f), r.props = c, r.state = f, r.context = a, 
r = d) : ("function" != typeof r.componentDidUpdate || i === e.memoizedProps && p === e.memoizedState || (t.effectTag |= 4), 
"function" != typeof r.getSnapshotBeforeUpdate || i === e.memoizedProps && p === e.memoizedState || (t.effectTag |= 256), 
r = !1);
return Ut(e, t, r, o, n);

case 3:
return Bt(t), null !== (o = t.updateQueue) ? (r = null !== (r = t.memoizedState) ? r.element : null, 
$e(t, o, t.pendingProps, null, n), (o = t.memoizedState.element) === r ? (Dt(), 
e = Ht(e, t)) : (r = t.stateNode, (r = (null === e || null === e.child) && r.hydrate) && (K ? (Pt = de(t.stateNode.containerInfo), 
wt = t, r = Rt = !0) : r = !1), r ? (t.effectTag |= 2, t.child = At(t, null, o, n)) : (Dt(), 
Nt(e, t, o)), e = t.child)) : (Dt(), e = Ht(e, t)), e;

case 5:
return r = dt(pt.current), (o = dt(lt.current)) !== (r = x(o, t.type, r)) && (_e(ct, t), 
_e(lt, r)), null === e && kt(t), o = t.type, c = t.memoizedProps, r = t.pendingProps, 
i = null !== e ? e.memoizedProps : null, Te.current || c !== r || ((c = 1 & t.mode && U(o, r)) && (t.expirationTime = 1073741823), 
c && 1073741823 === n) ? (c = r.children, G(o, r) ? c = null : i && G(o, i) && (t.effectTag |= 16), 
Gt(e, t), 1073741823 !== n && 1 & t.mode && U(o, r) ? (t.expirationTime = 1073741823, 
t.memoizedProps = r, e = null) : (Nt(e, t, c), t.memoizedProps = r, e = t.child)) : e = Ht(e, t), 
e;

case 6:
return null === e && kt(t), t.memoizedProps = t.pendingProps, null;

case 16:
return null;

case 4:
return ft(t, t.stateNode.containerInfo), o = t.pendingProps, Te.current || t.memoizedProps !== o ? (null === e ? t.child = It(t, null, o, n) : Nt(e, t, o), 
t.memoizedProps = o, e = t.child) : e = Ht(e, t), e;

case 14:
return o = t.type.render, n = t.pendingProps, r = t.ref, Te.current || t.memoizedProps !== n || r !== (null !== e ? e.ref : null) ? (Nt(e, t, o = o(n, r)), 
t.memoizedProps = n, e = t.child) : e = Ht(e, t), e;

case 10:
return n = t.pendingProps, Te.current || t.memoizedProps !== n ? (Nt(e, t, n), t.memoizedProps = n, 
e = t.child) : e = Ht(e, t), e;

case 11:
return n = t.pendingProps.children, Te.current || null !== n && t.memoizedProps !== n ? (Nt(e, t, n), 
t.memoizedProps = n, e = t.child) : e = Ht(e, t), e;

case 15:
return n = t.pendingProps, t.memoizedProps === n ? e = Ht(e, t) : (Nt(e, t, n.children), 
t.memoizedProps = n, e = t.child), e;

case 13:
return function h(e, t, n) {
var r = t.type._context, o = t.pendingProps, i = t.memoizedProps, a = !0;
if (Te.current) a = !1; else if (i === o) return t.stateNode = 0, at(t), Ht(e, t);
var s = o.value;
if (t.memoizedProps = o, null === i) s = 1073741823; else if (i.value === o.value) {
if (i.children === o.children && a) return t.stateNode = 0, at(t), Ht(e, t);
s = 0;
} else {
var u = i.value;
if (u === s && (0 !== u || 1 / u == 1 / s) || u != u && s != s) {
if (i.children === o.children && a) return t.stateNode = 0, at(t), Ht(e, t);
s = 0;
} else if (s = "function" == typeof r._calculateChangedBits ? r._calculateChangedBits(u, s) : 1073741823, 
0 == (s |= 0)) {
if (i.children === o.children && a) return t.stateNode = 0, at(t), Ht(e, t);
} else jt(t, r, s, n);
}
return t.stateNode = s, at(t), Nt(e, t, o.children), t.child;
}(e, t, n);

case 12:
e: if (r = t.type, i = t.pendingProps, c = t.memoizedProps, o = V ? r._currentValue : r._currentValue2, 
a = V ? r._changedBits : r._changedBits2, Te.current || 0 !== a || c !== i) {
if (t.memoizedProps = i, void 0 !== (u = i.unstable_observedBits) && null !== u || (u = 1073741823), 
t.stateNode = u, 0 != (a & u)) jt(t, r, a, n); else if (c === i) {
e = Ht(e, t);
break e;
}
n = (n = i.children)(o), t.effectTag |= 1, Nt(e, t, n), e = t.child;
} else e = Ht(e, t);
return e;

default:
l("156");
}
}
function Vt(e) {
e.effectTag |= 4;
}
function Wt(e, t) {
for (var n = t.child; null !== n; ) {
if (5 === n.tag || 6 === n.tag) D(e, n.stateNode); else if (4 !== n.tag && null !== n.child) {
n.child.return = n, n = n.child;
continue;
}
if (n === t) break;
for (;null === n.sibling; ) {
if (null === n.return || n.return === t) return;
n = n.return;
}
n.sibling.return = n.return, n = n.sibling;
}
}
var qt = void 0, Kt = void 0, Xt = void 0;
function Yt(e, t) {
var n = t.pendingProps;
switch (t.tag) {
case 1:
return null;

case 2:
return we(t), null;

case 3:
return mt(), Pe(), (n = t.stateNode).pendingContext && (n.context = n.pendingContext, 
n.pendingContext = null), null !== e && null !== e.child || (Mt(t), t.effectTag &= -3), 
qt(t), null;

case 5:
ht(t);
var r = dt(pt.current), o = t.type;
if (null !== e && null != t.stateNode) {
var i = e.memoizedProps, a = t.stateNode, s = dt(lt.current);
a = F(a, o, i, n, r, s), Kt(e, t, a, o, i, n, r, s), e.ref !== t.ref && (t.effectTag |= 128);
} else {
if (!n) return null === t.stateNode && l("166"), null;
e = dt(lt.current), Mt(t) ? (K || l("175"), n = fe(t.stateNode, t.type, t.memoizedProps, r, e, t), 
t.updateQueue = n, null !== n && Vt(t)) : (Wt(i = M(o, n, r, e, t), t), N(i, o, n, r, e) && Vt(t), 
t.stateNode = i), null !== t.ref && (t.effectTag |= 128);
}
return null;

case 6:
if (e && null != t.stateNode) Xt(e, t, e.memoizedProps, n); else {
if ("string" != typeof n) return null === t.stateNode && l("166"), null;
r = dt(pt.current), o = dt(lt.current), Mt(t) ? (K || l("176"), me(t.stateNode, t.memoizedProps, t) && Vt(t)) : t.stateNode = B(n, r, o, t);
}
return null;

case 14:
case 16:
case 10:
case 11:
case 15:
return null;

case 4:
return mt(), qt(t), null;

case 13:
return st(t), null;

case 12:
return null;

case 0:
l("167");

default:
l("156");
}
}
function Jt(e, t) {
var n = t.source;
null === t.stack && null !== n && he(n), null !== n && C(n), t = t.value, null !== e && 2 === e.tag && C(e);
try {
t && t.suppressReactErrorLogging || console.error(t);
} catch (e) {
e && e.suppressReactErrorLogging || console.error(e);
}
}
function Qt(e) {
var t = e.ref;
if (null !== t) if ("function" == typeof t) try {
t(null);
} catch (t) {
Pn(e, t);
} else t.current = null;
}
function Zt(e) {
switch (ze(e), e.tag) {
case 2:
Qt(e);
var t = e.stateNode;
if ("function" == typeof t.componentWillUnmount) try {
t.props = e.memoizedProps, t.state = e.memoizedState, t.componentWillUnmount();
} catch (t) {
Pn(e, t);
}
break;

case 5:
Qt(e);
break;

case 4:
W ? nn(e) : q && q && (e = e.stateNode.containerInfo, t = ie(e), ue(e, t));
}
}
function $t(e) {
for (var t = e; ;) if (Zt(t), null === t.child || W && 4 === t.tag) {
if (t === e) break;
for (;null === t.sibling; ) {
if (null === t.return || t.return === e) return;
t = t.return;
}
t.sibling.return = t.return, t = t.sibling;
} else t.child.return = t, t = t.child;
}
function en(e) {
return 5 === e.tag || 3 === e.tag || 4 === e.tag;
}
function tn(e) {
if (W) {
e: {
for (var t = e.return; null !== t; ) {
if (en(t)) {
var n = t;
break e;
}
t = t.return;
}
l("160"), n = void 0;
}
var r = t = void 0;
switch (n.tag) {
case 5:
t = n.stateNode, r = !1;
break;

case 3:
case 4:
t = n.stateNode.containerInfo, r = !0;
break;

default:
l("161");
}
16 & n.effectTag && (re(t), n.effectTag &= -17);
e: t: for (n = e; ;) {
for (;null === n.sibling; ) {
if (null === n.return || en(n.return)) {
n = null;
break e;
}
n = n.return;
}
for (n.sibling.return = n.return, n = n.sibling; 5 !== n.tag && 6 !== n.tag; ) {
if (2 & n.effectTag) continue t;
if (null === n.child || 4 === n.tag) continue t;
n.child.return = n, n = n.child;
}
if (!(2 & n.effectTag)) {
n = n.stateNode;
break e;
}
}
for (var o = e; ;) {
if (5 === o.tag || 6 === o.tag) n ? r ? ee(t, o.stateNode, n) : $(t, o.stateNode, n) : r ? Y(t, o.stateNode) : X(t, o.stateNode); else if (4 !== o.tag && null !== o.child) {
o.child.return = o, o = o.child;
continue;
}
if (o === e) break;
for (;null === o.sibling; ) {
if (null === o.return || o.return === e) return;
o = o.return;
}
o.sibling.return = o.return, o = o.sibling;
}
}
}
function nn(e) {
for (var t = e, n = !1, r = void 0, o = void 0; ;) {
if (!n) {
n = t.return;
e: for (;;) {
switch (null === n && l("160"), n.tag) {
case 5:
r = n.stateNode, o = !1;
break e;

case 3:
case 4:
r = n.stateNode.containerInfo, o = !0;
break e;
}
n = n.return;
}
n = !0;
}
if (5 === t.tag || 6 === t.tag) $t(t), o ? ne(r, t.stateNode) : te(r, t.stateNode); else if (4 === t.tag ? r = t.stateNode.containerInfo : Zt(t), 
null !== t.child) {
t.child.return = t, t = t.child;
continue;
}
if (t === e) break;
for (;null === t.sibling; ) {
if (null === t.return || t.return === e) return;
4 === (t = t.return).tag && (n = !1);
}
t.sibling.return = t.return, t = t.sibling;
}
}
function rn(e, t) {
if (W) switch (t.tag) {
case 2:
break;

case 5:
var n = t.stateNode;
if (null != n) {
var r = t.memoizedProps;
e = null !== e ? e.memoizedProps : r;
var o = t.type, i = t.updateQueue;
t.updateQueue = null, null !== i && Z(n, i, o, e, r, t);
}
break;

case 6:
null === t.stateNode && l("162"), n = t.memoizedProps, J(t.stateNode, null !== e ? e.memoizedProps : n, n);
break;

case 3:
case 15:
case 16:
break;

default:
l("163");
} else if (q) switch (t.tag) {
case 2:
case 5:
case 6:
break;

case 3:
case 4:
t = t.stateNode, ue(t.containerInfo, t.pendingChildren);
break;

default:
l("163");
}
}
function on(e, t, n) {
(n = Ke(n)).tag = 3, n.payload = {
element: null
};
var r = t.value;
return n.callback = function() {
ur(r), Jt(e, t);
}, n;
}
function an(e, t, n) {
(n = Ke(n)).tag = 3;
var r = e.stateNode;
return null !== r && "function" == typeof r.componentDidCatch && (n.callback = function() {
null === En ? En = new Set([ this ]) : En.add(this);
var n = t.value, r = t.stack;
Jt(e, t), this.componentDidCatch(n, {
componentStack: null !== r ? r : ""
});
}), n;
}
function sn(e, t, n, r, o, i) {
n.effectTag |= 512, n.firstEffect = n.lastEffect = null, r = nt(r, n), e = t;
do {
switch (e.tag) {
case 3:
return e.effectTag |= 1024, void Je(e, r = on(e, r, i), i);

case 2:
if (t = r, n = e.stateNode, 0 == (64 & e.effectTag) && null !== n && "function" == typeof n.componentDidCatch && (null === En || !En.has(n))) return e.effectTag |= 1024, 
void Je(e, r = an(e, t, i), i);
}
e = e.return;
} while (null !== e);
}
function un(e) {
switch (e.tag) {
case 2:
we(e);
var t = e.effectTag;
return 1024 & t ? (e.effectTag = -1025 & t | 64, e) : null;

case 3:
return mt(), Pe(), 1024 & (t = e.effectTag) ? (e.effectTag = -1025 & t | 64, e) : null;

case 5:
return ht(e), null;

case 16:
return 1024 & (t = e.effectTag) ? (e.effectTag = -1025 & t | 64, e) : null;

case 4:
return mt(), null;

case 13:
return st(e), null;

default:
return null;
}
}
W ? (qt = function() {}, Kt = function(e, t, n) {
(t.updateQueue = n) && Vt(t);
}, Xt = function(e, t, n, r) {
n !== r && Vt(t);
}) : q ? (qt = function(e) {
var t = e.stateNode;
if (null !== e.firstEffect) {
var n = t.containerInfo, r = ie(n);
e: for (var o = e.child; null !== o; ) {
if (5 === o.tag || 6 === o.tag) ae(r, o.stateNode); else if (4 !== o.tag && null !== o.child) {
o.child.return = o, o = o.child;
continue;
}
if (o === e) break e;
for (;null === o.sibling; ) {
if (null === o.return || o.return === e) break e;
o = o.return;
}
o.sibling.return = o.return, o = o.sibling;
}
t.pendingChildren = r, Vt(e), se(n, r);
}
}, Kt = function(e, t, n, r, o, i, a, s) {
var u = null === t.firstEffect;
e = e.stateNode, u && null === n ? t.stateNode = e : (n = oe(e, n, r, o, i, t, u, t.stateNode), 
N(n, r, i, a, s) && Vt(t), t.stateNode = n, u ? Vt(t) : Wt(n, t));
}, Xt = function(e, t, n, r) {
n !== r && (e = dt(pt.current), n = dt(lt.current), t.stateNode = B(r, e, n, t), 
Vt(t));
}) : (qt = function() {}, Kt = function() {}, Xt = function() {});
var ln = z(), cn = 2, pn = ln, dn = 0, fn = 0, mn = !1, hn = null, gn = null, yn = 0, Sn = -1, vn = !1, _n = null, bn = !1, Tn = !1, En = null;
function Cn() {
if (null !== hn) for (var e = hn.return; null !== e; ) {
var t = e;
switch (t.tag) {
case 2:
we(t);
break;

case 3:
mt(), Pe();
break;

case 5:
ht(t);
break;

case 4:
mt();
break;

case 13:
st(t);
}
e = e.return;
}
gn = null, yn = 0, Sn = -1, vn = !1, hn = null, Tn = !1;
}
function In(e) {
for (;;) {
var t = e.alternate, n = e.return, r = e.sibling;
if (0 == (512 & e.effectTag)) {
t = Yt(t, e);
var o = e;
if (1073741823 === yn || 1073741823 !== o.expirationTime) {
var i = 0;
switch (o.tag) {
case 3:
case 2:
var a = o.updateQueue;
null !== a && (i = a.expirationTime);
}
for (a = o.child; null !== a; ) 0 !== a.expirationTime && (0 === i || i > a.expirationTime) && (i = a.expirationTime), 
a = a.sibling;
o.expirationTime = i;
}
if (null !== t) return t;
if (null !== n && 0 == (512 & n.effectTag) && (null === n.firstEffect && (n.firstEffect = e.firstEffect), 
null !== e.lastEffect && (null !== n.lastEffect && (n.lastEffect.nextEffect = e.firstEffect), 
n.lastEffect = e.lastEffect), 1 < e.effectTag && (null !== n.lastEffect ? n.lastEffect.nextEffect = e : n.firstEffect = e, 
n.lastEffect = e)), null !== r) return r;
if (null === n) {
Tn = !0;
break;
}
e = n;
} else {
if (null !== (e = un(e))) return e.effectTag &= 511, e;
if (null !== n && (n.firstEffect = n.lastEffect = null, n.effectTag |= 512), null !== r) return r;
if (null === n) break;
e = n;
}
}
return null;
}
function An(e) {
var t = zt(e.alternate, e, yn);
return null === t && (t = In(e)), c.current = null, t;
}
function wn(e, t, n) {
mn && l("243"), mn = !0, t === yn && e === gn && null !== hn || (Cn(), yn = t, Sn = -1, 
hn = Me((gn = e).current, null, yn), e.pendingCommitExpirationTime = 0);
var r = !1;
for (vn = !n || yn <= cn; ;) {
try {
if (n) for (;null !== hn && !sr(); ) hn = An(hn); else for (;null !== hn; ) hn = An(hn);
} catch (t) {
if (null === hn) r = !0, ur(t); else {
null === hn && l("271");
var o = (n = hn).return;
if (null === o) {
r = !0, ur(t);
break;
}
sn(e, o, n, t, 0, yn), hn = In(n);
}
}
break;
}
if (mn = !1, r) return null;
if (null === hn) {
if (Tn) return e.pendingCommitExpirationTime = t, e.current.alternate;
vn && l("262"), 0 <= Sn && setTimeout(function() {
var t = e.current.expirationTime;
0 !== t && (0 === e.remainingExpirationTime || e.remainingExpirationTime < t) && $n(e, t);
}, Sn), function i(e) {
null === Gn && l("246"), Gn.remainingExpirationTime = e;
}(e.current.expirationTime);
}
return null;
}
function Pn(e, t) {
var n;
e: {
for (mn && !bn && l("263"), n = e.return; null !== n; ) {
switch (n.tag) {
case 2:
var r = n.stateNode;
if ("function" == typeof n.type.getDerivedStateFromCatch || "function" == typeof r.componentDidCatch && (null === En || !En.has(r))) {
Ye(n, e = an(n, e = nt(t, e), 1), 1), On(n, 1), n = void 0;
break e;
}
break;

case 3:
Ye(n, e = on(n, e = nt(t, e), 1), 1), On(n, 1), n = void 0;
break e;
}
n = n.return;
}
3 === e.tag && (Ye(e, n = on(e, n = nt(t, e), 1), 1), On(e, 1)), n = void 0;
}
return n;
}
function Rn(e, t) {
return e = 0 !== fn ? fn : mn ? bn ? 1 : yn : 1 & t.mode ? Kn ? 2 + 10 * (1 + ((e - 2 + 15) / 10 | 0)) : 2 + 25 * (1 + ((e - 2 + 500) / 25 | 0)) : 1, 
Kn && (0 === Bn || e > Bn) && (Bn = e), e;
}
function On(e, t) {
for (;null !== e; ) {
if ((0 === e.expirationTime || e.expirationTime > t) && (e.expirationTime = t), 
null !== e.alternate && (0 === e.alternate.expirationTime || e.alternate.expirationTime > t) && (e.alternate.expirationTime = t), 
null === e.return) {
if (3 !== e.tag) break;
var n = e.stateNode;
!mn && 0 !== yn && t < yn && Cn();
var r = n.current.expirationTime;
mn && !bn && gn === n || $n(n, r), Jn > Yn && l("185");
}
e = e.return;
}
}
function xn() {
return pn = z() - ln, cn = 2 + (pn / 10 | 0);
}
function kn(e, t, n, r, o) {
var i = fn;
fn = 1;
try {
return e(t, n, r, o);
} finally {
fn = i;
}
}
var Ln = null, Mn = null, Dn = 0, Nn = -1, Fn = !1, Gn = null, Un = 0, Bn = 0, jn = !1, Hn = !1, zn = null, Vn = null, Wn = !1, qn = !1, Kn = !1, Xn = null, Yn = 1e3, Jn = 0, Qn = 1;
function Zn(e) {
if (0 !== Dn) {
if (e > Dn) return;
H(Nn);
}
var t = z() - ln;
Dn = e, Nn = j(tr, {
timeout: 10 * (e - 2) - t
});
}
function $n(e, t) {
if (null === e.nextScheduledRoot) e.remainingExpirationTime = t, null === Mn ? (Ln = Mn = e, 
e.nextScheduledRoot = e) : (Mn = Mn.nextScheduledRoot = e).nextScheduledRoot = Ln; else {
var n = e.remainingExpirationTime;
(0 === n || t < n) && (e.remainingExpirationTime = t);
}
Fn || (Wn ? qn && (Gn = e, Un = 1, ir(e, 1, !1)) : 1 === t ? nr() : Zn(t));
}
function er() {
var e = 0, t = null;
if (null !== Mn) for (var n = Mn, r = Ln; null !== r; ) {
var o = r.remainingExpirationTime;
if (0 === o) {
if ((null === n || null === Mn) && l("244"), r === r.nextScheduledRoot) {
Ln = Mn = r.nextScheduledRoot = null;
break;
}
if (r === Ln) Ln = o = r.nextScheduledRoot, Mn.nextScheduledRoot = o, r.nextScheduledRoot = null; else {
if (r === Mn) {
(Mn = n).nextScheduledRoot = Ln, r.nextScheduledRoot = null;
break;
}
n.nextScheduledRoot = r.nextScheduledRoot, r.nextScheduledRoot = null;
}
r = n.nextScheduledRoot;
} else {
if ((0 === e || o < e) && (e = o, t = r), r === Mn) break;
n = r, r = r.nextScheduledRoot;
}
}
null !== (n = Gn) && n === t && 1 === e ? Jn++ : Jn = 0, Gn = t, Un = e;
}
function tr(e) {
rr(0, !0, e);
}
function nr() {
rr(1, !1, null);
}
function rr(e, t, n) {
if (Vn = n, er(), t) for (;null !== Gn && 0 !== Un && (0 === e || e >= Un) && (!jn || xn() >= Un); ) xn(), 
ir(Gn, Un, !jn), er(); else for (;null !== Gn && 0 !== Un && (0 === e || e >= Un); ) ir(Gn, Un, !1), 
er();
null !== Vn && (Dn = 0, Nn = -1), 0 !== Un && Zn(Un), Vn = null, jn = !1, or();
}
function or() {
if (Jn = 0, null !== Xn) {
var e = Xn;
Xn = null;
for (var t = 0; t < e.length; t++) {
var n = e[t];
try {
n._onComplete();
} catch (e) {
Hn || (Hn = !0, zn = e);
}
}
}
if (Hn) throw e = zn, zn = null, Hn = !1, e;
}
function ir(e, t, n) {
Fn && l("245"), Fn = !0, n ? null !== (n = e.finishedWork) ? ar(e, n, t) : (e.finishedWork = null, 
null !== (n = wn(e, t, !0)) && (sr() ? e.finishedWork = n : ar(e, n, t))) : null !== (n = e.finishedWork) ? ar(e, n, t) : (e.finishedWork = null, 
null !== (n = wn(e, t, !1)) && ar(e, n, t)), Fn = !1;
}
function ar(e, t, n) {
var r = e.firstBatch;
if (null !== r && r._expirationTime <= n && (null === Xn ? Xn = [ r ] : Xn.push(r), 
r._defer)) return e.finishedWork = t, void (e.remainingExpirationTime = 0);
if (e.finishedWork = null, bn = mn = !0, (n = t.stateNode).current === t && l("177"), 
0 === (r = n.pendingCommitExpirationTime) && l("261"), n.pendingCommitExpirationTime = 0, 
xn(), c.current = null, 1 < t.effectTag) if (null !== t.lastEffect) {
t.lastEffect.nextEffect = t;
var o = t.firstEffect;
} else o = t; else o = t.firstEffect;
for (k(n.containerInfo), _n = o; null !== _n; ) {
var i = !1, a = void 0;
try {
for (;null !== _n; ) {
if (256 & _n.effectTag) {
var s = _n.alternate, u = _n;
switch (u.tag) {
case 2:
if (256 & u.effectTag && null !== s) {
var p = s.memoizedProps, d = s.memoizedState, f = u.stateNode;
f.props = u.memoizedProps, f.state = u.memoizedState;
var m = f.getSnapshotBeforeUpdate(p, d);
f.__reactInternalSnapshotBeforeUpdate = m;
}
break;

case 3:
case 5:
case 6:
case 4:
break;

default:
l("163");
}
}
_n = _n.nextEffect;
}
} catch (e) {
i = !0, a = e;
}
i && (null === _n && l("178"), Pn(_n, a), null !== _n && (_n = _n.nextEffect));
}
for (_n = o; null !== _n; ) {
s = !1, p = void 0;
try {
for (;null !== _n; ) {
var h = _n.effectTag;
if (16 & h && W && re(_n.stateNode), 128 & h) {
var g = _n.alternate;
if (null !== g) {
var y = g.ref;
null !== y && ("function" == typeof y ? y(null) : y.current = null);
}
}
switch (14 & h) {
case 2:
tn(_n), _n.effectTag &= -3;
break;

case 6:
tn(_n), _n.effectTag &= -3, rn(_n.alternate, _n);
break;

case 4:
rn(_n.alternate, _n);
break;

case 8:
d = _n, W ? nn(d) : $t(d), d.return = null, d.child = null, d.alternate && (d.alternate.child = null, 
d.alternate.return = null);
}
_n = _n.nextEffect;
}
} catch (e) {
s = !0, p = e;
}
s && (null === _n && l("178"), Pn(_n, p), null !== _n && (_n = _n.nextEffect));
}
for (L(n.containerInfo), n.current = t, _n = o; null !== _n; ) {
h = !1, g = void 0;
try {
for (y = r; null !== _n; ) {
var S = _n.effectTag;
if (36 & S) {
var v = _n.alternate;
switch (s = y, (o = _n).tag) {
case 2:
var _ = o.stateNode;
if (4 & o.effectTag) if (null === v) _.props = o.memoizedProps, _.state = o.memoizedState, 
_.componentDidMount(); else {
var b = v.memoizedProps, T = v.memoizedState;
_.props = o.memoizedProps, _.state = o.memoizedState, _.componentDidUpdate(b, T, _.__reactInternalSnapshotBeforeUpdate);
}
var E = o.updateQueue;
null !== E && (_.props = o.memoizedProps, _.state = o.memoizedState, tt(o, E, _));
break;

case 3:
var C = o.updateQueue;
if (null !== C) {
if (p = null, null !== o.child) switch (o.child.tag) {
case 5:
p = R(o.child.stateNode);
break;

case 2:
p = o.child.stateNode;
}
tt(o, C, p);
}
break;

case 5:
var I = o.stateNode;
null === v && 4 & o.effectTag && Q(I, o.type, o.memoizedProps, o);
break;

case 6:
case 4:
case 15:
case 16:
break;

default:
l("163");
}
}
if (128 & S) {
o = void 0;
var A = _n.ref;
if (null !== A) {
var w = _n.stateNode;
switch (_n.tag) {
case 5:
o = R(w);
break;

default:
o = w;
}
"function" == typeof A ? A(o) : A.current = o;
}
}
var P = _n.nextEffect;
_n.nextEffect = null, _n = P;
}
} catch (e) {
h = !0, g = e;
}
h && (null === _n && l("178"), Pn(_n, g), null !== _n && (_n = _n.nextEffect));
}
mn = bn = !1, He(t.stateNode), 0 === (t = n.current.expirationTime) && (En = null), 
e.remainingExpirationTime = t;
}
function sr() {
return !(null === Vn || Vn.timeRemaining() > Qn) && (jn = !0);
}
function ur(e) {
null === Gn && l("246"), Gn.remainingExpirationTime = 0, Hn || (Hn = !0, zn = e);
}
function lr(e, t, n, r, o) {
var i = t.current;
if (n) {
var a;
n = n._reactInternalFiber;
e: {
for (2 === I(n) && 2 === n.tag || l("170"), a = n; 3 !== a.tag; ) {
if (Ae(a)) {
a = a.stateNode.__reactInternalMemoizedMergedChildContext;
break e;
}
(a = a.return) || l("171");
}
a = a.stateNode.context;
}
n = Ae(n) ? Oe(n, a) : a;
} else n = s;
return null === t.context ? t.context = n : t.pendingContext = n, t = o, (o = Ke(r)).payload = {
element: e
}, null !== (t = void 0 === t ? null : t) && (o.callback = t), Ye(i, o, r), On(i, r), 
r;
}
var cr = {
updateContainerAtExpirationTime: lr,
createContainer: function(e, t, n) {
return e = {
current: t = new Le(3, null, null, t ? 3 : 0),
containerInfo: e,
pendingChildren: null,
earliestPendingTime: 0,
latestPendingTime: 0,
earliestSuspendedTime: 0,
latestSuspendedTime: 0,
latestPingedTime: 0,
pendingCommitExpirationTime: 0,
finishedWork: null,
context: null,
pendingContext: null,
hydrate: n,
remainingExpirationTime: 0,
firstBatch: null,
nextScheduledRoot: null
}, t.stateNode = e;
},
updateContainer: function(e, t, n, r) {
var o = t.current;
return lr(e, t, n, o = Rn(xn(), o), r);
},
flushRoot: function(e, t) {
Fn && l("253"), Gn = e, Un = t, ir(e, t, !1), nr(), or();
},
requestWork: $n,
computeUniqueAsyncExpiration: function() {
var e = 2 + 25 * (1 + ((xn() - 2 + 500) / 25 | 0));
return e <= dn && (e = dn + 1), dn = e;
},
batchedUpdates: function(e, t) {
var n = Wn;
Wn = !0;
try {
return e(t);
} finally {
(Wn = n) || Fn || nr();
}
},
unbatchedUpdates: function(e, t) {
if (Wn && !qn) {
qn = !0;
try {
return e(t);
} finally {
qn = !1;
}
}
return e(t);
},
deferredUpdates: function(e) {
var t = fn;
fn = 2 + 25 * (1 + ((xn() - 2 + 500) / 25 | 0));
try {
return e();
} finally {
fn = t;
}
},
syncUpdates: kn,
interactiveUpdates: function(e, t, n) {
if (Kn) return e(t, n);
Wn || Fn || 0 === Bn || (rr(Bn, !1, null), Bn = 0);
var r = Kn, o = Wn;
Wn = Kn = !0;
try {
return e(t, n);
} finally {
Kn = r, (Wn = o) || Fn || nr();
}
},
flushInteractiveUpdates: function() {
Fn || 0 === Bn || (rr(Bn, !1, null), Bn = 0);
},
flushControlled: function(e) {
var t = Wn;
Wn = !0;
try {
kn(e);
} finally {
(Wn = t) || Fn || rr(1, !1, null);
}
},
flushSync: function(e, t) {
Fn && l("187");
var n = Wn;
Wn = !0;
try {
return kn(e, t);
} finally {
Wn = n, nr();
}
},
getPublicRootInstance: function(e) {
if (!(e = e.current).child) return null;
switch (e.child.tag) {
case 5:
return R(e.child.stateNode);

default:
return e.child.stateNode;
}
},
findHostInstance: function(e) {
var t = e._reactInternalFiber;
return void 0 === t && ("function" == typeof e.render ? l("188") : l("268", Object.keys(e))), 
null === (e = P(t)) ? null : e.stateNode;
},
findHostInstanceWithNoPortals: function(e) {
return null === (e = function t(e) {
if (!(e = w(e))) return null;
for (var t = e; ;) {
if (5 === t.tag || 6 === t.tag) return t;
if (t.child && 4 !== t.tag) t.child.return = t, t = t.child; else {
if (t === e) break;
for (;!t.sibling; ) {
if (!t.return || t.return === e) return null;
t = t.return;
}
t.sibling.return = t.return, t = t.sibling;
}
}
return null;
}(e)) ? null : e.stateNode;
},
injectIntoDevTools: function(e) {
var t = e.findFiberByHostInstance;
return function n(e) {
if ("undefined" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) return !1;
var t = __REACT_DEVTOOLS_GLOBAL_HOOK__;
if (t.isDisabled || !t.supportsFiber) return !0;
try {
var n = t.inject(e);
Ue = je(function(e) {
return t.onCommitFiberRoot(n, e);
}), Be = je(function(e) {
return t.onCommitFiberUnmount(n, e);
});
} catch (e) {}
return !0;
}(o({}, e, {
findHostInstanceByFiber: function(e) {
return null === (e = P(e)) ? null : e.stateNode;
},
findFiberByHostInstance: function(e) {
return t ? t(e) : null;
}
}));
}
};
e.exports = cr.default ? cr.default : cr;
var pr = e.exports;
return e.exports = t, pr;
};
}, function(e, t, n) {
"use strict";
var r = Object.prototype.hasOwnProperty;
function o(e, t) {
return e === t ? 0 !== e || 0 !== t || 1 / e == 1 / t : e != e && t != t;
}
e.exports = function i(e, t) {
if (o(e, t)) return !0;
if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1;
var n = Object.keys(e), i = Object.keys(t);
if (n.length !== i.length) return !1;
for (var a = 0; a < n.length; a++) if (!r.call(t, n[a]) || !o(e[n[a]], t[n[a]])) return !1;
return !0;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(27), i = n(71), a = n(505), s = n(133), u = n(540), l = function() {
function e(e, t, n) {
this.reconciler = e, this.tag = t, this.props = n, this.children = [], this._primaryTexture = null, 
e.surfaceByTag[t] = this, this._rootNodeID = t, this.parsedProps = this.handleProps(n);
}
return e.prototype.isDescendantOf = function(e) {
for (var t = this.parent; t; ) {
if (t === e) return !0;
t = t.parent;
}
return !1;
}, e.prototype.nativeInsertChildAt = function(e, t, n) {
this.reconciler.nativeApi.updateSurfaceChildren([ n ], [ {
type: o.SurfaceChildOperationType.InsertMarkup,
parentID: e,
markupIndex: 0,
toIndex: t
} ]);
}, e.prototype.nativeMoveChild = function(e, t, n) {
this.reconciler.nativeApi.updateSurfaceChildren([], [ {
type: o.SurfaceChildOperationType.MoveExisting,
parentID: e,
fromIndex: t,
toIndex: n
} ]);
}, e.prototype.nativeRemoveChild = function(e, t) {
this.reconciler.nativeApi.updateSurfaceChildren([], [ {
type: o.SurfaceChildOperationType.RemoveNode,
parentID: e,
fromIndex: t
} ]);
}, e.prototype.handleOnSurfaceId = function(e, t) {
var n = e && e.onSurfaceId, r = t && t.onSurfaceId;
n !== r && ("function" == typeof n && n(null), "function" == typeof r && r(this.tag));
}, e.prototype.getBounds = function() {
return u.rawGetBoundsSync(this.reconciler.nativeApi, this.tag);
}, e.prototype.getSurfaceId = function() {
return this.tag;
}, e.prototype.getChildObjects = function() {
return this.children.map(function(e) {
return e.getObject();
});
}, e.prototype.manualUpdate = function(e) {
this.reconciler.nativeApi.updateSurface(this.tag, e);
}, e.prototype.getObject = function() {
return r.__assign({
id: this.tag
}, this.parsedProps, {
children: this.getChildObjects()
});
}, e.prototype.commitUpdate = function(e) {
this.reconciler.options.useNativeStyles ? this.reconciler.nativeApi.replaceUpdateSurface(this.tag, e) : this.reconciler.nativeApi.updateSurface(this.tag, e);
}, e.prototype.commitMount = function() {
this.handleOnSurfaceId(void 0, this.props);
}, e.prototype.handleProps = function(e) {
var t = {
surfaceId: this.tag,
props: e,
options: this.reconciler.options
}, n = a.prepareSurfaceProps(t);
return this.reconciler.options.useNativeTextureFadeIn || i.textureHandler.update(this, n.props, n.skipFade), 
n.props;
}, e.prototype.receiveProps = function(e) {
this.handleOnSurfaceId(this.props, e);
var t = this.parsedProps;
if (this.props = e, this.parsedProps = this.handleProps(e), this.reconciler.options.useNativeStyles) return this.parsedProps;
var n = {};
return this.reconciler.options.diffProps(t, this.parsedProps, n) ? n : null;
}, e.prototype.finalizeBeforeMount = function(e, t, n) {
return !!t.onSurfaceId;
}, e.prototype.finalizeBeforeRemoval = function() {
this.handleOnSurfaceId(this.props, null), i.textureHandler.unmount(this);
for (var e = 0, t = this.children; e < t.length; e++) {
t[e].finalizeBeforeRemoval();
}
this.children.length = 0, delete this.reconciler.surfaceByTag[this.tag];
}, e.prototype.updateChildren = function() {
this.parent ? this.reconciler.nativeApi.replaceSurface(this.tag, this.getObject()) : (this.reconciler.rootId = this.tag, 
this.reconciler.nativeApi.createRootSurface(this.getObject()));
}, e.prototype.appendChild = function(e) {
var t = this.children.indexOf(e);
t > -1 ? (this.children.splice(t, 1), this.children.push(e), this.nativeMoveChild(this.tag, t, this.children.length - 1)) : (e.parent = this, 
this.children.push(e), this.nativeInsertChildAt(this.tag, this.children.length - 1, e.getObject()));
}, e.prototype.appendChildBeforeMount = function(t) {
t instanceof e ? (t.parent = this, this.children.push(t)) : s.__Logger.error("Unknown child type inside '" + this._rootNodeID + "':", t);
}, e.prototype.insertBefore = function(e, t) {
var n = this.children.indexOf(e);
-1 !== n && this.children.splice(n, 1), e.parent = this;
var r = this.children.indexOf(t);
r > -1 && this.children.splice(r, 0, e), -1 !== n ? this.nativeMoveChild(this.tag, n, r) : this.nativeInsertChildAt(this.tag, r, e.getObject());
}, e.prototype.removeChild = function(t) {
if (t instanceof e) {
t.finalizeBeforeRemoval();
var n = this.children.indexOf(t);
n > -1 && (this.children.splice(n, 1), this.nativeRemoveChild(this.tag, n)), t.parent === this && (t.parent = void 0);
} else s.__Logger.error("Unknown child type inside '" + this._rootNodeID + "':", t);
}, e;
}();
t.Surface = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(116), o = function() {
function e(e, t) {
var n = this;
this.buildInfo = e, this.nativeApi = t, this.commandHandlers = {}, this.onConsoleMessage = function(e, t) {
var r = e.indexOf(" "), o = r >= 1, i = o ? e.substr(0, r) : e, a = o ? e.substr(r + 1) : "", s = n.commandHandlers[i];
s && s.trigger(a, t);
}, this.nativeApi.onConsoleMessage = this.onConsoleMessage;
}
return e.prototype.getCommandHandler = function(e) {
var t = this.commandHandlers[e];
return t || (t = this.commandHandlers[e] = new r.TwinkleTypedEvent2()), t;
}, e.prototype.sendCommand = function(e) {
this.buildInfo.hasConsoleCalls() ? this.nativeApi.sendConsoleCommandSync(e) : console.warn("Cannont send command, native build does not support it");
}, e.prototype.writeToIngameConsole = function(e) {
this.buildInfo.hasConsoleCalls() ? this.nativeApi.writeConsoleOutputSync("ingame", e) : console.warn("Cannont wrote to console, native build does not support it");
}, e.prototype.setSetting = function(e, t) {
this.nativeApi.fbSettingSet(e, t);
}, e;
}();
t.ConsoleHandler = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(149);
t.initManifestListeners = function o(e, t) {
e.registerMessageListener("sparta.manifestBundleDownloadStarted", function(e, t) {
r.onManifestAssetsDownloadStarted.trigger({
manifestVersion: t.version,
numAssets: t.numberOfFiles,
isMandatory: t.isMandatory
});
}), e.registerMessageListener("sparta.manifestBundleDownloadCompletedMessage", function(e, t) {
r.onManifestAssetsDownloadCompleted.trigger({
manifestVersion: t.version
});
}), t.onManifestStatus = function(e, t) {
"newManifest" === e ? r.onManifestDownloaded.trigger({
bundleVersion: t.bundleVersion,
newBundleVersion: t.newBundleVersion,
isMandatory: t.isMandatory
}) : "manifestDownloadUpdate" === e ? r.onManifestDownloadUpdate.trigger({
numAssetsRemaining: t.numberOfRemainingFiles
}) : console.error("Unknown manifest status type: " + e);
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(541), u = n(289), l = function() {
function e(e, t, n, r) {
this.windowId = e, this.nativeApi = t, this.id = n, this.props = r, this.children = [], 
this.update();
}
return e.prototype.update = function() {
this.nativeApi.debugUiCreateOrUpdateElement(this.windowId, this.id, this.props.type || "", this.props.label || "", this.props.s1 || "", this.props.b1 || !1, this.props.i1 || 0, this.props.i2 || 0, this.props.i3 || 0, this.props.f1 || 0, this.props.f2 || 0, this.props.f3 || 0, this.props.vec4 || [ 0, 0, 0, 0 ], this.props.width || 0, this.props.widthInfo || 0, this.children.map(function(e) {
return e.id;
}));
}, e.prototype.appendChildBeforeMount = function(t) {
t instanceof e ? (t.parent = this, this.children.push(t)) : console.warn("Unknown child passed to", this, ":", t);
}, e.prototype.receiveProps = function(e) {
return this.props = e, e;
}, e.prototype.appendChild = function(e) {
var t = this.children.indexOf(e);
t > -1 ? this.children.splice(t, 1) : e.parent = this, this.children.push(e), this.updateChildren();
}, e.prototype.updateChildren = function() {
this.nativeApi.debugUiSetChildIds(this.windowId, this.id, this.children.map(function(e) {
return e.id;
}));
}, e.prototype.onState = function(e) {
this.props.onState && this.props.onState(e);
}, e.prototype.onTrigger = function() {
this.props.onTrigger && this.props.onTrigger();
}, e.prototype.finalizeBeforeRemoval = function() {
this.nativeApi.debugUiDeleteElement(this.windowId, this.id);
}, e.prototype.commitUpdate = function(e) {
this.update();
}, e.prototype.insertInContainerBefore = function(e) {
throw new Error("Not implemented");
}, e.prototype.appendToContainer = function() {
this.nativeApi.debugUiSetWindowRootElement(this.windowId, this.id);
}, e.prototype.removeFromContainer = function() {
throw new Error("Not implemented");
}, e.prototype.insertBefore = function(e, t) {
var n = this.children.indexOf(e);
-1 !== n && this.children.splice(n, 1), e.parent = this;
var r = this.children.indexOf(t);
r > -1 && this.children.splice(r, 0, e), this.updateChildren();
}, e.prototype.removeChild = function(e) {
e.parent === this && (e.parent = void 0);
var t = this.children.indexOf(e);
t > -1 && this.children.splice(t, 1), this.updateChildren(), e.finalizeBeforeRemoval();
}, e;
}();
var c = function(e) {
var t = e.window, n = e.render;
return o.createElement("imgui", {
type: "root",
label: ""
}, o.createElement(a.Observer, null, function() {
return t.isOpen ? n() : null;
}));
}, p = function() {
function e(e, t, n, r, o, i) {
this.id = r, this.name = o, this.nativeApi = i, this.lastElementId = 0, this.isOpen = !1, 
this.elementLookup = {}, i.debugUiCreateWindow(e, t, n, r, o), this.reconciler = function a(e) {
var t = e.nativeApi, n = e.elementLookup;
return s({
createInstance: function(r, o, i, a, s) {
var u = e.allocateElementId();
if ("imgui" !== r) throw new Error("unknown type: " + r);
var c = new l(e.id, t, u, o);
return n[u] = c, c;
},
appendInitialChild: function(e, t) {
e.appendChildBeforeMount(t);
},
finalizeInitialChildren: function(e, t, n, r) {
return !0;
},
getPublicInstance: function(e) {
return e;
},
prepareForCommit: function() {},
prepareUpdate: function(e, t, n, r, o, i) {
return n === r ? null : e.receiveProps(r);
},
resetAfterCommit: function() {},
createTextInstance: function(e, t, n) {
return e;
},
resetTextContent: function(e) {},
getRootHostContext: function(e) {
return u;
},
getChildHostContext: function(e) {
return e;
},
shouldSetTextContent: function(e, t) {
return !1;
},
scheduleDeferredCallback: function(e, t) {
return console.warn("scheduleDeferredCallback not implemented", e, t), 0;
},
cancelDeferredCallback: function(e) {
console.warn("cancelDeferredCallback not implemented", e);
},
now: function() {
return Date.now();
},
isPrimaryRenderer: !1,
supportsMutation: !0,
supportsPersistence: !1,
supportsHydration: !1,
shouldDeprioritizeSubtree: function() {
return !1;
},
appendChild: function(e, t) {
e.appendChild(t);
},
insertBefore: function(e, t, n) {
e.insertBefore(t, n);
},
insertInContainerBefore: function(e, t, n) {
t.insertInContainerBefore(n);
},
appendChildToContainer: function(e, t) {
t.appendToContainer();
},
removeChild: function(e, t) {
e.removeChild(t);
},
removeChildFromContainer: function(e, t) {
t.removeFromContainer(), delete n[t.id];
},
commitUpdate: function(e, t, n, r, o) {
e.commitUpdate(t);
},
commitMount: function(e, t, n) {
e.updateChildren();
},
commitTextUpdate: function(e, t, n) {}
});
}(this), this.root = this.reconciler.createContainer(o);
}
return e.prototype.allocateElementId = function() {
var e = this.lastElementId + 1;
return this.lastElementId = e, e;
}, e.prototype.onState = function(e) {
var t = this.elementLookup[e.elementId];
t ? t.onState(e) : console.error("Cannot find element", e.elementId);
}, e.prototype.setOpen = function(e) {
this.isOpen = e;
}, e.prototype.onTrigger = function(e) {
var t = this.elementLookup[e];
t ? t.onTrigger() : console.error("Cannot find element", e);
}, e.prototype.update = function(e) {
this.reconciler.updateContainer(o.createElement(c, {
window: this,
render: e
}), this.root, null);
}, r.__decorate([ i.observable ], e.prototype, "isOpen", void 0), r.__decorate([ i.action ], e.prototype, "setOpen", null), 
e;
}(), d = function() {
function e(e) {
var t = this;
this.nativeApi = e, this.windowIds = 0, this.actionIds = 0, this.toggleIds = 0, 
this.windows = {}, this.actions = {}, this.toggles = {}, e.onDebugUiEvent = function(e) {
if ("Action" !== e.type) if ("Toggle" !== e.type) {
var n = t.windows[e.windowId];
if (n) switch (e.type) {
case "ElementState":
n.onState(e);
break;

case "ElementTrigger":
n.onTrigger(e.elementId);
break;

case "WindowState":
n.setOpen(e.isOpen);
} else console.error("Cannot find window", e.windowId, "in", t.windows);
} else {
var r = t.toggles[e.toggleId];
r ? r(e.isActive) : console.error("Cannot find toggle", e.toggleId);
} else {
var o = t.actions[e.actionId];
o ? o() : console.error("Cannot find action", e.actionId);
}
};
}
return e.parseLocation = function(e) {
var t = e.split(":");
return {
fileName: t[0],
funcName: "?",
lineNumber: parseInt(t[1] || "0", 10)
};
}, e.prototype.registerAction = function(t, n, r) {
if (this.nativeApi.isCallSupported("debugUiCreateAction")) {
var o = e.parseLocation(t), i = this.actionIds++;
this.actions[i] = r, this.nativeApi.debugUiCreateAction(o.fileName, o.funcName, o.lineNumber, i, n);
}
}, e.prototype.registerToggle = function(t, n, r, o) {
if (this.nativeApi.isCallSupported("debugUiCreateToggle")) {
var i = e.parseLocation(t), a = this.toggleIds++;
this.toggles[a] = o, this.nativeApi.debugUiCreateToggle(i.fileName, i.funcName, i.lineNumber, a, n, r), 
o(r);
}
}, e.prototype.renderWindow = function(t, n, r) {
var o = this;
if (this.nativeApi.isCallSupported("debugUiCreateWindow")) {
var i = Object.keys(this.windows).map(function(e) {
return o.windows[parseInt(e, 10)];
}).find(function(e) {
return e.name === n;
});
if (!i) {
var a = e.parseLocation(t), s = this.windowIds++;
i = new p(a.fileName, a.funcName, a.lineNumber, s, n, this.nativeApi), this.windows[s] = i;
}
i.update(r);
}
}, e;
}();
t.DebugUiRenderer = d;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(5), o = 100, i = function() {
function e(e) {
void 0 === e && (e = o), this.numberOfTexturesToCache = e, this.cachedTextures = [];
}
return e.prototype.get = function(e, t) {
if (t) {
var n = this.getTexture(t);
if (n) return n.styleClass;
var o = r.DynamicStyle.create({
texture: t
}, e);
return this.cachedTextures.push({
texture: t,
styleClass: o
}), this.cachedTextures.length > this.numberOfTexturesToCache && this.cachedTextures.splice(0, this.cachedTextures.length - this.numberOfTexturesToCache), 
o;
}
return r.emptyStyle;
}, e.prototype.getTexture = function(e) {
return this.cachedTextures.find(function(t) {
return t.texture === e;
});
}, e;
}();
t.TextureStyleCache = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(27), i = n(3), a = n(116), s = function() {
function e(e, t, n, r) {
var s = this;
this.nativeApi = t, this.reconciler = n, this.lastMouseDownSurfaceId = "", this.padActive = !1, 
this.padLayout = "unhandled", this.captureOnEventHandler = null, this.captureOnStopHandler = null, 
this.onMouseEventBeforePropagation = new a.TwinkleTypedEvent(), this.onMouseEventAfterPropagation = new a.TwinkleTypedEvent(), 
this.onMouseEventHandled = new a.TwinkleTypedEvent(), this.onInputActionDown = new a.TwinkleTypedEvent3(), 
this.onInputActionUp = new a.TwinkleTypedEvent3(), this.onKeyDown = new a.TwinkleTypedEvent(), 
this.onKeyUp = new a.TwinkleTypedEvent(), this.onPadButtonDown = new a.TwinkleTypedEvent(), 
this.onPadButtonUp = new a.TwinkleTypedEvent(), this.onTypingInput = new a.TwinkleTypedEvent3(), 
this.onInputHotkeyUp = new a.TwinkleTypedEvent3(), this.onInputHotkeyDown = new a.TwinkleTypedEvent3(), 
this.handleMouseMove = function(e, t) {
s.captureOnEventHandler && (e <= 1 && t <= 1 && (e = 960 + 960 * e, t = 1080 - (540 + 540 * t)), 
s.captureOnEventHandler(e, t));
}, this.handleMouseEvents = function(e) {
if (s.captureOnEventHandler) for (var t = 0, n = e; t < n.length; t++) {
if (n[t].event === o.MouseEventType.onMouseUp) {
s.stopCapture(!0);
break;
}
} else (e = e.filter(function(e) {
if (!e.surfaces.length) return !0;
if (e.event === o.MouseEventType.onMouseDown) s.lastMouseDownSurfaceId = e.surfaces[0].surfaceId; else if (e.event === o.MouseEventType.onClick) return e.button === o.MouseButton.Primary && e.surfaces[0].surfaceId === s.lastMouseDownSurfaceId;
return !0;
})).forEach(function(e) {
return s.propagateMouseEvent(e);
});
}, this.mouseAndKeyboardMode = r.isPC, t.isInMouseAndKeyboardMode = i.action(function(e, t) {
s.mouseAndKeyboardMode = e, s.padLayout = t;
}), t.setLastUsedInputMethod = i.action(function(t) {
e.controllerMode = t === o.LastUsedInputMethod.Controller;
}), t.onTypingInput = function(e, t, n) {
s.onTypingInput.trigger(e, t, n);
}, t.onInputActionDown = function(e, t) {
s.onInputActionDown.trigger(e, t, s.padActive);
}, t.onInputActionUp = function(e, t) {
s.onInputActionUp.trigger(e, t, s.padActive);
}, t.onInputHotkeyDown = function(e, t) {
s.onInputHotkeyDown.trigger(e, t, s.padActive);
}, t.onInputHotkeyUp = function(e, t) {
s.onInputHotkeyUp.trigger(e, t, s.padActive);
}, t.onKeyDown = function(e) {
s.onKeyDown.trigger(e);
}, t.onKeyUp = function(e) {
s.onKeyUp.trigger(e);
}, t.onPadButtonDown = function(e) {
s.padActive = !0, s.onPadButtonDown.trigger(e);
}, t.onPadButtonUp = function(e) {
s.onPadButtonUp.trigger(e);
}, t.onMouseMove = this.handleMouseMove, t.onMouseEvents = this.handleMouseEvents;
}
return e.prototype.stopCapture = function(e) {
this.nativeApi.enableMouseMoveSync(!1), this.captureOnEventHandler = null, e && this.captureOnStopHandler && this.captureOnStopHandler(), 
this.captureOnStopHandler = null;
}, e.prototype.captureMouse = function(e, t) {
this.nativeApi.enableMouseMoveSync(!0), this.captureOnEventHandler = e, this.captureOnStopHandler = t;
}, e.prototype.propagateMouseEvent = function(e) {
var t = !0, n = Object.assign(e, {
stopPropagation: function() {
t = !1;
}
});
this.onMouseEventBeforePropagation.trigger(n);
for (var r = 0, i = n.surfaces; r < i.length; r++) {
var a = i[r], s = o.MouseEventType[n.event], u = this.reconciler.getSurfaceById(a.surfaceId), l = u && u.props[s];
if (l && (l(n), this.onMouseEventHandled.trigger(n)), !t) break;
}
t && this.onMouseEventAfterPropagation.trigger(n);
}, r.__decorate([ i.observable ], e.prototype, "mouseAndKeyboardMode", void 0), 
r.__decorate([ i.observable ], e.prototype, "padLayout", void 0), e;
}();
t.InputHandler = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
this.inputRouter = e;
}
return e.prototype.get = function(e) {
return e.inputIcons[this.inputRouter.currentInputType];
}, e;
}();
t.InputButtonIcons = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1039), o = (n(1081), n(382), function() {
function e(e) {
var t = this;
this.localeState = e, this.getTheme = function(e) {
var n = e.__reactInternalMemoizedUnmaskedChildContext;
if (n) {
var r = n.providedTheme;
if (r) return r();
} else 0;
return t.baseTheme;
}, this.baseTheme = new r.BaseTheme("Base", e);
}
return e.prototype.createTheme = function(e, t) {
var n = new r.BaseTheme(e, this.localeState);
return Object.keys(n).forEach(function(e) {
if ("name" !== e && "components" !== e) {
var r = n[e], o = t[e], i = {};
Object.keys(r).forEach(function(e) {
Object.defineProperty(i, e, {
get: function() {
var t = o && o[e];
return void 0 !== t ? t : r[e];
}
});
}), n[e] = i;
}
}), n;
}, e;
}());
t.SpartaTheme = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1040), o = n(1041), i = n(1042), a = n(542), s = n(1043), u = n(1044), l = n(1045), c = n(1046), p = n(1047), d = n(543), f = n(1048), m = n(1049), h = n(1050), g = n(1051), y = n(544), S = n(220), v = n(219), _ = n(1052), b = n(1053), T = n(1054), E = n(1055), C = n(65), I = n(1056), A = n(1057), w = n(545), P = n(17), R = n(1058), O = n(546), x = n(1059), k = n(1060), L = n(547), M = n(1061), D = n(1062), N = n(1063), F = n(405), G = n(1072), U = n(531), B = n(1073), j = n(383), H = n(1074), z = n(1075), V = n(1076), W = n(1077), q = n(1078), K = n(1079), X = n(1080), Y = function() {
function e(e, t) {
this.name = e, this.localeState = t, this.popup = j.PopupStyles, this.footer = g.FooterStyles, 
this.header = h.HeaderStyles, this.baseBox = a.BaseBoxStyles, this.box = p.BoxStyles, 
this.card2 = d.Card2Styles, this.checkbox = F.CheckboxStyles, this.checkmark = G.CheckmarkStyles, 
this.list = s.List2Styles, this.menu = u.MenuStyles, this.button = l.ButtonStyles, 
this.button2 = l.Button2Styles, this.tabMenu = c.TabMenuStyles, this.divider = _.DividerStyles, 
this.template = y.TemplateStyles, this.input = b.InputStyles, this.statsComponents = T.StatsComponentsStyles, 
this.contextMenu = E.ContextMenuStyles, this.notice = C.NoticeStyles, this.gameOffer = I.GameOfferStyles, 
this.subscriptionImage = B.SubscriptionImageStyles, this.inputIcons = A.InputIconStyles, 
this.spinner = P.SpinnerStyles, this.emptyState = P.EmptyStateStyles, this.start = C.StartScreenStyles, 
this.legal = U.LegalStyle, this.serverBrowser = O.ServerBrowserStyle, this.serverDetails = x.ServerDetailsStyle, 
this.serverFilterView = k.ServerFilterViewStyles, this.serverList = L.ServerListStyle, 
this.serverListItem = M.ServerListItemStyle, this.quickFilter = R.QuickFilterStyles, 
this.filterBar = D.FilterBarStyles, this.legacyTemplate = H.TemplateStyle, this.takeover = z.TakeoverStyles, 
this.newsContent = V.NewsContentStyles, this.wwceSupportOverview = W.WwceSupportOverviewStyles, 
this.wwceSupportChannelSelection = q.WwceSupportChannelSelectionStyles, this.wwceSupportCategorySelection = K.WwceSupportCategorySelectionStyles, 
this.wwceSupportCallBack = i.WwceSupportCallBackStyles, this.wwceSupportCallBackConfirmation = o.WwceSupportCallBackConfirmationStyles, 
this.wwceSupportArticleDetail = X.WwceSupportArticleDetailStyles, this.wwceSupportCall = r.WwceSupportCallStyles, 
this.components = {
Pressable: f.DefaultPressable,
HoverSFX: m.DefaultHoverSFX,
SocialOverlay: w.DefaultSocialOverlay,
SocialWidget: w.DefaultSocialWidget,
ComCenter: w.DefaultComCenter,
MapRotationCard: N.DefaultMapRotationCard
}, this.fontConfig = S.defaultFonts;
}
return e.prototype.getFonts = function() {
return this.localeState.gameLocale && this.fontConfig[this.localeState.gameLocale] || v.emptyFontConfig.generic;
}, e;
}();
t.BaseTheme = Y;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WwceSupportCallStyles"), a = function() {
function e() {}
return e.content = i.wrap(function() {
return o.style({
flex: 1,
alignItems: "center",
justifyContent: "center"
}, "bb9bdd21:14:21");
}), e.title = i.wrap(function() {
return o.style({
color: "#FFFFFF",
marginBottom: o.Grid.spacer(2)
}, "bb9bdd21:20:19");
}), e.closeBtn = i.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(6),
width: o.Grid.spacer(35),
height: o.Grid.spacer(7),
color: "#FFFFFF"
}, "bb9bdd21:25:22");
}), e.bodyImage = o.stylefunc(function() {
return o.style({
height: o.Grid.getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 30,
marginTop: 30
}, "bb9bdd21:33:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "bb9bdd21:41:38");
}), e.bodyParagraph = i.wrap(function() {
return o.style({
textLineSpacing: Math.round(1.2 * o.Constants.LINE_HEIGHTS.S),
marginBottom: 20,
textAlign: "justify",
color: "#d3d3d3"
}, "bb9bdd21:47:27");
}), e.list = i.wrap(function() {
return o.style({
marginTop: 30,
marginBottom: 20
}, "bb9bdd21:54:18");
}), e.listItem = i.wrap(function() {
return o.style({
paddingLeft: 30,
marginBottom: 20
}, "bb9bdd21:59:22");
}), e = r.__decorate([ i.style ], e);
}();
t.WwceSupportCallStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WwceSupportCallBackConfirmationStyles"), a = function() {
function e() {}
return e.closeBtn = i.wrap(function() {
return o.style({
marginTop: 8 * o.Grid.GUTTER,
width: 35 * o.Grid.GUTTER,
height: 7 * o.Grid.GUTTER,
color: "#FFFFFF"
}, "34d0cadd:7:22");
}), e.callUsContent = i.wrap(function() {
return o.style({
color: "#D7DADA",
marginTop: o.Constants.isPC ? o.Grid.GUTTER : 0
}, "34d0cadd:13:27");
}), e.title = i.wrap(function() {
return o.style({
color: "#FFFFFF"
}, "34d0cadd:17:19");
}), e.wrapper = i.wrap(function() {
return o.style({
flex: 1,
alignItems: "center",
justifyContent: "center",
height: 80 * o.Grid.GUTTER
}, "34d0cadd:20:21");
}), e = r.__decorate([ i.style ], e);
}();
t.WwceSupportCallBackConfirmationStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WwceSupportCallBackStyles"), a = function() {
function e() {}
return e.submitBtn = i.wrap(function() {
return o.style({
width: 35 * o.Grid.GUTTER,
height: 7 * o.Grid.GUTTER,
color: "#FFFFFF"
}, "447dc623:7:23");
}), e.heading = i.wrap(function() {
return o.style({
color: "#FFFFFF",
marginTop: o.Constants.isPC ? 50 : 10
}, "447dc623:12:21");
}), e.content = i.wrap(function() {
return o.style({
color: "#C7C7C7"
}, "447dc623:16:21");
}), e.inputField = i.wrap(function() {
return o.style({
marginTop: 5.5 * o.Grid.GUTTER,
flexDirection: "row"
}, "447dc623:19:24");
}), e.countryCode = i.wrap(function() {
return o.style({
width: 13.5 * o.Grid.GUTTER,
height: 7 * o.Grid.GUTTER,
alignItems: "center",
justifyContent: "center",
position: "relative",
flexDirection: "row",
left: o.Grid.GUTTER,
top: 13
}, "447dc623:23:25");
}), e.borderStyle = i.wrap(function() {
return o.style({
zOffset: 5,
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2,
texture: o.bbUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
width: 13.5 * o.Grid.GUTTER,
height: 6.5 * o.Grid.GUTTER
}, "447dc623:33:25");
}), e.innerContainer = i.wrap(function() {
return o.style({
alignItems: "center",
justifyContent: "center"
}, "447dc623:41:28");
}), e.countryCodeList = i.wrap(function() {
return o.style({
marginTop: 2 * o.Grid.GUTTER,
width: 40 * o.Grid.GUTTER
}, "447dc623:45:29");
}), e.phoneNumber = i.wrap(function() {
return o.style({
marginLeft: o.Grid.GUTTER,
width: 42 * o.Grid.GUTTER,
height: 7 * o.Grid.GUTTER
}, "447dc623:49:25");
}), e.code = i.wrap(function() {
return o.style({
marginTop: 7 * o.Grid.GUTTER,
color: "#FFFFFF"
}, "447dc623:54:18");
}), e.privacy = i.wrap(function() {
return o.style({
marginTop: 10,
marginLeft: 40,
width: o.Grid.getWidth(13),
color: "#FFFFFF"
}, "447dc623:58:21");
}), e.submitFooter = i.wrap(function() {
return o.style({
flexDirection: "row",
position: "absolute",
bottom: o.Constants.isPC ? o.Grid.getHeight(10) : 0,
left: 0
}, "447dc623:64:26");
}), e.popup = i.wrap(function() {
return o.style({
position: "absolute",
top: o.LayoutBounds.dangerZoneSize.height,
bottom: o.Constants.isPC ? 0 : o.LayoutBounds.dangerZoneSize.height,
left: (o.LayoutBounds.screen.style.width - o.Grid.getWidth(18)) / 2,
right: 0
}, "447dc623:70:19");
}), e = r.__decorate([ i.style ], e);
}();
t.WwceSupportCallBackStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(27), a = o.Template("List2Styles"), s = function() {
function e() {}
var t;
return t = e, e.tweenEasing = o.value(function() {
return i.Easing.Linear;
}, "5d0ab837:19:25"), e.tweenDuration = o.value(function() {
return 1;
}, "5d0ab837:20:27"), e.backgroundColor = o.value(function() {
return "#ffffff00";
}, "5d0ab837:22:29"), e.backgroundActiveColor = o.value(function() {
return "#ffffff1a";
}, "5d0ab837:23:35"), e.backgroundFocusColor = o.value(function() {
return "#ffffffff";
}, "5d0ab837:24:34"), e.backgroundPressedColor = o.value(function() {
return "#ffffffff";
}, "5d0ab837:25:36"), e.backgroundFadedColor = o.value(function() {
return "#ffffff00";
}, "5d0ab837:26:34"), e.backgroundFadedFocusColor = o.value(function() {
return "#ffffffff";
}, "5d0ab837:27:39"), e.overlayColor = o.value(function() {
return "#00000000";
}, "5d0ab837:29:26"), e.overlayActiveColor = o.value(function() {
return "#00000000";
}, "5d0ab837:30:32"), e.overlayFocusColor = o.value(function() {
return "#00000000";
}, "5d0ab837:31:31"), e.overlayPressedColor = o.value(function() {
return "#00000000";
}, "5d0ab837:32:33"), e.overlayFadedColor = o.value(function() {
return "#00000000";
}, "5d0ab837:33:31"), e.overlayFadedFocusColor = o.value(function() {
return "#00000000";
}, "5d0ab837:34:36"), e.foregroundColor = o.value(function() {
return "#ffffff";
}, "5d0ab837:36:29"), e.foregroundActiveColor = o.value(function() {
return "#ffffff";
}, "5d0ab837:37:35"), e.foregroundFocusColor = o.value(function() {
return "#000000";
}, "5d0ab837:38:34"), e.foregroundPressedColor = o.value(function() {
return "#000000";
}, "5d0ab837:39:36"), e.foregroundFadedColor = o.value(function() {
return "#ffffff";
}, "5d0ab837:40:34"), e.foregroundFadedFocusColor = o.value(function() {
return "#ffffff";
}, "5d0ab837:41:39"), e.list = o.wrap(function() {
return o.style({}, "5d0ab837:43:29");
}), e.showSeparator = o.value(function() {
return !0;
}, "5d0ab837:45:27"), e.separator = o.wrap(function() {
return o.style({
height: 1,
backgroundColor: "#ffffff",
opacity: .1
}, "5d0ab837:46:34");
}), e.container = o.multistyle(function(e) {
return o.style({
height: o.Grid.getHeight(7),
flex: 1,
opacity: e ? .5 : 1
}, "5d0ab837:54:54");
}), e.backgroundContainer = o.multistyle5(function(e, n, r, i, a) {
return o.style({
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
backgroundColor: e ? r || i ? t.backgroundFadedFocusColor : t.backgroundFadedColor : a ? t.backgroundPressedColor : r || i ? t.backgroundFocusColor : n ? t.backgroundActiveColor : t.backgroundColor
}, "5d0ab837:63:99");
}), e.backgroundOverlay = o.multistyle5(function(e, n, r, i, a) {
return o.style({
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
backgroundColor: e ? r || i ? t.overlayFadedFocusColor : t.overlayFadedColor : a ? t.overlayPressedColor : r || i ? t.overlayFocusColor : n ? t.overlayActiveColor : t.overlayColor
}, "5d0ab837:85:99");
}), e.activeIndicator = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
width: 2,
backgroundColor: "#ffffff"
}, "5d0ab837:106:40");
}), e.itemContent = o.wrap(function() {
return o.style({
paddingLeft: o.Grid.spacer(1),
paddingRight: o.Grid.spacer(1),
flexDirection: "row",
flex: 1,
alignItems: "center",
justifyContent: "space-between",
zOffset: 1
}, "5d0ab837:117:36");
}), e.headerContent = o.wrap(function() {
return o.style({
paddingRight: o.Grid.spacer(2),
flexDirection: "row",
flex: 1,
alignItems: "center",
zOffset: 1
}, "5d0ab837:129:38");
}), e.headerText = o.wrap(function() {
return o.style({
flex: 1,
whiteSpace: "nowrap",
textAlignForRTL: "left"
}, "5d0ab837:139:35");
}), e.label = o.multistyle2(function(e, t) {
return o.style({
marginLeft: o.Grid.spacer(1),
marginRight: o.Grid.spacer(1),
flex: t,
justifyContent: e ? "flex-end" : void 0
}, "5d0ab837:147:76");
}), e.labelText = a.wrap(function() {
return o.style({
flex: 1,
whiteSpace: "nowrap"
}, "5d0ab837:156:23");
}), e.labelTextColor = o.multistyle5(function(e, n, r, i, a) {
return o.style({
color: e ? r || i ? t.foregroundFadedFocusColor : t.foregroundFadedColor : a ? t.foregroundPressedColor : r || i ? t.foregroundFocusColor : n ? t.foregroundActiveColor : t.foregroundColor
}, "5d0ab837:162:99");
}), e.labelTextDynamicColor = o.stylefunc(function() {
return o.style({}, "5d0ab837:179:14");
}, function(e) {
return o.dynamicStyle({
color: e.faded ? e.focused || e.hovered ? t.foregroundFadedFocusColor : t.foregroundFadedColor : e.pressed ? t.foregroundPressedColor : e.focused || e.hovered ? t.foregroundFocusColor : e.active ? t.foregroundActiveColor : e.color
}, "5d0ab837:187:14");
}), e.icon = o.stylefunc(function() {
return o.style({
textureMode: "contain"
}, "5d0ab837:204:14");
}, function(e) {
return o.dynamicStyle({
width: e.size,
height: e.size,
texture: e.texture
}, "5d0ab837:208:52");
}), e = t = r.__decorate([ a.style ], e);
}();
t.List2Styles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("MenuStyles"), a = function() {
function e() {}
var t;
return t = e, e.tweenDuration = o.value(function() {
return 0;
}, "562cae11:7:27"), e.tweenOptions = o.value(function() {
return {
duration: t.tweenDuration
};
}, "562cae11:8:26"), e.backgroundOpacity = o.value(function() {
return 0;
}, "562cae11:9:31"), e.backgroundFocusOpacity = o.value(function() {
return 1;
}, "562cae11:10:36"), e.textColor = o.value(function() {
return "#ffffff";
}, "562cae11:11:23"), e.textFocusColor = o.value(function() {
return "#000000";
}, "562cae11:12:28"), e.container = o.wrap(function() {
return o.style({}, "562cae11:14:34");
}), e.itemContainer = o.wrap(function() {
return o.style({
zOffset: 1,
padding: [ o.Grid.GUTTER, o.Grid.GUTTER, o.Grid.GUTTER, 2 * o.Grid.GUTTER ]
}, "562cae11:16:38");
}), e.itemBg = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
backgroundColor: "#ffffff",
borderRadius: [ 0, o.Grid.GUTTER / 2, o.Grid.GUTTER / 2, 0 ]
}, "562cae11:23:31");
}), e.itemLabel = o.wrap(function() {
return o.style({
zOffset: 1,
textAlignForRTL: "right"
}, "562cae11:35:34");
}), e.itemLabelType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "562cae11:42:27"), e = t = r.__decorate([ i.style ], e);
}();
t.MenuStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(17), a = o.Template("ButtonStyles"), s = function() {
function e() {}
return e.tweenDuration = o.value(function() {
return 0;
}, "1ca9c853:22:27"), e.backgroundColor = o.value(function() {
return "#ffffff00";
}, "1ca9c853:23:29"), e.backgroundFocusColor = o.value(function() {
return "#ffffffff";
}, "1ca9c853:24:34"), e.backgroundHoverColor = o.value(function() {
return "#ffffffff";
}, "1ca9c853:25:34"), e.backgroundOverlayColor = o.value(function() {
return "#00000000";
}, "1ca9c853:26:36"), e.backgroundOverlayHoverColor = o.value(function() {
return "#00000000";
}, "1ca9c853:27:41"), e.backgroundOverlayFocusColor = o.value(function() {
return "#00000000";
}, "1ca9c853:28:41"), e.boldHoverText = o.value(function() {
return !0;
}, "1ca9c853:29:27"), e.borderGlow = o.value(function() {
return !0;
}, "1ca9c853:30:24"), e.border = o.wrap(function() {
return o.style({
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 5,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
}, "1ca9c853:32:31");
}), e.background = o.wrap(function() {
return o.style({
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 1
}, "1ca9c853:47:35");
}), e.backgroundOverlay = o.wrap(function() {
return o.merge(i.CommonStyles.blendModeAdditive, o.style({
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
backgroundColor: "#00000000",
zOffset: 2
}, "1ca9c853:60:44"));
}), e.button = o.multistyle(function(e) {
return o.style({
zOffset: 0,
justifyContent: "center",
height: o.Grid.getHeight(7),
opacity: e ? .5 : 1
}, "1ca9c853:73:55");
}), e.textContainer = o.multistyle(function(e) {
return o.style({
position: "absolute",
zOffset: 3,
bottom: 0,
left: 0,
right: 0,
top: 0,
alignItems: "center",
justifyContent: "center",
padding: e ? [ 2 * o.Grid.GUTTER, 2 * o.Grid.GUTTER, 2 * o.Grid.GUTTER, 2 * o.Grid.GUTTER ] : 0
}, "1ca9c853:82:64");
}), e.boxFiller = o.wrap(function() {
return o.style({
opacity: 0,
padding: [ 2 * o.Grid.GUTTER, 2 * o.Grid.GUTTER, 2 * o.Grid.GUTTER, 2 * o.Grid.GUTTER ]
}, "1ca9c853:96:34");
}), e.text = o.multistyle2(function(e, t) {
return o.style({
zOffset: 3,
color: e || t ? "#000000" : "#ffffff"
}, "1ca9c853:103:74");
}), e.icon = o.stylefunc(function() {
return o.style({
textureFadeInTime: 0
}, "1ca9c853:111:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture,
width: e.size,
height: e.size,
opacity: e.disabled ? .5 : 1
}, "1ca9c853:115:90");
}), e = r.__decorate([ a.style ], e);
}();
t.ButtonStyles = s;
var u = function() {
function e() {}
return e.textType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "1ca9c853:127:22"), e.showGlow = o.value(function() {
return !0;
}, "1ca9c853:129:22"), e.showBorder = o.value(function() {
return !0;
}, "1ca9c853:130:24"), e.showOverlay = o.value(function() {
return !1;
}, "1ca9c853:131:25"), e.button = o.multistyle4(function(e, t, n, r) {
return o.style({
flexDirection: "row",
zOffset: 0,
justifyContent: "center",
alignItems: "center",
height: o.Grid.getHeight(7),
opacity: e ? .5 : 1,
backgroundColor: n || t ? "#ffffffff" : "#ffffff00"
}, "1ca9c853:133:117");
}), e.overlay = o.multistyle4(function(e, t, n, r) {
return o.style({}, "1ca9c853:145:118");
}), e.text = o.multistyle4(function(e, t, n, r) {
return o.style({
zOffset: 3,
whiteSpace: "nowrap",
marginLeft: o.Grid.spacer(2),
marginRight: o.Grid.spacer(2),
color: t || n ? "#000000" : "#ffffff"
}, "1ca9c853:149:115");
}), e.icon = o.multistyle4(function(e, t, n, r) {
return o.style({
zOffset: 3,
marginLeft: o.Grid.spacer(2),
color: t || n ? "#000000" : "#ffffff"
}, "1ca9c853:159:115");
}), e.border = a.wrap(function() {
return o.style({
zOffset: 5,
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: 2,
opacity: .2
}, "1ca9c853:167:20");
}), e.glow = o.multistyle(function(e) {
return o.style({
zOffset: 1,
position: "absolute",
bottom: -9,
left: -9,
right: -9,
top: -9,
opacity: e ? .2 : 0,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-blur-42d30442.png"),
textureMode: "fill",
textureBorder: 12
}, "1ca9c853:180:62");
}), e = r.__decorate([ a.style ], e);
}();
t.Button2Styles = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(27), a = o.Template("TabMenuStyles"), s = function() {
function e() {}
var t;
return t = e, e.backgroundColor = o.value(function() {
return "#00000000";
}, "431d1497:18:29"), e.backgroundActiveColor = o.value(function() {
return "#00000000";
}, "431d1497:19:35"), e.textColor = o.value(function() {
return "#ffffff";
}, "431d1497:20:23"), e.textActiveColor = o.value(function() {
return "#ffffff";
}, "431d1497:21:29"), e.tweenEasing = o.value(function() {
return i.Easing.Linear;
}, "431d1497:22:25"), e.tweenDuration = o.value(function() {
return 1;
}, "431d1497:23:27"), e.groupInputs = o.value(function() {
return !1;
}, "431d1497:24:25"), e.playHoverSound = o.value(function() {
return !1;
}, "431d1497:25:28"), e.tabMenu = o.wrap(function() {
return o.style({
flexDirection: "row",
alignSelf: "center",
alignItems: "center"
}, "431d1497:27:32");
}), e.tabBackground = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
}, "431d1497:35:38");
}), e.largeTab = a.wrap(function() {
return o.style({
flexDirection: "row",
marginRight: o.Grid.spacer(2)
}, "431d1497:45:22");
}), e.tab = o.wrap(function() {
return o.style({
flexDirection: "row",
marginRight: o.Grid.spacer(2)
}, "431d1497:50:28");
}), e.lastTab = o.wrap(function() {
return o.style({}, "431d1497:57:32");
}), e.notificationSize = o.value(function() {
return o.Constants.isPC ? 8 : 10;
}, "431d1497:59:30"), e.notification = o.wrap(function() {
return o.style({
height: t.notificationSize,
width: t.notificationSize,
marginTop: 1 - t.notificationSize,
marginLeft: 1,
zOffset: 10,
backgroundColor: [ 255, 153, 0, 255 ],
borderRadius: [ t.notificationSize / 2, t.notificationSize / 2, t.notificationSize / 2, t.notificationSize / 2 ],
enableMouseEvents: !1
}, "431d1497:60:37");
}), e.tabTextType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "431d1497:78:25"), e.tabTextTypeActive = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "431d1497:79:31"), e.tabTextTypeLarge = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "431d1497:80:30"), e.tabTextTypeLargeActive = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "431d1497:81:36"), e.fontSize = o.value(function() {
return o.Constants.TextSize.S;
}, "431d1497:82:22"), e.fontSizeLarge = o.value(function() {
return o.Constants.TextSize.L;
}, "431d1497:83:27"), e.tabText = o.multistyle3(function(e, t, n) {
return o.style({
opacity: e ? .9 : t ? 1 : .66
}, "431d1497:85:111");
}), e.underline = a.wrap(function() {
return o.style({}, "431d1497:91:23");
}), e.tabMenuBumper = o.stylefunc(function() {
return o.style({
height: o.Grid.getHeight(3),
width: o.Grid.getHeight(3),
marginTop: 1
}, "431d1497:94:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "431d1497:100:38");
}), e.tabMenuLeftBumperExtra = a.wrap(function() {
return o.style({
marginRight: o.Grid.spacer(1)
}, "431d1497:106:36");
}), e = t = r.__decorate([ a.style ], e);
}();
t.TabMenuStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(17), a = o.Template("BoxStyles"), s = function() {
function e() {}
var t;
return t = e, e.height = o.value(function() {
return o.Grid.getHeight(13);
}, "b7bee383:18:20"), e.width = o.value(function() {
return o.Grid.getWidth(3);
}, "b7bee383:19:19"), e.labelHeight = o.value(function() {
return o.Grid.getHeight(3.5);
}, "b7bee383:20:25"), e.contentHeight = o.value(function() {
return t.height - t.labelHeight;
}, "b7bee383:21:27"), e.container = o.wrap(function() {
return o.style({
width: t.width,
height: t.height
}, "b7bee383:23:34");
}), e.tableCell = o.stylefunc(function() {
return o.style({
position: "absolute"
}, "b7bee383:31:14");
}, function(e) {
return o.dynamicStyle({
left: e.left,
top: e.top
}, "b7bee383:35:48");
}), e.texture = o.stylefunc(function() {
return o.style({
height: t.height,
width: t.width,
zOffset: 0
}, "b7bee383:43:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture,
opacity: e.isDisabled ? .3 : 1
}, "b7bee383:49:59");
}), e.textureOverlay = o.wrap(function() {
return o.style({
position: "absolute",
left: 0,
top: 0,
right: 0,
bottom: 0,
zOffset: 1
}, "b7bee383:56:39");
}), e.background = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
backgroundColor: "#00000000"
}, "b7bee383:67:35");
}), e.hoverOverlay = o.wrap(function() {
return o.merge(i.CommonStyles.blendModeAdditive, o.style({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
backgroundColor: "#00000000"
}, "b7bee383:80:44"));
}), e.contentContainer = o.wrap(function() {
return o.style({
flex: 1
}, "b7bee383:92:41");
}), e.progressBarContainer = o.wrap(function() {
return o.style({
marginTop: o.Grid.getHeight(1),
height: o.Grid.getHeight(3),
width: t.width,
paddingLeft: o.Grid.spacer(2),
paddingRight: o.Grid.spacer(2),
flexDirection: "row",
alignItems: "center"
}, "b7bee383:98:45");
}), e.progressBar = o.multistyle(function(e) {
return o.style({
paddingLeft: o.Grid.spacer(1),
flex: 1,
height: o.Grid.getHeight(.6),
zOffset: 2,
opacity: e ? .4 : 1
}, "b7bee383:110:66");
}), e.progressBarIcon = o.stylefunc(function() {
return o.style({
height: t.contentHeight - o.Grid.spacer(1) - t.labelHeight,
textureMode: "contain",
zOffset: 2
}, "b7bee383:121:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "b7bee383:127:38");
}), e.icon = o.stylefunc(function() {
return o.style({
marginTop: o.Grid.spacer(1),
flex: 1,
textureMode: "contain",
zOffset: 2
}, "b7bee383:134:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "b7bee383:141:38");
}), e.coloredIcon = o.stylefunc(function() {
return o.style({
flex: 1,
textureMode: "contain",
zOffset: 2
}, "b7bee383:148:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "b7bee383:154:54");
}), e.label = o.wrap(function() {
return o.style({
position: "absolute",
bottom: 0,
left: 0,
right: 0,
height: t.labelHeight,
alignItems: "center",
justifyContent: "center",
zOffset: 2
}, "b7bee383:160:30");
}), e.text = o.wrap(function() {
return o.style({
whiteSpace: "nowrap",
zOffset: 3
}, "b7bee383:173:29");
}), e = t = r.__decorate([ a.style ], e);
}();
t.BoxStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(5), s = n(22), u = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.focusItem = t.focusItem || s.focusSystem.create(n, n.props.name), n;
}
return r.__extends(t, e), t.prototype.render = function() {
return this.props.children(this.focusItem, a.emptyStyle);
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.DefaultPressable = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return this.props.children;
}, t;
}(n(1).Component);
t.DefaultHoverSFX = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(65), a = o.Template("HeaderStyles"), s = function() {
function e() {}
var t;
return t = e, e.enableBackButton = o.value(function() {
return o.Constants.isPC;
}, "1c9edd3e:22:30"), e.underlineOffset = o.value(function() {
return o.Constants.isPC ? 0 : o.LayoutBounds.safeZone.left;
}, "1c9edd3e:23:29"), e.containerWidth = o.value(function() {
return o.LayoutBounds.header.width - o.LayoutBounds.logo.width;
}, "1c9edd3e:24:28"), e.topBarHeight = o.value(function() {
return o.Grid.getHeight(o.Constants.isPC ? 3 : 2);
}, "1c9edd3e:25:26"), e.lowerBarHeight = o.value(function() {
return o.Grid.getHeight(6);
}, "1c9edd3e:26:28"), e.lowerBarTitle = o.value(function() {
return o.Constants.TextSize.XL;
}, "1c9edd3e:27:27"), e.topWithBreadcrumbs = o.value(function() {
return o.Constants.isPC ? 40 : 60;
}, "1c9edd3e:28:32"), e.topWithoutBreadcrumbs = o.value(function() {
return o.Constants.isPC ? 60 : 82;
}, "1c9edd3e:29:35"), e.useSlider = o.value(function() {
return !0;
}, "1c9edd3e:30:23"), e.underlineLine = o.wrap(function() {
return o.style({
height: 8,
marginTop: -4,
marginBottom: -3,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
opacity: .13
}, "1c9edd3e:32:38");
}), e.underlineContainer = o.wrap(function() {
return o.style({
position: "absolute",
bottom: -o.Grid.getHeight(2),
right: o.Grid.getWidth(o.Constants.isPC ? 2.5 : 2),
height: 4,
zOffset: 99,
layer: !0,
layerClip: !0,
layerSoftClip: [ 0, o.Grid.getWidth(2), 0, 0 ],
left: -t.underlineOffset
}, "1c9edd3e:44:43");
}), e.underlineHighlight = o.wrap(function() {
return o.style({
position: "absolute",
height: 8,
marginTop: -5,
marginBottom: -2,
opacity: 1,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png")
}, "1c9edd3e:58:43");
}), e.topMenuItemColor = o.valuefunc(function(e) {
return e.isEnabled ? "#ffffff" : "#ffffff99";
}), e.container = o.wrap(function() {
return o.style({
zOffset: i.OffsetStyles.header,
position: "absolute",
left: o.LayoutBounds.header.left,
top: o.LayoutBounds.header.top,
height: o.LayoutBounds.header.height,
width: t.containerWidth
}, "1c9edd3e:73:34");
}), e.glowDock = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 1
}, "1c9edd3e:84:33");
}), e.glowHiddenEmph = o.wrap(function() {
return o.style({
opacity: 0
}, "1c9edd3e:95:39");
}), e.glowBlur = o.wrap(function() {
return o.style({
position: "absolute",
layer: !0,
layerBlurStrength: 2,
padding: o.Grid.GUTTER,
top: -o.Grid.GUTTER,
left: -o.Grid.GUTTER,
right: -o.Grid.GUTTER,
bottom: -o.Grid.GUTTER
}, "1c9edd3e:101:33");
}), e.topBar = o.wrap(function() {
return o.style({
height: t.topBarHeight,
flexDirection: "row",
alignItems: "center"
}, "1c9edd3e:114:31");
}), e.topBarItem = o.wrap(function() {
return o.style({
marginRight: 4 * o.Grid.GUTTER
}, "1c9edd3e:122:35");
}), e.topBarBackButton = o.wrap(function() {
return o.style({
margin: [ 0, o.Grid.GUTTER, 0, 1.5 * -o.Grid.GUTTER ],
padding: o.Grid.GUTTER
}, "1c9edd3e:128:41");
}), e.breadcrumb = o.wrap(function() {
return o.style({
justifyContent: "center",
paddingLeft: 5,
paddingRight: 10
}, "1c9edd3e:135:35");
}), e.breadcrumbSlash = o.wrap(function() {
return o.style({
marginLeft: o.Grid.GUTTER,
marginRight: o.Grid.GUTTER
}, "1c9edd3e:143:40");
}), e.breadcrumbContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center",
layer: !0,
layerClip: !0
}, "1c9edd3e:150:44");
}), e.simpleTitle = o.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center"
}, "1c9edd3e:159:36");
}), e.simpleTitleTextType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "1c9edd3e:166:33"), e.lowerBar = o.wrap(function() {
return o.style({
marginTop: o.Grid.getHeight(.5),
marginBottom: o.Grid.getHeight(.5),
flexDirection: "row",
alignItems: "center"
}, "1c9edd3e:168:33");
}), e.titleStyle = o.wrap(function() {
return o.style({}, "1c9edd3e:177:35");
}), e.inputIcon = o.stylefunc(function() {
return o.style({
height: o.Grid.getHeight(3),
width: o.Grid.getHeight(3),
marginTop: 3
}, "1c9edd3e:180:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "1c9edd3e:186:39");
}), e.hbIcon = o.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/assets/ui/icons/ui/hamburger-d78cf787.png"),
height: t.topBarHeight - o.Grid.getHeight(.5),
width: t.topBarHeight - o.Grid.getHeight(.5),
marginTop: 3
}, "1c9edd3e:192:31");
}), e.hbIconSimple = a.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/assets/ui/icons/ui/hamburger-d78cf787.png"),
textureMode: "contain",
height: o.LayoutBounds.header.height,
width: t.topBarHeight - (o.Constants.isPC ? o.Grid.getHeight(1) : 0),
position: "absolute",
marginLeft: -57
}, "1c9edd3e:201:26");
}), e.betaIcon = o.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/beta_large-99d4f478.png"),
width: 107,
height: 40,
position: "absolute",
top: 0,
right: 0
}, "1c9edd3e:210:33");
}), e = t = r.__decorate([ a.style ], e);
}();
t.HeaderStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(65), a = o.Template("FooterStyles"), s = function() {
function e() {}
return e.footerLineEnabled = o.value(function() {
return !0;
}, "6424ea83:8:31"), e.footerLine = o.wrap(function() {
return o.style({
zOffset: 61e3,
left: 0,
right: 0,
top: o.LayoutBounds.fadeAreaBottom.bottom,
height: 1,
backgroundColor: [ 255, 255, 255, 26 ]
}, "6424ea83:10:35");
}), e.widgetContainer = a.wrap(function() {
return o.style({
zOffset: i.OffsetStyles.socialWidget,
position: "absolute",
flexDirection: "row",
bottom: o.LayoutBounds.dangerZoneSize.height,
right: o.LayoutBounds.dangerZoneSize.width
}, "6424ea83:21:29");
}), e = r.__decorate([ a.style ], e);
}();
t.FooterStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("DividerStyles"), a = function() {
function e() {}
return e.dividerLine = o.stylefunc(function() {
return o.style({
height: 8,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
opacity: .1
}, "477217ec:8:14");
}, function(e) {
return o.dynamicStyle({
marginTop: (e.spacing || 0) - 4,
marginBottom: (e.spacing || 0) - 3
}, "477217ec:16:39");
}), e.verticalDividerLine = o.wrap(function() {
return o.style({
flex: 1,
width: 8,
marginLeft: -4,
marginRight: -3,
textureMode: "none",
textureScale: [ 1, 8096 ],
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/vline-2e85d023.png"),
opacity: .1
}, "477217ec:23:44");
}), e.textDivider = o.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center"
}, "477217ec:36:36");
}), e.textDividerLine = o.wrap(function() {
return o.style({
flex: 1,
marginTop: -4,
marginBottom: -3
}, "477217ec:43:40");
}), e.textDividerText = o.wrap(function() {
return o.style({
marginLeft: o.Grid.spacer(2),
marginRight: o.Grid.spacer(2),
color: "#ffffffa8"
}, "477217ec:51:40");
}), e = r.__decorate([ i.style ], e);
}();
t.DividerStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(65), a = o.Template("InputStyles"), s = function() {
function e() {}
var t;
return t = e, e.alwaysVisibleInputs = o.value(function() {
return !1;
}, "e3d2ad9e:21:33"), e.labelFontSize = o.value(function() {
return o.Constants.TextSize.S;
}, "e3d2ad9e:22:27"), e.labelFontType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "e3d2ad9e:23:27"), e.iconSize = o.value(function() {
return o.Grid.getHeight(3);
}, "e3d2ad9e:24:22"), e.labelSpacing = o.value(function() {
return o.Grid.GUTTER;
}, "e3d2ad9e:25:26"), e.playSoundOnHover = o.value(function() {
return !1;
}, "e3d2ad9e:26:30"), e.height = o.value(function() {
return o.LayoutBounds.input.height;
}, "e3d2ad9e:27:20"), e.visualButton = o.wrap(function() {
return o.style({
zOffset: 10,
marginRight: 2 * o.Grid.GUTTER
}, "e3d2ad9e:30:37");
}), e.buttonBorderInv = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-inv-83f715ff.png");
}, "e3d2ad9e:37:29"), e.buttonBorder = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png");
}, "e3d2ad9e:38:26"), e.pcButton = a.wrap(function() {
return o.style({
backgroundColor: "#ffffff33",
height: o.Grid.getHeight(5),
justifyContent: "center",
alignItems: "center",
padding: [ 0, 2 * o.Grid.GUTTER, 0, 2 * o.Grid.GUTTER ],
marginRight: o.Grid.GUTTER
}, "e3d2ad9e:40:22");
}), e.pcButtonHovered = a.wrap(function() {
return o.style({
backgroundColor: "#ffffff66"
}, "e3d2ad9e:49:29");
}), e.pcButtonPressed = a.wrap(function() {
return o.style({
backgroundColor: "#ffffff66"
}, "e3d2ad9e:53:29");
}), e.pcButtonLarge = a.wrap(function() {
return o.style({
height: o.Grid.getHeight(7)
}, "e3d2ad9e:57:27");
}), e.pcButtonInverted = a.wrap(function() {
return o.style({
backgroundColor: "#00000011"
}, "e3d2ad9e:61:30");
}), e.pcButtonInvertedHovered = a.wrap(function() {
return o.style({
backgroundColor: "#00000033"
}, "e3d2ad9e:65:37");
}), e.pcButtonBorder = a.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
texture: t.buttonBorder,
textureAtlas: "SpartaCommonAtlas",
textureBorder: [ 2, 2, 2, 2 ],
textureMode: "fill"
}, "e3d2ad9e:69:28");
}), e.pcButtonInvertedBorder = a.wrap(function() {
return o.style({
textureAtlas: "SpartaCommonAtlas",
texture: t.buttonBorderInv
}, "e3d2ad9e:81:36");
}), e.pcButtonIconSpacing = a.wrap(function() {
return o.style({
marginRight: o.Grid.GUTTER
}, "e3d2ad9e:86:33");
}), e.label = a.wrap(function() {
return o.style({
color: [ 255, 255, 255, 200 ]
}, "e3d2ad9e:90:19");
}), e.labelInverted = a.wrap(function() {
return o.style({
color: [ 0, 0, 0, 200 ]
}, "e3d2ad9e:94:27");
}), e.labelHovered = a.wrap(function() {
return o.style({
color: "#000000"
}, "e3d2ad9e:98:26");
}), e.labelPressed = a.wrap(function() {
return o.style({
color: "#333333"
}, "e3d2ad9e:101:26");
}), e.labelContainer = a.wrap(function() {
return o.style({}, "e3d2ad9e:105:28");
}), e.labelContainerLarge = a.wrap(function() {
return o.style({}, "e3d2ad9e:106:33");
}), e.icon = o.stylefunc(function() {
return o.style({
zOffset: 1,
textureAtlas: "SpartaCommonAtlas"
}, "e3d2ad9e:110:14");
}, function(e) {
return o.dynamicStyle({
color: e.inverted ? "#000000" : "#ffffff",
texture: e.iconUrl ? e.iconUrl : void 0,
width: e.iconSize,
height: e.iconSize
}, "e3d2ad9e:115:77");
}), e.iconBackground = o.multistyle(function(e) {
return o.style({
backgroundColor: e ? "#CCCCCC00" : "#CCCCCCB3",
marginRight: o.Grid.GUTTER
}, "e3d2ad9e:124:63");
}), e.spriteFrameWidth = o.value(function() {
return 58;
}, "e3d2ad9e:132:30"), e.spriteFrameHeight = o.value(function() {
return 59;
}, "e3d2ad9e:133:31"), e.spriteTexture = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/ui/sprites/visualbuttonpulsate-96eb83fc.png");
}, "e3d2ad9e:134:27"), e.sprite = o.stylefunc(function() {
return o.style({
zOffset: 2,
position: "absolute",
width: t.spriteFrameWidth,
height: t.spriteFrameHeight,
spriteAnimation: {
spriteSheet: t.spriteTexture,
fps: 60,
frameWidth: t.spriteFrameWidth,
frameHeight: t.spriteFrameHeight,
totalFrames: 31,
startFrame: 10,
looping: !1
}
}, "e3d2ad9e:136:14");
}, function(e) {
return o.dynamicStyle({
top: (e.iconSize - t.spriteFrameHeight) / 2,
left: (e.iconSize - t.spriteFrameWidth) / 2
}, "e3d2ad9e:152:39");
}), e.container = a.wrap(function() {
return o.style({
zOffset: i.OffsetStyles.inputs,
position: "absolute",
height: t.height,
justifyContent: "center",
bottom: o.Constants.useConsoleMenu ? o.LayoutBounds.screen.height - o.LayoutBounds.input.top - t.height : o.Grid.spacer(),
left: o.LayoutBounds.input.left
}, "e3d2ad9e:159:23");
}), e.xboxMainMenu = o.wrap(function() {
return o.merge(t.container, o.style({
width: o.LayoutBounds.mainMenu.width - o.LayoutBounds.dangerZoneSize.width - o.Grid.spacer(4),
height: 2 * t.height
}, "e3d2ad9e:172:35"));
}), e = t = r.__decorate([ a.style ], e);
}();
t.InputStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("StatsComponentsStyles"), a = function() {
function e() {}
var t;
return t = e, e.statRowMargin = o.value(function() {
return o.Constants.isPC ? o.Grid.spacer(1) : o.Grid.spacer(.5);
}, "7bdbe11d:16:27"), e.accentColor = o.value(function() {
return "#FF9900";
}, "7bdbe11d:18:25"), e.whiteColor = o.value(function() {
return "#FFFFFF";
}, "7bdbe11d:19:24"), e.fontSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.S : o.Constants.TextSize.XS;
}, "7bdbe11d:20:22"), e.statBlockTextSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.M : o.Constants.TextSize.S;
}, "7bdbe11d:21:31"), e.statBlockValueTextSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.XL : o.Constants.TextSize.L;
}, "7bdbe11d:22:36"), e.statBlockValueTextType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "7bdbe11d:23:36"), e.placingFontSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.XS : o.Constants.TextSize.XXS;
}, "7bdbe11d:24:29"), e.placingTextType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "7bdbe11d:25:29"), e.statValueTextType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "7bdbe11d:26:31"), e.statRowTextType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "7bdbe11d:27:29"), e.statRowTextSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.S : o.Constants.TextSize.XS;
}, "7bdbe11d:28:29"), e.textColor = o.multistyle(function(e) {
return o.style({
color: e ? t.accentColor : t.whiteColor
}, "7bdbe11d:30:65");
}), e.statBlockValueText = i.wrap(function() {
return o.style({
textLetterSpacing: 2
}, "7bdbe11d:36:32");
}), e.fillerBottom = o.multistyle(function(e) {
return o.style({
marginBottom: e ? 24 : 0
}, "7bdbe11d:38:63");
}), e.topStatBlockTextHeight = i.wrap(function() {
return o.style({
height: o.Constants.LINE_HEIGHTS[t.fontSize]
}, "7bdbe11d:44:36");
}), e.statBlockStyle = i.wrap(function() {
return o.style({
alignItems: "center",
margin: [ o.Grid.spacer(1), o.Grid.GUTTER, o.Grid.spacer(3), o.Grid.spacer(1) ]
}, "7bdbe11d:49:28");
}), e.statBlockValue = i.wrap(function() {
return o.style({
margin: [ 2, 0, 2, 0 ],
fontSize: 52
}, "7bdbe11d:54:28");
}), e.statRowStyle = o.wrap(function() {
return o.style({
justifyContent: "space-between",
margin: [ t.statRowMargin, 0, t.statRowMargin, 0 ]
}, "7bdbe11d:59:37");
}), e.smallStatBlockStyle = i.wrap(function() {
return o.style({
alignItems: "center",
margin: o.Grid.GUTTER
}, "7bdbe11d:66:33");
}), e.topStatBlockStyle = i.wrap(function() {
return o.style({
alignItems: "center",
width: o.Grid.spacer(36),
marginLeft: o.Grid.spacer(1),
marginRight: o.Grid.spacer(1)
}, "7bdbe11d:71:31");
}), e.topStatBlockValue = i.wrap(function() {
return o.style({
textLetterSpacing: 2,
marginBottom: o.Grid.spacer(3),
marginTop: o.Grid.spacer(2)
}, "7bdbe11d:78:31");
}), e.topStatBlockText = i.wrap(function() {
return o.style({
alignItems: "center",
justifyContent: "center"
}, "7bdbe11d:84:30");
}), e.topStatText = i.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center",
width: o.Grid.spacer(36)
}, "7bdbe11d:89:25");
}), e.placing = i.wrap(function() {
return o.style({
textureFadeInTime: 0,
alignItems: "center",
justifyContent: "center",
width: 80,
height: 24,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ]
}, "7bdbe11d:95:21");
}), e.placingDock = i.wrap(function() {
return o.style({
textureFadeInTime: 0,
alignItems: "center",
justifyContent: "center",
width: 80,
height: 24,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
position: "absolute",
top: 0,
bottom: 0
}, "7bdbe11d:106:25");
}), e.placingLeft = i.wrap(function() {
return o.style({
left: -100
}, "7bdbe11d:120:25");
}), e.placingRight = i.wrap(function() {
return o.style({
right: -100
}, "7bdbe11d:124:26");
}), e.row = i.wrap(function() {
return o.style({
flexDirection: "row"
}, "7bdbe11d:128:17");
}), e.text = i.wrap(function() {
return o.style({
whiteSpace: "nowrap"
}, "7bdbe11d:132:18");
}), e = t = r.__decorate([ i.style ], e);
}();
t.StatsComponentsStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(65), a = o.Template("ContextMenuStyles"), s = function() {
function e() {}
return e.dotsColor = o.value(function() {
return "#ffffff";
}, "58a481e5:17:23"), e.dotsFocusColor = o.value(function() {
return "#000000";
}, "58a481e5:18:28"), e.hoveredOpacity = o.value(function() {
return 1;
}, "58a481e5:19:28"), e.normalOpacity = o.value(function() {
return .5;
}, "58a481e5:20:27"), e.textType = o.value(function() {
return "emphasis";
}, "58a481e5:22:22"), e.textSize = o.value(function() {
return "XS";
}, "58a481e5:23:22"), e.container = o.multistyle(function(e) {
return o.style({
zOffset: i.OffsetStyles.contextMenu,
position: "absolute",
top: o.LayoutBounds.screen.top,
left: o.LayoutBounds.screen.left,
width: o.LayoutBounds.screen.width,
height: o.LayoutBounds.screen.height,
enableMouseEvents: e
}, "58a481e5:25:58");
}), e.tint = o.multistyle(function(e) {
return o.style({
zOffset: 1,
backgroundColor: "#00000000",
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
opacity: o.tweenSwitch(0, 1, e)
}, "58a481e5:38:53");
}), e.menu = o.multistyle(function(e) {
return o.style({
zOffset: 2,
position: "absolute",
opacity: e ? 1 : 0
}, "58a481e5:51:53");
}), e.option = o.multistyle(function(e) {
return o.style({
padding: [ o.Grid.spacer(1.5), o.Grid.spacer(2), o.Grid.spacer(1.5), o.Grid.spacer(2) ],
backgroundColor: e ? "#ffffff" : "#000000",
flex: 1
}, "58a481e5:59:60");
}), e.optionText = o.multistyle(function(e) {
return o.style({
color: e ? "#000000" : "#ffffff",
textAlignForRTL: "left"
}, "58a481e5:67:64");
}), e.dots = a.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/dots-white-03a7610a.png"),
zOffset: 1,
width: 21,
height: 5
}, "58a481e5:74:18");
}), e.button = a.wrap(function() {
return o.style({
flexDirection: "column",
alignItems: "center",
justifyContent: "center",
width: 60,
height: 40
}, "58a481e5:81:20");
}), e = r.__decorate([ a.style ], e);
}();
t.ContextMenuStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("GameOfferStyles"), a = function() {
function e() {}
var t;
return t = e, e.softClip = o.value(function() {
return [ o.Grid.getHeight(2), 0, o.Grid.getHeight(2), 0 ];
}, "bb7098bc:18:22"), e.descriptionTextType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "bb7098bc:19:33"), e.buttonTextSize = o.value(function() {
return o.Constants.TextSize.S;
}, "bb7098bc:20:28"), e.buttonOwnedTextSize = o.value(function() {
return o.Constants.TextSize.M;
}, "bb7098bc:21:33"), e.container = i.wrap(function() {
return o.style({
flexDirection: "row",
position: "absolute",
top: 0,
left: 0,
right: 0,
height: o.Constants.useConsoleMenu ? o.LayoutBounds.content.height : o.Grid.getHeight(91),
justifyContent: "space-between"
}, "bb7098bc:23:23");
}), e.content = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(11.5)
}, "bb7098bc:33:21");
}), e.gameLogo = o.stylefunc(function() {
return o.style({
textureMode: "contain",
textureAlign: [ 0, 0 ],
width: o.Grid.getWidth(4),
height: o.Grid.getHeight(8),
marginBottom: o.Grid.spacer(2)
}, "bb7098bc:38:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "bb7098bc:46:39");
}), e.offerImage = o.stylefunc(function() {
return o.style({
textureMode: "contain",
textureAlign: [ 0, 0 ],
width: o.Grid.getWidth(6),
height: o.Grid.getWidth(9)
}, "bb7098bc:53:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "bb7098bc:60:39");
}), e.listPrice = i.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.spacer(1),
opacity: 2 / 3
}, "bb7098bc:66:23");
}), e.offerBuy = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(5)
}, "bb7098bc:72:22");
}), e.notificationContainer = i.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.spacer(1)
}, "bb7098bc:76:35");
}), e.bottomSpacer = i.wrap(function() {
return o.style({
textAlignForRTL: "left",
marginBottom: 20
}, "bb7098bc:81:26");
}), e.labelOr = i.wrap(function() {
return o.style({
marginBottom: 20,
flexDirection: "row"
}, "bb7098bc:86:21");
}), e.labelOrHandleBars = i.wrap(function() {
return o.style({
opacity: .3,
backgroundColor: "#FFFFFF",
flex: 1,
height: 1,
marginTop: 6
}, "bb7098bc:91:31");
}), e.labelOrHandleBarLeft = i.wrap(function() {
return o.merge(t.labelOrHandleBars, o.style({
marginRight: 10
}, "bb7098bc:100:43"));
}), e.labelOrHandleBarRight = i.wrap(function() {
return o.merge(t.labelOrHandleBars, o.style({
marginLeft: 10
}, "bb7098bc:107:43"));
}), e.imageIcon = o.stylefunc(function() {
return o.style({
marginRight: 10
}, "bb7098bc:114:14");
}, function(e) {
return o.dynamicStyle({
width: e.width,
height: e.height,
texture: e.texture
}, "bb7098bc:118:69");
}), e.scrollerStyle = i.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(2),
flex: 1,
width: o.Grid.getWidth(11) + o.Grid.spacer(2) + 3
}, "bb7098bc:126:27");
}), e.bulletPoint = i.wrap(function() {
return o.style({
textAlignForRTL: "left",
marginBottom: o.Grid.spacer(2)
}, "bb7098bc:132:25");
}), e.premierImage = i.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/commerce/EA_PlayPro_Lockup_Horizontal_Coral_RGB-443ce899.png"),
textureMode: "contain",
height: o.Grid.getHeight(6),
width: o.Grid.getWidth(4),
marginBottom: o.Grid.spacer(1)
}, "bb7098bc:137:26");
}), e.accessDiscount = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(3),
width: null,
marginTop: o.Grid.spacer(),
marginBottom: o.Grid.spacer(),
opacity: 2 / 3
}, "bb7098bc:145:28");
}), e.accessDiscountTexture = i.wrap(function() {
return o.style({
textureAlignX: 0
}, "bb7098bc:153:35");
}), e = t = r.__decorate([ i.style ], e);
}();
t.GameOfferStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("InputIconStyles"), a = function() {
function e() {}
return e.PS4 = o.value(function() {
return {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross-2ea4eb1d.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle-4134dc63.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square-13757f39.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle-3b7274c0.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3-33f1a530.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3-84a8d96f.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4-01d95d35.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog_ps4-01d95d35.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1-c5a53ca6.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1-af49db00.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2-400ea63c.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2-e73831e2.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/options-f26f2856.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/share-7c934666.png"),
Up: void 0,
Down: void 0,
Left: void 0,
Right: void 0
};
}, "d88499b4:7:17"), e.XBOXONE = o.value(function() {
return {
Accept: o.bbOfflineUrl("/sparta/jsclient/builds/assets/cross-c29ecbee.png"),
Decline: o.bbOfflineUrl("/sparta/jsclient/builds/assets/circle-7ef1a8e4.png"),
Option1: o.bbOfflineUrl("/sparta/jsclient/builds/assets/triangle-d2492168.png"),
Option2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/square-deaf593b.png"),
Option3: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l3-8ec0b16d.png"),
Option4: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r3-9c73371a.png"),
ScrollUp: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog-cabebd90.png"),
ScrollDown: o.bbOfflineUrl("/sparta/jsclient/builds/assets/right_analog-cabebd90.png"),
Previous: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l2-c3878036.png"),
Next: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r2-1bec2958.png"),
Home: o.bbOfflineUrl("/sparta/jsclient/builds/assets/l1-cdf2ec31.png"),
End: o.bbOfflineUrl("/sparta/jsclient/builds/assets/r1-7bbbe740.png"),
Start: o.bbOfflineUrl("/sparta/jsclient/builds/assets/start-3b07cd56.png"),
Select: o.bbOfflineUrl("/sparta/jsclient/builds/assets/select-e6a9bf79.png"),
Up: void 0,
Down: void 0,
Left: void 0,
Right: void 0
};
}, "d88499b4:28:21"), e.PC = o.value(function() {
return {
Accept: void 0,
Decline: void 0,
Option1: void 0,
Option2: void 0,
Option3: void 0,
Option4: void 0,
ScrollUp: void 0,
ScrollDown: void 0,
Previous: void 0,
Next: void 0,
Home: void 0,
End: void 0,
Start: void 0,
Select: void 0,
Up: void 0,
Down: void 0,
Left: void 0,
Right: void 0
};
}, "d88499b4:49:16"), e = r.__decorate([ i.style ], e);
}();
t.InputIconStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("QuickFilterStyles"), a = function() {
function e() {}
return e.textColor = o.value(function() {
return "#ffffff";
}, "555a33fb:17:23"), e.textColorSelected = o.value(function() {
return "#ffffff";
}, "555a33fb:18:31"), e.textSize = o.value(function() {
return o.Constants.TextSize.S;
}, "555a33fb:19:22"), e.buttonTextSize = o.value(function() {
return o.Constants.TextSize.S;
}, "555a33fb:20:28"), e.inputTextSize = o.value(function() {
return o.Constants.TextSize.S;
}, "555a33fb:21:27"), e.dividerSpacing = o.value(function() {
return 10;
}, "555a33fb:22:28"), e.titleType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "555a33fb:23:23"), e.title = i.wrap(function() {
return o.style({
flex: 1,
textAlignForRTL: "left"
}, "555a33fb:25:19");
}), e.divider = i.wrap(function() {
return o.style({}, "555a33fb:30:21");
}), e.itemCategory = i.wrap(function() {
return o.style({
marginTop: 10,
marginBottom: 20
}, "555a33fb:32:26");
}), e.headerContainer = o.multistyle2(function(e, t) {
return o.style({
zOffset: 1,
flexDirection: "row",
justifyContent: "space-between"
}, "555a33fb:37:86");
}), e.headerContainerOverlay = o.multistyle2(function(e, t) {
return o.style({
enable: !1
}, "555a33fb:45:93");
}), e.header = o.multistyle2(function(e, t) {
return o.style({
opacity: e || t ? 1 : .66
}, "555a33fb:47:77");
}), e.indicator = o.multistyle3(function(e, t, n) {
return o.style({
texture: o.bbUrl("/sparta/assets/ui/icons/ui/down-1c405104.png"),
textureScaleY: e ? -1 : 1,
opacity: t || n ? 1 : .6,
marginRight: o.Grid.GUTTER,
width: o.Grid.getHeight(1),
height: o.Grid.getHeight(1),
textureMode: "contain",
marginTop: o.Grid.getHeight(.5)
}, "555a33fb:53:99");
}), e.inputContainer = i.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(1),
marginBottom: o.Grid.spacer(1),
zOffset: 1
}, "555a33fb:66:28");
}), e.inputField = i.wrap(function() {
return o.style({}, "555a33fb:72:24");
}), e.itemContainer = o.multistyle(function(e) {
return o.style({
opacity: e ? 1 : .5,
flexDirection: "row",
marginBottom: o.Grid.getHeight(1.3),
backgroundColor: "#00000001"
}, "555a33fb:74:62");
}), e.checkbox = i.wrap(function() {
return o.style({}, "555a33fb:83:22");
}), e.itemText = o.multistyle(function(e) {
return o.style({
marginLeft: o.Grid.spacer(2),
marginRight: o.Grid.spacer(2)
}, "555a33fb:85:57");
}), e.fullFilterButton = i.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(1),
height: o.Grid.getHeight(5)
}, "555a33fb:92:30");
}), e.resetButton = i.wrap(function() {
return o.style({
marginTop: o.Grid.GUTTER,
height: o.Grid.getHeight(5)
}, "555a33fb:97:25");
}), e.yourFiltersTitle = i.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(1),
textAlignForRTL: "left"
}, "555a33fb:102:30");
}), e.yourFiltersListItemFontSize = o.value(function() {
return o.Constants.TextSize.XS;
}, "555a33fb:107:41"), e.yourFiltersListItemFontType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "555a33fb:108:41"), e.yourFiltersListItemFontColor = o.value(function() {
return "#ffffff";
}, "555a33fb:109:42"), e.yourFiltersListItem = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(5)
}, "555a33fb:111:33");
}), e.yourFiltersListItemContainer = i.wrap(function() {
return o.style({
padding: 0
}, "555a33fb:115:42");
}), e = r.__decorate([ i.style ], e);
}();
t.QuickFilterStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ServerDetailsStyle"), a = function() {
function e() {}
return e.scrollToFocus = o.value(function() {
return !0;
}, "400f3f00:7:27"), e.fontSizes = o.value(function() {
return {
settings: o.Constants.isPC ? o.Constants.TextSize.XS : o.Constants.TextSize.S,
serverName: o.Constants.isPC ? o.Constants.TextSize.L : o.Constants.TextSize.XL,
serverInfo: o.Constants.isPC ? o.Constants.TextSize.S : o.Constants.TextSize.M,
description: o.Constants.TextSize.S
};
}, "400f3f00:9:23"), e.serverNameType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "400f3f00:16:28"), e.serverName = i.wrap(function() {
return o.style({}, "400f3f00:18:24");
}), e.topBarContainer = i.wrap(function() {
return o.style({
justifyContent: "space-between",
flexDirection: "row",
height: o.Grid.getHeight(5)
}, "400f3f00:20:29");
}), e.serverDescription = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(16),
textLineSpacing: o.Constants.LINE_HEIGHTS.S,
marginTop: 2 * o.Grid.GUTTER,
flexWrap: "wrap",
flexDirection: "row"
}, "400f3f00:26:31");
}), e.serverInfoColumn = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(3),
flexDirection: "column",
marginRight: o.Grid.getWidth(1)
}, "400f3f00:34:30");
}), e.serverInfoTitle = i.wrap(function() {
return o.style({
textAlignForRTL: "left"
}, "400f3f00:40:29");
}), e.serverInfoValue = i.wrap(function() {
return o.style({
textAlignForRTL: "left",
paddingTop: 5,
zOffset: 1
}, "400f3f00:44:29");
}), e.serverPingValue = o.multistyle(function(e) {
return o.style({
textAlignForRTL: "left",
paddingTop: 10,
alignItems: e ? "flex-end" : "flex-start"
}, "400f3f00:50:60");
}), e.mapRotationWrapper = i.wrap(function() {
return o.style({
localBounds: !1,
flexWrap: "wrap",
flexDirection: "row",
width: o.Grid.getWidth(24) + 4 * o.Grid.GUTTER
}, "400f3f00:58:32");
}), e.mapRotationItem = o.multistyle(function(e) {
return o.style({
marginRight: 2.4 * o.Grid.GUTTER,
marginBottom: e ? 2.4 * o.Grid.GUTTER : 0
}, "400f3f00:65:71");
}), e.settings = i.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.getHeight(4)
}, "400f3f00:72:22");
}), e.serverSettingsTitle = i.wrap(function() {
return o.style({
marginLeft: 2 * o.Grid.GUTTER,
marginRight: 2 * o.Grid.GUTTER,
width: o.Grid.getWidth(5.5) - 2 * o.Grid.GUTTER,
textAlignForRTL: "left"
}, "400f3f00:77:33");
}), e.serverSettingsItemHighlight = i.wrap(function() {
return o.style({
zOffset: 0,
position: "absolute",
top: -o.Grid.GUTTER,
left: 0,
bottom: o.Grid.GUTTER,
width: o.Grid.getWidth(6) - 2 * o.Grid.GUTTER,
backgroundColor: "#ffffff"
}, "400f3f00:84:41");
}), e.serverSettingsItemContent = i.wrap(function() {
return o.style({
flexWrap: "nowrap",
flexDirection: "row",
justifyContent: "space-between",
marginLeft: 2 * o.Grid.GUTTER,
marginRight: 2 * o.Grid.GUTTER
}, "400f3f00:94:39");
}), e.serverSettingsLine = o.multistyle(function(e) {
return o.style({
height: 8,
marginTop: o.Grid.GUTTER - 4,
marginBottom: o.Grid.GUTTER - 3,
textureMode: "none",
textureScale: [ 8096, 1 ],
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
opacity: .1,
width: e ? 5.5 : o.Grid.getWidth(6) - 2 * o.Grid.GUTTER
}, "400f3f00:102:66");
}), e.serverSettingsKey = i.wrap(function() {
return o.style({
flexDirection: "row",
flex: 1,
zOffset: 1,
textAlignForRTL: "right"
}, "400f3f00:115:31");
}), e.serverSettingsKeyText = i.wrap(function() {
return o.style({
textAlignForRTL: "right",
whiteSpace: "nowrap",
zOffset: 2
}, "400f3f00:122:35");
}), e.serverSettingsValue = i.wrap(function() {
return o.style({
flexDirection: "row",
zOffset: 1,
justifyContent: "flex-end",
alignItems: "flex-end",
color: "#FFFFFF55",
textAlign: "right",
textAlignForRTL: "left"
}, "400f3f00:128:33");
}), e.serverSettingsGutterMargin = i.wrap(function() {
return o.style({
marginRight: o.Grid.GUTTER,
marginLeft: o.Grid.GUTTER
}, "400f3f00:138:40");
}), e.serverTypeIcon = i.wrap(function() {
return o.style({
margin: [ 0, o.Grid.GUTTER, 0, 2 * o.Grid.GUTTER ]
}, "400f3f00:143:28");
}), e.serverFavorite = i.wrap(function() {
return o.style({
marginLeft: o.Grid.GUTTER
}, "400f3f00:147:28");
}), e.infoColumn = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(5.75),
marginRight: 3.4 * o.Grid.GUTTER
}, "400f3f00:151:24");
}), e.customLabel = i.wrap(function() {
return o.style({
color: "#FF9900",
marginLeft: o.Grid.GUTTER
}, "400f3f00:157:25");
}), e.standardInformation = i.wrap(function() {
return o.style({
marginTop: 2 * o.Grid.GUTTER,
height: o.Grid.getHeight(3),
alignItems: "center",
flexWrap: "wrap",
flexDirection: "row"
}, "400f3f00:162:33");
}), e.standardInfoSeparator = o.value(function() {
return "|";
}, "400f3f00:170:35"), e.flagSize = o.value(function() {
return "S";
}, "400f3f00:171:22"), e.serverInfoType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "400f3f00:172:28"), e.serverInfo = i.wrap(function() {
return o.style({}, "400f3f00:174:24");
}), e.additionalInformation = i.wrap(function() {
return o.style({
flexWrap: "wrap",
flexDirection: "row",
marginTop: o.Grid.getHeight(4)
}, "400f3f00:176:35");
}), e.serverInfoTitleSize = o.value(function() {
return o.Constants.TextSize.S;
}, "400f3f00:182:33"), e.serverInfoValueSize = o.value(function() {
return o.Constants.TextSize.M;
}, "400f3f00:183:33"), e.serverInfoTitleType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "400f3f00:184:33"), e.serverInfoValueType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "400f3f00:185:33"), e.buttons = i.wrap(function() {
return o.style({
flexWrap: "wrap",
flexDirection: "row",
marginTop: o.Grid.getHeight(4)
}, "400f3f00:187:21");
}), e.button = o.multistyle(function(e) {
return o.style({
width: o.Grid.getWidth(6) - 2 * o.Grid.GUTTER,
marginLeft: e ? o.Grid.GUTTER : void 0
}, "400f3f00:193:57");
}), e.mapRotationTitleContainer = i.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.getHeight(4),
marginBottom: o.Grid.getHeight(2)
}, "400f3f00:200:39");
}), e.mapRotationTitle = i.wrap(function() {
return o.style({}, "400f3f00:206:30");
}), e.mapRotationTitleSize = o.value(function() {
return o.Constants.TextSize.S;
}, "400f3f00:208:34"), e.mapRotationTitleType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "400f3f00:209:34"), e.customColoredText = i.wrap(function() {
return o.style({
color: "#d9d91d"
}, "400f3f00:211:31");
}), e.emptyGroupText = o.multistyle(function(e) {
return o.style({
marginLeft: 2 * o.Grid.GUTTER,
opacity: .5,
marginRight: e ? 3 * o.Grid.GUTTER : void 0,
textAlignForRTL: e ? "left" : void 0
}, "400f3f00:215:59");
}), e = r.__decorate([ i.style ], e);
}();
t.ServerDetailsStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ServerFilterViewStyles"), a = function() {
function e() {}
return e.toggleAllKey = o.value(function() {
return o.Constants.Keys.Option4;
}, "7116de66:7:26"), e.categoryLabelTextSize = o.value(function() {
return o.Constants.TextSize.S;
}, "7116de66:9:35"), e.categorySubLabelTextSize = o.value(function() {
return o.Constants.TextSize.XS;
}, "7116de66:10:38"), e.buttonTextSize = o.value(function() {
return o.Constants.TextSize.S;
}, "7116de66:11:28"), e.buttonContainer = o.wrap(function() {
return o.style({
flex: 1,
justifyContent: "flex-end",
marginTop: o.Grid.GUTTER,
marginBottom: o.Constants.isPC ? o.Grid.getHeight(4) : 0
}, "7116de66:13:40");
}), e.itemSpacing = o.wrap(function() {
return o.style({
marginTop: o.Grid.GUTTER
}, "7116de66:22:36");
}), e.filterItemName = o.wrap(function() {
return o.style({
flex: 5
}, "7116de66:28:39");
}), e.filterItemWidget = o.wrap(function() {
return o.style({
marginRight: o.Grid.spacer(),
justifyContent: "flex-end"
}, "7116de66:34:41");
}), e = r.__decorate([ i.style ], e);
}();
t.ServerFilterViewStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(547), a = o.Template("ServerListItemStyle"), s = function() {
function e() {}
var t;
return t = e, e.rowHeight = o.value(function() {
return o.Grid.getHeight(7);
}, "2428e13a:17:23"), e.rowSpacing = o.value(function() {
return 1;
}, "2428e13a:18:24"), e.contentColumnWidth = o.value(function() {
return o.Grid.getWidth(o.Constants.isPC ? 7.5 : 12);
}, "2428e13a:19:32"), e.useDarkContextMenu = o.value(function() {
return !0;
}, "2428e13a:20:32"), e.showTickRate = o.value(function() {
return !0;
}, "2428e13a:21:26"), e.textSize = o.value(function() {
return o.Constants.TextSize.XS;
}, "2428e13a:24:22"), e.textSizeInfo = o.value(function() {
return o.Constants.TextSize.XS;
}, "2428e13a:25:26"), e.fontType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "2428e13a:26:22"), e.contentFontType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "2428e13a:27:29"), e.contentFontTypeFocused = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "2428e13a:28:36"), e.row = o.multistyle2(function(e, n) {
return o.style({
flexDirection: "row",
alignItems: "center",
backgroundColor: e ? "#FFFFFFFF" : "#FFFFFF00",
zOffset: 1,
height: t.rowHeight,
opacity: n ? .5 : 1
}, "2428e13a:30:72");
}), e.settingText = o.multistyle(function(e) {
return o.style({
color: e ? "#333333" : "#ffffff",
opacity: e ? void 0 : .66,
marginTop: 2
}, "2428e13a:41:60");
}), e.text = o.multistyle(function(e) {
return o.style({
color: e ? "#000000" : "#ffffff",
fontSize: o.Constants.isPC ? 12 : 18
}, "2428e13a:49:53");
}), e.joinButton = a.wrap(function() {
return o.style({
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
height: t.rowHeight,
zOffset: 4,
width: o.Grid.getWidth(1.5),
paddingLeft: o.Grid.GUTTER,
paddingRight: o.Grid.GUTTER
}, "2428e13a:57:24");
}), e.joinButtonVisibility = o.multistyle(function(e) {
return o.style({
opacity: e ? 1 : 0
}, "2428e13a:68:69");
}), e.joinIcon = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-join-black-d91ea425.png");
}, "2428e13a:74:22"), e.verticalDivider = o.multistyle(function(e) {
return o.style({
width: 1,
height: t.rowHeight,
backgroundColor: e ? "#00000033" : "#00000000"
}, "2428e13a:76:64");
}), e.nameSpan = a.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row",
alignItems: "center"
}, "2428e13a:84:22");
}), e.slotsSpan = a.wrap(function() {
return o.style({
enableMouseEvents: !1,
zOffset: 1,
width: i.ServerListStyle.spans.slots
}, "2428e13a:90:23");
}), e.pingSpan = a.wrap(function() {
return o.style({
enableMouseEvents: !1,
zOffset: 1,
width: i.ServerListStyle.spans.ping,
flexDirection: "row",
alignItems: "center"
}, "2428e13a:96:22");
}), e.actionsSpan = a.wrap(function() {
return o.style({
width: i.ServerListStyle.spans.actions,
flexDirection: "row",
zOffset: 1,
alignItems: "center",
justifyContent: "flex-end"
}, "2428e13a:104:25");
}), e.contextMenuButtonHoverColor = o.value(function() {
return "#000000";
}, "2428e13a:112:41"), e.contextMenuButton = o.multistyle(function(e) {
return o.style({
zOffset: 1,
height: t.rowHeight,
width: o.Grid.getWidth(1.2),
opacity: e ? 1 : 0
}, "2428e13a:114:66");
}), e.mapImage = o.multistyle(function(e) {
return o.style({
zOffset: 1,
width: o.Grid.getWidth(2),
height: t.rowHeight,
marginRight: 2 * o.Grid.GUTTER,
grayScale: e ? 1 : void 0
}, "2428e13a:123:56");
}), e.favoriteCol = a.wrap(function() {
return o.style({
zOffset: 4,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
width: o.Grid.getWidth(1),
height: t.rowHeight
}, "2428e13a:133:25");
}), e.favoriteIconFocusedOpacity = o.value(function() {
return o.Constants.isPC ? .66 : 0;
}, "2428e13a:142:40"), e.favoriteIcon = o.multistyle2(function(e, n) {
return o.style({
opacity: n ? 1 : e ? t.favoriteIconFocusedOpacity : 0,
color: e ? "#000000" : n ? "#ffffffff" : "#ffffff00"
}, "2428e13a:143:83");
}), e.contentCol = a.wrap(function() {
return o.style({
enableMouseEvents: !1,
zOffset: 1,
alignItems: "center",
flexDirection: "row",
width: t.contentColumnWidth
}, "2428e13a:150:24");
}), e.expansionCol = a.wrap(function() {
return o.style({
zOffset: 1,
alignItems: "center",
flexDirection: "row",
justifyContent: "flex-end",
marginLeft: o.Grid.GUTTER
}, "2428e13a:158:26");
}), e.expansionIcon = a.wrap(function() {
return o.style({
marginLeft: 2,
marginTop: 0
}, "2428e13a:166:27");
}), e.serverTypeIcon = a.wrap(function() {
return o.style({
marginLeft: o.Grid.GUTTER / 2
}, "2428e13a:171:28");
}), e.detailRow = a.wrap(function() {
return o.style({
zOffset: 1,
flexDirection: "row",
alignItems: "center"
}, "2428e13a:175:23");
}), e.customLabel = a.wrap(function() {
return o.style({
color: "#FF9900",
marginLeft: o.Grid.GUTTER
}, "2428e13a:181:25");
}), e.separatorLabel = a.wrap(function() {
return o.style({
marginLeft: o.Grid.GUTTER / 4,
marginRight: o.Grid.GUTTER / 2
}, "2428e13a:186:28");
}), e = t = r.__decorate([ a.style ], e);
}();
t.ServerListItemStyle = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("FilterBarStyles"), a = function() {
function e() {}
return e.textSize = o.value(function() {
return o.Constants.TextSize.S;
}, "ae09b4ac:7:22"), e.textType = o.value(function() {
return o.Constants.TextType.NORMAL;
}, "ae09b4ac:8:22"), e.labelTextSize = o.value(function() {
return o.Constants.TextSize.S;
}, "ae09b4ac:9:27"), e.labelTextType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "ae09b4ac:10:27"), e.filter = o.multistyle(function(e) {
return o.style({
flexDirection: "row",
opacity: e || !o.Constants.isPC ? 1 : .66
}, "ae09b4ac:12:55");
}), e.spacer = i.wrap(function() {
return o.style({
width: o.Grid.spacer(1)
}, "ae09b4ac:19:20");
}), e.customGamesText = i.wrap(function() {
return o.style({
color: "#d9d91d"
}, "ae09b4ac:23:29");
}), e.description = i.wrap(function() {
return o.style({
maxWidth: o.Grid.getWidth(o.Constants.isPC ? 11 : 7)
}, "ae09b4ac:27:25");
}), e = r.__decorate([ i.style ], e);
}();
t.FilterBarStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(153), a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement(i.PlayCard, r.__assign({}, this.props));
}, t;
}(o.Component);
t.DefaultMapRotationCard = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(1065), a = n(27), s = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.state = {
textureIndex: 0
}, n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.startOrStopCrossfading();
}, t.prototype.componentDidUpdate = function() {
this.startOrStopCrossfading();
}, t.prototype.componentWillUnmount = function() {
this.startOrStopCrossfading(!0);
}, Object.defineProperty(t.prototype, "numTextures", {
get: function() {
return this.props.textures ? this.props.textures.length : 0;
},
enumerable: !0,
configurable: !0
}), t.prototype.startOrStopCrossfading = function(e) {
var t = this;
e || this.numTextures <= 1 ? (clearInterval(this.transitionTimeoutId), delete this.transitionTimeoutId) : void 0 === this.transitionTimeoutId && (this.transitionTimeoutId = setInterval(function() {
t.nextCrossfade();
}, this.props.interval));
}, t.prototype.nextCrossfade = function() {
var e = (this.state.textureIndex + 1) % this.numTextures;
this.setState({
textureIndex: e
});
}, t.prototype.render = function() {
var e = this.props, t = e.style, n = e.textureStyle, r = e.textures, s = e.duration, u = e.offsetSpeed, l = e.interval, c = r[this.state.textureIndex], p = l + s / 2, d = u * (p / 1e3), f = {
opacity: {
enter: {
from: 0,
to: 1,
playOnMount: !1,
options: {
duration: s
}
},
leave: {
from: 1,
to: 0,
options: {
duration: s
}
}
},
textureOffsetX: {
enter: {
from: d / 2,
to: -d / 2,
waitFor: !1,
options: {
duration: p,
easing: a.Easing.Linear
}
}
}
};
return o.createElement(i.TextureTransition, {
texture: c,
tweens: f,
style: t,
textureStyle: n
});
}, t.defaultProps = {
offsetSpeed: 8,
interval: 6e3,
duration: 2e3,
textures: []
}, t;
}(o.Component);
t.TextureCrossfade = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(548), a = n(15), s = n(5), u = n(17), l = n(78), c = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = s.merge2(s.DynamicStyle.maybeLegacyStyle(this.props.textureStyle, "c232c70c:49:37"), s.DynamicStyle.create({
texture: this.props.texture
}, "c232c70c:50:68"));
return o.createElement(i, {
component: "surface",
style: this.props.style
}, o.createElement(p, {
key: this.props.texture,
style: e,
tweens: this.props.tweens
}));
}, t;
}(o.Component);
t.TextureTransition = c;
var p = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n._isCancelled = !1, n.tweens = {}, n.tweens = Object.keys(t.tweens).reduce(function(e, n) {
var r = t.tweens[n], o = r.enter && r.enter.to || r.leave && r.leave.from || 0;
return e[n] = a.Animation.tween("c232c70c:82:50_" + n, o), e;
}, {}), n;
}
return r.__extends(t, e), t.prototype.componentWillAppear = function(e) {
var t = this;
this.playTweens("enter", function(e) {
return void 0 === e.playOnMount || e.playOnMount;
}).then(function() {
t._isCancelled || e();
});
}, t.prototype.componentWillEnter = function(e) {
var t = this;
this.playTweens("enter").then(function() {
t._isCancelled || e();
});
}, t.prototype.componentWillLeave = function(e) {
var t = this;
this.playTweens("leave").then(function() {
t._isCancelled || e();
});
}, t.prototype.componentWillUnmount = function() {
var e = this;
this._isCancelled = !0, Object.keys(this.tweens).forEach(function(t) {
e.tweens[t].destroy();
});
}, t.prototype.playTweens = function(e, t) {
var n = this;
void 0 === t && (t = function(e) {
return !0;
});
var r = Object.keys(this.props.tweens).map(function(r) {
var o = n.props.tweens[r][e];
if (o && t(o)) {
var i = n.tweens[r].transition(o.from, o.to, o.options);
if (void 0 === o.waitFor || o.waitFor) return i;
}
return Promise.resolve();
});
return Promise.all(r);
}, t.prototype.render = function() {
var e = s.merge3(u.CommonStyles.dock, l.Tween.getStyleClass("c232c70c:156:33", this.tweens), this.props.style || s.emptyStyle);
return o.createElement("surface", {
style: e
});
}, t;
}(o.Component);
}, function(e, t, n) {
"use strict";
t.__esModule = !0;
var r = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, o = u(n(1067)), i = u(n(1)), a = u(n(85)), s = (u(n(1068)), n(1069));
function u(e) {
return e && e.__esModule ? e : {
default: e
};
}
a.default.any, a.default.func, a.default.node;
var l = function(e) {
function t(n, o) {
!function i(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}(this, t);
var a = function u(e, t) {
if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return !t || "object" != typeof t && "function" != typeof t ? e : t;
}(this, e.call(this, n, o));
return a.performAppear = function(e, t) {
a.currentlyTransitioningKeys[e] = !0, t.componentWillAppear ? t.componentWillAppear(a._handleDoneAppearing.bind(a, e, t)) : a._handleDoneAppearing(e, t);
}, a._handleDoneAppearing = function(e, t) {
t.componentDidAppear && t.componentDidAppear(), delete a.currentlyTransitioningKeys[e];
var n = (0, s.getChildMapping)(a.props.children);
n && n.hasOwnProperty(e) || a.performLeave(e, t);
}, a.performEnter = function(e, t) {
a.currentlyTransitioningKeys[e] = !0, t.componentWillEnter ? t.componentWillEnter(a._handleDoneEntering.bind(a, e, t)) : a._handleDoneEntering(e, t);
}, a._handleDoneEntering = function(e, t) {
t.componentDidEnter && t.componentDidEnter(), delete a.currentlyTransitioningKeys[e];
var n = (0, s.getChildMapping)(a.props.children);
n && n.hasOwnProperty(e) || a.performLeave(e, t);
}, a.performLeave = function(e, t) {
a.currentlyTransitioningKeys[e] = !0, t.componentWillLeave ? t.componentWillLeave(a._handleDoneLeaving.bind(a, e, t)) : a._handleDoneLeaving(e, t);
}, a._handleDoneLeaving = function(e, t) {
t.componentDidLeave && t.componentDidLeave(), delete a.currentlyTransitioningKeys[e];
var n = (0, s.getChildMapping)(a.props.children);
n && n.hasOwnProperty(e) ? a.keysToEnter.push(e) : a.setState(function(t) {
var n = r({}, t.children);
return delete n[e], {
children: n
};
});
}, a.childRefs = Object.create(null), a.state = {
children: (0, s.getChildMapping)(n.children)
}, a;
}
return function n(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
enumerable: !1,
writable: !0,
configurable: !0
}
}), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
}(t, e), t.prototype.componentWillMount = function e() {
this.currentlyTransitioningKeys = {}, this.keysToEnter = [], this.keysToLeave = [];
}, t.prototype.componentDidMount = function e() {
var t = this.state.children;
for (var n in t) t[n] && this.performAppear(n, this.childRefs[n]);
}, t.prototype.componentWillReceiveProps = function e(t) {
var n = (0, s.getChildMapping)(t.children), r = this.state.children;
for (var o in this.setState({
children: (0, s.mergeChildMappings)(r, n)
}), n) {
var i = r && r.hasOwnProperty(o);
!n[o] || i || this.currentlyTransitioningKeys[o] || this.keysToEnter.push(o);
}
for (var a in r) {
var u = n && n.hasOwnProperty(a);
!r[a] || u || this.currentlyTransitioningKeys[a] || this.keysToLeave.push(a);
}
}, t.prototype.componentDidUpdate = function e() {
var t = this, n = this.keysToEnter;
this.keysToEnter = [], n.forEach(function(e) {
return t.performEnter(e, t.childRefs[e]);
});
var r = this.keysToLeave;
this.keysToLeave = [], r.forEach(function(e) {
return t.performLeave(e, t.childRefs[e]);
});
}, t.prototype.render = function e() {
var t = this, n = [], a = function e(r) {
var a = t.state.children[r];
if (a) {
var s = "string" != typeof a.ref, u = t.props.childFactory(a), l = function e(n) {
t.childRefs[r] = n;
};
u === a && s && (l = (0, o.default)(a.ref, l)), n.push(i.default.cloneElement(u, {
key: r,
ref: l
}));
}
};
for (var s in this.state.children) a(s);
var u = r({}, this.props);
return delete u.transitionLeave, delete u.transitionName, delete u.transitionAppear, 
delete u.transitionEnter, delete u.childFactory, delete u.transitionLeaveTimeout, 
delete u.transitionEnterTimeout, delete u.transitionAppearTimeout, delete u.component, 
i.default.createElement(this.props.component, u, n);
}, t;
}(i.default.Component);
l.displayName = "TransitionGroup", l.propTypes = {}, l.defaultProps = {
component: "span",
childFactory: function e(t) {
return t;
}
}, t.default = l, e.exports = t.default;
}, function(e, t) {
e.exports = function e() {
for (var t = arguments.length, n = [], r = 0; r < t; r++) n[r] = arguments[r];
if (0 !== (n = n.filter(function(e) {
return null != e;
})).length) return 1 === n.length ? n[0] : n.reduce(function(e, t) {
return function n() {
e.apply(this, arguments), t.apply(this, arguments);
};
});
};
}, function(e, t, n) {
"use strict";
e.exports = function() {};
}, function(e, t, n) {
"use strict";
t.__esModule = !0, t.getChildMapping = function r(e) {
if (!e) return e;
var t = {};
return i.Children.map(e, function(e) {
return e;
}).forEach(function(e) {
t[e.key] = e;
}), t;
}, t.mergeChildMappings = function o(e, t) {
function n(n) {
return t.hasOwnProperty(n) ? t[n] : e[n];
}
e = e || {}, t = t || {};
var r = {}, o = [];
for (var i in e) t.hasOwnProperty(i) ? o.length && (r[i] = o, o = []) : o.push(i);
var a = void 0, s = {};
for (var u in t) {
if (r.hasOwnProperty(u)) for (a = 0; a < r[u].length; a++) {
var l = r[u][a];
s[r[u][a]] = n(l);
}
s[u] = n(u);
}
for (a = 0; a < o.length; a++) s[o[a]] = n(o[a]);
return s;
};
var i = n(1);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("MarqueeStyles"), a = function() {
function e() {}
return e.marquee = o.multistyle(function(e) {
return o.style({
layer: e,
layerClip: e,
flexDirection: "row",
flexWrap: "nowrap",
enableMouseEvents: !1
}, "51cf5b72:7:59");
}), e.containerMargin = i.wrap(function() {
return o.style({
marginRight: 22
}, "51cf5b72:17:29");
}), e.ellipsis = o.multistyle(function(e) {
return o.style({
position: "absolute",
right: (e && !o.Constants.isPC ? -8 : 0) - 22,
bottom: -2
}, "51cf5b72:19:53");
}), e = r.__decorate([ i.style ], e);
}();
t.MarqueeStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(6), a = n(5), s = n(7);
var u = a.StaticStyle.create({
flex: 1,
textAlignForRTL: "left"
}, "7f73be8d:38:22"), l = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = s.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = function t(e) {
return null == e ? "" : 0 === e ? __("ID_SPARTA_SERVER_COUNT_0") : 1 === e ? __("ID_SPARTA_SERVER_COUNT_1") : e >= 100 ? __("ID_SPARTA_SERVER_COUNT_OVER100") : __("ID_SPARTA_SERVER_COUNT_NORMAL").replace("[[count]]", e.toString());
}(this.sparta.stores.serverCountStore.counters[this.props.counterId]).toUpperCase(), n = u;
return r.createElement(i.Text, {
value: e,
size: this.props.size,
style: a.merge2(this.props.style, n)
});
}, n.contextTypes = s.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.ServerCount = l;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("CheckmarkStyles"), a = function() {
function e() {}
return e.checkmark = o.multistyle3(function(e, t, n) {
return o.style({
texture: o.bbOfflineUrl("/sparta/assets/ui/checkmark-ef04940a.png"),
alignSelf: "center",
width: 40,
height: 28,
textureMode: "none",
opacity: n ? t ? .3 : 1 : 0,
color: e ? "#000000" : "#ffffff"
}, "1dfb5bf7:7:92");
}), e.observableCheckmark = o.multistyle3(function(e, t, n) {
return o.style({
texture: o.bbOfflineUrl("/sparta/assets/ui/checkmark-ef04940a.png"),
alignSelf: "center",
width: 40,
height: 28,
textureMode: "none",
opacity: n ? t ? .3 : 1 : 0,
color: {
to: e ? "#000000" : "#ffffff",
easing: o.Constants.tweenOptions.default.easing,
duration: o.Constants.tweenOptions.default.duration
}
}, "1dfb5bf7:19:102");
}), e = r.__decorate([ i.style ], e);
}();
t.CheckmarkStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(65), a = o.Template("SubscriptionImageStyles"), s = function() {
function e() {}
return e.accessContainer = o.stylefunc(function() {
return o.style({
enableMouseEvents: !1,
height: o.Grid.getHeight(20),
width: o.Grid.getWidth(4),
flexDirection: "column",
justifyContent: "flex-end",
position: "absolute",
bottom: o.LayoutBounds.dangerZoneSize.height + o.LayoutBounds.footer.height + o.LayoutBounds.fadeAreaBottom.height,
zOffset: i.OffsetStyles.viewContainer + 1
}, "20df47d8:18:14");
}, function(e) {
return o.dynamicStyle({
right: o.Constants.isPC ? o.LayoutBounds.dangerZoneSize.width + e.extraWidth : o.LayoutBounds.dangerZoneSize.width
}, "20df47d8:32:41");
}), e.accessDiscount = a.wrap(function() {
return o.style({
height: o.Grid.getHeight(6),
width: o.Grid.getWidth(4),
textureMode: "contain",
textureAlign: [ 1, 1 ],
opacity: .2
}, "20df47d8:40:28");
}), e.accessDiscountText = a.wrap(function() {
return o.style({
marginTop: o.Constants.isPC ? 0 : o.Grid.spacer(),
opacity: .2,
width: o.Grid.getWidth(4),
textAlign: "right"
}, "20df47d8:48:32");
}), e = r.__decorate([ a.style ], e);
}();
t.SubscriptionImageStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TemplateStyle"), a = function() {
function e() {}
return e.debugGrid = o.value(function() {
return !1;
}, "1472377c:18:23"), e.container = o.wrap(function() {
return o.style({
position: "absolute",
top: o.LayoutBounds.screen.top,
left: o.LayoutBounds.screen.left,
width: o.LayoutBounds.screen.width,
height: o.LayoutBounds.screen.height
}, "1472377c:20:34");
}), e.header = o.wrap(function() {
return o.style({
position: "absolute",
top: o.LayoutBounds.tabs.top,
left: o.LayoutBounds.tabs.left,
width: o.LayoutBounds.tabs.width,
height: o.LayoutBounds.tabs.height + o.LayoutBounds.fadeAreaTop.height,
zOffset: 1,
flexDirection: "row",
alignItems: "flex-start"
}, "1472377c:30:31");
}), e.shortHeader = o.wrap(function() {
return o.style({
position: "absolute",
top: 90,
left: o.LayoutBounds.tabs.left,
width: o.LayoutBounds.tabs.width,
height: o.LayoutBounds.tabs.height + o.LayoutBounds.fadeAreaTop.height,
zOffset: 1,
flexDirection: "row",
alignItems: "flex-start"
}, "1472377c:43:36");
}), e.aboveContent = o.wrap(function() {
return o.style({
position: "absolute",
top: o.Grid.COMPRESSED ? o.LayoutBounds.tabs.top : o.LayoutBounds.content.top,
left: o.LayoutBounds.content.left,
width: o.LayoutBounds.content.width,
height: o.LayoutBounds.tabs.height + o.LayoutBounds.fadeAreaTop.height,
justifyContent: o.Grid.COMPRESSED ? "flex-start" : "flex-end"
}, "1472377c:56:37");
}), e.belowContent = o.wrap(function() {
return o.style({
position: "absolute",
left: o.LayoutBounds.content.left,
width: o.LayoutBounds.safeZone.width,
bottom: o.Grid.COMPRESSED ? o.LayoutBounds.dangerZoneSize.height : o.LayoutBounds.dangerZoneSize.height + o.LayoutBounds.footer.height + o.Grid.spacer(2)
}, "1472377c:67:37");
}), e.contentWrapper = o.multistyle(function(e) {
return o.style({
position: "absolute",
top: o.LayoutBounds.content.top,
left: o.LayoutBounds.content.left,
height: o.LayoutBounds.content.height,
width: o.LayoutBounds.safeZone.width,
paddingTop: e ? 0 : o.LayoutBounds.tallContent.height
}, "1472377c:78:65");
}), e.scroller = o.stylefunc(function() {
return o.style({
height: o.LayoutBounds.content.height
}, "1472377c:90:14");
}, function(e) {
return o.dynamicStyle({
width: e.width
}, "1472377c:94:36");
}), e.divider = o.wrap(function() {
return o.style({
position: "absolute",
left: 0,
right: 0,
bottom: o.LayoutBounds.fadeAreaTop.height - o.Grid.GUTTER
}, "1472377c:100:32");
}), e.clipPadding = o.value(function() {
return [ o.LayoutBounds.fadeAreaTop.height, o.LayoutBounds.dangerZoneSize.width, o.Grid.COMPRESSED ? o.LayoutBounds.dangerZoneSize.height : o.LayoutBounds.fadeAreaBottom.height, o.Constants.useConsoleMenu ? o.LayoutBounds.content.left : o.LayoutBounds.content.left - o.LayoutBounds.mainMenu.width - 1 ];
}, "1472377c:109:25"), e.softClipping = o.value(function() {
return [ o.LayoutBounds.fadeAreaTop.height, -50, o.Grid.COMPRESSED ? o.LayoutBounds.dangerZoneSize.height : o.LayoutBounds.fadeAreaBottom.height, -50 ];
}, "1472377c:118:26"), e = r.__decorate([ i.style ], e);
}();
t.TemplateStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(27), a = o.Template("TakeoverStyles"), s = function() {
function e() {}
var t;
return t = e, e.titleTextSize = o.value(function() {
return o.Constants.TextSize.L;
}, "e4140e95:23:27"), e.subtitleTextSize = o.value(function() {
return o.Constants.TextSize.XXXXL;
}, "e4140e95:24:30"), e.descriptionTextSize = o.value(function() {
return o.Constants.TextSize.S;
}, "e4140e95:25:33"), e.gradientTexture = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/ui/10px_takeoverGradient-c4452b21.png");
}, "e4140e95:27:29"), e.tweenInOptions = o.value(function() {
return {
easing: i.Easing.CubicInOut,
duration: o.frames(72)
};
}, "e4140e95:29:28"), e.tweenOutOptions = o.value(function() {
return {
easing: i.Easing.CubicInOut,
duration: o.frames(18)
};
}, "e4140e95:30:29"), e.popupContent = a.wrap(function() {
return o.style({
zOffset: 3,
width: o.Grid.getWidth(19, !1),
padding: [ o.LayoutBounds.dangerZoneSize.height, 0, o.LayoutBounds.dangerZoneSize.height + o.LayoutBounds.userBar.height + o.Grid.getHeight(6, !1), o.LayoutBounds.dangerZoneSize.width ],
flex: 1,
justifyContent: "flex-end"
}, "e4140e95:32:26");
}), e.backgroundContainer = o.stylefunc(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0,
zOffset: 1
}, "e4140e95:46:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "e4140e95:55:38");
}), e.videoContainer = o.stylefunc(function() {
return o.style({
layer: !0,
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0,
zOffset: 1
}, "e4140e95:62:14");
}, function(e) {
return o.dynamicStyle({
video: e.video
}, "e4140e95:72:36");
}), e.gradient = a.wrap(function() {
return o.style({
position: "absolute",
left: 0,
top: 0,
right: 0,
bottom: 0,
texture: t.gradientTexture,
textureMode: "fill",
zOffset: 2
}, "e4140e95:78:22");
}), e.blackFill = a.wrap(function() {
return o.style({
position: "absolute",
zOffset: 0,
backgroundColor: "#000000"
}, "e4140e95:89:23");
}), e.title = a.wrap(function() {
return o.style({
textAlignForRTL: "left",
opacity: .66
}, "e4140e95:95:19");
}), e.subtitle = a.wrap(function() {
return o.style({
marginTop: o.Grid.getHeight(3, !1),
marginBottom: o.Grid.getHeight(3, !1),
textAlignForRTL: "left"
}, "e4140e95:100:22");
}), e.description = a.wrap(function() {
return o.style({
color: "#ffffffff",
textAlignForRTL: "left",
marginTop: o.Grid.getHeight(2),
opacity: .66
}, "e4140e95:106:25");
}), e.descriptionNarrow = a.wrap(function() {
return o.style({
color: "#ffffffff",
textAlignForRTL: "center",
textAlign: "center",
alignSelf: "center",
marginTop: o.Grid.getHeight(2),
opacity: .66,
width: o.Grid.getWidth(10)
}, "e4140e95:113:31");
}), e.legal = a.wrap(function() {
return o.style({
color: "#ffffffff",
textAlignForRTL: "left",
marginTop: o.Grid.getHeight(3),
opacity: .25
}, "e4140e95:123:19");
}), e.buttonContainer = a.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.getHeight(7, !1)
}, "e4140e95:130:29");
}), e.button = a.wrap(function() {
return o.style({
width: o.Grid.getWidth(5, !1),
height: o.Grid.getHeight(6),
marginRight: o.Grid.spacer(1)
}, "e4140e95:135:20");
}), e.ctaButton = a.wrap(function() {
return o.style({
width: o.Grid.getWidth(5, !1),
height: o.Grid.getHeight(6)
}, "e4140e95:141:23");
}), e.tweenIn = o.timeline(function() {
return [ o.tween(0, "gradient", "opacity", .01, 1, o.frames(72), i.Easing.CubicInOut), o.trigger(0, "background"), o.tween(0, "scale", "scaleX", 1, 1.1, o.frames(72), i.Easing.CubicInOut), o.tween(0, "scale", "scaleY", 1, 1.1, o.frames(72), i.Easing.CubicInOut, [ o.tween(-300, "title", "translateY", 20, 0, o.frames(44), i.Easing.CubicInOut), o.tween(-300, "title", "opacity", 0, 1, o.frames(44), i.Easing.CubicInOut), o.tween(0, "subTitle", "translateY", 20, 0, o.frames(44), i.Easing.CubicInOut), o.tween(0, "subTitle", "opacity", 0, 1, o.frames(44), i.Easing.CubicInOut), o.tween(300, "description", "translateY", 20, 0, o.frames(44), i.Easing.CubicInOut), o.tween(300, "description", "opacity", 0, 1, o.frames(44), i.Easing.CubicInOut), o.tween(600, "legal", "opacity", 0, 1, o.frames(44), i.Easing.CubicInOut), o.tween(600, "buttons", "opacity", 0, 1, o.frames(44), i.Easing.CubicInOut) ]) ];
}, "e4140e95:146:21"), e.tweenOut = o.timeline(function() {
return [ o.tween(0, "title", "translateY", 0, -20, o.frames(18), i.Easing.CubicInOut), o.tween(0, "title", "opacity", 1, 0, o.frames(18), i.Easing.CubicInOut), o.tween(100, "subTitle", "translateY", 0, -20, o.frames(18), i.Easing.CubicInOut), o.tween(100, "subTitle", "opacity", 1, 0, o.frames(18), i.Easing.CubicInOut), o.tween(200, "description", "translateY", 0, -20, o.frames(18), i.Easing.CubicInOut), o.tween(200, "description", "opacity", 1, 0, o.frames(18), i.Easing.CubicInOut), o.tween(300, "legal", "opacity", 1, 0, o.frames(18), i.Easing.CubicInOut), o.tween(400, "buttons", "opacity", 1, 0, o.frames(18), i.Easing.CubicInOut), o.trigger(500, "blackFill"), o.trigger(500, "background"), o.tween(500, "gradient", "opacity", 1, 0, o.frames(18), i.Easing.CubicInOut), o.tween(500, "scale", "scaleX", 1.1, 1.2, o.frames(18), i.Easing.CubicInOut), o.tween(500, "scale", "scaleY", 1.1, 1.2, o.frames(18), i.Easing.CubicInOut) ];
}, "e4140e95:167:22"), e = t = r.__decorate([ a.style ], e);
}();
t.TakeoverStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("NewsContentStyles"), a = function() {
function e() {}
var t;
return t = e, e.headerTitleFontSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.XL : o.Constants.TextSize.XXL;
}, "c5e2bea4:15:33"), e.headerTitleFontType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "c5e2bea4:16:33"), e.headerDescriptionFontSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.M : o.Constants.TextSize.L;
}, "c5e2bea4:17:39"), e.headline1FontSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.L : o.Constants.TextSize.XL;
}, "c5e2bea4:19:31"), e.headline2FontSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.M : o.Constants.TextSize.L;
}, "c5e2bea4:20:31"), e.headline3FontSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.S : o.Constants.TextSize.M;
}, "c5e2bea4:21:31"), e.headlineFontSizes = o.value(function() {
return [ t.headline1FontSize, t.headline2FontSize, t.headline3FontSize ];
}, "c5e2bea4:23:31"), e.contentFontSize = o.value(function() {
return o.Constants.isPC ? o.Constants.TextSize.S : o.Constants.TextSize.M;
}, "c5e2bea4:29:29"), e.wrapper = i.wrap(function() {
return o.style({
position: "absolute",
top: o.LayoutBounds.dangerZoneSize.height,
bottom: o.Constants.isPC ? 0 : o.LayoutBounds.dangerZoneSize.height,
left: (o.LayoutBounds.screen.style.width - o.Grid.getWidth(18)) / 2,
right: 0
}, "c5e2bea4:31:21");
}), e.boundsContainer = i.wrap(function() {
return o.style({
localBounds: !1,
flex: 1,
width: o.Grid.getWidth(18),
marginBottom: o.Grid.getHeight(o.Constants.isPC ? 3 : 5)
}, "c5e2bea4:39:29");
}), e.scrollerContainer = i.wrap(function() {
return o.style({
flex: 1,
layer: !0,
layerClip: !0,
width: o.Grid.getWidth(18) + o.Grid.spacer(1),
margin: [ 0, 0, o.Grid.getHeight(2), 0 ]
}, "c5e2bea4:46:31");
}), e.scroller = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(18),
flex: o.Constants.isPC ? 1 : 0,
height: o.Constants.isPC ? void 0 : o.Grid.getHeight(90)
}, "c5e2bea4:54:22");
}), e.content = i.wrap(function() {
return o.style({
minHeight: o.Grid.spacer(90) + 1
}, "c5e2bea4:60:21");
}), e.headingTitle = i.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2)
}, "c5e2bea4:65:26");
}), e.headingTopLine = i.wrap(function() {
return o.style({
height: 1,
flexDirection: "row",
backgroundColor: "#ffffff55",
marginBottom: o.Grid.spacer(3)
}, "c5e2bea4:69:28");
}), e.headingBottomLine = i.wrap(function() {
return o.style({
height: 1,
flexDirection: "row",
backgroundColor: "#ffffff55",
marginTop: o.Grid.spacer(1),
marginBottom: o.Grid.spacer(1)
}, "c5e2bea4:76:31");
}), e.headingMetaDetails = i.wrap(function() {
return o.style({
color: "#b8b8b8",
paddingBottom: o.Grid.spacer(1)
}, "c5e2bea4:84:32");
}), e.headingMetaDetailsTextType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "c5e2bea4:89:40"), e.headingDescription = i.wrap(function() {
return o.style({
color: "#b8b8b8",
marginTop: o.Grid.spacer(1)
}, "c5e2bea4:91:32");
}), e.bodyImage = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(45),
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: o.Grid.spacer(3)
}, "c5e2bea4:96:23");
}), e.bodyParagraph = i.wrap(function() {
return o.style({
textLineSpacing: Math.round(1.2 * o.Constants.LINE_HEIGHTS[t.contentFontSize]),
marginBottom: o.Grid.spacer(3),
textAlign: "justify",
color: "#d3d3d3"
}, "c5e2bea4:103:27");
}), e.listItem = i.wrap(function() {
return o.style({
paddingLeft: o.Grid.spacer(3),
flexDirection: "row"
}, "c5e2bea4:110:22");
}), e.listBullet = i.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-bullet-e736d5bd.png"),
height: o.Constants.isPC ? 6 : 8,
width: o.Constants.isPC ? 6 : 8,
marginTop: (o.Constants.LINE_HEIGHTS[t.contentFontSize] - (o.Constants.isPC ? 14 : 26)) / 2,
marginRight: o.Grid.spacer(3),
color: "#d3d3d3"
}, "c5e2bea4:115:24");
}), e.listParagraph = i.wrap(function() {
return o.style({
flex: 1,
marginBottom: o.Grid.spacer(2)
}, "c5e2bea4:124:27");
}), e.ctaWrapper = i.wrap(function() {
return o.style({
flex: 1,
alignItems: "center",
justifyContent: "center",
marginBottom: o.Grid.spacer(3)
}, "c5e2bea4:129:24");
}), e.ctaButton = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(6)
}, "c5e2bea4:136:23");
}), e.boldParagraph = i.wrap(function() {
return o.style({
textLineSpacing: Math.round(1.2 * o.Constants.LINE_HEIGHTS[t.contentFontSize]),
marginTop: o.Grid.spacer(2),
marginBottom: o.Grid.spacer(2)
}, "c5e2bea4:140:27");
}), e.headline = i.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(2),
marginBottom: o.Grid.spacer(2)
}, "c5e2bea4:146:22");
}), e.headlineTextType = o.value(function() {
return o.Constants.TextType.EMPHASIS;
}, "c5e2bea4:151:30"), e.filler = i.wrap(function() {
return o.style({
height: o.Grid.spacer(2)
}, "c5e2bea4:153:20");
}), e.tocItems = i.wrap(function() {
return o.style({
flexDirection: "row",
padding: [ o.Grid.spacer(2), 0, 0, 0 ],
flexWrap: "wrap"
}, "c5e2bea4:157:22");
}), e.tocButton = i.wrap(function() {
return o.style({
height: o.Grid.spacer(5),
marginRight: o.Grid.spacer(2),
marginBottom: o.Grid.spacer(2)
}, "c5e2bea4:163:23");
}), e = t = r.__decorate([ i.style ], e);
}();
t.NewsContentStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WwceSupportOverviewStyles"), a = function() {
function e() {}
return e.articleTitle = i.wrap(function() {
return o.style({
marginBottom: 2 * o.Grid.GUTTER,
color: "#D7DADA",
left: 3.2 * o.Grid.GUTTER,
textAlignForRTL: "left"
}, "7975173d:7:26");
}), e.articleSummary = i.wrap(function() {
return o.style({
color: "#C7C7C7",
marginBottom: 4 * o.Grid.GUTTER,
left: 3.2 * o.Grid.GUTTER,
textAlignForRTL: "left"
}, "7975173d:14:28");
}), e.articleHover = i.wrap(function() {
return o.style({
color: "#FFFFFF"
}, "7975173d:21:26");
}), e.noContactUs = i.wrap(function() {
return o.style({
position: "absolute",
bottom: o.Constants.isPC ? o.Grid.getHeight(9) : 0,
left: 3.2 * o.Grid.GUTTER,
width: 35 * o.Grid.GUTTER,
height: 7 * o.Grid.GUTTER,
color: "#FFFFFF"
}, "7975173d:25:25");
}), e.contactUsBtn = i.wrap(function() {
return o.style({
padding: [ 10, 80, 5, 80 ],
position: "absolute",
bottom: o.Constants.isPC ? o.Grid.getHeight(9) : 0,
left: 0
}, "7975173d:34:26");
}), e.verticalDivider = i.wrap(function() {
return o.style({
height: 13 * o.Grid.GUTTER,
width: .4 * o.Grid.GUTTER,
marginBottom: .5 * o.Grid.GUTTER,
backgroundColor: "#FFFFFF"
}, "7975173d:41:29");
}), e.noArticleHeading = i.wrap(function() {
return o.style({
color: "#C3C3C3",
textAlignForRTL: "left"
}, "7975173d:48:30");
}), e.noArticleText = i.wrap(function() {
return o.style({
color: "#7C7C7C",
textAlignForRTL: "left"
}, "7975173d:53:27");
}), e.inGameHeader = i.wrap(function() {
return o.style({
color: "#C7C7C7",
height: o.Grid.getHeight(6),
marginBottom: 3 * o.Grid.GUTTER
}, "7975173d:58:26");
}), e.verticleDividerBlurred = i.wrap(function() {
return o.style({
height: 13 * o.Grid.GUTTER,
width: .4 * o.Grid.GUTTER,
marginBottom: .5 * o.Grid.GUTTER
}, "7975173d:64:36");
}), e.articleBlurred = i.wrap(function() {
return o.style({}, "7975173d:70:28");
}), e = r.__decorate([ i.style ], e);
}();
t.WwceSupportOverviewStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WwceSupportChannelSelectionStyles"), a = function() {
function e() {}
return e.title = i.wrap(function() {
return o.style({
color: "#FFFFFF"
}, "475863bd:7:19");
}), e.boxesContainer = i.wrap(function() {
return o.style({
flexDirection: "row",
height: o.Grid.getHeight(70)
}, "475863bd:11:28");
}), e.channelList = i.wrap(function() {
return o.style({
marginTop: 8 * o.Grid.GUTTER
}, "475863bd:16:25");
}), e.channel = i.wrap(function() {
return o.style({
color: "#FFFFFF",
marginBottom: 3 * o.Grid.GUTTER,
marginLeft: 3 * o.Grid.GUTTER,
marginRight: 3 * o.Grid.GUTTER
}, "475863bd:20:21");
}), e.channelText = i.wrap(function() {
return o.style({
color: "#FFFFFF",
marginBottom: 4 * o.Grid.GUTTER,
marginLeft: 3 * o.Grid.GUTTER,
marginRight: 3 * o.Grid.GUTTER
}, "475863bd:27:25");
}), e.deflectionImageStyle = i.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/CallUs_normalstate_PC-946a54a6.png"),
width: 12 * o.Grid.GUTTER,
height: 12 * o.Grid.GUTTER
}, "475863bd:34:34");
}), e.phoneImageStyle = i.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/Callback_Off-fe8c9b2c.png"),
width: 12 * o.Grid.GUTTER,
height: 12 * o.Grid.GUTTER
}, "475863bd:40:29");
}), e = r.__decorate([ i.style ], e);
}();
t.WwceSupportChannelSelectionStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WwceSupportCategorySelectionStyles"), a = function() {
function e() {}
return e.title = i.wrap(function() {
return o.style({
color: "#FFFFFF"
}, "4438b0f7:7:19");
}), e.boxesContainer = i.wrap(function() {
return o.style({
flexDirection: "row",
height: o.Grid.getHeight(70),
color: "#FFFFFF",
fontSize: o.Constants.isPC ? 24 : 30
}, "4438b0f7:11:28");
}), e.categoryList = i.wrap(function() {
return o.style({
marginTop: 8 * o.Grid.GUTTER
}, "4438b0f7:18:26");
}), e.category = i.wrap(function() {
return o.style({
color: "#FFFFFF",
marginBottom: 4 * o.Grid.GUTTER,
marginLeft: 3 * o.Grid.GUTTER,
marginRight: 3 * o.Grid.GUTTER
}, "4438b0f7:22:22");
}), e = r.__decorate([ i.style ], e);
}();
t.WwceSupportCategorySelectionStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WwceSupportArticleDetailStyles"), a = function() {
function e() {}
return e.articleContent = i.wrap(function() {
return o.style({
color: "#C7C7C7",
textAlignForRTL: "left"
}, "a9aad75f:7:28");
}), e.articleSummary = i.wrap(function() {
return o.style({
marginBottom: 32,
color: "#FFFFFF",
textAlignForRTL: "left"
}, "a9aad75f:12:28");
}), e.articleTitle = i.wrap(function() {
return o.style({
marginBottom: 38,
color: "#FFFFFF",
textAlignForRTL: "left"
}, "a9aad75f:18:26");
}), e.noContactUs = i.wrap(function() {
return o.style({
marginRight: 25 * o.Grid.GUTTER,
width: 80 * o.Grid.GUTTER,
color: "#FFFFFF"
}, "a9aad75f:24:25");
}), e.helpfulnessText = i.wrap(function() {
return o.style({
marginTop: 2.5 * o.Grid.GUTTER,
marginRight: 4.5 * o.Grid.GUTTER
}, "a9aad75f:30:29");
}), e.helpfulnessBtn = i.wrap(function() {
return o.style({
marginLeft: o.Grid.GUTTER,
width: 13.5 * o.Grid.GUTTER,
height: 7 * o.Grid.GUTTER
}, "a9aad75f:35:28");
}), e.selectedBtnStyle = i.wrap(function() {
return o.style({
backgroundColor: "#585858",
color: "#ffffff"
}, "a9aad75f:41:30");
}), e.contactUsBar = i.wrap(function() {
return o.style({
flexDirection: "row",
position: "absolute",
bottom: o.Constants.isPC ? o.Grid.getHeight(9) : 0,
left: 0
}, "a9aad75f:46:26");
}), e.rtlMargin = i.wrap(function() {
return o.style({
marginLeft: 4.5 * o.Grid.GUTTER
}, "a9aad75f:53:23");
}), e = r.__decorate([ i.style ], e);
}();
t.WwceSupportArticleDetailStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.getParentChain = function r(e) {
return e._reactInternalFiber ? function e(t) {
var n = t._debugOwner ? e(t._debugOwner) : "", r = "string" == typeof t.type ? t.type : t.type.name;
return (n ? n + " > " : "") + r;
}(e._reactInternalFiber) : "unknown";
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.delegate = t;
};
}();
t.SpartaNativeApiGenerated = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(221), a = n(15), s = n(304), u = n(532), l = n(14), c = n(9), p = [ 2180, 1226 ], d = (l.bbOfflineUrl("/sparta/jsclient/builds/assets/generic_bg_2-6a4a26e3.jpg"), 
c.SpartaGlobals.bundleIsPC ? a.Animation.presets.transition : a.Animation.defaultTweenOptions), f = function() {
function e(e) {
var t = e.config;
this.disabled = !0 === t.disableBackground, this.videoUrl = t.backgroundVideoUrl, 
this.videoFirstFrame = t.backgroundVideoFirstFrame, this.videoTint = t.backgroundVideoTint, 
this.url = t.backgroundUrl, this.size = t.backgroundSize || p, this.scaleToScreen = !!t.backgroundScaleToScreen, 
this.overlayUrl = t.backgroundOverlayUrl, this.overlaySize = t.backgroundOverlaySize, 
this.skyColor = t.backgroundSkyColor, this.backgroundColor = t.backgroundColor, 
this.dynamicBackground = t.dynamicBackground, this.location = e.location, this.disableBlur = t.backgroundDisableBlur, 
this.disableDepthZoom = t.backgroundDisableDepthZoom, this.disableViewOffset = t.backgroundDisableViewOffset, 
this.mainMenuIndex = e.mainMenuIndex, this.subMenuIndex = e.subMenuIndex, this.subMenuCount = e.subMenuConfigs.length, 
this.breadcrumbsCount = e.breadcrumbs.length;
}
return e.prototype.equals = function(e) {
var t = this.mainMenuIndex === e.mainMenuIndex, n = this.url === e.url, r = this.videoUrl === e.videoUrl;
return t && n && r;
}, e.equalsAggregate = function(e, t) {
var n = e.mainMenuIndex === t.mainMenuIndex, r = e.url === t.config.backgroundUrl, o = e.videoUrl === t.config.backgroundVideoUrl;
return n && r && o;
}, e;
}();
t.BackgroundInfo = f;
var m = function(e) {
function t(t, n) {
var r = e.call(this, t) || this;
return r.info = n, r;
}
return r.__extends(t, e), t.prototype.setContent = function(e) {
this.info = e;
}, t.prototype.contentEquals = function(e) {
return !!this.info && this.info.equals(e);
}, r.__decorate([ o.observable ], t.prototype, "info", void 0), r.__decorate([ o.action ], t.prototype, "setContent", null), 
t;
}(i.ItemState);
t.BackgroundItem = m;
var h = function(e) {
function t(t, n, r, i) {
for (var s = [], l = 4; l < arguments.length; l++) s[l - 4] = arguments[l];
var c = e.apply(this, [ i ].concat(s)) || this;
c.uiState = t, c.layoutVisibilityStore = n, c.extra = new u.ExtraElements("BackgroundContainer"), 
c.backgroundTweens = {
offsetX: a.Animation.tween("b4ef07c1:108:34", 0, d),
textureScale: a.Animation.tween("b4ef07c1:109:39", 1, d),
blurStrength: a.Animation.tween("b4ef07c1:110:39", 0, d),
opacity: a.Animation.tween("b4ef07c1:111:34", 1, d)
}, c.overlayTweens = {
offsetX: a.Animation.tween("b4ef07c1:114:34", 0, d),
offsetY: a.Animation.tween("b4ef07c1:115:34", 0, d),
textureScale: a.Animation.tween("b4ef07c1:116:39", 1, d),
blurStrength: a.Animation.tween("b4ef07c1:117:39", 0, d)
};
var p = null;
return o.reaction(function() {
return r.current;
}, function(e) {
p && f.equalsAggregate(p, e) ? c.current && c.current.setContent(new f(e)) : (p = new f(e), 
c.switchToItem(p));
}), o.autorun(function() {
c.backgroundTweens.offsetX.to(c.offsetX), c.backgroundTweens.textureScale.to(c.zoom), 
c.backgroundTweens.blurStrength.to(c.blurStrength), c.backgroundTweens.opacity.to(c.opacity), 
c.overlayTweens.offsetX.to(c.overlayOffsetX), c.overlayTweens.offsetY.to(c.overlayOffsetY), 
c.overlayTweens.textureScale.to(c.overlayZoom), c.overlayTweens.blurStrength.to(c.overlayBlurStrength);
}), c;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "offsetX", {
get: function() {
return this.current && this.current.info && !this.current.info.disableViewOffset ? this.getViewOffset(this.current.info) : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayOffsetX", {
get: function() {
return 1.5 * this.offsetX + 600;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "blurDepth", {
get: function() {
return this.current && this.current.info ? Math.max(1, this.current.info.breadcrumbsCount - 2) : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "blurStrength", {
get: function() {
return this.current && this.current.info && this.current.info.videoUrl && s.layoutFeatureFlags.useVideoBg.isEnabled() ? Math.min(2 * this.blurDepth + 1, 40) : this.current && this.current.info && this.current.info.disableBlur ? 0 : Math.min(2 * this.blurDepth, 20);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "opacity", {
get: function() {
var e = this.current && this.current.info;
if (!e) return 0;
var t = e.dynamicBackground ? e.dynamicBackground.get(e.location) : void 0;
return !!e.backgroundColor || !!e.url || t && t.imageUrl ? 1 : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayBlurStrength", {
get: function() {
return .2 * this.blurStrength;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayOffsetY", {
get: function() {
var e = 0;
return 2 === this.blurDepth ? e = 100 : 3 === this.blurDepth && (e = 250), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "zoom", {
get: function() {
var e = this.current ? this.current.info : void 0;
return e && e.disableDepthZoom ? 1 : 1 + .4 * this.getMenuDepth(e);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "overlayZoom", {
get: function() {
return 1.05 * this.zoom;
},
enumerable: !0,
configurable: !0
}), t.getViewOffsetXStepWidth = function(e, t) {
var n = t.size[0];
if (e.window.width > n) return 0;
var r = Math.abs(e.window.width - n) / 2, o = Math.floor(r / (t.subMenuCount + 1));
return Math.min(o, 80);
}, t.prototype.getViewOffset = function(e) {
var n = this.layoutVisibilityStore.viewOffsetX ? 190 : 0, r = t.getViewOffsetXStepWidth(this.uiState, e), o = n + Math.max(e.subMenuIndex, 0) * -r;
return c.SpartaGlobals.bundleIsConsole && this.layoutVisibilityStore.comCenter && (o -= r), 
o * this.uiState.viewportScale.scaleX;
}, t.prototype.getMenuDepth = function(e) {
return e ? Math.max(e.breadcrumbsCount - 3, 0) : 0;
}, t.prototype.getSkyColor = function() {
return this.current && this.current.info && this.current.info.skyColor;
}, r.__decorate([ o.computed ], t.prototype, "offsetX", null), r.__decorate([ o.computed ], t.prototype, "overlayOffsetX", null), 
r.__decorate([ o.computed ], t.prototype, "blurDepth", null), r.__decorate([ o.computed ], t.prototype, "blurStrength", null), 
r.__decorate([ o.computed ], t.prototype, "opacity", null), r.__decorate([ o.computed ], t.prototype, "overlayBlurStrength", null), 
r.__decorate([ o.computed ], t.prototype, "overlayOffsetY", null), r.__decorate([ o.computed ], t.prototype, "zoom", null), 
r.__decorate([ o.computed ], t.prototype, "overlayZoom", null), t;
}(i.EnterLeaveState);
t.BackgroundContainer = h;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(116), o = function() {
return function e() {
this.resetUserData = new r.TwinkleSignal();
};
}();
t.SpartaEvents = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
n(3);
var r = function() {
function e(e) {
this.frostbite = e, this.history = void 0;
}
return e.prototype.show = function(e, t) {
this.frostbite.sendMessage("sparta.showLoadingUi", {
show: t
});
}, e;
}();
t.LoadingUi = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(287), i = n(40), a = "children", s = "object", u = "events", l = "shaderUrl", c = "shaderProgram", p = "shaderParam_";
t.diffProps = function d(e, t, n) {
var d;
r || (r = new Set(i.getBuildInfo().getSurfaceProps())).has(u) || r.add(u);
var f, m, h = !1;
for (d in e) !t.hasOwnProperty(d) && e.hasOwnProperty(d) && null != e[d] && (h = !0, 
n[d] = null);
for (d in t) f = t[d], m = null != e ? e[d] : void 0, !t.hasOwnProperty(d) || f === m || null == f && null == m || d === a || typeof f === s && o.isEqual(m, f) || (r.has(d) || (t[l] || t[c]) && d.startsWith(p)) && (h = !0, 
n[d] = f);
return h;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
n(40);
var r, o = n(3), i = n(24), a = n(18), s = n(118), u = n(1088), l = n(1090), c = n(552), p = n(1093), d = (n(96), 
n(11)), f = n(222), m = n(56), h = n(36), g = n(36), y = n(292), S = n(553), v = n(129);
n(511);
t.initialize = function _(e) {
var t = e.stores, n = t.inputStore, _ = t.localeState, b = (t.locationStore, t.layoutStateStore), T = t.nativePropertiesStore, E = t.gameStateStoreLoader, C = t.spartaActivatedStore;
t.routeStore, u.coreBindings(e), l.networkBindings(e), c.presenceBindings(e), p.taskbarBindings(e), 
g.initializeTelemetry(e), y.translationFallbackListener(_), S.mandatoryUpdateBindings(e);
var I = [ d.Keys.Accept, d.Keys.Decline, d.Keys.Option1, d.Keys.Option3, d.Keys.Option4, d.Keys.Option2, d.Keys.Start, d.Keys.Home, d.Keys.End, d.Keys.Previous, d.Keys.Next, d.Keys.Select ];
function A(e) {
e.isRepeat || -1 === I.indexOf(e.key) || s.playEffect(v.AudioEffect.Select);
}
n.calledAction.listen(A), n.calledHoldAction.listen(A), n.calledReleaseAction.listen(A), 
T.onHostingGame(function(e) {
a.gotoLocation(e.startRoute);
}), r = o.reaction(function() {
return C.navigationState;
}, function(e) {
!function t(e) {
var t = E.gameStateStore, n = t && t.isOnPlayableLevel;
e === m.NavigationStates.LoadingScreen && n && (f.tryShowLegal(), r());
}(e);
}, {
fireImmediately: !0
}), i.onError.listen(function(e, t) {
var n = t.methodName, r = e && null != e.code ? e.code.toString() : "";
h.trackException("GatewayRequest: " + n), h.trackEvent("GatewayRequestError", n, r);
}), o.reaction(function() {
return b.current.config;
}, function(t) {
t.backgroundMusicUrl ? e.stores.backgroundMusicStore.setUrl(t.backgroundMusicUrl) : e.stores.backgroundMusicStore.setNativeTrack(t.backgroundMusicTrack);
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(118), i = n(3), a = n(56), s = n(18), u = n(550), l = n(199), c = n(406), p = n(117), d = n(551), f = n(301), m = n(9), h = n(129), g = n(27);
t.coreBindings = function y(e) {
d.setupGatewayBindings(e);
var t = e.twinkle, n = t.inputHandler, y = t.frostbite, S = e.stores, v = S.inputStore, _ = S.expansionStore, b = S.socialState, T = S.onlineState, E = S.freemiumStore, C = S.spartaActivatedStore, I = S.gameStateStoreLoader, A = S.gatewayState, w = S.locationStore, P = S.gamePushNotifications, R = S.popupStore, O = (S.userStore, 
S.entitlementStore), x = S.gameStore, k = S.layoutVisibilityStore;
function L() {
O.refresh(x.getRegisteredGameIds().concat([ "sparta" ]));
}
i.reaction(function() {
return T.isOnlineBlazeAndGateway;
}, function(e) {
e && c.fetchLiveConfig();
}), i.reaction(function() {
return E.isPremiumTrialEnabled;
}, function(e) {
y.sendMessage("sparta.premiumTrialEnabled", {
enabled: e
});
}), s.quitSparta.listen(function() {
y.sendMessage("sparta.quit");
}), o.playEffect.listen(function(e) {
y.sendMessage("sparta.audioMessage", {
type: h.AudioType.Effect,
effect: e
});
}), o.playTrack.listen(function(e) {
C.navigationState !== a.NavigationStates.LoadingScreen && y.sendMessage("sparta.audioMessage", {
type: h.AudioType.Track,
track: e,
action: h.AudioAction.Play
});
}), o.stopTrack.listen(function(e) {
C.navigationState !== a.NavigationStates.LoadingScreen && y.sendMessage("sparta.audioMessage", {
type: h.AudioType.Track,
track: e,
action: h.AudioAction.Stop
});
}), A.onSessionEstablished.listen(function() {
L(), I.map(function(e) {
_.get(e.serverGameId, m.SpartaGlobals.bundlePlatform);
});
}), i.reaction(function() {
return A.session;
}, function(e) {
e && e.parameters && y.sendMessage("sparta.featureFlags", {
enabledFlags: e.parameters.featureFlags
});
}), y.registerMessageListener("sparta.nativeClientReadyMessage", function(e, t) {
p.coreEventStore.onNativeClientReadyMessage(t);
}), y.registerMessageListener("sparta.blazeConfigReadyMessage", function(e, t) {
p.coreEventStore.onBlazeConfigReadyMessage(t);
}), y.registerMessageListener("sparta.nativeClientSettingsMessage", function(e, t) {
p.coreEventStore.onNativeClientSettingsMessage(t);
}), y.registerMessageListener("sparta.firstPartyConnectedMessage", function(e, t) {
p.coreEventStore.onFirstPartyConnectedMessage(t);
}), y.registerMessageListener("sparta.childProcessError", function(e, t) {
p.coreEventStore.spartaErrorMessage(t.message);
}), y.registerMessageListener("sparta.controllerDisconnected", function(t, n) {
if (e.twinkle.buildInfo.isConsole) {
var o = !n.disconnected;
n.disconnected ? r = k.content : r && (o = r), k.setVisibilities({
content: o
});
}
}), y.registerMessageListener("sparta.getLocation", function(e, t) {
I.onLoad(function(e) {
y.sendMessage("sparta.getLocationResponse", {
location: w.location.toString(),
section: w.location.section,
queryString: w.location.queryString,
path: w.location.path,
cause: w.location.cause,
gameViewIsVisible: e.gameViewState.isVisible,
gameViewRoute: e.gameViewState.route,
gameViewSubRoute: e.gameViewState.subRoute
});
});
}), n.onMouseEventHandled.listen(function(e) {
(e.event === g.MouseEventType.onClick || e.event === g.MouseEventType.onMouseDown && e.button === g.MouseButton.Secondary) && o.playEffect(h.AudioEffect.Select);
}), n.onMouseEventAfterPropagation.listen(function(e) {
if (e.event === g.MouseEventType.onMouseUp) {
var t = R.updatedPopups.size;
if (I.get().isGameViewVisible || t > 0 || b.isOpened || v.inputBlocked || v.inputBlockedInRime) return;
e.button === g.MouseButton.Back ? (o.playEffect(h.AudioEffect.Select), w.goBack()) : e.button === g.MouseButton.Forward && (o.playEffect(h.AudioEffect.Select), 
w.goForward());
}
}), s.setClientVideoRecordingEnabled.listen(function(e) {
y.sendMessage("sparta.enableClientVideoRecording", {
enabled: e
});
}), P.listen(f.PushNotificationTopic.LICENSES_CHANGED, function(e) {
L();
}), P.listen(f.PushNotificationTopic.PLATOON_DATA_UPDATE, function(e) {
f.isPlatoonUpdate(e.payload, f.PushNotificationTopic.PLATOON_DATA_UPDATE) && u.handlePushNotification(e.payload);
}), I.onLoad(function(t) {
i.when(function() {
return t.isGameViewVisible;
}, function() {
return e.stores.takeoverStore.disable(l.TakeoverType.Popup);
});
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClient = function o(e) {
return new r.Client("Configuration.getLiveConfig", {
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(88), o = n(308), i = n(309), a = n(1091);
t.networkBindings = function s(e) {
var t = e.twinkle.frostbite, n = r.debounce(function() {
o.flushCache();
var e = a.NetworkStore.getState();
if (e.pingTargetsQueue.length) {
var n = [];
e.pingTargetsQueue.forEach(function(t) {
e.pingCache[t] ? i.pingCompleted(t, e.pingCache[t].ping, !1) : n.push(t);
}), n.length && t.sendMessage("network.ping", {
targets: n,
isQos: !1
});
}
if (e.qosPingTargetsQueue.length) {
var r = [];
e.qosPingTargetsQueue.forEach(function(t) {
e.qosPingCache[t] ? i.qosPingCompleted(t, e.qosPingCache[t].ping, !1) : r.push(t);
}), r.length && t.sendMessage("network.ping", {
targets: r,
isQos: !0
});
}
if (e.resolveTargetsQueue.length) {
var s = [];
e.resolveTargetsQueue.forEach(function(t) {
e.resolveCache[t] ? i.resolveCompleted(t, e.resolveCache[t].ip) : s.push(t);
}), s.length && t.sendMessage("network.resolve", {
targets: s
});
}
o.emptyQueue();
}, 500, !1);
o.ping.listen(n), o.qosPing.listen(n), o.resolve.listen(n), t.registerMessageListener("network.pingCompleted", function(e, t) {
t.isQos ? i.qosPingCompleted(t.target, t.ping, t.timeout) : i.pingCompleted(t.target, t.ping, t.timeout);
}), t.registerMessageListener("network.resolveCompleted", function(e, t) {
i.resolveCompleted(t.host, t.ip);
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(308), o = n(309), i = n(1092), a = n(178), s = n(152), u = (function() {
}(), new s.InternalStorage("NetworkStore", {
pingTargetsQueue: [],
qosPingTargetsQueue: [],
resolveTargetsQueue: [],
pingCache: {},
qosPingCache: {},
resolveCache: {}
}));
function l(e, t) {
return void 0 === e && (e = []), void 0 === t && (t = []), Array.from(new Set(e.concat(t))).filter(function(e) {
return !!e;
});
}
t.NetworkStore = a.createStore({
init: function() {
var e = this;
r.ping.listen(function(t) {
var n = l(u.getState().pingTargetsQueue, t);
u.merge({
pingTargetsQueue: n
}), e.trigger(e.getState());
}), r.qosPing.listen(function(t) {
var n = l(u.getState().qosPingTargetsQueue, t);
u.merge({
qosPingTargetsQueue: n
}), e.trigger(e.getState());
}), r.resolve.listen(function(t) {
var n = l(u.getState().resolveTargetsQueue, t);
u.merge({
resolveTargetsQueue: n
}), e.trigger(e.getState());
}), o.pingCompleted.listen(function(e, t, n) {
var r = u.getState().pingCache;
r[e] = new i.NetworkCacheItem({
ip: e,
ping: n ? null : t
}), u.merge({
pingCache: r
});
}), o.qosPingCompleted.listen(function(e, t, n) {
if (!n) {
var r = u.getState().qosPingCache;
r[e] = new i.NetworkCacheItem({
pingSiteAlias: e,
ping: t
}), u.merge({
qosPingCache: r
});
}
}), o.resolveCompleted.listen(function(e, t) {
if (t) {
var n = u.getState().resolveCache;
n[e] = new i.NetworkCacheItem({
host: e,
ip: t
}), u.merge({
resolveCache: n
});
}
}), r.flushCache.listen(function() {
var e = Date.now(), t = u.getState(), n = t.pingCache, r = t.qosPingCache, o = t.resolveCache;
Object.keys(n).forEach(function(t) {
e - n[t].createdAt > 6e4 && delete n[t];
}), Object.keys(r).forEach(function(t) {
e - r[t].createdAt > 6e5 && delete r[t];
}), Object.keys(o).forEach(function(t) {
e - o[t].createdAt > 6e5 && delete o[t];
}), u.merge({
pingCache: n,
qosPingCache: r,
resolveCache: o
});
}), r.emptyQueue.listen(function() {
u.merge({
pingTargetsQueue: [],
qosPingTargetsQueue: [],
resolveTargetsQueue: []
});
});
},
getState: function() {
return u.getState();
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
void 0 === t && (t = {}), this.host = t.host, this.ip = t.ip, this.pingSiteAlias = t.pingSiteAlias, 
this.ping = t.ping, this.createdAt = t.createdAt || Date.now();
};
}();
t.NetworkCacheItem = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(9), o = n(3), i = {
Normal: 0,
IndeterminateProgress: 1,
Progress: 2,
Paused: 8,
Error: 4
};
t.taskbarBindings = function a(e) {
if (r.SpartaGlobals.bundleIsPC) var t = e.twinkle.frostbite, n = o.reaction(function() {
return {
progress: e.stores.installStateStore.progress,
isInstalling: e.stores.installStateStore.isInstalling
};
}, function(e) {
var r = e.progress >= 1, o = r ? i.Normal : i.Paused, a = e.isInstalling ? i.Progress : o;
t.sendMessage("sparta.pc.setTaskbarProgress", {
state: a,
currentValue: Math.round(100 * e.progress),
maxValue: 100
}), r && (n(), t.sendMessage("sparta.pc.flashTaskbar", {
numTimes: 3,
timeoutMs: 750
}));
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(28), a = n(86), s = n(6), u = n(290), l = n(4), c = n(553), p = n(5), d = n(17), f = n(9), m = {
container: {
width: o.getWidth(8),
alignItems: "center"
},
header: {
marginBottom: 2 * o.GUTTER
},
centerLabel: {
marginBottom: 3 * o.GUTTER,
textAlign: "center",
width: o.getWidth(8),
textAlignForRTL: "center"
},
progressContainer: {
alignItems: "center"
},
progressLabel: {
marginBottom: o.GUTTER
},
progressBar: p.StaticStyle.create({
marginBottom: 3 * o.GUTTER,
width: o.getWidth(7)
}, "24ea3544:38:17"),
label: {
marginBottom: 3 * o.GUTTER
},
btnRow: {
width: o.getWidth(7),
flexDirection: "row",
justifyContent: "space-around"
},
btn: {
width: o.getWidth(3),
marginRight: 2 * o.GUTTER
}
}, h = f.SpartaGlobals.bundleIsPC ? "M" : "L", g = f.SpartaGlobals.bundleIsPC ? "S" : "M", y = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return u.bundleUpdateStore.isMandatoryUpdateAvailable ? r.createElement("surface", {
style: m.container
}, r.createElement(s.Text, {
key: "title",
value: __("ID_SPARTA_MANDATORY_UPDATE_TITLE").toUpperCase(),
size: h,
style: m.header,
type: "emphasis"
}), r.createElement(s.Text, {
style: m.centerLabel,
size: g,
value: __("ID_SPARTA_MANDATORY_UPDATE_TEXT")
}), r.createElement("surface", {
style: m.btnRow
}, r.createElement(i.Button, {
name: "24ea3544:82:35",
text: __("ID_SPARTA_MANDATORY_UPDATE_UPDATE"),
style: m.btn,
action: c.confirmUpdate
}), r.createElement(i.Button, {
name: "24ea3544:88:35",
text: __("ID_SPARTA_MANDATORY_UPDATE_NOT_NOW"),
style: m.btn,
action: c.delayUpdate
}))) : u.bundleUpdateStore.isMandatoryUpdateDownloading ? r.createElement("surface", {
style: m.container
}, r.createElement(s.Text, {
key: "title",
value: __("ID_SPARTA_MANDATORY_UPDATE_DOWNLOADING").toUpperCase(),
size: h,
style: m.header,
type: "emphasis"
}), r.createElement(S, null), r.createElement("surface", {
style: m.btnRow
}, r.createElement(i.Button, {
name: "24ea3544:109:35",
text: __("ID_SPARTA_ACTION_CANCEL"),
style: m.btn,
action: c.cancelUpdate
}))) : u.bundleUpdateStore.isMandatoryUpdateInstalled ? r.createElement("surface", {
style: m.container
}, r.createElement(s.Text, {
key: "title",
value: __("ID_SPARTA_MANDATORY_UPDATE_DOWNLOADING").toUpperCase(),
size: h,
style: m.header,
type: "emphasis"
}), r.createElement(s.Text, {
style: m.label,
size: g,
value: __("ID_SPARTA_MANDATORY_UPDATE_APPLYING")
})) : null;
}, n = e.__decorate([ l.observer ], n);
}(r.Component);
t.MandatoryUpdatePopup = y;
var S = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = u.bundleUpdateStore.numFilesToDownload, t = u.bundleUpdateStore.numRemainingFiles, n = Math.round((e - t) / e * 100), o = __("ID_SPARTA_FORMAT_PERCENT").replace("[[value]]", "" + n);
return r.createElement("surface", {
style: m.progressContainer
}, r.createElement(s.Text, {
style: m.progressLabel,
size: g,
value: o
}), r.createElement(a.ProgressBar, {
height: "M",
completed: n / 100,
barColorStyle: d.CommonStyles.bgColor("#ffffff"),
bgColorStyle: d.CommonStyles.bgColor("#ffffff33"),
style: m.progressBar
}));
}, n = e.__decorate([ l.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(32), i = n(526), a = n(4), s = n(18), u = n(1), l = n(26), c = n(11), p = n(136), d = n(6), f = n(12), m = n(17), h = n(408), g = n(7), y = n(409), S = n(410), v = n(40);
function _(e, t) {
var n = Object.keys(e).map(function(t) {
return u.createElement(d.Text, {
key: t,
value: "[ " + t + "=" + e[t] + " ]",
size: "XS"
});
});
return u.createElement("surface", {
style: S.DebugScreenStyles.section,
key: t
}, t ? u.createElement(d.Text, {
value: t,
size: "M",
style: S.DebugScreenStyles.text
}) : void 0, n);
}
function b(e, t) {
var n = e.sort();
return u.createElement("surface", {
key: t,
style: S.DebugScreenStyles.section
}, u.createElement(d.Text, {
value: t,
size: "M",
style: S.DebugScreenStyles.text
}), n.map(function(e) {
return u.createElement(d.Text, {
key: e,
value: e,
size: "XS"
});
}));
}
var T = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = g.SpartaContext.getFromComponent(r), r.metricUpdate = 0, r.state = {
metrics: i.Metrics.get()
}, r;
}
return r.__extends(t, e), t.prototype.getInput = function() {
var e = this;
return new f.Input({
label: "Exit",
key: c.Keys.Option1,
action: function() {
e.sparta.stores.locationStore.canGoBack ? e.sparta.stores.locationStore.goBack() : s.gotoLocation(e.sparta.stores.nativePropertiesStore.getHostingGame().startRoute);
}
});
}, t.prototype.componentDidMount = function() {
var e = this;
this.metricUpdate = setInterval(function() {
e.setState({
metrics: i.Metrics.get()
});
}, 1e3);
}, t.prototype.componentWillUnmount = function() {
clearInterval(this.metricUpdate);
}, t.prototype.render = function() {
var e = this.sparta.stores, t = e.settingsStore, n = e.nativePropertiesStore, i = e.localeState, a = e.gameStore, s = p.PingSiteStore.getState(), l = {};
Object.keys(s).forEach(function(e) {
Object.keys(s[e]).forEach(function(t) {
var n = s[e][t];
l[t] = n.ping || -1;
});
});
var c = this.sparta.stores.onlineState.sessionUser, f = c ? c.displayName : "<offline>", g = t.UGCAccessLevel, y = {
gameId: n.hostingGameId,
protocolVersion: n.protocolVersion,
gatewayHost: n.gatewayUrl,
buildConfig: v.getBuildInfo().buildConfig,
onlineEnvironment: n.envOnlineEnvironment,
pingSites: JSON.stringify(l).split('"').join("").split(",").join(", "),
jsBundle: "release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod (2020-08-04 07:21:32 UTC)",
user: f,
battlebinaryPrefix: t.battlebinaryPrefix,
isTelemetryEnabled: t.isTelemetryEnabled,
ugcLevel: g,
locale: i.gameLocaleOrDefault,
region: n.region
}, T = n.getHostingGameId(), C = h.environmentInfoStore.get(T).value, I = C ? r.__assign({}, C) : {}, A = Array.from(t.nativeFlags), w = Array.from(t.featureFlags), P = a.getRegisteredGames().map(function(e) {
return _(e.getDebugScreenInfo(), e.displayName());
});
return u.createElement(o.Template, {
scrollContent: !0,
tallContent: !0,
verticalIndicator: !0,
clipContent: !0,
scrollListener: !0
}, u.createElement("surface", {
style: m.CommonStyles.flexRow
}, u.createElement("surface", {
style: S.DebugScreenStyles.leftColumn
}, _(y, "Connection Status"), _(I, "Environment Info"), b(w, "Rollout Flags"), b(A, "Native Flags")), u.createElement("surface", {
style: S.DebugScreenStyles.rightColumn
}, u.createElement(E, {
messages: this.props.messages
}), P, u.createElement("surface", {
style: S.DebugScreenStyles.section
}, u.createElement(d.Text, {
value: "Metrics",
size: "M",
style: S.DebugScreenStyles.text
}), u.createElement(d.Text, {
value: JSON.stringify(this.state.metrics, null, 2),
size: "XS"
})))));
}, t.contextTypes = g.SpartaContext.contextTypes, t = r.__decorate([ a.observer, l.input ], t);
}(u.Component);
t.DebugScreen = T;
var E = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.messages.map(function(e, t) {
var n = e.date, r = e.message, o = e.user;
return u.createElement(d.Text, {
size: "XS",
key: t + ":" + n,
style: S.DebugScreenStyles.text,
value: new Date(n).toLocaleTimeString() + ": sessionUser: " + (o ? o.displayName : "") + "\n[ " + r.toString() + " ]"
});
});
return u.createElement(u.Fragment, null, u.createElement("surface", {
style: S.DebugScreenStyles.section
}, u.createElement(d.Text, {
value: "PresenceState",
size: "M",
style: S.DebugScreenStyles.text
}), u.createElement(y.ConnectionState, {
name: "76457661:177:31",
alignLeft: !0,
style: S.DebugScreenStyles.connectionState,
contentStyle: S.DebugScreenStyles.connectionStateContent
})), u.createElement("surface", {
style: S.DebugScreenStyles.section
}, u.createElement(d.Text, {
value: "PresenceStatusMessages",
size: "M",
style: S.DebugScreenStyles.text
}), e));
}, t = r.__decorate([ a.observer ], t);
}(u.Component);
t.PresenceStatus = E;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1097), o = n(24);
t.environmentInfoClient = r.createClient(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClient = function o(e) {
return new r.Client("Configuration.getEnvInfo", {
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(1099), a = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.client = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.client.request(t);
e.useClientResult(n, i.EnvironmentInfo.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.EnvironmentInfoStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
this.version = "", this.tenancy = "", this.blaze = "", this.gameData = "", e && (this.version = e.version, 
this.tenancy = e.tenancy, this.blaze = e.blaze, this.gameData = e.gameData);
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.EnvironmentInfo = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ConnectionStateStyles"), a = function() {
function e() {}
var t;
return t = e, e.textMarginBottom = o.value(function() {
return o.Grid.getHeight(3);
}, "472016b0:7:30"), e.container = i.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
zOffset: 10,
justifyContent: "center",
alignItems: "center"
}, "472016b0:8:23");
}), e.content = i.wrap(function() {
return o.style({
flexDirection: "column",
alignItems: "center",
width: o.Grid.getWidth(20)
}, "472016b0:19:21");
}), e.title = i.wrap(function() {
return o.style({
marginBottom: t.textMarginBottom
}, "472016b0:25:19");
}), e.description = i.wrap(function() {
return o.style({
opacity: .7,
textLineSpacing: 30,
marginBottom: t.textMarginBottom,
textAlignForRTL: "center"
}, "472016b0:29:25");
}), e.descriptionCentered = i.wrap(function() {
return o.style({
alignSelf: "flex-start",
textAlign: "center",
textAlignForRTL: "center"
}, "472016b0:36:33");
}), e.spinner = i.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(3)
}, "472016b0:42:21");
}), e.connectButton = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(4.5),
height: o.Grid.getHeight(5)
}, "472016b0:46:27");
}), e.closeButton = i.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(),
width: o.Grid.getWidth(4.5),
height: o.Grid.getHeight(5)
}, "472016b0:51:25");
}), e.alignItemRTL = i.wrap(function() {
return o.style({
alignSelf: "center"
}, "472016b0:57:26");
}), e = t = r.__decorate([ i.style ], e);
}();
t.ConnectionStateStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(32), s = n(10), u = n(18), l = n(26), c = n(11), p = n(6), d = n(12), f = n(17), m = n(28), h = n(112), g = n(25), y = n(38), S = n(1102), v = n(41), _ = n(1103), b = n(9), T = n(375), E = n(410), C = n(5), I = n(7);
var A = {}, w = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = I.SpartaContext.getFromComponent(t), t.bundlePlatform = function n(e, t) {
switch (e.toLowerCase()) {
case "pc":
return "pc";

case "xboxone":
return "xboxone";

case "ps4":
return "ps4";

case "web":
return "web";

default:
return t;
}
}(b.SpartaGlobals.bundlePlatform, "pc"), t.state = {
payload: r.__assign({}, t.sparta.stores.recommendationStore.previewPayload, {
platform: t.sparta.stores.recommendationStore.previewPayload.platform || t.bundlePlatform
})
}, t.togglePreview = function() {
t.sparta.stores.recommendationStore.togglePreview();
}, t.clearRecommendations = function() {
t.sparta.stores.recommendationStore.clear();
}, t.savePayload = function() {
t.sparta.stores.recommendationStore.setPreviewPayload(t.state.payload);
}, t.toggleLicenses = function() {
t.setState({
payload: r.__assign({}, t.state.payload, {
overrideLicenses: !t.state.payload.overrideLicenses
})
}, t.savePayload);
}, t.clearPersona = function() {
t.changePersonaId(void 0), t.changePlatform(t.bundlePlatform);
}, t.changePersonaId = function(e) {
t.setState({
payload: r.__assign({}, t.state.payload, {
personaId: e
})
}, t.savePayload);
}, t.changeSegment = function(e) {
t.setState({
payload: r.__assign({}, t.state.payload, {
segment: e
})
}, t.savePayload);
}, t.changePlatform = function(e) {
t.setState({
payload: r.__assign({}, t.state.payload, {
platform: e
})
}, t.savePayload);
}, t.changeLicenses = function(e) {
void 0 === e && (e = "");
var n = e.length > 0 ? e.split("\n") : [];
t.setState({
payload: r.__assign({}, t.state.payload, {
licenses: n
})
}, t.savePayload);
}, t.searchPersona = function() {
var e;
new Promise(function(e) {
g.display(new y.Popup({
content: o.createElement(_.DebugSelectFromListPopup, {
onSelect: e,
title: "Select platform",
emptyMessage: "There's no platform to select from",
list: [ "pc", "ps4", "xboxone" ]
}),
id: _.DebugSelectFromListPopup.popupId
}));
}).then(function(t) {
return e = t, v.prompt("", 0, 30, {
message: "Search for " + e.toUpperCase() + " Persona by name"
});
}).then(function(n) {
S.debugRecommendationsClient.getPreviewPersona({
name: n,
platform: e
}).onSuccess(function(r) {
r ? (A[r.personaId] = r, t.changePersonaId(r.personaId), t.changePlatform(e)) : t.sparta.stores.popupManager.alert("Couldn't find " + n + " on " + e.toUpperCase(), "Error");
});
});
}, t.selectSegment = function() {
S.debugRecommendationsClient.getAllSegments({
game: s.nativePropertiesStore.getHostingGameId()
}).onSuccess(function(e) {
new Promise(function(t) {
g.display(new y.Popup({
content: o.createElement(_.DebugSelectFromListPopup, {
onSelect: t,
title: "Select segment",
emptyMessage: "There's no segments to select from",
list: e
}),
id: _.DebugSelectFromListPopup.popupId
}));
}).then(function(e) {
g.close(_.DebugSelectFromListPopup.popupId), t.changeSegment(e);
});
});
}, t;
}
return r.__extends(t, e), t.prototype.getInput = function() {
return new d.Input({
label: "Exit",
key: c.Keys.Option1,
action: function() {
s.locationStore.canGoBack ? s.locationStore.goBack() : u.gotoLocation(s.nativePropertiesStore.getHostingGame().startRoute);
}
});
}, t.prototype.render = function() {
if (!T.recommendationsFeatureFlags.previewRecommendations.isEnabled()) return null;
var e, t = this.state.payload, n = t.segment, r = t.personaId, i = t.licenses, u = void 0 === i ? [] : i, l = t.platform, c = t.overrideLicenses, d = this.sparta.stores.recommendationStore.previewEnabled;
r ? e = A[r] : s.onlineState.sessionUser && s.onlineState.sessionUserId && (e = {
avatar: s.onlineState.sessionUser.avatarUrl || "",
displayName: s.onlineState.sessionUser.displayName,
platform: this.bundlePlatform,
nucleusId: s.onlineState.sessionUserId.nucleusId || "",
platformId: s.onlineState.sessionUserId.getPlatformId() || "",
personaId: s.onlineState.sessionUser.personaId || ""
});
var g, y = C.merge2(E.DebugRecommendationsStyles.button, d ? E.DebugRecommendationsStyles.enabled : E.DebugRecommendationsStyles.disabled), S = C.merge2(E.DebugRecommendationsStyles.button, c ? E.DebugRecommendationsStyles.enabled : E.DebugRecommendationsStyles.disabled);
if (e) {
var v = E.DebugRecommendationsStyles.avatar({
texture: e && e.avatar ? e.avatar : void 0
});
g = o.createElement("surface", {
style: E.DebugRecommendationsStyles.splitIndentRow
}, o.createElement("surface", {
style: v
}), o.createElement(p.Text, {
value: e.displayName + (l ? " on " + l.toUpperCase() : ""),
style: E.DebugRecommendationsStyles.button
}));
}
return o.createElement(a.Template, {
scrollContent: !0,
tallContent: !0,
verticalIndicator: !0,
clipContent: !0,
scrollListener: !0
}, o.createElement("surface", {
style: f.CommonStyles.flexRow
}, o.createElement("surface", {
style: E.DebugRecommendationsStyles.column
}, o.createElement("surface", {
style: E.DebugRecommendationsStyles.splitRow
}, o.createElement(m.Button, {
name: "d39fd608:242:39",
text: (d ? "Disable" : "Enable") + " preview",
style: y,
action: this.togglePreview
}), o.createElement(m.Button, {
name: "d39fd608:248:39",
text: "Clear local Recommendation cache",
style: E.DebugRecommendationsStyles.button,
action: this.clearRecommendations
})), o.createElement("surface", {
style: E.DebugRecommendationsStyles.description
}, o.createElement(p.Text, {
value: "Platform and Persona"
})), o.createElement("surface", {
style: E.DebugRecommendationsStyles.splitIndentRow
}, o.createElement(m.Button, {
name: "d39fd608:259:39",
text: "Select Platform and Persona",
style: E.DebugRecommendationsStyles.button,
action: this.searchPersona
}), o.createElement(m.Button, {
name: "d39fd608:265:39",
text: "Clear Platform and Persona",
style: E.DebugRecommendationsStyles.button,
disabled: !(r || l !== this.bundlePlatform),
action: this.clearPersona
})), g, o.createElement("surface", {
style: E.DebugRecommendationsStyles.description
}, o.createElement(p.Text, {
value: "Segment"
})), o.createElement("surface", {
style: E.DebugRecommendationsStyles.splitIndentRow
}, o.createElement(m.Button, {
name: "d39fd608:278:39",
text: (n || "No") + " segment selected",
style: E.DebugRecommendationsStyles.button,
action: this.selectSegment
}), o.createElement(m.Button, {
name: "d39fd608:284:39",
text: "Clear Segment",
style: E.DebugRecommendationsStyles.button,
disabled: !n,
action: this.changeSegment
})), o.createElement("surface", {
style: E.DebugRecommendationsStyles.description
}, o.createElement(p.Text, {
value: "Licenses"
}), o.createElement(p.Text, {
value: "1 license per line",
size: "S"
})), o.createElement("surface", {
style: E.DebugRecommendationsStyles.row
}, o.createElement(h.InputField, {
multiline: !0,
style: E.DebugRecommendationsStyles.multiline,
value: u.join("\n"),
onValueChanged: this.changeLicenses
})), o.createElement("surface", {
style: E.DebugRecommendationsStyles.splitIndentRow
}, o.createElement(m.Button, {
name: "d39fd608:305:39",
text: (c ? "Disable" : "Enable") + " Licenese override",
style: S,
action: this.toggleLicenses
}), o.createElement(m.Button, {
name: "d39fd608:311:39",
text: "Clear Licenses",
style: E.DebugRecommendationsStyles.button,
disabled: 0 === u.length,
action: this.changeLicenses
}))), o.createElement("surface", {
style: E.DebugRecommendationsStyles.info
}, o.createElement("surface", {
style: E.DebugRecommendationsStyles.description
}, o.createElement(p.Text, {
value: "Info",
size: "L"
})), o.createElement(p.Text, {
value: "Common Licenses:\\npremium, xp0, xp1, xp2"
}))));
}, t.contextTypes = I.SpartaContext.contextTypes, t = r.__decorate([ i.observer, l.input ], t);
}(o.Component);
t.DebugRecommendations = w;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35), o = n(24), i = function() {
function e() {
this.getAllSegmentsClient = new r.Client("Recommender.getAllSegments", {
throttleTimeout: 0,
requestPerformer: o.request
}), this.getPreviewPersonaClient = new r.Client("Recommender.getPreviewPersona", {
throttleTimeout: 0,
requestPerformer: o.request
});
}
return e.prototype.getAllSegments = function(e) {
return this.getAllSegmentsClient.request(e);
}, e.prototype.getPreviewPersona = function(e) {
return this.getPreviewPersonaClient.request(e);
}, e;
}();
t.debugRecommendationsClient = new i();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(21), a = n(98), s = n(89), u = n(12), l = n(11), c = n(34), p = n(28), d = n(25), f = n(26), m = n(410), h = n(9), g = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.select = function() {
var e = r.props;
(0, e.onSelect)(e.list[r.selectionState.activeItemIndex]), r.closePopup();
}, r.closePopup = function() {
d.close(g.popupId);
}, r.selectionState = new a.ListSelectionState(), r.itemInput = new u.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: l.Keys.Accept,
action: r.select
}), r;
}
var g;
return e.__extends(n, t), g = n, n.prototype.getInput = function() {
return new u.Input({
label: __("ID_SPARTA_ACTION_CANCEL"),
key: l.Keys.Decline,
action: this.closePopup
});
}, n.prototype.render = function() {
var e = this;
return r.createElement(s.List, null, r.createElement("surface", {
style: m.DebugSelectorStyles.list
}, r.createElement(o.Text, {
value: this.props.title,
size: i.TextSize.L
}), r.createElement(c.Scroller, {
style: m.DebugSelectorStyles.scroller
}, this.props.list.map(function(t, n) {
return r.createElement(s.ListItemAutoActive, {
debugName: "list-item-" + n,
key: t,
index: n,
input: e.itemInput,
disableActiveIndicator: !0,
selectionState: e.selectionState
}, r.createElement(s.ListItemLabel, {
value: t.toUpperCase()
}));
}), 0 === this.props.list.length && r.createElement(o.Text, {
value: this.props.emptyMessage,
style: m.DebugSelectorStyles.empty
})), h.SpartaGlobals.bundleIsPC && r.createElement(p.Button, {
name: "9446e372:83:35",
text: __("ID_SPARTA_ACTION_CANCEL"),
action: this.closePopup,
style: m.DebugSelectorStyles.button
})));
}, n.popupId = "debugSelectFromListPopup", n = g = e.__decorate([ f.input ], n);
}(r.Component);
t.DebugSelectFromListPopup = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(1105), a = n(136), s = n(408), u = n(4), l = n(3), c = n(40), p = [ 1, 1, 1, 1 ], d = [ .8, .8, .8, 1 ], f = [ 1, 0, 0, 1 ], m = [ 0, 1, 0, 1 ], h = [ 1, 1, 0, 1 ], g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.copyMode = !1, t.toggleCopyMode = l.action(function() {
t.copyMode = !t.copyMode;
}), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this, t = this.props.sparta.stores, n = t.settingsStore, r = t.nativePropertiesStore, u = t.localeState, l = t.gameStore, g = this.props.sparta.stores.onlineState.sessionUser, y = (g && g.displayName, 
r.getHostingGameId()), S = s.environmentInfoStore.get(y).value, v = Array.from(n.nativeFlags), _ = Array.from(n.featureFlags), b = function(t, n) {
var r = void 0 === n || null === n, a = r ? "<no data>" : n + "";
return e.copyMode ? o.createElement(i.InputText, {
key: t,
value: t + " = " + a,
onChange: function() {}
}) : o.createElement(o.Fragment, {
key: t
}, o.createElement(i.Text, {
label: t,
color: d
}), o.createElement(i.SameLine, null), o.createElement(i.Text, {
color: m,
label: "="
}), o.createElement(i.SameLine, null), o.createElement(i.Text, {
color: r ? f : p,
label: a
}));
}, T = function(e) {
return o.createElement(o.Fragment, null, o.createElement(i.Text, {
label: ""
}), o.createElement(i.Text, {
label: e,
color: h
}), o.createElement(i.Separator, null), o.createElement(i.NextColumn, null), o.createElement(i.NextColumn, null));
};
return o.createElement(o.Fragment, null, o.createElement(i.Button, {
label: this.copyMode ? "Disable copy mode" : "Enable copy mode",
onClick: this.toggleCopyMode
}), T("Build info"), b("Game ID", r.hostingGameId), b("Protocol Version", r.protocolVersion), b("Build Config", c.getBuildInfo().buildConfig), b("Battlebinary Prefix", n.battlebinaryPrefix), b("JS Bundle Version", "release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod (2020-08-04 07:21:32 UTC)"), T("User info"), b("Display name", g && g.displayName), b("ID", g && g.id), b("PersonaID", g && g.personaId), b("Telemetry", n.isTelemetryEnabled ? "enabled" : "disabled"), b("UGC Level", n.UGCAccessLevel), b("Locale", u.gameLocaleOrDefault), b("Region", r.region), T("Environment info"), b("Online Environment", r.envOnlineEnvironment), b("Gateway Host", r.gatewayUrl), b("Backend version", S && S.version), b("Tenancy", S && S.tenancy), b("Blaze service name", S && S.blaze), b("Game data version", S && S.gameData), l.getRegisteredGames().map(function(e) {
var t = e.getDebugScreenInfo();
return o.createElement(o.Fragment, {
key: e.gameId
}, T(e.displayName()), Object.keys(t).map(function(e) {
return b(e, t[e]);
}));
}), T(""), o.createElement(i.TreeNodeLazy, {
label: "Ping sites"
}, function() {
var e = a.PingSiteStore.getState(), t = {};
return Object.keys(e).forEach(function(n) {
Object.keys(e[n]).forEach(function(r) {
var o = e[n][r];
t[r] = o.ping || -1;
});
}), o.createElement(o.Fragment, null, Object.keys(t).map(function(e) {
var n = t[e];
return o.createElement(o.Fragment, {
key: e
}, b(e, n + ""));
}));
}), o.createElement(i.TreeNode, {
label: "Rollout flags (" + _.length + ")"
}, _.map(function(e) {
return o.createElement(i.Text, {
key: e,
label: e
});
})), o.createElement(i.TreeNode, {
label: "Native flags (" + v.length + ")"
}, v.map(function(e) {
return o.createElement(i.Text, {
key: e,
label: e
});
})));
}, r.__decorate([ l.observable ], t.prototype, "copyMode", void 0), t = r.__decorate([ u.observer ], t);
}(o.Component);
t.initDebugUIScreen = function y(e) {
e.twinkle.debugUI.renderWindow("9add562a:169:26", "UI / Sparta / Debug Screen", function() {
return o.createElement(g, {
sparta: e
});
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "Text",
label: this.props.label,
b1: !!this.props.color,
vec4: this.props.color
});
}, t;
}(o.Component);
t.Text = i;
var a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "Button",
label: this.props.label,
onTrigger: this.props.onClick
});
}, t;
}(o.Component);
t.Button = a;
var s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "ChildContainer",
label: this.props.label
}, this.props.children);
}, t;
}(o.Component);
t.Scroller = s;
var u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onState = function(e) {
return t.props.onChange(e.vec4State);
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "ColorEdit4",
label: this.props.label,
vec4: this.props.color,
onState: this.onState
});
}, t;
}(o.Component);
t.ColorPicker = u;
var l = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "Group"
}, this.props.children);
}, t;
}(o.Component);
t.Group = l;
var c = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "Separator"
});
}, t;
}(o.Component);
t.Separator = c;
var p = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "NextColumn"
});
}, t;
}(o.Component);
t.NextColumn = p;
var d = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "Columns",
i1: this.props.columns,
b1: !!this.props.border
});
}, t;
}(o.Component);
t.Columns = d;
var f = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "TreeNode",
label: this.props.label
}, this.props.children);
}, t;
}(o.Component);
t.TreeNode = f;
var m = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "SameLine"
});
}, t;
}(o.Component);
t.SameLine = m;
var h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.state = {
open: !1
}, t.onState = function(e) {
return t.setState({
open: e.boolState
});
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "TreeNode",
label: this.props.label,
onState: this.onState
}, this.state.open ? this.props.children() : null);
}, t;
}(o.Component);
t.TreeNodeLazy = h;
var g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onState = function(e) {
return t.props.onChange(e.stringState);
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "InputText",
label: this.props.label || "",
s1: this.props.value || "",
onState: this.onState
});
}, t;
}(o.Component);
t.InputText = g;
var y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onState = function(e) {
return t.props.onChange(e.intState);
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "SliderInt",
label: this.props.label || "",
i1: this.props.value,
i2: this.props.min,
i3: this.props.max,
onState: this.onState
});
}, t;
}(o.Component);
t.SliderInt = y;
var S = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onState = function(e) {
return t.props.onChange(e.floatState);
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "SliderFloat",
label: this.props.label || "",
s1: "%.2f",
f1: this.props.value,
f2: this.props.min,
f3: this.props.max,
onState: this.onState
});
}, t;
}(o.Component);
t.SliderFloat = S;
var v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onState = function(e) {
return t.props.onChange(e.boolState);
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("imgui", {
type: "Checkbox",
label: this.props.label || "",
b1: this.props.value,
onState: this.onState
});
}, t;
}(o.Component);
t.Checkbox = v;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(97), i = n(117), a = n(43), s = n(1107), u = n(1108), l = n(1110), c = n(1111), p = n(1112), d = n(10);
t.initialize = function f(e) {
c.gameBindings(e), u.crossLaunchBindings(e), l.crossLaunchAbstractGameBindings(e), 
p.pingSiteBindings(e), s.PingSiteClient.startListening(), r.when(function() {
return i.coreEventStore.allModulesLoaded;
}, a.refreshInstalledGames), d.routeStore.addRoute(new o.RouteDeclaration("gameview", {
logoUrl: void 0,
enableMainMenu: !1,
disableBackground: !0,
excludeFromHistory: !0,
priority: Number.MAX_VALUE
}));
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(10), i = n(389), a = n(24), s = n(556);
t.PingSiteClient = r.requester.createClient({
requestOn: [ o.gatewayState.onSessionEstablished ],
throttle: 3e4,
listener: function() {
return {
games: o.gameStore.enabledGameIds
};
},
request: function(e) {
return a.request("Matchmaking.listPingSitesMulti", e);
},
parse: function(e) {
var t = {};
return e.forEach(function(e) {
t[e.env.game] = e.pingSiteAddressList.map(function(e) {
return new s.PingSite(e);
});
}), t;
},
update: function(e) {
Object.keys(e).forEach(function(t) {
i.setPingSites(t, e[t]);
});
}
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(1), r = n(380), o = n(10), i = n(1109), a = n(43), s = n(25), u = n(11), l = n(38), c = n(12), p = n(36);
t.crossLaunchBindings = function d(t) {
var n = t.twinkle.frostbite;
r.launchGame.listen(function(e) {
var t = o.gameStore.getGame(e.gameId), r = "";
if (e.params && "SP" === e.params.gameMode ? r = "crosslaunch_sp" : e.params && "MP" === e.params.gameMode && (r = e.params.joinFriend ? "crosslaunch_mp_friend" : "crosslaunch_mp"), 
p.trackEvent("CrossLaunch", "Start", r), e.params && "MP" === e.params.gameMode && a.leftServer(), 
t) if (t.crossLaunchIds) {
var i = {
crossLaunchIds: t.crossLaunchIds,
productGuid: t.productGuid,
args: e.params ? e.params.toString() : ""
};
n.sendMessage("sparta.crossLaunchGame", i);
var s = n.registerMessageListener("sparta.crossLaunchFailed", function() {
s(), o.crosslaunchManager.handleFailure(t, r);
});
} else o.crosslaunchManager.handleFailure(t, r);
}), r.countdownThenLaunchGame.listen(function(t, n) {
s.display(new l.Popup({
id: "crossLaunch",
content: e.createElement(i.CrossLaunchGamePopup, {
game: t,
crossLaunchOptions: n
}),
inputs: [ new c.Input({
label: __("ID_SPARTA_ACTION_CANCEL", !0),
key: u.Keys.Decline
}) ]
}));
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(0), o = n(1), i = n(380), a = n(24), s = n(43), u = n(25), l = n(6), c = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.state = {
secondsLeft: 5,
launched: !1
}, n;
}
return r.__extends(n, t), n.prototype.componentDidMount = function() {
this.countDown();
}, n.prototype.componentDidUpdate = function() {
this.state.secondsLeft <= 0 ? this.state.launched || this.launchGame() : this.countDown();
}, n.prototype.componentWillUnmount = function() {
clearTimeout(e), null != this.props.crossLaunchOptions.params && this.props.crossLaunchOptions.params.gameId && a.request("Game.leaveGame", {
game: this.props.crossLaunchOptions.gameId,
gameId: this.props.crossLaunchOptions.params.gameId
}).then(function() {
return s.leftServer();
});
}, n.prototype.launchGame = function() {
i.launchGame(this.props.crossLaunchOptions), this.setState({
launched: !0
}), this.props.popupInfo && u.close(this.props.popupInfo.id);
}, n.prototype.countDown = function() {
var t = this;
clearTimeout(e), this.state.secondsLeft > 0 && (e = setTimeout(function() {
t.setState({
secondsLeft: t.state.secondsLeft - 1
});
}, 1e3));
}, n.prototype.render = function() {
var e = __("ID_SPARTA_CROSSLAUNCH_POPUP", !0).replace("[[game]]", this.props.game.displayName());
return o.createElement("surface", {
style: {
alignItems: "center"
}
}, o.createElement(l.Text, {
size: "L",
type: "emphasis",
value: e
}), o.createElement(l.Text, {
size: "L",
style: {
marginTop: 20
},
value: "" + this.state.secondsLeft
}));
}, n;
}(o.Component);
t.CrossLaunchGamePopup = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(139), o = n(111);
t.crossLaunchAbstractGameBindings = function i(e) {
var t = e.stores, n = t.nativePropertiesStore, i = t.crosslaunchManager, a = t.joinFlowLoader, s = t.presenceStateStore;
r.joinMultiplayerServer.listen(function(e) {
if (n.getHostingGameId() !== e.server.game) if (e.friend && e.friend.spartaUserId) {
var t = {
gameMode: "MP",
gameId: e.server.gameId,
joinFriend: e.friend.spartaUserId.getPlatformId(),
role: e.role,
parentSessionId: n.parentSessionId || "",
asSpectator: "spectator" === e.role,
joinWithParty: !1,
serverPassword: e.password
};
i.continueCrosslaunch(e.server.game, t);
} else t = {
gameMode: "MP",
gameId: e.server.gameId,
role: e.role,
parentSessionId: n.parentSessionId || "",
asSpectator: "spectator" === e.role,
joinWithParty: !1,
serverPassword: e.password
}, i.continueCrosslaunch(e.server.game, t);
}), r.continueSinglePlayer.listen(function(e) {
if (n.getHostingGameId() !== e) if (s.isReady) {
if (!i.ownsGame(e)) return void o.showMissingGame(e, "Crosslaunch", "SP:Continue");
var t = {
gameMode: "SP",
parentSessionId: n.parentSessionId || ""
};
a.get().checkGameState().then(function() {
i.continueCrosslaunch(e, t);
}).catch(function(e) {
a.get().handleChecksError(e);
});
} else o.showNotInHostingGame("Crosslaunch", "SP:Continue");
});
};
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(10), i = n(150), a = n(406), s = n(79), u = n(194), l = n(41), c = n(25), p = n(43), d = n(119), f = n(139), m = n(56), h = n(310), g = n(196), y = n(197), S = n(557), v = n(180), _ = n(60), b = n(49), T = n(177), E = n(198), C = n(36), I = n(121), A = n(103), w = n(84), P = n(199), R = e.get("GameBindings"), O = null, x = [ function(e, t) {
return "onFrostbiteMessage" === e && "sparta.friendInviteResp" === t[0] && t[1].event === t[1].Event_InviteAccepted;
}, function(e, t) {
return "onFrostbiteMessage" === e && "game.serverDisconnectedMessage" === t[0] && t[1].disconnectReason === t[1].DISCONNECT_OK;
}, function(e, t) {
return "onFrostbiteMessage" === e && "game.joinResultMessage" === t[0] && t[1].joinResult === t[1].JoinResult_Success && t[1].joinEvent === t[1].Event_Joined;
} ];
function k(e) {
f.joinMultiplayerServer(e);
}
function L(e) {
f.joinMultiplayerFriend(e);
}
function M(e, t, n, r, i) {
A.localeState.withTranslations(function() {
var s = !0;
if (n && n.disconnectionType === h.DisconnectionType.missingContent && (r && (R.info("Found disconnectionType=missingContent, showing missing content joinflow popup."), 
s = E.validateContentAccessToServerWithPopup(r.game, r.expansions)), o.freemiumStore.isFreemiumPossible && a.fetchLiveConfig()), 
s) {
var u = void 0, c = "";
t instanceof y.JoinMultiplayerServerResult ? (u = t, c = "JoinResultType:" + t.resultType) : n instanceof h.MultiplayerServerDisconnection ? (u = n, 
c = "DisconnectionResult:" + n.disconnectionType) : u = new y.JoinMultiplayerServerResult({
resultType: y.JoinResultType.unknownError
});
var p = new l.UserError("showDisconnectionMessage", c), d = {
useConfirmInput: !0
};
n && (d = {
useConfirmInput: !0,
customInput: n.getDisconnectionAlertInput()
}), e.displayError(p, u.toHumanReadable() || "", u.getTitle(), i, d);
}
});
}
w.options.batchCallTransformer = function(e) {
return function n(e) {
for (var t = [], n = -1, r = 0, o = {}, i = 0; i < e.length; ++i) {
var a = e[i], s = x[t.length];
s && s(a[0], a[1]) && t.push(i), "onFrostbiteMessage" === a[0] && ("sparta.activated" === a[1][0] ? n = i : "sparta.friendsUpdated" === a[1][0] && (r++, 
o.tuple = a));
}
return t.length === x.length && (e = e.filter(function(e, r) {
return ("onFrostbiteMessage" !== e[0] || "sparta.activated" !== e[1][0] || r === n) && -1 === t.indexOf(r);
})), r > 1 && (e = e.filter(function(e) {
return !("onFrostbiteMessage" === e[0] && "sparta.friendsUpdated" === e[1][0] && e !== o);
})), e;
}(e = function t(e) {
var t = [], n = !1;
if (o.gameStateStoreLoader.gameStateStore) {
for (var r = o.gameStateStoreLoader.get().spartaActivatedGameOverrideMessages, i = 0; i < e.length; i++) {
var a = e[i];
"onFrostbiteMessage" === a[0] && ("sparta.activated" === a[1][0] ? t.push(i) : r.indexOf(a[1][0]) > -1 && (n = !0));
}
if (n) return e.filter(function(e, n) {
return t.indexOf(n);
});
}
return e;
}(e));
}, t.gameBindings = function D(e) {
var t = e.twinkle.frostbite, n = e.stores, a = n.presenceStateStore, l = n.joinFlowLoader, h = n.gameStateStoreLoader, E = n.popupManager, A = n.startScreenStore;
function w(e) {
var t = l.get();
if (t.queueManager.canceledJoin && t.joinsAnotherServer) return t.queueManager.setCanceledJoin(!1), 
void t.setJoinsAnotherServer(!1);
R.error("handleJoinFailed: ", e), e && M(E, e), d.onJoinMultiplayerFailed(), h.get().isOnPlayableLevel || p.stopGame({}), 
o.layoutVisibilityStore.setVisibilities({
all: !0
});
}
p.refreshInstalledGames.listen(function() {
t.sendMessage("sparta.getInstalledGames");
}), p.handleJoinReady.listen(function(e, t) {
var n = h.get();
n.setGameServer(e.server), n.setGameServerRole(e.role), t && c.closeAll();
}), i.onDisconnected.listen(function() {
r.when(function() {
return !h.get().isOnPlayableLevel;
}, function() {
p.leftServer();
});
}), p.joinServer.listen(function(e) {
var t = l.get();
t.performJoinServerChecks(e).then(function(e) {
return _.trackFilterJoin(e.server), p.handleJoinReady(e, !1), e;
}).then(t.queueManager.reserveServerSlots).then(k).catch(function(e) {
t.handleChecksError(e);
});
}), p.joinLanServer.listen(function(e) {
!function t(e) {
f.joinLanServer(e);
}(e);
}), p.joinFriend.listen(function(e) {
o.nativePropertiesStore.hostingGameId === e.gameId ? l.get().performJoinFriendChecks(e).then(L).catch(function(e) {
l.get().handleChecksError(e);
}) : e.server ? p.joinServer(v.createJoinOptions(o.partyStoreLoader, e.server, e.role, {
friend: e.friend
})) : R.error("GameActions.joinFriend: Can't cross-launch to friend without server provided");
}), p.joinMatchmakingResult.listen(function(e) {
l.get().performMatchmakingResultChecks(e).then(function(e) {
return _.trackFilterJoin(e.server), p.handleJoinReady(e, !1), e;
}).then(k).catch(w);
}), p.stopGame.listen(function(e) {
var t = e.showFade, n = void 0 !== t && t, r = e.shouldNativeQuit, o = void 0 === r || r;
n ? I.blackFadeState.show({
options: {
duration: 700
},
callback: function() {
l.get().leaveGame(o);
}
}) : l.get().leaveGame(o);
}), p.activateEor.listen(function() {
t.sendMessage("sparta.eorActivated");
}), p.sendServerInvite.listen(function(e) {
t.sendMessage("sparta.inviteFriendRequest", {
spartaUserId: e.spartaUserId
});
}), d.onJoinMultiplayerServerResult.listen(function(t) {
l.get().handleJoinResultMessage(t);
var n = "joinResultMessage/" + t.gameId;
if (n += o.partyStoreLoader.get().party ? "/withParty" : "/withoutParty", e.stores.takeoverStore.disable(P.TakeoverType.Popup), 
t.resultType === y.JoinResultType.queued) o.gameJoinNoticeState.start(t.gameId), 
C.trackFunnel(n + "/queued"); else if (t.resultType === y.JoinResultType.success) if (n += "/success", 
t.blazeGameId) {
n += "/fetchServerData", C.trackFunnel(n);
var r = !1;
S.findOrRequestServerByGameId(t.blazeGameId).then(function(e) {
if (!r) {
i && i();
var a = e || new s.GameServer({
game: t.gameId,
gameId: t.blazeGameId
});
p.joinedServer(a);
var l = h.get(), c = l.server, d = v.createJoinOptions(o.partyStoreLoader, a);
c ? c.gameId !== a.gameId ? (C.trackFunnel(n + "/action/loading"), p.handleJoinReady(d, !0)) : (C.trackFunnel(n + "/alreadyOnServer"), 
p.handleJoinReady(v.createJoinOptions(o.partyStoreLoader, a, l.role), !0)) : A.isVisible ? (n += "/bootable", 
C.trackFunnel(n), O = {
server: a,
dispose: u.handleStartScreenClosed.listen(function() {
null !== O && (O.dispose(), O = null, C.trackFunnel(n + "/loading"), p.handleJoinReady(d, !0));
})
}) : (C.trackFunnel(n + "/invite/loading"), p.handleJoinReady(d, !0));
}
});
var i = d.onMultiplayerServerDisconnection.listen(function() {
r = !0, C.trackFunnel(n + "/disconnected"), i();
});
} else C.trackFunnel(n + "/missingBlazeGameId"); else if (t.resultType === y.JoinResultType.alreadyInSession) l.get().handleChecksError(new y.JoinMultiplayerError("Already joined the game session", {
label: "alreadyInGameSession",
message: t.toHumanReadable() || "",
title: __("ID_SPARTA_ONLINE_JOIN_ALREADY_IN_SESSION_TITLE")
})); else {
if (C.trackFunnel(n + "/failure"), a.mustPurchasePSPlus) return;
M(E, t, void 0, h.get().server), w();
}
}), d.onMultiplayerServerDisconnection.listen(function(e) {
var t = h.get();
if (t.shouldSuppressServerDisconnectedMessage(e)) R.debug("Suppressing onMultiplayerServerDisconnection"); else {
var n = t.server, i = e.event.shouldShowErrorMessage(), a = t.queue.status === g.QueueStatus.Canceled;
p.stopGame({
showFade: o.spartaActivatedStore.navigationState !== m.NavigationStates.FrontEnd,
shouldNativeQuit: !1
}), b.refreshCareer(), c.closeAll(), null !== O && (O.dispose(), n = O.server, O = null), 
i && !a && r.when(function() {
return t.readyToShowFrontEnd;
}, function() {
M(E, void 0, e.event, n, e.callback);
});
}
}), t.registerMessageListener("sparta.friendInviteResp", function(e, t) {
var n, r = h.get();
if (t.event !== t.Event_InviteAcceptFailed || t.failureReason !== t.FailureReason_AlreadyInSession) {
var o, i = ((n = {})[t.FailureReason_NoMpPrivilege] = y.JoinResultType.noMultiplayerPrivilege, 
n[t.FailureReason_InviteExpired] = y.JoinResultType.inviteExpired, n[t.FailureReason_AlreadyInSession] = y.JoinResultType.alreadyInSession, 
n[t.FailureReason_TooYoung] = y.JoinResultType.tooYoung, n[t.FailureReason_Unspecified] = y.JoinResultType.unknownError, 
n);
t.event === t.Event_InviteAccepted ? o = y.JoinResultType.success : t.event === t.Event_InviteAcceptFailed && (o = i[t.failureReason]);
var s = new y.JoinMultiplayerServerResult({
resultType: o
});
if (l.get().handleFriendInviteResult(s), s.resultType === y.JoinResultType.noMultiplayerPrivilege) if (a.mustPurchasePSPlus) {
T.purchasePsPlus();
var u = t.inviteToken;
u && u.spartaUserId && r.setSavedFriendInvite({
friendUserId: u.spartaUserId
});
} else R.warn("User has been invited to a game but has no MP privilege. Join flow aborted"); else o && s.resultType !== y.JoinResultType.success && w(s);
}
});
};
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(389), i = n(136), a = n(556), s = n(308), u = n(309), l = n(3), c = {
dub: "ams",
ams: "dub",
brz: "gru",
gru: "brz",
lax: "sjc",
sjc: "lax"
};
t.pingSiteBindings = function p(e) {
var t = e.stores.presenceStateStore;
o.setPingSites.listen(function(e, n) {
if (t.isQoSReady) {
var r = [];
n.forEach(function(e) {
e.alias && r.push(e.alias);
}), s.qosPing(r);
}
}), l.reaction(function() {
return t.isQoSReady;
}, function(e) {
if (e) {
var t = i.PingSiteStore.getState();
Object.keys(t).forEach(function(e) {
s.qosPing(Object.keys(t[e]));
});
}
}), u.qosPingCompleted.listen(function(e, t, n) {
var s = t || void 0, u = i.PingSiteStore.getState();
Object.keys(u).forEach(function(t) {
var n = u[t][e];
if (n) o.updatePingSites(t, [ new a.PingSite(r.__assign({}, n, {
ping: s
})) ]); else {
var i = null;
if (Object.keys(u[t]).forEach(function(n) {
var r = u[t][n];
r.matchingAliases && r.matchingAliases.indexOf(e) > -1 && (i = r);
}), null == i && c[e] && u[t][c[e]] && (i = u[t][c[e]]), i) {
var l = new a.PingSite(r.__assign({}, i, {
ping: s
}));
o.updatePingSites(t, [ l ]);
}
}
});
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(117), r = n(1114), o = n(1147), i = n(397);
t.initialize = function a(t) {
return i.initStartScreen(t), o.layoutBindings(t), e.coreEventStore.spartaErrorEvent.listen(function(e) {
!function n(e, t) {
var n = e.title ? e.title : __("ID_SPARTA_GAMESTATE_ERROR"), r = e.message, o = "";
"string" == typeof r ? o = r + "\n" : r.title && (o = r.title + "\n" + (r.description || "")), 
t.alert(o, n, function() {
e.closeCallback && e.closeCallback();
});
}(e, t.stores.popupManager);
}), [ r.Layout ];
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(23), a = n(15), s = n(11), u = n(12), l = n(26), c = n(1115), p = n(1116), d = n(1117), f = n(1118), m = n(397), h = n(1119), g = n(1120), y = n(1128), S = (n(1129), 
n(264)), v = n(261), _ = n(94), b = n(4), T = n(3), E = n(1132), C = n(562), I = n(564), A = n(5), w = n(1137), P = n(109), R = n(561), O = n(123), x = n(9), k = n(7), L = n(1138), M = n(545), D = n(254), N = (n(1141), 
n(22)), F = n(1146), G = e.get("Layout"), U = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = k.SpartaContext.getFromComponent(t), t.footerLineOpacityTween = a.Animation.componentTween(t, "6454da0b:50:68", 1), 
t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this, t = this.sparta.stores.layoutVisibilityStore;
this.reaction(function() {
return !1 === t.content;
}, function(t) {
e.footerLineOpacityTween.to(t ? 0 : 1);
}, {
fireImmediately: !0
});
}, t.prototype.render = function() {
var e = this.sparta.stores.gameStateStoreLoader, t = this.sparta.theme.getTheme(this).footer;
return x.SpartaGlobals.bundleIsConsole && !e.mapOrDefault(function(e) {
return e.isGameViewVisible;
}, !1) && t.footerLineEnabled ? o.createElement("surface", {
style: [ t.footerLine, this.footerLineOpacityTween.getStyleClass("opacity") ]
}) : null;
}, t.contextTypes = k.SpartaContext.contextTypes, t = r.__decorate([ b.observer ], t);
}(o.Component), B = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.backgroundContainer.items.map(function(e) {
return o.createElement(E.Background, {
key: e.name,
bgItem: e
});
});
return o.createElement(o.Fragment, null, e, this.props.backgroundContainer.extra.render());
}, t = r.__decorate([ b.observer ], t);
}(o.Component), j = N.focusSystem.createScaledComponent(), H = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = k.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e, t, n = this.sparta.stores.hostingGameStore.game;
if (n) {
var r = n.joinConfig;
r.gameJoinNoticeComponent && (e = o.createElement(r.gameJoinNoticeComponent, null), 
t = r.gameJoinNoticePlacement);
}
return o.createElement(R.HostingGameThemeProvider, {
debugName: "6454da0b:121:50"
}, t === D.GameJoinNoticePlacement.header && e, o.createElement("surface", {
style: this.sparta.theme.getTheme(this).footer.widgetContainer
}, t === D.GameJoinNoticePlacement.footer && e, o.createElement(F.CountdownWidget, null), o.createElement(M.BaseSocialWidget, null)));
}, t.contextTypes = k.SpartaContext.contextTypes, t = r.__decorate([ b.observer ], t);
}(o.Component), z = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = k.SpartaContext.getFromComponent(t), t.tweenOpacity = a.Animation.componentTween(t, "6454da0b:143:14", t.sparta.stores.startScreenStore.isVisible ? 0 : 1), 
t.tweenTranslateY = a.Animation.componentTween(t, "6454da0b:147:60", 0), t.openMainMenu = function() {
return t.sparta.stores.layoutVisibilityStore.setVisibilities({
mainMenu: !0
});
}, t.leftTriggerMenuInput = new u.Input({
visible: !1,
action: t.openMainMenu,
key: s.Keys.Home
}), t.mainMenuHiddenInput = new u.Input({
visible: !1,
lowPriority: !0,
action: t.openMainMenu,
key: s.Keys.Decline
}), t.mainMenuShownInput = new u.Input({
visible: !0,
lowPriority: !0,
label: __("ID_SPARTA_MENU_TITLE_MENU"),
action: t.openMainMenu,
key: s.Keys.Decline
}), t.rightTriggerComCenterInput = new u.Input({
visible: !1,
action: function() {
t.sparta.stores.layoutVisibilityStore.setVisibilities({
comCenter: !0
});
},
key: s.Keys.End
}), t.texturePreloaderService = new I.TextureLoaderService(t), t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "useSocialOverlay", {
get: function() {
return !1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "useMainMenu", {
get: function() {
return !this.sparta.stores.installStateStore.isInstalling;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentWillMount = function() {
var e = this;
_.uiState.layout.reactComponent = this, this.reaction(function() {
return e.sparta.stores.startScreenStore.isVisible;
}, function(t) {
var n = t ? 0 : 1;
G.info("Changing opacity in Layout to " + n), e.tweenOpacity.to(n);
});
}, t.prototype.componentWillUnmount = function() {
_.uiState.layout.reactComponent = null;
}, t.prototype.getInput = function() {
var e = this.sparta.stores, t = e.comCenterState, n = e.layoutVisibilityStore, r = e.layoutStateStore, o = e.socialState, i = e.partyStoreLoader, a = [];
if (n.mainMenu || t.isExpanded || o.isOpened || i.map(function(e) {
return e.isInSquadJoin;
})) return a;
var s = r.current;
if (this.sparta.twinkle.focus.controllerMode && (s.config.enableMainMenu && P.useConsoleMenu && this.useMainMenu && a.push(this.leftTriggerMenuInput), 
t.canOpen && !this.useSocialOverlay && a.push(this.rightTriggerComCenterInput)), 
P.useConsoleMenu && s.activeSubMenuConfig) {
var u = s.activeSubMenuConfig.disableHorizontalNavigation ? 2 : 3;
s.config.enableMainMenu && s.breadcrumbs.length <= u && this.useMainMenu && (this.sparta.twinkle.focus.controllerMode ? (this.mainMenuShownInput.label = __("ID_SPARTA_MENU_TITLE_MENU"), 
a.push(this.mainMenuShownInput)) : a.push(this.mainMenuHiddenInput));
}
return a;
}, t.prototype.render = function() {
var e = this.sparta.stores.gameViewComponentStore, t = this.sparta, n = t.uiState, a = t.backgroundContainer, s = A.DynamicStyle.create(r.__assign({}, n.viewportPosition, n.viewportScale, {
zOffset: 80
}), "6454da0b:261:28"), u = m.LegacyStartScreen, l = A.DynamicStyle.create({
position: "absolute",
left: 0,
top: 0,
width: n.window.width,
height: n.window.height
}, "6454da0b:268:33");
return o.createElement(O.ThemeProvider, {
debugName: "6454da0b:277:39",
theme: this.sparta.theme.baseTheme
}, o.createElement("surface", {
style: l
}, n.layout.extra.render(), o.createElement(h.BlackFade, null), o.createElement(R.HostingGameThemeProvider, {
debugName: "6454da0b:281:58"
}, o.createElement(M.BaseSocialOverlay, null)), o.createElement("surface", {
style: [ this.tweenTranslateY.getStyleClass("translateY"), this.tweenOpacity.getStyleClass("opacity") ]
}, o.createElement(B, {
backgroundContainer: a
}), o.createElement("surface", {
style: [ i.screen.getStyleClass("6454da0b:292:71"), s ],
ref: j
}, o.createElement(g.ViewContainer, null), o.createElement(R.HostingGameThemeProvider, {
debugName: "6454da0b:296:66"
}, o.createElement(c.GameView, null)), P.useConsoleMenu ? o.createElement(d.MainMenu, null) : o.createElement(f.MiniMainMenu, null), !e.isVisible && o.createElement(R.SectionGameThemeProvider, {
debugName: "6454da0b:301:70"
}, o.createElement(p.LayoutInput, null)), o.createElement(y.Tint, null), o.createElement(R.HostingGameThemeProvider, {
debugName: "6454da0b:306:66"
}, o.createElement(M.BaseComCenter, null)), x.SpartaGlobals.bundleIsPC && o.createElement(R.SectionGameThemeProvider, {
debugName: "6454da0b:310:70"
}, o.createElement(v.ContextMenuContainer, null)), o.createElement(R.SectionGameThemeProvider, {
debugName: "6454da0b:314:66"
}, o.createElement(U, null)), !1, o.createElement(R.SectionGameThemeProvider, {
debugName: "6454da0b:318:66"
}, o.createElement(C.SubscriptionImage, null)), o.createElement(R.SectionGameThemeProvider, {
debugName: "6454da0b:321:66"
}, o.createElement(H, null)))), o.createElement(R.SectionGameThemeProvider, {
debugName: "6454da0b:326:58"
}, o.createElement(S.Popups, null)), o.createElement(R.SectionGameThemeProvider, {
debugName: "6454da0b:329:58"
}, o.createElement(L.PopupPortal.Render, null)), o.createElement(R.HostingGameThemeProvider, {
debugName: "6454da0b:332:58"
}, o.createElement(u, null)), o.createElement(w.TriggerSurface, null)));
}, t.contextTypes = k.SpartaContext.contextTypes, r.__decorate([ T.action("setting layout react component") ], t.prototype, "componentWillMount", null), 
r.__decorate([ T.action("removing layout react component") ], t.prototype, "componentWillUnmount", null), 
t = r.__decorate([ b.observer, l.inputWithOptions({
passDownId: !1
}) ], t);
}(l.InputComponent);
t.Layout = z;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(26), u = n(11), l = n(12), c = n(7), p = n(294), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = c.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
var e = this, t = this.sparta.stores.gameViewComponentStore;
this.stopVisibilityHandler = i.reaction(function() {
return t.isVisible;
}, function(t) {
t ? e.isolateInputGroup() : e.releaseInputGroup(), e.updateInput();
});
}, t.prototype.componentWillUnmount = function() {
this.stopVisibilityHandler();
}, t.prototype.getInput = function() {
var e = this.sparta.stores, t = e.gameViewComponentStore, n = e.gameStateStoreLoader, r = e.comCenterState, o = e.layoutVisibilityStore;
return n.map(function(e) {
return e.isGameViewVisible;
}) && t.gameViewComponent && t.isVisible ? r.canOpen ? new l.Input({
visible: !1,
action: function() {
o.setVisibilities({
comCenter: !0
});
},
key: u.Keys.End
}) : void 0 : [];
}, t.prototype.render = function() {
var e = this.sparta.stores.gameViewComponentStore;
if (e.gameViewComponent) {
var t = e.gameViewComponent;
return o.createElement(p.ErrorBoundary, {
debugName: "25811958:84:32",
errorMessage: void 0
}, o.createElement(t, null));
}
return null;
}, t.contextTypes = c.SpartaContext.contextTypes, t = r.__decorate([ a.observer, s.inputWithOptions({
group: !0
}) ], t);
}(s.InputComponent);
t.GameView = d;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(558), s = n(7), u = n(123), l = n(3), c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "forcedBaseTheme", {
get: function() {
return this.sparta.stores.layoutVisibilityStore.mainMenu && !this.sparta.stores.layoutStateStore.hasVisiblePopups;
},
enumerable: !0,
configurable: !0
}), t.prototype.addThemeOverride = function(e) {
return this.forcedBaseTheme ? o.createElement(u.ThemeProvider, {
debugName: "807d251f:25:43",
theme: this.sparta.theme.baseTheme
}, e) : e;
}, t.prototype.render = function() {
var e, t = this.sparta.stores, n = t.layoutVisibilityStore, r = t.layoutStateStore, i = this.forcedBaseTheme ? this.sparta.theme.baseTheme.input : this.sparta.theme.getTheme(this).input, s = n.invertedInput && !r.hasVisiblePopups;
return e = this.sparta.twinkle.buildInfo.isXboxOne && n.mainMenu && !r.hasVisiblePopups ? i.xboxMainMenu : i.container, 
this.addThemeOverride(o.createElement("surface", {
style: e
}, o.createElement(a.InputButtons, {
inverted: s,
iconSize: i.iconSize,
visibleMenu: n.mainMenu
})));
}, t.contextTypes = s.SpartaContext.contextTypes, r.__decorate([ l.computed ], t.prototype, "forcedBaseTheme", null), 
t = r.__decorate([ i.observer ], t);
}(o.Component);
t.LayoutInput = c;
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(366), a = n(3), s = n(4), u = n(23), l = n(49), c = n(18), p = n(12), d = n(11), f = n(15), m = n(399), h = n(6), g = n(138), y = n(26), S = n(14), v = n(19), _ = n(41), b = n(5), T = n(65), E = n(94), C = n(33), I = n(7), A = n(58), w = n(34), P = n(293), R = n(97), O = n(512), x = n(47), k = n(42), L = 500, M = S.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-dark-quit-e576a251.png"), D = b.StaticStyle.create({
marginTop: -9
}, "32586bb7:55:14"), N = b.StaticStyle.create({
marginTop: -13
}, "32586bb7:58:14"), F = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = v.isTradChineseLanguage() ? D : b.emptyStyle, t = v.isRTLLanguage() ? N : e, n = o.createElement("surface", null, o.createElement(h.Text, {
size: "M",
value: this.props.title.toUpperCase(),
style: T.MainMenuStyles.itemLabelBlurred
}), o.createElement(h.Text, {
size: "XS",
value: this.props.disabledLabel.toUpperCase(),
style: b.merge2(T.MainMenuStyles.itemLabelBlurred, t)
}));
return o.createElement("surface", {
style: b.merge3(T.MainMenuStyles.item, T.MainMenuStyles.itemDisabled, T.MainMenuStyles.disabledItem)
}, o.createElement(m.LabeledIcon, {
icon: this.props.iconUrl,
iconSize: T.MainMenuStyles.itemContentHeight,
label: n,
isDisabled: !0
}));
}, t;
}(o.Component), G = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = I.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "mainmenuitem_" + t.title), 
r.focusItem.focusOnHover = !0, g.mainmenuGroup.addMember(r.focusItem, t.index), 
r.focusItem.onFocus(function() {
H(r.props.index);
}), r.focusItem.onClick.listen(r.props.onClick), r;
}
return r.__extends(t, e), t.prototype.componentWillReceiveProps = function(e) {
this.props.index !== e.index && g.mainmenuGroup.updateMember(this.focusItem, this.props.index, e.index);
}, t.prototype.componentDidUpdate = function(e) {
this.focusItem.isFocused && e.index === j.index && H(this.props.index);
}, Object.defineProperty(t.prototype, "isCurrent", {
get: function() {
return this.props.index === j.index;
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = this.props, t = e.title, n = e.location, i = (e.index, e.iconUrl), a = e.isBeta, s = void 0 !== a && a, u = C.TextType.NORMAL;
(this.focusItem.isFocused || this.isCurrent) && (u = C.TextType.EMPHASIS);
var l = o.createElement(A.Marquee, {
focusItem: this.focusItem,
shuttle: !0
}, o.createElement(h.Text, {
value: t.toUpperCase(),
style: T.MainMenuStyles.itemLabel(this.focusItem.isFocused),
type: u
}), o.createElement(h.Text, {
value: t.toUpperCase(),
style: T.MainMenuStyles.itemLabelFiller,
type: C.TextType.EMPHASIS
})), c = 0, p = T.MainMenuStyles.itemContentHeight;
return this.sparta.twinkle.buildInfo.isConsole && "career" === n.path && (c = 5, 
p = 50), o.createElement("surface", r.__assign({}, this.focusItem.hooks, {
style: T.MainMenuStyles.item
}), o.createElement(m.LabeledIcon, {
icon: i,
iconSize: p,
label: l,
iconSpace: c,
style: T.MainMenuStyles.labelIcon
}, s && o.createElement("surface", {
style: T.MainMenuStyles.betaIcon
})));
}, t.contextTypes = I.SpartaContext.contextTypes, r.__decorate([ a.computed ], t.prototype, "isCurrent", null), 
t = r.__decorate([ s.observer ], t);
}(o.Component), U = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.offsetTween = f.Animation.componentTween(t, "32586bb7:173:49", 0, {
duration: 100
}), t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return j.index;
}, function(t) {
e.offsetTween.to(T.MainMenuStyles.itemHeight * (t || 0));
}, {
fireImmediately: !0
});
}, t.prototype.render = function() {
return o.createElement("surface", {
style: [ T.MainMenuStyles.activeIndicator, this.offsetTween.getStyleClass("translateY") ]
});
}, t = r.__decorate([ s.observer ], t);
}(o.Component), B = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = I.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "fill", {
get: function() {
var e = u.screen.width, t = u.screen.height, n = Math.max(t / E.uiState.window.height, e / E.uiState.window.width), r = Math.max(Math.ceil(n * e), e), o = Math.ceil(E.uiState.window.height * n);
return {
top: Math.ceil((o - t) / -2),
width: u.mainMenu.width + Math.ceil(r - e / 2),
height: o
};
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = b.merge3(T.MainMenuStyles.menu, T.MainMenuStyles.menuWrapper(this.sparta.stores.layoutVisibilityStore.mainMenu), b.DynamicStyle.create(this.fill, "32586bb7:214:91"));
return o.createElement("surface", {
style: e
}, this.props.children);
}, t.contextTypes = I.SpartaContext.contextTypes, r.__decorate([ a.computed ], t.prototype, "fill", null), 
t = r.__decorate([ s.observer ], t);
}(o.Component);
g.mainmenuGroup.setActive("mainmenuVisibility", !1);
var j = a.observable({
index: 0
}), H = a.action(function(e) {
j.index = e;
}), z = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = I.SpartaContext.getFromComponent(e), e.confirmQuit = function() {
_.legacyConfirm(__("ID_SPARTA_MENU_QUIT_CONFIRM", !0), __("ID_SPARTA_MENU_QUIT_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "quitGame").then(function() {
return c.quitSparta();
});
}, e.goToActiveItemLocation = function(t) {
var n = e.mainMenuConfigs[j.index];
if (!n) throw new Error("Could not find menu config for index: " + e.activeIndex);
if (n.normalIconUrl === M) return e.sparta.stores.layoutVisibilityStore.setVisibilities({
mainMenu: !1
}), void (t instanceof P.KeyEvent && !(t instanceof P.KeyEvent && t.key === d.Keys.Accept) || e.confirmQuit());
var r = n.skipToFirstChild ? n.children[0].location : n.location;
r.section !== e.sparta.stores.locationStore.location.section ? (e.sparta.stores.inputStore.blockInputFor(L), 
setTimeout(function() {
e.sparta.stores.layoutVisibilityStore.setVisibilities({
mainMenu: !1
});
}, L), c.gotoLocation({
location: r,
cause: "consoleMainMenuItemInteraction"
})) : e.sparta.stores.layoutVisibilityStore.setVisibilities({
mainMenu: !1
});
}, e;
}
return r.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.sparta.stores.layoutVisibilityStore.mainMenu;
}, function(t) {
t ? (g.mainmenuGroup.setActive("mainmenuVisibility", !0), g.mainmenuGroup.isolate(), 
e.isolateInputGroup(), e.focusActiveItem()) : (g.mainmenuGroup.setActive("mainmenuVisibility", !1), 
g.mainmenuGroup.deisolate(), e.releaseInputGroup(), e.sparta.twinkle.focus.triggerRecalculation());
}, {
fireImmediately: !0
});
}, n.prototype.getAvatarUrl = function() {
var e = this.sparta.stores.onlineState, t = e.sessionUser && e.sessionUser.avatarUrl;
return t && e.isOnlineBlazeAndGateway || (t = S.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-user-fallback-aaaf80be.png")), 
t;
}, n.prototype.getInput = function() {
var t = this;
if (!this.sparta.stores.layoutVisibilityStore.mainMenu) return [];
var n = this.sparta.theme.getTheme(this).getFonts().normal, r = [ new p.Input({
visible: !1,
action: this.goToActiveItemLocation,
key: d.Keys.Next
}), new p.Input({
visible: !1,
action: this.goToActiveItemLocation,
key: d.Keys.Previous
}), new p.Input({
visible: !1,
action: this.goToActiveItemLocation,
key: d.Keys.Home
}), new p.Input({
visible: !1,
action: this.goToActiveItemLocation,
key: d.Keys.End
}), new p.Input({
label: __("ID_SPARTA_ACTION_SELECT", !0),
fontStyle: n.fontStyle,
action: this.goToActiveItemLocation,
key: d.Keys.Accept
}), new p.Input({
label: __("ID_SPARTA_ACTION_BACK", !0),
fontStyle: n.fontStyle,
action: function() {
return t.sparta.stores.layoutVisibilityStore.setVisibilities({
mainMenu: !1
});
},
key: d.Keys.Decline
}) ];
if (this.sparta.twinkle.buildInfo.isEndUserBuild() || r.push(new p.Input({
label: e("Generate Sentry Report"),
fontStyle: n.fontStyle,
action: function() {
var n = i.generateEvent({
name: e("Generated"),
message: "",
stack: ""
});
if (n) {
var r = n.user || {
username: void 0,
id: void 0
};
x.PopupManager.standardAlert(e("username: " + r.username + "\nuser id: " + r.id + "\n" + n.event_id), e("Generated Sentry Report")), 
t.sparta.twinkle.buildInfo.hasOpenUrl() && t.sparta.twinkle.nativeApi.openUrl("https://sentry.battlelog.com/sentry/sparta-ingame/?query=" + n.event_id);
}
}
})), this.sparta.twinkle.buildInfo.isXboxOne) {
var o = this.sparta.stores.onlineState.sessionUser;
o && "0" !== o.id && r.push(new p.Input({
label: __("ID_SPARTA_MENU_CHANGE_PROFILE", !0),
fontStyle: n.fontStyle,
action: function() {
t.sparta.stores.layoutVisibilityStore.setVisibilities({
mainMenu: !1
}), l.showLocalUserSelectionUI();
},
key: d.Keys.Option2
}));
}
return r.concat(Array.from(this.sparta.stores.matchmakingManager.mmInputs.values()));
}, n.prototype.focusActiveItem = function() {
var e = this.activeIndex || 0, t = g.mainmenuGroup.members[e];
t && t.setFocused(k.FocusSource.Auto, !0);
}, Object.defineProperty(n.prototype, "activeIndex", {
get: function() {
return O.indexOfBestMatch(this.mainMenuConfigs, this.sparta.stores.locationStore.location);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "topLevelRoutes", {
get: function() {
var e = O.filterTopLevelRoutes(this.sparta.stores.routeStore.routes);
return O.filterVisibleRoutes(e, this.sparta.stores.settingsStore).sort(O.compareMenuRoutes);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "mainMenuConfigs", {
get: function() {
var e = this.topLevelRoutes.filter(function(e) {
return e.enableMainMenu;
});
return this.sparta.twinkle.buildInfo.isPC && e.push(new R.RouteDeclaration("", {
getTitle: function() {
return __("ID_SPARTA_ACTION_QUIT", !0);
},
normalIconUrl: M
})), e;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this, t = "PC" === this.sparta.stores.inputRouter.currentInputType, n = this.mainMenuConfigs.map(function(t, n) {
var r;
"career" === t.location.path ? r = e.getAvatarUrl() : t.normalIconUrl && (r = t.normalIconUrl);
var i = t.requireOnline && !t.offlineView, a = !!t.gameId, s = e.sparta.stores.nativePropertiesStore.isHostingGame(t.gameId), u = e.sparta.stores.presenceStateStore.mustPurchasePSPlus && (i || a && !s);
return t.disabled || u ? o.createElement(F, {
key: t.location.path,
disabledLabel: t.disabled ? t.getDisabledLabel() : "",
title: t.getTitle(),
iconUrl: r
}) : o.createElement(G, {
key: t.location.path,
index: n,
title: t.getTitle(),
iconUrl: r,
isBeta: t.isBeta,
location: t.location,
onClick: e.goToActiveItemLocation
});
});
return o.createElement(B, null, o.createElement("surface", {
style: T.MainMenuStyles.wrapper(v.isJapaneseLanguage())
}, o.createElement("surface", {
style: T.MainMenuStyles.logo
}), o.createElement(w.Scroller, {
style: t ? T.MainMenuStyles.itemsPC : T.MainMenuStyles.itemsConsole,
noHorizontalScroll: !0,
controller: !1,
focus: !0,
scrollbar: !1
}, n, o.createElement(U, null))));
}, n.contextTypes = I.SpartaContext.contextTypes, r.__decorate([ a.computed ], n.prototype, "activeIndex", null), 
r.__decorate([ a.computed ], n.prototype, "topLevelRoutes", null), r.__decorate([ a.computed ], n.prototype, "mainMenuConfigs", null), 
n = r.__decorate([ s.observer, y.inputWithOptions({
group: !0
}) ], n);
}(y.InputComponent);
t.MainMenu = z;
}).call(this, n(2), n(101));
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(366), s = n(62), u = n(23), l = n(41), c = n(4), p = n(10), d = n(18), f = n(12), m = n(11), h = n(15), g = n(154), y = n(8), S = n(6), v = n(14), _ = n(138), b = n(134), T = n(65), E = n(5), C = n(47), I = n(22), A = n(40), w = n(52), P = v.bbOfflineUrl("/sparta/jsclient/builds/assets/quit_sparta_pc-light-a9ddd9c9.png"), R = v.bbOfflineUrl("/sparta/jsclient/builds/assets/sentry-sparta-pc-light-9cbec5c5.png"), O = y.getHeight(6), x = {
tooltip: {
duration: h.Animation.defaultTweenOptions.duration / 4
},
icon: {
duration: h.Animation.defaultTweenOptions.duration / 2
},
activeIndicator: {
duration: h.Animation.defaultTweenOptions.duration / 8,
delay: 0
}
}, k = E.StaticStyle.wrapLegacyStyleSheet({
mainMenu: {
zOffset: T.OffsetStyles.mainMenu,
position: "absolute",
paddingTop: y.getHeight(26)
},
menuItem: {
marginLeft: 20,
zOffset: 10,
width: O,
height: O,
flexDirection: "row",
alignItems: "center",
marginBottom: y.getHeight(2)
},
activeIndicator: {
position: "absolute",
left: 0,
zOffset: 100,
top: 0,
width: 2,
height: O,
backgroundColor: [ 255, 153, 0, 255 ]
},
itemLabel: {
color: "#ffffff",
zOffset: 2
},
disabledLabel: {
color: "#ffffff99",
zOffset: 2
},
itemLabelWrapper: {
marginLeft: y.GUTTER,
opacity: 0,
padding: [ y.GUTTER / 2, y.GUTTER, y.GUTTER / 2, y.GUTTER ],
enableMouseEvents: !1
},
itemLabelBackground: {
position: "absolute",
zOffset: 1,
top: 0,
bottom: 0,
left: 0,
right: 0,
backgroundColor: [ 0, 0, 0, 210 ]
},
line: {
width: 8,
marginLeft: -4,
marginRight: -3,
textureMode: "none",
textureScale: [ 1, 8096 ],
texture: v.bbOfflineUrl("/sparta/jsclient/builds/assets/vline-2e85d023.png"),
opacity: .1,
position: "absolute",
top: 0,
left: 90,
bottom: 0
},
quitItem: {
position: "absolute",
bottom: u.dangerZoneSize.height
},
sentryItem: {
position: "absolute",
bottom: u.dangerZoneSize.height + O
},
helpItem: {
position: "absolute",
bottom: u.dangerZoneSize.height + O * (A.getBuildInfo().isEndUserBuild() ? 1 : 2)
},
careerIcon: {
width: 40,
height: 40,
marginLeft: 4,
marginRight: 4
}
}, "c8851d07:54:15"), L = i.observable({
itemsBounds: [],
parentBounds: void 0
}), M = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.gotoItemLocation = function() {
var e = p.layoutStateStore.current.mainMenuConfigs[n.props.index];
if (e && !e.disabled) {
var t = e.skipToFirstChild ? e.children[0].location : e.location;
d.gotoLocation({
location: t,
cause: "pcMainMenuItemInteraction"
});
} else n.props.onClick && n.props.onClick();
}, n.onBounds = i.action(function(e) {
L.itemsBounds.length <= n.props.index && (L.itemsBounds.length = n.props.index + 1), 
L.itemsBounds[n.props.index] = b.Bounds.fromRaw(e);
}), n.focusItem = I.focusSystem.create(n, "menuitem_" + t.title), _.minimainmenuGroup.addMember(n.focusItem, t.index), 
n.iconTween = h.Animation.tween("c8851d07:171:42", 0), n.tooltipTween = h.Animation.tween("c8851d07:172:45", n.focusItem.isFocusedOrHovered ? 1 : 0), 
n.updateTransitionOption(t, n.isActive), n.focusReaction = i.reaction(function() {
return {
isFocused: n.focusItem.isFocusedOrHovered,
isActive: n.isActive
};
}, function(e) {
n.tooltipTween.to(e.isFocused ? 1 : 0, x.tooltip), n.updateTransitionOption(n.props, e.isActive);
}), n;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "isActive", {
get: function() {
return p.layoutStateStore.current.mainMenuIndex === this.props.index;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentWillReceiveProps = function(e) {
this.props.index !== e.index && _.minimainmenuGroup.updateMember(this.focusItem, this.props.index, e.index), 
this.updateTransitionOption(e, this.isActive);
}, t.prototype.componentWillUnmount = function() {
this.iconTween.destroy(), this.tooltipTween.destroy(), this.focusReaction();
}, t.prototype.updateTransitionOption = function(e, t) {
var n;
n = e.isDisabled ? {
from: .5,
to: .501
} : t ? {
from: .8,
to: 1
} : {
from: .5,
to: 1
}, this.iconTween.to(this.focusItem.isFocusedOrHovered ? n.to : n.from, x.icon);
}, t.prototype.render = function() {
var e = "career" === this.props.path ? k.careerIcon : void 0, t = this.props.isDisabled ? o.createElement(S.Text, {
size: "XS",
value: this.props.disabledLabel,
style: k.disabledLabel
}) : null, n = this.props.isDisabled ? 1 : .7, r = new f.Input({
action: this.props.isDisabled ? function() {} : this.gotoItemLocation,
label: this.props.title,
key: m.Keys.Accept
}), i = this.props.isBeta ? this.props.title.toUpperCase() + " (" + __("ID_SPARTA_GENERIC_BETA").toUpperCase() + ")" : this.props.title.toUpperCase();
return o.createElement("surface", {
onBounds: this.onBounds,
style: E.merge2(k.menuItem, this.props.style)
}, o.createElement(s.Pressable, {
focusItem: this.focusItem,
triggerMode: "after",
pressScale: n,
input: r,
style: this.iconTween.getStyleClass("opacity")
}, o.createElement(g.Icon, {
image: this.props.iconUrl,
size: "XL",
style: e,
isDisabled: this.props.isDisabled
})), o.createElement("surface", {
style: E.merge2(k.itemLabelWrapper, this.tooltipTween.getStyleClass("opacity"))
}, o.createElement(S.Text, {
size: "XS",
value: i,
style: k.itemLabel,
type: "emphasis"
}), t, o.createElement("surface", {
style: k.itemLabelBackground
})));
}, r.__decorate([ i.computed ], t.prototype, "isActive", null), r.__decorate([ i.action ], t.prototype, "updateTransitionOption", null), 
t = r.__decorate([ c.observer ], t);
}(o.Component), D = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.translateTween = h.Animation.tween("c8851d07:291:38", 0, x.activeIndicator), 
t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.disposer = i.reaction(function() {
var e = L.itemsBounds, t = L.parentBounds, n = p.layoutStateStore.current.mainMenuIndex;
return {
itemBounds: e.length > n ? e[n] : void 0,
parentBounds: t
};
}, function(t) {
var n = t.itemBounds, r = t.parentBounds;
n && r && e.translateTween.to(n.offset(r.left, r.top).top);
});
}, t.prototype.componentWillUnmount = function() {
this.disposer(), this.translateTween.destroy();
}, t.prototype.render = function() {
return o.createElement("surface", {
style: E.merge2(k.activeIndicator, this.translateTween.getStyleClass("translateY"))
});
}, t;
}(o.Component), N = function(t) {
function n() {
var n = null !== t && t.apply(this, arguments) || this;
return n.confirmQuit = function() {
l.legacyConfirm(__("ID_SPARTA_MENU_QUIT_CONFIRM", !0), __("ID_SPARTA_MENU_QUIT_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "quitGame").then(function() {
return d.quitSparta();
});
}, n.createSentryReport = function() {
var t = a.generateEvent({
name: e("Generated"),
message: "",
stack: ""
});
if (t) {
var n = t.user || {
username: "",
id: ""
};
C.PopupManager.standardAlert("username: " + n.username + " \nuser id: " + n.id + "\n" + t.event_id, e("Generated Sentry Report")), 
A.getBuildInfo().hasOpenUrl() && w.nativeApi.openUrl("https://sentry.battlelog.com/sentry/sparta-ingame/?query=" + t.event_id);
}
}, n.onBounds = i.action(function(e) {
L.parentBounds = b.Bounds.fromRaw(e);
}), n;
}
return r.__extends(n, t), n.prototype.componentDidMount = function() {
this.cancelQueryListener = I.focusSystem.onInvalidQuery.listen(function(e) {
if (!p.layoutVisibilityStore.miniMenu || p.gameStateStoreLoader.get().isGameViewVisible) {
var t = [];
_.minimainmenuGroup.members.forEach(function(e) {
e && t.push(e);
}), e.reportInvalid(t);
}
});
}, n.prototype.componentWillUnmount = function() {
this.cancelQueryListener && this.cancelQueryListener();
}, n.prototype.createQuitItem = function(e) {
return o.createElement(M, {
key: "quit",
title: __("ID_SPARTA_ACTION_QUIT", !0),
index: e,
onClick: this.confirmQuit,
iconUrl: P,
style: k.quitItem
});
}, n.prototype.createSentryItem = function(t) {
return o.createElement(M, {
key: "sentry",
title: e("Generate Sentry Report"),
index: t,
onClick: this.createSentryReport,
iconUrl: R,
style: k.sentryItem
});
}, Object.defineProperty(n.prototype, "mainMenuConfigs", {
get: function() {
return p.layoutStateStore.current.mainMenuConfigs.map(function(e, t) {
return {
path: e.location.path,
title: e.getTitle(),
disabledLabel: e.getDisabledLabel(),
disabled: e.disabled,
icon: e.normalIconUrl,
isBeta: e.isBeta,
index: t
};
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "mainMenuConfigsFiltered", {
get: function() {
return this.mainMenuConfigs.filter(function(e) {
return p.layoutStateStore.current.mainMenuConfigs[e.index].enableMainMenu;
});
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.mainMenuConfigsFiltered.map(function(e) {
var t = "career" === e.path && p.onlineState.sessionUser ? p.onlineState.sessionUser.avatarUrl : e.icon;
return o.createElement(M, {
key: e.path,
index: e.index,
title: e.title,
iconUrl: t,
isDisabled: e.disabled,
disabledLabel: e.disabledLabel,
isBeta: e.isBeta,
path: e.path,
style: "wwcesupport" === e.path ? k.helpItem : void 0
});
}), t = E.DynamicStyle.create({
translateX: h.Animation.tweenSwitch(-1, u.mainMenu.width, p.layoutVisibilityStore.miniMenu),
opacity: h.Animation.tweenSwitch(0, 1, p.layoutVisibilityStore.miniMenu, h.Animation.presets.transition)
}, "c8851d07:443:26");
return o.createElement("surface", {
onBounds: this.onBounds,
style: E.merge3(u.mainMenu.getStyleClass("c8851d07:451:67"), k.mainMenu, t)
}, e, o.createElement(D, {
key: "activeIndicator"
}), !A.getBuildInfo().isEndUserBuild() && this.createSentryItem(this.mainMenuConfigs.length), this.createQuitItem(this.mainMenuConfigs.length + 1), o.createElement("surface", {
key: "line",
style: k.line
}));
}, r.__decorate([ i.computed.struct ], n.prototype, "mainMenuConfigs", null), r.__decorate([ i.computed ], n.prototype, "mainMenuConfigsFiltered", null), 
n = r.__decorate([ c.observer ], n);
}(o.Component);
t.MiniMainMenu = N;
}).call(this, n(2), n(101));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(15), a = n(5), s = n(17), u = n(121), l = n(65), c = n(7), p = a.merge2(s.CommonStyles.dock, a.StaticStyle.create({
zOffset: l.OffsetStyles.blackFade,
backgroundColor: "#000000",
enableMouseEvents: !1
}, "1bc3e734:10:23")), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = c.SpartaContext.getFromComponent(t), t.visibleAtStartup = !0, 
t.opacityTween = i.Animation.componentTween(t, "1bc3e734:27:50", t.visibleAtStartup ? 1 : 0), 
t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return u.blackFadeState.current;
}, function(t) {
t && (e.sparta.loadingUi.show("1bc3e734:34:48", 1 === t.to), e.opacityTween.promiseTo(t.to, t.options).then(function() {
return t.callback && t.callback(), null;
}));
}, {
fireImmediately: !0
}), u.blackFadeState.setReady(this.visibleAtStartup);
}, t.prototype.shouldComponentUpdate = function() {
return !1;
}, t.prototype.render = function() {
return o.createElement("surface", {
key: "blackfade",
style: [ p, this.opacityTween.getStyleClass("opacity") ]
});
}, t.contextTypes = c.SpartaContext.contextTypes, t;
}(o.Component);
t.BlackFade = d;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(1121), u = n(15), l = n(1124), c = n(1125), p = n(109), d = n(5), f = n(561), m = n(65), h = n(7), g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = h.SpartaContext.getFromComponent(t), t.viewportXOffset = u.Animation.componentTween(t, "4562274e:20:61", 0, m.ViewContainerStyles.transitionOptions), 
t.viewportStyle = d.merge3(m.ViewContainerStyles.viewport, t.viewportXOffset.getStyleClass("translateX"), t.sparta.stores.layoutStateStore.viewportScaleStyle), 
t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
if (p.useConsoleMenu) {
var t = this.sparta.stores.layoutVisibilityStore;
this.autorun(function() {
var n = 0;
t.mainMenu ? n = m.ViewContainerStyles.mainMenuWidth : t.comCenter && (n = -100), 
e.viewportXOffset.to(n);
});
}
}, t.prototype.render = function() {
var e = this.sparta.stores.viewState.items.map(function(e) {
return o.createElement(s.ViewSlot, {
key: e.name,
viewComponentState: e
});
});
return o.createElement("surface", {
style: this.viewportStyle
}, o.createElement(y, null), e, o.createElement(S, null));
}, t.contextTypes = h.SpartaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.ViewContainer = g;
var y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = h.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "showHeader", {
get: function() {
var e = this.sparta.stores, t = e.viewState, n = e.gameStateStoreLoader, r = t.current && t.current.aggregate, o = n.map(function(e) {
return e.isOnPlayableLevel;
});
return !(!r || !r.config.showHeader || o);
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
return this.showHeader ? o.createElement(f.SectionGameThemeProvider, {
debugName: "4562274e:81:54"
}, o.createElement(l.Header, null)) : null;
}, t.contextTypes = h.SpartaContext.contextTypes, r.__decorate([ i.computed ], t.prototype, "showHeader", null), 
t = r.__decorate([ a.observer ], t);
}(o.Component);
t.ViewHeader = y;
var S = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = h.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "config", {
get: function() {
var e = this.sparta.stores, t = e.viewState, n = e.gameStore, r = t.current && t.current.aggregate;
if (r && r.config.gameId) {
var o = n.getGame(r.config.gameId);
return {
logoUrl: r.config.logoUrl,
customLogo: o && r.config.customLogo ? o.logoConfig.customLogo : void 0,
gameId: r.config.gameId
};
}
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
if (this.config) {
var e = void 0;
return this.config.logoUrl ? e = o.createElement(c.Logo, {
imageUrl: this.config.logoUrl,
gameId: this.config.gameId
}) : this.config.customLogo && (e = o.createElement(this.config.customLogo)), o.createElement(f.SectionGameThemeProvider, {
debugName: "4562274e:123:57"
}, e);
}
return null;
}, t.contextTypes = h.SpartaContext.contextTypes, r.__decorate([ i.computed.struct ], t.prototype, "config", null), 
t = r.__decorate([ a.observer ], t);
}(o.Component);
t.ViewLogo = S;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(4), s = n(300), u = n(221), l = n(96), c = n(15), p = n(1122), d = n(10), f = n(23), m = n(5), h = n(9), g = n(294), y = n(7), S = n(412), v = n(123), _ = h.SpartaGlobals.bundleIsPC ? c.Animation.presets.transition : c.Animation.defaultTweenOptions, b = m.StaticStyle.create({
layer: !0,
position: "absolute",
top: 0,
right: 0,
width: f.screen.width,
height: f.screen.height
}, "2b57041f:144:59"), T = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = y.SpartaContext.getFromComponent(r), r.tweens = {
translateX: c.Animation.componentTween(r, "2b57041f:44:51", 0, _),
translateY: c.Animation.componentTween(r, "2b57041f:45:51", 0, _),
opacity: c.Animation.componentTween(r, "2b57041f:46:48", 1, _),
scale: c.Animation.componentTween(r, "2b57041f:47:46", 1, _)
}, r.focusAncestor = r.sparta.twinkle.focus.createAncestor("viewslot-" + t.viewComponentState.name), 
r;
}
return r.__extends(t, e), t.prototype.handleViewTransition = function(e, t) {
var n;
if ((t === u.EnterLeaveStates.ACTIVE ? this.focusAncestor.setActive("ViewSlot", !0) : this.focusAncestor.setActive("ViewSlot", !1), 
t === u.EnterLeaveStates.LEAVING) && ((n = this.sparta.stores.viewState.navigationVector) && n.x && this.tweens.translateX.to(-1920 * n.x), 
n && n.y && this.tweens.translateY.to(-1080 * n.y), this.tweens.opacity.to(0), n && n.z)) {
var r = Math.max(1 + 1.5 * n.z, 0);
this.tweens.scale.transition(1, r, _);
}
if (t === u.EnterLeaveStates.ENTERING) if (e !== u.EnterLeaveStates.IDLE) this.tweens.translateX.to(0), 
this.tweens.translateY.to(0), this.tweens.opacity.to(1), this.tweens.scale.to(1); else if ((n = this.sparta.stores.viewState.navigationVector) && n.x ? this.tweens.translateX.transition(1920 * n.x, 0) : this.tweens.translateX.set(0), 
n && n.y ? this.tweens.translateY.transition(1080 * n.y, 0) : this.tweens.translateY.set(0), 
n && n.z) {
var o = Math.max(1 - 1.5 * n.z, 0);
this.tweens.opacity.transition(0, 1), this.tweens.scale.transition(o, 1, _);
} else this.tweens.scale.set(1), this.tweens.opacity.set(1);
}, t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
e.props.viewComponentState;
return {
prevState: e.props.viewComponentState.previousState,
curState: e.props.viewComponentState.currentState
};
}, function(t) {
var n = t.prevState, r = t.curState;
e.handleViewTransition(n, r);
}, {
fireImmediately: !0
});
}, t.prototype.componentWillMount = function() {
var e = this;
this.cancelQueryListener = this.sparta.twinkle.focus.onInvalidQuery.listen(function(t) {
e.props.viewComponentState.isActive || t.reportInvalid(e.focusAncestor.children);
}), this.dockSlider = m.merge4(this.tweens.translateX.getStyleClass("translateX"), this.tweens.translateY.getStyleClass("translateY"), this.tweens.opacity.getStyleClass("layerOpacity"), m.merge3(this.tweens.scale.getStyleClass("scaleX"), this.tweens.scale.getStyleClass("scaleY"), b));
}, t.prototype.componentWillUnmount = function() {
this.cancelQueryListener(), this.focusAncestor.destroy();
}, t.prototype.getChildContext = function() {
return {
viewComponentState: this.props.viewComponentState,
location: this.props.viewComponentState.aggregate ? this.props.viewComponentState.aggregate.location : new l.Location(""),
parent: this
};
}, t.prototype.getTheme = function(e) {
var t = this.sparta.stores.gameStore.getGameBySection(e.location.section);
return t && t.theme || this.sparta.theme.baseTheme;
}, t.prototype.render = function() {
var e = this.props.viewComponentState, t = e.aggregate, n = d.gameStateStoreLoader.map(function(e) {
return e.isOnPlayableLevel;
});
return !t || n ? null : o.createElement("surface", r.__assign({
style: this.dockSlider
}, this.focusAncestor.hooks), o.createElement(g.ErrorBoundary, {
debugName: "2b57041f:193:32",
errorMessage: void 0
}, o.createElement(S.RouteContext.Provider, {
value: t.config
}, o.createElement(v.ThemeProvider, {
debugName: "2b57041f:197:51",
theme: this.getTheme(t.config)
}, o.createElement(p.Content, {
name: e.name,
focusAncestor: this.focusAncestor,
location: t.location,
depth: t.breadcrumbs.length,
view: t.config.view,
hasHorizontalNavigation: !t.config.disableHorizontalNavigation,
disableBackNavigation: t.config.disableBackNavigation,
installView: t.config.installView,
offlineView: t.config.offlineView,
requireOnline: t.config.requireOnline,
requireMpInstalled: t.config.requireMpInstalled
})))));
}, t.contextTypes = y.SpartaContext.contextTypes, t.childContextTypes = {
viewComponentState: i.instanceOf(s.ViewComponentState),
location: i.instanceOf(l.Location),
parent: i.any
}, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.ViewSlot = T;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(409), i = n(559), a = n(12), s = n(11), u = n(4), l = n(67), c = n(26), p = n(65), d = n(5), f = n(7), m = n(1123), h = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = f.SpartaContext.getFromComponent(r), r.goBackInput = new a.Input({
label: __("ID_SPARTA_ACTION_BACK"),
key: s.Keys.Decline,
blockInputFor: 500,
action: r.sparta.stores.locationStore.goBack
}), r.focusAncestor = e.focusAncestor, r;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.cancelQueryListener = this.sparta.twinkle.focus.onInvalidQuery.listen(function(t) {
e.sparta.stores.gameStateStoreLoader.map(function(e) {
return e.isGameViewVisible;
}) ? t.reportInvalid(e.focusAncestor.children) : t.setAsVisible(e.focusAncestor.children);
}), this.reaction(function() {
return e.sparta.stores.gameStateStoreLoader.map(function(e) {
return e.isGameViewVisible;
});
}, function(t) {
e.focusAncestor.subAncestors.forEach(function(e) {
e.setActive("9599cbc1:60:40", !t), e.children.forEach(function(e) {
e.setActive("9599cbc1:62:41", !t);
});
});
}), this.reaction(function() {
return e.sparta.stores.onlineState.isOnlineBlazeAndGateway;
}, function() {
return e.forceUpdate();
});
}, n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.focusAncestor.focusedChild;
}, function(t) {
e.focusAncestor.children.length && !e.sparta.twinkle.focus.focusedItem && e.sparta.twinkle.focus.controllerMode && e.sparta.twinkle.focus.triggerRecalculation();
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.cancelQueryListener();
}, n.prototype.getInput = function() {
if (this.sparta.stores.layoutVisibilityStore.content && !this.sparta.stores.gameStateStoreLoader.map(function(e) {
return e.isGameViewVisible;
})) {
var e = this.getGoOnlineAction();
if (e) return e;
var t = !this.sparta.stores.partyStoreLoader.get().isInSquadJoin || this.props.depth > 4, n = this.props.hasHorizontalNavigation ? 4 : 3;
return this.props.depth >= n && !this.sparta.stores.layoutVisibilityStore.mainMenu && t && !this.props.disableBackNavigation ? this.goBackInput : void 0;
}
}, n.prototype.getGoOnlineAction = function() {
if (this.props.requireOnline && this.props.offlineView && this.sparta.stores.onlineState.canGoOnline) return o.getConnectAction(this.sparta.twinkle, this.sparta.stores.inputRouter, this.sparta.stores.onlineState, this.sparta.stores.popupManager);
}, n.prototype.render = function() {
var e, t = this.sparta.stores, n = this.props.view, a = this.props.offlineView, s = this.props.installView;
return e = !t.installStateStore.isMpInstalled && l.routeIsHostingGame.get() && s ? r.createElement(s, {
viewLocation: this.props.location
}) : !t.installStateStore.isMpInstalled && l.routeIsHostingGame.get() && this.props.requireMpInstalled ? r.createElement(i.InstallState, {
text: __("ID_SPARTA_INSTALL_INSTALLING_MP")
}) : !this.props.requireOnline && !a || this.sparta.stores.onlineState.isOnlineBlazeAndGateway ? n ? r.createElement(n, {
viewLocation: this.props.location
}) : null : a && !this.sparta.stores.onlineState.isConnecting ? r.createElement(a, {
viewLocation: this.props.location
}) : r.createElement(o.ConnectionState, {
name: this.props.name
}), r.createElement(m.FocusImportantArea, {
focusSystem: this.sparta.twinkle.focus,
style: n ? p.ContentStyles.container(this.sparta.stores.layoutVisibilityStore.content) : d.emptyStyle
}, e);
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ c.input, u.observer ], n);
}(r.Component);
t.Content = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.surfaceId = null, t.onSurfaceId = function(e) {
e ? t.props.focusSystem.addImportantArea(e) : t.surfaceId && t.props.focusSystem.removeImportantArea(t.surfaceId), 
t.surfaceId = e;
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("surface", {
style: this.props.style,
onSurfaceId: this.onSurfaceId
}, this.props.children);
}, t;
}(o.Component);
t.FocusImportantArea = i;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(134), s = n(68), u = n(8), l = n(15), c = n(11), p = n(12), d = n(18), f = n(26), m = n(6), h = n(413), g = n(223), y = n(400), S = n(224), v = n(227), _ = n(14), b = n(530), T = n(19), E = n(138), C = n(17), I = n(5), A = n(9), w = n(33), P = n(7), R = n(109), O = n(118), x = n(129), k = u.getHeight(5), L = u.getHeight(3), M = {
breadcrumbs: {
out: [ {
propertyName: "opacity",
fromValue: 1,
toValue: 0
}, {
propertyName: "scaleX",
fromValue: 1,
toValue: 2.5
}, {
propertyName: "scaleY",
fromValue: 1,
toValue: 2.5
}, {
propertyName: "translateY",
fromValue: 0,
toValue: -k
} ],
in: [ {
propertyName: "opacity",
fromValue: 0,
toValue: 1
}, {
propertyName: "scaleX",
fromValue: 1,
toValue: 1
}, {
propertyName: "scaleY",
fromValue: 1,
toValue: 1
}, {
propertyName: "translateY",
fromValue: 0,
toValue: 0
} ]
},
menu: {
out: [ {
propertyName: "opacity",
fromValue: 1,
toValue: 0
}, {
propertyName: "scaleX",
fromValue: 1,
toValue: .25
}, {
propertyName: "scaleY",
fromValue: 1,
toValue: .25
}, {
propertyName: "translateY",
fromValue: 0,
toValue: .5 * k
} ],
in: [ {
propertyName: "opacity",
fromValue: 0,
toValue: 1
}, {
propertyName: "scaleX",
fromValue: 2.5,
toValue: 1
}, {
propertyName: "scaleY",
fromValue: 2.5,
toValue: 1
}, {
propertyName: "translateY",
fromValue: -k,
toValue: 0
} ]
}
}, D = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = P.SpartaContext.getFromComponent(e), e.blurTween = l.Animation.componentTween(e, "6f0dde7c:98:47", 0), 
e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.reaction(function() {
return e.props.focusItem.isFocusedOrHovered;
}, function(t) {
t && e.props.isGlowing ? e.blurTween.to(.5, l.Animation.presets.focusables.enter.default) : e.blurTween.to(0, l.Animation.presets.focusables.leave);
});
}, n.prototype.render = function() {
var t = this.sparta.theme.getTheme(this).header, n = {
value: this.props.value,
size: this.props.size,
type: this.props.focusedType && this.props.focusItem.isFocusedOrHovered ? this.props.focusedType : this.props.type,
color: this.props.color
};
return r.createElement("surface", {
style: this.props.style
}, r.createElement("surface", {
style: [ t.glowBlur, this.blurTween.getStyleClass("layerBlur") ]
}, r.createElement(m.Text, e.__assign({}, n))), r.createElement(m.Text, e.__assign({}, n, {
type: "emphasis",
style: t.glowHiddenEmph
})), r.createElement(m.Text, e.__assign({}, n, {
style: t.glowDock
})));
}, n.contextTypes = P.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), N = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = P.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).header, t = I.DynamicStyle.create({
translateX: l.Animation.tweenTo(this.props.highlightedBounds.left + e.underlineOffset),
width: l.Animation.tweenTo(this.props.highlightedBounds.width)
}, "6f0dde7c:149:32");
return r.createElement("surface", {
style: e.underlineContainer
}, r.createElement("surface", {
style: e.underlineLine
}), r.createElement("surface", {
style: [ e.underlineHighlight, t ]
}));
}, n.contextTypes = P.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), F = {
duration: l.Animation.defaultTweenOptions.duration / 2
}, G = -u.getWidth(2), U = A.SpartaGlobals.bundleIsPC ? "S" : "XS", B = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = P.SpartaContext.getFromComponent(r), r.titleHiderTween = l.Animation.componentTween(r, "6f0dde7c:177:53", 0), 
r.slashOffsetTween = l.Animation.componentTween(r, "6f0dde7c:178:54", G, F), r.slashOpacityTween = l.Animation.componentTween(r, "6f0dde7c:179:55", 0, F), 
r.sparta.stores.inputStore.bindInputToFocusItem(new p.Input({
key: c.Keys.Accept,
action: function() {
return d.gotoLocation({
location: r.props.location,
cause: "breadcrumbClicked"
});
},
label: __("ID_SPARTA_ACTION_SELECT")
}), e.focusItem), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.slashOffsetTween.to(0), this.slashOpacityTween.to(1);
}, n.prototype.render = function() {
var t = this.sparta.theme.getTheme(this).header, n = I.merge2(t.breadcrumb, this.titleHiderTween.getStyleClass("translateY")), o = I.merge3(t.breadcrumbSlash, this.slashOffsetTween.getStyleClass("translateX"), this.slashOpacityTween.getStyleClass("opacity"));
return r.createElement(T.LocaleRearrange, e.__assign({
style: t.breadcrumbContainer
}, this.props.focusItem.hooks), r.createElement(y.Slider, {
key: "s",
transitionId: this.props.title,
style: n,
height: T.isRTLLanguage() || T.isAsianLanguage() ? L : t.topBarHeight
}, r.createElement(D, {
value: this.props.title.toUpperCase(),
focusItem: this.props.focusItem,
type: w.TextType.NORMAL,
focusedType: w.TextType.EMPHASIS,
color: "#ffffff",
size: U
})), r.createElement(m.Text, {
key: "t",
value: T.isRTLLanguage() ? "\\" : "/",
size: U,
style: o
}));
}, n.contextTypes = P.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), j = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = P.SpartaContext.getFromComponent(e), e.titleState = e.sparta.stores.titleState, 
e.backAction = function() {
return e.sparta.stores.locationStore.goBack();
}, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.titleState.setBreadcrumbs(this.props.items);
}, n.prototype.componentWillReceiveProps = function(e) {
this.titleState.setBreadcrumbs(e.items);
}, n.prototype.componentWillUnmount = function() {
this.titleState.clearOverrides();
}, n.prototype.render = function() {
var e = this, t = this.sparta.theme.getTheme(this).header, n = [];
if (this.sparta.stores.layoutVisibilityStore.breadcrumbs) {
var o = this.props.items.filter(function(e) {
return e.visible;
});
n = o.slice(1, o.length - 1).filter(function(e) {
return !e.skipToFirstChild;
}).map(function(e, t) {
return r.createElement(s.Focusable, {
key: e.location.path,
id: "breadcrumb_" + t,
groupIndex: t,
isActive: A.SpartaGlobals.bundleIsPC,
group: E.topmenuGroup
}, function(t) {
return r.createElement(B, {
title: e.getTitle(),
focusItem: t,
location: e.location
});
});
});
}
if (t.enableBackButton && this.sparta.stores.layoutVisibilityStore.breadcrumbs) {
var i = T.isRTLLanguage() ? _.bbOfflineUrl("/sparta/jsclient/builds/assets/back_ar_pc--a3cc78d1.png") : _.bbOfflineUrl("/sparta/jsclient/builds/assets/back_pc-88d1ffe0.png");
n.unshift(r.createElement(s.Focusable, {
id: "breadcrumb_back",
key: "back",
groupIndex: n.length,
group: E.topmenuGroup
}, function(n) {
return r.createElement(v.IconButton, {
icon: i,
focusItem: n,
action: e.backAction,
size: t.topBarHeight - u.getHeight(1),
style: t.topBarBackButton
});
}));
}
var a = this.titleState.pageTitle;
return r.createElement("surface", null, r.createElement(T.LocaleRearrange, {
style: t.topBar
}, n), r.createElement(y.Slider, {
transitionId: b.serializeTitle(a),
style: t.lowerBar,
height: t.lowerBarHeight
}, this.titleState.titleComponent ? r.createElement(this.titleState.titleComponent, null) : r.createElement(h.HeaderText, {
value: a.toUpperCase(),
style: t.titleStyle,
type: w.TextType.EMPHASIS,
size: t.lowerBarTitle
})));
}, n.contextTypes = P.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), H = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = P.SpartaContext.getFromComponent(e), e.titleState = e.sparta.stores.titleState, 
e.backAction = function() {
return e.sparta.stores.locationStore.goBack();
}, e.menuAction = function() {
return e.sparta.stores.layoutVisibilityStore.setVisibilities({
mainMenu: !0
});
}, e.onMouseEnter = function() {
e.sparta.theme.getTheme(e).input.playSoundOnHover && O.playEffect(x.AudioEffect.Highlight);
}, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.titleState.setBreadcrumbs(this.props.items);
}, n.prototype.componentWillReceiveProps = function(e) {
this.titleState.setBreadcrumbs(e.items);
}, n.prototype.componentWillUnmount = function() {
this.titleState.clearOverrides();
}, Object.defineProperty(n.prototype, "useMainMenu", {
get: function() {
return !this.sparta.stores.installStateStore.isInstalling;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e, t = this.sparta.theme.getTheme(this).header;
if (t.enableBackButton && this.sparta.stores.layoutVisibilityStore.breadcrumbs) {
var n = this.props.items.filter(function(e) {
return e.visible;
}).length > 1, o = n ? T.isRTLLanguage() ? _.bbOfflineUrl("/sparta/jsclient/builds/assets/back_ar_pc--a3cc78d1.png") : _.bbOfflineUrl("/sparta/jsclient/builds/assets/back_pc-88d1ffe0.png") : _.bbOfflineUrl("/sparta/jsclient/builds/assets/big_credits-f8601f5c.png"), i = n ? this.backAction : this.menuAction;
e = r.createElement(s.Focusable, {
id: "breadcrumb_back",
key: "back",
groupIndex: 0,
group: E.topmenuGroup
}, function(e) {
return r.createElement(v.IconButton, {
icon: o,
focusItem: e,
action: i,
size: t.topBarHeight - u.getHeight(1),
style: t.topBarBackButton
});
});
} else 2 === this.props.items.length && R.useConsoleMenu && this.useMainMenu && (e = r.createElement("surface", {
key: "hb",
style: t.hbIconSimple,
onClick: this.menuAction,
onMouseEnter: this.onMouseEnter
}));
var a = this.titleState.pageTitle, l = (t.lowerBarHeight, t.useSlider ? y.Slider : S.Fader);
return r.createElement("surface", {
style: t.simpleTitle
}, e, r.createElement(l, {
transitionId: b.serializeTitle(a),
style: t.lowerBar
}, this.titleState.titleComponent ? r.createElement(this.titleState.titleComponent, null) : r.createElement(h.HeaderText, {
value: a.toUpperCase(),
type: t.simpleTitleTextType,
size: t.lowerBarTitle,
style: t.titleStyle
})));
}, n.contextTypes = P.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), z = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = P.SpartaContext.getFromComponent(r), r.opacityTween = l.Animation.componentTween(r, "6f0dde7c:455:50", .66), 
e.focusItem.setActive("6f0dde7c:459:35", e.isEnabled), e.focusItem.setActive("6f0dde7c:460:35", A.SpartaGlobals.bundleIsPC), 
r.sparta.stores.inputStore.bindInputToFocusItem(new p.Input({
key: c.Keys.Accept,
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
r.props.isEnabled && !r.props.isActive && d.gotoLocation({
location: r.props.location,
cause: "topMenuItemClicked"
});
}
}), e.focusItem), r.reaction(function() {
return r.props.focusItem.isFocusedOrHovered;
}, function(e) {
r.updateOpacity(r.props);
}, {
fireImmediately: !0
}), r;
}
return e.__extends(n, t), n.prototype.componentWillReceiveProps = function(e) {
this.updateOpacity(e);
}, n.prototype.updateOpacity = function(e) {
var t = (e.focusItem.isFocusedOrHovered || e.isActive) && e.isEnabled;
this.opacityTween.to(t ? 1 : .66);
}, n.prototype.render = function() {
var t = this.sparta.theme.getTheme(this).header;
return r.createElement("surface", e.__assign({}, this.props.focusItem.hooks), r.createElement(D, {
value: this.props.label.toUpperCase(),
focusItem: this.props.focusItem,
isGlowing: this.props.isEnabled,
type: this.props.isActive ? w.TextType.EMPHASIS : w.TextType.NORMAL,
color: t.topMenuItemColor({
isEnabled: this.props.isEnabled
}),
size: "M",
style: this.opacityTween.getStyleClass("opacity")
}));
}, n.contextTypes = P.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), V = I.StaticStyle.create({
marginRight: 3.25 * u.GUTTER
}, "6f0dde7c:676:58"), W = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = P.SpartaContext.getFromComponent(e), e.menuItems = [], e.input = [ new p.Input({
visible: !1,
action: function() {
return e.gotoOffset(T.isRTLLanguage() ? "left" : "right");
},
key: c.Keys.Next
}), new p.Input({
visible: !1,
action: function() {
return e.gotoOffset(T.isRTLLanguage() ? "right" : "left");
},
key: c.Keys.Previous
}) ], e.updateHighlightedBounds = function() {
var t = e.menuItems[e.props.activeIndex];
if (t && e.bounds) {
var n = t.props.focusItem.bounds;
if (n) {
var r = n.offset(e.bounds.left, e.bounds.top);
r.width && e.setState({
highlightedBounds: r
});
}
}
}, e.onItemRef = function(t, n) {
e.menuItems[t] = n;
}, e.onBounds = function(t) {
e.bounds = a.Bounds.fromRaw(t);
}, e.menuAction = function() {
return e.sparta.stores.layoutVisibilityStore.setVisibilities({
mainMenu: !0
});
}, e;
}
return e.__extends(n, t), n.prototype.componentDidUpdate = function(e) {
this.props.activeIndex !== e.activeIndex && this.updateHighlightedBounds();
}, n.prototype.getInput = function() {
var e = this.sparta.stores.layoutVisibilityStore;
if (!e.mainMenu && !e.comCenter) return this.input;
}, n.prototype.gotoOffset = function(e) {
var t, n = this.findNextEnabledItem(e, Math.max(this.props.activeIndex, 0));
n && ("string" == typeof n ? this.sparta.stores.layoutVisibilityStore.setVisibilities(((t = {})[n] = !0, 
t)) : d.gotoLocation({
location: n.props.location,
cause: "headerBumperNavigation"
}));
}, n.prototype.findNextEnabledItem = function(e, t) {
var n = "left" === e ? -1 : 1;
if (1 === (t += n) && this.sparta.stores.layoutVisibilityStore.mainMenu) return this.menuItems[0];
for (var r = t; r >= 0 && r < this.props.items.length; r += n) {
var o = this.menuItems[r];
if (o && o.props.isEnabled) return o;
}
return !(t !== (T.isRTLLanguage() ? this.props.items.length : -1) || !A.SpartaGlobals.bundleIsConsole) && "mainMenu";
}, n.prototype.renderItems = function() {
var e = this;
return this.props.items.map(function(t, n) {
var o = e.props.activeIndex === n, i = !t.disabled;
t.requireOnline && e.sparta.stores.presenceStateStore.mustPurchasePSPlus && (i = !1);
var a = o ? e.updateHighlightedBounds : void 0;
return r.createElement(q, {
itemIndex: n,
isActive: o,
isEnabled: i,
key: t.location.toString()
}, r.createElement(s.Focusable, {
isActive: A.SpartaGlobals.bundleIsPC,
onBounds: a,
id: "topmenu_item_" + t.location
}, function(a) {
return r.createElement(z, {
ref: e.onItemRef.bind(e, n),
label: t.getTitle(),
focusItem: a,
isActive: o,
isEnabled: i,
location: t.location
});
}));
});
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this), t = e.header, n = this.renderItems();
n = T.localeRearrange(n);
var o = t.topBarItem;
if ("PC" !== this.sparta.stores.inputRouter.currentInputType) {
if (n.unshift(r.createElement("surface", {
key: "hb",
style: t.hbIcon
})), n.length > 2) {
var i = this.sparta.inputButtonIcons.get(e);
n.unshift(r.createElement("surface", {
key: "lb",
style: t.inputIcon({
texture: i.Previous
})
})), n.push(r.createElement("surface", {
key: "rb",
style: t.inputIcon({
texture: i.Next
})
}));
}
T.isItalianLanguage() && (o = I.merge2(o, V));
} else R.useConsoleMenu && n.unshift(r.createElement("surface", {
key: "hb",
style: t.hbIcon,
onClick: this.menuAction
}));
n = n.map(function(e, t) {
return r.createElement("surface", {
style: o,
key: e.key || t
}, e);
});
var a = null;
return this.state.highlightedBounds && (a = r.createElement(N, {
highlightedBounds: this.state.highlightedBounds
})), r.createElement("surface", {
onBounds: this.onBounds
}, r.createElement("surface", {
style: t.topBar
}, n, a), r.createElement("surface", {
style: t.lowerBar
}));
}, n.contextTypes = P.SpartaContext.contextTypes, n = e.__decorate([ o.observer, f.input ], n);
}(r.Component), q = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.shouldComponentUpdate = function(e) {
var t = this, n = !1;
return Object.keys(this.props).forEach(function(r) {
t.props[r] !== e[r] && "children" !== r && (n = !0);
}), n;
}, n.prototype.render = function() {
return this.props.children;
}, n;
}(r.Component), K = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = P.SpartaContext.getFromComponent(e), e.topPaddingTween = l.Animation.lazyTween(e, "6f0dde7c:732:48", function() {
return e.topPadding;
}), e.opacityTween = l.Animation.componentTween(e, "6f0dde7c:733:50", 0), e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.focusAncestor = this.sparta.twinkle.focus.createAncestor("header"), this.reaction(function() {
return e.topPadding;
}, function(t) {
return e.topPaddingTween.to(t);
}), this.cancelQuery = this.sparta.twinkle.focus.onInvalidQuery.listen(function(t) {
e.sparta.stores.layoutVisibilityStore.header || t.reportInvalid(e.focusAncestor.children);
});
}, n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.sparta.stores.layoutVisibilityStore.header;
}, function(t) {
return e.opacityTween.to(t ? 1 : 0);
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.cancelQuery(), this.focusAncestor.destroy();
}, Object.defineProperty(n.prototype, "currentViewStateAggregate", {
get: function() {
return this.sparta.stores.viewState.current && this.sparta.stores.viewState.current.aggregate;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "currentBreadcrumbs", {
get: function() {
return this.currentViewStateAggregate && this.currentViewStateAggregate.breadcrumbs || [];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "topPadding", {
get: function() {
var e = this.sparta.theme.getTheme(this).header;
return this.currentViewStateAggregate && this.hasBreadcrumbMenu && this.currentBreadcrumbs.length > 3 ? e.topWithBreadcrumbs : e.topWithoutBreadcrumbs;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "hasTopMenu", {
get: function() {
return this.currentViewStateAggregate && !this.currentViewStateAggregate.config.disableHorizontalNavigation;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "hasBreadcrumbMenu", {
get: function() {
return this.currentViewStateAggregate && !this.currentViewStateAggregate.config.disableBreadcrumbs;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "subMenuConfigs", {
get: function() {
return this.currentViewStateAggregate ? this.currentViewStateAggregate.subMenuConfigs : void 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "subMenuIndex", {
get: function() {
return this.currentViewStateAggregate ? this.currentViewStateAggregate.subMenuIndex : 0;
},
enumerable: !0,
configurable: !0
}), n.prototype.replaceRoute = function(e, t, n) {
var r = this.sparta.stores.routeStore.routes.find(function(e) {
return e.location.path === n;
});
if (!r) throw new Error("Could not find squad join route!");
return e.map(function(e) {
return e.location.path === t ? r : e;
});
}, n.prototype.render = function() {
var t = this.currentBreadcrumbs;
if (this.sparta.stores.partyStoreLoader.map(function(e) {
return e.isInSquadJoin;
})) {
var n = this.sparta.stores.nativePropertiesStore.getHostingGame();
t = this.replaceRoute(t, n.startRoute + "/mp", n.startRoute + "/mp/squadjoin");
}
var o, i = t.length > 3;
o = this.hasTopMenu && this.subMenuConfigs && !i ? r.createElement(W, {
items: this.subMenuConfigs,
activeIndex: this.subMenuIndex
}) : this.hasBreadcrumbMenu ? r.createElement(j, {
items: t
}) : r.createElement(H, {
items: t
});
var a = this.sparta.theme.getTheme(this).header, s = I.merge3(a.container, this.topPaddingTween.getStyleClass("top"), this.opacityTween.getStyleClass("opacity")), u = this.hasBreadcrumbMenu && i ? "breadcrumbs" : "menu", l = M[u];
return r.createElement("surface", e.__assign({
style: s
}, this.focusAncestor.hooks), r.createElement(g.FlexibleTweener, {
transitionId: u,
inTweens: l.in,
outTweens: l.out,
style: C.CommonStyles.flex1
}, o));
}, n.contextTypes = P.SpartaContext.contextTypes, e.__decorate([ i.computed ], n.prototype, "currentViewStateAggregate", null), 
e.__decorate([ i.computed ], n.prototype, "currentBreadcrumbs", null), e.__decorate([ i.computed ], n.prototype, "topPadding", null), 
e.__decorate([ i.computed ], n.prototype, "hasTopMenu", null), e.__decorate([ i.computed ], n.prototype, "hasBreadcrumbMenu", null), 
e.__decorate([ i.computed ], n.prototype, "subMenuConfigs", null), e.__decorate([ i.computed ], n.prototype, "subMenuIndex", null), 
n = e.__decorate([ o.observer ], n);
}(r.Component);
t.Header = K;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(1), a = n(4), s = n(3), u = n(23), l = n(8), c = n(15), p = n(228), d = n(18), f = n(10), m = n(14), h = n(5), g = n(9), y = n(65);
r = g.SpartaGlobals.bundleIsConsole ? m.bbOfflineUrl("/sparta/jsclient/modules/layout/logos/bf-default-logo-console-9444ada5.png") : m.bbOfflineUrl("/sparta/jsclient/modules/layout/logos/bf-default-logo-pc-277a3da4.png");
var S = m.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-eaaccess-433bac60.png"), v = {
duration: c.Animation.defaultTweenOptions.duration / 2
}, _ = g.SpartaGlobals.bundleIsConsole ? .5 : .45, b = h.StaticStyle.wrapLegacyStyleSheet({
accessContainer: o.__assign({}, u.logo.style, {
position: "absolute",
top: u.logo.style.top + u.logo.height,
zOffset: y.OffsetStyles.logo
}),
logoContainer: o.__assign({}, u.logo.style, {
position: "absolute",
zOffset: y.OffsetStyles.logo
}),
badge: {
scale: [ _, _, _ ]
},
logo: {
flex: 1,
textureMode: "contain",
textureAlign: [ .5, .5 ],
textureAtlas: "SpartaCommonAtlas"
},
access: {
textureMode: "contain",
textureAlign: [ .5, .5 ],
height: g.SpartaGlobals.bundleIsPC ? 25 : 32,
marginBottom: l.getHeight(1, !1),
marginTop: 4,
textureAtlas: "SpartaCommonAtlas"
}
}, "0b2700a3:33:15"), T = h.StaticStyle.create({
marginLeft: -130
}, "0b2700a3:139:75"), E = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.gotoLocation = function() {
var e = f.gameStore.getGame(t.props.gameId);
d.gotoLocation(e ? e.startRoute + "/soldier" : "");
}, t;
}
return o.__extends(t, e), Object.defineProperty(t.prototype, "isBreadCrumbsVisible", {
get: function() {
return f.layoutStateStore.current.breadcrumbs.length <= 3;
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = void 0, t = void 0 !== this.props.imageUrl ? this.props.imageUrl : r;
if (!1 === t) return i.createElement("surface", null);
var n = f.gameStore.getGame(this.props.gameId);
if (n && f.entitlementStore.hasLoadedGame(this.props.gameId)) {
var o = n.logoConfig.logoUrl;
f.entitlementStore.hasTrial(this.props.gameId) && (o = n.logoConfig.trialLogoUrl ? n.logoConfig.trialLogoUrl : o, 
n.logoConfig.trialLogoUrl || console.warn("Missing trialLogoUrl for game '" + this.props.gameId + "'"), 
g.SpartaGlobals.bundleIsConsole && (e = i.createElement("surface", {
style: [ b.access, {
texture: S
} ]
}))), void 0 !== (o = this.props.gameId && f.entitlementStore.hasPremiumAccess(this.props.gameId) && n.premiumConfig ? n.premiumConfig.premiumLogoUrl : o) ? t = o : console.error("Missing gameLogoUrl for " + this.props.gameId);
}
var a, s, l = f.gameStore.getGame(this.props.gameId), d = l && l.styles.rankBadge || {
position: "absolute",
top: g.SpartaGlobals.bundleIsConsole ? -27 : -33
};
a = l && l.isEnabled && l.logoConfig.enableRankBadge ? i.createElement(p.RankBadge, {
key: "badge",
badgeSize: 130,
skipAnimation: !0,
gameId: this.props.gameId,
align: l.alignBadgeInfo,
badgeStyle: b.badge,
style: h.merge2(h.DynamicStyle.maybeLegacyStyle(d, "0b2700a3:138:35"), T),
rankIconScaling: l.rankIconScaling,
onClick: this.gotoLocation
}) : i.createElement("surface", {
key: "empty-badge"
}), s = n && n.logoConfig.logo ? n.logoConfig.logo({
image: t,
visible: f.layoutVisibilityStore.logo,
width: u.logo.width,
height: u.logo.height,
children: a
}) : i.createElement("surface", {
style: [ b.logo, {
texture: t
} ]
}, a);
var m = f.layoutVisibilityStore.logo && this.isBreadCrumbsVisible, y = {
enableMouseEvents: m,
opacity: c.Animation.tweenSwitch(0, 1, m, v, v)
};
return i.createElement("surface", {
style: y
}, i.createElement("surface", {
style: [ b.accessContainer, this.props.style ]
}, e), i.createElement("surface", {
style: [ b.logoContainer, this.props.style ]
}, s));
}, o.__decorate([ s.computed ], t.prototype, "isBreadCrumbsVisible", null), t = o.__decorate([ a.observer ], t);
}(i.Component);
t.Logo = E;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("RadialProgressBarStyles"), a = function() {
function e() {}
return e.progressBar = o.stylefunc(function() {
return o.style({
shaderProgram: "Twinkle_RadialProgressBar",
textureAtlas: "SpartaCommonAtlas",
shaderSurfaceUv: !0
}, "ada8e583:8:14");
}, function(e) {
return o.dynamicStyle({
width: e.size,
height: e.size,
texture: e.texture,
shaderParam_radialProgressBar_color: e.progressColor,
shaderParam_radialProgressBar_bgColor: e.bgColor,
shaderParam_radialProgressBar_progress: e.progress
}, "ada8e583:20:14");
}), e = r.__decorate([ i.style ], e);
}();
t.RadialProgressBarStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("SoldierStyles"), a = function() {
function e() {}
var t;
return t = e, e.infoMargin = o.value(function() {
return o.Constants.isPC ? -o.Grid.spacer(2) : -o.Grid.spacer();
}, "711b9bcc:17:24"), e.badge = o.stylefunc(function() {
return o.style({
textureMode: "contain",
textureAtlas: "SpartaCommonAtlas",
zOffset: 2
}, "711b9bcc:20:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture || o.bbOfflineUrl("/sparta/jsclient/builds/assets/blank-69d0497e.png")
}, "711b9bcc:26:39");
}), e.infoLeftWrapper = o.stylefunc(function() {
return o.style({
alignItems: "flex-end",
justifyContent: "center",
marginRight: t.infoMargin
}, "711b9bcc:33:14");
}, function(e) {
return o.dynamicStyle({
height: e.badgeSize
}, "711b9bcc:39:41");
}), e.infoRightWrapper = o.stylefunc(function() {
return o.style({
alignItems: "flex-start",
justifyContent: "center",
marginLeft: t.infoMargin
}, "711b9bcc:46:14");
}, function(e) {
return o.dynamicStyle({
height: e.badgeSize
}, "711b9bcc:52:41");
}), e.infoBottomWrapper = o.stylefunc(function() {
return o.style({
alignSelf: "center",
textAlign: "center",
padding: [ 0, o.Grid.spacer(), 0, o.Grid.spacer() ],
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
width: 7 * o.Grid.GUTTER,
textureBorder: [ 2, 2, 2, 2 ]
}, "711b9bcc:59:14");
}, function(e) {
return o.dynamicStyle({
scale: [ e.scale, e.scale, e.scale ],
marginTop: 4 * e.barSize
}, "711b9bcc:69:53");
}), e.rankBadgeRadial = o.wrap(function() {
return o.style({
position: "absolute",
zOffset: 50,
scaleX: 1.6,
scaleY: 1.6,
spriteAnimation: {
spriteSheet: o.bbOfflineUrl("/sparta/jsclient/builds/assets/rankbadge_radial-54c5be99.png"),
fps: 60,
frameWidth: 155,
frameHeight: 155,
totalFrames: 60,
looping: !1
}
}, "711b9bcc:76:40");
}), e.flare = o.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/rankbadge_flare-d34b0fcb.png"),
textureAtlas: "SpartaCommonAtlas",
zOffset: 1
}, "711b9bcc:93:30");
}), e.glow = o.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/rankbadge_glow-4add5478.png"),
textureAtlas: "SpartaCommonAtlas",
scaleX: 1.6,
scaleY: 1.6
}, "711b9bcc:101:29");
}), e = t = r.__decorate([ i.style ], e);
}();
t.RankBadgeStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(23), a = n(3), s = n(4), u = n(65), l = n(5), c = n(7), p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = c.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "viewportFill", {
get: function() {
var e = this.sparta.uiState.window, t = e.width, n = e.height, r = Math.abs(t - i.screen.width) / 2, o = Math.abs(n - i.screen.height) / 2, a = Math.ceil(1 / this.sparta.uiState.viewportScale.scaleX * 100) / 100, s = Math.ceil(1 / this.sparta.uiState.viewportScale.scaleY * 100) / 100;
return {
top: n > i.screen.height ? -o : o,
left: t > i.screen.width ? -r : r,
scaleX: a,
scaleY: s,
width: t,
height: n
};
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = this.sparta.stores, t = e.layoutVisibilityStore, n = e.comCenterState, r = l.merge4(u.TintStyles.base, u.TintStyles.tint(t.viewTint, t.mainMenu), n.translateY.getStyleClass("translateY"), l.DynamicStyle.create(this.viewportFill, "de5fbdb3:38:67"));
return o.createElement("surface", {
style: r
});
}, t.contextTypes = c.SpartaContext.contextTypes, r.__decorate([ a.computed ], t.prototype, "viewportFill", null), 
t = r.__decorate([ s.observer ], t);
}(o.Component);
t.Tint = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(10), a = n(23), s = n(4), u = n(3), l = n(6), c = n(65), p = new (function() {
function e() {
this.jumpIndex = 0;
}
return e.prototype.updateJumpIndex = function(e) {
this.jumpIndex = e;
}, r.__decorate([ u.observable ], e.prototype, "jumpIndex", void 0), r.__decorate([ u.action ], e.prototype, "updateJumpIndex", null), 
e;
}())(), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.jumpPoints = t.createJumpPoints(60), t;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
var e = this;
setInterval(function() {
var t = p.jumpIndex + 1;
t === e.jumpPoints.length && (t = 0), p.updateJumpIndex(t);
}, 1e3);
}, t.prototype.createJumpPoints = function(e) {
for (var t = [], n = 0; n < e; n++) t.push([ Math.random() * (.95 * a.screen.width), Math.random() * (.95 * a.screen.height) ]);
return t;
}, t.prototype.render = function() {
var e = {
position: "absolute",
left: this.jumpPoints[p.jumpIndex][0],
top: this.jumpPoints[p.jumpIndex][1],
zOffset: c.OffsetStyles.watermark,
enableMouseEvents: !1
}, t = {
color: "#ffffff99",
zOffset: 1
}, n = "";
return i.onlineState.sessionUser && i.onlineState.sessionUser.hasOwnProperty("spartaUserId") && i.onlineState.sessionUser.spartaUserId.hasOwnProperty("personaName") && (n = i.onlineState.sessionUser.spartaUserId.personaName), 
o.createElement("surface", {
style: e
}, o.createElement(l.Text, {
value: "tunguska-all-en-us-prod-26385",
style: t,
size: "XS"
}), o.createElement(l.Text, {
value: "2020-08-04 07:21:32 UTC",
style: t,
size: "XS"
}), o.createElement(l.Text, {
value: n,
style: t,
size: "XS"
}));
}, t = r.__decorate([ s.observer ], t);
}(o.Component);
t.Watermark = d;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1);
t.isStateless = function o(e) {
var t = e.type;
return "string" == typeof t || !(t.prototype instanceof r.Component);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(65), a = o.Template("PopupContainerStyles"), s = function() {
function e() {}
return e.closeButton = a.wrap(function() {
return o.style({
position: "absolute",
top: o.LayoutBounds.dangerZoneSize.height,
right: o.LayoutBounds.dangerZoneSize.width,
zOffset: i.OffsetStyles.popupCloseButton
}, "2e782fb0:17:25");
}), e.container = o.multistyle(function(e) {
return o.style({
zOffset: i.OffsetStyles.popups,
enableMouseEvents: e,
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, "2e782fb0:24:58");
}), e.content = a.wrap(function() {
return o.style({
zOffset: 2,
layer: !1
}, "2e782fb0:36:21");
}), e.contentCenter = a.wrap(function() {
return o.style({
alignSelf: "center",
alignItems: "center"
}, "2e782fb0:41:27");
}), e.contentNotFullScreen = a.wrap(function() {
return o.style({
width: o.LayoutBounds.screen.width / 2
}, "2e782fb0:46:34");
}), e.buttonContainer = a.wrap(function() {
return o.style({
flexDirection: "row",
alignSelf: "center",
marginTop: o.Grid.spacer(1),
zOffset: 100
}, "2e782fb0:50:29");
}), e.buttonLeftAlign = a.wrap(function() {
return o.style({
justifyContent: "flex-start",
alignSelf: "flex-start",
marginLeft: -o.LayoutBounds.screen.width / 4 + o.LayoutBounds.dangerZoneSize.width
}, "2e782fb0:57:29");
}), e = r.__decorate([ a.style ], e);
}();
t.PopupContainerStyles = s;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(15), s = n(4), u = n(56), l = n(94), c = n(221), p = n(14), d = n(304), f = n(5), m = n(67), h = n(9), g = n(7), y = (n(1133), 
n(65)), S = h.SpartaGlobals.bundleIsPC ? a.Animation.presets.transition : a.Animation.defaultTweenOptions, v = f.StaticStyle.wrapLegacyStyleSheet({
container: {
position: "absolute",
left: 0,
top: 0,
layer: !0,
zOffset: void 0
},
background: {
zOffset: y.OffsetStyles.background
},
edgeFade: {
position: "absolute",
zOffset: y.OffsetStyles.backgroundEdges,
textureMode: "fill"
},
tintContainer: {
flex: 1,
zOffset: 10
},
fadeLeft: {
left: -1,
bottom: 0,
texture: p.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-left-1a8f81c3.png")
},
fadeRight: {
right: -1,
bottom: 0,
texture: p.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-right-8fa148fd.png")
},
fadeTop: {
left: 0,
top: 0,
texture: p.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-top-1b6b82cf.png")
},
fadeBottom: {
left: 0,
bottom: 0,
texture: p.bbOfflineUrl("/sparta/jsclient/builds/assets/black-fade-bottom-2f5a5ec2.png")
}
}, "e2606948:23:15"), _ = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = g.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.stores.layoutStateStore.current.config, t = e.dynamicBackground ? e.dynamicBackground.get(e.location) : void 0, n = this.sparta.stores.startScreenStore.isVisible || this.sparta.stores.layoutVisibilityStore.background && (!!e.backgroundUrl || t && t.imageUrl);
if (!n) return null;
var r = f.DynamicStyle.wrapLegacyStyle({
width: l.uiState.window.width,
height: l.uiState.window.height,
left: 0,
bottom: 0,
position: "absolute",
backgroundColor: "#000000",
zOffset: y.OffsetStyles.viewportSafety,
enableMouseEvents: !1,
translateY: l.uiState.layout.reactComponent ? l.uiState.layout.reactComponent.tweenTranslateY.getStyle() : 0,
opacity: n ? 1 : 0
}, "e2606948:92:22");
return o.createElement("surface", {
style: r
});
}, t.contextTypes = g.SpartaContext.contextTypes, t = r.__decorate([ s.observer ], t);
}(o.Component);
l.uiState.layout.extra.addElement("e2606948:111:33", o.createElement(_, {
key: "safetyOverlay"
}));
var b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.tweenTranslateY = a.Animation.componentTween(e, "e2606948:123:63", 0, S), 
e.sparta = g.SpartaContext.getFromComponent(e), e.preloader = e.sparta.twinkle.texture.createPreloader(e), 
e.preloadedBg = !1, e.preloadedOverlay = !1, e;
}
return r.__extends(n, t), Object.defineProperty(n.prototype, "shouldPreload", {
get: function() {
return this.sparta.stores.spartaActivatedStore.navigationState === u.NavigationStates.FrontEnd && this.props.bgItem.currentState !== c.EnterLeaveStates.IDLE;
},
enumerable: !0,
configurable: !0
}), n.prototype.componentWillUpdate = function(e, t) {
var n = e.bgItem.info;
n && n.videoUrl || !this.videoObj || this.stopVideo();
}, n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return {
current: e.props.bgItem.currentState,
previous: e.props.bgItem.previousState
};
}, function(t) {
e.updateTransition(e.sparta.stores.viewState.navigationVector, t.current, t.previous);
}, {
fireImmediately: !0
}), this.reaction(function() {
var t = e.props.bgItem.info;
return {
shouldPreload: e.shouldPreload,
url: t ? t.url : void 0,
overlayUrl: t ? t.overlayUrl : void 0,
videoUrl: t ? t.videoUrl && d.layoutFeatureFlags.useVideoBg.isEnabled() : void 0
};
}, function(t) {
t.shouldPreload && !t.videoUrl ? (t.url && !e.preloadedBg && (e.unloadBg = e.preloader.preload(t.url, void 0), 
e.preloadedBg = !0), t.overlayUrl && !e.preloadedOverlay && (e.unloadOverlay = e.preloader.preload(t.overlayUrl, void 0), 
e.preloadedOverlay = !0)) : (e.unloadBg && e.unloadBg(), e.unloadOverlay && e.unloadOverlay(), 
e.preloadedBg = !1, e.preloadedOverlay = !1);
});
}, n.prototype.componentWillUnmount = function() {
this.stopVideo();
}, n.prototype.stopVideo = function() {
this.videoObj && (this.videoObj.stop(), this.videoObj = void 0);
}, n.prototype.updateTransition = function(e, t, n) {
if (e && t === c.EnterLeaveStates.LEAVING && this.tweenTranslateY.autorun(function(t) {
return t.to(e.y * -l.uiState.window.height);
}), t === c.EnterLeaveStates.ENTERING) if (n !== c.EnterLeaveStates.IDLE) this.tweenTranslateY.to(0); else if (e) {
var r = e.y * l.uiState.window.height;
this.tweenTranslateY.transition(r, 0);
} else this.tweenTranslateY.set(0);
}, Object.defineProperty(n.prototype, "bgInfo", {
get: function() {
var t = this.props.bgItem.info;
if (t) {
var n = t.disableBlur || !1, r = t.videoFirstFrame, o = t.videoUrl, i = t.url, a = t.videoTint, s = !1, u = t.disabled, l = t.dynamicBackground ? t.dynamicBackground.get(t.location) : void 0;
return l && (i = l.imageUrl, n = !!l.disableBlur), d.layoutFeatureFlags.useEngagementBg.isEnabled() && (this.sparta.stores.settingsStore.background && m.routeIsHostingGame.get() && this.sparta.twinkle.buildInfo.hasVideoSaveCacheOnDisk() ? (r = this.sparta.stores.settingsStore.background.imageUrl, 
o = this.sparta.stores.settingsStore.background.videoUrl, i = r, s = !0, a = void 0, 
u = !1) : l && (u = !1, this.sparta.twinkle.buildInfo.hasVideoSaveCacheOnDisk() && (r = l.imageUrl, 
o = l.videoUrl, s = !0, a = void 0))), u && t.backgroundColor && e.warn("Hey you! - You have disabled the background but using background properties."), 
{
videoUrl: o,
videoFirstFrame: r,
url: i,
doVideoCache: s,
tint: a,
disabled: u,
width: t.size[0],
height: t.size[1],
scaleToScreen: t.scaleToScreen,
disableBlur: n,
backgroundColor: t.backgroundColor
};
}
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
if (!this.bgInfo || this.sparta.stores.spartaActivatedStore.navigationState !== u.NavigationStates.FrontEnd) return this.stopVideo(), 
o.createElement("surface", null);
var e = this.sparta.stores.layoutVisibilityStore.background && !!this.bgInfo.url, t = this.bgInfo.videoUrl, n = this.bgInfo.videoFirstFrame, r = this.bgInfo.doVideoCache, i = this.bgInfo.url, a = this.bgInfo.width, s = this.bgInfo.height;
t && !this.videoObj && d.layoutFeatureFlags.useVideoBg.isEnabled() && (this.videoObj = this.sparta.twinkle.video.loadVideo(t), 
this.videoObj.setVolume(0), this.videoObj.setCacheOnDisk(r), this.videoObj.play());
var c = l.uiState.window.height + 120, p = a * (c / s);
if (this.bgInfo.scaleToScreen) {
var m = c / s, h = l.uiState.window.width / a;
h > m && (c = h * s, p = h * a);
}
var g, y, S = (l.uiState.window.width - p) / 2, _ = this.sparta.stores.layoutVisibilityStore.background, b = this.sparta.backgroundContainer.backgroundTweens, E = f.merge4(v.container, f.DynamicStyle.create({
width: l.uiState.window.width,
height: l.uiState.window.height,
position: "absolute",
enableMouseEvents: _,
backgroundColor: this.bgInfo.backgroundColor ? this.bgInfo.backgroundColor : void 0,
layerGrabBackground: !0,
layerBlur: 1
}, "e2606948:336:30"), f.merge2(b.blurStrength.getStyleClass("layerBlurStrength"), b.opacity.getStyleClass("layerOpacity")), this.tweenTranslateY.getStyleClass("translateY")), C = l.uiState.window.height - c, I = f.merge4(v.background, f.DynamicStyle.create({
width: p,
height: c,
left: S,
top: C,
position: "absolute",
texture: this.videoObj ? void 0 : i,
textureMode: "cover"
}, "e2606948:355:31"), f.merge3(b.offsetX.getStyleClass("translateX"), b.textureScale.getStyleClass("textureScaleX"), b.textureScale.getStyleClass("textureScaleY")));
if (this.videoObj && (I = f.merge2(I, f.DynamicStyle.create({
video: this.videoObj.id,
texture: n
}, "e2606948:374:33"))), e) {
var A = p < l.uiState.window.width && T(l.uiState.window.height, "left"), w = p < l.uiState.window.width && T(l.uiState.window.height, "right"), P = c < l.uiState.window.height && T(p, "top"), R = c < l.uiState.window.height && T(p, "bottom");
g = o.createElement(o.Fragment, null, A, w, R, P);
}
var O = this.bgInfo.tint;
return O && (y = o.createElement("surface", {
style: f.merge2(v.tintContainer, f.DynamicStyle.create({
backgroundColor: O
}, "e2606948:401:46"))
})), o.createElement("surface", {
style: E
}, o.createElement("surface", {
style: I
}, g, y, !1));
}, n.contextTypes = g.SpartaContext.contextTypes, r.__decorate([ i.computed ], n.prototype, "shouldPreload", null), 
r.__decorate([ i.computed.struct ], n.prototype, "bgInfo", null), n = r.__decorate([ s.observer ], n);
}(o.Component);
t.Background = b;
var T = function(e, t) {
var n, r = "left" === t || "right" === t, i = f.DynamicStyle.create({
width: r ? 160 : e,
height: r ? e : 160
}, "e2606948:429:22");
switch (t) {
case "left":
n = v.fadeLeft;
break;

case "right":
n = v.fadeRight;
break;

case "top":
n = v.fadeTop;
break;

case "bottom":
n = v.fadeBottom;
break;

default:
n = f.emptyStyle;
}
return o.createElement("surface", {
style: f.merge3(v.edgeFade, i, n)
});
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(1134), a = n(3), s = n(4), u = n(14), l = (n(1135), 
n(5)), c = n(7), p = (u.bbOfflineUrl("/sparta/assets/ui/particles/circle-96840943.png"), 
u.bbOfflineUrl("/sparta/assets/ui/particles/streak-1155f626.png"), function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = c.SpartaContext.getFromComponent(t), t.emitters = {
leftHalf: {
left: new i.Emitter(),
right: new i.Emitter()
},
rightHalf: {
left: new i.Emitter(),
right: new i.Emitter()
}
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
}, t.prototype.componentWillUnmount = function() {
for (var e in this.emitters) if (this.emitters[e]) for (var t in this.emitters[e]) this.emitters[e][t] && this.emitters[e][t].stop();
}, Object.defineProperty(t.prototype, "bgInfo", {
get: function() {
var e = this.props.bgItem.info;
if (e && e.overlayUrl && e.overlaySize) return {
overlayUrl: e.overlayUrl,
overlayWidth: e.overlaySize[0],
overlayHeight: e.overlaySize[1]
};
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
if (!this.bgInfo) return null;
var e = this.sparta.uiState, t = this.sparta.backgroundContainer.overlayTweens, n = this.bgInfo.overlayWidth, r = this.bgInfo.overlayHeight, i = Math.round(n * e.viewportScale.scaleX), a = Math.round(r * e.viewportScale.scaleY), s = l.merge4(l.DynamicStyle.create({
width: this.props.bgWidth,
height: this.props.bgHeight,
position: "absolute",
left: 0,
bottom: 0,
layer: !0,
layerClip: !0,
layerBlur: 1
}, "817bfc93:107:39"), t.blurStrength.getStyleClass("layerBlurStrength"), t.textureScale.getStyleClass("scaleX"), t.textureScale.getStyleClass("scaleY")), u = t.offsetX.getStyleClass("translateX"), c = t.offsetX.getStyleClass("translateY"), p = l.merge3(l.DynamicStyle.create({
width: i,
height: a,
texture: this.bgInfo.overlayUrl,
textureMode: "fill",
zOffset: 1e3,
position: "absolute",
left: this.props.bgWidth / 2 - i / 2,
top: this.props.bgHeight - a
}, "817bfc93:126:35"), u, c);
l.merge3(l.DynamicStyle.create({
top: e.window.height + 100,
position: "absolute",
width: 100,
height: 100,
enableMouseEvents: !1,
zOffset: 1001,
left: e.window.width / 2 - 750
}, "817bfc93:143:41"), u, c), l.merge3(l.DynamicStyle.create({
top: e.window.height + 100,
position: "absolute",
width: 100,
height: 100,
enableMouseEvents: !1,
zOffset: 1001,
left: e.window.width / 2 + 750
}, "817bfc93:157:42"), u, c);
return o.createElement("surface", {
style: s
}, !1, o.createElement("surface", {
style: p
}));
}, t.contextTypes = c.SpartaContext.contextTypes, r.__decorate([ a.action ], t.prototype, "componentDidMount", null), 
r.__decorate([ a.computed.struct ], t.prototype, "bgInfo", null), t = r.__decorate([ s.observer ], t);
}(o.Component));
t.ParallaxOverlay = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(401);
t.Emitter = r.Emitter, t.EmitterConfig = r.EmitterConfig;
var o = n(537);
t.Particle = o.Particle;
var i = n(403);
t.Renderer = i.Renderer;
var a = n(538);
t.TweenConfig = a.TweenConfig;
}, function(e) {
e.exports = {
texture: "",
blendMode: "screen",
maxParticles: 5,
lifetimeMs: {
value: 1e4,
variance: 500,
absolute: null
},
emitInterval: {
value: 1e3,
variance: 0,
absolute: null
},
x: {
from: {
value: 0,
variance: 500,
absolute: !1
},
to: {
value: 500,
variance: 100,
absolute: !0
},
easing: "Linear",
p1x: {
value: .3464566929133858,
variance: 0,
absolute: null
},
p1y: {
value: .05437499999999995,
variance: 0,
absolute: null
},
p2x: {
value: .33858267716535434,
variance: 0,
absolute: null
},
p2y: {
value: .984375,
variance: 0,
absolute: null
}
},
y: {
from: {
value: 0,
variance: 0,
absolute: !0
},
to: {
value: -900,
variance: 10,
absolute: !1
},
easing: "SineIn",
p1x: {
value: .6692913385826772,
variance: 0,
absolute: null
},
p1y: {
value: .014375000000000027,
variance: 0,
absolute: null
},
p2x: {
value: .3779527559055118,
variance: 0,
absolute: null
},
p2y: {
value: .994375,
variance: 0,
absolute: null
}
},
opacity: {
from: {
value: 1,
variance: .1,
absolute: !0
},
to: {
value: 0,
variance: .1,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
scale: {
from: {
value: 2,
variance: .3,
absolute: !0
},
to: {
value: 0,
variance: .4,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
rotate: {
from: {
value: -10,
variance: 2,
absolute: !0
},
to: {
value: 5,
variance: 2,
absolute: !0
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
},
color: {
fromColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 126,
variance: 0,
absolute: !0
},
B: {
value: 0,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
toColor: {
R: {
value: 255,
variance: 0,
absolute: !0
},
G: {
value: 126,
variance: 0,
absolute: !0
},
B: {
value: 0,
variance: 0,
absolute: !0
},
A: {
value: 255,
variance: 0,
absolute: !0
}
},
easing: "Linear",
p1x: {
value: .2,
variance: 0,
absolute: null
},
p1y: {
value: .2,
variance: 0,
absolute: null
},
p2x: {
value: .8,
variance: 0,
absolute: null
},
p2y: {
value: .8,
variance: 0,
absolute: null
}
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("SubscriptionLogo"), a = function() {
function e() {}
var t;
return t = e, e.container = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(4),
width: o.Grid.getWidth(2),
position: "relative",
marginBottom: o.Grid.spacer(3)
}, "95a4bcea:7:23");
}), e.trialLabel = i.wrap(function() {
return o.style({
position: "absolute",
bottom: 0,
right: 0,
fontSize: 9
}, "95a4bcea:14:24");
}), e.eaPlayImage = o.value(function() {
return o.bbOfflineUrl("/sparta/commerce/EA_Play_Lockup_Horizontal_White_RGB-9eeb85a6.png");
}, "95a4bcea:21:25"), e.eaPlayColorImage = o.value(function() {
return o.bbOfflineUrl("/sparta/commerce/EA_Play_Lockup_Horizontal_Coral_RGB-41384e7f.png");
}, "95a4bcea:22:30"), e.eaPlayProImage = o.value(function() {
return o.bbOfflineUrl("/sparta/commerce/EA_PlayPro_Lockup_Horizontal_Coral_RGB-443ce899.png");
}, "95a4bcea:25:28"), e.eaPlayLogo = o.multistyle2(function(e, n) {
return o.style({
flex: 1,
textureMode: "contain",
texture: e ? t.eaPlayProImage : n ? t.eaPlayColorImage : t.eaPlayImage
}, "95a4bcea:29:77");
}), e = t = r.__decorate([ i.style ], e);
}();
t.SubscriptionLogoStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(555), s = n(18), u = n(5), l = n(27), c = u.StaticStyle.create({
width: 15,
height: 15,
position: "absolute",
top: 0,
left: 0,
zOffset: 4e11
}, "a5c51e52:8:14"), p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onMouseUp = function(e) {
e.button === l.MouseButton.Wheel && s.gotoLocation("debug-screen/overview");
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
return a.debugFeatureFlags.debugscreen.isEnabled() ? o.createElement("surface", {
onMouseUp: this.onMouseUp,
style: c
}) : null;
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TriggerSurface = p;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(26), a = n(15), s = n(12), u = n(11), l = n(23), c = n(7), p = n(1139), d = n(1140), f = n(22);
t.PopupPortal = p.createPortal("popup");
var m = f.focusSystem.createScaledComponent(), h = function(n) {
function p() {
var e = null !== n && n.apply(this, arguments) || this;
return e.sparta = c.SpartaContext.getFromComponent(e), e.opacityTween = a.Animation.componentTween(e, "d888acba:52:50", 0), 
e.handleError = function(t, n) {
e.props.popupState.close();
}, e;
}
return e.__extends(p, n), p.prototype.getInput = function() {
var e = this;
return this.props.popupState.isReady ? [ new s.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: u.Keys.Decline,
action: function() {
e.props.popupState.close();
}
}) ] : [];
}, p.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.popupState.isActive;
}, function(t) {
t ? (e.props.popupState.setIsReady(!0), e.isolateInputGroup()) : e.releaseInputGroup(), 
e.opacityTween.promiseTo(t ? 1 : 0).then(function() {
t || e.props.popupState.setIsReady(!1);
});
}, {
fireImmediately: !0
});
}, p.prototype.render = function() {
var n = this;
return this.props.popupState.isReady ? r.createElement(t.PopupPortal.Add, {
onError: this.handleError,
id: this.props.id ? this.props.id : String(Date.now())
}, function() {
return r.createElement("surface", {
style: [ d.PortalPopupStyles.container, n.opacityTween.getStyleClass("opacity") ]
}, r.createElement("surface", {
ref: m,
style: [ e.__assign({}, l.screen.style, n.sparta.uiState.viewportPosition), n.sparta.uiState.viewportScaleStyle ]
}, n.props.children()));
}) : null;
}, p.contextTypes = c.SpartaContext.contextTypes, p = e.__decorate([ o.observer, i.inputWithOptions({
group: !0,
ignoreParentIsolation: !0
}) ], p);
}(i.InputComponent);
t.PortalPopup = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return this.props.child();
}, t;
}(o.Component);
t.createPortal = function u(e, t) {
var n = i.observable.map({}, {
deep: !1
}), u = function(t) {
function u() {
return null !== t && t.apply(this, arguments) || this;
}
return r.__extends(u, t), Object.defineProperty(u.prototype, "child", {
get: function() {
if (n.size) {
var e = i.values(n);
return e[e.length - 1];
}
},
enumerable: !0,
configurable: !0
}), u.prototype.componentDidCatch = function(e, t) {
this.child && this.child.onError && this.child.onError(this.child.id, e);
}, u.prototype.render = function() {
var e = this.child;
return e ? o.createElement(s, {
child: e.children
}) : null;
}, u.displayName = e + "Render", r.__decorate([ i.computed ], u.prototype, "child", null), 
u = r.__decorate([ a.observer ], u);
}(o.Component);
return {
Add: function(t) {
function s() {
return null !== t && t.apply(this, arguments) || this;
}
return r.__extends(s, t), s.prototype.componentDidMount = function() {
n.set(this.props.id, {
id: this.props.id,
children: this.props.children,
onError: this.props.onError
});
}, s.prototype.componentWillUnmount = function() {
n.delete(this.props.id);
}, s.prototype.render = function() {
return o.createElement("surface", {
key: "Rendered_in_portal_with_id_" + e
});
}, s.displayName = e + "Add", r.__decorate([ i.action ], s.prototype, "componentDidMount", null), 
r.__decorate([ i.action ], s.prototype, "componentWillUnmount", null), s = r.__decorate([ a.observer ], s);
}(o.Component),
Render: u,
portalChildren: n
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(65), a = o.Template("PortalPopup"), s = function() {
function e() {}
return e.container = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0,
backgroundColor: "#000000B2",
zOffset: i.OffsetStyles.popups
}, "92d5a683:8:34");
}), e = r.__decorate([ a.style ], e);
}();
t.PortalPopupStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(7), a = n(4), s = n(3), u = n(414), l = n(536), c = n(5), p = n(13), d = n(539), f = n(1142), m = n(1143), h = n(1144), g = n(1145), y = n(26), S = n(395), v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = i.SpartaContext.getFromComponent(t), t.startScreenParticles = o.createRef(), 
t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
s.when(function() {
return e.sparta.stores.nativePropertiesStore.ready;
}, function() {
e.sparta.stores.startScreenStore.flow.start(e);
}), this.reaction(function() {
return e.sparta.stores.startScreenStore.isVisible;
}, function(t) {
e.sparta.stores.layoutVisibilityStore.setVisibilities({
only: !!t && {}
}), t ? e.isolateInputGroup() : e.releaseInputGroup();
}, {
fireImmediately: !0
}), this.reaction(function() {
return e.sparta.stores.startScreenStore.flow.isLegalPopupActive;
}, function(t) {
t ? e.releaseInputGroup() : e.isolateInputGroup();
});
}, t.prototype.getInput = function() {
return [];
}, t.prototype.render = function() {
var e = this.sparta.uiState, t = this.sparta.stores, n = t.startScreenStore, r = t.hostingGameStore.game;
if (!n.isVisible || !r) return o.createElement("surface", null);
var i = this.sparta.theme.getTheme(this).start, a = this.sparta.twinkle.getBuildInfo(), s = e.window.width / p.LayoutBounds.screen.style.width, y = e.window.height / p.LayoutBounds.screen.style.height, v = c.merge3(u.StartScreenStyles.container, e.viewportWindowStyle, c.DynamicStyle.create({
texture: r.startScreenImageUrl,
textureScale: Math.max(s, y)
}, "9ccd6020:103:41")), _ = c.merge3(u.StartScreenStyles.content, e.viewportPositionStyle, e.viewportScaleStyle), b = !!r.startScreenLogo && o.createElement("surface", {
style: u.StartScreenStyles.gameLogo(r.startScreenLogo)
}), T = o.createElement(l.StartScreenParticles, {
ref: this.startScreenParticles
}), E = n.flow.isOnboarded && o.createElement(d.ShowNativeLoadingUi, {
debugName: "9ccd6020:120:103"
}), C = !a.isPC && n.flow.currentState === S.StartScreenState.WAITING_FOR_USER_START && o.createElement(g.StartScreenInputs, null), I = o.createElement(m.StartScreenProgress, {
game: r
}), A = a.isCTE() && a.isXboxOne && o.createElement(f.StartScreenDisclaimer, null);
return o.createElement("surface", {
style: v
}, o.createElement("test", {
guid: "startscreen"
}), E, T, o.createElement("surface", {
style: _
}, b, o.createElement("surface", {
style: i.progressStyle
}, C, I, A), o.createElement(h.StartScreenBottomBar, {
game: r
})));
}, t.contextTypes = i.SpartaContext.contextTypes, t = r.__decorate([ y.inputWithOptions({
group: !0
}), a.observer ], t);
}(y.InputComponent);
t.StartScreen = v;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(7), i = n(4), a = n(6), s = n(33), u = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = o.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.twinkle.getBuildInfo().isXboxOne ? __("ID_SPARTA_START_DISCLAIMER_XBONE") : __("ID_SPARTA_START_DISCLAIMER_GENERIC"), t = this.sparta.theme.getTheme(this).start;
return r.createElement("surface", {
style: t.betaDisclaimerContainer
}, r.createElement(a.Text, {
type: s.TextType.LIGHT,
size: "XS",
style: t.betaDisclaimer,
value: e
}));
}, n.contextTypes = o.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.StartScreenDisclaimer = u;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(7), a = n(4), s = n(395), u = n(6), l = n(21), c = n(533), p = n(36), d = n(534), f = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = i.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "fontSize", {
get: function() {
return this.sparta.twinkle.getBuildInfo().isPC ? l.TextSize.M : l.TextSize.S;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "progress", {
get: function() {
var e;
switch (this.sparta.stores.startScreenStore.flow.currentState) {
case s.StartScreenState.CONNECTING:
e = __("ID_SPARTA_ONLINE_PRESENCE_CONNECTING").toUpperCase();
break;

case s.StartScreenState.WAITING_FOR_TAKEOVER:
case s.StartScreenState.DISMISSING:
e = __("ID_SPARTA_START_LOADING").toUpperCase();
}
if (e) {
var t = this.sparta.theme.getTheme(this).start;
return r.createElement("surface", {
style: t.backdrop
}, r.createElement(u.Text, {
value: __("ID_SPARTA_START_LOADING").toUpperCase(),
size: this.fontSize
}));
}
return r.createElement("surface", null);
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.sparta.stores.startScreenStore.flow.currentState === s.StartScreenState.ONBOARDING && r.createElement(m, {
game: this.props.game,
fontSize: this.fontSize
});
return r.createElement("surface", null, e, this.progress);
}, n.contextTypes = i.SpartaContext.contextTypes, e.__decorate([ o.computed ], n.prototype, "progress", null), 
n = e.__decorate([ a.observer ], n);
}(r.Component);
t.StartScreenProgress = f;
var m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = i.SpartaContext.getFromComponent(e), e.setOnboarded = function() {
e.sparta.stores.startScreenStore.flow.setOnboarded(!0);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.stores.nativePropertiesStore, t = "home";
if (e.crossLaunch) {
var n = e.crossLaunch.gameMode;
n && "SP" === n ? t = "crosslaunch_sp" : n && "MP" === n && (t = e.crossLaunch.joinFriend ? "crosslaunch_mp_friend" : "crosslaunch_mp"), 
p.trackEvent("CrossLaunch", "Success", t);
}
var o = this.props.game.hasOnboardingMessages(t) ? this.props.game.getOnboardingMessages(t) : c.getOnboardingMessages(t), i = this.sparta.theme.getTheme(this).start;
return r.createElement(d.TextRotator, {
messages: o,
style: i.backdrop,
textSize: this.props.fontSize,
onEnd: this.setOnboarded
});
}, n.contextTypes = i.SpartaContext.contextTypes, n;
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(414), i = n(6), a = n(7), s = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = a.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props.game.copyrightYear, t = this.sparta.theme.getTheme(this).start, n = !!e && r.createElement(i.Text, {
style: o.StartScreenStyles.copyrightYear,
size: "S",
value: __("ID_SPARTA_START_COPYRIGHT_YEAR").replace("[[YEAR]]", e + "")
});
return r.createElement("surface", {
style: t.bottomBarContainer
}, r.createElement("surface", {
style: o.StartScreenStyles.eaLogo
}), r.createElement("surface", {
style: o.StartScreenStyles.diceLogo
}), n);
}, n.contextTypes = a.SpartaContext.contextTypes, n;
}(r.Component);
t.StartScreenBottomBar = s;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(7), i = n(4), a = n(414), s = n(122), u = n(11), l = n(5), c = n(17), p = n(49), d = n(15), f = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = o.SpartaContext.getFromComponent(e), e.selectButton = r.createRef(), 
e.startButton = r.createRef(), e.tweenOptions = {
easing: d.Animation.defaultTweenOptions.easing,
duration: 800
}, e.hasPressedToStart = !1, e.playStartAnimation = function(t) {
e.startButton.current ? (e.startButton.current && e.startButton.current.visualButton.current && e.startButton.current.visualButton.current.icon.current ? e.startButton.current.visualButton.current.icon.current.separate(e.tweenOptions).then(t) : t(), 
e.selectButton.current && e.selectButton.current.visualButton.current && e.selectButton.current.visualButton.current.icon.current && e.selectButton.current.visualButton.current.icon.current.hide(e.tweenOptions).then(function() {})) : t();
}, e.onStartButtonPressed = function() {
e.hasPressedToStart = !0, e.playStartAnimation(function() {
e.sparta.stores.startScreenStore.flow.pressToStart();
});
}, e.onUserChange = function() {
e.hasPressedToStart || p.showLocalUserSelectionUI();
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.stores.onlineState.sessionUser, t = this.sparta.twinkle.getBuildInfo().isXboxOne, n = this.sparta.theme.getTheme(this).start, o = t && r.createElement(s.InputButton, {
animatedLabeledIcon: !0,
label: __("ID_SPARTA_START_SELECTUSER"),
inputKey: u.Keys.Select,
ref: this.selectButton,
action: this.onUserChange,
blockInputFor: 500,
style: l.merge3(n.backdrop, c.CommonStyles.zOffset(1))
}), i = __("ID_SPARTA_START_BUTTON"), p = !0;
t && (e && "0" !== e.id ? i = __("ID_SPARTA_START_PLAYAS") + " " + e.displayName : p = !1);
var d = p && r.createElement(s.InputButton, {
animatedLabeledIcon: !0,
ref: this.startButton,
inputKey: u.Keys.Accept,
blockInputFor: 500,
action: this.onStartButtonPressed,
style: l.merge3(n.backdrop, c.CommonStyles.alignItemsCenter, c.CommonStyles.zOffset(1)),
label: i
});
return r.createElement("surface", {
style: a.StartScreenStyles.buttons
}, o, d);
}, n.contextTypes = o.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.StartScreenInputs = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(7), s = e.get("CountdownWidget"), u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = a.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.stores.gameViewCountdownWidgetStore.widget;
if (s.debug(e), e) {
var t = e.component;
return o.createElement(t, null);
}
return o.createElement("surface", null);
}, t.contextTypes = a.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.CountdownWidget = u;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(1148);
t.layoutBindings = function i(t) {
var n = t.twinkle.frostbite;
o.spartaClientCaptureMouse.listen(function() {
n.sendMessage("sparta.captureMouse");
}), o.spartaClientMinimizeWindow.listen(function() {
n.sendMessage("sparta.minimizeSpartaWindow");
}), o.spartaClientExitToWindows.listen(function() {
n.sendMessage("sparta.exitToWindows");
}), r.when(function() {
return !!t.stores.spartaActivatedStore.navigationState && !!t.stores.gameStateStoreLoader.gameStateStore;
}, function() {
var n = t.stores.gameStateStoreLoader.get();
n.isOnPlayableLevel && (e.info("StartScreen disabled because in-proc launch"), t.stores.startScreenStore.setEnabled(!1), 
t.stores.blackFadeState.hide({
options: {
duration: 0
}
}), n.handleInProcLaunch && n.handleInProcLaunch());
});
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(45);
t.spartaClientCaptureMouse = r.createTypedAction(), t.spartaClientMinimizeWindow = r.createTypedAction(), 
t.spartaClientExitToWindows = r.createTypedAction();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(14), r = n(97), o = n(1150), i = n(1162), a = n(109), s = n(10);
t.initialize = function u(t) {
var n = a.useConsoleMenu ? e.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-3adc8b4c.png") : e.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-770ada4a.png"), u = new r.RouteDeclaration("updates", {
requireOnline: !0,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_UPDATES");
},
view: i.UpdatesOverview,
disabled: !1
});
s.routeStore.addRoute(new r.RouteDeclaration("news", {
requireOnline: !0,
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_NEWS", !0);
},
disabled: !1,
getSubtitle: function() {
return __("ID_SPARTA_MAIN_TITLE_NEWS");
},
view: o.NewsOverview,
normalIconUrl: n,
backgroundUrl: e.bbOfflineUrl("/sparta/jsclient/builds/assets/background-generic-c08a5fa5.dds"),
backgroundSize: [ 4084, 1440 ],
dynamicBackground: t.stores.backgroundStore.createDynamicSectionBackground("news"),
priority: 7,
children: [ u ]
}));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(8), a = n(72), s = n(32), u = n(181), l = n(37), c = n(29), p = n(23), d = n(39), f = n(5), m = n(17), h = n(7), g = f.StaticStyle.wrapLegacyStyleSheet({
pc: {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -i.GUTTER,
marginBottom: -i.GUTTER
},
console: {
marginTop: (p.content.top - i.GUTTER) / 2
},
loadingOverlay: {
position: "absolute",
zOffset: 3,
top: 0,
left: 0,
width: p.content.width,
flexDirection: "row",
justifyContent: "center",
alignItems: "center"
},
heightPC: {
height: p.content.height - p.content.top
},
heightConsole: {
height: p.content.height - p.header.height
}
}, "d207fc8b:15:15"), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = h.SpartaContext.getFromComponent(e), e.getRecommendationSize = function() {
return e.sparta.twinkle.buildInfo.isPC ? l.CardSize.L : l.CardSize.M;
}, e.renderContent = function(t) {
var n = e.sparta.twinkle.buildInfo.isPC ? g.heightPC : g.heightConsole;
return t ? 0 === t.length ? r.createElement(d.EmptyState, {
key: "emptyState",
style: f.merge3(g.loadingOverlay, m.CommonStyles.flexColumn, n),
text: __("ID_SPARTA_NEWS_NO_NEWS_TITLE"),
subText: __("ID_SPARTA_NEWS_NO_NEWS_DESC")
}) : e.sparta.twinkle.buildInfo.isPC ? r.createElement("surface", {
style: g.pc,
key: "cards"
}, t) : r.createElement(a.CardCarousel, {
id: "d207fc8b:87:35",
key: "carousel",
width: i.getWidth(24),
style: g.console
}, t) : r.createElement("surface", {
style: f.merge2(g.loadingOverlay, n),
key: "loading"
}, r.createElement(c.Spinner, {
large: !0
}));
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(s.Template, {
scrollToFocus: this.sparta.twinkle.focus.controllerMode,
tallContent: !0
}, r.createElement(u.RecommendationRenderer, {
cardSizer: this.getRecommendationSize,
game: "sparta",
category: "sparta_news"
}, this.renderContent));
}, n.contextTypes = h.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.NewsOverview = y;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(12), a = n(11), s = n(18), u = n(311), l = n(153), c = n(37), p = n(92), d = n(3), f = n(527), m = n(182), h = n(198), g = n(7), y = n(111);
function S(e) {
return e ? d.keys(e.values).filter(function(t) {
return "on" === e.values.get(t);
}) : [];
}
var v = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = g.SpartaContext.getFromComponent(r), r.contextMenuInputs = [ {
label: __("ID_SPARTA_ACTION_LISTSERVERS"),
action: function() {
return r.gotoServerBrowser();
}
} ], r.tryMatchmaking = function() {
if (r.sparta.stores.recommendationStore.handleCardInteraction(r), r.sparta.stores.freemiumStore.canJoinWithFreemium) r.startMatchmaking(); else {
var e = r.props.recommendation, t = e.expansions, n = e.game, o = [];
if (t && t.length) {
var i = r.sparta.stores.expansionStore.get(n, r.sparta.twinkle.buildInfo.bundlePlatform);
if (!i.isLoading && i.value) {
var a = i.value;
t.forEach(function(e) {
var t = a.getXpack(e);
t && o.push(t);
});
}
}
h.validateContentAccessToServerWithPopup(n, o) && r.startMatchmaking();
}
}, r.gotoServerBrowser = function() {
r.sparta.stores.recommendationStore.handleCardInteraction(r);
var e = r.props.recommendation, t = e.game, n = e.filter;
n && r.sparta.stores.serverFilterStore.applyFilterProperties(t, n), s.gotoLocation(r.serverListRoute);
}, r.focusItem = r.sparta.twinkle.focus.create(r, "filtercard-" + e.recommendation.id), 
r.focusItem.autoFocusCandidate = !0, r.filterOptions = r.sparta.stores.serverFilterOptionsStore.get(r.gameId), 
r.sparta.stores.recommendationStore.addLifecycleHooks(r, function() {
return r.recommendationHeadLine;
}), r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "gameId", {
get: function() {
return this.props.recommendation.game.toLowerCase();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "recommendationHeadLine", {
get: function() {
var e = this.filterSummary;
return e ? e.subHeading + " " + e.content : void 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "matchmakingFilter", {
get: function() {
if (this.filterOptions.value) {
var e = this.sparta.stores.gameDataStore.get(this.props.recommendation.game).value, t = e ? Object.assign({}, this.filterOptions.value, {
gameModes: f.createGameModesFilterOptions(e, !1)
}) : this.filterOptions.value;
return new p.GameFilter(this.props.recommendation.filter, t);
}
return null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "filterSummary", {
get: function() {
if (this.matchmakingFilter) {
var e = this.props.recommendation, t = u.getFilterCardSummary(this.matchmakingFilter), n = t.content, r = t.subHeading, o = e.image || this.getBackgroundImage();
return n.indexOf("\n") && (n = n.split("\n")[0]), {
content: n,
subHeading: r,
imageUrl: o
};
}
return {};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "buttons", {
get: function() {
var e = [ new i.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: a.Keys.Accept,
blockInputFor: 500,
action: this.tryMatchmaking
}) ];
return this.sparta.twinkle.focus.controllerMode && this.areAllModesEnabledForFilter() && this.canNavigateToServerBrowser && e.push(new i.Input({
label: __("ID_SPARTA_ACTION_LISTSERVERS"),
key: a.Keys.Option1,
blockInputFor: 500,
action: this.gotoServerBrowser
})), e;
},
enumerable: !0,
configurable: !0
}), n.prototype.getBackgroundImage = function() {
if (this.matchmakingFilter) {
var e = this.matchmakingFilter.categories, t = e.maps, n = e.gameModes, r = S(t), o = t.optionsCategory;
if (r && o) {
var i = o.options.find(function(e) {
return e.filterKey === r[0];
});
if (i) return i.imageUrl;
}
var a = S(n), s = n.optionsCategory;
if (a && s) {
var u = s.options.find(function(e) {
return e.filterKey === a[0];
});
if (u) return u.imageUrl;
}
}
return "";
}, n.prototype.areAllModesEnabledForFilter = function() {
if (this.matchmakingFilter) {
var e = this.matchmakingFilter.getCategory(p.FilterCategoryName.GameModes);
if (e.values) return d.keys(e.values).every(function(e) {
return "Breakthrough" !== e;
});
}
return !0;
}, n.prototype.startMatchmaking = function() {
this.sparta.stores.nativePropertiesStore.isHostingGame(this.gameId) ? this.matchmakingFilter && this.sparta.stores.matchmakingManager.start(this.props.recommendation.game, this.matchmakingFilter) : y.showNotInHostingGame();
}, Object.defineProperty(n.prototype, "serverListRoute", {
get: function() {
var e = this.sparta.stores.gameStore.getGame(this.gameId);
return e ? e.serverConfig.serverListRoute : "";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "canNavigateToServerBrowser", {
get: function() {
return this.sparta.stores.routeStore.isValidPath(this.serverListRoute);
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.props.recommendation, t = this.sparta.twinkle.buildInfo.isPC && this.areAllModesEnabledForFilter() && this.canNavigateToServerBrowser ? {
menuItems: this.contextMenuInputs
} : void 0, n = !1;
this.matchmakingFilter && (n = u.getFilterSummary(this.matchmakingFilter).isCustomGames);
var o = e.expansions && e.expansions.length > 0 ? e.expansions[0] : void 0;
return r.createElement(l.PlayCard, {
heading: e.title,
input: this.buttons,
focusItem: this.focusItem,
game: e.game,
counterId: e.id,
contextMenu: t,
joinButtonName: __("ID_SPARTA_ACTION_QUICKMATCH").toUpperCase(),
modes: this.filterSummary.subHeading,
maps: this.filterSummary.content,
background: this.filterSummary.imageUrl,
size: this.props.size,
custom: n,
expansion: o
}, r.createElement(m.ImageSlots, {
recommendation: e
}));
}, n.contextTypes = g.SpartaContext.contextTypes, n.defaultProps = {
size: c.CardSize.M
}, e.__decorate([ d.computed ], n.prototype, "matchmakingFilter", null), e.__decorate([ d.computed ], n.prototype, "filterSummary", null), 
n = e.__decorate([ o.observer ], n);
}(r.Component);
t.FilterRecommendationCard = v;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(12), i = n(11), a = n(153), s = n(139), u = n(182), l = n(7), c = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = l.SpartaContext.getFromComponent(r), r.inputs = [ new o.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: i.Keys.Accept,
blockInputFor: 500,
action: function() {
r.sparta.stores.recommendationStore.handleCardInteraction(r), s.continueSinglePlayer(r.props.recommendation.game);
}
}) ], r.focusItem = r.sparta.twinkle.focus.create(r, "continue_rec_card"), r.focusItem.autoFocusCandidate = !0, 
r.sparta.stores.recommendationStore.addLifecycleHooks(r, "single-player-continue"), 
r;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = __("ID_SPARTA_CARD_CAMPAIGN").toUpperCase(), t = __("ID_SPARTA_RECCOMENDATIONS_CONTINUE_CAMPAIGN").toUpperCase(), n = __("ID_SPARTA_RECCOMENDATIONS_LEFT_OFF").toUpperCase();
return r.createElement(a.PlayCard, {
heading: e,
focusItem: this.focusItem,
input: this.inputs,
joinButtonName: __("ID_SPARTA_ACTION_PLAY").toUpperCase(),
modes: t,
maps: n,
size: this.props.size,
background: this.props.recommendation.image
}, r.createElement(u.ImageSlots, {
recommendation: this.props.recommendation
}));
}, n.contextTypes = l.SpartaContext.contextTypes, n;
}(r.Component);
t.SinglePlayerRecommendationCard = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(25), i = n(1154), a = n(12), s = n(11), u = n(1157), l = n(6), c = n(137), p = n(182), d = n(38), f = n(265), m = n(7), h = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = m.SpartaContext.getFromComponent(r), r.inputs = [ new a.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: s.Keys.Accept,
blockInputFor: 500,
action: function() {
r.sparta.stores.recommendationStore.handleCardInteraction(r), r.openArticlePopup();
}
}) ], r.focusItem = r.sparta.twinkle.focus.create(r, "article_s_rec_card_" + e.recommendation.article.slug), 
r.focusItem.autoFocusCandidate = !0, r.sparta.stores.recommendationStore.addLifecycleHooks(r, e.recommendation.article.slug), 
r;
}
return e.__extends(n, t), n.prototype.openArticlePopup = function() {
var e = new u.Article(this.props.recommendation.article);
o.display(new d.Popup({
id: "articlePopup",
fullScreen: !0,
createButtons: !1,
content: r.createElement(i.ArticlePopup, {
article: e,
popupId: "articlePopup"
}),
inputs: [ new a.Input({
label: __("ID_SPARTA_ACTION_BACK"),
key: s.Keys.Decline
}) ]
}));
}, n.prototype.render = function() {
var e = this.props.recommendation.article, t = (e.pageSubTitle.text || __("ID_SPARTA_CARD_ARTICLE")).toUpperCase();
return r.createElement(c.Card, {
input: this.inputs,
focusItem: this.focusItem,
background: e.featuredImage.fileReference,
size: this.props.size
}, r.createElement(l.Text, {
value: t,
size: "XS",
style: f.CommonRecommendationStyles.eyebrow
}), r.createElement(l.Text, {
value: e.pageTitle.text,
size: "M"
}), r.createElement(p.ImageSlots, {
recommendation: this.props.recommendation
}));
}, n.contextTypes = m.SpartaContext.contextTypes, n;
}(r.Component);
t.ArticleRecommendationCard = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(25), s = n(1155), u = n(10), l = n(7), c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = l.SpartaContext.getFromComponent(t), t.onClose = function(e) {
a.close(t.props.popupId), e && setTimeout(function() {
return e();
}, 200);
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement("surface", {
style: this.sparta.theme.getTheme(this).newsContent.wrapper
}, o.createElement(s.NewsContent, {
article: this.props.article,
key: this.props.article.id,
routeConfig: u.layoutStateStore.current.config,
onClose: this.onClose
}));
}, t.contextTypes = l.SpartaContext.contextTypes, t.showCloseButton = !0, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.ArticlePopup = c;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(68), i = n(6), a = n(34), s = n(8), u = n(28), l = n(18), c = n(415), p = n(10), d = n(15), f = n(11), m = n(26), h = n(12), g = n(9), y = n(5), S = n(287), v = n(33), _ = n(22), b = n(42), T = n(7), E = s.getHeight(3), C = s.getHeight(g.SpartaGlobals.bundleIsPC ? 3 : 15), I = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = T.SpartaContext.getFromComponent(e), e.content = [], e.headlines = {
hltop: {
text: __("ID_SPARTA_NEWS_GO_TO_TOP"),
yPosition: 0
}
}, e.scrollerState = new a.ScrollerState(), e.softClipTweenTop = d.Animation.componentTween(e, "0508adf9:52:54", 0), 
e.softClipTweenBottom = d.Animation.componentTween(e, "0508adf9:53:57", 0), e.ctaAction = function() {
var t = e.props.article.callToAction;
t && (e.props.onClose ? e.props.onClose(function() {
return l.gotoLocation(t.route);
}) : l.gotoLocation(t.route));
}, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.parseContent(this.props.article.parsedChunks);
}, n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return {
canScrollUp: e.scrollerState.canScrollUp,
canScrollDown: e.scrollerState.canScrollDown
};
}, function(t) {
e.softClipTweenTop.set(t.canScrollUp ? E : 0), e.softClipTweenBottom.set(t.canScrollDown ? C : 0);
}, {
fireImmediately: !0
});
}, n.prototype.getInput = function() {
var e = this.props.article.callToAction, t = [];
return e && p.routeStore.isValidPath(e.route) && t.push(new h.Input({
label: e.title,
action: this.ctaAction,
key: f.Keys.Option1,
visible: !0
})), t;
}, n.prototype.cleanText = function(e) {
return e.split("\n ").join("").split("\n").join("").trim();
}, n.prototype.cleanNewlineEnd = function(e) {
return "\n" === e[e.length - 1] ? e.substr(0, e.length - 1) : e;
}, n.prototype.finishText = function(e, t, n) {
if (0 !== this.cleanText(t).length) {
var o = this.sparta.theme.getTheme(this).newsContent;
if (n.length > 0) {
for (var a = 0, s = "", u = 0, l = n; u < l.length; u++) {
var c = l[u];
if (c.offset !== a && (s += t.substr(a, c.offset - a), a += c.offset - a), "bold" === c.name && c.length > 0) {
s.length > 0 && (this.finishText(e + "_" + (a - s.length), s, []), s = "");
var p = this.cleanText(t.substr(c.offset, c.length));
this.content.push(r.createElement(i.Text, {
key: e + "_" + c.offset,
style: o.boldParagraph,
value: p,
type: v.TextType.EMPHASIS,
size: o.contentFontSize
})), a += c.length;
}
}
t.length !== a && (s += t.substr(a, t.length - a)), s.length > 0 && this.finishText(e + "_rest", s, []);
} else this.content.push(r.createElement(i.Text, {
key: e,
style: o.bodyParagraph,
value: this.cleanText(t),
size: o.contentFontSize
}));
}
}, n.prototype.setBounds = function(e, t) {
this.headlines[e].yPosition || (this.headlines[e].yPosition = t.localY);
}, n.prototype.parseContent = function(e) {
var t = this, n = "", o = [], a = this.sparta.theme.getTheme(this).newsContent;
e[0] && "headline" !== e[0].chunkType && this.content.push(r.createElement("surface", {
style: a.filler,
key: "filler"
})), e.forEach(function(e, s) {
switch ("paragraph" !== e.chunkType && (t.finishText(s, n, o), n = "", o = []), 
e.chunkType) {
case "paragraph":
S.isEqual(o, e.content.styling) ? n += e.content.text : (t.finishText(s, n, o), 
n = e.content.text, o = e.content.styling);
break;

case "headline":
1 === e.level && (t.headlines["hl" + s] = {
text: e.content.text
}), t.content.push(r.createElement("surface", {
key: "headline_" + s,
onBounds: 1 === e.level ? function(e) {
return t.setBounds("hl" + s, e);
} : void 0
}, r.createElement(i.Text, {
type: a.headlineTextType,
value: e.content.text.toUpperCase(),
size: a.headlineFontSizes[e.level - 1] || a.contentFontSize,
style: a.headline
})));
break;

case "image":
t.content.push(r.createElement("surface", {
key: "image_" + s,
style: [ a.bodyImage, {
texture: e.src
} ]
}));
break;

case "bulletlist":
case "orderedlist":
t.content.push(r.createElement("surface", {
key: "list_" + s
}, e.items.map(function(e, n) {
return r.createElement("surface", {
style: a.listItem,
key: "item_" + n
}, r.createElement("surface", {
style: a.listBullet
}), r.createElement(i.Text, {
value: t.cleanNewlineEnd(e.text),
style: y.merge2(a.bodyParagraph, a.listParagraph),
size: a.contentFontSize
}));
})));
}
}), this.finishText("end", n, o);
}, Object.defineProperty(n.prototype, "callToAction", {
get: function() {
var e = this.props.article.callToAction;
if (!e || !p.routeStore.isValidPath(e.route)) return null;
var t = this.sparta.theme.getTheme(this).newsContent;
return r.createElement("surface", {
style: t.ctaWrapper
}, r.createElement(u.Button, {
name: "0508adf9:272:31",
text: e.title,
action: this.ctaAction,
style: t.ctaButton
}));
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.props.article, t = e.pageTitle, n = e.creationDate, o = e.description, i = this.sparta.theme.getTheme(this).newsContent, s = y.merge3(i.scrollerContainer, this.softClipTweenTop.getStyleClass("layerSoftClipTop"), this.softClipTweenBottom.getStyleClass("layerSoftClipBottom"));
return r.createElement("surface", {
style: i.boundsContainer
}, r.createElement(w, {
pageTitle: t.text,
creationDate: n,
scrollerState: this.scrollerState,
headlines: this.headlines,
description: o
}), r.createElement("surface", {
style: s
}, r.createElement(a.Scroller, {
style: i.scroller,
controller: !0,
tween: !0,
scrollbar: g.SpartaGlobals.bundleIsPC,
scrollerState: this.scrollerState
}, r.createElement("surface", {
style: g.SpartaGlobals.bundleIsConsole ? i.content : y.emptyStyle
}, this.content), g.SpartaGlobals.bundleIsPC && this.callToAction)), g.SpartaGlobals.bundleIsConsole && r.createElement(a.Scrollbar, {
scrollerState: this.scrollerState,
enabled: !0
}));
}, n.contextTypes = T.SpartaContext.contextTypes, n = e.__decorate([ m.input ], n);
}(r.Component);
t.NewsContent = I;
var A = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = T.SpartaContext.getFromComponent(e), e.focusGroup = _.focusSystem.createComponentGroup(e, "tableOfContensGroup", b.GroupBehavior.WRAP_AROUND | b.GroupBehavior.HORIZONTAL), 
e;
}
return e.__extends(n, t), n.prototype.scrollTo = function(e) {
e ? void 0 !== e.yPosition && this.props.scrollerState.setScrollOffset(0, e.yPosition - s.spacer(2)) : this.props.scrollerState.setScrollOffset(0, 0);
}, n.prototype.render = function() {
var e = this, t = Object.keys(this.props.items).map(function(t) {
return e.props.items[t];
});
if (t.length <= 1) return null;
var n = this.sparta.theme.getTheme(this).newsContent;
return r.createElement("surface", {
onBounds: this.props.onBounds
}, r.createElement(i.Text, {
value: __("ID_SPARTA_NEWS_TABLE_OF_CONTENTS"),
style: n.headingDescription,
type: "emphasis",
size: n.contentFontSize
}), r.createElement("surface", {
style: n.tocItems
}, t.map(function(t, i) {
return r.createElement(o.Focusable, {
id: "tableOfContens",
group: e.focusGroup,
groupIndex: i,
key: "tocItem_" + i
}, function(o) {
return r.createElement(u.Button, {
name: "0508adf9:376:43",
text: t.text,
fitContent: !0,
stealFocus: 0 === i,
focusItem: o,
style: n.tocButton,
upperCase: !1,
action: e.scrollTo.bind(e, t)
});
});
})));
}, n.contextTypes = T.SpartaContext.contextTypes, n;
}(r.Component), w = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = T.SpartaContext.getFromComponent(e), e.headerTopOffset = d.Animation.componentTween(e, "0508adf9:406:53", 0), 
e.headerOpacity = d.Animation.componentTween(e, "0508adf9:407:51", 1), e.headerHeight = 0, 
e.tocHeight = 0, e.setHeaderBounds = function(t) {
e.headerHeight = t.height;
}, e.setTocBounds = function(t) {
e.tocHeight = t.height + s.spacer(2);
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
g.SpartaGlobals.bundleIsConsole && this.reaction(function() {
return e.props.scrollerState.scrollOffset;
}, function(t) {
0 !== t.y ? (e.headerTopOffset.to(-(e.headerHeight - e.tocHeight)), e.headerOpacity.to(0)) : (e.headerOpacity.to(1), 
e.headerTopOffset.to(0));
}, {
fireImmediately: !0
});
}, n.prototype.render = function() {
var e = Object.keys(this.props.headlines).length > 1, t = this.headerTopOffset.getStyleClass("marginTop"), n = this.headerOpacity.getStyleClass("opacity"), o = this.sparta.theme.getTheme(this).newsContent, a = !!this.props.description && " " !== this.props.description && r.createElement(i.Text, {
value: this.props.description,
style: y.merge2(o.headingDescription, n),
size: o.headerDescriptionFontSize
}), s = e && r.createElement(A, {
items: this.props.headlines,
onBounds: this.setTocBounds,
scrollerState: this.props.scrollerState
});
return r.createElement("surface", {
onBounds: this.setHeaderBounds,
style: t
}, r.createElement(c.DateText, {
time: this.props.creationDate,
mask: "separatedFullDate",
format: "date",
type: o.headingMetaDetailsTextType,
size: "S",
style: y.merge2(o.headingMetaDetails, n)
}), r.createElement("surface", {
style: [ o.headingTopLine, n ]
}), r.createElement("surface", {
style: [ o.headingTitle, n ]
}, r.createElement(i.Text, {
size: o.headerTitleFontSize,
type: o.headerTitleFontType,
value: this.props.pageTitle.toUpperCase()
})), a, s, r.createElement("surface", {
style: [ o.headingBottomLine, e ? void 0 : n ]
}));
}, n.contextTypes = T.SpartaContext.contextTypes, n;
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
var r;
!function(o) {
"use strict";
var i, a, s, u = (i = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g, 
a = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g, 
s = /[^-+\dA-Z]/g, function(e, t, n, r) {
if (1 !== arguments.length || "string" !== function o(e) {
return null === e ? "null" : void 0 === e ? "undefined" : "object" != typeof e ? typeof e : Array.isArray(e) ? "array" : {}.toString.call(e).slice(8, -1).toLowerCase();
}(e) || /\d/.test(e) || (t = e, e = void 0), (e = e || new Date()) instanceof Date || (e = new Date(e)), 
isNaN(e)) throw TypeError("Invalid date");
var c = (t = String(u.masks[t] || t || u.masks.default)).slice(0, 4);
"UTC:" !== c && "GMT:" !== c || (t = t.slice(4), n = !0, "GMT:" === c && (r = !0));
var p = n ? "getUTC" : "get", d = e[p + "Date"](), f = e[p + "Day"](), m = e[p + "Month"](), h = e[p + "FullYear"](), g = e[p + "Hours"](), y = e[p + "Minutes"](), S = e[p + "Seconds"](), v = e[p + "Milliseconds"](), _ = n ? 0 : e.getTimezoneOffset(), b = function T(e) {
var t = new Date(e.getFullYear(), e.getMonth(), e.getDate());
t.setDate(t.getDate() - (t.getDay() + 6) % 7 + 3);
var n = new Date(t.getFullYear(), 0, 4);
n.setDate(n.getDate() - (n.getDay() + 6) % 7 + 3);
var r = t.getTimezoneOffset() - n.getTimezoneOffset();
t.setHours(t.getHours() - r);
var o = (t - n) / 6048e5;
return 1 + Math.floor(o);
}(e), E = function C(e) {
var t = e.getDay();
return 0 === t && (t = 7), t;
}(e), I = {
d: d,
dd: l(d),
ddd: u.i18n.dayNames[f],
dddd: u.i18n.dayNames[f + 7],
m: m + 1,
mm: l(m + 1),
mmm: u.i18n.monthNames[m],
mmmm: u.i18n.monthNames[m + 12],
yy: String(h).slice(2),
yyyy: h,
h: g % 12 || 12,
hh: l(g % 12 || 12),
H: g,
HH: l(g),
M: y,
MM: l(y),
s: S,
ss: l(S),
l: l(v, 3),
L: l(Math.round(v / 10)),
t: g < 12 ? "a" : "p",
tt: g < 12 ? "am" : "pm",
T: g < 12 ? "A" : "P",
TT: g < 12 ? "AM" : "PM",
Z: r ? "GMT" : n ? "UTC" : (String(e).match(a) || [ "" ]).pop().replace(s, ""),
o: (_ > 0 ? "-" : "+") + l(100 * Math.floor(Math.abs(_) / 60) + Math.abs(_) % 60, 4),
S: [ "th", "st", "nd", "rd" ][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],
W: b,
N: E
};
return t.replace(i, function(e) {
return e in I ? I[e] : e.slice(1, e.length - 1);
});
});
function l(e, t) {
for (e = String(e), t = t || 2; e.length < t; ) e = "0" + e;
return e;
}
u.masks = {
default: "ddd mmm dd yyyy HH:MM:ss",
shortDate: "m/d/yy",
mediumDate: "mmm d, yyyy",
longDate: "mmmm d, yyyy",
fullDate: "dddd, mmmm d, yyyy",
shortTime: "h:MM TT",
mediumTime: "h:MM:ss TT",
longTime: "h:MM:ss TT Z",
isoDate: "yyyy-mm-dd",
isoTime: "HH:MM:ss",
isoDateTime: "yyyy-mm-dd'T'HH:MM:sso",
isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",
expiresHeaderFormat: "ddd, dd mmm yyyy HH:MM:ss Z"
}, u.i18n = {
dayNames: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
monthNames: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ]
}, void 0 === (r = function() {
return u;
}.call(t, n, t, e)) || (e.exports = r);
}();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(10), o = n(529);
var i = function() {
function e(t, n) {
this.group = "article", this.creationDate = t.creationDate ? new Date(t.creationDate.substr(0, 19)) : new Date(), 
this.featuredImage = t.featuredImage, this.pageTitle = t.pageTitle, this.pageSubTitle = t.pageSubTitle, 
this.description = t.description || "", this.parsedChunks = t.parsedChunks || [], 
t.body ? this.body = t.body.children.map(function(e) {
var t = e.resourceType.replace("ea/core/contentapi/components/", ""), n = {
type: t
};
return !function r(e, t) {
return "image" === t;
}(0, t) ? function i(e, t) {
return "text" === t;
}(0, t) && (n.text = o.stripHTML(e.text)) : n.image = e.fileReference, n;
}) : this.body = [], this.isFeatured = e.isDateWithinRange(t.featuredFrom, t.featuredTo);
var i = n ? r.gameStore.getGame(n) : void 0;
this.game = i ? i.displayName : "", this.id = t.slug, t.callToAction && (this.callToAction = t.callToAction);
}
return e.isDateWithinRange = function(e, t) {
if (!e || !t) return !1;
var n = new Date().getTime(), r = new Date(e.substr(0, 19)).getTime(), o = new Date(t.substr(0, 19)).getTime();
return n >= r && n < o;
}, e.prototype.hasRequiredFields = function() {
var e = null !== this.pageTitle, t = this.parsedChunks.length > 0 && !this.parsedChunks[0].hasOwnProperty("warning");
return e && t;
}, e;
}();
t.Article = i;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(15), a = n(25), s = n(26), u = n(12), l = n(11), c = n(383), p = n(5), d = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.opacityTween = i.Animation.componentTween(r, "0d339946:39:57", 1), r.timeout = 0, 
r.onClose = function() {
clearTimeout(r.timeout), r.props.popupInfo && a.close(r.props.popupInfo.id), r.props.onClose();
}, r.state = {
canClose: !e.timeout || e.timeout <= 0
}, r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.state.canClose || (this.timeout = setTimeout(function() {
e.setState({
canClose: !0
}), clearTimeout(e.timeout);
}, this.props.timeout || 0));
}, n.prototype.componentWillUnmount = function() {
clearTimeout(this.timeout);
}, n.prototype.getInput = function() {
if (this.state.canClose) return new u.Input({
label: this.props.label ? this.props.label : __("ID_SPARTA_ACTION_CLOSE"),
key: l.Keys.Decline,
action: this.onClose
});
}, n.prototype.popupWillShow = function() {
this.opacityTween.transition(1, 0, {
delay: 3e3
});
}, n.prototype.render = function() {
return r.createElement("surface", {
style: c.FullScreenVideoStyles.container({
videoId: this.props.video.id
})
}, r.createElement("surface", {
style: p.merge2(c.FullScreenVideoStyles.header, this.opacityTween.getStyleClass("opacity"))
}, r.createElement(o.Text, {
size: "L",
value: this.props.heading.toUpperCase()
}), r.createElement(o.Text, {
size: "XS",
value: this.props.author
})));
}, n.showCloseButton = !0, n = e.__decorate([ s.input ], n);
}(n(264).PopupComponent);
t.FullScreenVideoControls = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(12), s = n(11), u = n(43), l = n(153), c = n(37), p = n(67), d = n(10), f = n(91), m = n(182), h = n(7), g = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = h.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "playing_friends_rec_card"), 
r.focusItem.autoFocusCandidate = !0, r.sparta.stores.recommendationStore.addLifecycleHooks(r, function() {
return r.serverName;
}), r;
}
var g;
return e.__extends(n, t), g = n, Object.defineProperty(n.prototype, "serverName", {
get: function() {
var e = this.getLargestGroup[0];
if (!e || !e.presence.server) return console.warn("Missing target friend"), "";
var t = e.presence.server;
return this.sparta.stores.settingsStore.hasUGCAccess() ? t.name : t.gameId;
},
enumerable: !0,
configurable: !0
}), n.prototype.getButtons = function(e, t) {
var n = this, r = [ new a.Input({
label: __("ID_SPARTA_CARD_JOINFRIENDS"),
key: s.Keys.Accept,
blockInputFor: 500,
action: function() {
return n.onJoinFriend(e, t);
}
}) ];
return this.sparta.twinkle.buildInfo.isConsole && !this.sparta.stores.partyStoreLoader.get().canGroupJoin && (p.supportsSpectating(t.game) && r.push(new a.Input({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
key: s.Keys.Option1,
blockInputFor: 500,
action: function() {
return n.onJoinFriend(e, t, f.JoinRole.spectator);
}
})), p.supportsCommander(t.game) && t.isRoleSupported(f.JoinRole.commander) && r.push(new a.Input({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
key: s.Keys.Option2,
blockInputFor: 500,
action: function() {
return n.onJoinFriend(e, t, f.JoinRole.commander);
}
}))), r;
}, n.prototype.getContextMenuConfig = function(e, t) {
var n = this, r = [];
return this.sparta.stores.partyStoreLoader.get().canGroupJoin || (p.supportsSpectating(t.game) && r.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: function() {
return n.onJoinFriend(e, t, f.JoinRole.spectator);
}
}), p.supportsCommander(t.game) && t.isRoleSupported(f.JoinRole.commander) && r.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
action: function() {
return n.onJoinFriend(e, t, f.JoinRole.commander);
}
})), r.length ? {
menuItems: r
} : void 0;
}, Object.defineProperty(n.prototype, "playingFriends", {
get: function() {
return this.sparta.stores.feedStore.getPlayingFriendIds(this.props.recommendation.game);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "getLargestGroup", {
get: function() {
var e = this.playingFriends;
if (!e) return [];
for (var t = {}, n = 0, r = e; n < r.length; n++) {
var o = r[n], i = this.sparta.stores.userStore.users.get(o), a = i && i.presence.server && i.presence.server.gameId;
a && i && (t[a] = t[a] || [], t[a].push(i));
}
return t[Object.keys(t).sort(function(e, t) {
return t.length - e.length;
})[0]] || [];
},
enumerable: !0,
configurable: !0
}), n.prototype.onJoinFriend = function(e, t, n) {
void 0 === n && (n = f.JoinRole.soldier), this.sparta.stores.recommendationStore.handleCardInteraction(this), 
d.gameStateStoreLoader.get().isServerJoiningAllowed(t.gameId) && u.joinFriend(new f.JoinMultiplayerFriendOptions(e, t.game, n, t));
}, n.prototype.render = function() {
var e = this.getLargestGroup;
if (0 === e.length) return r.createElement("surface", null);
var t = e[0], n = t.presence.server;
if (!n) return r.createElement("surface", null);
var o = this.serverName, i = n.mapExpansion ? n.mapExpansion.name : void 0, a = 1 === e.length ? __("ID_SPARTA_CARD_JOINFRIEND").toUpperCase() : __("ID_SPARTA_CARD_JOINFRIENDS").toUpperCase(), s = n.slots.soldier, u = n.mapModePretty.toUpperCase(), c = n.mapNamePretty.toUpperCase(), p = (s.current + "/" + s.max + " " + __("ID_SPARTA_SERVER_PLAYERS").toLowerCase()).toUpperCase(), d = this.sparta.twinkle.buildInfo.isPC ? this.getContextMenuConfig(t, n) : void 0, f = this.props.size || g.defaultProps.size;
return r.createElement(l.PlayCard, {
heading: a,
focusItem: this.focusItem,
input: this.getButtons(t, n),
contextMenu: d,
joinButtonName: a,
modes: o,
maps: u + " - " + c,
playersInfo: p,
background: n.mapImageUrl,
friends: e,
size: f,
expansion: i
}, r.createElement(m.ImageSlots, {
recommendation: this.props.recommendation
}));
}, n.contextTypes = h.SpartaContext.contextTypes, n.defaultProps = {
size: c.CardSize.L
}, e.__decorate([ o.computed.struct ], n.prototype, "playingFriends", null), e.__decorate([ o.computed ], n.prototype, "getLargestGroup", null), 
n = g = e.__decorate([ i.observer ], n);
}(r.Component);
t.PlayingFriendsRecommendationCard = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(10), a = n(153), s = n(66), u = n(12), l = n(43), c = n(11), p = n(91), d = n(182), f = n(7), m = n(3), h = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = f.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, s.autoId("playingPartyRecommendationCard")), 
r.button = new u.Input({
label: r.heading,
key: c.Keys.Accept,
blockInputFor: 500,
action: function() {
return r.joinParty();
}
}), r.focusItem.autoFocusCandidate = !0, r.sparta.stores.recommendationStore.addLifecycleHooks(r, r.heading), 
r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "heading", {
get: function() {
var e = __("ID_SPARTA_CARD_JOINPARTY_PC");
return this.sparta.twinkle.buildInfo.isPS4 ? e = __("ID_SPARTA_CARD_JOINPARTY_PS4") : this.sparta.twinkle.buildInfo.isXboxOne && (e = __("ID_SPARTA_CARD_JOINPARTY_XB1")), 
e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "party", {
get: function() {
var e = this.sparta.stores.partyStoreLoader.get().party;
if (e && e.leader && e.leader.presence.server) {
var t = this.sparta.stores.onlineState.sessionUser, n = e.members.map(function(e) {
return e.user;
}).filter(function(e) {
return e !== t;
});
return {
server: e.leader.presence.server,
members: n
};
}
},
enumerable: !0,
configurable: !0
}), n.prototype.joinParty = function(e) {
void 0 === e && (e = p.JoinRole.soldier);
var t = this.party;
if (t) {
this.sparta.stores.recommendationStore.handleCardInteraction(this);
var n = t.server, r = this.sparta.stores.partyStoreLoader.get(), o = r.party && r.party.leader || t.members[0];
n && o && i.gameStateStoreLoader.get().isServerJoiningAllowed(n.gameId) && l.joinFriend(new p.JoinMultiplayerFriendOptions(o, n.game, e, n));
}
}, n.prototype.render = function() {
var e = this.party;
if (!e) return r.createElement("surface", null);
var t = this.heading, n = e.server, o = this.sparta.stores.settingsStore.hasUGCAccess() ? n.name : n.gameId, i = n.mapModePretty.toUpperCase(), s = n.mapNamePretty.toUpperCase(), u = n.mapExpansion ? n.mapExpansion.name : void 0, l = n.slots.soldier, c = (l.current + "/" + l.max + " " + __("ID_SPARTA_SERVER_PLAYERS").toLowerCase()).toUpperCase();
return r.createElement(a.PlayCard, {
heading: t.toUpperCase(),
focusItem: this.focusItem,
input: this.button,
joinButtonName: t.toUpperCase(),
modes: o,
maps: i + " - " + s,
playersInfo: c,
background: n.mapImageUrl,
friends: e.members,
size: this.props.size,
expansion: u
}, r.createElement(d.ImageSlots, {
recommendation: this.props.recommendation
}));
}, n.contextTypes = f.SpartaContext.contextTypes, e.__decorate([ m.computed ], n.prototype, "party", null), 
n = e.__decorate([ o.observer ], n);
}(r.Component);
t.PlayingPartyRecommendationCard = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(66), i = n(76), a = n(17), s = n(5), u = n(12), l = n(11), c = n(4), p = n(182), d = n(6), f = n(155), m = n(21), h = n(265), g = n(7), y = n(417), S = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = g.SpartaContext.getFromComponent(r), r.inputs = [ new u.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
blockInputFor: 500,
action: function() {
return r.gotoRoute();
},
key: l.Keys.Accept
}) ], r.focusItem = r.sparta.twinkle.focus.create(r, o.autoId("route_rec_card")), 
r.focusItem.autoFocusCandidate = !0, r.sparta.stores.recommendationStore.addLifecycleHooks(r, r.props.recommendation.title), 
r;
}
return e.__extends(n, t), n.prototype.gotoRoute = function() {
this.sparta.stores.recommendationStore.handleCardInteraction(this), y.goToRoute(this.sparta, this.props.recommendation.route);
}, n.prototype.formatTime = function(e) {
return __("ID_SPARTA_MISSIONS_COUNTDOWN_TIME_LEFT").replace("[[COUNTDOWN]]", f.simpleTimeFormat(e > 0 ? e : 0)).toUpperCase();
}, n.prototype.render = function() {
var e, t = this.props.recommendation;
return e = t.timer ? r.createElement(r.Fragment, null, r.createElement(d.Text, {
value: t.title.toUpperCase(),
style: a.CommonStyles.leftAlignTextRTL
}), r.createElement(f.Countdown, {
size: m.TextSize.XS,
targetTime: 1e3 * parseInt(t.timer, 10),
format: this.formatTime,
style: s.merge2(h.CommonRecommendationStyles.notEyebrow, a.CommonStyles.leftAlignTextRTL)
})) : r.createElement(d.Text, {
value: t.title.toUpperCase(),
style: a.CommonStyles.leftAlignTextRTL
}), r.createElement(i.BasicCard, {
focusItem: this.focusItem,
heading: t.heading,
description: e,
background: t.image,
icon: t.icon,
size: this.props.size,
input: this.inputs
}, t.ribbonText && r.createElement("surface", {
style: h.CommonRecommendationStyles.ribbon
}, r.createElement(d.Text, {
value: t.ribbonText,
style: h.CommonRecommendationStyles.ribbonText,
size: this.sparta.twinkle.buildInfo.isPC ? m.TextSize.S : m.TextSize.M
})), r.createElement(p.ImageSlots, {
recommendation: t
}));
}, n.contextTypes = g.SpartaContext.contextTypes, n = e.__decorate([ c.observer ], n);
}(r.Component);
t.RouteRecommendationCard = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(8), a = n(72), s = n(32), u = n(181), l = n(37), c = n(29), p = n(23), d = n(39), f = n(5), m = n(17), h = n(7), g = f.StaticStyle.wrapLegacyStyleSheet({
pc: {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -i.GUTTER,
marginBottom: -i.GUTTER
},
console: {
marginTop: (p.content.top - i.GUTTER) / 2
},
loadingOverlay: {
position: "absolute",
zOffset: 3,
top: 0,
left: 0,
width: p.content.width,
flexDirection: "row",
justifyContent: "center",
alignItems: "center"
},
heightPC: {
height: p.content.height - p.content.top
},
heightConsole: {
height: p.content.height - p.header.height
}
}, "705bd7f7:15:15"), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = h.SpartaContext.getFromComponent(e), e.getRecommendationSize = function() {
return e.sparta.twinkle.buildInfo.isPC ? l.CardSize.L : l.CardSize.M;
}, e.renderContent = function(t) {
var n = e.sparta.twinkle.buildInfo.isPC ? g.heightPC : g.heightConsole;
return t ? 0 === t.length ? r.createElement(d.EmptyState, {
style: f.merge3(g.loadingOverlay, m.CommonStyles.flexColumn, n),
text: __("ID_SPARTA_NEWS_UPDATES_NO_UPDATES_TITLE"),
subText: __("ID_SPARTA_NEWS_UPDATES_NO_UPDATES_DESC")
}) : e.sparta.twinkle.buildInfo.isPC ? r.createElement("surface", {
style: g.pc
}, t) : r.createElement(a.CardCarousel, {
id: "705bd7f7:82:35",
width: i.getWidth(24),
style: g.console
}, t) : r.createElement("surface", {
style: f.merge2(g.loadingOverlay, n)
}, r.createElement(c.Spinner, {
large: !0
}));
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(s.Template, {
scrollToFocus: this.sparta.twinkle.focus.controllerMode,
tallContent: !0
}, r.createElement(u.RecommendationRenderer, {
game: "sparta",
category: "sparta_update_notes",
cardSizer: this.getRecommendationSize
}, this.renderContent));
}, n.contextTypes = h.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.UpdatesOverview = y;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(97), o = n(254), i = n(14), a = n(568), s = n(219), u = n(1164), l = n(1165), c = n(420), p = n(422), d = n(202), f = n(1182), m = n(5), h = n(1183), g = n(1184), y = "bfh", S = i.bbOfflineUrl("/sparta/jsclient/builds/assets/background_big-00e2bbf9.jpg"), v = m.StaticStyle.wrapLegacyStyleSheet({
rankBadge: {
flex: 1,
marginTop: -30
}
}, "b08fcd9e:23:15"), _ = function(t) {
function n(e) {
var n = t.call(this) || this;
return n.sparta = e, n.gameId = y, n.branchNameTest = "havana", n.productGuid = "{CB4AC3DA-8CC1-4516-86DA-4078B57DB229}", 
n.crossLaunchIds = {
xboxOneId: "ms-xbl-11FEE55F://crossLaunch",
ps4Ids: {
NA: "CUSA00625",
EU: "CUSA00633",
JP: "CUSA00732"
},
pcIds: {
masterTitleId: "182288",
multiplayerId: "1013920"
}
}, n.matchmakingConfig = {
matchmakingSessionFactory: new g.NoOpMatchmakingSessionFactory(n.sparta)
}, n.isEnabled = !1, n.startRoute = "omaha", n.locales = u.supportedLocales, n.legalConfigStore = void 0, 
n.logoConfig = {
logoUrl: i.bbOfflineUrl("/sparta/jsclient/modules/omaha/logo2-caecc8e9.png")
}, n.premiumConfig = new o.PremiumConfig({
premiumLogoUrl: i.bbOfflineUrl("/sparta/jsclient/modules/omaha/logo2-caecc8e9.png"),
enablePremiumTreatment: !0
}), n.storeConfig = {
route: "omaha/store/list",
image: i.bbOfflineUrl("/sparta/jsclient/builds/assets/bfh-78e15f17.png"),
getTabs: function() {
var e = [];
return d.commerceFeatureFlags.subscriberAccess.isEnabledFor(y) && e.push("access"), 
n.sparta.stores.entitlementStore.hasOnlineAccess(y) ? e.push("game") : e.unshift("game"), 
e;
},
canFetchOffers: !1
}, n.careerConfig = new o.CareerConfig({
tallCardImage: i.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BFH-53c6b43c.png")
}), n.dogtagsConfig = {
getLeft: function() {
return "";
},
getRight: function() {
return "";
},
size: "M",
type: ""
}, n.startScreenImageUrl = S, n.startScreenLogo = {
texture: i.bbOfflineUrl("/sparta/jsclient/builds/assets/start_logo-b1eb33d8.png"),
width: 591,
height: 180
}, n.backgroundMusicTrack = 3, n.styles = v, n.theme = h.createOmahaTheme(n), n;
}
return e.__extends(n, t), n.prototype.displayName = function() {
return __("ID_SPARTA_OMAHA_TITLE", !0);
}, n.prototype.getSoldierImageUrl = function() {
return i.bbOfflineUrl("/sparta/jsclient/builds/assets/soldier-image-37051f70.png");
}, n.prototype.hasCareerCard = function() {
return f.omahaFeatureFlags.omahaCareerCard.isEnabled();
}, n;
}(o.Game);
t.Omaha = _, t.initialize = function b(e) {
var t = new _(e);
s.registerSectionFonts("omaha", a.fontConfig), e.stores.gameStore.registerGame(t), 
e.stores.routeStore.addRoute(new r.RouteDeclaration("omaha", {
requireMpInstalled: !0,
requireOnline: !0,
gameId: y,
getTitle: function() {
return __("ID_SPARTA_OMAHA_TITLE", !0);
},
disabled: !1,
logoUrl: i.bbOfflineUrl("/sparta/jsclient/modules/omaha/logo2-caecc8e9.png"),
backgroundSize: [ 4084, 1480 ],
backgroundUrl: S,
backgroundMusicTrack: 3,
normalIconUrl: i.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-4838bffd.png"),
dynamicBackground: e.stores.backgroundStore.createDynamicSectionBackground("omaha"),
priority: 1,
skipToFirstChild: !0,
view: l.OmahaOverview,
children: [ new r.RouteDeclaration("store", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_HOME");
},
args: {
gameId: y
},
view: l.OmahaOverview,
children: [ new r.RouteDeclaration("list", {
getTitle: function() {
return t.displayName();
},
args: {
gameId: y
},
view: p.StoreGameOverview,
children: [ new r.RouteDeclaration("details", {
getTitle: function() {
return __("ID_SPARTA_CAREER_DETAILS");
},
args: {
gameId: y
},
view: c.OfferDetails
}) ]
}) ]
}) ]
}));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
var r, o, i;
Object.defineProperty(t, "__esModule", {
value: !0
});
var a = n(174), s = n(252), u = n(9), l = ((r = {})[s.Regions.EU] = [ a.Locales.ENGLISH, a.Locales.CZECH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.JAPANESE, a.Locales.KOREAN, a.Locales.POLISH, a.Locales.PORTUGUESE_BRAZIL, a.Locales.RUSSIAN, a.Locales.CHINESE_TRADITIONAL ], 
r[s.Regions.JP] = [ a.Locales.ENGLISH, a.Locales.JAPANESE ], r[s.Regions.NA] = [ a.Locales.ENGLISH, a.Locales.CZECH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.JAPANESE, a.Locales.KOREAN, a.Locales.POLISH, a.Locales.PORTUGUESE_BRAZIL, a.Locales.RUSSIAN, a.Locales.CHINESE_TRADITIONAL ], 
r[s.Regions.RU] = [ a.Locales.RUSSIAN, a.Locales.POLISH ], r), c = ((o = {})[s.Regions.EU] = [ a.Locales.ENGLISH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.JAPANESE, a.Locales.POLISH, a.Locales.PORTUGUESE_BRAZIL, a.Locales.RUSSIAN ], 
o[s.Regions.JP] = [ a.Locales.ENGLISH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.JAPANESE, a.Locales.POLISH, a.Locales.PORTUGUESE_BRAZIL, a.Locales.RUSSIAN ], 
o[s.Regions.NA] = [ a.Locales.ENGLISH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.JAPANESE, a.Locales.POLISH, a.Locales.PORTUGUESE_BRAZIL, a.Locales.RUSSIAN ], 
o[s.Regions.RU] = [ a.Locales.ENGLISH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.JAPANESE, a.Locales.POLISH, a.Locales.PORTUGUESE_BRAZIL, a.Locales.RUSSIAN ], 
o), p = ((i = {})[s.Regions.EU] = [ a.Locales.ENGLISH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.POLISH, a.Locales.RUSSIAN ], 
i[s.Regions.JP] = [ a.Locales.ENGLISH, a.Locales.JAPANESE ], i[s.Regions.NA] = [ a.Locales.ENGLISH, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.PORTUGUESE_BRAZIL ], 
i[s.Regions.RU] = [], i);
t.supportedLocales = u.SpartaGlobals.bundleIsPC ? l : u.SpartaGlobals.bundleIsPS4 ? p : c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(181), s = n(72), u = n(32), l = n(8), c = n(37), p = n(419), d = n(7), f = n(5), m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = d.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.twinkle.buildInfo.isPC, t = f.DynamicStyle.create({
height: ((e ? c.CARD_HEIGHT.cells.SSL : c.CARD_HEIGHT.cells.L) + 1) * l.spacer(1)
}, "f9bd9e34:20:34");
return o.createElement(s.CardCarousel, {
id: "f9bd9e34:26:31",
width: l.getWidth(24),
style: t
}, o.createElement(a.RecommendationRenderer, {
game: "bfh",
category: "omaha_home",
addFeedRecommendations: !0
}));
}, t.contextTypes = d.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component), h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.displayName = "OmahaOverview", t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement(u.Template, {
wideContent: !0,
aboveContent: o.createElement(p.OverviewHeading, null),
scrollContent: !1
}, o.createElement(m, null));
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.OmahaOverview = h;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1167), o = n(1169), i = n(10);
function a() {
var e = i.nativePropertiesStore.getHostingGame();
return e ? e.gameId : void 0;
}
t.welcomeMessageStore = new o.WelcomeMessageStore(r.welcomeMessageClient, a), i.gatewayState.onSessionEstablished.listen(function() {
var e = a();
e && (t.welcomeMessageStore.resetFragment(e), t.welcomeMessageStore.get(e));
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1168), o = n(24);
t.welcomeMessageClient = r.createClient(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClient = function o(e) {
return new r.Client("Onboarding.welcomeMessage", {
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(1170), a = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.client = t, r.getHostingGame = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.client.request(t);
e.useClientResult(n, i.WelcomeMessage.fromBackend);
}, t.prototype.get = function(e) {
var t = new Date().getTimezoneOffset(), n = this.getHostingGame ? this.getHostingGame() : void 0;
return this.getOrFetchFragment(e, {
game: e,
gameClient: n,
minutesToUTC: t
});
}, t;
}(o.FragmentStore);
t.WelcomeMessageStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
e && (this.firstMessage = e.firstMessage, this.secondMessage = e.secondMessage);
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.WelcomeMessage = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(7), s = n(6), u = n(21), l = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = a.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.stores.noticeStore.get(this.props.gameId);
if (!e) return null;
var t = this.sparta.theme.getTheme(this).notice, n = t.displayColor ? e.color : void 0;
return o.createElement("surface", {
style: t.container
}, t.displayIcon && o.createElement("surface", {
style: t.notice({
color: n
})
}), o.createElement(s.Text, {
color: n,
value: e.text.toUpperCase(),
type: t.textType,
size: u.TextSize.S,
style: t.noticeText
}));
}, t.contextTypes = a.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.NoticeBanner = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TextStyles"), a = function() {
function e() {}
return e.strike = o.multistyle(function(e) {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
textureAlign: [ 0, .5 ],
textureScale: [ 8096, 1 ],
textureMode: "none",
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/line-fe9ca5d0.png"),
color: e
}, "f9e7ca93:7:65");
}), e = r.__decorate([ i.style ], e);
}();
t.StrikethroughStyle = a;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(27), i = n(216), a = e.get("HttpClient");
t.getJson = function s(e) {
c(r.__assign({
method: o.HttpMethod.GET,
isJson: !0
}, e));
}, t.get = function u(e) {
c(r.__assign({
method: o.HttpMethod.GET,
isJson: !1
}, e));
};
var l = /(http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?/;
function c(e) {
var t = e.method, n = e.url, r = e.success, o = e.failure, s = e.data || "", u = e.headers || "", p = e.isJson || !1, d = e.attempt || 1, f = e.delay || 100, m = e.retry || !1;
"number" != typeof m && (m = e.retry = !1), "string" == typeof n && "" !== n && null !== l.exec(n) && i.httpRequest(t, n, s, u, p, function(t, i) {
t ? "function" == typeof r && r(i, n) : !1 !== m && d < m ? setTimeout(function() {
e.attempt = d + 1, e.delay = 2 * f, c(e);
}, f) : "function" == typeof o ? o(i, n) : a.error("Failed to call " + n);
});
}
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(413), s = n(26), u = n(12), l = n(11), c = n(226), p = n(5), d = n(7), f = n(6), m = n(118), h = n(129), g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = d.SpartaContext.getFromComponent(t), t.inputs = [ new u.Input({
visible: !1,
action: function() {
return t.gotoOffset(1);
},
key: l.Keys.Next
}), new u.Input({
visible: !1,
action: function() {
return t.gotoOffset(-1);
},
key: l.Keys.Previous
}) ], t;
}
return r.__extends(t, e), t.prototype.getInput = function() {
if (!1 !== this.props.enableInput && this.props.tabs.length > 1) return this.inputs;
}, t.prototype.gotoOffset = function(e) {
var t = this.props.activeTabIndex + e, n = Math.min(Math.max(0, t), this.props.tabs.length - 1);
this.props.cycleTabs ? -1 === t ? this.props.onTabSelect(this.props.tabs.length - 1) : t === this.props.tabs.length ? this.props.onTabSelect(0) : this.props.onTabSelect(n) : this.props.onTabSelect(n);
}, t.prototype.render = function() {
var e = this, t = this.sparta.theme.getTheme(this), n = t.tabMenu, r = this.props.tabs.map(function(t, n) {
var r = "function" == typeof t.title ? t.title() : t.title;
return o.createElement(y, {
key: n,
index: n,
large: e.props.large,
fontSizeOverride: e.props.fontSizeOverride,
value: r.toUpperCase(),
showNotification: t.showNotification,
isActive: n === e.props.activeTabIndex,
isLast: n + 1 === e.props.tabs.length,
onClick: e.props.onTabSelect
});
});
if (!this.props.large && this.sparta.twinkle.focus.controllerMode && this.props.tabs.length > 1) {
var i = this.sparta.inputButtonIcons.get(t), a = i.Previous, s = i.Next, u = a ? p.merge2(n.tabMenuBumper({
texture: a
}), n.tabMenuLeftBumperExtra) : p.emptyStyle, l = o.createElement("surface", {
key: "lb",
style: u
});
n.groupInputs ? r.push(l) : r.unshift(l);
var c = s ? n.tabMenuBumper({
texture: s
}) : p.emptyStyle, d = o.createElement("surface", {
key: "rb",
style: c
});
r.push(d);
}
return o.createElement("surface", {
style: p.merge2(n.tabMenu, this.props.style)
}, r);
}, t.contextTypes = d.SpartaContext.contextTypes, t = r.__decorate([ s.input, i.observer ], t);
}(o.Component);
t.TabMenu = g;
var y = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = d.SpartaContext.getFromComponent(r), r.bgColorTween = c.TweenStyle.create("550011ee:129:38", r, "backgroundColor", r.sparta.theme.getTheme, function(e, t) {
r.focusItem.isFocusedOrHovered || r.props.isActive ? e.to(t.tabMenu.backgroundActiveColor) : e.to(t.tabMenu.backgroundColor);
}, function(e) {
return e.tabMenu.backgroundColor;
}, function(e) {
return {
duration: e.tabMenu.tweenDuration,
easing: e.tabMenu.tweenEasing
};
}), r.textColorTween = c.TweenStyle.create("550011ee:144:40", r, "color", r.sparta.theme.getTheme, function(e, t) {
r.focusItem.isFocusedOrHovered || r.props.isActive ? e.to(t.tabMenu.textActiveColor) : e.to(t.tabMenu.textColor);
}, function(e) {
return e.tabMenu.textColor;
}, function(e) {
return {
duration: e.tabMenu.tweenDuration,
easing: e.tabMenu.tweenEasing
};
}), r.onClick = function() {
r.props.onClick(r.props.index);
}, r.focusItem = r.sparta.twinkle.focus.create(r, "tabmenuitem_" + t.value), r.reaction(function() {
return r.sparta.twinkle.focus.controllerMode;
}, function(e) {
r.focusItem.setActive("550011ee:166:42", !e);
}, {
fireImmediately: !0
}), r.sparta.stores.inputStore.bindInputToFocusItem(new u.Input({
action: r.onClick,
label: t.value,
key: l.Keys.Accept
}), r.focusItem), r;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.sparta.theme.getTheme(this).tabMenu.playHoverSound && this.focusItem.onFocusOrHover(function() {
return m.playEffect(h.AudioEffect.Highlight);
});
}, t.prototype.render = function() {
var e, t, n = this.props, i = n.value, s = n.isActive, u = n.isLast, l = n.large, c = n.fontSizeOverride, d = this.focusItem, m = d.isFocusedOrHovered, h = d.isPressed, g = this.sparta.theme.getTheme(this).tabMenu, y = g.tab;
l ? (e = g.fontSizeLarge, t = s ? g.tabTextTypeLargeActive : g.tabTextTypeLarge, 
y = g.largeTab) : (e = g.fontSize, t = s ? g.tabTextTypeActive : g.tabTextType), 
c && (e = c);
var S = p.merge2(this.textColorTween, g.tabText(m, s, h)), v = this.props.showNotification ? o.createElement("surface", {
style: g.notification
}) : null, _ = l ? a.HeaderText : f.Text;
return o.createElement("surface", r.__assign({
style: p.merge2(y, u ? g.lastTab : p.emptyStyle)
}, this.focusItem.hooks), o.createElement("surface", {
style: p.merge2(g.tabBackground, this.bgColorTween)
}), o.createElement(_, {
value: i,
type: t,
size: e,
style: S
}), v, l && s ? o.createElement("surface", {
style: g.underline
}) : null);
}, t.contextTypes = d.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("LearnMoreStyles"), a = function() {
function e() {}
var t;
return t = e, e.columnAuxiliaryWidth = o.value(function() {
return o.Constants.isPC ? o.Grid.getWidth(5) : o.Grid.getWidth(7);
}, "b75e32b6:7:34"), e.columnMain = i.wrap(function() {
return o.style({
width: o.Constants.isPC ? o.Grid.getWidth(12) : o.Grid.getWidth(10.5)
}, "b75e32b6:9:24");
}), e.columnSidebar = i.wrap(function() {
return o.style({
width: o.Constants.isPC ? o.Grid.getWidth(5) : o.Grid.getWidth(6)
}, "b75e32b6:13:27");
}), e.columnAuxiliary = i.wrap(function() {
return o.style({
width: t.columnAuxiliaryWidth
}, "b75e32b6:17:29");
}), e.columnLegal = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(24)
}, "b75e32b6:21:25");
}), e.rowMain = i.wrap(function() {
return o.style({
height: o.Constants.isPC ? o.Grid.getHeight(88) : o.Grid.getHeight(68)
}, "b75e32b6:25:21");
}), e.rowLegal = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(o.Constants.isPC ? 3 : 2.25)
}, "b75e32b6:29:22");
}), e.rowBorder = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(.1)
}, "b75e32b6:33:23");
}), e.heading = i.wrap(function() {
return o.style({
marginBottom: 15
}, "b75e32b6:37:21");
}), e.paragraph = i.wrap(function() {
return o.style({
marginBottom: 25
}, "b75e32b6:41:23");
}), e.image = i.wrap(function() {
return o.style({
marginBottom: 25,
textureMode: "none",
textureAlign: [ 0, 0 ]
}, "b75e32b6:45:19");
}), e.surfaceLegal = i.wrap(function() {
return o.style({
opacity: .33
}, "b75e32b6:51:26");
}), e.callToAction = i.wrap(function() {
return o.style({
width: o.Constants.isPC ? o.Grid.getWidth(5) : o.Grid.getWidth(7)
}, "b75e32b6:55:26");
}), e.callToActionSubText = i.wrap(function() {
return o.style({
marginTop: 7
}, "b75e32b6:58:33");
}), e.callToActionButton = i.wrap(function() {
return o.style({
width: o.Constants.isPC ? o.Grid.getWidth(5) : o.Grid.getWidth(7)
}, "b75e32b6:61:32");
}), e = t = r.__decorate([ i.style ], e);
}();
t.LearnMoreStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(10), s = n(8), u = n(6), l = n(230), c = n(28), p = n(34), d = n(141), f = n(183), m = n(315), h = n(21), g = n(26), y = n(12), S = n(11), v = n(18), _ = n(64), b = n(228), T = n(39), E = n(93), C = n(102), I = n(384), A = n(202), w = n(135), P = n(9), R = n(571), O = n(1179), x = n(89), k = n(98), L = n(19), M = n(7), D = n(5), N = w.frostbiteAction("sparta.commerceCheckout"), F = D.StaticStyle.create({
marginTop: 7
}, "e6415718:204:28"), G = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.joinAndBuy = !1, r.selectionState = new k.ListSelectionState(), r.sparta = M.SpartaContext.getFromComponent(r), 
r.state = {
career: new I.Career()
}, r.focusAncestor = r.sparta.twinkle.focus.createAncestor("gameoffer"), r.settings = d.copyStore.getCopyPage("settings"), 
r.copy = d.copyStore.getCopyPage("pdp");
var o = a.gameStore.getGame(r.props.gameId);
return r.startRoute = o && o.startRoute, r.subscriptionStatus = r.sparta.stores.subscriptionStatusStore.get(), 
r;
}
return e.__extends(n, t), n.prototype.componentWillUnmount = function() {
this.focusAncestor.destroy();
}, n.prototype.getInput = function() {
if (this.startRoute && A.commerceFeatureFlags.subscriberAccess.isEnabledFor(this.props.gameId)) {
var e = "{startRoute}/store/access?stay=true".replace("{startRoute}", this.startRoute), t = d.copyStore.getProperty(this.copy, "subscribeAndSave.accessLinkLabel") || "";
return L.isRTLLanguage() && (t = P.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_ACCESS_LINK_LABEL_PC") : __("ID_SPARTA_ACCESS_LINK_LABEL_XBOX")), 
"" === t ? null : new y.Input({
action: function() {
return v.gotoLocation(e);
},
key: S.Keys.Option1,
label: t
});
}
}, n.prototype.getMenuItems = function() {
var e = this;
return this.props.offers.map(function(t, n) {
var o = t.displayName.replace("", "");
return r.createElement(x.ListItem, {
debugName: "list-item-" + n,
key: "li-" + o.replace(" ", ""),
index: n,
selectionState: e.selectionState
}, r.createElement(x.ListItemLabel, {
value: o
}));
});
}, n.prototype.getNotification = function() {
var e = d.copyStore.getProperty(this.copy, "subscribeAndSave.notification") || "";
if ("" === e) return null;
var t = {
texture: d.copyStore.getProperty(this.settings, "assets.icon-info.url"),
width: parseInt(d.copyStore.getProperty(this.settings, "assets.icon-info.width"), 10),
height: parseInt(d.copyStore.getProperty(this.settings, "assets.icon-info.height"), 10)
};
return r.createElement("surface", {
style: {
flexDirection: "row",
marginTop: s.GUTTER
}
}, r.createElement("surface", {
style: [ O.PremiumOfferStyles.imageIcon, t ]
}), r.createElement(u.Text, {
value: e,
style: O.PremiumOfferStyles.bottomSpacer,
size: "XS"
}));
}, n.prototype.getAccessInfo = function() {
var e = d.copyStore.getProperty(this.copy, "subscribeAndSave.accessInfo") || "";
if (L.isRTLLanguage() && (e = P.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_ACCESS_INFO_PC") : __("ID_SPARTA_ACCESS_INFO_XBOX")), 
"" === e) return null;
var t = E.offersStore.get(this.props.gameId), n = t.value && t.value.access;
if (n && n.length) {
if (e = e.replace("%PRICE%", n[0].price), P.SpartaGlobals.bundleIsPC) return r.createElement(u.Text, {
value: e,
size: "XS"
});
if (P.SpartaGlobals.bundleIsXBOXONE) return r.createElement(u.Text, {
value: e,
style: O.PremiumOfferStyles.bottomSpacer,
size: "XS"
});
}
return null;
}, n.prototype.getAccessLink = function() {
if (!this.startRoute) return null;
var e = "{startRoute}/store/access?stay=true".replace("{startRoute}", this.startRoute), t = d.copyStore.getProperty(this.copy, "subscribeAndSave.accessLinkLabel") || "";
return L.isRTLLanguage() && (t = P.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_ACCESS_LINK_LABEL_PC") : __("ID_SPARTA_ACCESS_LINK_LABEL_XBOX")), 
"" === t ? null : P.SpartaGlobals.bundleIsPC ? r.createElement(m.LinkText, {
action: "link",
text: t,
style: F,
location: e
}) : void 0;
}, n.prototype.isJoinAndBuyEnabled = function(e) {
var t = this.subscriptionStatus.value;
return A.commerceFeatureFlags.subscriberAccess.isEnabledFor(this.props.gameId) && A.commerceFeatureFlags.subscriberAccessPDP.isEnabledFor(this.props.gameId) && !A.commerceFeatureFlags.disableSubscribeAndSell.isEnabledFor(this.props.gameId) && t && !t.subscribed && !this.ownsGame(e);
}, n.prototype.getJoinAndBuyButton = function(e) {
if (this.isJoinAndBuyEnabled(e)) {
this.joinAndBuy = !0;
var t = d.copyStore.getProperty(this.copy, "subscribeAndSave.ctaLabel") || "", n = d.copyStore.getProperty(this.copy, "subscribeAndSave.dividerLabel") || "";
return r.createElement("surface", null, this.getNotification(), r.createElement("surface", {
style: O.PremiumOfferStyles.buttonContainer
}, r.createElement(c.Button, {
name: "e6415718:242:35",
stealFocus: !0,
text: t,
textSize: "S",
action: this.joinAndBuyGame.bind(this, e)
})), r.createElement("surface", {
style: O.PremiumOfferStyles.bottomSpacer
}, this.getAccessInfo(), this.getAccessLink()), r.createElement("surface", {
style: [ O.PremiumOfferStyles.labelOr, this.props.style ]
}, r.createElement("surface", {
style: [ O.PremiumOfferStyles.labelOrHandleBars, O.PremiumOfferStyles.labelOrHandleBarLeft ]
}), r.createElement(u.Text, {
value: n,
size: "XS"
}), r.createElement("surface", {
style: [ O.PremiumOfferStyles.labelOrHandleBars, O.PremiumOfferStyles.labelOrHandleBarRight ]
})));
}
return null;
}, n.prototype.getBuyButton = function(e, t) {
if (this.ownsGame(e) && !t) return r.createElement(c.Button, {
name: "e6415718:271:34",
disabled: !0,
text: __("ID_SPARTA_COMMERCE_OFFER_OWNED"),
textSize: "M"
});
var n = this.ownsGame(e) ? __("ID_SPARTA_COMMERCE_OFFER_GAME_INSTALLATION").toUpperCase() : __("ID_SPARTA_COMMERCE_OFFER_GAME_BUY").toUpperCase() + " " + e.price;
return this.joinAndBuy ? r.createElement(c.Button, {
name: "e6415718:281:27",
text: n,
textSize: "S",
upperCase: !1,
action: this.buyGame.bind(this, e)
}) : r.createElement(c.Button, {
name: "e6415718:291:27",
stealFocus: !0,
text: n,
textSize: "S",
upperCase: !1,
action: this.buyGame.bind(this, e, this.ownsGame(e))
});
}, n.prototype.showOriginalPrice = function(e) {
return r.createElement("surface", {
style: O.PremiumOfferStyles.originalPriceContainer
}, r.createElement(u.Text, {
size: "XS",
value: __("ID_SPARTA_COMMERCE_OFFER_ORIGINAL_PRICE"),
style: {
marginRight: 10
}
}), r.createElement(f.PS4StoreContent, null, r.createElement(l.Strikethrough, {
value: e,
size: "XS"
})));
}, n.prototype.ownsGame = function(e) {
return e.owned || this.props.owned;
}, n.prototype.buyGame = function(e, t) {
void 0 === t && (t = !1), t ? N({
offerId: e.productId,
crossTitleCheckout: "game" === e.type,
owned: !0
}) : C.PurchaseFlow.start(e);
}, n.prototype.joinAndBuyGame = function(e) {
if (this.startRoute) {
var t = "{startRoute}/store/access/join-buy".replace("{startRoute}", this.startRoute);
t = t + "?offerId=" + e.offerId + "&gameId=" + this.props.gameId, v.gotoLocation(t);
}
}, Object.defineProperty(n.prototype, "gameStats", {
get: function() {
return this.state.career && this.state.career.gameStats[this.props.gameId];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "showFreemiumRank", {
get: function() {
return !this.props.owned && this.gameStats && this.gameStats.freemiumRank && this.gameStats.freemiumScore;
},
enumerable: !0,
configurable: !0
}), n.prototype.renderFreemiumRank = function() {
var e = this;
return this.showFreemiumRank ? r.createElement("surface", {
onBounds: o.action(function(t) {
e.freemiumBounds = t;
})
}, r.createElement(s.Col, {
style: {
marginTop: 2 * -s.GUTTER
}
}, r.createElement(s.Row, {
style: O.PremiumOfferStyles.row
}, r.createElement(b.RankBadge, {
gameId: this.props.gameId,
badgeSize: 50,
style: O.PremiumOfferStyles.rankBadge,
align: "bottom",
bottomInfoScale: 1,
skipAnimation: !0
}), r.createElement(s.Col, {
width: 7.5,
style: O.PremiumOfferStyles.freemiumRankMainCol
}, r.createElement(u.Text, {
size: "S",
style: O.PremiumOfferStyles.premiumPassRankUp,
value: __("ID_SPARTA_FREEMIUM_GET_PREMIUM_PASS_RANK_UP")
}), r.createElement(u.Text, {
color: "#ff9900ff",
size: "XS",
style: O.PremiumOfferStyles.freemiumLockedXP,
value: __("ID_SPARTA_FREEMIUM_LOCKED_XP_VALUE").replace("[[value]]", "" + this.gameStats.freemiumScore)
}), r.createElement(u.Text, {
color: "#ff9900ff",
size: "XXS",
style: O.PremiumOfferStyles.freemiumEarned,
value: __("ID_SPARTA_FREEMIUM_EARNED_FROM_PLAYING")
})), r.createElement(b.RankBadge, {
gameId: this.props.gameId,
badgeSize: 50,
style: O.PremiumOfferStyles.rankBadgeFreemium,
rankType: "freemium",
align: "bottom",
bottomInfoScale: 1,
skipAnimation: !0
})))) : r.createElement("surface", null);
}, n.prototype.render = function() {
var e = this.props.offers || [], t = a.gameStore.getGame(this.props.gameId), n = e[this.selectionState.activeItemIndex] || null;
if (!n) return r.createElement(T.EmptyState, {
key: "emptyCategory",
text: __("ID_SPARTA_COMMERCE_OFFER_ERROR_CATEGORY")
});
var o = void 0;
t && (o = t.logoConfig.logoUrl);
var i = n.backgroundUrl, l = this.getMenuItems(), d = this.freemiumBounds ? this.freemiumBounds.height : 0;
return r.createElement(s.Row, {
surfaceProps: this.focusAncestor.hooks
}, r.createElement(s.Col, {
width: 6
}, r.createElement("surface", {
style: O.PremiumOfferStyles.offerImage({
texture: i
})
})), r.createElement(s.Col, {
width: 1
}), r.createElement(s.Col, {
width: 11.5
}, this.props.gameId ? r.createElement("surface", {
style: O.PremiumOfferStyles.gameLogo({
texture: o
})
}) : null, this.renderFreemiumRank(), r.createElement(x.List, null, this.getMenuItems()), r.createElement("surface", {
style: {
marginTop: 2 * s.GUTTER
}
}, r.createElement(p.Scroller, {
key: n.id,
style: O.PremiumOfferStyles.scrollerStyle({
nrOfOffers: l.length,
extra: d
}),
controller: !0,
softClip: [ s.getHeight(2), 0, s.getHeight(2), 0 ]
}, r.createElement(u.Text, {
size: h.TextSize.S,
value: n.longDesc
})))), r.createElement(s.Col, {
width: 1
}), r.createElement(s.Col, {
width: 5,
style: O.PremiumOfferStyles.contentHeight
}, r.createElement(f.PS4StoreContent, null, r.createElement("surface", null, this.getJoinAndBuyButton(n), this.getBuyButton(n, this.props.isInstallable), null !== n.listPrice || n.owned ? this.showOriginalPrice(n.listPrice || n.price) : null)), t && t.premiumConfig && t.premiumConfig.enablePremiumTreatment && r.createElement(c.Button, {
name: "e6415718:465:39",
text: __("ID_SPARTA_PREMIUM_PAGE_LEARN_MORE_BTN"),
textSize: "S",
style: O.PremiumOfferStyles.learnMoreButton,
action: v.gotoLocation.bind(v.gotoLocation, this.props.gameId + "/store/premiuminfo")
}), r.createElement(R.PremiumFriends, {
gameId: this.props.gameId
})));
}, n.defaultProps = {
isPremium: !1,
useImage: !1,
width: s.getWidth(11.4),
isInstallable: !0
}, n.contextTypes = M.SpartaContext.contextTypes, e.__decorate([ o.observable ], n.prototype, "freemiumBounds", void 0), 
n = e.__decorate([ i.observer, g.input, _.subscribeToStores({
career: a.careerStore
}) ], n);
}(r.Component);
t.PremiumOffer = G;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("FriendsStyles"), a = function() {
function e() {}
return e.friends = i.wrap(function() {
return o.style({
flexDirection: "row",
flexWrap: "wrap",
zOffset: 51,
marginBottom: o.Grid.GUTTER
}, "9c21a608:7:21");
}), e.avatar = i.wrap(function() {
return o.style({
backgroundColor: [ 0, 0, 0, 124 ],
margin: 0,
zOffset: 1
}, "9c21a608:14:20");
}), e.avatarContainer = o.multistyle(function(e) {
return o.style({
padding: 1,
marginRight: 1,
backgroundColor: e ? "#ffffff" : void 0
}, "9c21a608:20:64");
}), e.totalFriends = i.wrap(function() {
return o.style({
height: 57,
width: 57,
marginTop: 1,
justifyContent: "center",
alignItems: "center",
backgroundColor: "#00000080"
}, "9c21a608:28:26");
}), e.totalFriendsSmall = i.wrap(function() {
return o.style({
height: 44,
width: 44,
marginTop: 1,
justifyContent: "center",
alignItems: "center",
backgroundColor: "#00000080"
}, "9c21a608:37:31");
}), e = r.__decorate([ i.style ], e);
}();
t.FriendsStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("PremiumFriendsStyles"), a = function() {
function e() {}
return e.premiumFriends = o.multistyle(function(e) {
return o.style({
marginTop: 2 * o.Grid.GUTTER,
alignItems: e ? "center" : void 0
}, "50674549:7:63");
}), e.text = i.wrap(function() {
return o.style({
marginBottom: o.Grid.GUTTER
}, "50674549:14:18");
}), e = r.__decorate([ i.style ], e);
}();
t.PremiumFriendsStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("PremiumOfferStyles"), a = function() {
function e() {}
return e.gameLogo = o.stylefunc(function() {
return o.style({
textureMode: "contain",
textureAlign: [ 0, 0 ],
width: o.Grid.getWidth(4),
height: o.Grid.getHeight(8),
marginBottom: 3 * o.Grid.GUTTER
}, "883e3432:16:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "883e3432:24:39");
}), e.offerImage = o.stylefunc(function() {
return o.style({
textureMode: "contain",
width: o.Grid.getWidth(6),
height: o.Grid.getWidth(9),
textureAlign: [ 0, 0 ]
}, "883e3432:31:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "883e3432:38:39");
}), e.buttonContainer = i.wrap(function() {
return o.style({
margin: [ 0, 0, 20, 0 ]
}, "883e3432:44:29");
}), e.bottomSpacer = i.wrap(function() {
return o.style({
margin: [ 0, 0, 20, 0 ]
}, "883e3432:48:26");
}), e.labelOr = i.wrap(function() {
return o.style({
margin: [ 0, 0, 20, 0 ],
flexDirection: "row"
}, "883e3432:52:21");
}), e.labelOrHandleBars = i.wrap(function() {
return o.style({
opacity: .3,
backgroundColor: "#FFFFFF",
flex: 1,
height: 1,
margin: [ 9, 0, 0, 0 ]
}, "883e3432:57:31");
}), e.labelOrHandleBarLeft = i.wrap(function() {
return o.style({
marginRight: 10
}, "883e3432:65:34");
}), e.labelOrHandleBarRight = i.wrap(function() {
return o.style({
marginLeft: 10
}, "883e3432:69:35");
}), e.imageIcon = i.wrap(function() {
return o.style({
marginRight: 10
}, "883e3432:73:23");
}), e.scrollerStyle = o.stylefunc(function() {
return o.style({
width: o.Grid.getWidth(11) + 2 * o.Grid.GUTTER + 3
}, "883e3432:78:14");
}, function(e) {
return o.dynamicStyle({
height: o.Grid.getHeight((o.Constants.isPC ? 85 : 52) - 14 * e.nrOfOffers) - e.extra
}, "883e3432:82:56");
}), e.premiumPassRankUp = i.wrap(function() {
return o.style({
textLineSpacing: o.Constants.LINE_HEIGHTS.M,
textAlign: "center",
marginBottom: o.Grid.GUTTER
}, "883e3432:88:31");
}), e.freemiumEarned = i.wrap(function() {
return o.style({
textLineSpacing: o.Constants.LINE_HEIGHTS.XS,
textAlign: "center"
}, "883e3432:94:28");
}), e.rankBadge = i.wrap(function() {
return o.style({
marginTop: 10,
marginRight: 4 * o.Grid.GUTTER
}, "883e3432:96:23");
}), e.rankBadgeFreemium = i.wrap(function() {
return o.style({
marginTop: 10,
marginLeft: 4 * o.Grid.GUTTER
}, "883e3432:97:31");
}), e.freemiumLockedXP = i.wrap(function() {
return o.style({
marginBottom: o.Grid.GUTTER,
textAlign: "center"
}, "883e3432:98:30");
}), e.row = i.wrap(function() {
return o.style({
padding: 4 * o.Grid.GUTTER,
paddingTop: 3 * o.Grid.GUTTER,
paddingBottom: 7 * o.Grid.GUTTER,
backgroundColor: "#00000020",
justifyContent: "center",
marginBottom: 2 * o.Grid.GUTTER
}, "883e3432:100:17");
}), e.learnMoreButton = i.wrap(function() {
return o.style({
marginTop: 2 * o.Grid.GUTTER,
marginBottom: o.Grid.GUTTER
}, "883e3432:109:29");
}), e.contentHeight = i.wrap(function() {
return o.style({
height: o.LayoutBounds.content.height
}, "883e3432:110:27");
}), e.originalPriceContainer = i.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.GUTTER,
opacity: 2 / 3
}, "883e3432:112:36");
}), e.freemiumRankMainCol = i.wrap(function() {
return o.style({
paddingLeft: 2 * o.Grid.GUTTER,
justifyContent: "center"
}, "883e3432:113:33");
}), e = r.__decorate([ i.style ], e);
}();
t.PremiumOfferStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(183), a = n(12), s = n(11), u = n(76), l = n(6), c = n(230), p = n(18), d = n(102), f = n(179), m = n(7), h = n(1181), g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e.inputs = [ new a.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: s.Keys.Accept,
blockInputFor: 500,
action: function() {
return e.select();
}
}) ], e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "displayName", {
get: function() {
return this.props.offer.displayName.replace("", "");
},
enumerable: !0,
configurable: !0
}), n.prototype.select = function() {
var e = this.props.offer;
if ("virtualRSP" !== e.group) if (this.sparta.twinkle.buildInfo.isPC) {
var t = this.sparta.stores.gameStore.getGame(e.gameId);
p.gotoLocation(t ? t.startRoute + "/store/list/details?offerId=" + e.id : "");
} else d.PurchaseFlow.start(e); else p.gotoLocation(e.gameId + "/store/list/rsp");
}, n.prototype.render = function() {
var e = this.props.offer, t = e.backgroundUrl, n = e.price || "", o = e.listPrice || "";
"0.00" === n.replace(/^\D+|\D+$/g, "") && (n = __("ID_SPARTA_COMMERCE_OFFER_FREE").toLocaleUpperCase());
var a, s, p = !1;
return e.group !== f.OfferGroup.XPACKS && e.group !== f.OfferGroup.SHORTCUTS || !e.owned || (p = !0, 
n = __("ID_SPARTA_COMMERCE_OFFER_OWNED").toLocaleUpperCase()), e.isDiscounted && !p && (a = r.createElement("surface", {
style: h.OfferCardStyles.discount
}, r.createElement(c.Strikethrough, {
value: o,
size: "S"
}))), e.price && (s = r.createElement("surface", {
style: h.OfferCardStyles.priceTag
}, r.createElement("surface", {
style: h.OfferCardStyles.price
}, a, r.createElement(i.PS4StoreContent, null, r.createElement(l.Text, {
value: n,
size: this.sparta.twinkle.buildInfo.isPC ? "S" : "M"
}))))), r.createElement(u.BasicCard, {
input: this.inputs,
focusItem: this.props.focusItem,
description: this.displayName,
background: t,
size: this.props.size
}, s);
}, n.contextTypes = m.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.OfferCard = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("CommerceStyles"), a = function() {
function e() {}
return e.priceTag = i.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "flex-end",
position: "absolute",
top: 0,
right: -o.Grid.spacer(3)
}, "0c7c2048:7:22");
}), e.price = i.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(),
padding: o.Constants.isPC ? [ o.Grid.spacer(), o.Grid.spacer(2), o.Grid.spacer(), o.Grid.spacer(2) ] : [ o.Grid.spacer(2), o.Grid.spacer(4), o.Grid.spacer(2), o.Grid.spacer(4) ],
backgroundColor: "#00000080"
}, "0c7c2048:15:19");
}), e.discount = i.wrap(function() {
return o.style({
opacity: .5,
flexDirection: "column"
}, "0c7c2048:23:22");
}), e = r.__decorate([ i.style ], e);
}();
t.OfferCardStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110);
t.omahaFeatureFlags = r.featureFlags.register({
omahaCareerCard: new r.FeatureFlag({})
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(568);
t.createOmahaTheme = function o(e) {
return e.sparta.theme.createTheme("Omaha", {
fontConfig: r.fontConfig
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(573), i = n(525), a = n(117), s = n(574), u = n(120), l = n(250), c = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.getStates = function() {
return [ {
id: u.MatchmakingState.IDLE,
transitions: []
} ];
}, t;
}(o.MatchmakingSession), p = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.create = function(e, t, n) {
var r = {
gamePushNotifications: new i.GamePushNotifications(new a.CoreEventStore(), new l.GatewayState()),
presenceStateStore: this.sparta.stores.presenceStateStore
};
return new c(e, r, t, n);
}, t;
}(s.MatchmakingSessionFactory);
t.NoOpMatchmakingSessionFactory = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(301), o = n(396), i = n(318), a = function() {
function e(e, t) {
var n = this;
this.gamePushNotifications = e, this.logger = t, this.disposer = new o.DisposeCollection(), 
this.dispose = function() {
return n.disposer.dispose();
};
}
return e.prototype.startBuffering = function() {
return this.statusUpdatesBuffer = this.gamePushNotifications.buffer(r.PushNotificationTopic.MATCHMAKING_STATUS_UPDATED), 
this.disposer.add(this.statusUpdatesBuffer.dispose), this.dispose;
}, e.prototype.failAfterTimeout = function(e, t) {
var n = this, r = setTimeout(function() {
n.disposer.dispose(), t(i.MatchmakingBlazeStatusName.SessionMissing, {});
}, e);
this.disposer.add(function() {
clearTimeout(r);
});
}, e.prototype.onChange = function(e, t, n, r) {
var o = this;
this.onUpdate(e, t, function(e, t) {
e !== n() ? r(e, t) : o.logger && o.logger.warn("Ignored duplicate blaze status update:", e);
});
}, e.prototype.onUpdate = function(e, t, n) {
var o = this;
this.statusUpdatesBuffer || this.startBuffering(), this.failAfterTimeout(t, n), 
this.disposer.add(this.statusUpdatesBuffer.read(function(t) {
if (r.isMatchmakingUpdate(t.payload, r.PushNotificationTopic.MATCHMAKING_STATUS_UPDATED)) {
var a = t.payload.status && t.payload.status.name, s = t.payload.sessionId;
a && s === e && i.isMatchmakingBlazeStatusName(a) && (i.isResolvedMatchmakingBlazeStatusName(a) && o.dispose(), 
n(a, t.payload));
}
}));
}, e;
}();
t.BlazeStatusUpdates = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(10), i = n(201), a = n(72), s = n(76), u = n(228), l = n(192), c = n(18), p = n(64), d = n(12), f = n(11), m = n(6), h = n(415), g = n(61), y = n(4), S = n(69), v = n(195), _ = n(80), b = n(140), T = n(21), E = n(1203), C = n(17), I = n(19), A = n(123), w = n(7), P = n(578), R = n(77), O = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = w.SpartaContext.getFromComponent(r), r.goToLocation = function() {
c.gotoLocation(r.route);
}, r.focusItem = r.sparta.twinkle.focus.create(r, "gamecard" + e.game.gameId), r.focusItem.autoFocusCandidate = !0, 
R.onComponentDidUpdate(r, function() {
r.focusItem.setActive("d0e20b98:52:38", r.isEnabled);
}), r.sparta.stores.inputStore.bindInputToFocusItem(new d.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: f.Keys.Accept,
action: r.goToLocation
}), r.focusItem), r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "isEnabled", {
get: function() {
return !!this.props.game.isEnabled && this.sparta.stores.routeStore.isValidPath(this.route);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "route", {
get: function() {
var e = this.props, t = e.game;
return e.isOwned ? t.careerConfig.soldierInfoUrl || t.startRoute + "/soldier" : t.storeConfig.route;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.props, t = e.game, n = e.stats, o = e.isOwned, i = !!n && r.createElement("surface", {
style: E.OverviewStyles.cardStats
}, r.createElement(x, {
small: !0,
heading: __("ID_SPARTA_CAREER_DETAILS_WINS"),
value: n.winPercentage + "%"
}), r.createElement(x, {
small: !0,
heading: __("ID_SPARTA_CAREER_TIME")
}, r.createElement(h.DateText, {
time: n.timePlayed,
format: "time",
unit: "H",
size: T.TextSize.S
})), r.createElement(x, {
small: !0,
heading: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: n.kills + ""
})), a = r.createElement(u.RankBadge, {
gameId: t.gameId,
badgeSize: E.OverviewStyles.cardBadgeHeight,
align: t.alignBadgeInfo,
bottomInfoScale: 1,
skipAnimation: !0
});
return t.isEnabled ? this.isEnabled ? o || (a = r.createElement(m.Text, {
value: __("ID_SPARTA_CAREER_CARD_GETITNOW").toUpperCase(),
size: T.TextSize.S,
style: E.OverviewStyles.sellText
})) : a = null : a = r.createElement(m.Text, {
value: __("ID_SPARTA_MENU_DISABLED_LABEL").toUpperCase(),
size: T.TextSize.S,
style: E.OverviewStyles.sellText
}), r.createElement(s.BasicCard, {
enabled: o && t.isEnabled,
useGrayScale: !(o && t.isEnabled),
background: t.careerConfig.tallCardImage,
style: E.OverviewStyles.card,
focusItem: this.focusItem
}, r.createElement(A.ThemeProvider, {
debugName: "d0e20b98:134:43",
theme: t.theme || this.sparta.theme.baseTheme
}, r.createElement("surface", {
style: E.OverviewStyles.cardContent
}, r.createElement("surface", {
style: E.OverviewStyles.cardLogo({
logo: t.logoConfig.logoUrl
})
}), r.createElement("surface", {
style: E.OverviewStyles.cardBadgeContainer
}, a), i)));
}, n.contextTypes = w.SpartaContext.contextTypes, n = e.__decorate([ y.observer ], n);
}(r.Component), x = function(e) {
var t = e.heading, n = e.value, o = e.children, i = e.small;
"number" == typeof n && (n = g.formatThousands(n));
var a = i ? E.OverviewStyles.statsItemCenter : I.isRTLLanguage() ? E.OverviewStyles.statsItemRTL : E.OverviewStyles.statsItem;
i ? E.OverviewStyles.statsHeadingSmall : E.OverviewStyles.statsHeading;
return r.createElement("surface", {
style: a
}, r.createElement(m.Text, {
value: t.toUpperCase(),
style: E.OverviewStyles.statsHeading,
size: T.TextSize.XS
}), o || r.createElement(m.Text, {
value: n,
size: i ? T.TextSize.S : T.TextSize.XL
}));
}, k = function(e) {
var t = e.stats;
return t ? r.createElement("surface", {
style: E.OverviewStyles.statsSummary
}, r.createElement("surface", {
style: E.OverviewStyles.statsRow
}, r.createElement(x, {
heading: __("ID_SPARTA_CAREER_DETAILS_WINS"),
value: t.winPercentage + "%"
}), r.createElement(x, {
heading: __("ID_SPARTA_CAREER_TIME")
}, r.createElement(h.DateText, {
time: t.timePlayed,
format: "time",
unit: "H",
style: E.OverviewStyles.statsValue,
size: T.TextSize.XL
})), r.createElement(x, {
heading: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: t.kills
})), r.createElement("surface", {
style: E.OverviewStyles.statsRowLast
}, r.createElement(x, {
heading: __("ID_SPARTA_CAREER_DETAILS_SPM"),
value: t.spmFormatted
}), r.createElement(x, {
heading: __("ID_SPARTA_CAREER_DETAILS_KPM"),
value: t.kpmFormatted
}), r.createElement(x, {
heading: __("ID_SPARTA_CAREER_DETAILS_KD"),
value: t.kdRatio
}))) : null;
}, L = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = w.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.fetchCareer();
}, n.prototype.componentWillUpdate = function(e, t) {
t.career !== this.state.career && this.fetchCareer();
}, n.prototype.fetchCareer = function() {
var e = this.sparta.stores, t = e.entitlementStore, n = e.gameStore;
if (t) {
var r = n.getRegisteredGameIds().filter(function(e) {
return t.ownsGame(e);
});
this.sparta.stores.careerFetchingState.addGamesToFetch(r);
}
}, n.prototype.getPlatoon = function() {
var e = this.sparta.stores.onlineState;
if (v.platoonsFeatureFlags.platoons.isEnabled() && e.sessionUser && e.sessionUser.spartaUserId.personaId) {
var t = e.sessionUser.spartaUserId.personaId, n = S.platoonsStores.activePlatoons.getActivePlatoon(t), r = n.value;
if (n.isReady && r instanceof _.Platoon) return r;
}
return null;
}, n.prototype.render = function() {
var e = this.sparta.stores, t = e.entitlementStore, n = e.onlineState, o = e.gameStore, s = this.getPlatoon(), u = n.sessionUser || new l.User(), c = s ? b.appendTag(u.displayName, s.tag) : u.displayName, p = this.state.career || {}, d = o.getRegisteredGames().filter(function(e) {
return e.hasCareerCard();
}).map(function(e) {
var n = e.gameId, o = t.ownsGame(n), i = p.gameStats[n];
return r.createElement(O, {
key: n,
game: e,
stats: i,
isOwned: o
});
});
return r.createElement(P.SimpleTemplate, {
style: C.CommonStyles.flexRow
}, r.createElement("surface", {
style: E.OverviewStyles.leftContainer
}, r.createElement(i.Avatar, {
user: u,
style: E.OverviewStyles.avatar
}), r.createElement(m.Text, {
value: c,
style: E.OverviewStyles.userName,
size: T.TextSize.L,
type: "emphasis"
}), r.createElement(k, {
stats: p.stats
})), r.createElement(a.CardCarousel, {
id: "d0e20b98:282:35",
style: E.OverviewStyles.cards
}, d));
}, n.contextTypes = w.SpartaContext.contextTypes, n = e.__decorate([ y.observer, p.subscribeToStores({
career: o.careerStore
}) ], n);
}(r.Component);
t.CareerOverview = L;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1188);
t.createClients = r.createClients;
var o = n(1189);
t.createStores = o.createStores;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(35), i = {
throttleTimeout: 300,
maxRetries: 0,
retryTimeout: 1e3
};
t.createClients = function a(e) {
var t = r.__assign({
requestPerformer: e
}, i);
return {
getPlatoon: new o.Client("Platoons.getPlatoon", t),
createPlatoon: new o.Client("Platoons.createPlatoon", t),
disbandPlatoon: new o.Client("Platoons.disbandPlatoon", t),
getMembers: new o.Client("Platoons.getMembers", t),
findByPartialName: new o.Client("Platoons.findByPartialName", t),
getActivePlatoon: new o.Client("Platoons.getActivePlatoon", t),
setActivePlatoon: new o.Client("Platoons.setActivePlatoon", t),
kickMember: new o.Client("Platoons.kickMember", t),
getPlatoons: new o.Client("Platoons.getPlatoons", t),
join: new o.Client("Platoons.join", t),
leave: new o.Client("Platoons.leave", t),
applyJoin: new o.Client("Platoons.applyJoin", t),
findByFriendsFilterOwn: new o.Client("Platoons.findByFriendsFilterOwn", t),
listApplicants: new o.Client("Platoons.listApplicants", t),
acceptApplicant: new o.Client("Platoons.acceptApplicant", t),
rejectApplicant: new o.Client("Platoons.rejectApplicant", t),
getMemberships: new o.Client("Platoons.getMemberships", t),
updateMemberRole: new o.Client("Platoons.updateMemberRole", t),
getServersWithPlayers: new o.Client("Platoons.getServersWithPlayers", t),
fetchPrivateGallery: new o.Client("Emblems.fetchAllPrivateEmblems", t),
getExclusiveEmblems: new o.Client("Emblems.getExclusiveEmblems", t),
setEmblemFromPrivateGallery: new o.Client("Platoons.setEmblemFromPrivateGallery", t),
setEmblemFromExclusiveGallery: new o.Client("Platoons.setEmblemFromExclusivePrivateGallery", t),
setName: new o.Client("Platoons.setName", t),
setTag: new o.Client("Platoons.setTag", t),
setDescription: new o.Client("Platoons.setDescription", t),
setAccessType: new o.Client("Platoons.setAccessType", t),
reportPlatoon: new o.Client("Petition.reportPlatoon", t),
getPlatoonRspServers: new o.Client("Platoons.getPlatoonRspServers", t),
getEditors: new o.Client("Platoons.getEditors", t),
getActiveTagsByPersonaIds: new o.Client("Platoons.getActiveTagsByPersonaIds", t)
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1190), o = n(1191), i = n(1192), a = n(1193), s = n(1194), u = n(1195), l = n(1196), c = n(1197), p = n(1198), d = n(1199), f = n(1200), m = n(1202), h = function() {
return function e(t) {
this.clients = t, this.platoons = new r.PlatoonsStore(this.clients, this), this.activePlatoons = new o.PlatoonsActiveStore(this.clients, this), 
this.platoonsByPersonaId = new i.PlatoonsByPersonaIdStore(this.clients, this), this.findPlatoons = new a.PlatoonsFindStore(this.clients), 
this.memberships = new u.PlatoonMembershipsStore(this.clients, this), this.members = new l.PlatoonMembersStore(this.clients, this), 
this.applicants = new c.PlatoonApplicantsStore(this.clients, this), this.emblems = new s.PlatoonEmblemsStore(this.clients, this), 
this.servers = new p.PlatoonServerStore(this.clients), this.rentedservers = new d.PlatoonRentedServerStore(this.clients), 
this.editors = new f.PlatoonEditorsStore(this.clients), this.tagByPersonaId = new m.PlatoonTagByPersonaIdStore(this.clients);
};
}();
t.PlatoonsStores = h, t.createStores = function g(e) {
return new h(e);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(80), i = n(229), a = function(e) {
function t(t, n) {
var r = e.call(this, {
fragmentTtl: 1e4
}) || this;
return r.clients = t, r.stores = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getPlatoon.request(t);
e.useClientResult(n, o.Platoon.fromBackend), this.fragments.set(t.guid, e);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
guid: e
});
}, t.prototype.set = function(e, t) {
this.getFragment(e).setValue(t);
}, t.prototype.create = function(e, t) {
var n = this, r = this.clients.createPlatoon.request(t);
return r.onSuccess(function(t) {
n.getFragment(t.guid).setValue(o.Platoon.fromBackend(t)), n.stores.activePlatoons.setActivePlatoonIfNone(e, t.guid), 
n.stores.platoonsByPersonaId.expireFragment(e), n.stores.memberships.expireFragment(e);
}), r;
}, t.prototype.disband = function(e, t) {
var n = this, r = this.clients.disbandPlatoon.request({
guid: e
});
return r.onSuccess(function() {
n.deleteFragment(e), n.stores.members.deleteFragment(e), n.stores.applicants.deleteFragment(e), 
n.stores.editors.deleteFragment(e), n.stores.activePlatoons.expireFragment(t), n.stores.memberships.expireFragment(t), 
n.stores.platoonsByPersonaId.expireFragment(t);
}), r;
}, t.prototype.setName = function(e, t) {
var n = this, r = this.clients.setName.request({
guid: e,
name: t
});
return r.onSuccess(function() {
return n.expireFragment(e);
}), r;
}, t.prototype.setTag = function(e, t) {
var n = this, r = this.clients.setTag.request({
guid: e,
tag: t
});
return r.onSuccess(function() {
return n.expireFragment(e);
}), r;
}, t.prototype.setDescription = function(e, t) {
var n = this, r = this.clients.setDescription.request({
guid: e,
description: t
});
return r.onSuccess(function() {
return n.expireFragment(e);
}), r;
}, t.prototype.setAccessType = function(e, t) {
var n = this, r = t === i.AccessType.APPLY, o = t === i.AccessType.OPEN, a = this.clients.setAccessType.request({
guid: e,
canApplyMembership: r,
isFreeJoin: o
});
return a.onSuccess(function() {
n.expireFragment(e), n.stores.applicants.expireFragment(e);
}), a;
}, t.prototype.reportPlatoon = function(e, t) {
return this.clients.reportPlatoon.request({
guid: e,
reason: t
});
}, t;
}(n(30).FragmentStore);
t.PlatoonsStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(80), i = n(30), a = n(3), s = function(e) {
function t(t, n) {
var r = e.call(this, {
fragmentTtl: 3e4
}) || this;
return r.clients = t, r.stores = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this, r = t && t.personaId || "";
r || console.error("No persona ID passed when fetching active platoon - fix now!"), 
this.clients.getActivePlatoon.request(t || {}).onSuccess(a.action(function(t) {
var i = o.Platoon.fromBackend(t);
i || (e = n.createEmptyFragment(r)), e.setValue(i), n.fragments.set(r, e);
})).onError(a.action(function(t) {
e.setFailstate(t);
}));
}, t.prototype.getActivePlatoon = function(e) {
return this.getOrFetchFragment(e, {
personaId: e
});
}, t.prototype.setActivePlatoon = function(e, t) {
var n = this, r = this.clients.setActivePlatoon.request(t ? {
guid: t
} : {});
return r.onSuccess(a.action(function() {
var r = t ? n.stores.platoons.get(t) : n.createEmptyFragment(e);
t || r.setValue(null), n.fragments.set(e, r), n.stores.tagByPersonaId.get(e).setValue(r.value ? r.value.tag : "");
})), r;
}, t.prototype.setActivePlatoonIfNone = function(e, t) {
var n = this, r = this.getActivePlatoon(e);
a.when(function() {
return r.isReady;
}, function() {
r.value || n.setActivePlatoon(e, t);
});
}, t.prototype.removeActivePlatoon = function(e) {
return this.setActivePlatoon(e);
}, r.__decorate([ a.action ], t.prototype, "setActivePlatoon", null), t;
}(i.FragmentStore);
t.PlatoonsActiveStore = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(80), a = function(e) {
function t(t, n) {
var r = e.call(this, {
fragmentTtl: 1e4
}) || this;
return r.clients = t, r.stores = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this, r = this.clients.getPlatoons.request(t);
e.useClientResult(r, function(e) {
var t = {};
return e.forEach(function(e) {
var o = new i.Platoon(e), a = n.stores.platoons.getFragment(o.guid);
a.useClientResult(r, function() {
return o;
}), t[o.guid] = a;
}), t;
});
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
personaId: e
});
}, t;
}(o.FragmentStore);
t.PlatoonsByPersonaIdStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(80), i = function(e) {
function t(t) {
var n = e.call(this, {
fragmentTtl: 1e4
}) || this;
return n.clients = t, n.pageSize = 10, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = t.friends ? this.clients.findByFriendsFilterOwn.request({
pageSize: this.pageSize,
pageIndex: t.pageIndex
}) : this.clients.findByPartialName.request({
partialName: t.query,
pageSize: this.pageSize,
pageIndex: t.pageIndex
});
e.useClientResult(n, function(e) {
return e.map(function(e) {
return o.LightPlatoon.fromBackend(e);
});
});
}, t.prototype.find = function(e, t) {
void 0 === t && (t = 0);
var n = JSON.stringify({
q: e,
i: t,
s: this.pageSize
});
return this.getOrFetchFragment(n, {
query: e,
pageIndex: t
});
}, t.prototype.findFriends = function(e) {
void 0 === e && (e = 0);
var t = JSON.stringify({
friends: !0,
i: e,
s: this.pageSize
});
return this.getOrFetchFragment(t, {
friends: !0,
pageIndex: e
});
}, t;
}(n(30).FragmentStore);
t.PlatoonsFindStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(575), i = n(80), a = function(e) {
function t(t, n) {
var r = e.call(this, {
fragmentTtl: 1e3
}) || this;
return r.clients = t, r.stores = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = t ? this.clients.getExclusiveEmblems.request({}) : this.clients.fetchPrivateGallery.request({});
e.useClientResult(n, function(e) {
return Object.keys(e).map(function(n) {
return o.EmblemInfo.fromBackend(e[n], t ? n : "");
});
});
}, t.prototype.getGallerySlots = function() {
return this.getOrFetchFragment("private");
}, t.prototype.getExclusiveGallerySlots = function() {
return this.getOrFetchFragment("exclusive", !0);
}, t.prototype.setEmblemFromPrivateGallery = function(e, t) {
var n = this, r = this.clients.setEmblemFromPrivateGallery.request({
guid: e,
slotIndex: t
});
return r.onSuccess(function(t) {
if ("string" == typeof t) {
var r = n.stores.platoons.getFragment(e), o = r.value;
r.isReady && o instanceof i.Platoon && o.setEmblem(t);
}
}), r;
}, t.prototype.setEmblemFromExclusiveGallery = function(e, t) {
var n = this, r = this.clients.setEmblemFromExclusiveGallery.request({
guid: e,
name: t
});
return r.onSuccess(function() {
n.stores.platoons.expireFragment(e);
}), r;
}, t;
}(n(30).FragmentStore);
t.PlatoonEmblemsStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(418), a = n(30), s = n(80), u = function(e) {
function t(t, n) {
var r = e.call(this, {
fragmentTtl: 1e4
}) || this;
return r.clients = t, r.stores = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getMemberships.request({
personaId: t
});
e.useClientResult(n, function(e) {
return e.map(function(e) {
return i.PlatoonMembership.fromBackend(e);
});
});
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, e);
}, t.prototype.applyJoin = function(e, t) {
var n = this, r = this.clients.applyJoin.request({
guid: t
});
return r.onSuccess(o.action(function() {
n.refreshFragment(e), n.stores.applicants.refreshFragment(t), n.stores.platoonsByPersonaId.refreshFragment(e);
})), r;
}, t.prototype.join = function(e, t) {
var n = this, r = this.clients.join.request({
guid: t
});
return r.onSuccess(function() {
n.expireFragment(e), n.stores.platoons.expireFragment(t), n.stores.activePlatoons.setActivePlatoonIfNone(e, t), 
n.stores.platoonsByPersonaId.expireFragment(e), n.stores.members.expireFragment(t);
}), r;
}, t.prototype.leave = function(e, t) {
var n = this, r = this.clients.leave.request({
guid: t
});
return r.onSuccess(function() {
n.expireFragment(e), n.stores.platoonsByPersonaId.expireFragment(e);
var r = n.stores.activePlatoons.getFragment(e);
r.value instanceof s.Platoon && r.value.guid === t && r.expire();
}), r;
}, t;
}(a.FragmentStore);
t.PlatoonMembershipsStore = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(314), i = n(30), a = n(80), s = n(156), u = n(3), l = function(e) {
function t(t, n) {
var r = e.call(this, {
fragmentTtl: 1e4
}) || this;
return r.clients = t, r.stores = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getMembers.request({
guid: t,
pageIndex: 0,
pageSize: 100
});
e.useClientResult(n, function(e) {
return e.map(function(e) {
return o.PlatoonMember.fromBackend(t, e);
});
});
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, e);
}, t.prototype.kickMember = function(e, t) {
var n = this, r = this.clients.kickMember.request({
guid: e,
personaId: t
});
return r.onSuccess(u.action(function() {
if (n.hasFragment(e)) {
var r = n.getFragment(e).value || [];
r.forEach(function(e, n) {
if (e.personaId === t) return r.splice(n, 1), !1;
});
}
if (n.stores.memberships.hasFragment(t)) {
var o = n.stores.memberships.getFragment(t).value || [];
o.forEach(function(t, n) {
if (t.guid === e) return o.splice(n, 1), !1;
});
}
if (n.stores.platoons.hasFragment(e)) {
var i = n.stores.platoons.getFragment(e).value;
i instanceof a.Platoon && (i.size = i.size - 1);
}
n.stores.platoonsByPersonaId.expireFragment(t), n.stores.tagByPersonaId.expireFragment(t);
})), r;
}, t.prototype.updateMemberRole = function(e, t, n, r) {
var o = this, i = this.clients.updateMemberRole.request({
guid: e,
personaId: t,
role: s.enumToString(n)
});
return i.onSuccess(u.action(function() {
if (o.hasFragment(e)) {
var i = (o.getFragment(e).value || []).find(function(e) {
return e.personaId === t;
});
i && (i.role = s.enumToString(n), i.membership.role = n);
}
if (o.stores.memberships.hasFragment(t)) {
var a = (o.stores.memberships.getFragment(t).value || []).find(function(t) {
return t.guid === e;
});
a && (a.role = n);
}
if (n === s.MemberRole.GENERAL && r) {
if (o.hasFragment(e)) {
var u = (o.getFragment(e).value || []).find(function(e) {
return e.personaId === r;
});
u && (u.role = s.enumToString(s.MemberRole.PRIVATE), u.membership.role = s.MemberRole.PRIVATE);
}
if (o.stores.memberships.hasFragment(r)) {
var l = (o.stores.memberships.getFragment(r).value || []).find(function(t) {
return t.guid === e;
});
l && (l.role = s.MemberRole.PRIVATE);
}
}
})), i;
}, t;
}(i.FragmentStore);
t.PlatoonMembersStore = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(576), i = function(e) {
function t(t, n) {
var r = e.call(this, {
fragmentTtl: 1e4
}) || this;
return r.clients = t, r.stores = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.listApplicants.request({
guid: t,
pageIndex: 0,
pageSize: 100
});
e.useClientResult(n, function(e) {
return e.map(function(e) {
return o.PlatoonApplicant.fromBackend(e);
});
});
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, e);
}, t.prototype.acceptApplicant = function(e, t) {
var n = this, r = this.clients.acceptApplicant.request({
guid: e,
personaId: t
});
return r.onSuccess(function() {
n.expireFragment(e), n.stores.platoons.expireFragment(e), n.stores.members.expireFragment(e), 
n.stores.memberships.expireFragment(t);
}), r;
}, t.prototype.rejectApplicant = function(e, t) {
var n = this, r = this.clients.rejectApplicant.request({
guid: e,
personaId: t
});
return r.onSuccess(function() {
n.refreshFragment(e), n.stores.memberships.refreshFragment(t);
}), r;
}, t;
}(n(30).FragmentStore);
t.PlatoonApplicantsStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(577), a = function(e) {
function t(t) {
var n = e.call(this, {
fragmentTtl: 1e4
}) || this;
return n.clients = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getServersWithPlayers.request(t);
e.useClientResult(n, function(e) {
return e.map(function(e) {
return i.PlatoonGameServer.fromBackend(e);
});
});
}, t.prototype.get = function(e, t) {
return this.getOrFetchFragment(e + "-" + t, {
game: e,
guid: t
});
}, t;
}(o.FragmentStore);
t.PlatoonServerStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(577), a = function(e) {
function t(t) {
var n = e.call(this, {
fragmentTtl: 1e4
}) || this;
return n.clients = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getPlatoonRspServers.request(t);
e.useClientResult(n, function(e) {
return e.map(function(e) {
return i.PlatoonGameServer.fromBackend(e);
});
});
}, t.prototype.get = function(e, t) {
return this.getOrFetchFragment(e + "-" + t, {
game: e,
guid: t
});
}, t;
}(o.FragmentStore);
t.PlatoonRentedServerStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(1201), a = function(e) {
function t(t) {
var n = e.call(this, {
fragmentTtl: 1e3
}) || this;
return n.clients = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getEditors.request({
guid: t
});
e.useClientResult(n, function(e) {
return i.PlatoonEditors.fromBackend(e);
});
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, e);
}, t;
}(o.FragmentStore);
t.PlatoonEditorsStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
this.name = e.name, this.description = e.description, this.tag = e.tag, this.emblem = e.emblem;
}
return e.fromBackend = function(t) {
return new e(t);
}, r.__decorate([ o.observable ], e.prototype, "name", void 0), r.__decorate([ o.observable ], e.prototype, "description", void 0), 
r.__decorate([ o.observable ], e.prototype, "tag", void 0), r.__decorate([ o.observable ], e.prototype, "emblem", void 0), 
e;
}();
t.PlatoonEditors = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(30), a = n(35), s = function(e) {
function t(t) {
var n = e.call(this, {
fragmentTtl: 0
}) || this;
return n.clients = t, n.fetchQueue = [], n.currentlyFetching = !1, n.batchFetchTimer = 0, 
n.processFetchQueue = function() {
!n.currentlyFetching && n.fetchQueue.length > 0 && (n.fetchAll({
personaIds: n.fetchQueue.splice(0, 100)
}), 0 === n.fetchQueue.length && clearInterval(n.batchFetchTimer));
}, n;
}
return r.__extends(t, e), t.prototype.startBatchFetchTimer = function() {
this.batchFetchTimer || (this.batchFetchTimer = setInterval(this.processFetchQueue, 500));
}, t.prototype.fetch = function() {}, t.prototype.fetchAll = function(e) {
var t = this;
this.currentlyFetching = !0;
var n = this.clients.getActiveTagsByPersonaIds.request(e), r = e.personaIds, i = {};
r.forEach(function(e) {
i[e] = t.getFragment(e);
}), o.when(function() {
return n.isComplete;
}, function() {
t.currentlyFetching = !1, n.status === a.RequestState.SUCCESS && n.response ? r.forEach(function(e) {
t.getFragment(e).setValue(n.response && n.response[e]);
}) : n.status === a.RequestState.ERROR && r.forEach(function(e) {
t.getFragment(e).setFailstate(n.error);
});
});
}, t.prototype.getMany = function(e) {
var t = this;
return e.map(function(e) {
return t.get(e);
});
}, t.prototype.get = function(e) {
var t = this.getFragment(e);
return t.isReady && !t.hasExpired || -1 !== this.fetchQueue.indexOf(e) || (this.fetchQueue.push(e), 
this.startBatchFetchTimer()), t;
}, r.__decorate([ o.action ], t.prototype, "fetchAll", null), t;
}(i.FragmentStore);
t.PlatoonTagByPersonaIdStore = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("CareerStyles"), a = function() {
function e() {}
var t;
return t = e, e.cardBadgeHeight = o.value(function() {
return o.Grid.getHeight(10);
}, "9503f270:17:29"), e.pageHeight = o.value(function() {
return (o.LayoutBounds.content.height - o.LayoutBounds.tallContent.height) * (o.Constants.useConsoleMenu ? 1 : .66);
}, "9503f270:18:24"), e.avatar = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(3),
height: o.Grid.getWidth(3),
backgroundColor: "#ffffff11"
}, "9503f270:22:20");
}), e.leftContainer = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(8),
height: t.pageHeight,
marginRight: o.Grid.getWidth(1) + o.Grid.spacer(2)
}, "9503f270:28:27");
}), e.cards = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(15),
height: t.pageHeight,
flexDirection: "row"
}, "9503f270:34:19");
}), e.card = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(5),
height: t.pageHeight,
marginBottom: 0
}, "9503f270:40:18");
}), e.cardLogo = o.stylefunc(function() {
return o.style({
width: o.Grid.getWidth(3),
height: o.Grid.getHeight(4),
marginBottom: o.Grid.getHeight(4),
textureMode: "contain"
}, "9503f270:48:14");
}, function(e) {
return o.dynamicStyle({
texture: e.logo
}, "9503f270:55:36");
}), e.cardContent = i.wrap(function() {
return o.style({
flex: 1,
alignItems: "center",
justifyContent: "center"
}, "9503f270:61:25");
}), e.cardBadgeContainer = i.wrap(function() {
return o.style({
height: t.cardBadgeHeight,
margin: o.Grid.spacer(2),
zOffset: 40
}, "9503f270:69:32");
}), e.cardStats = i.wrap(function() {
return o.style({
zOffset: 1e3,
padding: o.Grid.getWidth(.5),
flexDirection: "row",
position: "absolute",
bottom: 0,
left: 0,
right: 0
}, "9503f270:75:23");
}), e.sellText = i.wrap(function() {
return o.style({
marginTop: -o.Grid.getHeight(2)
}, "9503f270:85:22");
}), e.userName = i.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(3),
marginBottom: o.Grid.getHeight(10)
}, "9503f270:89:22");
}), e.statsSummary = i.wrap(function() {
return o.style({
position: "absolute",
bottom: 0,
left: 0,
right: 0
}, "9503f270:94:26");
}), e.statsRow = i.wrap(function() {
return o.style({
marginBottom: o.Grid.getHeight(4),
flexDirection: "row",
flexWrap: "nowrap"
}, "9503f270:101:22");
}), e.statsRowLast = i.wrap(function() {
return o.style({
flexDirection: "row",
flexWrap: "nowrap"
}, "9503f270:107:26");
}), e.statsItemCenter = i.wrap(function() {
return o.style({
flex: 1,
marginRight: o.Grid.spacer(1),
alignItems: "center"
}, "9503f270:112:29");
}), e.statsItem = i.wrap(function() {
return o.style({
flex: 1,
marginRight: o.Grid.spacer(1),
alignItems: "flex-start"
}, "9503f270:118:23");
}), e.statsItemRTL = i.wrap(function() {
return o.style({
flex: 1,
marginRight: o.Grid.spacer(1),
alignItems: "flex-end"
}, "9503f270:124:26");
}), e.statsHeading = i.wrap(function() {
return o.style({
color: "#888888",
marginBottom: o.Grid.spacer(2)
}, "9503f270:130:26");
}), e.statsHeadingSmall = i.wrap(function() {
return o.style({
color: "#888888",
marginBottom: o.Grid.spacer(1)
}, "9503f270:135:31");
}), e.statsValue = i.wrap(function() {
return o.style({
color: "#ffffff"
}, "9503f270:140:24");
}), e = t = r.__decorate([ i.style ], e);
}();
t.OverviewStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1205), o = n(1207), i = n(1208);
t.initialize = function a(e) {
o.commerceBindings(e), i.purchaseBindings(e), r.createShortcutKitsClient(e.stores.shortcutKitsStore).startListening();
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1206), o = n(46), i = n(24), a = n(177);
t.createShortcutKitsClient = function s(e) {
return o.requester.createClient({
requestOn: [ a.getShortcutKitsByLicense ],
throttle: 1e4,
request: function(e, t) {
return i.request("Loadout.getItemsByShortCutKitByLicense", {
game: e,
license: t
});
},
parse: function(e) {
return e.map(function(e) {
return new r.ShortcutKitItem(e);
});
},
update: function(t, n, r, o) {
e.setShortcutKit(r, o, n);
}
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.name = t.name, this.category = t.category, this.images = t.images, this.slot = t.slot;
};
}();
t.ShortcutKitItem = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(177), i = n(217), a = n(10), s = n(197), u = n(41), l = n(554), c = n(9);
t.commerceBindings = function p(e) {
var t = e.twinkle.frostbite;
o.purchasePsPlus.listen(function() {
if (c.SpartaGlobals.bundleIsPS4) {
t.sendMessage("sparta.orbis.purchasePsPlus");
var n = t.registerMessageListener("sparta.commerceStatusMessage", function(t, o) {
n(), o.status === o.CHECKOUT_COMPLETED && i.connect();
var c = a.gameStateStoreLoader.get().savedFriendInvite;
if (c) if (o.status === o.CHECKOUT_COMPLETED) var p = r.reaction(function() {
return a.onlineState.isOnlineBlazeAndGateway;
}, function(e) {
e && (p(), l.joinOnSavedFriendInvite(c), a.gameStateStoreLoader.get().setSavedFriendInvite(void 0));
}, {
fireImmediately: !0
}); else {
a.gameStateStoreLoader.get().setSavedFriendInvite(void 0);
var d = new s.JoinMultiplayerServerResult({
resultType: s.JoinResultType.noMultiplayerPrivilege
}), f = new u.UserError("purchasePsPlus", "CANCELED_PURCHASE_NO_MULTIPLAYER_PRIVILEGE");
e.stores.popupManager.displayError(f, d.toHumanReadable() || "", d.getTitle());
}
});
}
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(426), r = n(102), o = n(1215), i = n(1216), a = n(49), s = n(93), u = n(179), l = n(580);
t.purchaseBindings = function c(t) {
var n = t.twinkle.buildInfo, c = t.stores, p = c.ps4StoreIconStore, d = (c.settingsStore, 
c.gameStore), f = c.entitlementStore, m = c.presenceStateStore, h = c.popupManager;
r.PurchaseFlow.listen(r.PurchaseFlowState.STARTED, function() {
p.setPurchaseActive(!0);
}), r.PurchaseFlow.onFinished(function(e) {
p.setPurchaseActive(!1), e.state.currentStateId !== r.PurchaseFlowState.SUCCESS && l.suppressAccessSuccessStore.setSuppressed(!1);
}), r.PurchaseFlow.listen(r.PurchaseFlowState.ERROR, function(o) {
var i = o.offer;
i.group === u.OfferGroup.RSP && e.completePendingPurchases(t.stores.resumablePurchasesStore, i.gameId).then(function() {}), 
t.stores.settingsStore.canShowInGameOverlay(function(e) {
var t = o.error;
o.type === r.PurchaseType.PURCHASE ? t.jobId ? n.isPC && !e ? h.alert(__("ID_SPARTA_ORIGIN_IGO_DISABLED", !0)) : t.status === t.CHECKOUT_FAILURE ? n.isPC && !m.isFirstPartyConnected ? h.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_FAILURE_ORIGIN_OFFLINE", !0)) : h.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_FAILURE", !0)) : h.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_OTHER", !0)) : h.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_FAILURE", !0)) : o.type === r.PurchaseType.CLAIM && (t.jobId ? n.isPC && !e ? h.alert(__("ID_SPARTA_ORIGIN_IGO_DISABLED", !0)) : t.status === t.CHECKOUT_FAILURE ? h.alert(__("ID_SPARTA_COMMERCE_CLAIMING_FAILURE", !0), __("ID_SPARTA_COMMERCE_CLAIMING_FAILURE_TITLE", !0)) : h.alert(__("ID_SPARTA_COMMERCE_CLAIMING_OTHER", !0), __("ID_SPARTA_COMMERCE_CLAIMING_FAILURE_TITLE", !0)) : h.alert(__("ID_SPARTA_COMMERCE_CLAIMING_FAILURE", !0), __("ID_SPARTA_COMMERCE_CLAIMING_FAILURE_TITLE", !0)));
});
}), r.PurchaseFlow.listen(r.PurchaseFlowState.CANCELLED, function(e) {
e.type === r.PurchaseType.PURCHASE ? h.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_CANCELLED", !0)) : e.type === r.PurchaseType.CLAIM && h.alert(__("ID_SPARTA_COMMERCE_CLAIMING_CANCELLED", !0));
}), r.PurchaseFlow.listen(r.PurchaseFlowState.SUCCESS, function(e) {
var n = e.offer;
if (n.group === u.OfferGroup.RSP && t.stores.resumablePurchasesStore.resetFragment(n.gameId), 
n.group !== u.OfferGroup.SHORTCUTS && n.group !== u.OfferGroup.GAME && n.group !== u.OfferGroup.PREMIUM || a.refreshCareer(), 
n.group === u.OfferGroup.ACCESS && (l.suppressAccessSuccessStore.isSuppressed || o.openPopupSuccess().then(function() {
l.suppressAccessSuccessStore.setSuppressed(!1);
})), e.type === r.PurchaseType.PURCHASE) {
var c = d.getGame(n.gameId);
n.group === u.OfferGroup.SHORTCUTS && c && c.storeConfig.showShortcutKitReceipt && i.openShortcutKitSuccess(n).then(function() {}), 
n.group !== u.OfferGroup.SHORTCUTS && n.group !== u.OfferGroup.ACCESS && h.alert(__("ID_SPARTA_COMMERCE_CHECKOUT_COMPLETED", !0));
}
s.offersStore.expireFragment(n.gameId), s.offersStore.get(n.gameId), f.refresh([ n.gameId ]);
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(177), o = function() {
function e() {
this.templates = {};
}
return e.prototype.getTemplate = function(e) {
return this.templates[e];
}, e.prototype.setTemplate = function(e, t) {
this.templates[e] = t;
}, e;
}();
t.rspTemplateStore = new o(), r.updateRSPTemplate.listen(function(e, n) {
t.rspTemplateStore.setTemplate(e, n);
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("PingIndicatorStyle"), a = function() {
function e() {}
return e.text = i.wrap(function() {
return o.style({
alignSelf: "center"
}, "2321231b:7:18");
}), e.icon = i.wrap(function() {
return o.style({
zOffset: 1,
marginRight: 10
}, "2321231b:11:18");
}), e.iconRTL = i.wrap(function() {
return o.style({
zOffset: 1,
marginLeft: 10
}, "2321231b:16:21");
}), e = r.__decorate([ i.style ], e);
}();
t.PingIndicatorStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(79);
t.Server = r.GameServer;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(0), o = n(1), i = n(4), a = n(3), s = n(23), u = n(255), l = n(26), c = n(12), p = n(11), d = n(204), f = n(142), m = n(8), h = n(6), g = n(25), y = n(427), S = n(5), v = n(9), _ = n(1213);
!function(e) {
e[e.Map = 0] = "Map", e[e.GameMode = 1] = "GameMode", e[e.Complete = 2] = "Complete";
}(e || (e = {}));
var b = function(t) {
function n(n, r) {
var o = t.call(this, n, r) || this;
return o.onGameModeSelected = function(e) {
var t = {
gameMode: e,
map: o.selected.map
};
o.onComplete(t);
}, o.selected = {
gameMode: o.props.selected.gameMode,
map: o.props.selected.map
}, o.step = e.Map, o;
}
return r.__extends(n, t), n.prototype.getInput = function() {
return [ new c.Input({
label: __("ID_SPARTA_ACTION_CANCEL"),
key: p.Keys.Decline,
action: this.closePopup
}) ];
}, n.prototype.closePopup = function() {
this.step = e.Complete;
var t = this.props.popupInfo && this.props.popupInfo.id;
t && g.close(t);
}, n.prototype.onMapSelected = function(t) {
this.selected.map = t, this.step = e.GameMode;
}, n.prototype.onComplete = function(e) {
this.props.onSelect(e), this.closePopup();
}, Object.defineProperty(n.prototype, "gameModeOptions", {
get: function() {
return this.selected.map ? this.selected.map.gameModes : [];
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
switch (this.step) {
case e.Map:
return o.createElement(C, {
key: "mapselector",
title: [ "1/2", "-", __("ID_SPARTA_COMMERCE_RSP_SELECTMAP") ],
onSelect: this.onMapSelected,
selected: this.selected.map,
selectedGroupIndex: this.selected.map.groupIndex,
grouped: !0,
options: this.props.mapOptions
});

case e.GameMode:
return o.createElement(C, {
key: "modeselector",
title: [ "2/2", "-", __("ID_SPARTA_COMMERCE_RSP_SELECTMODE") ],
onSelect: this.onGameModeSelected,
selected: this.selected.gameMode,
options: this.gameModeOptions
});

case e.Complete:
default:
return null;
}
}, n.showCloseButton = !0, r.__decorate([ a.observable ], n.prototype, "selected", void 0), 
r.__decorate([ a.observable ], n.prototype, "step", void 0), r.__decorate([ a.action.bound ], n.prototype, "closePopup", null), 
r.__decorate([ a.action.bound ], n.prototype, "onMapSelected", null), n = r.__decorate([ i.observer, l.input ], n);
}(o.Component);
t.MapSelectorPopup = b;
var T = new (function() {
function e(e) {
this.entry = e;
}
return e.prototype.update = function(e) {
this.entry = e;
}, e.prototype.remove = function(e) {
this.entry === e && (this.entry = null);
}, r.__decorate([ a.observable ], e.prototype, "entry", void 0), r.__decorate([ a.action ], e.prototype, "update", null), 
r.__decorate([ a.action ], e.prototype, "remove", null), e;
}())(null), E = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
if (!T.entry) return o.createElement("surface", null);
var e = "";
return T.entry instanceof u.GameMode && (e = T.entry.description), o.createElement(y.InfoView, {
imageUrl: T.entry.images.image("Medium"),
header: T.entry.label,
description: e
});
}, t = r.__decorate([ i.observer ], t);
}(o.Component), C = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.groups = [], t.grouped && (n.groups = u.reduceToGroups(t.options), n.selectedGroupIndex = t.selectedGroupIndex || n.groups[0].index), 
n;
}
return r.__extends(t, e), t.prototype.componentWillReceiveProps = function(e) {
T.update(e.selected);
}, t.prototype.setSelectedGroup = function(e) {
this.selectedGroupIndex = e;
}, Object.defineProperty(t.prototype, "grouped", {
get: function() {
return this.groups.length > 1;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "groupItems", {
get: function() {
var e = this, t = this.groups.find(function(t) {
return t.index === e.selectedGroupIndex;
});
return t ? t.options : [];
},
enumerable: !0,
configurable: !0
}), t.prototype.renderItemGroups = function() {
var e = this;
return this.groups.map(function(t, n) {
var r = new c.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
e.setSelectedGroup(t.index);
},
key: p.Keys.Accept,
blockInputFor: 500
}), i = e.selectedGroupIndex === t.index;
return o.createElement(d.ItemScrollerItem, {
debugName: "selectorGroup: " + t.index,
key: "selectorGroup: " + t.index,
height: m.getHeight(7),
initialFocus: i,
isFocusable: !0
}, function(e) {
return o.createElement(f.ListItem, {
label: t.name,
focusItem: e,
id: t.name,
input: r,
scrollLabel: !0,
isActive: i,
showActiveIndicator: !0
});
});
});
}, t.prototype.onFocus = function(e) {
e.groupIndex !== this.selectedGroupIndex && this.grouped || T.update(e);
}, t.prototype.onBlur = function(e) {
T.remove(e);
}, t.prototype.renderItems = function(e) {
var t = this;
return e.map(function(e, n) {
var r = new c.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
t.props.onSelect(e);
},
key: p.Keys.Accept,
blockInputFor: 500
}), i = t.props.selected.id === e.id;
return o.createElement(d.ItemScrollerItem, {
debugName: "selectorItem: " + e.id,
key: "selectorItem: " + e.id,
height: m.getHeight(7),
initialFocus: i,
isFocusable: !0
}, function(n) {
return n.onFocus(function() {
return t.onFocus(e);
}), n.onBlur(function() {
return t.onBlur(e);
}), o.createElement(f.ListItem, {
label: e.label,
focusItem: n,
id: e.id,
input: r,
scrollLabel: !0,
isActive: i,
showActiveIndicator: !0
});
});
});
}, t.prototype.renderGroupList = function() {
return o.createElement(m.Col, {
width: 6,
style: {
margin: [ 0, m.getWidth(1), 0, 0 ]
}
}, o.createElement(d.ItemScroller, {
debugName: "selectorGroups",
height: s.content.height
}, d.withDividers(this.renderItemGroups())));
}, t.prototype.renderItemList = function() {
return o.createElement(m.Col, {
width: 6,
style: {
margin: [ 0, m.getWidth(1), 0, 0 ]
}
}, o.createElement(d.ItemScroller, {
debugName: "selectorList",
height: s.content.height
}, d.withDividers(this.renderItems(this.grouped ? this.groupItems : this.props.options))));
}, t.prototype.render = function() {
var e = this.props.title.map(function(e, t) {
return o.createElement(h.Text, {
key: "title" + t,
value: (e || "").toUpperCase(),
size: "XL",
style: _.RSPMapSelectorStyles.heading
});
});
return o.createElement("surface", {
style: {
position: "absolute"
}
}, o.createElement("surface", {
style: [ _.RSPMapSelectorStyles.header, s.header.style ]
}, e), o.createElement(m.Row, {
style: S.merge2(_.RSPMapSelectorStyles.content, s.content.getStyleClass("b35f1d4a:324:100"))
}, o.createElement(m.Row, {
style: {
margin: [ 0, m.getWidth(1), 0, 0 ]
}
}, this.grouped && this.renderGroupList(), this.renderItemList()), o.createElement(m.Col, {
width: v.SpartaGlobals.bundleIsConsole ? 8 : 12
}, o.createElement(E, null))));
}, r.__decorate([ a.observable ], t.prototype, "selectedGroupIndex", void 0), r.__decorate([ a.action ], t.prototype, "setSelectedGroup", null), 
r.__decorate([ a.computed ], t.prototype, "grouped", null), r.__decorate([ a.computed ], t.prototype, "groupItems", null), 
t = r.__decorate([ i.observer ], t);
}(o.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("RSPMapSelectorStyles"), a = function() {
function e() {}
return e.header = o.wrap(function() {
return o.style({
position: "absolute",
flexDirection: "row",
alignItems: "flex-end"
}, "195026e6:7:31");
}), e.heading = o.wrap(function() {
return o.style({
textLineSpacing: o.Constants.LINE_HEIGHTS.XL,
marginRight: o.Grid.GUTTER
}, "195026e6:15:32");
}), e.content = o.wrap(function() {
return o.style({
position: "absolute"
}, "195026e6:22:32");
}), e.list = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(6)
}, "195026e6:28:29");
}), e = r.__decorate([ i.style ], e);
}();
t.RSPMapSelectorStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.compact = function r(e) {
var t = [];
return e.forEach(function(e) {
null !== e && void 0 !== e && t.push(e);
}), t;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(21), s = n(28), u = n(8), l = n(18), c = n(38), p = n(25), d = n(141), f = n(10), m = n(29), h = n(3), g = n(93), y = n(4), S = n(9), v = n(59), _ = {
header: S.SpartaGlobals.bundleIsConsole ? a.TextSize.XL : a.TextSize.XXL,
heading: S.SpartaGlobals.bundleIsConsole ? a.TextSize.S : a.TextSize.M,
text: S.SpartaGlobals.bundleIsConsole ? a.TextSize.S : a.TextSize.M,
subtext: S.SpartaGlobals.bundleIsConsole ? a.TextSize.XS : a.TextSize.S,
fineprint: S.SpartaGlobals.bundleIsConsole ? a.TextSize.XXS : a.TextSize.S
}, b = S.SpartaGlobals.bundleIsPC ? 1 : .75, T = 33.3 * b, E = 99 * b, C = function(e) {
return e + "/store/access";
}, I = {
container: {
marginTop: u.getHeight(.3 * E),
width: u.getWidth(.6 * T),
alignItems: "center",
alignSelf: "center"
},
buttonContainer: {
paddingBottom: 30,
width: u.getWidth(.3 * T)
},
header: {
alignItems: "center",
marginBottom: 30
},
text: {
alignItems: "center",
marginBottom: 30
},
fineprint: {
alignItems: "center",
marginBottom: 30
},
spinnerContainer: {
alignItems: "center",
position: "absolute",
top: u.getHeight(E / 2),
marginTop: 20,
left: 0,
right: 0,
bottom: 0
}
}, A = function(e) {
function t(t) {
var n = e.call(this, t) || this;
n.actionPrimary = function() {
p.close("confirmPurchasePopup"), n.props.onClose && n.props.onClose();
try {
var e = d.copyStore.getProperty(n.copy, "welcomeToAccess.button.actionGoto"), t = d.copyStore.getProperty(n.copy, "welcomeToAccess.button.actionDynamicGoto") || e;
if (t) n.handleButtonGoto(t); else {
var r = n.accessOffers && n.accessOffers[0].offerId;
n.openGDPPage(r);
}
} catch (e) {
l.gotoLocation(C(n.gameId));
}
}, n.actionClose = function() {
p.close("confirmPurchasePopup"), n.props.onClose && n.props.onClose();
var e = d.copyStore.getProperty(n.copy, "welcomeToAccess.button.cancelGoto"), t = d.copyStore.getProperty(n.copy, "welcomeToAccess.button.cancelDynamicGoto") || e;
n.handleButtonGoto(t);
}, n.copy = d.copyStore.getCopyPage("notifications"), n.gameId = d.copyStore.getProperty(f.layoutStateStore, "current.config.gameId");
var r = f.gameStore.getGame(n.gameId);
return n.startRoute = r && r.startRoute, n;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "accessOffers", {
get: function() {
var e = g.offersStore.get(this.gameId);
if (e.value) return e.value.access;
},
enumerable: !0,
configurable: !0
}), t.prototype.openGDPPage = function(e) {
e && v.frostbite.sendMessage("sparta.commerceShowDetails", {
offerId: e,
jobId: 0
});
}, t.prototype.handleButtonGoto = function(e) {
try {
var t = (e || "").split("|"), n = t.shift(), r = n && n.toLowerCase() || null, o = t.shift() || null, i = this.accessOffers && this.accessOffers[0].offerId;
if (null !== o) if (o = o.replace("{gameId}", this.gameId), this.startRoute) o = o.replace("{startRoute}", this.startRoute); else if (-1 === o.indexOf("{startRoute}")) return void l.gotoLocation(C(this.gameId));
switch (r) {
case "sparta":
l.gotoLocation(o || C(this.gameId));
break;

case "gdp":
this.openGDPPage(o || i);
break;

default:
l.gotoLocation(C(this.gameId));
}
} catch (e) {
l.gotoLocation(C(this.gameId));
}
}, t.prototype.showFragment = function(e, t) {
var n = d.copyStore.getProperty(this.copy, e) || null;
return null !== n ? o.createElement(i.Text, {
value: n,
style: I[t],
size: _[t]
}) : [];
}, t.prototype.showMessaging = function() {
return o.createElement("surface", {
style: I.container
}, this.showFragment("welcomeToAccess.header", "header"), this.showFragment("welcomeToAccess.copy", "text"), this.showFragment("welcomeToAccess.subcopy", "fineprint"), this.showInstallButton(), this.showSkipButton());
}, t.prototype.showSkipButton = function() {
var e = d.copyStore.getProperty(this.copy, "welcomeToAccess.button.cancelLabel") || null;
return o.createElement("surface", {
style: I.buttonContainer
}, o.createElement(s.Button, {
name: "6ed2099f:229:31",
text: e,
action: this.actionClose
}));
}, t.prototype.showInstallButton = function() {
var e = d.copyStore.getProperty(this.copy, "welcomeToAccess.button.actionLabel") || null;
if (this.accessOffers) return o.createElement("surface", {
style: I.buttonContainer
}, o.createElement(s.Button, {
name: "6ed2099f:240:35",
text: e,
action: this.actionPrimary
}));
}, t.prototype.showLoader = function() {
return o.createElement("surface", {
style: I.spinnerContainer
}, o.createElement(m.Spinner, {
large: !0
}));
}, t.prototype.showContent = function() {
return this.accessOffers ? this.showMessaging() : this.showLoader();
}, t.prototype.render = function() {
return o.createElement("surface", null, this.showContent());
}, r.__decorate([ h.computed ], t.prototype, "accessOffers", null), t = r.__decorate([ y.observer ], t);
}(o.Component);
t.openPopupSuccess = function() {
return new Promise(function(e) {
p.display(new c.Popup({
content: o.createElement(A, {
onClose: e
}),
id: "confirmPurchasePopup",
fullScreen: !0,
containContent: !1
}));
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(10), a = n(94), s = n(58), u = n(67), l = n(8), c = n(6), p = n(28), d = n(38), f = n(25), m = n(29), h = n(11), g = n(177), y = n(12), S = n(204), v = n(21), _ = n(5), b = n(17), T = n(9), E = n(7), C = _.StaticStyle.wrapLegacyStyleSheet({
dock: {
flex: 1,
justifyContent: "center",
alignItems: "center"
},
container: {
alignItems: "center"
},
kitIcon: {
width: l.getWidth(14),
height: l.getWidth(2),
color: "#ffffff",
margin: l.spacer(2),
textureMode: "contain"
},
button: {
width: l.getWidth(6),
marginTop: l.spacer(2)
},
categoryHeader: {
marginBottom: l.spacer(1),
marginTop: l.spacer(2),
height: v.LINE_HEIGHTS.S
},
itemRow: {
backgroundColor: "#ffffff05",
padding: 10,
flexDirection: "row",
marginBottom: l.spacer(1),
alignItems: "center",
height: l.getHeight(9)
},
itemImage: {
width: l.getWidth(3),
height: l.getHeight(7),
marginRight: l.getWidth(3)
},
itemName: {
width: l.getWidth(5),
marginRight: l.getWidth(1),
zOffset: 1
},
itemCategory: {
opacity: .5,
zOffset: 1
},
spinnerContainer: {
alignItems: "center",
justifyContent: "center",
height: l.getHeight(40)
}
}, "98066c4a:27:15"), I = o.observer(function(t) {
var n, o = t.item, i = t.focusItem, a = i.isFocused || i.isHovered, u = _.merge2(C.itemImage, _.DynamicStyle.create({
texture: o.images.Small
}, "98066c4a:103:62")), p = C.itemRow;
return a && (n = "#000000", p = _.merge2(p, b.CommonStyles.bgColor("#ffffff")), 
u = _.merge2(u, b.CommonStyles.color("#000000"))), r.createElement("surface", e.__assign({
style: p
}, i.hooks), r.createElement("surface", {
style: u
}), r.createElement(c.Text, {
color: n,
style: C.itemName,
size: "S",
value: o.name
}), r.createElement(s.Marquee, {
width: l.getWidth(2),
scroll: i.isFocused || i.isHovered
}, r.createElement(c.Text, {
color: n,
style: C.itemCategory,
size: "S",
value: o.slot
})));
}), A = function() {
f.close("confirmPurchasePopup");
}, w = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = E.SpartaContext.getFromComponent(r), r.currentGroup = "", r.gameId = i.nativePropertiesStore.getHostingGameId(), 
r.continueAction = function() {
A(), r.props.onClose();
}, r.customizeAction = function() {
A(), r.props.onClose(), r.currentGame.customizeSoldierAction();
}, r.license = e.offer && e.offer.licenses && e.offer.licenses[0], r.offerGameId = e.offer && e.offer.gameId, 
g.getShortcutKitsByLicense(r.offerGameId, r.license), r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "currentGame", {
get: function() {
return i.nativePropertiesStore.getHostingGame();
},
enumerable: !0,
configurable: !0
}), n.prototype.getLicenseInfo = function() {
return this.currentGame.storeConfig.getShortcutKitInfo ? this.currentGame.storeConfig.getShortcutKitInfo(this.license) : {
scName: "",
scIcon: ""
};
}, n.prototype.renderItems = function(e) {
var t = this;
return e.length ? r.createElement(S.ItemScroller, {
debugName: "ShortcutKitSuccessList",
height: l.getHeight(40),
softClip: [ 5 * l.GUTTER, 0, 5 * l.GUTTER, 0 ]
}, e.map(function(e, n) {
var o;
t.currentGroup !== e.category && (o = r.createElement(c.Text, {
size: "S",
style: C.categoryHeader,
value: e.category
}), t.currentGroup = e.category);
var i = C.itemRow.getNumericStyle("height", 0) + C.itemRow.getNumericStyle("marginBottom", 0);
if (o) {
var a = C.categoryHeader;
i += a.getNumericStyle("height", 0), i += a.getNumericStyle("marginTop", 0), i += a.getNumericStyle("marginBottom", 0);
}
return r.createElement(S.ItemScrollerItem, {
isFocusable: !0,
key: e.name,
debugName: e.name,
height: i,
initialFocus: 0 === n
}, function(t) {
return r.createElement("surface", null, o, r.createElement(I, {
focusItem: t,
item: e
}));
});
})) : r.createElement("surface", {
style: C.spinnerContainer
}, r.createElement(m.Spinner, {
large: !0
}));
}, n.prototype.render = function() {
var e = this.sparta.stores.shortcutKitsStore.getByLicense(this.offerGameId, this.license), t = this.getLicenseInfo(), n = t.scName, o = t.scIcon, i = __("ID_SPARTA_COMMERCE_SHORTCUT_UNLOCKED").replace("[SHORTCUT]", n.toUpperCase()), s = __("ID_SPARTA_COMMERCE_SHORTCUT_UNLOCKED_DESCRIPTION").replace("[NUM]", (e.length ? e.length : "") + ""), d = _.merge2(C.kitIcon, _.DynamicStyle.create({
texture: o
}, "98066c4a:234:52")), f = _.merge2(C.container, a.uiState.viewportScaleStyle), m = r.createElement("surface", null, r.createElement(p.Button, {
name: "98066c4a:240:27",
text: __("ID_SPARTA_ACTION_CONTINUE"),
style: C.button,
action: this.continueAction
}), u.routeIsHostingGame.get() && this.currentGame.hasCustomizeSoldier() && r.createElement(p.Button, {
name: "98066c4a:248:35",
text: __("ID_SPARTA_CUSTOMIZE_SOLDIER"),
style: C.button,
action: this.customizeAction
}));
return e.length ? r.createElement("surface", {
style: C.dock
}, r.createElement("surface", {
style: f
}, r.createElement("surface", {
style: d
}), r.createElement(c.Text, {
size: "L",
value: i
}), r.createElement(c.Text, {
size: "S",
value: s
}), r.createElement("surface", {
style: {
marginTop: 5 * l.GUTTER,
marginBottom: 5 * l.GUTTER,
width: l.getWidth(14)
}
}, this.renderItems(e)), T.SpartaGlobals.bundleIsPC && m)) : null;
}, n.contextTypes = E.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.ShortcutKitSuccess = w, t.shortcutKitSuccessButtons = function(e) {
var t = [ new y.Input({
key: h.Keys.Accept,
label: __("ID_SPARTA_ACTION_CONTINUE"),
action: function() {
A(), e();
}
}), new y.Input({
key: h.Keys.Decline,
visible: !1,
action: function() {
A(), e();
}
}) ], n = i.nativePropertiesStore.getHostingGame();
return u.routeIsHostingGame.get() && n.hasCustomizeSoldier() && t.push(new y.Input({
key: h.Keys.Option2,
label: __("ID_SPARTA_CUSTOMIZE_SOLDIER"),
action: function() {
A(), n.customizeSoldierAction(), e();
}
})), t;
}, t.openShortcutKitSuccess = function(e) {
return new Promise(function(n) {
f.display(new d.Popup({
content: r.createElement(w, {
onClose: n,
offer: e
}),
id: "confirmPurchasePopup",
fullScreen: !0,
containContent: !1,
createButtons: !1,
inputs: t.shortcutKitSuccessButtons(n)
}));
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(10), i = n(550), a = n(69), s = n(195);
t.setupBindings = function u(e) {
i.handlePushNotification.listen(r.action(function(e) {
if (s.platoonsFeatureFlags.platoons.isEnabled()) {
var t = o.gatewayState.session ? o.gatewayState.session.personaId : "", n = e.guid;
switch (e.eventType) {
case "JOIN_REQUEST_ACCEPTED":
case "JOIN_REQUEST_REJECTED":
case "USER_KICKED":
a.platoonsStores.memberships.expireFragment(t), a.platoonsStores.platoonsByPersonaId.expireFragment(t), 
a.platoonsStores.platoons.expireFragment(n), a.platoonsStores.members.expireFragment(n);
break;

case "USER_ROLE_CHANGED":
a.platoonsStores.memberships.expireFragment(t), a.platoonsStores.members.expireFragment(n);
break;

case "PLATOON_DISBANDED":
a.platoonsStores.members.expireFragment(n), a.platoonsStores.memberships.expireFragment(t), 
a.platoonsStores.platoonsByPersonaId.expireFragment(t), a.platoonsStores.platoons.expireFragment(n);
break;

case "PLATOON_MODIFIED":
a.platoonsStores.platoons.expireFragment(n);
break;

case "REPRESENTED_PLATOON_CHANGED":
if (a.platoonsStores.activePlatoons.hasFragment(t) && a.platoonsStores.activePlatoons.getFragment(t).created < Date.now() + 2e3) return;
a.platoonsStores.activePlatoons.expireFragment(t);
break;

case "APPLICANTS_UPDATED":
a.platoonsStores.applicants.expireFragment(n);
}
}
}));
};
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(8), s = n(23), u = n(4), l = n(80), c = n(229), p = n(26), d = n(12), f = n(11), m = n(10), h = n(69), g = n(72), y = n(313), S = n(6), v = n(39), _ = n(29), b = n(36), T = n(21), E = n(258), C = n(582), I = n(583), A = n(154), w = n(14), P = n(584), R = n(320), O = n(266), x = n(34), k = n(140), L = n(1220), M = n(37), D = n(7), N = n(5), F = n(22), G = a.getWidth(14), U = a.getHeight(7), B = [ a.getHeight(6), 0, a.getHeight(6), 0 ], j = N.StaticStyle.wrapLegacyStyleSheet({
infoContainer: {
flex: 1,
flexDirection: "row",
justifyContent: "flex-start",
marginBottom: a.getHeight(4)
},
emblemCol: {
flexDirection: "column",
marginRight: 8 * a.GUTTER
},
emblem: {
width: a.getWidth(4),
height: a.getWidth(4)
},
rowContainer: {
flexDirection: "column"
},
colContainer: {
flex: 1,
flexDirection: "column"
},
colInfo: {
width: G,
marginRight: 3 * a.GUTTER
},
membersCount: {
marginLeft: 4 * a.GUTTER
},
representing: {
color: "#FF9900",
marginLeft: 4 * a.GUTTER,
alignSelf: "center"
},
header: {
marginBottom: 2 * a.GUTTER,
flex: 1,
flexDirection: "row"
},
metaContainer: {
flexDirection: "row",
marginBottom: 4 * a.GUTTER
},
verifiedIcon: {
marginLeft: 3 * a.GUTTER,
alignSelf: "center"
},
descScroller: {
maxHeight: a.getHeight(22),
marginBottom: a.getHeight(5)
},
description: {
width: G,
textLineSpacing: T.LINE_HEIGHTS.S,
opacity: .66
},
button: {
width: a.getWidth(4),
marginTop: a.getHeight(4)
},
colMembers: {
width: a.getWidth(8),
height: a.getHeight(36)
},
commander: {
marginRight: a.getWidth(1)
},
memberIcons: {
flexDirection: "row",
marginBottom: a.getHeight(3)
},
memberBox: {
width: U,
height: U,
alignItems: "center",
justifyContent: "center",
backgroundColor: "#000000988"
},
moreCount: {
zOffset: 2
},
carouselHeader: {
marginBottom: a.getHeight(3),
textAlignForRTL: "left"
}
}, "5761df53:51:15"), H = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = D.SpartaContext.getFromComponent(r), r.buttons = {
join: {
key: "join",
name: "BUTTON_PLATOONS_JOIN_PLATOON",
text: __("ID_SHARED_PLATOONS_JOIN_PLATOON").toUpperCase(),
action: function() {
return r.onJoinClick();
},
disabled: !1
},
represent: {
key: "represent",
name: "BUTTON_PLATOONS_REPRESENT",
text: __("ID_SHARED_PLATOONS_REPRESENT").toUpperCase(),
action: function() {
return r.onRepresentClick();
},
disabled: !1
},
stopRepresent: {
key: "stopRepresent",
name: "BUTTON_PLATOONS_STOP_REPRESENTING",
text: __("ID_SHARED_PLATOONS_REPRESENT_STOP").toUpperCase(),
action: function() {
return r.onStopRepresentClick();
},
disabled: !1
},
apply: {
key: "apply",
name: "BUTTON_PLATOONS_APPLY",
text: __("ID_SHARED_PLATOONS_APPLY").toUpperCase(),
action: function() {
return r.onApplyClick();
},
disabled: !1
},
applyCancel: {
key: "applyCancel",
name: "BUTTON_PLATOONS_APPLY_CANCEL",
text: __("ID_SHARED_PLATOONS_CANCEL_APPLICATION").toUpperCase(),
action: function() {
return r.onStopApplyClick();
},
disabled: !1
},
closed: {
key: "closed",
name: "BUTTON_PLATOONS_CLOSED",
text: __("ID_SHARED_PLATOONS_ACCESS_TYPE_CLOSED").toUpperCase(),
action: function() {},
disabled: !0
}
}, r.onJoinClick = function() {
var e = m.gatewayState.session ? m.gatewayState.session.personaId : "", t = h.platoonsStores.memberships.get(e);
return h.platoonsStores.memberships.join(e, r.props.platoon.guid).onSuccess(function() {
i.when(function() {
return t.isReady;
}, function() {
var n = !t.value || 0 === t.value.length;
b.trackPlatoonJoined("Open Join", r.props.platoon.guid, e, n);
});
}).onError(function(e) {
r.showToaster(e.localizedMessage);
});
}, r.onStopRepresentClick = function() {
r.sparta.stores.careerFetchingState.reset();
var e = m.gatewayState.session ? m.gatewayState.session.personaId : "";
return h.platoonsStores.activePlatoons.removeActivePlatoon(e).onSuccess(function() {
b.trackPlatoonStoppedRepresenting(r.props.platoon.getName(), e);
}).onError(function(e) {
r.showToaster(e.localizedMessage);
});
}, r.onRepresentClick = function() {
r.sparta.stores.careerFetchingState.reset();
var e = m.gatewayState.session ? m.gatewayState.session.personaId : "";
return h.platoonsStores.activePlatoons.setActivePlatoon(e, r.props.platoon.guid).onSuccess(function() {
r.showToaster(__("ID_SPARTA_PLATOONS_NOW_REPRESENTING").replace("[[NAME]]", r.props.platoon.getName()), __("ID_SHARED_PLATOONS")), 
b.trackPlatoonStartedRepresenting(r.props.platoon.getName(), e);
}).onError(function(e) {
r.showToaster(e.localizedMessage);
});
}, r.onStopApplyClick = function() {
var e = m.gatewayState.session ? m.gatewayState.session.personaId : "";
return h.platoonsStores.applicants.rejectApplicant(r.props.platoon.guid, e).onSuccess(function() {
b.trackPlatoonApplicationRemoved("Cancelled Application");
}).onError(function(e) {
r.showToaster(e.localizedMessage);
});
}, r.onApplyClick = function() {
var e = m.gatewayState.session ? m.gatewayState.session.personaId : "";
return h.platoonsStores.memberships.applyJoin(e, r.props.platoon.guid).onSuccess(function() {
b.trackPlatoonAppliedToJoin(e, r.props.platoon.guid);
}).onError(function(e) {
r.showToaster(e.localizedMessage);
});
}, r.focusItem = r.sparta.twinkle.focus.create(r, "platoon_overview_top"), r.focusItem.autoFocusCandidate = !0, 
r;
}
return r.__extends(n, t), n.prototype.showToaster = function(t, n) {
this.sparta.twinkle.frostbite.sendMessage("sparta.showToastNotification", {
title: n || __("ID_SPARTA_GENERIC_ERROR"),
message: t,
imageRef: e("Info"),
durationMs: 3e3
});
}, n.prototype.getInput = function() {
if (F.focusSystem.controllerMode) {
var e = this.props.platoon, t = m.gatewayState.session ? m.gatewayState.session.personaId : "", n = h.platoonsStores.memberships.get(t), r = h.platoonsStores.activePlatoons.getActivePlatoon(t), o = r.value;
if (n.isReady && r.isReady) {
var i = (n.value || []).find(function(t) {
return t.guid === e.guid;
}), a = o instanceof l.Platoon && o.guid === e.guid, s = this.getButtonToShow(e, i, a);
return s ? new d.Input({
label: s.text,
visible: !s.disabled,
key: f.Keys.Option2,
action: s.action
}) : null;
}
}
}, n.prototype.getButtonToShow = function(e, t, n) {
return t && !t.isPending ? n ? this.buttons.stopRepresent : this.buttons.represent : e.accessType === c.AccessType.OPEN ? this.buttons.join : t && t.isPending ? this.buttons.applyCancel : e.accessType === c.AccessType.APPLY ? this.buttons.apply : e.accessType === c.AccessType.CLOSED ? this.buttons.closed : void 0;
}, n.prototype.renderLoading = function() {
return o.createElement(v.EmptyState, null, o.createElement(_.Spinner, {
large: !0
}));
}, n.prototype.renderPlayingCards = function(e, t) {
var n = O.getPlatoonSupportedGameId(this.sparta.stores.gameStore), r = h.platoonsStores.servers.get(n, e.guid), i = r.value;
if (r.isReady && i && i.length) {
var s = N.DynamicStyle.create({
width: i.length > 1 ? 2 * a.getWidth(M.CARD_WIDTH.cells.SSL) : a.getWidth(M.CARD_WIDTH.cells.SSL)
}, "5761df53:344:38"), u = i.map(function(n, r) {
return o.createElement(y.PlatoonServerCard, {
key: n.server.guid,
platoon: e,
server: n.server,
playingMembers: n.platoon.displayMembers,
allowJoin: t
});
});
return o.createElement("surface", null, o.createElement(S.Text, {
value: __("ID_SHARED_PLATOONS_PLATOON_MEMBERS_PLAYING").toUpperCase(),
size: "S",
style: N.merge2(j.carouselHeader, s)
}), o.createElement(g.CardCarousel, {
id: "5761df53:369:39",
width: a.getWidth(24)
}, u));
}
return null;
}, n.prototype.renderHeader = function(e) {
var t = e.verified ? o.createElement(A.Icon, {
image: w.bbUrl("/sparta/assets/platoons/verified_platoon-91c9d8e6.png"),
style: j.verifiedIcon,
size: "L"
}) : null, n = e.getName().length > 20 ? "XL" : "XXL";
return o.createElement("surface", {
style: j.header
}, o.createElement(C.PlatoonName, {
name: e.getName(),
size: n,
type: "emphasis"
}), t);
}, n.prototype.renderInfo = function(e, t, n, r) {
for (var i = r ? k.getMembershipStatus(n, r).toUpperCase() : void 0, a = t.slice(0, 1).map(function(t, n) {
return o.createElement(R.PlatoonUser, {
platoon: e,
user: t,
key: "commander-" + n + "-" + t.personaId,
isStatic: !0
});
}), s = [], u = 1; u < 5; u++) if (t.length > u) {
var l = t[u];
s.push(o.createElement(R.PlatoonUserIcon, {
user: l,
key: "member-" + u + "-" + l.personaId
}));
}
return t.length > 5 && (s[4] = o.createElement("surface", {
style: j.memberBox,
key: "more-members"
}, o.createElement(S.Text, {
style: j.moreCount,
value: "+" + (t.length - 5)
}))), o.createElement("surface", {
style: j.colInfo
}, o.createElement("surface", {
style: j.metaContainer
}, o.createElement(I.PlatoonTag, {
tag: e.getTag(),
size: "S"
}), o.createElement(P.PlatoonMembersCount, {
value: t.length,
size: "S",
containerStyle: j.membersCount,
showLabel: !0
}), o.createElement(S.Text, {
value: i,
size: "S",
style: j.representing
})), o.createElement("surface", {
style: j.memberIcons
}, o.createElement("surface", {
style: j.commander
}, a), s), o.createElement(x.Scroller, {
style: j.descScroller,
softClip: B
}, o.createElement(S.Text, {
value: e.description,
size: "S",
style: j.description
})));
}, n.prototype.render = function() {
var e = this.props.platoon, t = m.gatewayState.session ? m.gatewayState.session.personaId : "", n = h.platoonsStores.memberships.get(t), i = n.value || [], a = h.platoonsStores.members.get(e.guid), u = a.value || [], c = h.platoonsStores.activePlatoons.getActivePlatoon(t), p = c.value;
if (!n.isReady || !a.isReady || !c.isReady) return this.renderLoading();
var d, f = i.find(function(t) {
return t.guid === e.guid;
}), g = p instanceof l.Platoon && p.guid === e.guid;
if (!F.focusSystem.controllerMode) {
var y = this.getButtonToShow(e, f, g);
y && (d = o.createElement(L.RequestButton, {
name: y.name,
key: y.key,
text: y.text,
action: y.action,
disabled: y.disabled
}));
}
var S = s.content.height, v = F.focusSystem.controllerMode ? this.focusItem.hooks : null;
return o.createElement(x.Scroller, {
style: {
height: S
},
softClip: B,
controller: !1
}, o.createElement("surface", r.__assign({
style: j.infoContainer
}, v), o.createElement("surface", {
style: j.emblemCol
}, o.createElement(E.PlatoonEmblem, {
style: j.emblem,
emblem: e.emblem
}), o.createElement("surface", {
style: j.button
}, d)), o.createElement("surface", {
style: j.rowContainer
}, this.renderHeader(e), o.createElement("surface", {
style: j.colContainer
}, this.renderInfo(e, u, f, g)))), this.renderPlayingCards(e, !!f && f.isMember));
}, n.contextTypes = D.SpartaContext.contextTypes, n = r.__decorate([ p.input, u.observer ], n);
}(o.Component);
t.PlatoonOverview = H;
}).call(this, n(2), n(101));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(156), i = n(203), a = n(8), s = n(25), u = n(38), l = n(6), c = n(28), p = n(320), d = n(231), f = n(113), m = n(5), h = m.StaticStyle.wrapLegacyStyleSheet({
container: {
alignItems: "center"
},
avatar: {
width: a.getWidth(3),
height: a.getWidth(3),
marginBottom: 4 * a.GUTTER,
marginRight: 0
},
name: {
marginBottom: 2 * a.GUTTER
},
currentRole: {
opacity: .66,
marginBottom: 4 * a.GUTTER
},
columns: {
flex: 1,
flexDirection: "row",
justifyContent: "space-between"
},
column: {
alignItems: "center",
margin: [ 0, 2 * a.GUTTER, 0, 2 * a.GUTTER ]
},
permissions: {
alignItems: "flex-start"
},
permission: {
flexDirection: "row",
alignItems: "center",
marginBottom: a.GUTTER
},
disabled: {
opacity: .66
},
roles: {
width: a.getWidth(8),
marginBottom: 4 * a.GUTTER
},
btnRow: {
width: a.getWidth(7),
flexDirection: "row",
justifyContent: "space-around",
marginTop: 6 * a.GUTTER
},
btn: {
width: a.getWidth(3),
marginRight: 2 * a.GUTTER
}
}, "0e7ac3bd:28:15"), g = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.closePopup = function() {
n.props.popupInfo && s.close(n.props.popupInfo.id);
}, n.onConfirmRole = function() {
return n.onConfirm(n.state.selectedRole);
}, n.state = {
selectedRole: e.member.membership.role
}, n;
}
return e.__extends(n, t), n.openPopup = function(t) {
s.display(new u.Popup({
id: "platoonRolePopup",
group: "platoons",
content: r.createElement(n, e.__assign({}, t)),
requireOnline: !0,
createButtons: !1
}));
}, n.prototype.onConfirm = function(e) {
this.props.onRoleSelect(e), this.closePopup();
}, n.prototype.renderPermissions = function(e) {
return i.permissionsDisplayOrder.map(function(t) {
var n = !i.hasPermission(e, t, o.MemberRole.PRIVATE), a = o.getLowerRole(e), s = i.permissionToLocalized(t).replace("[[role]]", o.enumToLocalized(e === o.MemberRole.GENERAL ? o.MemberRole.GENERAL : a)).replace("[[roles]]", o.enumToLocalized(a, !0));
return r.createElement("surface", {
key: t,
style: n ? m.merge2(h.permission, h.disabled) : h.permission
}, r.createElement(d.Checkmark, {
value: !n
}), r.createElement(l.Text, {
value: s,
size: "S"
}));
});
}, n.prototype.render = function() {
var e = this, t = this.props.member.membership.role, n = this.props.viewer.role, s = i.hasPermission(n, i.Permission.DEMOTE_MEMBER, t), u = o.roleDisplayOrder.map(function(t) {
var a = !s;
return i.hasPermission(n, i.Permission.PROMOTE_MEMBER, t) || (a = !0), {
label: o.enumToLocalized(t),
subLabel: r.createElement(d.Checkmark, {
value: e.state.selectedRole === t
}),
inputLabel: __("ID_SPARTA_ACTION_SELECT"),
isActive: e.state.selectedRole === t,
disabled: a,
onTrigger: function() {
e.setState({
selectedRole: t
});
}
};
});
return r.createElement("surface", {
style: h.container
}, r.createElement(p.PlatoonUserIcon, {
user: this.props.member,
style: h.avatar
}), r.createElement(l.Text, {
value: this.props.member.displayName,
style: h.name,
size: "L"
}), r.createElement(l.Text, {
value: o.enumToLocalized(t).toUpperCase(),
style: h.currentRole,
size: "M"
}), r.createElement("surface", {
style: h.columns
}, r.createElement(a.Col, {
width: 9,
style: h.column
}, r.createElement(f.List, {
styleClass: h.roles,
items: u,
divider: "item",
showActiveIndicator: !0
})), r.createElement(a.Col, {
width: 9,
style: h.permissions
}, this.renderPermissions(this.state.selectedRole))), r.createElement("surface", {
style: h.btnRow
}, r.createElement(c.Button, {
name: "0e7ac3bd:184:31",
text: __("ID_SPARTA_ACTION_CONFIRM"),
style: h.btn,
action: this.onConfirmRole,
disabled: this.state.selectedRole === t
}), r.createElement(c.Button, {
name: "0e7ac3bd:191:31",
text: __("ID_SPARTA_ACTION_CANCEL"),
style: h.btn,
action: this.closePopup
})));
}, n;
}(r.Component);
t.PlatoonRolePopup = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(8), a = n(14), s = n(28), u = n(29), l = {
button: {
height: i.getHeight(7),
alignItems: "center",
justifyContent: "center",
zOffset: 0
},
buttonBorder: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 5,
texture: a.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
}
}, c = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.startLoading = function() {
n.setState({
isLoading: !0
});
}, n.stopLoading = function() {
n.setState({
isLoading: !1
});
}, n.action = function() {
var e = n.props.action();
if (e) return n.startLoading(), n.props.reenableOnSuccess && e.onSuccess(n.stopLoading), 
e.onError(n.stopLoading).onThrottled(n.stopLoading).onUnsatisfied(n.stopLoading), 
e;
}, n.state = {
isLoading: !1
}, n;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.style, n = (e.reenableOnSuccess, r.__rest(e, [ "style", "reenableOnSuccess" ]));
return this.state.isLoading ? o.createElement("surface", {
style: [ l.button, t ]
}, o.createElement("surface", {
style: l.buttonBorder
}), o.createElement(u.Spinner, {
small: !0
})) : o.createElement(s.Button, r.__assign({}, n, {
action: this.action
}));
}, t;
}(o.Component);
t.RequestButton = c;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(23), a = n(18), s = n(4), u = n(156), l = n(34), c = n(69), p = n(320), d = n(39), f = n(29), m = n(10), h = n(96), g = n(142), y = n(113), S = n(17), v = n(5), _ = n(22), b = [ o.getHeight(6), 0, o.getHeight(6), 0 ], T = v.StaticStyle.wrapLegacyStyleSheet({
columns: {
flexDirection: "row"
},
colMenu: {
width: o.getWidth(6),
marginRight: o.getWidth(1)
},
scroller: {
width: o.getWidth(12)
}
}, "51358816:31:15");
var E = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.renderLoading = function() {
return r.createElement(d.EmptyState, null, r.createElement(f.Spinner, {
large: !0
}));
}, n.prototype.setActiveRow = function(t) {
var n = m.locationStore.location;
a.updateLocation(new h.Location({
path: n.path,
args: e.__assign({}, n.args, {
role: t
})
}));
}, n.prototype.getMembersOfRole = function(e, t) {
return e.filter(function(e) {
return e.membership.role === u.stringToEnum(t);
});
}, n.prototype.renderMembers = function(e, t) {
var n, a = this, s = "";
switch (e) {
case u.enumToString(u.MemberRole.GENERAL):
n = this.getMembersOfRole(t, u.enumToString(u.MemberRole.GENERAL));
break;

case u.enumToString(u.MemberRole.COLONEL):
n = this.getMembersOfRole(t, u.enumToString(u.MemberRole.COLONEL)), s = __("ID_SHARED_PLATOONS_ROLE_NONE").replace("[[role]]", u.enumToLocalized(u.MemberRole.COLONEL, !0));
break;

case u.enumToString(u.MemberRole.LIEUTENANT):
n = this.getMembersOfRole(t, u.enumToString(u.MemberRole.LIEUTENANT)), s = __("ID_SHARED_PLATOONS_ROLE_NONE").replace("[[role]]", u.enumToLocalized(u.MemberRole.LIEUTENANT, !0));
break;

case u.enumToString(u.MemberRole.PRIVATE):
n = this.getMembersOfRole(t, u.enumToString(u.MemberRole.PRIVATE)), s = __("ID_SHARED_PLATOONS_ROLE_NONE").replace("[[role]]", u.enumToLocalized(u.MemberRole.PRIVATE, !0));
break;

default:
n = [];
}
if (n.length > 0) {
var c = _.focusSystem.controllerMode ? i.content.height - 16 * o.GUTTER : i.content.height - 8 * o.GUTTER;
return r.createElement(l.Scroller, {
style: v.merge2(T.scroller, v.DynamicStyle.create({
height: c
}, "51358816:122:51")),
softClip: b
}, n.map(function(e, t) {
return r.createElement(p.PlatoonUser, {
user: e,
viewer: a.props.membership,
platoon: a.props.platoon,
key: "member-" + t + "-" + e.personaId
});
}));
}
return r.createElement(d.EmptyState, {
text: s.toUpperCase(),
style: S.CommonStyles.justifyContentFlexStart
});
}, n.prototype.render = function() {
var e = this, t = c.platoonsStores.members.get(this.props.platoon.guid), n = t.value || [], o = m.locationStore.location;
if (!t.isReady) return this.renderLoading();
var i = void 0;
if (function a(e) {
return e.hasOwnProperty("role");
}(o.args)) {
var s = o.args.role;
i = u.roleDisplayOrder.find(function(e) {
return u.enumToString(e) === s;
});
}
var l = u.enumToString(void 0 !== i ? i : u.roleDisplayOrder[0]), p = u.roleDisplayOrder.map(function(t) {
var o = u.enumToString(t);
return r.createElement(g.ListItem, {
key: o,
label: u.enumToLocalized(t),
subLabel: e.getMembersOfRole(n, o).length.toString(),
inputLabel: __("ID_SPARTA_ACTION_SELECT"),
showActiveIndicator: !0,
isActive: l === o,
onTrigger: e.setActiveRow.bind(e, o)
});
});
return r.createElement("surface", {
style: T.columns
}, r.createElement("surface", {
style: T.colMenu
}, r.createElement(y.List, {
items: p,
divider: "item",
showActiveIndicator: !0
})), this.renderMembers(l, n));
}, n = e.__decorate([ s.observer ], n);
}(r.Component);
t.PlatoonMembers = E;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(18), i = n(8), a = n(4), s = n(203), u = n(96), l = n(10), c = n(6), p = n(69), d = n(1223), f = n(1224), m = n(1227), h = n(1230), g = n(113), y = n(142), S = n(5), v = S.StaticStyle.wrapLegacyStyleSheet({
columns: {
flexDirection: "row"
},
colMenu: {
width: i.getWidth(6),
marginRight: i.getWidth(1)
},
applicationsLabel: {
flex: 1,
flexDirection: "row"
},
label: {
zOffset: 4,
flex: 1,
textAlignForRTL: "left"
}
}, "bf41aa0b:21:15");
var _ = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.rows = [ {
key: "applications",
label: __("ID_SHARED_PLATOONS_MANAGE_APPLICATIONS"),
showApplicationsNotifier: !0,
component: d.PlatoonsManageApplications,
isEnabled: function(e) {
return !!e && s.hasPermission(e.role, s.Permission.MANAGE_APPLICATIONS);
}
}, {
key: "info",
label: __("ID_SPARTA_PLATOONS_MANAGE_INFO"),
component: f.PlatoonsManageInfo,
isEnabled: function(e) {
return !!e && s.hasPermission(e.role, s.Permission.MANAGE_INFO);
}
}, {
key: "emblem",
label: __("ID_SPARTA_PLATOONS_MANAGE_EMBLEM"),
component: m.PlatoonsManageEmblem,
isEnabled: function(e) {
return !!e && s.hasPermission(e.role, s.Permission.EDIT_EMBLEM);
}
}, {
key: "disband",
label: __("ID_SHARED_PLATOONS_MANAGE_DISBAND_PLATOON"),
component: h.PlatoonsManageDisband,
isEnabled: function(e) {
return !!e && s.hasPermission(e.role, s.Permission.DISBAND_PLATOON);
}
} ], e.renderApplicationsLabel = function(t, n, o) {
var a, s = e.getApplicantCount();
return s && (a = r.createElement(c.Text, {
value: "" + s,
size: "S",
color: o.isHovered ? "#000000" : "#ff9900"
})), r.createElement("surface", {
style: v.applicationsLabel,
key: "applications"
}, r.createElement(c.Text, {
value: __("ID_SHARED_PLATOONS_MANAGE_APPLICATIONS").toUpperCase(),
size: y.ListItem.defaultProps.fontSize,
color: t,
style: S.merge2(v.label, S.DynamicStyle.create(n ? {
marginLeft: i.GUTTER / 2
} : {
paddingRight: i.GUTTER / 2
}, "bf41aa0b:134:38"))
}), a);
}, e;
}
return e.__extends(n, t), n.prototype.setActiveRow = function(t) {
var n = l.locationStore.location;
o.updateLocation(new u.Location({
path: n.path,
args: e.__assign({}, n.args, {
row: t
})
}));
}, n.prototype.getApplicantCount = function() {
var e = this.props.platoon, t = p.platoonsStores.applicants.get(e.guid);
if (t.isReady) {
var n = t.value;
if (n) return n.length;
}
}, n.prototype.render = function() {
var e, t = this, n = this.props.platoon, o = this.props.membership, i = l.locationStore.location;
if (function a(e) {
return e.hasOwnProperty("row");
}(i.args)) {
var s = i.args.row;
e = this.rows.find(function(e) {
return e.key === s && e.isEnabled(o);
});
}
e || (e = this.rows.find(function(e) {
return e.isEnabled(o);
}));
var u = this.rows.map(function(n) {
return r.createElement(y.ListItem, {
key: "row-" + n.key,
label: n.showApplicationsNotifier ? t.renderApplicationsLabel : n.label,
inputLabel: __("ID_SPARTA_ACTION_SELECT"),
showActiveIndicator: !0,
isActive: e && e.key === n.key,
muted: !n.isEnabled(o),
onTrigger: t.setActiveRow.bind(t, n.key)
});
}), c = e && e.component;
return r.createElement("surface", {
style: v.columns
}, r.createElement("surface", {
style: v.colMenu
}, r.createElement(g.List, {
items: u,
divider: "item",
showActiveIndicator: !0
})), r.createElement("surface", null, c && r.createElement(c, {
platoon: n,
membership: o
})));
}, n = e.__decorate([ a.observer ], n);
}(r.Component);
t.PlatoonsManage = _;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(23), a = n(34), s = n(69), u = n(4), l = n(320), c = n(39), p = n(29), d = n(17), f = n(5), m = [ o.getHeight(6), 0, o.getHeight(6), 0 ], h = f.StaticStyle.wrapLegacyStyleSheet({
scroller: {
width: o.getWidth(16)
}
}, "c7596b97:17:15"), g = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.renderLoading = function() {
return r.createElement(c.EmptyState, null, r.createElement(p.Spinner, {
large: !0
}));
}, n.prototype.renderEmpty = function() {
return r.createElement(c.EmptyState, {
textWidth: h.scroller.getNumericStyle("width", 0),
style: d.CommonStyles.justifyContentFlexStart,
text: __("ID_SHARED_PLATOONS_MANAGE_APPLICATIONS_NONE").toUpperCase(),
subText: __("ID_SHARED_PLATOONS_MANAGE_APPLICATIONS_NONE_DESC").toUpperCase()
});
}, n.prototype.render = function() {
var e = this, t = s.platoonsStores.applicants.get(this.props.platoon.guid);
if (!t.isReady) return this.renderLoading();
var n = t.value;
return n && n.length ? r.createElement(a.Scroller, {
style: f.merge2(h.scroller, f.DynamicStyle.create({
height: i.content.height
}, "c7596b97:61:47")),
softClip: m
}, n.map(function(t) {
return r.createElement(l.PlatoonUser, {
user: t,
tag: t.tag,
viewer: e.props.membership,
platoon: e.props.platoon,
key: "app-" + t.personaId
});
})) : this.renderEmpty();
}, n = e.__decorate([ u.observer ], n);
}(r.Component);
t.PlatoonsManageApplications = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(25), a = n(4), s = n(26), u = n(12), l = n(11), c = n(10), p = n(69), d = n(585), f = n(41), m = n(36), h = n(80), g = n(586), y = n(39), S = n(47), v = n(22), _ = {
rows: {
flexDirection: "column"
},
rowInput: {
width: o.getWidth(12),
marginBottom: 4 * o.GUTTER
},
inputLabel: {
marginBottom: 2 * o.GUTTER
},
inputLabelSecondary: {
marginBottom: 2 * o.GUTTER,
opacity: .66
},
descriptionField: {
height: o.getHeight(16)
},
btn: {
width: o.getWidth(4)
}
}, b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.manageInfo = r.createRef(), e.state = {
updating: !1
}, e.onBeforeLeave = function() {
var t = p.platoonsStores.platoons.get(e.props.platoon.guid).value || e.props.platoon;
return e.hasContentChanged(t, e.state) ? e.confirmUnsavedChanges(t) : Promise.resolve(!0);
}, e.onInfoChanged = function(t) {
e.setState(t);
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.deregisterOnBeforeLeaveHandler = c.locationStore.onBeforeLeave(this.onBeforeLeave);
}, n.prototype.confirmUnsavedChanges = function(e) {
var t = this;
return f.confirm(__("ID_SPARTA_PLATOONS_CONFIRM_SAVE_MESSAGE"), __("ID_SPARTA_PLATOONS_CONFIRM_SAVE_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO")).then(function(n) {
return !n || (t.startLoading(), t.save(e).then(function() {
return t.stopLoading(), !0;
}).catch(function(e) {
return t.stopLoading(), e && !d.isUserInputError(e.code) && S.PopupManager.standardAlert(e.localizedMessage, __("ID_SPARTA_GENERIC_ERROR"), void 0, {
requireOnline: !0
}), !1;
}));
}).catch(function() {
return !0;
});
}, n.prototype.hasContentChanged = function(e, t) {
var n = p.platoonsStores.platoons.get(this.props.platoon.guid).value || e;
return void 0 !== t.name && n.name !== t.name || void 0 !== t.tag && n.tag !== t.tag || void 0 !== t.description && n.description !== t.description || void 0 !== t.accessType && n.accessType !== t.accessType;
}, n.prototype.getInput = function() {
var e = this;
if (v.focusSystem.controllerMode) {
var t = p.platoonsStores.platoons.get(this.props.platoon.guid), n = t.value;
if (!(n instanceof h.Platoon)) return [];
var r = [], o = this.state.updating;
return t.isLoading && (o = !0), t.isReady && this.canSave(o, n) && r.push(new u.Input({
label: __("ID_SPARTA_ACTION_SAVE").toUpperCase(),
visible: !0,
key: l.Keys.Option2,
action: function() {
e.handleUpdate(n);
}
})), r;
}
}, n.prototype.startLoading = function() {
this.setState({
updating: !0
}), f.loading("platoonInfoUpdating", __("ID_SPARTA_PLATOONS_MANAGE_SAVING"));
}, n.prototype.stopLoading = function() {
this.setState({
updating: !1
}), i.close("platoonInfoUpdating");
}, n.prototype.handleUpdate = function(e) {
var t = this;
this.manageInfo.current && (this.startLoading(), this.save(e).then(function() {
return t.stopLoading();
}).catch(function(e) {
t.stopLoading(), e && !d.isUserInputError(e.code) && S.PopupManager.standardAlert(e.localizedMessage, __("ID_SPARTA_GENERIC_ERROR"), void 0, {
requireOnline: !0
});
}));
}, n.prototype.canSave = function(e, t) {
return !!this.manageInfo.current && (!e && this.hasContentChanged(t, this.state));
}, n.prototype.save = function(e) {
var t = this, n = [];
if (e) {
var r = void 0 !== this.state.name ? this.state.name : e.name, o = void 0 !== this.state.tag ? this.state.tag : e.tag, i = void 0 !== this.state.description ? this.state.description : e.description, a = void 0 !== this.state.accessType ? this.state.accessType : e.accessType;
r !== e.name && n.push(new Promise(function(n, o) {
p.platoonsStores.platoons.setName(e.guid, r.trim()).onSuccess(function() {
m.trackPlatoonInfoUpdated("Name"), n();
}).onError(function(e) {
m.trackPlatoonInfoUpdateFailed("Name", e.code), d.isUserInputError(e.code) && t.manageInfo.current && t.manageInfo.current.name.current && t.manageInfo.current.name.current.showError(e.localizedMessage), 
o(e);
});
})), o !== e.tag && n.push(new Promise(function(n, r) {
p.platoonsStores.platoons.setTag(e.guid, o ? o.trim() : "").onSuccess(function() {
m.trackPlatoonInfoUpdated("Tag"), n();
}).onError(function(e) {
m.trackPlatoonInfoUpdateFailed("Tag", e.code), d.isUserInputError(e.code) && t.manageInfo.current && t.manageInfo.current.tag.current && t.manageInfo.current.tag.current.showError(e.localizedMessage), 
r(e);
});
})), i !== e.description && n.push(new Promise(function(n, r) {
p.platoonsStores.platoons.setDescription(e.guid, i ? i.trim() : "").onSuccess(function() {
m.trackPlatoonInfoUpdated("Description"), n();
}).onError(function(e) {
m.trackPlatoonInfoUpdateFailed("Description", e.code), d.isUserInputError(e.code) && t.manageInfo.current && t.manageInfo.current.description.current && t.manageInfo.current.description.current.showError(e.localizedMessage), 
r(e);
});
})), a !== e.accessType && n.push(new Promise(function(n, r) {
p.platoonsStores.platoons.setAccessType(e.guid, a).onSuccess(function() {
m.trackPlatoonInfoUpdated("Access Type"), n();
}).onError(function(n) {
m.trackPlatoonInfoUpdateFailed("Access Type", n.code), d.isUserInputError(n.code) && t.manageInfo.current && t.manageInfo.current.accessType.current && t.manageInfo.current.accessType.current.onChange(e.accessType), 
r(n);
});
}));
}
return Promise.all(n).then(function() {
return new Promise(function(e, n) {
var r = p.platoonsStores.platoons.refreshFragment(t.props.platoon.guid);
t.when(function() {
return !r.isLoading;
}, function() {
r.failstate ? n(r.failstate) : e();
});
});
});
}, n.prototype.render = function() {
var e = p.platoonsStores.platoons.get(this.props.platoon.guid), t = e.value;
if (!(t instanceof h.Platoon)) return r.createElement(y.EmptyState, {
text: __("ID_SHARED_PLATOONS_LOADING_FAILED")
});
var n = this.props.membership;
this.state.updating;
return e.isLoading && !0, r.createElement("surface", {
style: _.rows
}, r.createElement(g.PlatoonInfoEditor, {
ref: this.manageInfo,
viewerRole: n.role,
value: {
name: void 0 !== this.state.name ? this.state.name : t.name,
tag: void 0 !== this.state.tag ? this.state.tag : t.tag,
description: void 0 !== this.state.description ? this.state.description : t.description,
accessType: void 0 !== this.state.accessType ? this.state.accessType : t.accessType
},
onChanged: this.onInfoChanged
}));
}, n = e.__decorate([ s.input, a.observer ], n);
}(r.Component);
t.PlatoonsManageInfo = b;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(4), a = n(6), s = n(12), u = n(11), l = n(231), c = n(62), p = n(229), d = n(262), f = n(19), m = n(5), h = n(22), g = m.StaticStyle.wrapLegacyStyleSheet({
accessType: {
padding: 2 * o.GUTTER
},
accessTypeContent: {
flexDirection: "row",
zOffset: 1
},
accessTypeLabel: {
flex: 1,
flexDirection: "column"
},
accessTypeDesc: {
marginTop: 1.5 * o.GUTTER,
opacity: .66
},
container: {
flexDirection: "column",
width: o.getWidth(12),
opacity: 1
},
inputLabel: {
marginBottom: 2 * o.GUTTER,
textAlignForRTL: "left"
},
inputLabelSecondary: {
marginBottom: 2 * o.GUTTER,
opacity: .66
},
disabled: {
opacity: .33
},
text: {
textAlignForRTL: "left"
}
}, "5a29cf9b:16:15"), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.focusItem = h.focusSystem.create(e, "platoonAccessType" + e.props.accessType), 
e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = this.focusItem.isFocusedOrHovered, n = this.props.selected, o = this.props.accessType, i = t ? "#FFFFFF" : "#FFFFFF00", d = t ? "#000000" : "#FFFFFF", h = this.props.disabled ? void 0 : new s.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
return e.props.action();
},
key: u.Keys.Accept
}), y = f.isRTLLanguage(), S = r.createElement("surface", {
style: g.accessTypeLabel
}, r.createElement(a.Text, {
value: p.enumToLocalized(o).toUpperCase(),
color: d,
type: "emphasis",
size: "S",
style: g.text
}), r.createElement(a.Text, {
value: p.enumToLocalizedDesc(o),
size: "S",
color: d,
style: m.merge2(g.accessTypeDesc, g.text)
})), v = r.createElement(l.Checkmark, {
value: n,
focused: t
}), _ = y ? v : S, b = y ? S : v;
return r.createElement(c.Pressable, {
input: h,
focusItem: this.focusItem,
disabled: this.props.disabled
}, r.createElement("surface", {
style: [ g.accessType, {
backgroundColor: i
} ]
}, r.createElement("surface", {
style: g.accessTypeContent
}, _, b)));
}, n = e.__decorate([ i.observer ], n);
}(r.Component), S = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.accessTypes = [ p.AccessType.OPEN, p.AccessType.APPLY, p.AccessType.CLOSED ], 
n.state = {
accessType: e.initialValue || e.value || p.AccessType.OPEN
}, n;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "value", {
get: function() {
return void 0 !== this.props.value ? this.props.value : this.state.accessType;
},
enumerable: !0,
configurable: !0
}), n.prototype.onChange = function(e) {
this.setState({
accessType: e
}), this.props.onValueChanged && this.props.onValueChanged(e);
}, n.prototype.render = function() {
var e = this, t = this.props, n = t.disabled, o = t.style, i = [];
this.accessTypes.forEach(function(t) {
i.push(r.createElement(y, {
key: "type-" + t,
accessType: t,
selected: e.value === t,
disabled: n,
action: e.onChange.bind(e, t)
})), i.push(r.createElement(d.Divider, {
key: "divider-" + t
}));
});
var s = n ? g.disabled : m.emptyStyle, u = n && r.createElement(a.Text, {
value: __("ID_SHARED_PLATOONS_INPUT_REQUIREMENTS_NO_ACCESS").toUpperCase(),
size: "S",
style: g.inputLabelSecondary
});
return r.createElement("surface", {
style: m.merge3(g.container, s, m.DynamicStyle.maybeLegacyStyle(o, "5a29cf9b:185:68"))
}, r.createElement(a.Text, {
value: __("ID_SHARED_PLATOONS_ACCESS_TYPE").toUpperCase(),
style: g.inputLabel
}), u, r.createElement(d.Divider, null), i);
}, n;
}(r.Component);
t.PlatoonAccessTypeInput = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(6), a = n(112), s = n(588), u = n(5), l = n(19), c = u.StaticStyle.wrapLegacyStyleSheet({
container: {
flexDirection: "column"
},
inputLabel: {
marginBottom: 2 * o.GUTTER,
textAlignForRTL: "left",
marginRight: o.getWidth(5)
},
inputLabelSecondary: {
marginBottom: 2 * o.GUTTER,
opacity: .66,
textAlignForRTL: "left",
marginRight: o.getWidth(5)
},
fieldContainer: {
flexDirection: "row",
alignItems: "center"
},
inputField: {
flex: 1
},
sideLabel: {
width: o.getWidth(4),
marginLeft: o.getWidth(1)
},
disabled: {
opacity: .33
},
validationLabel: {
textAlignForRTL: "left"
}
}, "46da6069:9:15"), p = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.onActivate = function() {
n.setState({
active: !0,
valueOnActivate: n.value
}), n.props.onActivate && n.props.onActivate();
}, n.onDeactivate = function() {
n.setState({
active: !1,
invalid: !n.validate(n.value)
}), n.props.onDeactivate && n.props.onDeactivate();
}, n.onValueChanged = function(e) {
var t = (n.state.valueOnActivate && n.state.valueOnActivate.length > 0 || n.state.invalid) && !n.validate(e), r = t ? n.state.error : void 0;
n.setState({
invalid: t,
error: r
}), void 0 !== n.state.value && n.setState({
value: e
}), n.props.onValueChanged && n.props.onValueChanged(e);
}, n.state = {
value: void 0 === e.initialValue && void 0 === e.value ? "" : e.initialValue,
active: !1,
invalid: !1
}, n;
}
return e.__extends(n, t), n.prototype.shouldComponentUpdate = function(e, t) {
return s.shouldUpdate(this.props, e) || s.shouldUpdate(this.state, t);
}, Object.defineProperty(n.prototype, "value", {
get: function() {
return void 0 !== this.props.value ? this.props.value : this.state.value;
},
enumerable: !0,
configurable: !0
}), n.prototype.validate = function(e) {
return !(this.props.required && !e) && !(this.props.minLength && (!e || e.length < this.props.minLength));
}, n.prototype.showError = function(e) {
this.setState({
invalid: !0,
error: e
});
}, n.prototype.render = function() {
var t, n = this.props, s = n.label, p = n.required, d = n.style, f = n.disabled, m = e.__rest(n, [ "label", "required", "style", "disabled" ]), h = f ? __("ID_SHARED_PLATOONS_INPUT_REQUIREMENTS_NO_ACCESS").toUpperCase() : p ? __("ID_SHARED_PLATOONS_INPUT_REQUIREMENTS_REQUIRED").toUpperCase() : __("ID_SHARED_PLATOONS_INPUT_REQUIREMENTS_OPTIONAL").toUpperCase();
this.state.error ? t = this.state.error.toUpperCase() : void 0 !== m.minLength && void 0 !== m.maxLength && (t = __("ID_SPARTA_PLATOONS_CHARACTER_LIMIT").replace("[[min]]", m.minLength + "").replace("[[max]]", m.maxLength + "").toUpperCase());
var g = {
opacity: this.state.active || this.state.invalid ? 1 : 0,
marginRight: l.isRTLLanguage() ? o.GUTTER : 0
};
return r.createElement("surface", {
style: f ? u.merge2(c.container, c.disabled) : c.container
}, r.createElement(i.Text, {
value: s,
style: c.inputLabel
}), r.createElement(i.Text, {
value: h,
size: "S",
style: c.inputLabelSecondary
}), r.createElement("surface", {
style: c.fieldContainer
}, r.createElement(a.InputField, e.__assign({}, m, {
debugName: this.props.debugName,
style: u.merge2(c.inputField, u.DynamicStyle.maybeLegacyStyle(d, "46da6069:163:57")),
isInvalid: this.state.invalid,
onActivate: this.onActivate,
onDeactivate: this.onDeactivate,
onValueChanged: this.onValueChanged,
disabled: f
})), r.createElement("surface", {
style: [ c.sideLabel, g ]
}, r.createElement(i.Text, {
value: t,
size: "S",
style: c.validationLabel
}))));
}, n;
}(r.Component);
t.LabeledInputField = p;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(25), a = n(4), s = n(589), u = n(26), l = n(12), c = n(11), p = n(10), d = n(69), f = n(80), m = n(41), h = n(36), g = n(28), y = n(39), S = n(47), v = n(22), _ = {
btn: {
width: o.getWidth(4)
}
}, b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.emblemEditor = r.createRef(), e.state = {
updating: !1
}, e.onBeforeLeave = function() {
var t = d.platoonsStores.platoons.get(e.props.platoon.guid).value, n = t && t.emblem || void 0;
return e.hasContentChanged(n) ? e.confirmUnsavedChanges() : Promise.resolve(!0);
}, e.handleUpdate = function() {
e.emblemEditor.current && e.save(function() {}, function(e) {
e && S.PopupManager.standardAlert(e.localizedMessage, __("ID_SPARTA_GENERIC_ERROR"), void 0, {
requireOnline: !0
});
});
}, e.onEmblemSelectionChanged = function(t) {
e.setState(t);
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.deregisterOnBeforeLeaveHandler = p.locationStore.onBeforeLeave(this.onBeforeLeave);
}, n.prototype.confirmUnsavedChanges = function() {
var e = this;
return m.confirm(__("ID_SPARTA_PLATOONS_CONFIRM_SAVE_MESSAGE"), __("ID_SPARTA_PLATOONS_CONFIRM_SAVE_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_NO")).then(function(t) {
return !t || new Promise(function(t) {
e.save(function() {
t(!0);
}, function(e) {
t(!1), e && S.PopupManager.standardAlert(e.localizedMessage, __("ID_SPARTA_GENERIC_ERROR"), void 0, {
requireOnline: !0
});
});
});
}).catch(function() {
return !0;
});
}, n.prototype.getInput = function() {
if (v.focusSystem.controllerMode) {
var e = d.platoonsStores.platoons.get(this.props.platoon.guid), t = e.value;
if (!(t instanceof f.Platoon)) return [];
var n = [], r = this.state.updating;
return e.isLoading && (r = !0), e.isReady && this.canSave(r, t.emblem) && n.push(new l.Input({
label: __("ID_SPARTA_ACTION_SAVE").toUpperCase(),
visible: !0,
key: c.Keys.Option2,
action: this.handleUpdate
})), n;
}
}, n.prototype.startLoading = function() {
this.setState({
updating: !0
}), m.loading("platoonEmblemUpdating", __("ID_SPARTA_PLATOONS_MANAGE_SAVING"));
}, n.prototype.stopLoading = function() {
this.setState({
updating: !1
}), i.close("platoonEmblemUpdating");
}, n.prototype.hasContentChanged = function(e) {
return void 0 !== this.state.emblemUrl && this.state.emblemUrl !== e;
}, n.prototype.resetState = function() {
this.setState({
emblemUrl: void 0,
emblemSlot: void 0,
exclusiveName: void 0
});
}, n.prototype.canSave = function(e, t) {
return !!this.emblemEditor.current && (!e && this.hasContentChanged(t));
}, n.prototype.save = function(e, t) {
var n = this;
if (this.props.platoon) {
var r, o = this.props.platoon.guid, i = this.state.emblemSlot, a = this.state.exclusiveName;
if (this.startLoading(), void 0 !== i && i >= 0) r = d.platoonsStores.emblems.setEmblemFromPrivateGallery(o, i); else {
if (!(void 0 !== a && a.length > 0)) return this.stopLoading(), void (t && t());
r = d.platoonsStores.emblems.setEmblemFromExclusiveGallery(o, a);
}
r.onSuccess(function() {
void 0 !== i && i >= 0 ? h.trackPlatoonEmblemUpdated("Private Emblem") : h.trackPlatoonEmblemUpdated("Exclusive Emblem"), 
e && e();
}).onError(function(e) {
h.trackPlatoonEmblemUpdateFailed(e.code), n.resetState(), t && t(e);
}).onFinished(function() {
n.stopLoading();
});
}
}, n.prototype.render = function() {
var e = d.platoonsStores.platoons.get(this.props.platoon.guid), t = this.state.updating;
e.isLoading && (t = !0);
var n, o = e.value;
return o instanceof f.Platoon ? (v.focusSystem.controllerMode || (n = r.createElement(g.Button, {
name: "9d10c006:251:27",
text: __("ID_SPARTA_ACTION_SAVE"),
style: _.btn,
disabled: !this.canSave(t, o.emblem),
action: this.handleUpdate
})), r.createElement("surface", null, r.createElement(s.PlatoonEmblemEditor, {
ref: this.emblemEditor,
platoon: o,
value: {
emblemUrl: void 0 !== this.state.emblemUrl ? this.state.emblemUrl : o.emblem
},
onChanged: this.onEmblemSelectionChanged
}), n)) : r.createElement(y.EmptyState, {
text: __("ID_SHARED_PLATOONS_LOADING_FAILED")
});
}, n = e.__decorate([ u.input, a.observer ], n);
}(r.Component);
t.PlatoonsManageEmblem = b;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(8), a = n(12), s = n(11), u = n(231), l = n(258), c = n(14), p = n(62), d = n(1229), f = n(5), m = n(22), h = 2 * i.GUTTER, g = f.StaticStyle.wrapLegacyStyleSheet({
border: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 5,
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
texture: c.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png")
},
checkmark: {
position: "absolute",
left: h,
bottom: h,
zOffset: 1
},
emblem: {
width: i.getWidth(4) - 2 * h,
height: i.getWidth(4) - 2 * h
}
}, "e8dba10d:17:15"), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.focusItem = m.focusSystem.create(e, "platoonEmblemSelector" + e.props.emblem.imageUrlTemplate), 
e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = this.focusItem.isFocusedOrHovered ? 1 : 0, n = new a.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
return e.props.action();
},
key: s.Keys.Accept
});
return r.createElement(p.Pressable, {
style: d.PlatoonStyles.emblemSelectorContainer,
input: n,
focusItem: this.focusItem
}, r.createElement("surface", {
style: [ g.border, {
opacity: t
} ]
}), r.createElement("surface", {
style: g.checkmark
}, r.createElement(u.Checkmark, {
value: this.props.selected
})), r.createElement("surface", {
style: d.PlatoonStyles.emblemSelectorInnerContainer
}, r.createElement(l.PlatoonEmblem, {
emblem: this.props.emblem.imageUrlTemplate,
style: g.emblem
})));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.PlatoonEmblemSelector = y;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("PlatoonStyles"), a = function() {
function e() {}
var t;
return t = e, e.emblemSelectorPadding = o.value(function() {
return 2 * o.Grid.GUTTER;
}, "9d181d8a:7:35"), e.emblemSelectorContainer = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(4),
height: o.Grid.getWidth(4),
marginRight: o.Grid.GUTTER,
marginBottom: o.Grid.GUTTER,
backgroundColor: "#00000088"
}, "9d181d8a:9:48");
}), e.emblemSelectorInnerContainer = o.wrap(function() {
return o.style({
padding: t.emblemSelectorPadding
}, "9d181d8a:19:53");
}), e = t = r.__decorate([ i.style ], e);
}();
t.PlatoonStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(10), a = n(69), s = n(18), u = n(6), l = n(28), c = n(8), p = n(41), d = n(21), f = n(36), m = n(5), h = n(47), g = m.StaticStyle.wrapLegacyStyleSheet({
description: {
marginBottom: 2 * c.GUTTER,
width: c.getWidth(10),
textLineSpacing: d.LINE_HEIGHTS.S,
textAlignForRTL: "left"
},
button: {
width: c.getWidth(4)
}
}, "ef753cbd:16:15"), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.state = {
disableButton: !1
}, e.onConfirmClick = function() {
var t = i.gatewayState.session ? i.gatewayState.session.personaId : "";
p.legacyConfirm(__("ID_SPARTA_ACTION_ARE_YOU_SURE"), __("ID_SHARED_PLATOONS_MANAGE_DISBAND_PLATOON"), __("ID_SHARED_PLATOONS_MANAGE_DISBAND"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
e.setState({
disableButton: !0
}), a.platoonsStores.platoons.disband(e.props.platoon.guid, t).onSuccess(function() {
f.trackPlatoonDisbanded(), s.gotoLocation("platoons/your");
}).onError(function(t) {
e.setState({
disableButton: !1
}), h.PopupManager.standardAlert(t.localizedMessage, __("ID_SHARED_PLATOONS_ERROR_LEAVE_TITLE"), void 0, {
requireOnline: !0
});
});
});
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", null, r.createElement(u.Text, {
value: __("ID_SHARED_PLATOONS_MANAGE_DISBAND_DESCRIPTION"),
size: "S",
style: g.description
}), r.createElement(l.Button, {
name: "BUTTON_PLATOONS_DISBAND",
text: __("ID_SHARED_PLATOONS_MANAGE_DISBAND_PLATOON"),
disabled: this.state.disableButton,
action: this.onConfirmClick,
style: g.button
}));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.PlatoonsManageDisband = y;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(18), i = n(4), a = n(96), s = n(1232), u = n(1233), l = n(113), c = n(142), p = n(7), d = n(590), f = n(17);
var m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = p.SpartaContext.getFromComponent(e), e.rows = [ {
key: "leave",
label: __("ID_SHARED_PLATOONS_LEAVE_PLATOON"),
component: s.PlatoonLeave,
isEnabled: function(e, t) {
return !!t && t.isMember;
}
}, {
key: "report",
label: __("ID_SHARED_PLATOONS_REPORT_PLATOON"),
component: u.PlatoonReport,
isEnabled: function(e, t) {
return !!e;
}
} ], e;
}
return e.__extends(n, t), n.prototype.setActiveRow = function(t) {
var n = this.sparta.stores.locationStore.location;
o.updateLocation(new a.Location({
path: n.path,
args: e.__assign({}, n.args, {
row: t
})
}));
}, n.prototype.render = function() {
var e, t = this, n = this.props.platoon, o = this.props.membership, i = this.sparta.stores.locationStore.location;
if (function a(e) {
return e.hasOwnProperty("row");
}(i.args)) {
var s = i.args.row;
e = this.rows.find(function(e) {
return e.key === s && e.isEnabled(n, o);
});
}
e || (e = this.rows.find(function(e) {
return e.isEnabled(n, o);
}));
var u = this.rows.map(function(i) {
return r.createElement(c.ListItem, {
key: "row-" + i.key,
label: i.label,
inputLabel: __("ID_SPARTA_ACTION_SELECT"),
showActiveIndicator: !0,
isActive: e && e.key === i.key,
muted: !i.isEnabled(n, o),
onTrigger: t.setActiveRow.bind(t, i.key)
});
}), p = e && e.component;
return r.createElement("surface", {
style: f.CommonStyles.flexColumn
}, r.createElement("surface", {
style: d.PlatoonsTemplateStyles.colMenu
}, r.createElement(l.List, {
items: u,
divider: "item",
showActiveIndicator: !0
})), r.createElement("surface", {
style: d.PlatoonsTemplateStyles.colContent
}, p && r.createElement(p, {
guid: n.guid,
membership: o
})));
}, n.contextTypes = p.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.PlatoonsMore = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(4), a = n(10), s = n(69), u = n(21), l = n(6), c = n(28), p = n(36), d = n(41), f = n(5), m = n(47), h = f.StaticStyle.wrapLegacyStyleSheet({
description: {
marginTop: 2 * o.GUTTER,
marginBottom: 2 * o.GUTTER,
width: o.getWidth(10),
textLineSpacing: u.LINE_HEIGHTS.S,
textAlignForRTL: "left"
},
button: {
width: o.getWidth(4)
}
}, "a12c6c13:16:15"), g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onConfirmClick = function() {
d.legacyConfirm(__("ID_SPARTA_ACTION_ARE_YOU_SURE"), __("ID_SHARED_PLATOONS_LEAVE_PLATOON"), __("ID_SHARED_PLATOONS_LEAVE"), __("ID_SPARTA_ACTION_CANCEL"), null, {
requireOnline: !0
}).then(function() {
e.setState({
disableButton: !0
});
var t = a.gatewayState.session ? a.gatewayState.session.personaId : "", n = e.props.guid;
s.platoonsStores.memberships.leave(t, n).onSuccess(function() {
p.trackPlatoonLeft("Left", n, t), a.locationStore.goBack();
}).onError(function(t) {
e.setState({
disableButton: !1
}), m.PopupManager.standardAlert(t.localizedMessage, __("ID_SHARED_PLATOONS_ERROR_LEAVE_TITLE"), void 0, {
requireOnline: !0
});
});
});
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props.membership, t = !!e && e.isGeneral, n = __(t ? "ID_SHARED_PLATOONS_LEAVE_GENERAL" : "ID_SHARED_PLATOONS_LEAVE_CONFIRM");
return r.createElement("surface", null, r.createElement(l.Text, {
value: n,
size: "S",
style: h.description
}), r.createElement(c.Button, {
name: "BUTTON_PLATOONS_LEAVE_PLATOON",
text: __("ID_SHARED_PLATOONS_LEAVE_PLATOON"),
style: h.button,
action: this.onConfirmClick,
disabled: t
}));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.PlatoonLeave = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(6), s = n(28), u = n(8), l = n(1234), c = n(69), p = n(21), d = n(36), f = n(5), m = n(7), h = f.StaticStyle.wrapLegacyStyleSheet({
description: {
marginTop: 2 * u.GUTTER,
marginBottom: 2 * u.GUTTER,
width: u.getWidth(8),
textLineSpacing: p.LINE_HEIGHTS.S,
textAlignForRTL: "left"
},
button: {
width: u.getWidth(4)
}
}, "d2aaf7fa:15:15"), g = function(t) {
function n(n, r) {
var o = t.call(this, n, r) || this;
return o.sparta = m.SpartaContext.getFromComponent(o), o.onReportClick = function() {
l.PlatoonReportPopup.openPopup({
guid: o.props.guid,
onConfirm: function(t) {
c.platoonsStores.platoons.reportPlatoon(o.props.guid, t).onSuccess(function() {
d.trackPlatoonReported(t), o.setState({
reported: !0
});
}).onError(function(t) {
o.sparta.twinkle.frostbite.sendMessage("sparta.showToastNotification", {
title: __("ID_SHARED_PLATOONS_REPORT_ERROR").toUpperCase(),
message: t.localizedMessage,
imageRef: e("Info"),
durationMs: 3e3
});
});
}
});
}, o.state = {
reported: !1
}, o;
}
return r.__extends(n, t), n.prototype.componentWillUnmount = function() {
this.setState({
reported: !1
});
}, n.prototype.render = function() {
var e = this.state.reported ? __("ID_SHARED_PLATOONS_REPORTED") : __("ID_SHARED_PLATOONS_REPORT");
return o.createElement("surface", null, o.createElement(a.Text, {
value: __("ID_SHARED_PLATOONS_REPORT_DESCRIPTION"),
size: "S",
style: h.description
}), o.createElement(s.Button, {
name: "BUTTON_PLATOONS_REPORT",
text: e,
style: h.button,
disabled: this.state.reported,
action: this.onReportClick
}));
}, n.contextTypes = m.SpartaContext.contextTypes, n = r.__decorate([ i.observer ], n);
}(o.Component);
t.PlatoonReport = g;
}).call(this, n(2), n(101));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(25), a = n(4), s = n(69), u = n(38), l = n(6), c = n(28), p = n(231), d = n(29), f = n(113), m = {
container: {
width: o.getWidth(8),
alignItems: "center"
},
label: {
marginBottom: 4 * o.GUTTER
},
row: {
width: o.getWidth(8),
marginBottom: 4 * o.GUTTER
},
btnRow: {
width: o.getWidth(7),
flexDirection: "row",
justifyContent: "space-around"
},
btn: {
width: o.getWidth(3),
marginRight: 2 * o.GUTTER
}
}, h = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.reportReasons = [ {
key: "emblem",
label: __("ID_SHARED_PLATOONS_EMBLEM"),
editor: function(e) {
return e.emblem;
}
}, {
key: "name",
label: __("ID_SHARED_PLATOONS_NAME"),
editor: function(e) {
return e.name;
}
}, {
key: "tag",
label: __("ID_SHARED_PLATOONS_TAG"),
editor: function(e) {
return e.tag;
}
}, {
key: "description",
label: __("ID_SHARED_PLATOONS_DESCRIPTION"),
editor: function(e) {
return e.description;
}
} ], n.onConfirmClick = function() {
n.props.onConfirm(n.state.reason), n.closePopup();
}, n.closePopup = function() {
n.props.popupInfo && i.close(n.props.popupInfo.id);
}, n.state = {}, n;
}
var h;
return e.__extends(n, t), h = n, n.openPopup = function(t) {
i.display(new u.Popup({
id: "platoonRolePopup",
group: "platoons",
content: r.createElement(h, e.__assign({}, t)),
requireOnline: !0,
createButtons: !1
}));
}, n.prototype.renderReasonLabel = function(t, n, i, a) {
void 0 === n && (n = "");
var s = a ? {
marginLeft: o.GUTTER / 2,
width: o.getWidth(6),
textAlignForRTL: "left"
} : {
paddingRight: o.GUTTER / 2
}, u = a ? {
marginBottom: o.GUTTER * (2 / 3)
} : {}, c = __("ID_SPARTA_PLATOONS_REPORT_LAST_EDITED_BY").replace("[[name]]", n);
return r.createElement("surface", {
key: "label",
style: {
zOffset: 4
}
}, r.createElement(l.Text, {
value: t,
color: i,
style: s
}), r.createElement(l.Text, {
value: c,
size: "XS",
color: i,
style: e.__assign({}, s, u)
}));
}, n.prototype.render = function() {
var e = this, t = s.platoonsStores.editors.get(this.props.guid), n = t.value;
if (!t.isReady || !n) return r.createElement(d.Spinner, {
large: !0
});
var o = this.reportReasons.map(function(t) {
return {
label: function(r, o) {
return e.renderReasonLabel(t.label, t.editor(n).displayName, r, o);
},
subLabel: r.createElement(p.Checkmark, {
value: e.state.reason === t.key
}),
inputLabel: __("ID_SPARTA_ACTION_SELECT"),
isActive: e.state.reason === t.key,
onTrigger: function() {
e.setState({
reason: t.key
});
}
};
});
return r.createElement("surface", {
style: m.container
}, r.createElement(l.Text, {
style: m.label,
value: __("ID_SHARED_PLATOONS_REPORT_SELECT_CONTENT").toUpperCase()
}), r.createElement(f.List, {
style: m.row,
items: o,
divider: "item",
showActiveIndicator: !0
}), r.createElement("surface", {
style: m.btnRow
}, r.createElement(c.Button, {
name: "BUTTON_PLATOONS_POPUP_REPORT",
text: __("ID_SHARED_PLATOONS_REPORT"),
style: m.btn,
action: this.onConfirmClick,
disabled: !this.state.reason
}), r.createElement(c.Button, {
name: "BUTTON_PLATOONS_POPUP_REPORT_CANCEL",
text: __("ID_SPARTA_ACTION_CANCEL"),
style: m.btn,
action: this.closePopup
})));
}, n = h = e.__decorate([ a.observer ], n);
}(r.Component);
t.PlatoonReportPopup = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(18), a = n(4), s = n(69), u = n(39), l = n(29), c = n(72), p = n(28), d = n(313), f = n(37), m = n(203), h = n(10), g = n(266), y = n(429), S = n(319), v = n(7), _ = {
btnContainer: {
width: o.getWidth(13),
flexDirection: "row",
justifyContent: "space-around"
},
btn: {
width: o.getWidth(6)
}
};
var b = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = v.SpartaContext.getFromComponent(r), r.goToRspStore = function() {
var e = g.getPlatoonSupportedGames(r.sparta.stores.gameStore);
if (1 !== e.length) throw new Error("Platoons only supports 1 game at a time");
var t = e[0].startRoute + "/store/list?tab=rent";
i.gotoLocation(t);
}, r.goToYourServers = function() {
var e = h.gameStore.getGame(r.props.game);
i.gotoLocation(e ? e.serverConfig.serverListRoute + "?tab=rented" : "");
}, r.state = {
ownServers: void 0
}, r;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
(function t(e) {
return new Promise(function(t) {
var n = y.rentedServerStore.getRentedByGame(e);
n ? t(n) : S.ListRSPClient.triggerAsPromise(e).then(function() {
var n = y.rentedServerStore.getRentedByGame(e) || [];
t(n);
});
});
})(this.props.game).then(function(t) {
e.setState({
ownServers: t
});
});
}, n.prototype.renderLoading = function() {
return r.createElement(u.EmptyState, null, r.createElement(l.Spinner, {
large: !0
}));
}, n.prototype.renderNoServers = function(e) {
var t = [];
return e && m.hasPermission(e.role, m.Permission.LINK_RENTED_SERVER) && (this.state.ownServers && this.state.ownServers.length > 0 && t.push(r.createElement(p.Button, {
name: "34476bc5:92:31",
key: "own",
text: __("ID_SPARTA_COMMERCE_RSP_VIEW_YOUR_SERVERS_BUTTON").toUpperCase(),
action: this.goToYourServers,
style: _.btn
})), t.push(r.createElement(p.Button, {
name: "BUTTON_PLATOONS_RSP_RENT",
key: "rent",
text: __("ID_SPARTA_ACTION_RSP").toUpperCase(),
action: this.goToRspStore,
style: _.btn
}))), r.createElement(u.EmptyState, {
centerVertically: !0,
text: __("ID_SHARED_PLATOONS_RENTED_SERVERS_NONE_TITLE").toUpperCase(),
subText: __("ID_SHARED_PLATOONS_RENTED_SERVERS_NONE_DESC")
}, r.createElement("surface", {
style: _.btnContainer
}, t));
}, n.prototype.render = function() {
var e, t = this.props, n = t.platoon, i = t.game, a = s.platoonsStores.rentedservers.get(i, n.guid), u = a.value;
return a.isReady ? u && u.length > 0 ? (e = u.map(function(e, t) {
var o = e.server, i = e.platoon.displayMembers;
return r.createElement(d.PlatoonServerCard, {
key: o.guid,
server: o,
platoon: n,
playingMembers: i,
size: i.length ? f.CardSize.SSL : f.CardSize.SSM,
joinText: __("ID_SPARTA_ACTION_SERVER_JOIN"),
allowJoin: !0
});
}), r.createElement(c.CardCarousel, {
id: "34476bc5:169:31",
width: o.getWidth(24)
}, e)) : this.renderNoServers(this.props.membership) : this.renderLoading();
}, n.contextTypes = v.SpartaContext.contextTypes, n = e.__decorate([ a.observer ], n);
}(r.Component);
t.PlatoonRentedServers = b;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(18), i = n(3), a = n(4), s = n(72), u = n(591), l = n(69), c = n(80), p = n(32), d = n(6), f = n(313), m = n(39), h = n(29), g = n(28), y = n(266), S = n(251), v = n(7), _ = n(47), b = n(590), T = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = v.SpartaContext.getFromComponent(e), e.expireFragments = function() {
var t = e.getFragments(), n = t.membershipsFragment, r = t.activePlatoonFragment, o = t.platoonsFragment;
n.expire(), r.expire(), o.expire();
}, e.viewPlatoon = function(t) {
o.gotoLocation(e.sparta.stores.locationStore.location.path + "/view?guid=" + t);
}, e.goToFindPlatoon = function() {
o.gotoLocation("platoons/find");
}, e.goToCreatePlatoon = function() {
o.gotoLocation(e.sparta.stores.locationStore.location.path + "/create");
}, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.killswitchReaction = i.reaction(function() {
var t = e.sparta.stores.gatewayState, n = t.session ? t.session.personaId : "", r = l.platoonsStores.activePlatoons.getActivePlatoon(n);
return r && r.failstate && r.failstate.code;
}, function(t) {
t !== S.GatewayErrorCodes.KILLSWITCH_SERVICE_DISABLED && t !== S.GatewayErrorCodes.KILLSWITCH_SERVICE_RATE_LIMITED || e.handleKillswitchEnabled();
});
}, n.prototype.componentWillUnmount = function() {
this.killswitchReaction();
}, n.prototype.handleKillswitchEnabled = function() {
this.killswitchReaction();
var e = this.sparta.stores.nativePropertiesStore.getHostingGame();
e && o.gotoLocation(e.startRoute), _.PopupManager.standardAlert(__("ID_SHARED_PLATOONS_ERROR_KILLSWITCH"), void 0, void 0, {
requireOnline: !0
});
}, n.prototype.getFragments = function() {
var e = this.sparta.stores.gatewayState, t = e.session ? e.session.personaId : "";
return {
membershipsFragment: l.platoonsStores.memberships.get(t),
activePlatoonFragment: l.platoonsStores.activePlatoons.getActivePlatoon(t),
platoonsFragment: l.platoonsStores.platoonsByPersonaId.get(t)
};
}, n.prototype.renderLoading = function() {
return r.createElement(m.EmptyState, {
centerVertically: !0
}, r.createElement(h.Spinner, {
large: !0
}));
}, n.prototype.renderError = function() {
return r.createElement(m.EmptyState, {
text: __("ID_SHARED_PLATOONS_LOADING_FAILED"),
centerVertically: !0,
retryAction: this.expireFragments
});
}, n.prototype.renderNoPlatoons = function() {
return r.createElement(m.EmptyState, {
centerVertically: !0,
text: __("ID_SHARED_PLATOONS_YOUR_PLATOONS_NONE_TITLE").toUpperCase(),
subText: __("ID_SHARED_PLATOONS_YOUR_PLATOONS_NONE_SUBTITLE")
}, r.createElement("surface", {
style: b.PlatoonsTemplateStyles.btnContainer
}, r.createElement(g.Button, {
name: "f895f9e8:107:31",
text: __("ID_SHARED_PLATOONS_FIND_PLATOON").toUpperCase(),
action: this.goToFindPlatoon,
style: b.PlatoonsTemplateStyles.btn
}), r.createElement(g.Button, {
name: "f895f9e8:113:31",
text: __("ID_SHARED_PLATOONS_CREATE_PLATOON").toUpperCase(),
action: this.goToCreatePlatoon,
style: b.PlatoonsTemplateStyles.btn
})));
}, n.prototype.render = function() {
var e, t, n = y.getPlatoonSupportedGameId(this.sparta.stores.gameStore), o = this.getFragments(), i = o.membershipsFragment, a = o.activePlatoonFragment, m = o.platoonsFragment, h = i.value || [], g = a.value, S = m.value;
if (i.failstate || a.failstate || m.failstate) return this.renderError();
if (!(i.isReady && a.isReady && m.isReady) || i.isLoading || m.isLoading) return this.renderLoading();
if (0 === h.length) return this.renderNoPlatoons();
var v = [], _ = [];
return h.forEach(function(e) {
var t = S && S[e.guid], o = t && t.value;
if (t && o instanceof c.Platoon) {
var i = !!g && g.guid === o.guid, a = r.createElement(u.PlatoonCard, {
key: o.guid,
isActive: i,
membership: e,
fragment: t,
size: b.PlatoonsTemplateStyles.platoonCardSize
});
i ? v.unshift(a) : v.push(a), (l.platoonsStores.servers.get(n, o.guid).value || []).forEach(function(e) {
_.push(r.createElement(f.PlatoonServerCard, {
key: e.server.guid,
server: e.server,
platoon: o,
playingMembers: e.platoon.displayMembers,
showPlatoonFlair: !0,
allowJoin: !0,
size: b.PlatoonsTemplateStyles.serverCardSize
}));
});
}
}), e = r.createElement(s.CardCarousel, {
id: "f895f9e8:203:35",
style: b.PlatoonsTemplateStyles.carousel,
width: b.PlatoonsTemplateStyles.carouselWidth
}, v), _.length > 0 && (t = r.createElement(r.Fragment, null, r.createElement(d.Text, {
value: __("ID_SHARED_PLATOONS_PLATOON_MEMBERS_PLAYING").toUpperCase(),
size: "M",
style: b.PlatoonsTemplateStyles.carouselHeader
}), r.createElement(s.CardCarousel, {
id: "f895f9e8:216:43",
style: b.PlatoonsTemplateStyles.carousel,
width: b.PlatoonsTemplateStyles.carouselWidth
}, _))), r.createElement(p.Template, {
wideContent: !0,
tallContent: !0,
scrollContent: this.sparta.twinkle.buildInfo.isConsole,
scrollListener: !1,
noHorizontalScroll: !0
}, r.createElement("surface", {
style: b.PlatoonsTemplateStyles.template
}, e, t));
}, n.contextTypes = v.SpartaContext.contextTypes, n = e.__decorate([ a.observer ], n);
}(r.Component);
t.PlatoonsYour = T;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(26), s = n(12), u = n(11), l = n(18), c = n(8), p = n(10), d = n(72), f = n(69), m = n(591), h = n(32), g = n(6), y = n(28), S = n(37), v = n(587), _ = n(39), b = n(29), T = n(112), E = n(19), C = n(88), I = n(5), A = n(9), w = n(47), P = n(22), R = I.StaticStyle.wrapLegacyStyleSheet({
searchArea: {
flexDirection: "row",
alignItems: "center",
marginBottom: 6 * c.GUTTER
},
searchInput: {
width: c.getWidth(12)
},
searchLabel: {
marginLeft: 2 * c.GUTTER
},
results: {
height: c.getHeight(S.CARD_HEIGHT.cells.SSM)
},
msgSubtitle: {
opacity: .66,
marginTop: 2 * c.GUTTER
},
pcActions: {
flexDirection: "row"
},
btn: {
marginTop: 4 * c.GUTTER,
width: c.getWidth(5)
}
}, "2e89f6bd:34:15"), O = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.state = {
searchQuery: null
}, e.onSearchValueChanged = C.debounce(function(t) {
e.setState({
searchQuery: t
});
}, 300, !1), e.onCreate = function(t) {
e.onCreateClick(e.getCommanderCount(t));
}, e;
}
return e.__extends(n, t), n.prototype.getCommanderCount = function(e) {
var t = 0;
return e.forEach(function(e) {
e.isGeneral && t++;
}), t;
}, n.prototype.onCreateClick = function(e) {
"number" == typeof e && e >= 1 ? w.PopupManager.standardAlert(__("ID_SHARED_PLATOONS_ERROR_CREATE_LIMIT_DESC"), __("ID_SHARED_PLATOONS_ERROR_TOO_MANY_COMMANDER"), void 0, {
requireOnline: !0
}) : l.gotoLocation(p.locationStore.location.path + "/create");
}, n.prototype.getInput = function() {
if (P.focusSystem.controllerMode) return [ new s.Input({
label: __("ID_SHARED_PLATOONS_CREATE_PLATOON").toUpperCase(),
visible: !0,
key: u.Keys.Option2,
action: this.onCreateClick
}) ];
}, n.prototype.isPlatoonActive = function(e, t) {
return e === t;
}, n.prototype.renderLoading = function() {
return r.createElement(_.EmptyState, {
centerVertically: !0
}, r.createElement(b.Spinner, {
large: !0
}));
}, n.prototype.render = function() {
var e, t, n, i, a = [], s = this.state.searchQuery, u = p.gatewayState.session ? p.gatewayState.session.personaId : "", l = f.platoonsStores.activePlatoons.getActivePlatoon(u), S = l.value, _ = f.platoonsStores.memberships.get(u), b = _.value || [], C = I.DynamicStyle.create({
textAlignForRTL: "left",
marginRight: E.isRTLLanguage() ? c.getWidth(12) + 2 * c.GUTTER : 0
}, "2e89f6bd:146:33");
if ((e = s && s.length >= v.textLimits.name.min ? f.platoonsStores.findPlatoons.find(s) : f.platoonsStores.findPlatoons.findFriends()).isReady && l.isReady && _.isReady) if (o.isArrayLike(e.value) && e.value.length) a = e.value.map(function(e) {
var t = !!S && S.guid === e.guid, n = b.find(function(t) {
return t.guid === e.guid;
});
return r.createElement(m.PlatoonCard, {
platoon: e,
membership: n,
key: "result-" + e.guid,
isActive: t
});
}), t = r.createElement("surface", {
style: R.results
}, r.createElement(d.CardCarousel, {
id: "2e89f6bd:178:39",
width: c.getWidth(24)
}, a)); else if (s && s.length >= v.textLimits.name.min) {
var w = __("ID_SHARED_PLATOONS_FIND_NONE").replace("[[searchInput]]", s).toUpperCase();
t = r.createElement(g.Text, {
value: w,
style: C
});
} else t = r.createElement("surface", null, r.createElement(g.Text, {
value: __("ID_SHARED_PLATOONS_FIND_NONE_SUGGESTED").toUpperCase(),
style: C
}), r.createElement(g.Text, {
value: __("ID_SHARED_PLATOONS_FIND_NONE_SUGGESTED_DESC"),
style: I.merge2(R.msgSubtitle, C),
size: "S"
})); else t = r.createElement(g.Text, {
value: __("ID_SPARTA_PLATOONS_FIND_PLATOON_SEARCHING").toUpperCase(),
style: C
});
return A.SpartaGlobals.bundleIsPC && (n = r.createElement("surface", {
style: R.pcActions
}, r.createElement(y.Button, {
name: "BUTTON_PLATOONS_CREATE_PLATOON",
style: R.btn,
text: __("ID_SHARED_PLATOONS_CREATE_PLATOON").toUpperCase(),
action: this.onCreate.bind(this, b)
}))), s && s.length < v.textLimits.name.min && (i = r.createElement(g.Text, {
value: __("ID_SHARED_PLATOONS_FIND_PLATOON_MIN_CHARS"),
style: R.searchLabel
})), r.createElement(h.Template, {
tallContent: !0,
wideContent: !0,
scrollContent: !1
}, r.createElement("surface", {
style: R.searchArea
}, r.createElement(T.InputField, {
style: R.searchInput,
placeholder: __("ID_SPARTA_GENERIC_SEARCH"),
size: "M",
onValueChanged: this.onSearchValueChanged
}), i), r.createElement("surface", null, t), n);
}, n = e.__decorate([ a.input, i.observer ], n);
}(r.Component);
t.PlatoonsFind = O;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(18), i = n(8), a = n(25), s = n(4), u = n(96), l = n(10), c = n(69), p = n(32), d = n(28), f = n(41), m = n(36), h = n(589), g = n(586), y = n(585), S = n(229), v = n(113), _ = n(47), b = {
columns: {
flexDirection: "row"
},
colMenu: {
width: i.getWidth(6),
height: i.getHeight(72),
marginRight: i.getWidth(1),
justifyContent: "space-between"
},
rows: {
flexDirection: "column"
},
rowInput: {
width: i.getWidth(12),
marginBottom: 4 * i.GUTTER
},
inputLabel: {
marginBottom: i.GUTTER
},
inputLabelSecondary: {
marginBottom: i.GUTTER,
opacity: .66
}
}, T = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.manageInfo = r.createRef(), e.manageEmblem = r.createRef(), e.tabs = [ {
key: "info",
label: __("ID_SPARTA_PLATOONS_MANAGE_INFO"),
render: function() {
return r.createElement(g.PlatoonInfoEditor, {
ref: e.manageInfo,
value: {
name: e.state.name,
tag: e.state.tag,
description: e.state.description,
accessType: e.state.accessType
},
onChanged: e.onInfoChanged
});
}
}, {
key: "emblem",
label: __("ID_SPARTA_PLATOONS_MANAGE_EMBLEM"),
render: function() {
return r.createElement(h.PlatoonEmblemEditor, {
ref: e.manageEmblem,
value: {
emblemUrl: e.state.emblemUrl,
emblemSlot: e.state.emblemSlot,
exclusiveName: e.state.exclusiveName
},
onChanged: e.onEmblemChanged
});
}
} ], e.state = {
tag: "",
name: "",
description: "",
accessType: S.AccessType.DEFAULT,
emblemUrl: void 0,
emblemSlot: void 0,
exclusiveName: void 0
}, e.onInfoChanged = function(t) {
e.setState(Object.assign({}, e.state, t));
}, e.onEmblemChanged = function(t) {
e.setState(t);
}, e.handleCreate = function() {
var t = {
tag: e.state.tag,
name: e.state.name,
description: e.state.description,
isFreeJoin: e.state.accessType === S.AccessType.OPEN,
canApplyMembership: e.state.accessType === S.AccessType.APPLY,
emblemSlotIndex: e.state.emblemSlot,
exclusiveEmblemName: e.state.exclusiveName
};
f.loading("createPlatoonLoading", __("ID_SPARTA_PLATOONS_CREATE_PLATOON_LOADING")), 
c.platoonsStores.platoons.create(l.gatewayState.session ? l.gatewayState.session.personaId : "", t).onSuccess(function(e) {
o.gotoLocation("platoons/your"), m.trackPlatoonCreated(e.guid);
}).onError(function(t) {
m.trackPlatoonCreateFailed(t.code), y.isUserInputError(t.code) ? (e.handleInfoError(function() {
y.isNameError(t.code) && e.manageInfo.current && e.manageInfo.current.name.current ? e.manageInfo.current.name.current.showError(t.localizedMessage) : y.isTagError(t.code) && e.manageInfo.current && e.manageInfo.current.tag.current ? e.manageInfo.current.tag.current.showError(t.localizedMessage) : y.isDescriptionError(t.code) && e.manageInfo.current && e.manageInfo.current.description.current && e.manageInfo.current.description.current.showError(t.localizedMessage);
}), e.setActiveTab("info")) : _.PopupManager.standardAlert(t.localizedMessage, __("ID_SPARTA_GENERIC_ERROR"), void 0, {
requireOnline: !0
});
}).onFinished(function() {
a.close("createPlatoonLoading");
});
}, e;
}
return e.__extends(n, t), n.prototype.componentDidUpdate = function(e) {
this.infoErrorCallback && "info" === this.getActiveTab().key && (this.infoErrorCallback(), 
delete this.infoErrorCallback);
}, n.prototype.handleInfoError = function(e) {
"info" === this.getActiveTab().key ? e() : this.infoErrorCallback = e;
}, n.prototype.getActiveTab = function() {
var e = this, t = this.tabs[0];
return this.props.viewLocation.args.tab && (t = this.tabs.find(function(t) {
return t.key === e.props.viewLocation.args.tab;
}) || t), t;
}, n.prototype.setActiveTab = function(t) {
var n = l.locationStore.location;
o.updateLocation(new u.Location({
path: n.path,
args: e.__assign({}, n.args, {
tab: t
})
}));
}, n.prototype.render = function() {
var e = this, t = this.getActiveTab(), n = this.tabs.map(function(n) {
return {
label: n.label,
inputLabel: __("ID_SPARTA_ACTION_SELECT"),
isActive: t.key === n.key,
onTrigger: function() {
return e.setActiveTab(n.key);
}
};
});
return r.createElement(p.Template, {
tallContent: !0,
wideContent: !0
}, r.createElement("surface", {
style: b.columns
}, r.createElement("surface", {
style: b.colMenu
}, r.createElement(v.List, {
items: n,
divider: "item",
showActiveIndicator: !0
}), r.createElement(d.Button, {
name: "BUTTON_PLATOONS_CREATE",
text: __("ID_SHARED_PLATOONS_CREATE"),
action: this.handleCreate
})), r.createElement("surface", null, t && t.render())));
}, n = e.__decorate([ s.observer ], n);
}(r.Component);
t.PlatoonsCreate = T;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(32), a = n(6), s = n(14), u = n(21), l = {
container: {
flexDirection: "column",
alignItems: "center"
},
title: {
marginBottom: 4 * o.GUTTER
},
subtitle: {
opacity: .66,
marginBottom: 4 * o.GUTTER
},
columns: {
flex: 1,
flexDirection: "row",
justifyContent: "space-between",
marginTop: 8 * o.GUTTER
},
column: {
alignItems: "center",
margin: [ 0, 2 * o.GUTTER, 0, 2 * o.GUTTER ]
},
colImageContainer: {
flex: 1,
justifyContent: "center",
alignItems: "center"
},
colImage: {
width: 120,
height: 121,
margin: 4 * o.GUTTER,
textureMode: "contain"
},
colDesc: {
textLineSpacing: u.LINE_HEIGHTS.S,
opacity: .66,
textAlignForRTL: "left"
},
disclaimer: {
marginTop: 11 * o.GUTTER,
opacity: .66
},
disclaimerExtra: {
marginTop: 1 * o.GUTTER,
opacity: .66
}
}, c = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.columns = [ {
image: s.bbUrl("/sparta/assets/platoons/represent_platoon-2644d8aa.png"),
title: __("ID_SPARTA_PLATOONS_ABOUT_REPRESENT_TITLE"),
desc: __("ID_SPARTA_PLATOONS_ABOUT_REPRESENT_DESC")
}, {
image: s.bbUrl("/sparta/assets/platoons/play_friends_platoon-6f7ae4be.png"),
title: __("ID_SPARTA_PLATOONS_ABOUT_PLAY_TITLE"),
desc: __("ID_SPARTA_PLATOONS_ABOUT_PLAY_DESC")
}, {
image: s.bbUrl("/sparta/assets/platoons/servers_platoon-274944e7.png"),
title: __("ID_SPARTA_PLATOONS_ABOUT_RSP_TITLE"),
desc: __("ID_SPARTA_PLATOONS_ABOUT_RSP_DESC")
}, {
image: s.bbUrl("/sparta/assets/platoons/manage_platoon-1c908b7f.png"),
title: __("ID_SPARTA_PLATOONS_ABOUT_MANAGE_TITLE"),
desc: __("ID_SPARTA_PLATOONS_ABOUT_MANAGE_DESC")
} ], e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = 22 / this.columns.length, t = [ l.colImageContainer, {
width: o.getWidth(e)
} ], n = this.columns.map(function(n, i) {
return n ? r.createElement(o.Col, {
key: "col-" + i,
width: e,
style: l.column
}, r.createElement(a.Text, {
value: n.title.toUpperCase(),
size: "M"
}), r.createElement("surface", {
style: t
}, r.createElement("surface", {
style: [ l.colImage, {
texture: n.image
} ]
})), r.createElement(a.Text, {
value: n.desc,
size: "S",
style: l.colDesc
})) : null;
});
return r.createElement(i.Template, {
tallContent: !0
}, r.createElement("surface", {
style: l.container
}, r.createElement(a.Text, {
value: __("ID_SPARTA_PLATOONS_ABOUT_TITLE").toUpperCase(),
size: "L",
style: l.title
}), r.createElement(a.Text, {
value: __("ID_SPARTA_PLATOONS_ABOUT_SUBTITLE").toUpperCase(),
size: "S",
style: l.subtitle
}), r.createElement("surface", {
style: l.columns
}, n), r.createElement(a.Text, {
value: __("ID_SPARTA_PLATOONS_ABOUT_DISCLAIMER").toUpperCase(),
size: "XS",
style: l.disclaimer
}), r.createElement(a.Text, {
value: __("ID_SPARTA_PLATOONS_ABOUT_DISCLAIMER_EXTRA").toUpperCase(),
size: "XS",
style: l.disclaimerExtra
})));
}, n;
}(r.Component);
t.PlatoonsAbout = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1241), o = n(74), i = n(112), a = n(200), s = n(222), u = n(22), l = n(59), c = n(52), p = n(27), d = n(199), f = n(3), m = n(43), h = n(180), g = n(91);
function y(e, t) {
e.send(500, JSON.stringify({
message: t
}));
}
t.initialize = function S(e) {
var t = new r.FocusTask(), n = e.twinkle.debugHttp, S = e.stores, v = S.hostingGameStore, _ = S.careerStore, b = S.settingsStore, T = S.gameStateStoreLoader, E = S.layoutStateStore, C = S.onlineState, I = S.serversStore;
n.onGet("/ping", function(e, t) {
setTimeout(function() {
t.send(200, "pong");
}, 3e3);
}), n.onGet("/debug-names", function(e, t) {
var n = u.focusSystem.items.filter(function(e) {
return e.isValidForFocus();
}).map(function(e) {
return e.id;
});
t.send(200, JSON.stringify({
debugNames: n
}));
}), n.onGet("/user-profile", function(e, t) {
var n = setTimeout(function() {
return t.send(408, JSON.stringify({
message: "user-profile has timed out, after 5 seconds"
}));
}, 5e3), r = l.frostbite.registerMessageListener("sparta.getUserProfilesResp", function(e, o) {
if (clearTimeout(n), r(), o.success) {
var i = o.userProfiles;
1 === i.length && (i = i[0]), t.send(200, JSON.stringify(i));
} else t.send(400, "Bad Request");
}), o = l.frostbite.registerMessageListener("sparta.getLocalUserResp", function(e, t) {
o(), l.frostbite.sendMessage("sparta.getUserProfiles", {
users: [ Object.assign({}, t.spartaUserId) ],
profileImageSize: "medium"
});
});
l.frostbite.sendMessage("sparta.getLocalUser");
}), n.onGet("/current-user", function(e, t) {
var n = C.sessionUser;
n ? t.send(200, JSON.stringify({
username: n.name,
displayName: n.displayName,
nucleusId: n.spartaUserId.nucleusId,
personaId: n.spartaUserId.personaId
})) : t.send(404, JSON.stringify({}));
});
var A = new a.StorageClient(), w = [ s.LegalStorageKeys.Legal, s.LegalStorageKeys.LegalCompanion ];
n.onGet("/legal", function(e, t) {
var n = e.query.toObject();
if (n.type) {
var r = !1;
if (!n.action || "update" !== n.action || (r = !0, n.accepted)) if (-1 !== w.indexOf(n.type)) {
var o = setTimeout(function() {
return t.send(408, JSON.stringify({
message: "getLocalUserGamerTag has timed out, after 5 seconds"
}));
}, 5e3);
s.getLocalUserGameInfo().then(function(e) {
A.get(n.type, function(i) {
void 0 === i && (i = {}), clearTimeout(o);
var a = e.gamerTag;
if (r && (i[a] = "1" === n.accepted || "true" === n.accepted, A.save(n.type, i)), 
n.all_users) return t.send(200, JSON.stringify(i));
t.send(200, JSON.stringify({
gamerTag: a,
accepted: i[a]
}));
});
}).catch(function(e) {
t.send(500, JSON.stringify({
message: e.toString()
}));
});
} else t.send(400, JSON.stringify({
message: "Invalid type value. Use any of " + w.join(", ")
})); else t.send(400, JSON.stringify({
message: "Missing query parameter for update. Use 'accepted'"
}));
} else t.send(400, JSON.stringify({
message: "Missing query parameter. Use 'type'"
}));
}), n.onGet("/focus", function(e, n) {
var r = e.query.toObject();
if (r && (r.text || r.debugName)) {
var o = t.focus(r);
o ? n.send(404, JSON.stringify({
message: o.message
})) : n.send(200, JSON.stringify({
focused: !0
}));
} else n.send(400, JSON.stringify({
message: "Missing query parameter. Use 'text' or 'debugName'"
}));
}), n.onGet("/mouse-click", function(e, n) {
var r = t.triggerClick();
r ? n.send(404, JSON.stringify({
message: r.message
})) : n.send(200, JSON.stringify({
clicked: !0
}));
}), n.onGet("/mouse/event", function(e, t) {
var n = e.query.toObject();
if (!e.query.hasValues()) return y(t, "Missing query parameters");
var r = function o(e) {
switch (e) {
case "down":
return p.MouseEventType.onMouseDown;

case "up":
return p.MouseEventType.onMouseUp;

case "click":
return p.MouseEventType.onClick;

case "doubleClick":
return p.MouseEventType.onDoubleClick;

case "scroll":
return p.MouseEventType.onMouseScroll;

case "enter":
return p.MouseEventType.onMouseEnter;

case "leave":
return p.MouseEventType.onMouseLeave;

default:
return;
}
}(n.event), i = function a(e) {
switch (e) {
case "primary":
return p.MouseButton.Primary;

case "secondary":
return p.MouseButton.Secondary;

case "wheel":
return p.MouseButton.Wheel;

case "back":
return p.MouseButton.Back;

default:
return;
}
}(n.button);
if (void 0 === r) return y(t, "Invalid event");
if (void 0 === i) return y(t, "Invalid button");
var s = u.focusSystem.focusedItem;
s && s.isActive ? (s.handleClick({
surfaces: [],
event: r,
button: i,
scroll: 0,
stopPropagation: function() {}
}), t.send(200, JSON.stringify({
clicked: !0
}))) : y(t, "Missing focused FocusItem");
}), n.onGet("/assert", function(e, t) {
var n = e.query.toObject();
n.text ? (c.nativeApi.showError(n.text), t.send(200, JSON.stringify({
message: "Assert triggered from script engine"
}))) : t.send(400, JSON.stringify({
message: "Missing query parameter 'text'"
}));
}), n.onGet("/location", function(t, n) {
var r = "", i = "";
T.get().isGameViewVisible ? (r = T.get().currentGameViewRoute, T.get().currentGameViewSubRoute !== o.GameViewSubRoute.NONE && (r = [ r, T.get().currentGameViewSubRoute ].join("/"))) : e.stores.viewState.current && e.stores.viewState.current.aggregate && (r = e.stores.viewState.current.aggregate.location.path, 
i = e.stores.viewState.current.aggregate.location.queryString), n.send(200, JSON.stringify({
path: r,
queryString: i.length > 0 ? i : void 0,
section: E.current.config.gameId,
isGameView: T.get().isGameViewVisible
}));
}), n.onGet("/inputfield", function(e, t) {
var n = e.query.toObject();
if (!n.debugName || !n.value) return t.send(400, JSON.stringify({
message: "Missing query parameter. Specify 'debugName' and 'value'"
}));
var r = i.InputField.mountedInstances.find(function(e) {
return e.getFocusItem().id === n.debugName;
});
if (!r) return t.send(400, JSON.stringify({
message: "Found no input field with debug name " + n.debugName
}));
r.replaceValue(n.value), t.send(200, JSON.stringify({
valueSet: !0
}));
}), n.onGet("/feature-flags", function(e, t) {
var n = e.query.toObject(), r = n.flagName || "";
if (n.action && "" === r) return t.send(400, JSON.stringify({
message: "I forgot something important"
}));
n.action && "add" === n.action ? f.runInAction(function() {
b.featureFlags = new Set([ r ].concat(Array.from(b.featureFlags)));
}) : n.action && "remove" === n.action && f.runInAction(function() {
b.featureFlags = new Set(Array.from(b.featureFlags).filter(function(e) {
return e !== r;
}));
}), t.send(200, JSON.stringify({
compileTime: [ "enableOnboardingVoiceOver", "showEorBattlepacks", "showMyServers", "pauseScreenQuitEnabled", "showCustomGameTag", "showRecentServersOnConsole", "eorShowAwardTrain", "battlepacks", "legalFlow", "fetchGameHints", "supportsVideoStartEvent", "useBlackFadeRenewal", "startScreenParticleEffects", "supportsJoinFriendWithReservation", "supportsOggBackgroundMusic", "supportsRSP" ],
runTime: Array.from(b.featureFlags)
}));
}), n.onGet("/next-takeover", function(t, n) {
var r = {
unique_id: "",
is_active: !1
};
if (e.stores.takeoverStore.isDisabled.get(d.TakeoverType.Popup)) return n.send(200, JSON.stringify(r));
if (v.game) {
var o = e.stores.takeoverStore.get(d.TakeoverType.Popup);
return o ? (r.is_active = !0, r.unique_id = o.id, n.send(200, JSON.stringify(r))) : n.send(200, JSON.stringify(r));
}
n.send(503, JSON.stringify({
message: "Not ready yet, please try again"
}));
}), n.onGet("/dogtags-equipped", function(e, t) {
var n = v.game;
if (n) {
var r = _.scope("gameStats");
if (r) {
var o = r.getState()[n.gameId], i = (o && o.equippedDogtags).map(function(e) {
return e.unlockId;
});
return t.send(200, JSON.stringify(i));
}
}
t.send(503, JSON.stringify({
message: "Not ready yet, please try again"
}));
}), n.onGet("/servers", function(t, n) {
var r = v.game;
if (r) {
var o = I.get(r.gameId), i = function() {
if (!o.isLoading && o.isReady) {
var r = o.value || {
servers: []
};
if (r && r.servers) {
if (t.query) {
var a = t.query.getValue("game_id");
if (a) {
var s = r.servers.filter(function(e) {
return e.gameId === a;
});
return 0 === s.length ? void n.send(400, JSON.stringify({
message: "Couldn't find a server with the given game_id"
})) : s.length > 1 ? void n.send(400, JSON.stringify({
message: "To many servers found with the given game_id"
})) : "join" === t.query.getValue("action") ? (m.joinServer(h.createJoinOptions(e.stores.partyStoreLoader, s[0], g.JoinRole.soldier)), 
void n.send(200, JSON.stringify({
message: "JoinServer sent",
server: s[0]
}))) : void n.send(200, JSON.stringify(s[0]));
}
}
n.send(200, JSON.stringify({
servers: r.servers
}));
}
} else setTimeout(i, 500);
};
i();
} else n.send(503, JSON.stringify({
message: "Not ready yet, please try again"
}));
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1242), o = n(22), i = n(42), a = n(27), s = function() {
function e() {}
return e.prototype.focus = function(e) {
var t, n = e.debugName, a = e.text, s = e.auto;
if ("function" == typeof n && (n = n()), s) {
if (o.focusSystem.recalculate(!0), !(t = o.focusSystem.focusedItem)) return new Error("Failed to automatically focus any FocusItem");
} else if (n) {
var u = r.getFocusSystemRefs(o.focusSystem);
if (n.startsWith("regexp:")) {
var l = new RegExp(n.substr("regexp:".length), "i"), c = Object.keys(u).find(function(e) {
return l.test(e);
});
if (!c) return new Error("Couldn't find focusItem with ref by regexp: '" + n + "' / " + l);
t = u[c];
} else if (!(t = u[n])) return new Error("Couldn't find focusItem with ref '" + n + "'");
} else if (a && !(t = this.findFocusByText(a))) return new Error("Couldn't find focusItem containg text '" + a + "'");
return t && t.isValidForFocus() ? (t.setFocused(i.FocusSource.Mouse), t.isFocused ? void 0 : new Error("Failed to focus focusItem with ref '" + t.id + "'")) : t ? new Error("FocusItem with ref '" + t.id + "' is not valid for focus") : new Error("Missing source to use to find focus");
}, e.prototype.triggerClick = function() {
var e = o.focusSystem.focusedItem;
return e && e.isActive ? void e.handleClick({
surfaces: [],
event: a.MouseEventType.onMouseDown,
button: a.MouseButton.Primary,
scroll: 0,
stopPropagation: function() {}
}) : new Error("Missing focused FocusItem");
}, e.prototype.findFocusByText = function(e) {
var t = [];
if (o.focusSystem.items.forEach(function(n, o) {
var i = [];
n.surfaceId && (i = r.getSurfaceTexts(n)), i.indexOf(e) > -1 && t.push(o);
}), t.length) return o.focusSystem.items[t[0]];
}, e;
}();
t.FocusTask = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(22);
function o(e) {
return e.refs ? e.refs : {};
}
t.getFocusSystemRefs = o, t.getFocusedItem = function i() {
return r.focusSystem.focusedItem;
}, t.getFocusables = function a(e) {
var t = o(r.focusSystem), n = [];
return Object.keys(t).forEach(function(r) {
e ? r.indexOf(e) > -1 && n.push(t[r]) : n.push(t[r]);
}), n;
}, t.getSurfaceTexts = function s(e) {
var t = [];
if (e) {
var n = e.getSurfaceElement();
n && function e(n) {
n.props.text && t.push(n.props.text), n.children.forEach(e);
}(n);
}
return t;
};
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(71), i = n(425), a = n(18), s = n(3), u = n(1244), l = n(31), c = n(97), p = n(1245), d = n(1289), f = n(1290), m = n(254), h = n(56), g = n(60), y = n(51), S = n(592), v = n(597), _ = n(1291), b = n(433), T = n(1292), E = n(81), C = n(1293), I = n(564), A = n(616), w = n(1395), P = n(1397), R = n(14), O = n(1398), x = n(1399), k = n(1400), L = n(1402), M = n(1406), D = n(652), N = n(1420), F = n(1431), G = n(1432), U = n(1433), B = n(1435), j = n(1436), H = n(1438), z = n(1439), V = n(1441), W = n(1445), q = n(1447), K = n(1449), X = n(1450), Y = n(1451), J = n(666), Q = n(1457), Z = n(667), $ = n(1466), ee = n(670), te = n(671), ne = n(420), re = n(459), oe = n(423), ie = n(673), ae = n(422), se = n(460), ue = n(674), le = n(614), ce = n(1483), pe = n(676), de = n(219), fe = n(581), me = n(260), he = n(437), ge = n(1491), ye = n(82), Se = n(202), ve = n(5), _e = n(1494), be = n(1495), Te = n(1496), Ee = n(1497), Ce = n(1498), Ie = n(1500), Ae = n(1501), we = n(1502), Pe = n(67), Re = n(9), Oe = n(679), xe = n(17), ke = n(1505), Le = n(158), Me = n(87), De = n(232), Ne = n(1506), Fe = n(624), Ge = n(73), Ue = n(681), Be = n(40).getBuildInfo().isCTE(), je = R.bbOfflineUrl("/sparta/assets/tunguska/splash/splash-bf1-xp2-launch-fc2d65e0.jpg"), He = Re.SpartaGlobals.bundleIsPC ? {
startScreenImageUrl: je,
logoUrl: Be ? R.bbOfflineUrl("/sparta/assets/tunguska/cte-logo-ebebcf29.png") : R.bbOfflineUrl("/sparta/jsclient/builds/assets/logo_pc-795c9952.png"),
trialLogoUrl: R.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf1-pc-trial-e793fd34.png"),
premiumLogoUrl: Be ? R.bbOfflineUrl("/sparta/assets/tunguska/cte-logo-ebebcf29.png") : R.bbOfflineUrl("/sparta/assets/layout/logos/logo-premium-pc-47319a70.png")
} : {
startScreenImageUrl: je,
logoUrl: R.bbOfflineUrl("/sparta/jsclient/builds/assets/logo_console-55b4af21.png"),
trialLogoUrl: R.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf1-console-trial-f22e507b.png"),
premiumLogoUrl: R.bbOfflineUrl("/sparta/assets/layout/logos/logo-premium-console-790d55d3.png")
}, ze = R.bbOfflineUrl("/sparta/jsclient/builds/assets/bf1-soldier-temp-b116e195.png"), Ve = {
Assault: R.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/assault-3f255430.png"),
Cavalry: R.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/cavalry-14c9646a.png"),
Medic: R.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/medic-8cfde563.png"),
Pilot: R.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/pilot-10ec93d7.png"),
Scout: R.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/scout-f24eac95.png"),
Support: R.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/support-d67fce25.png"),
Tanker: R.bbOfflineUrl("/sparta/assets/tunguska/career/soldiers/tanker-192d58c0.png")
}, We = {
campaignCard1: R.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard1-c9545305.dds"),
campaignCard2: R.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard2-3a970b08.dds"),
campaignCard3: R.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard3-48fc5e17.dds")
}, qe = [ {
bg: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Total_War_Background-dd1939bb.dds"),
overlay: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Total_War_Foreground-d2a506be.dds"),
skyColor: "#6f7170",
hasParticleEffects: !0
}, {
bg: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Desert_Background-99209429.dds"),
overlay: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Desert_Foreground-97ddaa52.dds"),
skyColor: "#4b565c",
hasParticleEffects: !0
}, {
bg: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Fao_Background-7666b0fa.dds"),
overlay: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Fao_Foreground-b0a024c0.dds"),
skyColor: "#ab8987",
hasParticleEffects: !0
}, {
bg: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Scar_Background-147f4b7f.dds"),
overlay: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Scar_Foreground-a3168140.dds"),
skyColor: "#80879b",
hasParticleEffects: !0
}, {
bg: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Prologue_Background-961f00dd.dds"),
overlay: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Prologue_Foreground-1a76134c.dds"),
skyColor: "#71858f",
hasParticleEffects: !0
}, {
bg: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Gallipoli_Background-3ee0d80c.dds"),
overlay: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Gallipoli_Foreground-69952bcf.dds"),
skyColor: "#688299",
hasParticleEffects: !0
}, {
bg: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Verdun_BG-83f8a7f4.dds"),
overlay: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Verdun_FG-760a75cf.dds"),
skyColor: "#958d91",
hasParticleEffects: !0
}, {
bg: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Underworld_BG-e41373a9.dds"),
overlay: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Underworld_FG-bb48d9b5.dds"),
skyColor: "#41596c",
hasParticleEffects: !1
} ], Ke = [ {
video: "fb://Sparta/UI/Movies/MP_Ridge_BGLoop",
firstFrame: R.bbOfflineUrl("/sparta/assets/tunguska/backgrounds/MP_Ridge_BGLoop-22333a03.jpg"),
skyColor: "#958d91",
tint: "#00000033"
}, {
video: "fb://Sparta/UI/Movies/MP_Beachhead_BGLoop",
firstFrame: R.bbOfflineUrl("/sparta/assets/tunguska/backgrounds/MP_Beachhead_BGLoop-4f04c02e.jpg"),
skyColor: "#958d91",
tint: "#00000033"
}, {
video: "fb://Sparta/UI/Movies/MP_Harbor_BGLoop",
firstFrame: R.bbOfflineUrl("/sparta/assets/tunguska/backgrounds/MP_Harbor_BGLoop-70b9c5f4.jpg"),
skyColor: "#958d91",
tint: "#00000033"
}, {
video: "fb://Sparta/UI/Movies/MP_Naval_BGLoop",
firstFrame: R.bbOfflineUrl("/sparta/assets/tunguska/backgrounds/MP_Naval_BGLoop-dd6e9a89.jpg"),
skyColor: "#958d91",
tint: "#00000033"
} ], Xe = Ke[Math.floor(Math.random() * Ke.length)];
function Ye() {
return qe[Math.floor(Math.random() * qe.length)];
}
t.getRandomTunguskaBackground = Ye;
var Je = Ye(), Qe = function(e) {
var t = "", n = "";
switch (e) {
case "sh_assault":
t = __("ID_SPARTA_COMMERCE_SHORTCUT_ASSAULT"), n = R.bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-assault-light-9a9ad58d.png");
break;

case "sh_medic":
t = __("ID_SPARTA_COMMERCE_SHORTCUT_MEDIC"), n = R.bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-medic-light-cb4ac00e.png");
break;

case "sh_scout":
t = __("ID_SPARTA_COMMERCE_SHORTCUT_SCOUT"), n = R.bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-scout-light-288bc674.png");
break;

case "sh_support":
t = __("ID_SPARTA_COMMERCE_SHORTCUT_SUPPORT"), n = R.bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-support-light-107891af.png");
break;

case "sh_player":
t = __("ID_SPARTA_COMMERCE_SHORTCUT_INFANTRY"), n = R.bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-infantry-light-a2d6c325.png");
break;

case "sh_vehicle":
t = __("ID_SPARTA_COMMERCE_SHORTCUT_VEHICLE"), n = R.bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-vehicle-light-92d3285c.png");
break;

case "sh_ultimate":
t = __("ID_SPARTA_COMMERCE_SHORTCUT_ULTIMATE"), n = R.bbOfflineUrl("/sparta/assets/tunguska/shortcutkits/shortcut-kit-ultimate-light-8131a325.png");
}
return {
scName: t,
scIcon: n
};
}, Ze = ve.StaticStyle.wrapLegacyStyleSheet({
completedText: {
color: "#ff9900"
},
customLabel: {
color: me.customTextColor
}
}, "2efbdb53:292:15");
function $e(e) {
return new m.CareerConfig({
items: function t(e) {
var t = e.wrapEntryPoint.bind(e, Le.TunguskaContext);
return [ {
getTitle: function() {
return __("ID_SPARTA_CUSTOMIZE_SOLDIER");
},
label: function() {
return __("ID_SPARTA_CUSTOMIZE_SOLDIER");
},
route: "loadout",
onTrigger: function() {
return y.showLoadout();
},
isNative: !0,
requiresInstallation: !0,
featureFlag: ye.tunguskaFeatureFlags.tunguskaCustomizeFrontend
}, {
getTitle: function() {
return __("ID_SPARTA_CAREER_BATTLEPACKS");
},
label: function() {
return __("ID_SPARTA_CAREER_BATTLEPACKS");
},
route: "battlepacks",
requiresHostingGame: !0,
onTrigger: function() {
return a.gotoLocation("tunguska/more/battlepacks");
}
}, {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_MISSIONS");
},
label: function() {
return __("ID_SPARTA_MENU_TITLE_MISSIONS");
},
route: "missions",
view: t(z.TunguskaMissions),
onTrigger: function() {
return a.gotoLocation("tunguska/soldier/missions");
}
}, {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_SERVICE_ASSIGNMENTS");
},
label: function() {
return __("ID_SPARTA_MENU_TITLE_SERVICE_ASSIGNMENTS");
},
route: "assignments",
view: t(V.TunguskaAssignmentsList),
onTrigger: function() {
return a.gotoLocation("tunguska/soldier/assignments");
},
featureFlag: ye.tunguskaFeatureFlags.tunguskaAssignments,
completion: "ASSIGNMENTS"
}, {
getTitle: function() {
return __("ID_SHARED_PLATOON");
},
label: function() {
return __("ID_SHARED_PLATOON");
},
route: "platoons",
view: fe.PlatoonsView,
requiresHostingGame: !0
}, {
getTitle: function() {
return __("ID_SPARTA_CAREER_WEAPONS_AND_GADGETS");
},
label: function() {
return __("ID_SPARTA_CAREER_WEAPONS_AND_GADGETS");
},
route: "kits",
view: $.CareerWeaponsGadgets,
onTrigger: function() {
return a.gotoLocation("tunguska/soldier/kits");
},
completion: [ "WEAPONS", "GADGETS" ]
}, {
getTitle: function() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
label: function() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
route: "vehicles",
view: te.CareerVehicles,
onTrigger: function() {
return a.gotoLocation("tunguska/soldier/vehicles");
}
}, {
getTitle: function() {
return __("ID_SPARTA_CAREER_AWARDS");
},
label: function() {
return __("ID_SPARTA_CAREER_AWARDS");
},
route: "medals",
view: ee.CareerMedals,
onTrigger: function() {
return a.gotoLocation("tunguska/soldier/medals");
},
completion: "MEDALS"
}, {
getTitle: function() {
return __("ID_SPARTA_CAREER_RIBBONS");
},
label: function() {
return __("ID_SPARTA_CAREER_RIBBONS");
},
route: "ribbons",
view: Q.CareerRibbons,
onTrigger: function() {
return a.gotoLocation("tunguska/soldier/ribbons");
},
completion: "RIBBONS"
}, {
getTitle: function() {
return __("ID_SPARTA_CAREER_CODEX");
},
label: function() {
return __("ID_SPARTA_CAREER_CODEX");
},
route: "codex",
view: t(W.TunguskaCareerCodex),
onTrigger: function() {
return a.gotoLocation("tunguska/soldier/codex");
},
completion: "CODEX"
}, {
getTitle: function() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
label: function() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
route: "dogtags",
view: Z.CareerDogtags,
onTrigger: function() {
return a.gotoLocation("tunguska/soldier/dogtags");
},
completion: "DOG TAGS"
} ];
}(e),
tallCardImage: R.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF1-7f45c883.png"),
getImagesByKit: A.getImagesByKit,
shouldDisplayMedalProgression: !1,
currentMedals: {
getCategoryName: function() {
return __("ID_SPARTA_CAREER_WEEKLY_MEDALS");
},
daysToReset: 7,
infoComponent: le.TunguskaCurrentMedalInfo
}
});
}
var et = {
home: [ {
text: function() {
return __(Be ? "ID_SPARTA_TUNGUSKA_CTE_WELCOME" : "ID_SPARTA_TUNGUSKA_WELCOME").toUpperCase() + "...";
},
delay: 8e3
}, {
text: function() {
return __("ID_SPARTA_START_ONBOARDING_PERSONALIZING").toUpperCase();
},
delay: 4e3
} ],
crosslaunch_sp: [ {
text: function() {
return __("ID_SPARTA_TUNGUSKA_WELCOME").toUpperCase() + "...";
},
delay: 6e3
}, {
text: function() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_CAMPAIGN");
},
delay: 6e3
} ],
crosslaunch_mp: [ {
text: function() {
return __("ID_SPARTA_TUNGUSKA_WELCOME").toUpperCase() + "...";
},
delay: 6e3
}, {
text: function() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_MULTIPLAYER_SERVER");
},
delay: 6e3
} ],
crosslaunch_mp_friend: [ {
text: function() {
return __("ID_SPARTA_TUNGUSKA_WELCOME").toUpperCase() + "...";
},
delay: 6e3
}, {
text: function() {
return __("ID_SPARTA_ONBOARDING_CROSSLAUNCH_MULTIPLAYER_FRIEND");
},
delay: 6e3
} ]
}, tt = function(t) {
function n(e) {
var n = t.call(this) || this;
return n.sparta = e, n.gameId = l.tunguskaGameId, n.productGuid = "{D4C9BAB0-CE51-4416-B51A-E0EF7154B8F4}", 
n.branchNameTest = "tunguska", n.crossLaunchIds = {
xboxOneId: "ms-xbl-52A4C121://crossLaunch",
ps4Ids: {
NA: "CUSA02429",
EU: "CUSA02387",
JP: "CUSA02400"
},
pcIds: {
masterTitleId: "190132",
multiplayerId: "1026023"
}
}, n.gameStateStore = new he.TunguskaGameStateStore(n.sparta.stores.spartaActivatedStore, n.sparta.stores.onlineState), 
n.cloudTransition = new De.TunguskaCloudTransition(n.sparta.stores.inputStore, n.sparta.stores.comCenterState, n.sparta.backgroundContainer), 
n.loadingState = new Fe.LoadingState(n.sparta.stores.gameStateStoreLoader, n.sparta.stores.nativePropertiesStore, n.sparta.stores.gameDataStore, n.sparta.stores.spartaActivatedStore, n.sparta.stores.matchmakingManager, n.cloudTransition), 
n.gameViewBackgroundState = new Ne.TunguskaGameViewBackgroundState(n.sparta.stores.gameStateStoreLoader, n.loadingState), 
n.onboardingMessages = et, n.platoons = {}, n.startRoute = "tunguska", n.locales = u.supportedLocales, 
n.logoConfig = {
logoUrl: He.logoUrl,
trialLogoUrl: He.trialLogoUrl,
logo: P.renderTunguskaLogo,
enableRankBadge: !0
}, n.premiumConfig = new m.PremiumConfig({
premiumLogoUrl: He.premiumLogoUrl,
premiumIconUrl: R.bbOfflineUrl("/sparta/assets/ui/icons/ui/icon_premium-186e97c5.jpg"),
acceptsPremiumTrial: !0,
acceptsPremiumFriends: !0,
enablePremiumTreatment: !0
}), n.careerConfig = $e(n), n.storeConfig = {
route: l.tunguskaGameId + "/store/list",
image: R.bbOfflineUrl("/sparta/jsclient/builds/assets/bf1-e55ecb60.png"),
getTabs: function() {
var e = [];
return n.sparta.stores.entitlementStore.ownsGame(l.tunguskaGameId) ? (e = [ "deluxe", "battlepacks", "shortcuts", "expansions", "premium" ], 
ye.tunguskaFeatureFlags.tunguskaRSP.isEnabled() && e.push("rent")) : e = [ "game" ], 
Se.commerceFeatureFlags.subscriberAccess.isEnabledFor(l.tunguskaGameId) && e.push("access"), 
Pe.routeIsHostingGame.get() || (e = e.filter(function(e) {
return "battlepacks" !== e && "shortcuts" !== e && "rent" !== e;
})), e;
},
showShortcutKitReceipt: !0,
canFetchOffers: !0,
getShortcutKitInfo: Qe,
battlepacksRoute: "tunguska/more/battlepacks",
viewComponents: {
battlepacks: _e.TunguskaBattlepackStore
}
}, n.matchmakingConfig = {
matchmakingSessionFactory: new Oe.LegacyMatchmakingSessionFactory(n.sparta)
}, n.serverConfig = new m.ServerConfig({
serverListRoute: "tunguska/mp/servers",
serverDetailsRoute: "tunguska/mp/servers/details",
serverListDefaultFilter: {
slots: {
oneToFive: "on",
sixToTen: "on"
},
regions: {}
},
supportedRoles: [ "soldier", "spectator" ],
supportedServerTypes: [ "PRIVATE" ],
hasSpectatorFeatureFlag: !0,
spectatorFeatureFlag: Be ? ye.tunguskaFeatureFlags.tunguskaCTESpectator : void 0
}), n.legalConfigStore = new w.TunguskaLegalConfigStore(), n.joinConfig = new m.JoinConfig({
gameViewComponent: n.wrapEntryPoint(Le.TunguskaContext, C.TunguskaGameView),
gameJoinNoticeComponent: n.wrapEntryPoint(Le.TunguskaContext, Ue.GameJoinNotice)
}), n.quickmatchConfig = new m.QuickmatchConfig({
optionFilter: function(e, t) {
return e.filter(function(e) {
return "ANY_MAP" !== e.id || "gameMode" !== t || (n.sparta.stores.entitlementStore.hasPremiumAccess("tunguska") || n.sparta.stores.freemiumStore.canJoinWithFreemium);
});
}
}), n.loadoutConfig = {
purchaseItemByGuid: function(e) {
return v.purchaseItemByGuid.request({
game: l.tunguskaGameId,
guid: e
});
},
getItemsGating: function() {
return b.itemsGatingStore.get("tunguska");
}
}, n.dogtagsConfig = {
getLeft: function() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_FRONT");
},
getRight: function() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_BACK");
},
size: "square",
type: "flipping"
}, n.rspConfig = new m.RSPGameConfig({
isEnabled: function() {
return ye.tunguskaFeatureFlags.tunguskaRSP.isEnabled();
},
defaultGameMode: "Conquest",
defaultMap: "MP_Amiens",
excludedGameModes: [ "BT0", "BTL0" ],
requireAtLeastOneOfKits: [ "1", "2", "3", "4" ],
mutuallyExclusiveSettings: [ [ "LNL", "LL" ] ],
purchaseNewRoute: "tunguska/store/list/rsp",
renewRoute: "tunguska/mp/servers/rsp/renew",
configureRoute: "tunguska/mp/servers/rsp/configure"
}), n.startScreenImageUrl = He.startScreenImageUrl, n.boxShot = R.bbOfflineUrl("/sparta/jsclient/builds/assets/boxshot_bf1-b6b54401.png"), 
n.backgroundMusicTrack = 1, n.styles = Ze, n.theme = ce.createTunguskaTheme(n), 
n.alignBadgeInfo = m.AlignBadgeInfoPosition.bottom, n.joinNotice = {
premiumTextColor: xe.CommonStyles.color("#ffffff"),
premiumOverlayTexture: ve.StaticStyle.create({
texture: R.bbOfflineUrl("/sparta/jsclient/builds/assets/BF1-Premium-Notice-9d796ca2.png")
}, "2efbdb53:627:31"),
indicatorAnimationStyle: ve.StaticStyle.create({
spriteAnimation: {
spriteSheet: R.bbOfflineUrl("/sparta/jsclient/builds/assets/matchmaking-sprite-7c9ed045.png"),
fps: 60,
frameWidth: 421,
frameHeight: 85,
totalFrames: 56,
looping: !0
},
width: 421,
height: 85
}, "2efbdb53:630:33")
}, n.homeWidgets = [ be.BattlepacksWidget, Te.TunguskaAssignmentWidget ], n.recommendations = {
scrap_exchange: Ee.TunguskaScrapExchangeRecommendationCard,
premium: Ce.TunguskaPremiumRecommendationCard,
battlepack_update: Ae.TunguskaBattlepackRevisionRecommendationCard,
spend_warbonds: we.TunguskaSpendWarbondsRecommendationCard,
operations_campaign: Ie.TunguskaOperationsCampaignRecommendationCard
}, n.stores = new Me.TunguskaStores(e, Ge.tunguskaEndOfRoundStore), n;
}
return r.__extends(n, t), n.prototype.displayName = function() {
return __(Be ? "ID_SPARTA_TUNGUSKA_CTE_TITLE" : "ID_SPARTA_TUNGUSKA_TITLE", !0);
}, n.prototype.hasCustomizeSoldier = function() {
return ye.tunguskaFeatureFlags.tunguskaCustomizeFrontend.isEnabled();
}, n.prototype.customizeSoldierAction = function() {
ye.tunguskaFeatureFlags.tunguskaCustomizeFrontend.isEnabled() && y.showLoadout();
}, n.prototype.getSoldierImageUrl = function(e) {
var t = e.highlightsByType && e.highlightsByType.kit, n = t && t.length > 0 ? t[0] : void 0, r = n && n.kitId, o = n && n.name, i = ze;
return r && Ve[r] ? i = Ve[r] : o && Ve[o] && (i = Ve[o]), i;
}, n.prototype.validateExpansionAccessOverride = function(e, t) {
return Y.validateTunguskaExpansionAccess(e, t);
}, n.prototype.overrideTutorialFunction = function(t, n, r) {
if ("Conquest" === n.filterKey && ye.tunguskaFeatureFlags.tunguskaConquestAssaultTutorials.isEnabled()) {
var o = t.toLowerCase();
if (-1 !== l.tunguskaConquestAssaultMaps.indexOf(o)) {
var i = this.sparta.stores.localeState.displayLocale, a = {
"ar-sa": "BF1_Conquest_Assault_Tutorial_SPARTA_ARA_SA_720-0f087546.webm",
"zh-tw": "BF1_Conquest_Assault_Tutorial_SPARTA_CHT_CN_720-43ad6bb3.mkv",
"cs-cz": "BF1_Conquest_Assault_Tutorial_SPARTA_CZE_CZ_720-cdbd49ad.webm",
"en-us": "BF1_TutorialAsset_CQA_PC_ENG.720p.30fps-7a1299ba.mkv",
"fr-fr": "BF1_Conquest_Assault_Tutorial_SPARTA_FRE_FR_720-a879fd2c.mkv",
"de-de": "BF1_Conquest_Assault_Tutorial_SPARTA_GER_DE_720-390c4b92.webm",
"it-it": "BF1_Conquest_Assault_Tutorial_SPARTA_ITA_IT_720-781c4249.webm",
"ja-jp": "BF1_Conquest_Assault_Tutorial_SPARTA_JPN_JP.720p.30fps-31b37a4a.mkv",
"ko-kr": "BF1_Conquest_Assault_Tutorial_SPARTA_KOR_KR_720-5414e374.mkv",
"pl-pl": "BF1_Conquest_Assault_Tutorial_SPARTA_POL_PL_720-57cb3672.webm",
"pt-br": "BF1_Conquest_Assault_Tutorial_SPARTA_POR_BR_720-bcebe663.webm",
"ru-ru": "BF1_Conquest_Assault_Tutorial_SPARTA_RUS_RU_720-83b8ebb7.webm",
"es-es": "BF1_Conquest_Assault_Tutorial_SPARTA_SPA_ES_720-4da1b008.webm",
"es-mx": "BF1_Conquest_Assault_Tutorial_SPARTA_SPA_XM_720-ee93dcac.webm",
"tr-tr": "BF1_Conquest_Assault_Tutorial_SPARTA_TUR_TR_720-36fda319.webm"
}, s = a[i];
return s && "" !== s || (e.info("Found no valid Tutorial video for Conquest Assault and locale " + i), 
s = a["en-us"]), s = "http://eaassets-a.akamaihd.net/battlelog/battlefield-1/tutorial/" + s, 
{
identifier: n.shortFilterKey + "_assault",
videoUrl: s,
header: __("ID_SPARTA_TUNGUSKA_CONQUESTASSAULT_HEADER"),
prettyName: __("ID_SPARTA_TUNGUSKA_CONQUESTASSAULT")
};
}
}
}, n.prototype.shouldDisplayEorFeedback = function() {
return Be ? ye.tunguskaFeatureFlags.bf1CteEorFeedback.isEnabled() : ye.tunguskaFeatureFlags.tunguskaEorFeedback.isEnabled();
}, n.prototype.getCurrencyName = function() {
return __("ID_SPARTA_TUNGUSKA_WARBONDS");
}, n.prototype.showMissingExpansionsPopupOverride = function(e, t) {
return Y.showMissingTunguskaExpansionsPopup(e, t);
}, n;
}(m.Game);
t.Tunguska = tt, t.initialize = function nt(e) {
var t = new tt(e), n = l.tunguskaGameId, r = t.careerConfig;
de.registerSectionFonts("tunguska", pe.fontConfig);
var a = e.stores, u = a.gameStore, m = a.gatewayState, y = a.localeState, v = a.backgroundStore, b = a.routeStore;
m.onSessionEstablished.listen(function() {
s.when(function() {
return "tunguska" === y.section;
}, function() {
var e;
g.setFilterOptions(((e = {})[l.tunguskaGameId] = O.getServerFilters(), e));
});
}), u.registerGame(t);
var C, A, w, P, z, W = t.wrapEntryPoint.bind(t, Le.TunguskaContext);
C = Be ? new c.RouteDeclaration("mp/servers", {
requireOnline: !0,
requireMpInstalled: !0,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_MULTIPLAYER");
},
view: W(D.TunguskaServerList),
children: [ new c.RouteDeclaration("details", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_SERVER_INFO");
},
view: W(F.TunguskaServerDetails),
excludeFromHistory: !0
}) ]
}) : new c.RouteDeclaration("mp", {
requireOnline: !0,
requireMpInstalled: !0,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_MULTIPLAYER");
},
view: W(B.TunguskaMultiplayer),
children: [ new c.RouteDeclaration("servers", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_SERVER_BROWSER");
},
view: W(D.TunguskaServerList),
children: [ new c.RouteDeclaration("details", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_SERVER_INFO");
},
view: W(F.TunguskaServerDetails),
excludeFromHistory: !0
}), new c.RouteDeclaration("filter", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_FILTER");
},
view: W(N.TunguskaServerFilter),
excludeFromHistory: !0
}), new c.RouteDeclaration("rsp", {
getTitle: function() {
return __("ID_SPARTA_TAB_RENTEDSERVERS");
},
skipToFirstChild: !0,
children: [ new c.RouteDeclaration("renew", {
getTitle: function() {
return __("ID_SPARTA_ACTION_SERVER_RENEW");
},
view: W(ge.RenewExpiredServer),
args: {
gameId: n
},
excludeFromHistory: !0
}), new c.RouteDeclaration("configure", {
getTitle: function() {
return __("ID_SPARTA_ACTION_SERVER_CONFIGURE");
},
view: W(ge.ConfigureExistingServer),
args: {
gameId: n
},
excludeFromHistory: !0
}) ]
}) ]
}), new c.RouteDeclaration("quickmatch", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_QUICKMATCH");
},
view: W(q.TunguskaQuickmatch)
}), new c.RouteDeclaration("customgames", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_CUSTOM_GAMES");
},
view: W(G.TunguskaCustomGames),
children: [ new c.RouteDeclaration("filter", {
excludeFromHistory: !0,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_FILTER");
},
view: W(N.TunguskaServerFilter)
}) ]
}) ]
}), A = new c.RouteDeclaration("sp", {
requireOnline: !1,
requireMpInstalled: !1,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_CAMPAIGN");
},
view: W(X.TunguskaCampaign),
disabled: !1
}), w = new c.RouteDeclaration("soldier", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_SOLDIER");
},
args: {
gameId: n
},
view: W(J.CareerGameOverview),
children: i.generateChildrenRoutes(n, r.items),
disabled: !1
}), P = new c.RouteDeclaration("store", {
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
args: {
gameId: n
},
view: W(ue.StoreLanding),
children: [ new c.RouteDeclaration("access", {
getTitle: function() {
return __("ID_SPARTA_TAB_EA_PLAY");
},
view: oe.LearnMore,
args: {
gameId: n
},
children: [ new c.RouteDeclaration("play-first", {
getTitle: function() {
return __("ID_SPARTA_ACCESS_PLAY_FIRST_TRIAL");
},
args: {
gameId: n
},
view: ie.PlayFirst
}), new c.RouteDeclaration("common-questions", {
getTitle: function() {
return __("ID_SPARTA_ACCESS_COMMON_QUESTIONS");
},
args: {
gameId: n
},
view: re.CommonQuestions
}), new c.RouteDeclaration("join-buy", {
getTitle: function() {
return __("ID_SPARTA_ACCESS_JOIN_AND_BUY");
},
args: {
gameId: n
},
view: se.JoinBuy
}) ]
}), new c.RouteDeclaration("promotions", {
getTitle: function() {
return __("ID_SPARTA_COMMERCE_PROMOTIONS");
},
args: {
gameId: l.tunguskaGameId
},
view: W(ne.OfferDetails)
}), new c.RouteDeclaration("list", {
getTitle: function() {
return __("ID_SPARTA_TUNGUSKA_TITLE");
},
args: {
gameId: l.tunguskaGameId
},
view: ae.StoreGameOverview,
children: [ new c.RouteDeclaration("rsp", {
getTitle: function() {
return __("ID_SPARTA_COMMERCE_RSP");
},
visible: !1,
args: {
gameId: n
},
view: W(ge.PurchaseNewServer),
excludeFromHistory: !0
}), new c.RouteDeclaration("details", {
getTitle: function() {
return __("ID_SPARTA_CAREER_DETAILS");
},
args: {
gameId: l.tunguskaGameId
},
view: W(ne.OfferDetails)
}) ]
}), new c.RouteDeclaration("premiuminfo", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_PREMIUM_PASS");
},
view: W(M.TunguskaPremium),
disableBackground: !0
}) ]
});
var Y = [ new c.RouteDeclaration("battlepacks", {
requireOnline: !0,
requireMpInstalled: !0,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_BATTLEPACKS");
},
view: W(K.TunguskaBattlepacks)
}), new c.RouteDeclaration("about", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_ABOUT");
},
view: W(L.TunguskaAbout)
}), new c.RouteDeclaration("companion", {
requireOnline: !0,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_COMPANION");
},
view: W(k.TunguskaCompanion)
}), new c.RouteDeclaration("ctesignup", {
requireOnline: !0,
getTitle: function() {
return __("ID_SPARTA_CARD_CTE");
},
view: W(U.TunguskaCTESignup)
}), new c.RouteDeclaration("cteicesignup", {
requireOnline: !0,
getTitle: function() {
return __("ID_SPARTA_CARD_CTE_ICE");
},
view: W(ke.TunguskaCTEICESignup),
featureFlag: ye.tunguskaFeatureFlags.tunguskaICERegister
}) ];
z = new c.RouteDeclaration("more", {
requireOnline: !1,
requireMpInstalled: !1,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_MORE");
},
view: W(x.TunguskaMore),
children: Y
}), b.addRoute(new c.RouteDeclaration("tunguska", {
requireOnline: !0,
requireMpInstalled: !0,
gameId: n,
getTitle: function() {
return __(Be ? "ID_SPARTA_TUNGUSKA_CTE_TITLE" : "ID_SPARTA_TUNGUSKA_TITLE", !0);
},
getSubtitle: function() {
return __("ID_SPARTA_MENU_TITLE_HOME");
},
view: W(j.TunguskaOverview),
offlineView: Be ? void 0 : W(H.TunguskaOverviewOffline),
logoUrl: He.logoUrl,
backgroundSize: [ 4084, 1600 ],
backgroundVideoUrl: Xe.video,
backgroundVideoFirstFrame: Xe.firstFrame,
backgroundVideoTint: Xe.tint,
backgroundUrl: Je.bg,
backgroundMusicTrack: 1,
backgroundSkyColor: Xe.skyColor,
normalIconUrl: R.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-iconbf1-532597ae.png"),
dynamicBackground: v.createDynamicSectionBackground("tunguska"),
priority: -1,
children: Be ? [ C, new c.RouteDeclaration("cteassignments", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_SERVICE_ASSIGNMENTS");
},
view: W(V.TunguskaAssignmentsList),
featureFlag: ye.tunguskaFeatureFlags.tunguskaCTEAssignments
}), z ] : [ C, A, w, P, z ],
texturesToPreload: [ {
strategy: new I.SingleTextureStrategy(o.SINGLE_TEXTURE, new o.TexturePreloader(), h.NavigationStates.FrontEnd, h.NavigationStates.LoadingScreen),
urls: [ We.campaignCard1, We.campaignCard2, We.campaignCard3 ]
} ]
})), p.setupBindings(t), d.tunguskaAbstractGameBindings(), f.tunguskaTelemetryBindings(), 
S.TunguskaEorClient.startListening(), T.TunguskaUnrankedEorClient.startListening(), 
_.fetcher.startListening(), _.tracker.startListening(), E.startListening();
};
}).call(this, n(2), n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(174), o = n(9), i = [ r.Locales.ENGLISH, r.Locales.FRENCH, r.Locales.ITALIAN, r.Locales.SPANISH, r.Locales.GERMAN, r.Locales.POLISH, r.Locales.RUSSIAN, r.Locales.PORTUGUESE_BRAZIL, r.Locales.JAPANESE, r.Locales.SPANISH_MEXICO, r.Locales.ARABIC, r.Locales.CHINESE_TRADITIONAL, r.Locales.TURKISH ], a = [ r.Locales.ENGLISH, r.Locales.FRENCH, r.Locales.SPANISH, r.Locales.PORTUGUESE_BRAZIL, r.Locales.SPANISH_MEXICO, r.Locales.CHINESE_TRADITIONAL ], s = [ r.Locales.ENGLISH, r.Locales.FRENCH, r.Locales.ITALIAN, r.Locales.SPANISH, r.Locales.GERMAN, r.Locales.POLISH, r.Locales.RUSSIAN, r.Locales.ARABIC, r.Locales.TURKISH ], u = [ r.Locales.ENGLISH, r.Locales.JAPANESE ], l = [ r.Locales.ENGLISH, r.Locales.RUSSIAN ];
t.regionSpecificLocales = {
eu: s,
jp: u,
na: a,
ru: l
}, t.worldwideLocales = {
eu: i,
jp: i,
na: i,
ru: i
}, t.supportedLocales = o.SpartaGlobals.bundleIsPS4 ? t.regionSpecificLocales : t.worldwideLocales;
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(3), i = n(31), a = n(18), s = n(10), u = n(173), l = n(43), c = n(119), p = n(53), d = n(197), f = n(310), m = n(310), h = n(56), g = n(232), y = n(1246), S = n(51), v = n(205), _ = n(1247), b = n(73), T = n(592), E = n(321), C = n(1268), I = n(49), A = n(595), w = n(596), P = n(433), R = n(41), O = n(102), x = n(74), k = n(117), L = n(179), M = n(602), D = n(437), N = n(87), F = n(82), G = n(81), U = n(1287), B = n(112), j = n(9), H = n(120), z = n(180), V = n(25), W = n(609), q = n(158), K = new RegExp("tunguska/mp/");
function X() {
p.route(x.GameViewRoute.LOADING), p.show();
}
function Y() {
p.hide(), p.route(x.GameViewRoute.NONE);
}
function J(e) {
e.landOnEarth(function() {
s.gameStateStoreLoader.get().serverState.server && X();
});
}
t.setupBindings = function Q(t) {
var n = t.sparta.twinkle.frostbite, Q = t.sparta.stores.nativePropertiesStore;
Q.onHostingGameId(function(e) {
e === i.tunguskaGameId && function n(e) {
var t, n = e.sparta.twinkle.frostbite, S = e.sparta.stores, C = S.inputStore, w = S.presenceStateStore, P = S.nativePropertiesStore, R = S.joinFlowLoader, O = S.popupManager, k = S.startScreenStore, L = e.cloudTransition;
e.sparta.backgroundContainer.extra.addElement("3ca717bb:120:58", r.createElement(E.TunguskaGlobe, {
key: "globe"
})), E.startGlobeControl(n), _.startCampaignFlow(n, L, C, R, k), v.startOperationFlow(L, C, R), 
o.reaction(function() {
var e = s.settingsStore.liveConfig[i.tunguskaGameId] && s.settingsStore.liveConfig[i.tunguskaGameId].features, t = Array.from(s.settingsStore.featureFlags);
return e ? t.concat(e) : t;
}, function(e) {
n.sendMessage("sparta.enabledFeaturesMessage", {
enabledFeatures: e
});
}), o.when(function() {
return s.settingsStore.featureFlags.size > 0;
}, function() {
!function e(t) {
t.sendMessage("game.disableOperations", {
operationsDisabled: []
});
}(n);
}), A.medalsPageVisited.listen(function() {
D.sendThrottledMedalsRequest();
}), o.when(function() {
return s.onlineState.hasGatewaySession;
}, function() {
D.sendThrottledMedalsRequest(), M.MedalClient.trigger(i.tunguskaGameId);
}), l.handleJoinReady.listen(function() {
if (P.isHostingGame(s.gameStateStoreLoader.get().serverGameId)) {
var e = s.gameStateStoreLoader.get().isOnPlayableLevel;
v.operationFlow.state !== v.OperationState.none ? (X(), L.setToEarth()) : L.state !== g.CloudTransitionState.earth || e ? L.state === g.CloudTransitionState.earth ? X() : J(L) : L.flyToClouds(function() {
J(L);
});
}
}), c.onJoinMultiplayerFailed.listen(function() {
L.landOnEarth();
}), o.reaction(function() {
return {
navState: s.spartaActivatedStore.navigationState,
server: s.gameStateStoreLoader.get().server
};
}, function(t) {
var n = t.navState, r = t.server;
if (n === h.NavigationStates.LoadingScreen && r) {
var o = e.sparta.stores.gameServerDetailsStore.getFragmentId(r.game, r.gameId);
e.sparta.stores.gameServerDetailsStore.expireFragment(o);
}
}), o.reaction(function() {
return s.gameStateStoreLoader.get().isVisibleOrHasRoute;
}, function(n) {
n ? t = e.sparta.backgroundContainer.extra.addElement("3ca717bb:206:89", r.createElement(q.TunguskaContext.Provider, {
value: e,
key: "tunguskaGameViewBackground"
}, r.createElement(y.TunguskaGameViewBackground, null))) : void 0 !== t && (t(), 
t = void 0);
});
var G = s.matchmakingManager.forGame(i.tunguskaGameId);
G.onStart(function(e) {
P.isHostingGame(e.session.gameId) && (v.operationFlow.state === v.OperationState.matchmaking ? X() : L.flyToSpace(X));
}), G.onFinished(function(t) {
var n = t.session;
if (P.isHostingGame(n.gameId)) {
if (n.stateId === H.MatchmakingState.SUCCESS && n.server) {
W.playGameFoundSound();
var r = z.createJoinOptions(e.sparta.stores.partyStoreLoader, n.server);
l.joinMatchmakingResult(r);
}
if (n.stateId === H.MatchmakingState.CANCELED && (v.operationFlow.state === v.OperationState.matchmaking ? v.operationFlow.handleMatchmakingCancelled(L, n) : L.landOnEarth(Y)), 
n.stateId === H.MatchmakingState.ERROR && n.error && !n.error.silent) {
V.closeAll();
var o = n.error;
v.operationFlow.state === v.OperationState.matchmaking ? v.operationFlow.handleMatchmakingError(L, R, n) : O.alert(o.description, o.title, function() {
Y(), L.landOnEarth(Y);
});
}
}
}), G.onRaisedJoinError(function(e) {
var t = e.session, n = e.joinError;
n && P.isHostingGame(t.gameId) && (V.closeAll(), L.state === g.CloudTransitionState.earth ? R.get().handleChecksError(n) : L.landOnEarth(function() {
Y(), R.get().handleChecksError(n);
}));
}), l.joinMatchmakingResult.listen(function(e) {
P.isHostingGame(e.server.game) && v.operationFlow.state === v.OperationState.matchmaking && v.operationFlow.join();
}), I.onSignInChange.listen(function() {
_.campaignFlow.state === _.CampaignState.none && L.state !== g.CloudTransitionState.earth && L.setToEarth();
}), p.browseWhileWaiting.listen(function(e) {
e ? (Y(), s.matchmakingManager.isInProgress && L.landOnEarth()) : s.matchmakingManager.isInProgress ? L.flyToSpace(X) : X();
}), j.SpartaGlobals.bundleIsPS4 && (o.reaction(function() {
return s.locationStore.location;
}, function(e) {
K.test(e.path) && n.sendMessage("sparta.orbis.enterAsyncMP");
}), o.reaction(function() {
return w.resultType;
}, function(e) {
if (e === u.ConnectionResultType.noMultiplayerPrivilege) {
var t = P.getHostingGame(), n = s.layoutStateStore.current.config;
(n.gameId !== t.gameId || n.requireOnline && !n.offlineView) && a.gotoLocation(t.startRoute);
}
})), o.reaction(function() {
return !e.sparta.stores.partyStoreLoader.get().canStartMPSession;
}, function() {
var e = s.locationStore.location;
K.test(e.path) && a.gotoLocation("tunguska/mp"), s.matchmakingManager.isInProgress && l.stopGame({});
}), s.gamePushNotifications.listen("EOR_PACKS", function(e) {
if (e.game === i.tunguskaGameId && b.isEorPayload(e.payload, "EOR_PACKS")) {
var t = e.payload || {};
if (t.battlepacksSummary) {
var n = T.parseBattlePacks(t.battlepacksSummary);
n && b.tunguskaEndOfRoundStore.setBattlepacks(n);
}
if (t.scrapsSummary) {
var r = T.parseScraps(t.scrapsSummary);
r && b.tunguskaEndOfRoundStore.setScraps(r);
}
}
}), n.registerMessageListener("game.serverDisconnectedMessage", function(e, t) {
var n, r, o = ((n = {})[t.DISCONNECT_OK] = m.DisconnectionType.ok, n[t.DISCONNECT_WRONG_PROTOCOL_VERSION] = m.DisconnectionType.wrongProtocolVersion, 
n[t.DISCONNECT_WRONG_TITLE_VERSION] = m.DisconnectionType.wrongTitleVersion, n[t.DISCONNECT_SERVER_FULL] = m.DisconnectionType.serverFull, 
n[t.DISCONNECT_KICKED] = m.DisconnectionType.kickedOut, n[t.DISCONNECT_BANNED] = m.DisconnectionType.banned, 
n[t.DISCONNECT_GENERIC] = m.DisconnectionType.genericError, n[t.DISCONNECT_WRONG_PASSWORD] = m.DisconnectionType.wrongPassword, 
n[t.DISCONNECT_DEMO_OVER] = m.DisconnectionType.kickedOutDemoOver, n[t.DISCONNECT_RANK_RESTRICTED] = m.DisconnectionType.rankRestricted, 
n[t.DISCONNECT_CONFIGURATION_NOT_ALLOWED] = m.DisconnectionType.configurationNotAllowed, 
n[t.DISCONNECT_SERVER_RECLAIMED] = m.DisconnectionType.serverReclaimed, n[t.DISCONNECT_MISSING_CONTENT] = m.DisconnectionType.missingContent, 
n[t.DISCONNECT_NOT_VERIFIED] = m.DisconnectionType.notVerified, n[t.DISCONNECT_TIMED_OUT] = m.DisconnectionType.timedOut, 
n[t.DISCONNECT_CONNECT_FAILED] = m.DisconnectionType.connectFailed, n[t.DISCONNECT_NO_REPLY] = m.DisconnectionType.noReply, 
n[t.DISCONNECT_ACCEPT_FAILED] = m.DisconnectionType.acceptFailed, n[t.DISCONNECT_MISMATCHING_CONTENT] = m.DisconnectionType.mismatchingContent, 
n[t.DISCONNECT_KICKED_OUT_RANK_TOO_HIGH] = m.DisconnectionType.kickedOutRankTooHigh, 
n[t.DISCONNECT_INTERACTIVITY_TIMEOUT] = m.DisconnectionType.interactivityTimeout, 
n[t.DISCONNECT_KICKED_FROM_QUEUE] = m.DisconnectionType.kickedFromQueue, n[t.DISCONNECT_TEAM_KILL] = m.DisconnectionType.teamKills, 
n[t.DISCONNECT_KICKED_BY_ADMIN] = m.DisconnectionType.kickedByAdmin, n[t.DISCONNECT_KICKED_FULL] = m.DisconnectionType.kickedOutServerFull, 
n[t.DISCONNECT_ESPORT_STARTING] = m.DisconnectionType.eSportsMatchStarting, n[t.DISCONNECT_ESPORT_NOT_IN_ROSTER] = m.DisconnectionType.notInESportsRosters, 
n[t.DISCONNECT_ESPORT_ENDING] = m.DisconnectionType.eSportsMatchEnding, n[t.DISCONNECT_VIRTUAL_EXPIRED] = m.DisconnectionType.virtualServerExpired, 
n[t.DISCONNECT_VIRTUAL_RECREATE] = m.DisconnectionType.virtualServerRecreate, n[t.DISCONNECT_ESPORT_FULL] = m.DisconnectionType.eSportsTeamFull, 
n[t.DISCONNECT_ESPORT_ABORTED] = m.DisconnectionType.eSportsMatchAborted, n[t.DISCONNECT_ESPORT_WALKOVER] = m.DisconnectionType.eSportsMatchWalkover, 
n[t.DISCONNECT_ESPORT_WARMUP_TIME_OUT] = m.DisconnectionType.eSportsMatchWarmupTimedOut, 
n[t.DISCONNECT_NO_SPECTATORS] = m.DisconnectionType.notAllowedToSpectate, n[t.DISCONNECT_NO_SPECTATOT_SLOTS] = m.DisconnectionType.noSpectateSlotAvailable, 
n[t.DISCONNECT_INVALID_SPECTATE] = m.DisconnectionType.invalidSpectateJoin, n[t.DISCONNECT_KICKED_FAIR_FIGHT] = m.DisconnectionType.kickedViaFairFight, 
n[t.DISCONNECT_KICKED_COMMANDER_LEAVE] = m.DisconnectionType.kickedCommanderOnLeave, 
n[t.DISCONNECT_KICKED_COMMANDER_MUTINY] = m.DisconnectionType.kickedCommanderAfterMutiny, 
n[t.DISCONNECT_MAINTENANCE] = m.DisconnectionType.serverMaintenance, n[t.DISCONNECT_KICKED_GAME_TIME_OFFICIAL] = m.DisconnectionType.kickedGameTimeAccountOnUnofficial, 
n[t.DISCONNECT_KICKED_VIA_SHIELD] = m.DisconnectionType.kickedViaShield, n), a = ((r = {})[t.DCREASON_UNKNOWN] = m.DisconnectionReasonType.unknown, 
r[t.DCREASON_TIMEOUT] = m.DisconnectionReasonType.timeout, r[t.DCREASON_CONNECTION_LOST] = m.DisconnectionReasonType.connectionLost, 
r[t.DCREASON_BACKEND_CONNECTION_LOST] = m.DisconnectionReasonType.backendConnectionLost, 
r[t.DCREASON_RESERVATION_TIMEOUT] = m.DisconnectionReasonType.reservationTimeout, 
r[t.DCREASON_BANNED] = m.DisconnectionReasonType.banned, r[t.DCREASON_GAME_DESTROYED] = m.DisconnectionReasonType.gameDestroyed, 
r[t.DCREASON_GAME_ENDED] = m.DisconnectionReasonType.gameEnded, r[t.DCREASON_GROUP_LEFT] = m.DisconnectionReasonType.groupLeft, 
r[t.DCREASON_HOST_EJECTED] = m.DisconnectionReasonType.hostEjected, r[t.DCREASON_HOST_INJECTED_FAILED] = m.DisconnectionReasonType.hostInjectedFailed, 
r[t.DCREASON_JOINED_ANOTHER_GAME] = m.DisconnectionReasonType.joinedAnotherGame, 
r[t.DCREASON_JOIN_FIRST_PARTY_SESSION_FAILED] = m.DisconnectionReasonType.joinFirstPartySessionFailed, 
r[t.DCREASON_KICKED] = m.DisconnectionReasonType.kicked, r[t.DCREASON_MIGRATION_FAILED] = m.DisconnectionReasonType.migrationFailed, 
r[t.DCREASON_PLAYERLEFT] = m.DisconnectionReasonType.playerLeft, r[t.DCREASON_QUEUE_PROMOTION_FAILED] = m.DisconnectionReasonType.queuePromotionFailed, 
r), s = o[t.disconnectReason], u = a[t.dcReason];
if (s !== m.DisconnectionType.ok || u !== m.DisconnectionReasonType.joinedAnotherGame) {
var l = t && t.dcReasonText ? t.dcReasonText : null;
if (t && t.dcReasonText) switch (t.dcReasonText) {
case "RULEVIOLATION":
l = __("ID_SPARTA_RSP_KICKED_RULEVIOLATION");
break;

case "OFFENSIVEBEHAVIOR":
l = __("ID_SPARTA_RSP_KICKED_OFFENSIVEBEHAVIOR");
break;

case "LATENCY":
l = __("ID_SPARTA_RSP_KICKED_LATENCY");
break;

case "ADMINPRIORITY":
l = __("ID_SPARTA_RSP_KICKED_ADMINPRIORITY");
break;

case "GENERAL":
l = __("ID_SPARTA_RSP_KICKED_GENERAL");
}
F.tunguskaFeatureFlags.tunguskaAssignments.isEnabled() && (N.tunguskaAssignmentsStore.expire(), 
N.tunguskaTrackedAssignmentStore.expire()), c.onMultiplayerServerDisconnection({
event: new f.MultiplayerServerDisconnection(i.tunguskaGameId, l, s, u)
});
}
}), n.registerMessageListener("game.joinResultMessage", function(e, t) {
var n, r, o = ((n = {})[t.JoinResult_Success] = d.JoinResultType.success, n[t.JoinResult_TimeOut] = d.JoinResultType.timeOut, 
n[t.JoinResult_UnknownError] = d.JoinResultType.unknownError, n[t.JoinResult_GameNotFound] = d.JoinResultType.gameNotFound, 
n[t.JoinResult_GameFull] = d.JoinResultType.gameFull, n[t.JoinResult_GameNotJoinable] = d.JoinResultType.gameNotJoinable, 
n[t.JoinResult_InvalidGameState] = d.JoinResultType.invalidGameState, n[t.JoinResult_WrongVersion] = d.JoinResultType.wrongVersion, 
n[t.JoinResult_NoServerFound] = d.JoinResultType.noServerFound, n[t.JoinResult_PlayerNotFound] = d.JoinResultType.playerNotFound, 
n[t.JoinResult_FailedReputationCheck] = d.JoinResultType.failedReputationCheck, 
n[t.JoinResult_Banned] = d.JoinResultType.banned, n[t.JoinResult_RoleFull] = d.JoinResultType.roleFull, 
n[t.JoinResult_RoleCriteriaFailed] = d.JoinResultType.roleCriteriaFailed, n[t.JoinResult_NoReservationFound] = d.JoinResultType.noReservationFound, 
n[t.JoinResult_ReservationAlreadyExists] = d.JoinResultType.reservationAlreadyExists, 
n), a = ((r = {})[t.Event_Joined] = d.JoinEventType.joined, r[t.Event_JoinFailed] = d.JoinEventType.joinFailed, 
r[t.Event_Queued] = d.JoinEventType.queued, r[t.Event_Disconnected] = d.JoinEventType.disconnected, 
r[t.Event_GameAttributeUpdated] = d.JoinEventType.gameAttributeUpdated, r[t.Event_PlayerClaimingReservation] = d.JoinEventType.playerClaimingReservation, 
r[t.Event_OtherPlayerJoined] = d.JoinEventType.otherPlayerJoined, r[t.Event_OtherPlayerLeft] = d.JoinEventType.otherPlayerLeft, 
r), s = o[t.joinResult], u = a[t.joinEvent], l = t.gameId && "0" !== t.gameId ? t.gameId : null;
c.onJoinMultiplayerServerResult(new d.JoinMultiplayerServerResult({
gameId: i.tunguskaGameId,
resultType: s,
eventType: u,
blazeGameId: l
}));
}), n.registerMessageListener("sparta.onlineStatusMessage", function(e, t) {
var n, r, o, i = ((n = {})[t.MODE_CHANGED] = u.ConnectionEventType.modeChanged, 
n[t.DISCONNECTED] = u.ConnectionEventType.disconnected, n[t.CONNECTING] = u.ConnectionEventType.connecting, 
n[t.CONNECTION_FAILED] = u.ConnectionEventType.connectFailed, n[t.CONNECTION_READY] = u.ConnectionEventType.connectionReady, 
n[t.ONLINE_FLOW_DONE] = u.ConnectionEventType.onlineFlowDone, n[t.TELEMETRY_TOKEN_RECEIVED] = u.ConnectionEventType.telemetryTokenReceived, 
n[t.FIRST_PARTY_CONNECTED] = u.ConnectionEventType.firstPartyConnected, n[t.FIRST_PARTY_DISCONNECTED] = u.ConnectionEventType.firstPartyDisconnected, 
n[t.PING_VALUE_RESOLVED] = u.ConnectionEventType.pingValueResolved, n[t.CONNECTION_MESSAGE] = u.ConnectionEventType.connectionMessage, 
n[t.QOS_DONE] = u.ConnectionEventType.qualityOfServiceDone, n), a = ((r = {})[t.PresenceConnectionResult_Success] = u.ConnectionResultType.success, 
r[t.PresenceConnectionResult_AuthCodeFailed] = u.ConnectionResultType.authCodeFailed, 
r[t.PresenceConnectionResult_ConnectionFailed] = u.ConnectionResultType.connectionFailed, 
r[t.PresenceConnectionResult_DuplicateLogin] = u.ConnectionResultType.duplicateLogin, 
r[t.PresenceConnectionResult_Failure] = u.ConnectionResultType.failure, r[t.PresenceConnectionResult_InvalidUser] = u.ConnectionResultType.invalidUser, 
r[t.PresenceConnectionResult_LoginCancelled] = u.ConnectionResultType.loginCancelled, 
r[t.PresenceConnectionResult_MissingOnlineAccess] = u.ConnectionResultType.missingOnlineAccess, 
r[t.PresenceConnectionResult_NeedUserInteraction] = u.ConnectionResultType.needUserInteraction, 
r[t.PresenceConnectionResult_NetworkDisconnect] = u.ConnectionResultType.networkDisconnect, 
r[t.PresenceConnectionResult_NetworkError] = u.ConnectionResultType.networkError, 
r[t.PresenceConnectionResult_NoMultiplayerPrivilege] = u.ConnectionResultType.noMultiplayerPrivilege, 
r[t.PresenceConnectionResult_OriginOffline] = u.ConnectionResultType.originOffline, 
r[t.PresenceConnectionResult_OriginStartupFailed] = u.ConnectionResultType.originStartupFailed, 
r[t.PresenceConnectionResult_RequiredUpdateExists] = u.ConnectionResultType.requiredUpdateExists, 
r[t.PresenceConnectionResult_ServerConfiguration] = u.ConnectionResultType.serverConfiguration, 
r[t.PresenceConnectionResult_ServerDisconnect] = u.ConnectionResultType.serverDisconnect, 
r[t.PresenceConnectionResult_ServerNotFound] = u.ConnectionResultType.serverNotFound, 
r[t.PresenceConnectionResult_SystemError] = u.ConnectionResultType.systemError, 
r[t.PresenceConnectionResult_Timeout] = u.ConnectionResultType.timeout, r[t.PresenceConnectionResult_TooYoung] = u.ConnectionResultType.tooYoung, 
r[t.PresenceConnectionResult_TooYoungForContent] = u.ConnectionResultType.tooYoungForContent, 
r[t.PresenceConnectionResult_UserLost] = u.ConnectionResultType.userLost, r[t.PresenceConnectionResult_OriginMandatoryUpdateNeeded] = u.ConnectionResultType.originMandatoryUpdate, 
r[t.PresenceConnectionResult_NoService] = u.ConnectionResultType.noService, r[t.PresenceConnectionResult_UserNotLoggedIn] = u.ConnectionResultType.originNotLoggedIn, 
r[t.PresenceConnectionResult_PsuLimitExceeded] = u.ConnectionResultType.psuLimitExceeded, 
r[t.PresenceConnectionResult_AccountBanned] = u.ConnectionResultType.accountBanned, 
r), s = ((o = {})[t.Mode_Offline] = u.PresenceModeType.offline, o[t.Mode_SilentOnline] = u.PresenceModeType.silentOnline, 
o[t.Mode_Online] = u.PresenceModeType.online, o);
w.updatePresence(new u.PresenceStatusMessage({
eventType: i[t.status],
resultType: a[t.connectionResult],
mode: s[t.mode],
customMessage: t.connectionMessage
}));
}), n.registerMessageListener("sparta.startMatchmaking", function(e, t) {
t && v.operationFlow.startMatchmaking(t);
}), n.registerMessageListener("tunguska.switchToScreen", function(e, t) {
switch (t.screenName) {
case "SpartaScreenType_Calibration":
k.setDismissCallback(function() {
s.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
n.sendMessage("tunguska.showCalibrationScreen");
});
});
break;

case "SpartaScreenType_Prologue":
s.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
s.spartaActivatedStore.setMultiplayer(!1), p.route(x.GameViewRoute.PLAYING), _.campaignFlow.enter(L, R, function() {}), 
n.sendMessage("tunguska.gotoPrologue");
});
}
});
}(t);
}), S.gameShowOptions.listen(function() {
s.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
n.sendMessage("sparta.showGameOptions");
});
}), S.showLoadout.listen(function() {
s.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
n.sendMessage("sparta.showGameCustomization");
});
}), S.gameShowCredits.listen(function() {
s.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
n.sendMessage("sparta.showGameCredits");
});
}), S.endOfRoundCountdownCompleted.listen(function() {
n.sendMessage("tunguska.endOfRoundCountdownCompleted");
}), S.joinGame.listen(function(e) {
var t = {
asSpectator: "spectator" === e.role,
asCommander: "commander" === e.role
};
null != e.password && (t.password = e.password), e.friend ? t.spartaUserId = e.friend.spartaUserId : e.platoonMember ? (t.personaId = e.platoonMember.personaId, 
t.friendId = e.platoonMember.platformId, t.platoonJoin = !0) : t.gameId = e.server.gameId, 
t.hasReservation = !!e.server;
var r = s.gameStateStoreLoader.get(), o = new Date().getTime();
D.TunguskaGameStateStore.isTunguskaStore(r) && r.nextPossibleMPJoin > o ? setTimeout(function() {
n.sendMessage("game.joinGame", t);
}, Math.max(r.nextPossibleMPJoin - o, 1)) : n.sendMessage("game.joinGame", t);
}), n.registerMessageListener("tunguska.joinFailedMessage", function(e, t) {
var n, r = ((n = {})[t.STREAM_INSTALL_IN_PROGRESS] = d.JoinResultType.streamInstallInProgress, 
n[t.IN_PARTY_BUT_NOT_LEADER] = d.JoinResultType.notPartyLeader, n[t.SERVER_DETAILS_LOOKUP_FAILED] = d.JoinResultType.gameNotFound, 
n[t.SERVER_DETAILS_LOOKUP_COULD_NOT_FIND_PLAYER] = d.JoinResultType.playerNotFound, 
n[t.SERVER_DETAILS_LOOKUP_COULD_NOT_FIND_SERVER_OF_PLAYER] = d.JoinResultType.noServerFound, 
n), o = new d.JoinMultiplayerServerResult({
resultType: r[t.reason] || d.JoinResultType.unknownError
});
k.coreEventStore.spartaErrorMessage(o.toHumanReadable() || "", __("ID_SPARTA_ONLINE_JOIN_FAILED_TITLE"));
}), n.registerMessageListener("tunguska.serverPasswordRequest", function(t, r) {
R.prompt(__("ID_SPARTA_ONLINE_JOIN_PASSWORD_PROTECTED"), 1, 36, {
onOkValidate: function(t) {
return e.log("tunguska.serverPasswordRequest: JavaScript got password '" + t + "' from the user."), 
new Promise(function(e, r) {
t.trim().length < 1 ? r(__("ID_SPARTA_ONLINE_JOIN_ENTER_VALID_PASSWORD")) : (n.sendMessage("tunguska.serverPasswordResponse", {
password: t
}), e());
});
},
inputType: B.CharacterType.Password,
message: __("ID_SPARTA_ONLINE_JOIN_ENTER_PASSWORD")
});
}), n.registerMessageListener("tunguska.notificationInvokedMessage", function(e, t) {
S.showCodex(t);
}), n.registerMessageListener("tunguska.playerEmblemRequest", function(e, t) {
t && 1338 === t.requestType && setTimeout(function() {
return S.showReportEmblemFromGame(t.personaId);
}, 0);
}), n.registerMessageListener("tunguska.playTogetherEvent", function(e, t) {
"SpartaTunguskaPlayTogetherEvent_PlayTogetherStarted" === t.event && (a.gotoLocation("tunguska/mp"), 
_.campaignFlow.state !== _.CampaignState.none && (l.stopGame({
showFade: !0
}), S.quitCampaign(), _.campaignFlow.mustReturnToFrontend = !0));
}), n.registerMessageListener("tunguska.ongoingOperationsRequest", function() {
C.getOperations(i.tunguskaGameId, Q.regionOrDefault).then(function(e) {
var t = e.map(function(e) {
return {
operationIndex: ((e = e || {}).operation || {}).operationIndex,
ongoingCount: parseInt(e.serverCount, 10) || 0
};
});
n.sendMessage("tunguska.ongoingOperationsResponse", {
ongoingOperations: t
});
});
}), I.refreshCareer.listen(function() {
w.ribbonStore.expireFragment("tunguska");
}), O.PurchaseFlow.listen(O.PurchaseFlowState.SUCCESS, function(e) {
var t = e.offer;
t.group === L.OfferGroup.SHORTCUTS && P.itemsGatingStore.expireFragment(t.gameId), 
t.group === L.OfferGroup.BATTLEPACKS && G.expireTunguskaBattlepackFragments();
}), n.registerMessageListener("sparta.onVoipSpeakerStatusChanged", function(e, t) {
N.tunguskaVoipState.onVoipSpeakerStatusChanged(t);
}), U.initializePlayerCampaignStatusBinding(n);
};
}).call(this, n(2), n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(15), s = n(14), u = n(94), l = n(232), c = n(31), p = n(128), d = n(158), f = s.bbOfflineUrl("/sparta/jsclient/builds/assets/loading-map-placeholder-1e71f22a.jpg"), m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tunguska = d.TunguskaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = p.gameDataStore.get(c.tunguskaGameId).value, t = this.tunguska.gameViewBackgroundState, n = t.tweenOptions, r = t.darkBlur, i = t.mapName, s = t.isVisible, d = i ? .85 : 1;
i && r && (d *= .75);
var m = {
width: u.uiState.window.width,
height: u.uiState.window.height,
left: 0,
top: 0,
position: "absolute",
zOffset: 11e3,
backgroundColor: i ? "#000000" : "#00000040",
opacity: a.Animation.tweenSwitch(0, 1, s, n),
translateY: l.gameBackgroundTweenY.getStyle()
}, h = {
flex: 1,
layer: !0,
layerGrabBackground: !0,
layerBlur: a.Animation.tweenSwitch(0, 1, s, n),
opacity: d,
textureAtlas: "SpartaCommonAtlas",
textureMode: "cover"
};
if (i) {
var g = function(e, t) {
var n = t && t.maps && t.maps.filter(function(t) {
return t.filterKey.toLowerCase() === (e || "").toLowerCase();
});
if (n && n.length > 0) {
var r = n[0];
return r.imageUrl || r.images && r.images.Medium || r.images && r.images.Jpg1000xANY;
}
return "";
}(i, e);
h.texture = g || f;
}
return o.createElement("surface", {
key: "gameBackground",
style: m
}, o.createElement("surface", {
style: h
}));
}, t.contextTypes = d.TunguskaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaGameViewBackground = m;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r, o = n(0), i = n(3), a = n(232), s = n(321), u = n(31), l = n(49), c = n(53), p = n(56), d = n(119), f = n(197), m = n(51), h = n(10), g = n(24), y = n(74), S = n(121), v = n(59), _ = e.get("TunguskaCampaignFlowState");
!function(e) {
e[e.none = 0] = "none", e[e.globe = 1] = "globe", e[e.playing = 2] = "playing", 
e[e.quit = 3] = "quit";
}(r = t.CampaignState || (t.CampaignState = {}));
var b = function() {
function e(e) {
this.frostbite = e, this.state = r.none, this.mustReturnToFrontend = !1, this.debug = !1;
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && _.log.apply(_, [ e ].concat(t));
}, e.prototype.enter = function(e, t, n) {
var o = this;
this.state !== r.globe && (this.log("enter", this.state), n ? (n(), this.enterGlobe()) : t.get().performSinglePlayerChecks().then(function() {
e.flyToClouds(function() {
e.fadeOutFromWhite(200, function() {
h.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
s.globeState.set("Disable", !0), h.spartaActivatedStore.setMultiplayer(!1), c.route(y.GameViewRoute.PLAYING);
});
}), o.enterGlobe(), o.frostbite.sendMessage("tunguska.enterCampaign");
}, a.CloudTransitionSound.planet);
}).catch(function(e) {
t.get().handleChecksError(e);
}));
}, e.prototype.enterGlobe = function() {
this.log("enterGlobe", this.state), this.state = r.globe;
}, e.prototype.startMission = function() {
this.log("startMission", this.state), this.state = r.playing;
}, e.prototype.quit = function() {
this.log("quit", this.state), this.state = r.quit;
}, e.prototype.clear = function() {
this.log("clear", this.state), this.state = r.none, this.mustReturnToFrontend = !1, 
s.globeState.set("Sparta");
}, o.__decorate([ i.observable ], e.prototype, "state", void 0), o.__decorate([ i.action ], e.prototype, "enter", null), 
o.__decorate([ i.action ], e.prototype, "enterGlobe", null), o.__decorate([ i.action ], e.prototype, "startMission", null), 
o.__decorate([ i.action ], e.prototype, "quit", null), o.__decorate([ i.action ], e.prototype, "clear", null), 
e;
}();
function T() {
t.campaignFlow.state !== r.none && (t.campaignFlow.mustReturnToFrontend = !0);
}
t.campaignFlow = new b(v.frostbite), t.startCampaignFlow = function E(e, n, o, v, _) {
m.enterCampaign.listen(function() {
t.campaignFlow.enter(n, v);
}), e.registerMessageListener("tunguska.crossLaunchCampaign", function() {
i.when(function() {
return !_.isVisible;
}, function() {
t.campaignFlow.enter(n, v);
});
}), l.onSignInChange.listen(function() {
T();
}), e.registerMessageListener("sparta.durango.userSwitched", function() {
T();
}), d.onJoinMultiplayerServerResult.listen(function(e) {
t.campaignFlow.state !== r.none && e.resultType === f.JoinResultType.success && (t.campaignFlow.clear(), 
n.setToEarth());
}), m.quitCampaign.listen(function() {
m.getCampaignEpisodes(), n.setToSpace(a.CloudTransitionState.clouds), c.hide(), 
t.campaignFlow.quit();
}), i.reaction(function() {
return h.spartaActivatedStore.lastReceived;
}, function() {
h.spartaActivatedStore.isSpartaActive && function i(e, n, o, d, f) {
if (t.campaignFlow.state !== r.none) switch (o) {
case p.NavigationStates.LoadingScreen:
t.campaignFlow.state === r.globe && t.campaignFlow.startMission();
break;

case p.NavigationStates.InGameMenu:
n.state !== a.CloudTransitionState.earth && (c.route(y.GameViewRoute.PLAYING), n.setToEarth({
changeGlobe: !1
}));
break;

case p.NavigationStates.FrontEnd:
if (t.campaignFlow.state === r.globe || t.campaignFlow.mustReturnToFrontend) {
n.setToSpace(a.CloudTransitionState.clouds), s.globeState.set("Sparta");
var v = d.blockInput();
setTimeout(function() {
v(), n.landOnEarth(function() {
t.campaignFlow.clear(), h.spartaActivatedStore.setMultiplayer(!0), g.request("Progression.invalidateStatsAndLicenses", {
game: u.tunguskaGameId
}).catch(function(e) {
t.campaignFlow.log(e.message);
}), l.refreshCareer(), m.getCampaignEpisodes(), c.route(y.GameViewRoute.NONE);
}, a.CloudTransitionSound.planet);
}, 600);
} else t.campaignFlow.state !== r.quit && t.campaignFlow.state !== r.playing || t.campaignFlow.enter(n, f, function() {
S.blackFadeState.hide(), h.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
e.sendMessage("tunguska.enterCampaign");
});
});
}
}(e, n, h.spartaActivatedStore.navigationState, o, v);
});
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(200), a = n(31), s = n(593), u = n(10), l = n(56), c = n(30), p = n(432), d = e.get("TunguskaTrackedAssignmentStore"), f = new i.StorageClient();
function m(e) {
return a.tunguskaGameId + "_" + (e ? e.getPlatformId() : "") + "_trackedAssignment";
}
var h = function(e) {
function t(t, n, r, o, i) {
var s = e.call(this) || this;
return s.clients = t, s.tunguskaIngameAssignmentProgressClient = n, s.tunguskaAssignmentsStore = r, 
s.spartaActivatedStore = o, s.onlineState = i, u.nativePropertiesStore.onHostingGameId(function(e) {
e === a.tunguskaGameId && s.setupBindings();
}), s;
}
return r.__extends(t, e), t.prototype.setupBindings = function() {
var e = this;
o.when(function() {
return !(!e.onlineState.isOnlineBlazeAndGateway || !e.onlineState.sessionUserId);
}, function() {
f.get(m(e.onlineState.sessionUserId), function(t) {
t ? e.setTrackedCode(t) : f.load(a.tunguskaGameId + "_trackedAssignment", function(t) {
t ? e.setTrackedCode(t) : e.setNewTrackedAssignment();
});
});
}), o.reaction(function() {
var t = e.getFragment(a.tunguskaGameId).value;
return t instanceof s.TunguskaAssignment && t.progression.isCompleted;
}, function(t) {
t && e.setNewTrackedAssignment();
}), o.reaction(function() {
return e.spartaActivatedStore.lastReceived;
}, function() {
var t = e.spartaActivatedStore.navigationState === l.NavigationStates.InGameMenu;
e.spartaActivatedStore.isMultiplayer && t && e.trackedAssignmentCode && e.tunguskaIngameAssignmentProgressClient.getAssignmentProgress(e.trackedAssignmentCode).then(function(t) {
d.debug("Got ingame progress for tracked Service Assignment", t);
var n = e.getOrFetchFragment(a.tunguskaGameId);
o.when(function() {
return n.isReady;
}, function() {
var r = n.value;
r instanceof s.TunguskaAssignment && e.updateAssignmentFromIngame(r, t);
});
});
}, {
fireImmediately: !0
});
}, t.prototype.fetch = function(e) {
var t = this;
if (this.trackedAssignmentCode) {
var n = this.clients.getMission.request({
game: a.tunguskaGameId,
code: this.trackedAssignmentCode
});
e.useClientResult(n, function(e) {
return t.fromBackend(e);
});
} else d.warn("Ignoring fetch for tracked Service Assignment since none is being tracked");
}, t.prototype.get = function() {
return this.getOrFetchFragment(a.tunguskaGameId);
}, t.prototype.fromBackend = function(e) {
if (e) {
var t = new s.TunguskaAssignment();
return t.updateFromBackend(e), t;
}
d.error("Did not get a Service Assignment back from backend");
}, t.prototype.updateAssignmentFromIngame = function(e, t) {
if (e.code === t.awardCode) {
e.criterias.forEach(o.action(function(e) {
var n = t.criterias.find(function(t) {
return t.code === e.code;
});
if (n) {
var r = 0 !== n.relativeValue, o = n.relativeValue > e.progression.valueAcquired;
r && o && e.progression.setValueAcquired(n.relativeValue);
}
}));
var n = e.criterias.filter(function(e) {
return e.progression.isCompleted;
}), r = e.criteriaRequired || e.criterias.length;
n.length >= r && e.progression.setValueAcquired(e.progression.valueNeeded);
} else d.error("Got Service Assignment progress for non-tracked Service Assignment");
}, t.prototype.setTrackedCode = function(e) {
this.trackedAssignmentCode !== e && this.reset(), this.trackedAssignmentCode = e, 
f.save(m(this.onlineState.sessionUserId), e || "");
}, t.prototype.setNewTrackedAssignment = function() {
var e = this;
d.info("Trying to set a new tracked Service Assignment"), this.setNewTrackedAssignmentDispose && (this.setNewTrackedAssignmentDispose(), 
this.setNewTrackedAssignmentDispose = void 0);
var t = this.tunguskaAssignmentsStore.get();
this.setNewTrackedAssignmentDispose = o.when(function() {
return t.value instanceof p.TunguskaAssignments && t.value.assignments.length > 0;
}, function() {
if (t.value instanceof p.TunguskaAssignments) {
for (var n = t.value.assignments, r = void 0, o = 0; o < n.length; o++) {
var i = n[o];
if (!i.progression.isCompleted) {
r = i.code;
break;
}
}
e.setTrackedCode(r);
}
});
}, t.prototype.reset = function() {
this.resetFragment(a.tunguskaGameId);
}, t.prototype.expire = function() {
return this.expireFragment(a.tunguskaGameId);
}, r.__decorate([ o.observable ], t.prototype, "trackedAssignmentCode", void 0), 
r.__decorate([ o.observable ], t.prototype, "ingameTrackedAssignmentProgress", void 0), 
r.__decorate([ o.action ], t.prototype, "setTrackedCode", null), t;
}(c.FragmentStore);
t.TunguskaTrackedAssignmentStore = h;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e() {}
return e.prototype.clearActiveAssignment = function() {
this.assignment = void 0;
}, e.prototype.setActiveAssignment = function(e) {
this.assignment = e;
}, r.__decorate([ o.observable ], e.prototype, "assignment", void 0), r.__decorate([ o.action ], e.prototype, "clearActiveAssignment", null), 
r.__decorate([ o.action ], e.prototype, "setActiveAssignment", null), e;
}();
t.TunguskaAssignmentsSelectState = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
var t = e.item;
this.ownedQuantity = e.ownedQuantity, this.parentOwned = e.parentOwned, "Vehicle" === t.itemType && (this.parentOwned = !0), 
this.price = e.price, this.battlepack = {
category: t.category,
description: t.description,
images: t.images,
itemType: t.itemType,
key: t.key,
name: t.name,
nugget: t.nugget,
parentName: t.parentName,
quantity: t.quantity,
rarenessLevel: t.rarenessLevel,
scrapValue: t.scrapValue
};
}
return e.prototype.updateOwnedQuantity = function() {
++this.ownedQuantity;
}, r.__decorate([ o.observable ], e.prototype, "ownedQuantity", void 0), r.__decorate([ o.observable ], e.prototype, "parentOwned", void 0), 
r.__decorate([ o.action ], e.prototype, "updateOwnedQuantity", null), e;
}();
t.RevisionItem = i;
var a = function() {
function e() {
this.items = [], this.revisionName = "";
}
return e.prototype.setRevision = function(e) {
this.endTime = e.expirationTs ? parseFloat(e.expirationTs) : void 0, this.revisionName = e.revision, 
e.items && (this.items = e.items.map(function(e) {
return new i(e);
}));
}, r.__decorate([ o.observable ], e.prototype, "endTime", void 0), r.__decorate([ o.observable ], e.prototype, "items", void 0), 
r.__decorate([ o.observable ], e.prototype, "revisionName", void 0), r.__decorate([ o.action ], e.prototype, "setRevision", null), 
e;
}();
t.TunguskaBattlepackScrapExchangeStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = "", a = function() {
function e(e) {
this.teams = [], e.listen(this.listener);
}
return e.prototype.listener = function(e) {
var t = e.teams.map(function(t) {
return {
name: t.FactionName || "",
teamId: t.TeamId || 0,
players: e.players.filter(function(e) {
return e.teamId === t.TeamId;
}).map(function(e) {
return {
name: e.personaName,
personaId: e.personaId,
platformId: e.platformId,
teamId: e.teamId
};
})
};
}), n = JSON.stringify(t);
n !== i && (i = n, this.teams = t);
}, Object.defineProperty(e.prototype, "teamA", {
get: function() {
return this.teams[1] ? this.teams[1] : {
name: "",
teamId: 0,
players: []
};
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "teamB", {
get: function() {
return this.teams[2] ? this.teams[2] : {
name: "",
teamId: 0,
players: []
};
},
enumerable: !0,
configurable: !0
}), e.prototype.getOtherTeam = function(e) {
return this.teams.find(function(t) {
return !(!t.teamId || t.teamId === e);
});
}, r.__decorate([ o.observable ], e.prototype, "teams", void 0), r.__decorate([ o.action.bound ], e.prototype, "listener", null), 
r.__decorate([ o.computed ], e.prototype, "teamA", null), r.__decorate([ o.computed ], e.prototype, "teamB", null), 
e;
}();
t.TeamsStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.showStatsDelayedMessage = !1, n;
}
return r.__extends(t, e), t.prototype.toggleStatsDelayedMessage = function(e) {
this.showStatsDelayedMessage = e;
}, r.__decorate([ o.observable ], t.prototype, "showStatsDelayedMessage", void 0), 
r.__decorate([ o.action ], t.prototype, "toggleStatsDelayedMessage", null), t;
}(n(1253).MissionsStore);
t.TunguskaMissionsStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(30), a = function() {
function e(e) {
this.id = e.id, this.title = e.title, this.description = e.description, this.rewardDescription = e.rewardDescription, 
this.imageUrls = e.imageUrls, this.startTime = e.startTime ? 1e3 * parseInt(e.startTime, 10) : void 0, 
this.endTime = e.endTime ? 1e3 * parseInt(e.endTime, 10) : void 0, this.progress = e.progress, 
this.hasClaimed = e.hasClaimed;
}
return e.fromBackend = function(t) {
return new e(t);
}, Object.defineProperty(e.prototype, "isClaimable", {
get: function() {
return !!this.progress && this.progress.valueAcquired >= this.progress.valueNeeded;
},
enumerable: !0,
configurable: !0
}), e.prototype.claim = function() {
this.hasClaimed = !0;
}, e.prototype.unclaim = function() {
this.hasClaimed = !1;
}, r.__decorate([ o.observable ], e.prototype, "hasClaimed", void 0), r.__decorate([ o.computed ], e.prototype, "isClaimable", null), 
r.__decorate([ o.action ], e.prototype, "claim", null), r.__decorate([ o.action ], e.prototype, "unclaim", null), 
e;
}();
t.Mission = a;
var s = function(e) {
function t(t) {
var n = e.call(this, {
fragmentTtl: 6e4
}) || this;
return n.clients = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getMissions.request({
game: t
});
e.useClientResult(n, function(e) {
return e.map(function(e) {
return a.fromBackend(e);
});
});
}, t.prototype.getMissions = function(e) {
return this.getOrFetchFragment(e, e);
}, t.prototype.claimReward = function(e) {
e.claim();
var t = this.clients.claimReward.request({
missionId: e.id
});
return t.onSuccess(function(t) {
t.claimed || e.unclaim();
}), t.onError(function() {
e.unclaim();
}), t;
}, t;
}(i.FragmentStore);
t.MissionsStore = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(24), o = n(1255);
t.missionsClients = o.createClients(r.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClients = function o(e) {
return {
getMissions: new r.Client("Missions.getMissions", {
throttleTimeout: 3e4,
requestPerformer: e
}),
claimReward: new r.Client("Missions.claimRewardFor", {
throttleTimeout: 1e3,
requestPerformer: e
})
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(431), a = function(e) {
function t(t, n) {
var r = e.call(this, {
fragmentTtl: 6e4
}) || this;
return r.gameId = t, r.clients = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getPlayerCampaignStatus.request(t);
e.useClientResult(n, function(t) {
if (t) {
var n = void 0;
return (n = e.value instanceof i.TunguskaOperationsCampaign ? e.value : new i.TunguskaOperationsCampaign()).updateFromBackend(t), 
n;
}
});
}, t.prototype.fromBackendEor = function(e) {
var t = this.getFragment(this.gameId);
if (t.value instanceof i.TunguskaOperationsCampaign) t.value.updateFromBackend(e); else {
var n = new i.TunguskaOperationsCampaign();
n.updateFromBackend(e), t.setValue(n);
}
}, t.prototype.get = function() {
return this.getOrFetchFragment(this.gameId, {
game: this.gameId
});
}, t.prototype.expire = function() {
return this.expireFragment(this.gameId);
}, t;
}(o.FragmentStore);
t.TunguskaOperationsCampaignStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1258), o = n(24);
t.tunguskaAssignmentsClients = r.createClients(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClients = function o(e) {
return {
getMissions: new r.Client("Progression.getMissions", {
throttleTimeout: 1e4,
requestPerformer: e
}),
getMission: new r.Client("Progression.getMission", {
throttleTimeout: 1e4,
requestPerformer: e
})
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1260), o = n(24);
t.tunguskaOperationsCampaignClient = r.createClient(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClient = function o(e) {
return {
getPlayerCampaignStatus: new r.Client("CampaignOperations.getPlayerCampaignStatus", {
throttleTimeout: 5e3,
requestPerformer: e
})
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(59), o = function() {
function e(e) {
this.frostbite = e;
}
return e.prototype.getAssignmentProgress = function(e) {
var t = this;
return this.refreshAssignments().then(function() {
return t.getProgress(e);
});
}, e.prototype.refreshAssignments = function() {
var e = this;
return new Promise(function(t) {
var n = -1, r = e.frostbite.registerMessageListener("tunguska.assignmentRefreshDone", function() {
clearTimeout(n), t(!0);
});
n = setTimeout(function() {
r(), t(!1);
}, 1e3), e.frostbite.sendMessage("tunguska.refreshAssignments", {});
});
}, e.prototype.getProgress = function(e) {
var t = this;
return new Promise(function(n) {
var r = t.frostbite.registerMessageListener("tunguska.assignmentProgressResponse", function(t, o) {
o.awardCode === e && (r(), n(o));
});
t.frostbite.sendMessage("tunguska.assignmentProgressRequest", {
awardCode: e
});
});
}, e;
}();
t.TunguskaIngameAssignmentProgressClient = o, t.tunguskaIngameAssignmentProgressClient = new o(r.frostbite);
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(98), a = n(1263), s = n(430), u = n(267), l = n(10), c = n(198), p = n(92), d = n(120), f = n(111), m = n(22), h = n(42), g = e.get("QuickmatchState"), y = function() {
function e(e, t, n, a) {
var d = this;
this.sparta = e, this.gameStore = t, this.nativePropertiesStore = n, this.gameId = a, 
this.quickmatchData = null, this.entrySelectionState = new i.ListSelectionState(), 
this.optionSelectionState = new i.ListSelectionState(!0), this.entriesFocusGroup = m.focusSystem.createStaticGroup("qm_entries_list"), 
this.optionsFocusGroup = m.focusSystem.createStaticGroup("qm_options_list"), this.debug = !1, 
this.tryMatchmaking = function(e, t, n) {
e ? (d.startMatchmaking(n), d.sparta.stores.gaStore.trackScreen(d.currentPath + "/start")) : c.validateContentAccessToServerWithPopup(d.gameId, t);
}, this.startMatchmaking = function(e) {
var t = d.gameId;
if (d.nativePropertiesStore.isHostingGame(t)) {
if (d.quickmatchData) {
var n = r.__assign({}, s.QuickmatchData.baseFilter);
if (e.length > 0) {
var o = {};
e.forEach(function(e) {
o[e] = p.FilterValue.ON;
}), n.experiences = o;
}
if (d.selectedEntry && "gameMode" === d.selectedEntry.kind) {
var i = {};
i[d.selectedEntry.filterKey] = p.FilterValue.ON, n.gameModes = i, u.tryShowTutorial(d.sparta, "", d.selectedEntry.filterKey, t).then(function() {
l.matchmakingManager.start(t, new p.GameFilter(n)).onFinished(function(e) {
return d.trackMatchmaker(e.session);
});
});
} else l.matchmakingManager.start(t, new p.GameFilter(n)).onFinished(function(e) {
return d.trackMatchmaker(e.session);
});
}
} else f.showNotInHostingGame();
}, this.focusOptionsList = function() {
var e = d.optionsFocusGroup.members[0];
e && (d.optionSelectionState.setActiveItem(0), e.setFocused(h.FocusSource.Auto, !0));
}, this.entriesFocusGroup.behavior = h.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | h.GroupBehavior.VERTICAL, 
this.optionsFocusGroup.behavior = h.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | h.GroupBehavior.VERTICAL, 
o.reaction(function() {
return -1 !== d.entriesFocusGroup.focusedIndex ? d.entriesFocusGroup.focusedIndex : d.entriesFocusGroup.hoveredIndex;
}, function(e) {
-1 !== e && d.optionSelectionState.setActiveItem(-1);
}), o.reaction(function() {
return d.selectedEntry;
}, function() {
e.stores.gaStore.trackScreen(d.currentPath);
}), o.reaction(function() {
return d.selectedOption;
}, function() {
!d.selectedOption || d.selectedEntry && "experience" === d.selectedEntry.kind || e.stores.gaStore.trackScreen(d.currentPath);
});
}
return e.prototype.log = function(e) {
for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
this.debug && g.log.apply(g, [ e ].concat(t));
}, Object.defineProperty(e.prototype, "optionFilter", {
get: function() {
var e = this.gameStore.getGame(this.gameId), t = e && e.quickmatchConfig.optionFilter;
return t || function(e, t) {
return e;
};
},
enumerable: !0,
configurable: !0
}), e.prototype.trackMatchmaker = function(e) {
e.stateId === d.MatchmakingState.SUCCESS && (this.log("Telemetry Success ", this.currentPath, this.currentPathParams), 
this.sparta.stores.gaStore.trackScreen(this.currentPath + "/success" + this.currentPathParams)), 
e.stateId === d.MatchmakingState.CANCELED && (this.log("Telemetry SessionCanceling ", this.currentPath, this.currentPathParams), 
this.sparta.stores.gaStore.trackScreen(this.currentPath + "/cancelled" + this.currentPathParams)), 
e.stateId === d.MatchmakingState.ERROR && (this.log("Telemetry " + e.blazeStatus + " ", this.currentPath, this.currentPathParams), 
this.sparta.stores.gaStore.trackScreen(this.currentPath + "/failed" + this.currentPathParams));
}, Object.defineProperty(e.prototype, "premiumIconUrl", {
get: function() {
var e = this.gameStore.getGame(this.gameId);
return e && e.premiumConfig && e.premiumConfig.premiumIconUrl;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "currentPath", {
get: function() {
var e = this.gameId + "/mp/quickmatch";
return this.selectedEntry ? ("experience" === this.selectedEntry.kind ? e += "/experience/" + this.selectedEntry.id : "gameMode" === this.selectedEntry.kind && (e += "/" + this.selectedEntry.filterKey.toLowerCase()), 
this.selectedOption && this.selectedOption.id && (e += "/" + this.selectedOption.id.toLowerCase()), 
e) : e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "currentPathParams", {
get: function() {
var e = "";
return this.selectedEntry && (e += "?isNewEntry=" + this.selectedEntry.isNew, this.selectedOption && (e += "&isNewOption=" + this.selectedOption.isNew, 
this.selectedOption.tag && (e += "&tag=" + this.selectedOption.tag.id))), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "selectedEntry", {
get: function() {
var e = this;
if (this.quickmatchData) {
var t, n = 0;
return this.quickmatchData.groups.every(function(r) {
var o = r.entries.length;
return e.entrySelectionState.activeItemIndex < n + o ? (t = r.entries[e.entrySelectionState.activeItemIndex - n], 
!1) : (n += o, !0);
}), t;
}
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "filteredOptions", {
get: function() {
return this.selectedEntry ? this.optionFilter(this.selectedEntry.options, this.selectedEntry.kind) : [];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "firstOption", {
get: function() {
return this.filteredOptions[0];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "selectedOption", {
get: function() {
if (this.selectedEntry) return this.filteredOptions[this.optionSelectionState.activeItemIndex];
},
enumerable: !0,
configurable: !0
}), e.prototype.fetch = function() {
var e = this, t = a.quickmatchDataStore.get(this.gameId);
o.when(function() {
return t.isReady;
}, o.action(function() {
e.quickmatchData = t.value;
}));
}, Object.defineProperty(e.prototype, "fragment", {
get: function() {
return a.quickmatchDataStore.get(this.gameId);
},
enumerable: !0,
configurable: !0
}), e.prototype.hasExpansionsAccess = function(e) {
var t = this;
return !!l.freemiumStore.canJoinWithFreemium || (0 === e.length || e.every(function(e) {
return c.validateExpansionAccess(t.gameId, e);
}));
}, r.__decorate([ o.observable ], e.prototype, "quickmatchData", void 0), r.__decorate([ o.computed ], e.prototype, "optionFilter", null), 
r.__decorate([ o.computed ], e.prototype, "selectedEntry", null), r.__decorate([ o.computed ], e.prototype, "filteredOptions", null), 
r.__decorate([ o.computed ], e.prototype, "firstOption", null), r.__decorate([ o.computed ], e.prototype, "selectedOption", null), 
e;
}();
t.QuickmatchState = y;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1264), o = n(1265), i = n(128);
t.quickmatchDataStore = new r.QuickmatchDataStore(o.quickmatchDataClient, i.gameDataStore);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(30), a = n(430), s = function(e) {
function t(t, n) {
var r = e.call(this) || this;
return r.client = t, r.gameDataStore = n, r;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.client.request(t), r = this.gameDataStore.get(t.game);
o.when(function() {
return r.isReady;
}, function() {
var t = r.value;
t ? e.useClientResult(n, function(e) {
return a.QuickmatchData.fromBackend(e, t);
}) : e.setFailstate(r.failstate);
});
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t;
}(i.FragmentStore);
t.QuickmatchDataStore = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1266), o = n(24);
t.quickmatchDataClient = r.createClient(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClient = function o(e) {
return new r.Client("Quickmatch.getData", {
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e) {
this.tunguskaEndOfRoundStore = e;
}
return Object.defineProperty(e.prototype, "ready", {
get: function() {
return !(!this.tunguskaEndOfRoundStore.data && !this.tunguskaEndOfRoundStore.unrankedData);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "shouldSkipView", {
get: function() {
return !this.activeWave || !this.activeWave.title || !this.activeWave.stage;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "activeWave", {
get: function() {
if (this.tunguskaEndOfRoundStore.data && this.tunguskaEndOfRoundStore.data.preEndOfRoundWave) {
var e = this.tunguskaEndOfRoundStore.data.preEndOfRoundWave.wave, t = Date.now() / 1e3, n = e.stages.filter(function(e) {
return parseInt(e.startTime, 10) <= t;
}).sort(function(e, t) {
return parseInt(e.startTime, 10) - parseInt(t.startTime, 10);
}).find(function(e) {
return e.progress.valueAcquired < e.progress.valueNeeded;
});
return {
title: e.title,
stage: n
};
}
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "title", {
get: function() {
return this.activeWave ? this.activeWave.title : "";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "progressScore", {
get: function() {
if (!this.activeWave || !this.activeWave.stage) return 0;
var e = this.tunguskaEndOfRoundStore.data;
return e && e.personalInfo && e.personalInfo.stats ? Math.min(this.activeWave.stage.progress.valueNeeded, this.activeWave.stage.progress.valueAcquired + e.personalInfo.stats.roundScore.value) : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hasProgress", {
get: function() {
return !(!this.activeWave || !this.activeWave.stage) && this.progressScore > this.activeWave.stage.progress.valueAcquired;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isCompleted", {
get: function() {
return !(!this.activeWave || !this.activeWave.stage) && this.progressScore >= this.activeWave.stage.progress.valueNeeded;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.computed ], e.prototype, "ready", null), r.__decorate([ o.computed ], e.prototype, "shouldSkipView", null), 
r.__decorate([ o.computed ], e.prototype, "activeWave", null), r.__decorate([ o.computed ], e.prototype, "title", null), 
r.__decorate([ o.computed ], e.prototype, "progressScore", null), r.__decorate([ o.computed ], e.prototype, "hasProgress", null), 
r.__decorate([ o.computed ], e.prototype, "isCompleted", null), e;
}();
t.TunguskaEndOfRoundBattleplanStore = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(24);
t.getOperations = function o(e, t) {
var n = {
game: e,
region: t,
stopCountingAt: 100,
protocolVersion: 80
};
return r.request("GameServer.getOperations", n).then(function(e) {
return Object.keys(e).map(function(t) {
return e[t];
});
}).catch(function() {
return console.warn("Could not fetch operations"), [];
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(1270), a = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.client = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.client.request(t);
e.useClientResult(n, i.Ribbons.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.RibbonStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(1271), a = function() {
function e(e) {
this.groups = [], e && (this.groups = e.map(function(e) {
return new i.RibbonCategoryGroup(e.name || "", e.awards || []);
}));
}
return e.fromBackend = function(t) {
return new e(t);
}, Object.defineProperty(e.prototype, "asList", {
get: function() {
var e = [];
return this.groups.forEach(function(t) {
e = e.concat(t.items.slice());
}), e;
},
enumerable: !0,
configurable: !0
}), e.prototype.getRibbon = function(e) {
for (var t = 0, n = this.asList; t < n.length; t++) {
var r = n[t];
if (r.code === e) return r;
}
}, r.__decorate([ o.computed ], e.prototype, "asList", null), e;
}();
t.Ribbons = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(377), a = function() {
function e(e, t) {
this.name = e, this.items = this._arrangeAwards(t);
}
return e.prototype._arrangeAwards = function(e) {
var t = e.filter(function(e) {
return !(e.expansions && e.expansions.length > 0);
}), n = e.filter(function(e) {
return e.expansions && e.expansions.length > 0;
});
return n.sort(function(e, t) {
var n = e.expansions && e.expansions.length ? i.getXpackNumber(e.expansions[0].license) : -1, r = t.expansions && t.expansions.length ? i.getXpackNumber(t.expansions[0].license) : -1;
return (n || 0) - (r || 0);
}), t.concat(n);
}, r.__decorate([ o.observable ], e.prototype, "name", void 0), r.__decorate([ o.observable ], e.prototype, "items", void 0), 
e;
}();
t.RibbonCategoryGroup = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1273), o = n(24);
t.ribbonClient = r.createClient(o.request);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createClient = function o(e) {
return new r.Client("Progression.getRibbons", {
throttleTimeout: 1e4,
requestPerformer: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
this.items = e;
}
return e.fromBackend = function(t) {
return new e(t);
}, e.prototype.getItem = function(e) {
return this.items[e];
}, e;
}();
t.ItemsGating = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t, n, r) {
this.items = [], this.name = t, this.categoryId = r, this.items = n;
};
}();
t.WeaponCategory = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.name = t.name, this.progression = t.progression, this.items = t.items, this.images = t.images;
};
}();
t.KitWeaponCategory = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(196), a = function() {
function e() {
this.queue = new i.QueueInfo();
}
return e.prototype.leaveServer = function() {
this.server = void 0, this.role = void 0;
}, e.prototype.resetQueue = function(e) {
this.queue.resetQueue(e);
}, e.prototype.setQueueInfo = function(e) {
var t, n = this.server ? this.server.game : "", r = this.queue;
if (r.blazeGameId !== e.blazeGameId) {
var o = e.gameId || n;
t = new i.QueueInfo(Object.assign({}, e, {
gameId: o
}));
} else t = new i.QueueInfo(Object.assign({}, r, e));
this.queue = t;
}, e.prototype.isRole = function(e) {
return this.role === e;
}, Object.defineProperty(e.prototype, "gameId", {
get: function() {
return this.server && this.server.game || "";
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.observable ], e.prototype, "server", void 0), r.__decorate([ o.observable ], e.prototype, "role", void 0), 
r.__decorate([ o.observable ], e.prototype, "queue", void 0), r.__decorate([ o.action ], e.prototype, "leaveServer", null), 
r.__decorate([ o.action ], e.prototype, "resetQueue", null), r.__decorate([ o.action ], e.prototype, "setQueueInfo", null), 
r.__decorate([ o.computed ], e.prototype, "gameId", null), e;
}();
t.ServerState = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(269), o = n(1279), i = function() {
function e(e) {
var t = this;
this.duplicateCount = 0, this.duplicateScrapValue = 0;
var n = 0, i = 0;
this.items = e.items.map(function(e) {
var t = new r.BattlepackItem(e);
return t.quantity > 1 && !e.nugget && t.scrapValue && (i = i + t.quantity - 1, n += (t.quantity - 1) * t.scrapValue), 
t;
}), this.duplicateCount = i, this.duplicateScrapValue = n, this.categories = e.categories.map(function(e) {
return new o.BattlepackInventoryCategory(e, t.items.filter(function(t) {
return (t.category && t.category.toLowerCase()) === e.key.toLowerCase();
}));
});
}
return e.fromBackend = function(t) {
return new e(t);
}, e.prototype.getItemByKey = function(e) {
var t = this.items;
return t && t.find(function(t) {
return t.key === e;
});
}, e;
}();
t.BattlepackInventory = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e, t) {
this.key = e.key, this.name = e.name, this.items = t.sort(function(e, t) {
var n = Math.min(t.quantity, 1) - Math.min(e.quantity, 1);
if (0 !== n) return n < 0 ? -1 : 1;
var r = ("BLUEPRINT" === t.itemType ? 0 : 1) - ("BLUEPRINT" === e.itemType ? 0 : 1);
if (0 !== r) return r;
var o = (t.rarenessLevel ? t.rarenessLevel.value : 0) - (e.rarenessLevel ? e.rarenessLevel.value : 0);
if (0 !== o) return o;
var i = e.name ? e.name : e.key, a = t.name ? t.name : t.key;
return i < a ? -1 : i > a ? 1 : 0;
});
}
return Object.defineProperty(e.prototype, "stats", {
get: function() {
var e = 0, t = 0;
return this.items.forEach(function(n) {
"BLUEPRINT" !== n.itemType.toUpperCase() && (e++, n.quantity && t++);
}), {
total: e,
quantity: t
};
},
enumerable: !0,
configurable: !0
}), e;
}();
t.BattlepackInventoryCategory = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(234), o = n(1281), i = function() {
return function e(t) {
this.name = t.name, this.unlocked = t.unlocked, this.total = t.total, this.xpack = t.xpack, 
this.items = t.items.map(function(e) {
return new o.BattlepackPuzzle(new r.Battlepack(e));
});
};
}();
t.BattlepackPuzzleCategory = i;
var a = function() {
function e(e) {
this.categories = e.map(function(e) {
return new i(e);
});
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.BattlepackPuzzleCategories = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
this.pack = e, this.descriptionText = this.pack.descriptionText, this.images = this.pack.images, 
this.packKey = this.pack.packKey, this.items = this.pack.items, this.prices = this.pack.prices;
}
return Object.defineProperty(e.prototype, "item", {
get: function() {
if (this.items && this.items.length) return this.items[0];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "price", {
get: function() {
if (this.prices && this.prices.length && this.prices[0].length) return this.prices[0][0];
},
enumerable: !0,
configurable: !0
}), e;
}();
t.BattlepackPuzzle = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = 0, o = function() {
function e(e) {
this.version = r++, this.progression = e.progression, this.rarestImage = e.rarestImage, 
this.unopened = e.unopened;
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.BattlepackWidget = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
function e(e) {
this.battlepacks = e.battlepacks, this.cash = e.cash, this.items = e.items, this.scraps = e.scraps, 
this.progression = e.progression;
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.BattlepackSummary = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(234), o = function() {
function e(e) {
this.battlepacks = [], this.battlepacks = e.map(function(e) {
return new r.Battlepack(e);
});
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.BattlepackUnopened = o;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(53), r = n(194), o = n(41), i = n(10), a = n(121), s = n(59);
function u(t) {
var n = new Promise(function(t) {
e.hide(), t();
});
i.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
return n.then(t);
}, 1);
}
function l(e, t) {
e.withBlackFade ? c(e, t) : p(e, t);
}
function c(e, t) {
a.blackFadeUntil(function() {
return new Promise(function(n) {
r.changeGameViewContentVisibility(!1), p(e, function() {
t && t(), n();
});
});
});
}
function p(t, n) {
u(function() {
t.changeRoute && e.route(t.changeRoute), n && n(), s.frostbite.sendMessage("sparta.gameResume");
});
}
t.enterGame = function d(e, t) {
void 0 === e && (e = {}), e.showGameReadyPopup ? o.legacyConfirm(__("ID_SPARTA_PLAYING_JOIN_NOW", !0), __("ID_SPARTA_PLAYING_GAME_READY", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "gotoGame").then(function() {
l(e, t);
}) : l(e, t);
}, t.confirmToQuit = function f(e) {
e && o.legacyConfirm(__("ID_SPARTA_MENU_EXIT_PROMPT", !0), __("ID_SPARTA_MENU_EXIT_TITLE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_CANCEL", !0), "leaveServer").then(function() {
return e();
});
}, t.hideSpartaComponentsAndGameView = u, t.hideAndResumeWithBlackFade = c, t.cleanGameMode = function m(e) {
return e.replace("0", "").replace("1", "");
}, t.cleanLevelName = function h(e) {
var t = e.lastIndexOf("/");
return e.substring(t + 1);
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = function() {
function e(e, t, n, r) {
this.levelName = e, this.levelPath = t, this.description = n, this.gameMode = r;
}
return Object.defineProperty(e.prototype, "mapName", {
get: function() {
if (this.levelPath) {
var e = this.levelPath.lastIndexOf("/");
if (e > -1) return this.levelPath.substring(e + 1);
}
return null;
},
enumerable: !0,
configurable: !0
}), e;
}();
t.MPLevelItem = i;
var a = function() {
function e() {
this.currentObjective = null, this.currentMPLevel = null;
}
return e.prototype.updateObjective = function(e) {
this.currentObjective = e;
}, e.prototype.updateMPLevel = function(e) {
this.currentMPLevel = e;
}, r.__decorate([ o.observable ], e.prototype, "currentObjective", void 0), r.__decorate([ o.observable ], e.prototype, "currentMPLevel", void 0), 
r.__decorate([ o.action ], e.prototype, "updateObjective", null), r.__decorate([ o.action ], e.prototype, "updateMPLevel", null), 
e;
}();
t.TunguskaLevel = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r, o = n(0), i = n(3), a = n(87), s = n(10), u = n(61), l = new (function() {
function e() {
var e = this;
this.now = Date.now(), setInterval(function() {
return e.tickTime();
}, 5e3);
}
return e.prototype.setFragment = function(e) {
this.fragment = e;
}, e.prototype.tickTime = function() {
this.now = Date.now();
}, Object.defineProperty(e.prototype, "data", {
get: function() {
return this.fragment && this.fragment.isReady && this.fragment.value ? this.fragment.value : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "activeCampaign", {
get: function() {
return this.data ? parseInt(this.data.campaignIndex, 10) : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "completionCount", {
get: function() {
return this.data ? this.data.currentCompletionCount : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isLocked", {
get: function() {
return !(!this.data || !this.data.dailyLimitReached) && this.data.minutesToDailyReset - this.minutesSinceFetch > 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "lockDesc", {
get: function() {
if (this.data && this.isLocked) {
var e = __("ID_SPARTA_TUNGUSKA_OPR_CAMPAIGN_RETRY_IN"), t = 60 * (this.data.minutesToDailyReset - this.minutesSinceFetch) * 1e3;
return u.formatDateDifference(e, t, !0).toUpperCase();
}
return "";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "battlepackDesc", {
get: function() {
return this.data && this.data.currentBattlepack ? this.data.currentBattlepack.visualName : "";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "battlepackImageId", {
get: function() {
return this.data && this.data.currentBattlepack ? "Battlepack" + this.data.currentBattlepack.rarenessLevel.name : "BattlepackStandard";
},
enumerable: !0,
configurable: !0
}), e.minutesToTime = function(e) {
var t = e % 60, n = (e - t) / 60, r = n % 24;
return {
d: (n - r) / 24,
m: t,
h: r
};
}, Object.defineProperty(e.prototype, "minutesLeft", {
get: function() {
var e = this.data ? this.data.minutesRemaining - this.minutesSinceFetch : 0;
return e < 0 ? 0 : Math.floor(e);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "hoursLeft", {
get: function() {
return Math.floor(this.minutesLeft / 60);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "daysLeft", {
get: function() {
return Math.floor(this.minutesLeft / 1440);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "timeLeftDesc", {
get: function() {
if (!this.data) return "";
var e = __("ID_SPARTA_TUNGUSKA_OPR_CAMPAIGN_TIME_LEFT"), t = 60 * (this.data.minutesRemaining - this.minutesSinceFetch) * 1e3;
return u.formatDateDifference(e, t, !0).toUpperCase();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "operationsStatus", {
get: function() {
if (!this.data) return [];
var e = [];
return this.data.availableOperations.forEach(function(t) {
e.push({
operationIndex: t.operationIndex,
currentScore: t.currentScore,
requiredScore: t.requiredScore
});
}), e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "minutesSinceFetch", {
get: function() {
return this.data && this.data.fetchedAt > 0 ? Math.max(0, Math.floor((this.now - this.data.fetchedAt) / 6e4)) : 0;
},
enumerable: !0,
configurable: !0
}), o.__decorate([ i.observable ], e.prototype, "now", void 0), o.__decorate([ i.action ], e.prototype, "tickTime", null), 
o.__decorate([ i.computed ], e.prototype, "data", null), o.__decorate([ i.computed ], e.prototype, "activeCampaign", null), 
o.__decorate([ i.computed ], e.prototype, "completionCount", null), o.__decorate([ i.computed ], e.prototype, "isLocked", null), 
o.__decorate([ i.computed ], e.prototype, "lockDesc", null), o.__decorate([ i.computed ], e.prototype, "battlepackDesc", null), 
o.__decorate([ i.computed ], e.prototype, "battlepackImageId", null), o.__decorate([ i.computed ], e.prototype, "minutesLeft", null), 
o.__decorate([ i.computed ], e.prototype, "hoursLeft", null), o.__decorate([ i.computed ], e.prototype, "daysLeft", null), 
o.__decorate([ i.computed ], e.prototype, "timeLeftDesc", null), o.__decorate([ i.computed ], e.prototype, "operationsStatus", null), 
o.__decorate([ i.computed ], e.prototype, "minutesSinceFetch", null), e;
}())();
function c() {
l.setFragment(a.tunguskaOperationsCampaignStore.get());
}
t.initializePlayerCampaignStatusBinding = function p(t) {
t.registerMessageListener("tunguska.getCampaignOperationsData", function() {
!function n(t) {
l.setFragment(a.tunguskaOperationsCampaignStore.get()), e && e(), r && clearInterval(r), 
e = i.autorun(function() {
l.data && l.minutesLeft > 0 ? (r && clearInterval(r), t.sendMessage("tunguska.setOperationsCampaignData", {
activeCampaign: l.activeCampaign,
completionCount: l.completionCount,
isLocked: l.isLocked,
lockDesc: l.lockDesc,
battlepackDesc: l.battlepackDesc,
battlepackImageId: l.battlepackImageId,
timeLeftDesc: l.timeLeftDesc,
operationsStatus: l.operationsStatus
}), l.minutesLeft <= 5 && l.setFragment(a.tunguskaOperationsCampaignStore.get())) : (t.sendMessage("tunguska.setOperationsCampaignData", {
activeCampaign: -1
}), r = setInterval(c, 6e4));
});
}(t);
}), i.reaction(function() {
return s.spartaActivatedStore.lastReceived;
}, function() {
e && e(), r && clearInterval(r);
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.getPingSiteLatencyList = function r(e, t) {
var n = t.getState()[e];
if (!n) return console.error("Matchmaking: Falsey pingSites for gameId " + e), [];
var r = Object.keys(n).filter(function(e) {
return !!n[e].ping;
});
return 0 === r.length ? (console.error("Matchmaking: Zero responsive ping sites available"), 
[]) : r.map(function(e) {
return {
alias: e,
latencyMS: n[e].ping || 0
};
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(51), o = n(139), i = n(10), a = n(31);
t.tunguskaAbstractGameBindings = function s() {
o.joinMultiplayerServer.listen(function(e) {
e.server.game === a.tunguskaGameId && i.nativePropertiesStore.getHostingGameId() === a.tunguskaGameId && r.joinGame(e);
}), o.joinMultiplayerFriend.listen(function(e) {
e.gameId === a.tunguskaGameId && i.nativePropertiesStore.getHostingGameId() === a.tunguskaGameId && r.joinGame(e);
}), o.continueSinglePlayer.listen(function(e) {
e === a.tunguskaGameId && i.nativePropertiesStore.getHostingGameId() === a.tunguskaGameId && r.enterCampaign();
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(51), o = n(36);
t.tunguskaTelemetryBindings = function i() {
r.enterCampaign.listen(function() {
o.trackGameStart({
gameType: "offline",
gameMode: "sp_campaign"
});
}), r.enterOperations.listen(function() {
o.trackScreen("tunguska/mp/operations"), o.trackGameStart({
gameType: "online",
gameMode: "mp_operations"
});
}), r.joinGame.listen(function(e) {
var t = e.server || {
mapMode: "",
mapName: ""
};
o.trackScreen("tunguska/mp/" + t.mapMode + "/" + t.mapName);
var n = {
gameType: "online_mp",
gameMode: "mp_" + t.mapMode,
gameSessionId: t.gameId,
blazeMatchId: t.gameId,
map: t.mapName,
mid: t.gameId,
gid: t.guid
};
o.trackGameStart(n);
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(51), o = n(31), i = n(10), a = n(175), s = n(299), u = n(124), l = n(46), c = n(59);
t.fetcher = l.requester.createClient({
requestOn: [ r.getCurrentMedals ],
updateOn: [ a.frostbiteListenable("tunguska.currentMedalsResponse") ],
request: function() {
return c.frostbite.sendMessage("tunguska.currentMedalsRequest");
},
parse: function(e) {
var t = i.medalStore.nativeCurrentMedals.get(o.tunguskaGameId);
return e.currentMedals.map(function(n) {
var r, o;
if (n.currentStage && n.numMedalStages) {
var i = Math.max(n.currentStage.stage - 1, 0), a = n.numMedalStages;
r = new u.Progression({
valueAcquired: i,
valueNeeded: a,
unlocked: !!n.completed
}), o = n.currentStage.awardCode;
} else if (t) {
var l = t.find(function(e) {
return e.code === n.awardCode;
});
l && (r = l.currentProgression, o = l.currentStageCode);
}
return new s.CurrentMedal({
code: n.awardCode,
isSelected: e.selectedMedal === n.awardCode,
currentProgression: r,
currentStageCode: o
});
});
},
update: function(e, n) {
i.medalStore.setCurrentMedals(o.tunguskaGameId, e), !e.find(function(e) {
return e.isSelected;
}) && e[0] && t.tracker.trigger(e[0]);
}
}), t.tracker = l.requester.createClient({
requestOn: [ r.selectCurrentMedal ],
request: function(e) {
return e.code && (c.frostbite.sendMessage("tunguska.selectMedal", {
awardCode: e.code
}), i.medalStore.selectCurrentMedal(o.tunguskaGameId, e.code)), Promise.resolve();
},
parse: function() {},
update: function() {}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(73), o = n(10), i = n(46), a = n(51), s = n(322), u = n(31), l = n(128);
t.TunguskaUnrankedEorClient = i.requester.createClient({
requestOn: [ a.updateUnrankedEorData ],
request: function(e) {
return new Promise(function(t) {
t(e);
});
},
parse: function(e) {
return function t(e) {
var t = o.onlineState.sessionUser, n = t && t.spartaUserId.personaId || "", r = t && t.spartaUserId.personaName || "", i = new s.EndOfRoundPersonalStats({
personaId: n,
squadId: 0,
teamId: 0,
name: r
}), a = [], c = {
1: [],
2: []
};
e.playerList.players.forEach(function(e, t) {
e.personaId === n && i.updateInfo(e.squadId, e.teamId, e.name);
var r = new s.EndOfRoundScoreboardEntry({
deaths: e.score.deaths,
didFinish: !e.isSpectator,
kills: e.score.kills,
name: e.name,
personaId: e.personaId,
platformId: "",
placing: t,
rank: e.score.rank,
score: e.score.score,
squadId: e.squadId,
teamId: e.teamId
});
c[e.teamId].push(r);
}), e.playerList.teams.forEach(function(t) {
if (t.TeamId && t.TeamId > 0) {
var n = t.FactionId ? t.FactionId.toString() : "", r = new s.EndOfRoundFaction(n, function o(e) {
var t, n = l.gameDataStore.get(u.tunguskaGameId).value;
if (e && n && n.factions) {
var r = n.factions, o = r.filter(function(t) {
return t.name.toLowerCase() === e.toLowerCase();
});
if (o && o.length > 0) {
var i = o[0];
t = i.images.Png160xANY;
}
}
return t;
}(t.FactionName), t.FactionName), i = e.winningTeam === t.TeamId, p = c[t.TeamId], d = p.sort(function(e, t) {
return t.score - e.score;
});
a.push(new s.EndOfRoundTeam(t.TeamId, r, d, void 0, i));
}
});
var p = new s.EndOfRoundScoreboard(a, e.winningTeam), d = e.mapName.lastIndexOf("/"), f = e.mapName.substring(d + 1), m = new s.EndOfRoundServerInfo({
map: new s.EndOfRoundMap(f, "", ""),
mode: new s.EndOfRoundGameMode(e.gameMode, ""),
roundDuration: e.roundPlayTime
});
return new s.UnrankedEndOfRoundData(e.roundId, i, p, m);
}(e);
},
update: function(e) {
r.tunguskaEndOfRoundStore.setUnRankedData(e);
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(1294), a = n(1305), s = n(1307), u = n(1328), l = n(624), c = n(1336), p = n(1338), d = n(1340), f = n(1343), m = n(74), h = n(10), g = n(4), y = n(224), S = n(1345), v = n(330), _ = n(7), b = n(71);
var T = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = _.SpartaContext.getFromComponent(r), r.preloader = b.textureHandler.createPreloader(r), 
r;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this, t = this.sparta.theme.getTheme(this);
(function n(e) {
return [ e.Accept, e.Decline, e.Option1, e.Option2, e.Option3, e.Option4, e.Start ];
})(this.sparta.inputButtonIcons.get(t)).forEach(function(t) {
t && e.preloader.preload(t, "SpartaCommonAtlas");
});
}, t.prototype.getComponent = function() {
var e = h.gameStateStoreLoader.get(), t = e.currentGameViewRoute, n = e.currentGameViewSubRoute, r = n !== m.GameViewSubRoute.NONE ? n.split("?")[0] : "";
if (t && /playing\/wwcesupport\/help/.test(t)) return S.Help;
switch (r) {
case m.GameViewSubRoute.RSP_ADMIN:
return i.RSPAdmin;

case m.GameViewSubRoute.SERVER_DETAILS:
return c.IngameServerDetails;

case m.GameViewSubRoute.BATTLEPACKS:
return v.Battlepacks;

case m.GameViewSubRoute.SURVEY:
return p.Survey;

case m.GameViewSubRoute.MEDALS:
return a.CurrentMedals;
}
switch (t) {
case m.GameViewRoute.PLAYING:
return u.Playing;

case m.GameViewRoute.OPERATIONS_PRE_EOR:
return d.OperationsPreEor;

case m.GameViewRoute.BATTLEPLAN_PRE_EOR:
return f.BattleplanPreEor;

case m.GameViewRoute.EOR:
return s.EndOfRound;

case m.GameViewRoute.LOADING:
return l.Loading;
}
return null;
}, t.prototype.render = function() {
var e = this.getComponent(), t = h.gameStateStoreLoader.get(), n = t.previousGameViewRoute, r = t.currentGameViewRoute, i = !0;
if (r !== m.GameViewRoute.OPERATIONS_PRE_EOR && n !== m.GameViewRoute.OPERATIONS_PRE_EOR || (i = !1), 
r !== m.GameViewRoute.BATTLEPLAN_PRE_EOR && n !== m.GameViewRoute.BATTLEPLAN_PRE_EOR || (i = !1), 
e) {
var a = o.createElement(e);
return i ? o.createElement(y.Fader, {
transitionId: r,
duration: 50
}, a) : o.createElement("surface", null, a);
}
return null;
}, t.contextTypes = _.SpartaContext.contextTypes, t = r.__decorate([ g.observer ], t);
}(o.Component);
t.TunguskaGameView = T;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(1295), s = n(1297), u = n(6), l = n(23), c = n(19), p = n(1298), d = n(1299), f = n(444), m = n(270), h = n(223), g = n(1303), y = n(5).StaticStyle.create({
flex: 1,
alignItems: "center"
}, "639f6486:92:29"), S = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.tabIndex = 0, e.previousTabIndex = 0, e.prevTab = function() {
e.goToTab(e.tabIndex - 1);
}, e.goToTab = o.action(function(t) {
var n = e.getTabs();
t > n.length - 1 ? t = 0 : t < 0 && (t = n.length - 1), e.previousTabIndex = e.tabIndex, 
e.tabIndex = t;
}), e.nextTab = function() {
e.goToTab(e.tabIndex + 1);
}, e;
}
return e.__extends(n, t), n.prototype.getTabs = function() {
return [ {
component: a.RSPAdminBanKick,
id: "players",
title: function() {
return __("ID_SPARTA_SERVER_PLAYERS");
}
}, {
component: s.RSPAdminBanList,
id: "ban",
title: function() {
return __("ID_SPARTA_RSPADMIN_BAN_LIST");
}
}, {
component: p.RSPAdminVipList,
id: "vip",
title: function() {
return __("ID_SPARTA_RSPADMIN_VIP_LIST");
}
}, {
component: d.RSPAdminModList,
id: "moderator",
title: function() {
return __("ID_SPARTA_RSPADMIN_MOD_LIST");
}
}, {
component: g.RSPAdminActions,
id: "actions",
title: function() {
return __("ID_SPARTA_RSPADMIN_ACTIONS");
}
} ];
}, n.prototype.renderTab = function(e) {
var t = e.component;
return r.createElement(t, {
key: e.title()
});
}, n.prototype.renderContent = function(e) {
var t = l.content.width, n = this.tabIndex > this.previousTabIndex, o = [ {
propertyName: "translateX",
fromValue: n ? t : -t,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], i = [ {
propertyName: "translateX",
fromValue: 0,
toValue: n ? -t : t
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ], a = y;
return r.createElement(h.FlexibleTweener, {
inTweens: o,
outTweens: i,
playInOnMount: !1,
transitionId: e.id,
style: a
}, this.renderTab(e));
}, n.prototype.render = function() {
var e, t, n = this.getTabs()[this.tabIndex], o = {
middle: r.createElement(u.Text, {
style: c.localeLetterSpacing({
textLetterSpacing: 9
}),
size: "XXL",
value: __("ID_SPARTA_RSPADMIN_SERVER_ADMIN").toLocaleUpperCase()
})
};
return e = this.renderContent(n), t = r.createElement(f.GameViewTabs, {
active: n,
tabs: this.getTabs(),
goToTab: this.goToTab,
nextTab: this.nextTab,
prevTab: this.prevTab
}), r.createElement(m.TunguskaGameViewSubRoute, {
header: o
}, t, e);
}, e.__decorate([ o.observable ], n.prototype, "tabIndex", void 0), e.__decorate([ o.observable ], n.prototype, "previousTabIndex", void 0), 
n = e.__decorate([ i.observer ], n);
}(r.Component);
t.RSPAdmin = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(50), o = n(10), i = n(1), a = n(4), s = n(87), u = n(1296), l = n(11), c = n(610), p = n(41), d = n(49), f = n(6), m = n(51), h = n(12), g = n(323), y = n(19), S = n(9), v = n(7), _ = n(47), b = {};
function T(e, t) {
e.platformId ? d.showUserProfile(e.platformId, "RSPAdmin") : function n(e, t) {
return new Promise(function(n) {
var r = b[e];
if (r) n(r); else {
var o = t.personas([ e ]);
o.onFinished(function() {
var t = o.response && o.response[e];
t && (b[e] = t), n(t);
});
}
});
}(e.personaId, t).then(function(e) {
e ? d.showUserProfile(e.platformId, "RSPAdmin") : _.PopupManager.standardAlert(__("ID_SPARTA_RSPADMIN_COULD_NOT_FIND_PLAYER", !0));
});
}
var E = !1;
function C(e, t) {
var n = e.teamId, r = n && s.teamsStore.getOtherTeam(n);
n && r ? function o(e, t) {
return new Promise(function(n, r) {
if (E) n(); else {
var o = __("ID_SPARTA_RSPADMIN_MOVE_CONFIRM_PC");
S.SpartaGlobals.bundleIsPS4 && (o = __("ID_SPARTA_RSPADMIN_MOVE_CONFIRM_PS4")), 
S.SpartaGlobals.bundleIsXBOXONE && (o = __("ID_SPARTA_RSPADMIN_MOVE_CONFIRM_XONE")), 
p.legacyConfirm(o.replace("[[playerName]]", e).replace("[[otherTeam]]", t), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
E = !0, n();
}).catch(r);
}
});
}(e.name, r.name).then(function() {
t.move(e.personaId, n).onSuccess(function() {
setTimeout(m.getPlayerList, 250);
}).onError(function() {
_.PopupManager.standardAlert(__("ID_SPARTA_RSPADMIN_COULD_NOT_MOVE_PLAYER", !0));
});
}) : _.PopupManager.standardAlert(__("ID_SPARTA_RSPADMIN_COULD_NOT_MOVE_PLAYER", !0));
}
var I = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = v.SpartaContext.getFromComponent(r), r.teamA = r.sparta.twinkle.focus.createComponentGroup(r, "teamA"), 
r.teamB = r.sparta.twinkle.focus.createComponentGroup(r, "teamB"), m.getPlayerList(), 
r.playerListInterval = setInterval(function() {
m.getPlayerList();
}, 5e3), r;
}
return e.__extends(n, t), n.prototype.componentWillUnmount = function() {
clearInterval(this.playerListInterval);
}, n.prototype.getButtons = function(e, t) {
return [ new h.Input({
label: __("ID_SPARTA_RSPADMIN_KICK"),
action: function() {
return u.openRSPAdminKickBanPopup(t, "kick");
}
}), new h.Input({
label: __("ID_SPARTA_RSPADMIN_BAN"),
action: function() {
return u.openRSPAdminKickBanPopup(t, "ban");
}
}), new h.Input({
label: __("ID_SPARTA_RSPADMIN_MOVE"),
action: function() {
return C(t, e);
}
}) ];
}, n.prototype.getInput = function(e, t) {
if (!this.sparta.twinkle.focus.controllerMode) return [];
var n = [ new h.Input({
label: __("ID_SPARTA_RSPADMIN_KICK"),
visible: !0,
key: l.Keys.Option1,
action: function() {
return u.openRSPAdminKickBanPopup(t, "kick");
}
}), new h.Input({
label: __("ID_SPARTA_RSPADMIN_BAN"),
visible: !0,
key: l.Keys.Option2,
action: function() {
return u.openRSPAdminKickBanPopup(t, "ban");
}
}), new h.Input({
label: __("ID_SPARTA_RSPADMIN_MOVE"),
visible: !0,
key: l.Keys.Option3,
action: function() {
return C(t, e);
}
}) ];
if (S.SpartaGlobals.bundleIsConsole) {
var r = new h.Input({
key: l.Keys.Start,
visible: !0,
label: S.SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD") : __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE"),
action: function() {
return T(t, e);
}
});
n.push(r);
}
return n;
}, n.prototype.render = function() {
var e = this, t = o.gameStateStoreLoader.get().server;
if (!t) return i.createElement("surface", null);
var n = this.sparta.stores.gameServerDetailsStore.get(t.game, t.gameId);
return i.createElement(r.FragmentLoader, {
load: n,
errorMessage: __("ID_SPARTA_SERVER_FAILED_LOADING_DETAILS")
}, function(t) {
var n = e.sparta.stores.gameServerDetailsStore.rspControls(t), r = y.isRTLLanguage() ? {
alignItems: "flex-end"
} : void 0;
return i.createElement("surface", {
style: g.RSPAdminStyle.teamsContainer
}, i.createElement("surface", {
style: r
}, i.createElement(f.Text, {
size: "S",
value: s.teamsStore.teamA.name.toLocaleUpperCase()
}), i.createElement(c.PlayerList, {
getInput: e.getInput.bind(e, n),
getButtons: e.getButtons.bind(e, n),
focusGroup: e.teamA,
players: s.teamsStore.teamA.players
})), i.createElement("surface", {
style: r
}, i.createElement(f.Text, {
size: "S",
value: s.teamsStore.teamB.name.toLocaleUpperCase()
}), i.createElement(c.PlayerList, {
getInput: e.getInput.bind(e, n),
getButtons: e.getButtons.bind(e, n),
focusGroup: e.teamB,
players: s.teamsStore.teamB.players
})));
});
}, n.contextTypes = v.SpartaContext.contextTypes, n = e.__decorate([ a.observer ], n);
}(i.Component);
t.RSPAdminBanKick = I;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(94), a = n(8), s = n(6), u = n(38), l = n(25), c = n(11), p = n(62), d = n(41), f = n(10), m = n(12), h = n(28), g = n(51), y = n(9), S = n(7), v = n(47), _ = {
dock: {
flex: 1,
justifyContent: "center",
alignItems: "center"
},
container: {
alignItems: "center"
},
itemRow: {
backgroundColor: "#ffffff05",
padding: 10,
alignItems: "center",
marginBottom: a.GUTTER
},
btn: {
width: a.getWidth(6)
}
}, b = function() {
l.close("rspAdminKickBanPopup");
};
function T(e) {
return e.condition ? r.createElement("surface", null, e.children) : r.createElement("surface", null);
}
var E = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = "kick" === this.props.type ? __("ID_SPARTA_RSPADMIN_KICK_PLAYER") : __("ID_SPARTA_RSPADMIN_BAN_PLAYER"), n = Object.assign({}, _.container, i.uiState.viewportScale);
return r.createElement("surface", {
style: _.dock
}, r.createElement("surface", {
style: n
}, r.createElement(s.Text, {
size: "L",
value: t,
style: {
marginBottom: 2 * a.GUTTER
}
}), r.createElement("surface", {
style: {
flexDirection: "row",
alignItems: "center",
marginBottom: 2 * a.GUTTER
}
}, r.createElement(s.Text, {
value: this.props.player.name
})), r.createElement("surface", {
style: {
width: a.getWidth(8),
marginBottom: 4 * a.GUTTER
}
}, function o() {
return [ {
handle: "OFFENSIVEBEHAVIOR",
title: __("ID_SPARTA_RSP_KICK_OFFENSIVEBEHAVIOR")
}, {
handle: "LATENCY",
title: __("ID_SPARTA_RSP_KICK_LATENCY")
}, {
handle: "RULEVIOLATION",
title: __("ID_SPARTA_RSP_KICK_RULEVIOLATION")
}, {
handle: "GENERAL",
title: __("ID_SPARTA_RSP_KICK_GENERAL")
} ];
}().map(function(t) {
return r.createElement(C, {
player: e.props.player,
type: e.props.type,
reason: t,
key: t.handle
});
})), r.createElement(T, {
condition: y.SpartaGlobals.bundleIsPC
}, r.createElement(h.Button, {
name: "6c5f09da:103:35",
text: __("ID_SPARTA_ACTION_CANCEL").toUpperCase(),
style: _.btn,
action: b
}))));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.RSPAdminKickBanPopup = E;
var C = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = S.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "RSPAdminKickBanReason"), 
r;
}
return e.__extends(n, t), n.prototype.handleKickBan = function() {
var e = this, t = f.gameStateStoreLoader.get().server, n = t && this.sparta.stores.gameServerDetailsStore.get(t.game, t.gameId);
if (n && n.value) {
var r = this.sparta.stores.gameServerDetailsStore.rspControls(n.value), o = "kick" === this.props.type ? __("ID_SPARTA_RSPADMIN_CONFIRM_KICK_PLAYER") : __("ID_SPARTA_RSPADMIN_CONFIRM_BAN_PLAYER");
d.legacyConfirm(o, "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
var t = e.props.player.personaId, n = e.props.reason.handle;
"kick" === e.props.type ? r.kick(t, n).onError(function() {
v.PopupManager.standardAlert(__("ID_SPARTA_RSPADMIN_COULD_NOT_KICK_PLAYER", !0));
}).onSuccess(function() {
setTimeout(g.getPlayerList, 250);
}) : r.kick(t, n).onFinished(function() {
setTimeout(function() {
r.addBan(void 0, t).onError(function() {
v.PopupManager.standardAlert(__("ID_SPARTA_RSPADMIN_COULD_NOT_BAN_PLAYER", !0));
}).onSuccess(function() {
setTimeout(g.getPlayerList, 250);
});
}, 1500);
}), b();
});
}
}, n.prototype.render = function() {
var e = this, t = this.props.reason, n = Object.assign({}, _.itemRow), o = "#ffffff";
(this.focusItem.isFocused || this.focusItem.isHovered) && (n = Object.assign(n, {
backgroundColor: "#ffffff"
}), o = "#000000");
var i = new m.Input({
key: c.Keys.Accept,
action: function() {
return e.handleKickBan();
},
label: __("ID_SPARTA_ACTION_SELECT")
});
return r.createElement(p.Pressable, {
input: i,
focusItem: this.focusItem
}, r.createElement("surface", {
key: t.title,
style: n
}, r.createElement(s.Text, {
color: o,
style: {
zOffset: 1
},
value: t.title,
size: "S"
})));
}, n.contextTypes = S.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.openRSPAdminKickBanPopup = function(e, t) {
void 0 === t && (t = "kick"), l.display(new u.Popup({
content: r.createElement(E, {
player: e,
type: t
}),
id: "rspAdminKickBanPopup",
fullScreen: !0,
containContent: !1,
createButtons: !1,
inputs: [ new m.Input({
label: __("ID_SPARTA_ACTION_CANCEL"),
action: function() {
b();
},
key: c.Keys.Decline
}) ]
}));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(11), a = n(49), s = n(41), u = n(12), l = n(443), c = n(10), p = n(50), d = n(9), f = n(7), m = n(47);
function h(e, t) {
s.legacyConfirm(__("ID_SPARTA_RSPADMIN_CONFIRM_LIFT_BAN"), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
e.removeBan(t.personaId);
});
}
var g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = f.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getInput = function(e, t) {
if (!this.sparta.twinkle.focus.controllerMode) return [];
var n = [ new u.Input({
label: __("ID_SPARTA_RSPADMIN_REMOVE_PLAYER"),
visible: !0,
key: i.Keys.Option1,
action: function() {
return h(e, t);
}
}) ];
if (d.SpartaGlobals.bundleIsConsole) {
var r = new u.Input({
key: i.Keys.Start,
visible: !0,
label: d.SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD") : __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE"),
action: function() {
return a.showUserProfile(t.platformId, "RSPAdmin");
}
});
n.push(r);
}
return n;
}, n.prototype.getButtons = function(e, t) {
return [ new u.Input({
label: __("ID_SPARTA_RSPADMIN_REMOVE_PLAYER"),
action: function() {
return h(e, t);
}
}) ];
}, n.prototype.handleAdd = function(e, t) {
return new Promise(function(n) {
s.legacyConfirm(__("ID_SPARTA_RSPADMIN_CONFIRM_BAN_PLAYER"), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
e.addBan(t).onSuccess(function() {
n("");
}).onError(function() {
m.PopupManager.standardAlert(__("ID_SPARTA_RSPADMIN_COULD_NOT_BAN_PLAYER", !0)), 
n(t);
});
});
});
}, n.prototype.render = function() {
var e = this, t = c.gameStateStoreLoader.get().server;
if (!t) return null;
var n = this.sparta.stores.gameServerDetailsStore.get(t.game, t.gameId);
return r.createElement(p.FragmentLoader, {
load: n,
errorMessage: __("ID_SPARTA_SERVER_FAILED_LOADING_DETAILS")
}, function(t) {
var n = e.sparta.stores.gameServerDetailsStore.rspControls(t), o = t.rsp;
if (!o) return r.createElement("surface", null);
var i = o.bannedList;
if (!i) return r.createElement("surface", null);
var a = i.map(function(e) {
return {
name: e.displayName,
personaId: e.personaId,
platformId: e.platformId
};
});
return r.createElement(l.EditableList, {
getInput: e.getInput.bind(e, n),
getButtons: e.getButtons.bind(e, n),
handleAdd: e.handleAdd.bind(e, n),
players: a,
listTitle: __("ID_SPARTA_RSPADMIN_BAN_LIST"),
inputTitle: __("ID_SPARTA_RSPADMIN_PLAYER_NAME"),
inputPlaceholder: __("ID_SPARTA_RSPADMIN_PLAYER_NAME"),
inputActionTitle: __("ID_SPARTA_RSPADMIN_ADD_TO_BAN_LIST"),
emptyListDesc: __("ID_SPARTA_RSPADMIN_NO_BANNED_PLAYERS")
});
});
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.RSPAdminBanList = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(11), a = n(49), s = n(41), u = n(12), l = n(443), c = n(10), p = n(50), d = n(9), f = n(7), m = n(47);
function h(e, t) {
s.legacyConfirm(__("ID_SPARTA_RSPADMIN_CONFIRM_REMOVE_VIP"), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
e.removeVip(t.personaId);
});
}
var g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = f.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getInput = function(e, t) {
if (!this.sparta.twinkle.focus.controllerMode) return [];
var n = [ new u.Input({
label: __("ID_SPARTA_RSPADMIN_REMOVE_PLAYER"),
visible: !0,
key: i.Keys.Option1,
action: function() {
return h(e, t);
}
}) ];
if (d.SpartaGlobals.bundleIsConsole) {
var r = new u.Input({
key: i.Keys.Start,
visible: !0,
label: d.SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD") : __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE"),
action: function() {
return a.showUserProfile(t.platformId, "RSPAdmin");
}
});
n.push(r);
}
return n;
}, n.prototype.getButtons = function(e, t) {
return [ new u.Input({
label: __("ID_SPARTA_RSPADMIN_REMOVE_PLAYER"),
action: function() {
return h(e, t);
}
}) ];
}, n.prototype.handleAdd = function(e, t) {
return new Promise(function(n) {
s.legacyConfirm(__("ID_SPARTA_RSPADMIN_CONFIRM_ADD_VIP"), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
e.addVip(t).onSuccess(function() {
n("");
}).onError(function() {
m.PopupManager.standardAlert(__("ID_SPARTA_RSPADMIN_COULD_NOT_ADD_VIP")), n(t);
});
});
});
}, n.prototype.render = function() {
var e = this, t = c.gameStateStoreLoader.get().server;
if (!t) return null;
var n = this.sparta.stores.gameServerDetailsStore.get(t.game, t.gameId);
return r.createElement(p.FragmentLoader, {
load: n,
errorMessage: __("ID_SPARTA_SERVER_FAILED_LOADING_DETAILS")
}, function(t) {
var n = e.sparta.stores.gameServerDetailsStore.rspControls(t), o = t.rsp;
if (!o) return r.createElement("surface", null);
var i = o.vipList;
if (!i) return r.createElement("surface", null);
var a = i.map(function(e) {
return {
name: e.displayName,
personaId: e.personaId,
platformId: e.platformId
};
});
return r.createElement(l.EditableList, {
getInput: e.getInput.bind(e, n),
getButtons: e.getButtons.bind(e, n),
handleAdd: e.handleAdd.bind(e, n),
players: a,
listTitle: __("ID_SPARTA_RSPADMIN_VIP_LIST"),
inputTitle: __("ID_SPARTA_RSPADMIN_PLAYER_NAME"),
inputPlaceholder: __("ID_SPARTA_RSPADMIN_PLAYER_NAME"),
inputActionTitle: __("ID_SPARTA_RSPADMIN_ADD_TO_VIP_LIST"),
emptyListDesc: __("ID_SPARTA_RSPADMIN_NO_VIP_PLAYERS")
});
});
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.RSPAdminVipList = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(11), a = n(49), s = n(41), u = n(12), l = n(443), c = n(10), p = n(50), d = n(9), f = n(7), m = n(47);
function h(e, t) {
s.legacyConfirm(__("ID_SPARTA_RSPADMIN_CONFIRM_REMOVE_MOD"), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
e.removeMod(t.personaId);
});
}
var g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = f.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getInput = function(e, t) {
if (!this.sparta.twinkle.focus.controllerMode) return [];
var n = [ new u.Input({
label: __("ID_SPARTA_RSPADMIN_REMOVE_PLAYER"),
visible: !0,
key: i.Keys.Option1,
action: function() {
return h(e, t);
}
}) ];
if (d.SpartaGlobals.bundleIsConsole) {
var r = new u.Input({
key: i.Keys.Start,
visible: !0,
label: d.SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD") : __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE"),
action: function() {
return a.showUserProfile(t.platformId, "RSPAdmin");
}
});
n.push(r);
}
return n;
}, n.prototype.getButtons = function(e, t) {
return [ new u.Input({
label: __("ID_SPARTA_RSPADMIN_REMOVE_PLAYER"),
action: function() {
return h(e, t);
}
}) ];
}, n.prototype.handleAdd = function(e, t) {
return new Promise(function(n) {
s.legacyConfirm(__("ID_SPARTA_RSPADMIN_CONFIRM_ADD_MOD"), "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
e.addMod(t).onSuccess(function() {
n("");
}).onError(function() {
m.PopupManager.standardAlert(__("ID_SPARTA_RSPADMIN_COULD_NOT_ADD_MOD")), n(t);
});
});
});
}, n.prototype.render = function() {
var e = this, t = c.gameStateStoreLoader.get().server;
if (!t) return null;
var n = this.sparta.stores.gameServerDetailsStore.get(t.game, t.gameId);
return r.createElement(p.FragmentLoader, {
load: n,
errorMessage: __("ID_SPARTA_SERVER_FAILED_LOADING_DETAILS")
}, function(t) {
var n = e.sparta.stores.gameServerDetailsStore.rspControls(t), o = t.rsp;
if (!o) return r.createElement("surface", null);
var i = o.adminList;
if (!i) return r.createElement("surface", null);
var a = i.map(function(e) {
return {
name: e.displayName,
personaId: e.personaId,
platformId: e.platformId
};
});
return r.createElement(l.EditableList, {
getInput: e.getInput.bind(e, n),
getButtons: e.getButtons.bind(e, n),
handleAdd: e.handleAdd.bind(e, n),
players: a,
listTitle: __("ID_SPARTA_RSPADMIN_MOD_LIST"),
inputTitle: __("ID_SPARTA_RSPADMIN_PLAYER_NAME"),
inputPlaceholder: __("ID_SPARTA_RSPADMIN_PLAYER_NAME"),
inputActionTitle: __("ID_SPARTA_RSPADMIN_ADD_TO_MOD_LIST"),
emptyListDesc: __("ID_SPARTA_RSPADMIN_NO_MOD_PLAYERS")
});
});
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.RSPAdminModList = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(6), s = n(12), u = n(11), l = n(611), c = n(5), p = n(9), d = n(22), f = n(7), m = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = f.SpartaContext.getFromComponent(r), r.focusItem = d.focusSystem.create(r, "gameviewtab_" + t.text), 
p.SpartaGlobals.bundleIsPC ? r.sparta.stores.inputStore.bindInputToFocusItem(new s.Input({
visible: !1,
action: t.onClick,
label: t.text,
key: u.Keys.Accept
}), r.focusItem) : r.focusItem.setActive("gameviewtab_" + t.text, !1), r;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = c.emptyStyle, t = c.emptyStyle, n = this.props.active;
n && this.focusItem.isFocusedOrHovered ? (t = l.GameViewTabStyle.tabActiveHover, 
e = l.GameViewTabStyle.textActiveHover) : n ? (t = l.GameViewTabStyle.tabActive, 
e = l.GameViewTabStyle.textActive) : this.focusItem.isFocusedOrHovered && (t = l.GameViewTabStyle.tabHover);
var i = this.props.text.toUpperCase(), s = this.props.bordered && o.createElement("surface", {
style: l.GameViewTabStyle.tabBorder
});
return o.createElement("surface", r.__assign({
style: l.GameViewTabStyle.tabContainer
}, this.focusItem.hooks), o.createElement("surface", {
style: [ l.GameViewTabStyle.tabNormal, t ]
}, o.createElement(a.Text, {
size: "S",
value: i,
type: "emphasis",
style: c.merge2(l.GameViewTabStyle.textStyle, e)
})), s);
}, t.contextTypes = f.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.GameViewTab = m;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(8), i = n(558), a = n(122), s = n(5), u = n(9), l = s.StaticStyle.wrapLegacyStyleSheet({
pcButton: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, o.GUTTER / 2, 0, o.GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 3 * o.GUTTER, 2, 3 * o.GUTTER ],
height: o.getHeight(5)
},
pcButtonLarge: {
height: o.getHeight(7),
margin: [ 0, o.GUTTER / 2, 0, o.GUTTER / 2 ]
},
pcButtonHovered: {
backgroundColor: "#ffffff25"
},
pcButtonInverted: {
backgroundColor: "#00000011"
},
pcButtonInvertedHovered: {
backgroundColor: "#00000033"
},
pcButtonBorder: {
zOffset: 1,
position: "absolute",
right: 0,
bottom: 0,
left: 0,
height: 2,
backgroundColor: "#ffffff",
opacity: .8
},
pcButtonBorderLarge: {
height: 4
},
pcButtonInvertedBorder: {},
pcButtonIconSpacing: {},
label: {
color: "#ffffff",
zOffset: 2
},
labelInverted: {
color: [ 0, 0, 0, 200 ]
},
labelHovered: {},
labelPressed: {},
labelContainer: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, o.GUTTER / 2, 0, o.GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000080",
opacity: .8,
padding: [ 2, 1.5 * o.GUTTER, 4, 1.5 * o.GUTTER ],
height: u.SpartaGlobals.bundleIsConsole ? 32 : o.getHeight(4, !1),
zOffset: 1
},
labelContainerLarge: {
height: o.getHeight(5),
padding: [ 2, 1.5 * o.GUTTER, 4, 1.5 * o.GUTTER ]
}
}, "ea0379f0:10:14"), c = {
buttonGroup: {
flexDirection: "row",
zOffset: 130001
}
}, p = function(e) {
var t = e.overrideInputVisibility, n = r.createElement("surface", {
style: l.pcButtonBorder
});
return r.createElement(i.InputButtons, {
iconSize: 24,
overrideVisibility: t,
labelDecoration: n,
styleSheetOverride: l
});
}, d = function(e) {
var t = e.inputs, n = e.small, o = r.createElement("surface", {
style: [ l.pcButtonBorder, l.pcButtonBorderLarge ]
}), i = t.map(function(e, t) {
return r.createElement(a.InputButton, {
key: t,
label: e.label,
inputKey: e.key,
action: e.action,
large: !n,
labelDecoration: o,
iconSize: 30,
styleSheetOverride: l
});
});
return r.createElement("surface", {
style: {
flexDirection: "row"
}
}, i);
};
t.ButtonsGroup = function(e) {
var t = [ e.style, c.buttonGroup ], n = e.custom ? r.createElement(d, {
inputs: e.custom,
small: e.small
}) : r.createElement(p, {
overrideInputVisibility: e.overrideInputVisibility
});
return r.createElement("surface", {
style: t
}, n);
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(6), s = n(206), u = n(19), l = n(612), c = n(10), p = n(13), d = n(5).StaticStyle.create({
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
marginTop: u.isRTLLanguage() ? p.Grid.GUTTER : 0
}, "85715a13:49:31"), f = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.disposer = o.when(function() {
return !s.nextRoundCountDown.active && c.gameStateStoreLoader.get().hasLoadedLevel;
}, function() {
e.props.callback && e.props.callback();
});
}, n.prototype.componentWillUnmount = function() {
this.disposer && this.disposer();
}, n.prototype.render = function() {
var t = Math.ceil(s.nextRoundCountDown.timeLeft), n = t.toString(), o = __("ID_SPARTA_SERVER_LOADING_GAME"), i = void 0 !== this.props.text ? this.props.text : __("ID_SPARTA_GAMESTATE_NEXT_ROUND_STARTS_IN");
if (!s.nextRoundCountDown.active) return null;
var p = d, f = !1;
t < 1 && !c.gameStateStoreLoader.get().hasLoadedLevel && (i = o, n = null, f = !0);
var m = u.isRTLLanguage() ? {
marginRight: 5
} : {
marginLeft: 5
}, h = e.__assign({
textAlign: "center",
width: 50
}, m), g = [];
if (i) {
var y = f ? r.createElement(l.PulsatingText, {
key: "text",
text: i.toUpperCase(),
size: "M"
}) : r.createElement(a.Text, {
key: "text",
value: i.toUpperCase(),
size: "M"
});
g.push(y);
}
return n && g.push(r.createElement(a.Text, {
key: "time",
value: n,
size: "M",
style: h
})), r.createElement("surface", {
style: p
}, u.localeRearrange(g));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.NextRoundCountDown = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(10), a = n(323), s = n(613), u = n(12), l = n(11), c = n(50), p = n(41), d = n(159), f = n(6), m = n(7), h = n(47), g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getItemInput = function(e, t, n, r, o) {
var i = this, a = __("ID_SPARTA_RSPADMIN_SWITCH").toLocaleUpperCase();
return o && (a = __("ID_SPARTA_RSPADMIN_SWITCH_CURRENT").toLocaleUpperCase()), new u.Input({
label: a,
key: l.Keys.Accept,
action: function() {
return i.switchLevel(e, t, n, r, o);
}
});
}, n.prototype.switchLevel = function(e, t, n, r, o) {
var i = __(o ? "ID_SPARTA_RSPADMIN_RESTART_CONFIRM" : "ID_SPARTA_RSPADMIN_SWITCH_CONFIRM"), a = __(o ? "ID_SPARTA_RSPADMIN_COULD_NOT_RESTART" : "ID_SPARTA_RSPADMIN_COULD_NOT_SWITCH", !0);
p.legacyConfirm(i, "", __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")).then(function() {
e.chooseLevel(t.server.guid, r).onSuccess(function() {
d.goToGame({
withBlackFade: !0
});
}).onError(function() {
h.PopupManager.standardAlert(a);
});
});
}, n.prototype.render = function() {
var e = this, t = i.gameStateStoreLoader.get().server;
if (!t) return r.createElement("surface", null);
var n = this.sparta.stores.gameServerDetailsStore.get(t.game, t.gameId);
return r.createElement(c.FragmentLoader, {
load: n,
errorMessage: __("ID_SPARTA_SERVER_FAILED_LOADING_DETAILS")
}, function(t) {
var n = e.sparta.stores.gameServerDetailsStore.rspControls(t);
return r.createElement("surface", {
style: a.RSPAdminStyle.container
}, r.createElement(f.Text, {
value: __("ID_SPARTA_RSPADMIN_SWITCH_HEADING").toLocaleUpperCase()
}), r.createElement(s.MapRotationGrid, {
itemInput: e.getItemInput.bind(e, n, t),
details: t
}));
});
}, n.contextTypes = m.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.RSPAdminActions = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("MapRotationInfoStyle"), a = function() {
function e() {}
var t;
return t = e, e.bottomOffset = o.value(function() {
return o.Constants.isPC ? o.Grid.getHeight(16, !1) : o.Grid.getHeight(9, !1);
}, "1cec11d0:17:26"), e.carousel = o.wrap(function() {
return o.style({
marginTop: o.Grid.getHeight(2),
marginBottom: o.Grid.getHeight(2)
}, "1cec11d0:19:33");
}), e.tableContainer = o.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(2)
}, "1cec11d0:26:39");
}), e.tableWidth = o.value(function() {
return o.LayoutBounds.content.width;
}, "1cec11d0:32:24"), e.tableHeight = o.value(function() {
return o.LayoutBounds.content.height - t.bottomOffset;
}, "1cec11d0:34:25"), e.tableHeaderHeight = o.value(function() {
return 0;
}, "1cec11d0:36:31"), e.tableSoftClip = o.value(function() {
return [ 0, 0, o.Grid.getHeight(2), 0 ];
}, "1cec11d0:38:27"), e.tableCellItem = o.stylefunc(function() {
return o.style({
position: "absolute"
}, "1cec11d0:41:14");
}, function(e) {
return o.dynamicStyle({
left: e.left,
top: e.top
}, "1cec11d0:45:48");
}), e = t = r.__decorate([ i.style ], e);
}();
t.MapRotationInfoStyle = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(68), s = n(12), u = n(11), l = n(51), c = n(270), p = n(76), d = n(37), f = n(6), m = n(143), h = n(8), g = n(19), y = n(15), S = n(137), v = n(39), _ = n(86), b = n(10), T = n(31), E = n(236), C = n(614), I = n(82), A = n(5), w = n(9), P = n(33), R = n(405), O = n(17), x = n(22), k = n(71), L = A.StaticStyle.wrapLegacyStyleSheet({
progressInfo: {
flexDirection: "row",
justifyContent: "center",
marginTop: h.spacer(w.SpartaGlobals.bundleIsPC ? 2 : 1)
},
medalsTiming: {
flexDirection: "row",
justifyContent: "center"
},
medalContainer: {
flexDirection: "row",
justifyContent: "center",
marginTop: h.getHeight(w.SpartaGlobals.bundleIsPC ? 4 : 3)
},
dockBottom: {
position: "absolute",
right: 0,
bottom: 0,
left: 0
},
progressionElement: {
margin: [ 0, h.spacer(3), h.spacer(3), h.spacer(3) ],
textAlignForRTL: "left"
},
trackedMedalText: {
textAlignForRTL: "left"
},
stageContainer: {
flexDirection: "row",
marginBottom: h.GUTTER,
justifyContent: "flex-start"
},
stageContainerRTL: {
flexDirection: "row",
marginBottom: h.GUTTER,
justifyContent: "flex-end"
},
stageIndex: {
textAlignForRTL: "left",
width: h.spacer(3)
}
}, "94c31560:38:15"), M = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.trackInput = new s.Input({
label: __("ID_SPARTA_TUNGUSKA_TRACK"),
key: u.Keys.Accept,
action: function() {
e.props.medal.isSelected || !e.progression || e.progression.unlocked || l.selectCurrentMedal(e.props.medal);
}
}), e.progressTween = y.Animation.tween("94c31560:99:37", "#ffffff33"), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "progression", {
get: function() {
return this.props.medal.currentProgression || this.props.medal.progression;
},
enumerable: !0,
configurable: !0
}), n.prototype.componentWillMount = function() {
var e = this;
this.focusReaction = o.reaction(function() {
return e.props.focusItem.isFocusedOrHovered;
}, function(t) {
var n = t ? S.tweenInOptions : S.tweenOutOptions;
e.progressTween.to(t ? "#00000033" : "#ffffff33", n);
}, {
fireImmediately: this.props.focusItem.autoFocusCandidate
});
}, n.prototype.componentWillUnmount = function() {
this.focusReaction(), this.progressTween.destroy();
}, n.prototype.render = function() {
var e = this.props.medal, t = e.name || "", n = w.SpartaGlobals.bundleIsPC ? 40 : 23;
t.length > n && (t = t.substr(0, n - 3) + "...");
var o = __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_STAGES_DONE").replace("[[done]]", this.progression ? this.progression.valueAcquired.toString() : "0").replace("[[needed]]", this.progression ? this.progression.valueNeeded.toString() : "0"), i = r.createElement(f.Text, {
value: o,
size: "XS",
style: L.progressionElement
}), a = e.isSelected ? r.createElement(f.Text, {
value: __("ID_SPARTA_TUNGUSKA_TRACKED").toUpperCase(),
size: w.SpartaGlobals.bundleIsPC ? "S" : "XS",
type: P.TextType.EMPHASIS,
style: L.trackedMedalText
}) : void 0, s = r.createElement("surface", null, a, r.createElement(f.Text, {
value: t.toUpperCase(),
size: w.SpartaGlobals.bundleIsPC ? "M" : "S",
style: {
textAlignForRTL: "left"
}
})), u = r.createElement(_.ProgressBar, {
style: L.dockBottom,
completed: this.progression ? this.progression.percentage : 0,
bgColorStyle: this.progressTween.getStyleClass("backgroundColor")
}), l = !this.props.medal.currentProgression || !this.props.medal.currentProgression.unlocked;
return r.createElement(p.BasicCard, {
focusItem: this.props.focusItem,
forceGrayScale: l,
inactiveHighlightColor: e.isSelected ? "#ffffff33" : void 0,
input: this.trackInput,
size: w.SpartaGlobals.bundleIsPC ? d.CardSize.SSM : d.CardSize.S,
icon: e.images && e.images.Png256xANY,
iconSize: .5,
staticContentSize: !0,
removeFoldSeparator: !0,
contentSize: .7,
fold: i,
bottom: s,
overlay: u
});
}, n = e.__decorate([ i.observer ], n);
}(r.Component), D = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "medal", {
get: function() {
var e = this.props.focusGroup.focusedIndex;
return "number" == typeof e && this.props.medals[e] || this.props.medals.find(function(e) {
return e.isSelected;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "progression", {
get: function() {
return this.medal && (this.medal.currentProgression || this.medal.progression);
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.medal;
if (!e) return r.createElement("surface", null);
var t, n = e.xp, o = g.isRTLLanguage();
e.currentStageCode ? t = e.currentStageCode : this.progression && e.stages && this.progression.valueAcquired < e.stages.length && (t = e.stages[this.progression.valueAcquired].code);
var i = !1, a = this.progression ? this.progression.valueNeeded - 1 : 0, s = e.stages && e.stages.map(function(e, s) {
var u = t && t === e.code;
u && (i = !0);
var l = !u && !i, c = {
marginLeft: o ? h.spacer() : 0,
marginRight: o ? 0 : h.spacer()
}, p = O.CommonStyles.opacity(u ? 1 : .7), d = A.merge2(A.DynamicStyle.create({
marginLeft: o ? 0 : h.spacer(),
textAlignForRTL: "left",
flexDirection: "row",
marginRight: o ? h.spacer() : 0
}, "94c31560:245:46"), p), y = A.merge2(L.stageIndex, A.DynamicStyle.create({
marginLeft: o ? h.spacer() : 0
}, "94c31560:256:39")), S = u ? P.TextType.EMPHASIS : P.TextType.NORMAL, v = s === a ? n : e.xp, _ = o ? L.stageContainerRTL : L.stageContainer;
return r.createElement(g.LocaleRearrange, {
key: "stage-" + e.code,
style: _
}, r.createElement(m.Checkbox, {
key: "checkbox",
value: !!l,
style: p
}), r.createElement(g.LocaleRearrange, {
key: "text",
style: d
}, r.createElement(f.Text, {
key: "index",
value: s + 1 + ".",
size: "S",
type: S,
style: y
}), r.createElement(f.Text, {
key: "stage",
value: e.name,
size: "S",
type: S
})), r.createElement(g.LocaleRearrange, {
key: "xp",
style: d
}, r.createElement(f.Text, {
key: "dash",
value: "-",
size: "S",
type: S,
style: c
}), r.createElement(f.Text, {
key: "xp",
value: v + __("ID_SPARTA_GENERIC_XP"),
size: "S",
type: S
})));
}), u = "", l = "";
e.isSelected && e.currentProgression && !e.currentProgression.unlocked && (u = __("ID_SPARTA_TUNGUSKA_TRACKED").toUpperCase(), 
l = " - ");
var c = {
marginTop: h.getHeight(w.SpartaGlobals.bundleIsPC ? 3 : 2),
marginLeft: h.getWidth(w.SpartaGlobals.bundleIsPC ? 4 : 2)
}, p = {
flex: 1,
marginBottom: h.spacer()
}, d = {}, y = {
flexDirection: "row",
marginBottom: h.spacer(w.SpartaGlobals.bundleIsPC ? 3 : 2)
};
return o && (p.textAlignForRTL = "left", c.width = h.getWidth(w.SpartaGlobals.bundleIsPC ? 24 : 20), 
y.justifyContent = "flex-end", d.width = h.getWidth(w.SpartaGlobals.bundleIsPC ? 16 : 12), 
d.textAlignForRTL = "left"), r.createElement("surface", {
style: c
}, r.createElement(f.Text, {
value: (e.name || "").toUpperCase(),
size: w.SpartaGlobals.bundleIsPC ? "L" : "M",
type: P.TextType.EMPHASIS,
style: p
}), r.createElement(g.LocaleRearrange, {
style: y
}, r.createElement(f.Text, {
key: "tracked",
value: u,
type: P.TextType.EMPHASIS,
size: "S"
}), r.createElement(f.Text, {
key: "delimiter",
value: l + e.description,
size: "S",
style: d
})), r.createElement("surface", null, s));
}, n = e.__decorate([ i.observer ], n);
}(r.Component), N = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.focusGroup = x.focusSystem.createComponentGroup(e, "medals"), e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.preloader = k.textureHandler.createPreloader(this), this.preloader.preload(R.CheckboxStyles.texture, void 0), 
this.preloader.preload(R.CheckboxStyles.textureChecked, void 0);
}, n.prototype.render = function() {
var e = this, t = b.medalStore.getCurrentMedals(T.tunguskaGameId), n = {
middle: r.createElement("surface", {
style: {
alignItems: "center"
}
}, r.createElement(E.Title, {
text: __("ID_SPARTA_CAREER_MEDALS").toUpperCase()
}))
}, o = w.SpartaGlobals.bundleIsPC ? "M" : "S";
return 0 === t.length ? r.createElement(c.TunguskaGameViewSubRoute, {
header: n
}, r.createElement(C.TunguskaCurrentMedalInfo, {
textSize: o,
textType: P.TextType.EMPHASIS,
style: L.medalsTiming
}), r.createElement(v.EmptyState, {
text: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_NOMEDALSAVAILABLE"),
subText: ""
})) : r.createElement(c.TunguskaGameViewSubRoute, {
header: n
}, r.createElement("surface", {
style: {
flex: 1,
alignContent: "flex-start"
}
}, r.createElement(C.TunguskaCurrentMedalInfo, {
textSize: o,
textType: P.TextType.EMPHASIS,
style: L.medalsTiming
}), I.tunguskaFeatureFlags.simultaneousMedals.isEnabled() && r.createElement("surface", {
style: L.progressInfo
}, r.createElement(f.Text, {
value: __("ID_SPARTA_TUNGUSKA_TRACKEDMEDAL_PROGRESS_INFO"),
size: w.SpartaGlobals.bundleIsPC ? "S" : "XS"
})), r.createElement("surface", {
style: L.medalContainer
}, t.map(function(t, n) {
return r.createElement(a.Focusable, {
group: e.focusGroup,
groupIndex: n,
key: "medal_" + t.code,
id: "medal_card_" + t.name,
autoFocusCandidate: t.isSelected
}, function(e) {
return r.createElement(M, {
medal: t,
index: n,
focusItem: e
});
});
})), r.createElement(D, {
medals: t,
focusGroup: this.focusGroup,
key: "info"
})));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.CurrentMedals = N;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(535);
t.Masher = function(e) {
return o.createElement(i.SimpleTweener, r.__assign({}, e, {
tweens: [ {
propertyName: "opacity",
inValue: 1,
outValue: 0
}, {
propertyName: "scaleY",
inValue: 1,
outValue: 0
} ]
}));
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(85), i = n(11), a = n(12), s = n(208), u = n(445), l = n(29), c = n(6), p = n(1308), d = n(223), f = n(23), m = n(53), h = n(122), g = n(26), y = n(1309), S = n(1319), v = n(1322), _ = n(1326), b = n(14), T = n(236), E = n(159), C = n(19), I = n(205), A = n(4), w = n(3), P = n(73), R = n(10), O = n(74), x = n(444), k = n(128), L = n(31), M = n(82), D = n(91), N = n(121), F = n(17), G = n(71);
function U(e) {
return e || P.tunguskaEndOfRoundStore.unrankedGame ? [ {
component: v.Scoreboard,
id: "scoreboard",
title: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD");
}
} ] : [ {
component: y.Personal,
id: "personal",
title: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL");
}
}, {
component: _.Highlights,
id: "highlights",
title: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_HIGHLIGHTS");
}
}, {
component: S.Stats,
id: "stats",
title: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_STATS");
}
}, {
component: v.Scoreboard,
id: "scoreboard",
title: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD");
}
} ];
}
var B = {
labelStyle: {
textLetterSpacing: 1,
margin: [ 12, 4, 8, 4 ]
},
inputStyle: {
margin: [ 60, 0, 0, 0 ]
},
footer: {
right: {
alignItems: "flex-end"
},
left: {
flexDirection: "row",
alignItems: "center"
},
container: {
flexDirection: "row",
alignItems: "center"
},
image: {
height: 60,
width: 120
}
},
title: {
textLetterSpacing: 9,
fontSize: 52,
marginTop: 12
},
noReportContentContainer: {
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0,
flexDirection: "row",
justifyContent: "center",
alignItems: "center"
},
preloadFlare: {
position: "absolute",
enableMouseEvents: !1,
width: 1,
height: 1,
top: -1e3,
left: -1e3,
texture: b.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png")
}
}, j = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.retainTexture = function(e) {
-1 === r.preloadedTextures.indexOf(e) && (r.preloader.preload(e, void 0), r.preloadedTextures.push(e));
}, r.prevTab = function() {
r.goToTab(r.state.tabIndex - 1);
}, r.goToTab = function(e) {
e > r.tabs.length - 1 ? e = 0 : e < 0 && (e = r.tabs.length - 1), r.setState({
tabIndex: e,
previousTabIndex: r.state.tabIndex,
userHasSelectedTab: !0
});
}, r.nextTab = function() {
r.goToTab(r.state.tabIndex + 1);
}, r.quitGame = function() {
E.quitWithConfirm(function() {
E.toggleQuittingOverlay(!P.tunguskaEndOfRoundStore.gameReadyToQuit && I.operationFlow.state !== I.OperationState.eor);
});
}, r.mustQuitAfterUpdate = !1, r.state = {
tabIndex: 0,
previousTabIndex: 0,
userHasSelectedTab: !1,
eorDataReady: !1
}, r.preloader = G.textureHandler.createPreloader(r), r.preloadedTextures = [];
var o = R.gameStateStoreLoader.get(), i = o.isSpectator || o.serverState.isRole(D.JoinRole.spectator);
return r.tabs = U(i), r.cancelReaction = w.reaction(function() {
return R.gameStateStoreLoader.get().isSpectator;
}, function(e) {
r.tabs = U(e);
}), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
w.when(function() {
return !(!P.tunguskaEndOfRoundStore.data && !P.tunguskaEndOfRoundStore.unrankedData);
}, function() {
return e.onEorDataUpdated();
});
}, n.prototype.componentWillUnmount = function() {
clearTimeout(this._timer), this.cancelReaction && this.cancelReaction();
}, n.prototype.getChildContext = function() {
return {
retainTexture: this.retainTexture
};
}, n.prototype.getPersonalTabIndex = function() {
return this.tabs.findIndex(function(e) {
return "personal" === e.id;
});
}, n.prototype.onEorDataUpdated = function() {
var e = P.tunguskaEndOfRoundStore.data, t = R.gameStateStoreLoader.get().serverGameId, n = R.gameStore.getGame(t);
if (e && e.survey && !P.tunguskaEndOfRoundStore.surveySeen && n && n.shouldDisplayEorFeedback && n.shouldDisplayEorFeedback()) this.gotoSurvey(); else if (M.tunguskaFeatureFlags.eorPersonalTabForFreemium.isEnabled() && e) {
var r = this.isFreemiumSession(e);
if (!this.state.userHasSelectedTab && r) {
var o = this.getPersonalTabIndex(), i = Math.max(0, o);
this.setState({
tabIndex: i,
previousTabIndex: i,
eorDataReady: !0
});
} else this.setState({
eorDataReady: !0
});
} else this.setState({
eorDataReady: !0
});
}, n.prototype.getInput = function() {
if (I.operationFlow.state !== I.OperationState.eor) return [ new a.Input({
visible: !0,
label: __("ID_SPARTA_ACTION_QUIT"),
key: i.Keys.Option2,
action: this.quitGame
}) ];
}, n.prototype.goToScoreboard = function() {
this.setState({
tabIndex: Math.max(0, this.tabs.findIndex(function(e) {
return "scoreboard" === e.id;
})),
previousTabIndex: this.state.tabIndex
});
}, n.prototype.goToLoading = function() {
N.blackFadeTransition(function() {
m.route(O.GameViewRoute.LOADING);
}, E.delayedCrossFadeOptions);
}, n.prototype.gotoSurvey = function() {
N.blackFadeTransition(function() {
m.route({
route: O.GameViewRoute.EOR,
subRoute: O.GameViewSubRoute.SURVEY
});
}, E.delayedCrossFadeOptions);
}, n.prototype.renderContent = function(e, t) {
if (t) {
var n = e.component;
return r.createElement(n, {
key: e.id
});
}
return null;
}, n.prototype.getThisRoundText = function(e, t) {
var n = k.gameDataStore.get(L.tunguskaGameId).value, r = "", o = "";
if (e && "" !== e) {
var i = n && n.gameModes && n.gameModes.filter(function(t) {
return t.filterKey.toLowerCase() === e.toLowerCase();
});
if (i && i.length > 0) {
var a = i[0];
r = a.prettyName, t && M.tunguskaFeatureFlags.tunguskaConquestAssaultEnabled.isEnabled() && "Conquest" === a.filterKey && -1 !== L.tunguskaConquestAssaultMaps.indexOf(t.toLowerCase()) && (r = __("ID_SPARTA_TUNGUSKA_CONQUESTASSAULT"));
}
}
if (t && "" !== t) {
var s = n && n.maps && n.maps.filter(function(e) {
return e.filterKey.toLowerCase() === t.toLowerCase();
});
if (s && s.length > 0) o = s[0].prettyName;
}
return C.localeRearrange([ r.toUpperCase(), o.toUpperCase() ]).join(" | ");
}, n.prototype.isFreemiumSession = function(e) {
if (e) {
var t = !!e.personalInfo && e.personalInfo.stats;
return !!t && t.freemiumScore.value > 0;
}
return !1;
}, n.prototype.render = function() {
var e = this, t = P.tunguskaEndOfRoundStore.unrankedGame, n = t ? P.tunguskaEndOfRoundStore.unrankedData : P.tunguskaEndOfRoundStore.data, o = null, m = null, g = this.tabs[this.state.tabIndex || 0], y = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_THIS_ROUND"), S = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NEXT_ROUND"), v = r.createElement("surface", {
style: B.preloadFlare
}), _ = C.isRTLLanguage(), b = P.tunguskaEndOfRoundStore.fallbackGameMode || "", A = P.tunguskaEndOfRoundStore.fallbackMapName || "", w = this.getThisRoundText(b, A), k = r.createElement(p.MapInfoDisplay, {
title: y.toUpperCase(),
description: w,
rightAligned: _
}), L = null, D = P.tunguskaEndOfRoundStore.readyToShowNextInfo;
if (P.tunguskaEndOfRoundStore.nextGameMode && P.tunguskaEndOfRoundStore.nextLevelName && D) {
var N = P.tunguskaEndOfRoundStore.nextGameMode || "", G = P.tunguskaEndOfRoundStore.nextLevelName || "", U = this.getThisRoundText(N, G);
L = r.createElement(p.MapInfoDisplay, {
title: S.toUpperCase(),
description: U,
rightAligned: !_
});
}
var j = _ ? k : L, H = _ ? L : k, z = [];
I.operationFlow.state === I.OperationState.eor ? z.push(new a.Input({
label: __("ID_SPARTA_ACTION_QUIT"),
key: i.Keys.Start,
action: function() {
return e.quitGame();
}
})) : P.tunguskaEndOfRoundStore.loadingScreenReady && !P.tunguskaEndOfRoundStore.quitInProgress && z.push(new a.Input({
label: __("ID_SPARTA_ACTION_CONTINUE").toLocaleUpperCase(),
key: i.Keys.Start,
blockInputFor: E.delayedCrossFadeDuration,
action: function() {
return e.goToLoading();
}
}));
var V = R.gameStateStoreLoader.get().gameViewState.previousRoute, W = !1;
if (V === O.GameViewRoute.OPERATIONS_PRE_EOR && (W = !0), V === O.GameViewRoute.BATTLEPLAN_PRE_EOR && (W = !0), 
this.state.eorDataReady) {
if (M.tunguskaFeatureFlags.eorPersonalTabForFreemium.isEnabled() && !this.state.userHasSelectedTab && this.isFreemiumSession(n)) {
var q = Math.max(0, this.getPersonalTabIndex());
g = this.tabs[q];
}
m = this.renderContent(g, n), o = r.createElement(x.GameViewTabs, {
active: g,
tabs: this.tabs,
goToTab: this.goToTab,
nextTab: this.nextTab,
prevTab: this.prevTab
});
} else m = !n && t ? r.createElement("surface", {
style: B.noReportContentContainer
}, r.createElement(c.Text, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_UNRANKED_REPORT"),
size: "XL",
type: "emphasis"
})) : r.createElement("surface", {
style: B.noReportContentContainer
}, r.createElement(l.Spinner, {
large: !0
}));
var K = new a.Input({
key: i.Keys.Select,
action: function() {
return e.goToScoreboard();
}
}), X = r.createElement("surface", {
style: {
height: 0,
width: 0,
position: "absolute",
opacity: 0
}
}, r.createElement(h.InputButton, {
key: "go-to-scoreboard-input",
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_TO_SCOREBOARD"),
inputKey: K.key,
action: K.action
})), Y = f.content.width, J = this.state.tabIndex > this.state.previousTabIndex, Q = [ {
propertyName: "translateX",
fromValue: J ? Y : -Y,
toValue: 0
}, {
propertyName: "opacity",
fromValue: 0,
toValue: 1
} ], Z = [ {
propertyName: "translateX",
fromValue: 0,
toValue: J ? -Y : Y
}, {
propertyName: "opacity",
fromValue: 1,
toValue: 0
} ], $ = {
left: H,
middle: r.createElement(T.Title, {
text: __("ID_SPARTA_GAMESTATE_END_OF_ROUND").toLocaleUpperCase()
}),
right: j
}, ee = r.createElement(u.CountDownLoadingFooter, {
autoDismiss: !0
});
return r.createElement(s.TunguskaGameViewRoute, {
rightButtons: z,
header: $,
footer: ee,
disableFooterAnimation: W
}, X, v, o, r.createElement(d.FlexibleTweener, {
inTweens: Q,
outTweens: Z,
playInOnMount: !1,
transitionId: g.id,
style: F.CommonStyles.flex1
}, m));
}, n.childContextTypes = {
retainTexture: o.func
}, n = e.__decorate([ g.input, A.observer ], n);
}(r.Component);
t.EndOfRound = j;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(21), s = n(8), u = n(15), l = n(5), c = n(9), p = n(17), d = s.getWidth(6), f = l.StaticStyle.wrapLegacyStyleSheet({
container: {
marginLeft: 10,
marginRight: 10,
marginTop: c.SpartaGlobals.bundleIsConsole ? 40 : 0
},
title: {
textLineSpacing: a.LINE_HEIGHTS.XS,
width: d
},
description: {
textLineSpacing: a.LINE_HEIGHTS.XXS,
width: d
}
}, "ac288492:11:15"), m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.containerOpacity = u.Animation.componentTween(t, "ac288492:36:54", 0), 
t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.containerOpacity.to(1);
}, t.prototype.render = function() {
var e = this.props, t = e.title, n = e.description, r = e.rightAligned, a = l.merge3(f.container, r ? p.CommonStyles.alignItemsFlexEnd : l.emptyStyle, this.containerOpacity.getStyleClass("opacity"));
return o.createElement("surface", {
style: a
}, o.createElement(i.Text, {
value: t,
type: "emphasis",
size: "XS",
style: c.SpartaGlobals.bundleIsConsole ? f.title : l.emptyStyle
}), o.createElement(i.Text, {
value: n,
size: "XS",
style: c.SpartaGlobals.bundleIsConsole ? f.description : l.emptyStyle
}));
}, t;
}(o.Component);
t.MapInfoDisplay = m;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(8), a = n(23), s = n(1310), u = n(1312), l = n(73), c = n(6), p = n(327), d = n(615), f = n(15), m = n(19), h = n(1313), g = n(3), y = n(1314), S = n(5), v = n(9), _ = n(78), b = f.Animation.defaultTweenOptions.duration, T = function(e) {
return 300 * e + b;
}, E = 3 * a.dangerZoneSize.width, C = S.StaticStyle.wrapLegacyStyleSheet({
main: {
flex: 1,
alignSelf: "center",
flexDirection: "column",
width: a.safeZone.width + (v.SpartaGlobals.bundleIsPC ? E : 0),
marginBottom: i.getHeight(2, !1)
},
top: {
flex: 0,
marginTop: i.spacer(-1),
marginBottom: v.SpartaGlobals.bundleIsPC ? i.getHeight(4, !1) : i.getHeight(2, !1)
},
bottom: {
flexDirection: "row",
flex: 0,
marginBottom: v.SpartaGlobals.bundleIsPC ? 0 : 2 * i.GUTTER
},
bottomCentered: {
justifyContent: "center"
},
bottomMultiple: {
justifyContent: "space-between"
},
dimmed: {
opacity: .2
},
textCenter: {
textAlign: "center",
textAlignForRTL: "center",
marginBottom: i.GUTTER,
zOffset: 1
},
scoresWrapper: {
flexDirection: "column",
width: i.getWidth(6, !1),
alignSelf: "flex-end"
},
kitRanksWrapper: {
width: i.getWidth(6, !1),
flexDirection: "column",
alignSelf: "flex-end"
},
awardTrainWrapper: {
marginTop: i.spacer(2),
flexDirection: "column",
justifyContent: "flex-start"
},
freemiumContainer: {
height: i.getHeight(20, !1),
width: i.getWidth(20, !1),
backgroundColor: "#00000080",
flexDirection: "row",
alignSelf: "center"
},
freemiumInfo: {
justifyContent: "center",
flex: 1
},
roundScoreWrapper: {
flexDirection: "row",
justifyContent: "center"
},
roundScoreNr: {
whiteSpace: "nowrap",
textAlign: "center",
color: "#FF9900"
},
freemiumBoxRank: {
marginBottom: 0,
height: i.getHeight(20, !1),
width: i.getHeight(20, !1),
justifyContent: "center",
alignItems: "center"
}
}, "a650d470:27:15"), I = S.StaticStyle.create({
color: "#FF9900"
}, "a650d470:316:35"), A = function(t) {
function n(e) {
var n = t.call(this, e) || this;
n.showScraps = !1, n.timeouts = [], n.isPersonalViewed = l.tunguskaEndOfRoundStore.isViewed(l.EorPages.personal);
var r = n.isPersonalViewed ? 1 : 0;
return n.tweens = {
roundScoreY: f.Animation.tween("a650d470:140:42", n.isPersonalViewed ? 0 : 60),
roundScoreOpacity: f.Animation.tween("a650d470:141:48", r),
totalScoreY: f.Animation.tween("a650d470:142:42", n.isPersonalViewed ? 0 : 20),
totalScoreOpacity: f.Animation.tween("a650d470:143:48", r),
unlockRankY: f.Animation.tween("a650d470:144:42", n.isPersonalViewed ? 0 : 20),
unlockRankOpacity: f.Animation.tween("a650d470:145:48", r)
}, n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this, t = 500 + b;
if (l.tunguskaEndOfRoundStore.isViewed(l.EorPages.personal)) t = 0; else {
t += 500;
var n = l.tunguskaEndOfRoundStore.data, o = n && n.personalInfo, i = o && o.stats && o.stats.freemiumScore;
!!(i && i.value && i.value > 0) || (t += 1e3);
}
this.setTimeout(g.action(function() {
var t = l.tunguskaEndOfRoundStore.data, n = l.tunguskaEndOfRoundStore.battlePacks, o = t && t.bpProgression, i = t && t.personalInfo, a = n && n.players && n.packs && n.players.length, s = o && o.progression, u = l.tunguskaEndOfRoundStore.isViewed(l.EorPages.personal);
(a || s) && (e.battlepacks = r.createElement(y.BattlepackHandout, {
skipAnimation: u,
battlepacks: n,
progression: o,
me: i
}));
}), t);
}, n.prototype.componentWillUnmount = function() {
this.clearTimeouts(), l.tunguskaEndOfRoundStore.viewPage(l.EorPages.personal), _.Tween.destroyTweens(this.tweens);
}, n.prototype.clearTimeouts = function() {
this.timeouts.forEach(clearTimeout);
}, n.prototype.setTimeout = function(e, t) {
this.timeouts.push(setTimeout(e, t));
}, n.prototype.renderRankProgression = function(e, t) {
if (e.rankProgression) {
var n = e.rankProgression, o = n.initialValue, i = n.scores, a = n.ranks, u = n.minutesToNextRank || 0;
return r.createElement(s.RankProgressBar, {
initialValue: o,
skipAnimation: t,
minutesToNextRank: u,
segments: i,
ranks: a,
delay: b,
style: C.top
});
}
return null;
}, n.prototype.playFreemiumProgression = function() {
var e = 0, t = ++e, n = e += 7, r = ++e, o = ++e;
this.tweens.roundScoreY.to(30, {
delay: T(t),
duration: 300
}), this.tweens.roundScoreY.to(0, {
delay: T(n),
duration: 300
}), this.tweens.roundScoreOpacity.to(1, {
delay: T(t),
duration: 300
}), this.tweens.totalScoreY.to(0, {
delay: T(r),
duration: 300
}), this.tweens.totalScoreOpacity.to(1, {
delay: T(r),
duration: 300
}), this.tweens.unlockRankY.to(0, {
delay: T(o),
duration: 300
}), this.tweens.unlockRankOpacity.to(1, {
delay: T(o),
duration: 300
});
}, n.prototype.renderFreemiumProgression = function(e, t) {
if (e && e.rankProgression && e.stats && e.freemiumRank) {
var n = e.rankProgression.ranks[0], o = e.freemiumRank, a = e.stats.totalFreemiumScore.value, s = e.stats.freemiumScore.value, u = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_FREEMIUM_SCORE_UNLOCK").replace("[[rank]]", "" + o.number), l = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_FREEMIUM_TOTAL_SCORE").replace("[[value]]", "" + a), f = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_FREEMIUM_ROUND_SCORE").replace("[[value]]", ""), h = null;
if (t) {
var g = "" + s;
y = S.merge2(C.roundScoreNr, S.DynamicStyle.create({
width: 20 * ("" + g).length
}, "a650d470:305:41"));
h = r.createElement(c.Text, {
key: "counter",
size: "M",
value: g,
style: y
});
} else {
this.playFreemiumProgression();
var y = S.merge2(C.roundScoreNr, S.DynamicStyle.create({
width: 20 * ("" + s).length
}, "a650d470:289:41"));
h = r.createElement(p.CountUp, {
key: "counter",
size: "M",
countTo: s,
duration: T(5),
delay: T(2),
style: y
});
}
var v = S.merge2(this.tweens.roundScoreOpacity.getStyleClass("opacity"), this.tweens.roundScoreY.getStyleClass("translateY")), _ = S.merge4(C.textCenter, I, this.tweens.totalScoreOpacity.getStyleClass("opacity"), this.tweens.totalScoreY.getStyleClass("translateY")), b = S.merge3(C.textCenter, this.tweens.unlockRankOpacity.getStyleClass("opacity"), this.tweens.unlockRankY.getStyleClass("translateY"));
return r.createElement("surface", {
style: C.freemiumContainer
}, r.createElement(d.RankImageContainer, {
key: "current",
rank: n,
style: C.freemiumBoxRank
}), r.createElement("surface", {
style: C.freemiumInfo
}, r.createElement(m.LocaleRearrange, {
style: [ C.roundScoreWrapper, C.textCenter, v ]
}, r.createElement(c.Text, {
key: "text",
style: {
color: "#FF9900",
marginRight: i.GUTTER
},
size: "M",
value: f
}), h), r.createElement(c.Text, {
style: _,
size: "S",
value: l
}), r.createElement(c.Text, {
style: b,
size: "S",
value: u
})), r.createElement(d.RankImageContainer, {
key: "freemium",
rank: o,
style: C.freemiumBoxRank
}));
}
}, n.prototype.render = function() {
var e = l.tunguskaEndOfRoundStore.data;
if (!e || !e.personalInfo || !e.personalInfo.stats) return r.createElement("surface", null);
var t, n, o, i = e.personalInfo, a = e.personalInfo.stats.freemiumScore, s = !!(a && a.value && a.value > 0), c = l.tunguskaEndOfRoundStore.isViewed(l.EorPages.personal);
if (s) o = r.createElement("surface", {
style: C.freemiumContainer
}, this.renderFreemiumProgression(i, c)), n = r.createElement("surface", {
style: C.bottomCentered
}); else {
o = this.renderRankProgression(i, c);
var p = b + 1e3;
n = r.createElement(h.ClassRankProgressDisplay, {
personalInfo: i,
skipAnimation: c,
delay: p
});
}
var d = i.awardTrain || [];
return t = r.createElement(u.AwardCarousel, {
items: d,
skipAnimation: c,
delay: b + 500
}), r.createElement("surface", {
style: C.main
}, o, t, n, this.battlepacks);
}, e.__decorate([ g.observable ], n.prototype, "battlepacks", void 0), e.__decorate([ g.observable ], n.prototype, "showScraps", void 0), 
n = e.__decorate([ o.observer ], n);
}(r.Component);
t.Personal = A;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(15), a = n(8), s = n(23), u = n(324), l = n(615), c = n(14), p = n(325), d = n(326), f = n(9), m = n(33), h = n(5), g = n(78), y = n(104), S = n(27), v = a.getWidth(2, !1), _ = s.safeZone.width - v * (f.SpartaGlobals.bundleIsPC ? 1 : 2), b = c.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), T = 1600, E = c.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/progress-bar-flare-6cee6e76.png"), C = c.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/War_Bonds-2d2c3757.wav"), I = c.bbOfflineUrl("/sparta/assets/tunguska/endofround/warbonds-469fb2a5.jpg"), A = c.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Rank_Up-e540360d.wav"), w = h.StaticStyle.wrapLegacyStyleSheet({
barContainer: {
zOffset: 1,
position: "relative",
width: _,
height: 18,
justifyContent: "flex-start",
flexWrap: "nowrap",
flexDirection: "row",
backgroundColor: "#00000080"
},
initialSegment: {
backgroundColor: "#FFFFFF",
marginLeft: 0,
height: 18
},
segmentInfo: {
position: "absolute",
right: -20,
width: 200,
opacity: 0,
top: 20,
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
segmentInfoText: {
color: "#FFFFFF",
flex: 1,
marginTop: 8
},
segmentInfoTextValue: {
color: "#FFFFFF",
flex: 1,
marginTop: 2
},
estimateContainer: {
flex: 1,
flexDirection: "row",
alignItems: "center",
justifyContent: "flex-end"
},
estimateText: {
color: "#FFFFFF",
opacity: .66,
marginRight: 16
},
progress: {
flexDirection: "row",
marginBottom: a.GUTTER
},
mainContainer: {
flexDirection: "row",
alignItems: "center",
justifyContent: "center",
height: a.getHeight(10, !1)
},
currentRank: {
alignItems: "flex-start",
flex: 1
},
rankWrapper: {
flexDirection: "row",
justifyContent: "center",
zOffset: 10,
width: v
},
middle: {
width: _
},
warBonds: {
position: "absolute",
left: _ / 2 - 85,
top: -9 - 148 / 6,
width: 170,
height: 148,
flex: 1,
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
warBondsImage: {
texture: I,
width: 170,
height: 148,
flex: 1,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
position: "absolute",
zOffset: 12,
top: 0,
left: 0,
right: 0,
bottom: 0
},
bgFlare: {
zOffset: -1,
enableMouseEvents: !1,
position: "absolute",
width: T,
height: 880,
top: -880 / 1.8,
right: -T / 2
},
rankUpAnimationSegment: {
position: "absolute",
bottom: -9,
left: -9,
right: -9,
top: -9,
zOffset: -1,
texture: c.bbOfflineUrl("/sparta/assets/ui/cards/card-border-blur-red-f069fd70.png"),
textureMode: "fill",
textureBorder: [ 14, 14, 14, 14 ],
opacity: 0
},
rankUpAnimationSegmentInner: {
zOffset: 1,
backgroundColor: "#ffe034",
position: "absolute",
bottom: 9,
left: 9,
right: 9,
top: 9
}
}, "5e0f5395:47:15"), P = function(t) {
function n(e) {
var n = t.call(this, e) || this;
n._isMounted = !1, n.animateBondsIn = function() {
var e = [];
if (n._isMounted) {
var t = u.AnimationConstants.bonds.flare.duration, r = {
duration: u.AnimationConstants.bonds.scale.duration,
delay: n.baseDelay,
easing: S.Easing.CubicInOut
};
n.setTimeout(function() {
n.warBondSound.setVolume(1), n.warBondSound.play();
}, n.baseDelay), e = [ n.tweens.warBondsOpacity.promiseTo(1, r), n.tweens.warBondsTextOpacity.promiseTo(1, r), n.tweens.warBondsScale.promiseTo(1, r), n.tweens.flareScale.promiseTo(4, {
duration: 500,
delay: n.baseDelay
}), n.tweens.flareOpacity.promiseTo(1, {
duration: t,
delay: n.baseDelay
}), n.tweens.flareOpacity.promiseTo(0, {
duration: t - 100,
delay: n.baseDelay + 300
}) ];
}
return Promise.all(e);
}, n.animateBondsOut = function() {
if (!n._isMounted) return Promise.all([]).then(function() {});
var e = {
duration: 300,
easing: S.Easing.CubicInOut,
delay: 1500
}, t = {
duration: 150,
easing: S.Easing.CubicInOut,
delay: 1500
};
return Promise.all([ n.tweens.warBondsTextOpacity.promiseTo(0, t), n.tweens.warBondsOpacity.promiseTo(0, e) ]).then(function() {
n.tweens.warBondsScale.set(.5), n.tweens.flareScale.set(0);
});
}, n.animateRankUp = function() {
if (n._isMounted) {
var e = n.state.nextRankIdx, t = n.state.prevRankIdx, r = n.state.segmentIndex;
if (e + 1 < n.props.ranks.length) {
var o = n.props.ranks[e + 1];
n.setState({
initialValue: 0,
startSegment: 0,
segmentIndex: r + 1,
goalValue: o.scoreNeeded,
prevRankIdx: t + 1,
nextRankIdx: e + 1,
nextRank: null,
rankInProgress: !1
});
} else n.setState({
segmentIndex: r + 1,
initialValue: 0,
startSegment: 0,
prevRankIdx: t + 1,
nextRank: null,
rankInProgress: !1
});
}
}, n.updateRanks = function() {
n.state.warBondsEarned > 0 ? n.animateBondsIn().then(n.animateBondsOut).then(n.animateRankUp) : n.animateRankUp();
}, n.lastSegmentCallback = function() {
var e = n.state.segments || [];
(n.state.segmentIndex < e.length - 1 || n.state.segmentIndex === e.length - 1 && 2 === n.props.ranks.length && n.props.ranks[1].isMaxRank) && n.rankUp();
}, n.checkIfLast = function() {
return n.state.segmentIndex === n.state.segments.length - 1 && 2 === n.props.ranks.length && n.props.ranks[1].isMaxRank;
};
var r = e.skipAnimation, o = e.initialValue, a = e.ranks, s = p.getGoalValue(e.ranks, r), l = p.getInitialWidth(o, s, a, _, r);
return n.state = {
initialValue: 0,
nextRank: null,
prevRank: null,
nextRankIdx: p.getInitialRankIndexTo(a, e.skipAnimation),
prevRankIdx: p.getInitialRankIndexFrom(a, e.skipAnimation),
warBondsEarned: 0,
rankInProgress: !1,
segmentIndex: 0,
goalValue: Math.max(s, 1),
startSegment: l,
segments: p.calculateIterations(e.segments, a, o, _, r)
}, n.tweens = {
opacity: i.Animation.tween("5e0f5395:262:38", r ? 1 : 0),
flareScale: i.Animation.tween("5e0f5395:263:41", 0),
flareOpacity: i.Animation.tween("5e0f5395:264:43", 0),
warBondsOpacity: i.Animation.tween("5e0f5395:265:46", 0),
warBondsTextOpacity: i.Animation.tween("5e0f5395:266:50", 0),
warBondsScale: i.Animation.tween("5e0f5395:267:44", .5),
rankUpOverlayLeft: i.Animation.tween("5e0f5395:268:48", _ - 18),
rankUpOverlayOpacity: i.Animation.tween("5e0f5395:269:51", 0),
bgFlareOpacityTween: i.Animation.tween("5e0f5395:270:50", 0),
bgFlareLeftTween: i.Animation.tween("5e0f5395:271:47", _ - T / 2)
}, n.baseDelay = e.delay || 0, n.warBondSound = y.Sound.load(C), n;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.timeouts = [];
}, n.prototype.componentDidMount = function() {
this._isMounted = !0, this.tweens.opacity.to(1, {
delay: this.baseDelay,
duration: 400
});
}, n.prototype.componentWillUnmount = function() {
this._isMounted = !1, this.clearTimeouts(), g.Tween.destroyTweens(this.tweens);
}, n.prototype.clearTimeouts = function() {
this.timeouts.forEach(clearTimeout);
}, n.prototype.setTimeout = function(e, t) {
this.timeouts.push(setTimeout(e, t));
}, n.prototype.animateRankUpOverlay = function() {
if (this._isMounted) {
var e = u.AnimationConstants.rankUpOverlay.opacity.duration, t = u.AnimationConstants.rankImage.move.duration, n = -T / 2;
this.tweens.rankUpOverlayOpacity.to(1, {
duration: 1,
delay: 0
}), this.tweens.rankUpOverlayLeft.to(-9, {
duration: u.AnimationConstants.rankUpOverlay.left.duration,
delay: 0
}), this.tweens.bgFlareOpacityTween.to(1, {
duration: e,
delay: 0
}), this.tweens.bgFlareLeftTween.to(n, {
duration: e,
delay: t
}), this.tweens.bgFlareOpacityTween.to(0, {
duration: e,
delay: t
}), this.tweens.rankUpOverlayOpacity.to(0, {
duration: u.AnimationConstants.rankUpOverlay.left.duration,
delay: t
});
}
}, n.prototype.rankUp = function() {
var e = this.props.ranks[this.state.nextRankIdx], t = this.props.ranks[this.state.prevRankIdx], n = e.warBonds;
this.animateRankUpOverlay(), this.setState({
nextRank: e,
prevRank: t,
warBondsEarned: n,
rankInProgress: !0
});
}, n.prototype.render = function() {
var e = this.props.ranks, t = e[this.state.prevRankIdx] || {}, n = e[this.state.nextRankIdx] || {}, i = this.props.minutesToNextRank, a = __("ID_SPARTA_GAMESTATE_END_OF_ROUND_TIME_TO_RANK").toUpperCase(), s = i + " " + __("ID_SPARTA_DATETIME_MIN").toLowerCase(), u = this.state.warBondsEarned || 0, c = {
scaleX: this.tweens.warBondsScale.getStyle(),
scaleY: this.tweens.warBondsScale.getStyle(),
opacity: this.tweens.warBondsOpacity.getStyle()
}, p = {
color: "#E5C8A3",
zOffset: 13,
opacity: this.tweens.warBondsTextOpacity.getStyle()
}, h = {
zOffset: 10,
enableMouseEvents: !1,
position: "absolute",
rotateZ: 20,
height: 582.5,
width: 853 / 1.5,
left: 0,
top: 0,
translateX: -221,
translateY: -1165 / 4.5,
scaleY: this.tweens.flareScale.getStyle(),
texture: b,
opacity: this.tweens.flareOpacity.getStyle()
}, g = {
zOffset: 1e3,
left: this.tweens.rankUpOverlayLeft.getStyle(),
opacity: this.tweens.rankUpOverlayOpacity.getStyle()
}, y = f.SpartaGlobals.bundleIsPC ? "S" : "XS", S = i > 0 ? r.createElement("surface", {
style: w.estimateContainer
}, r.createElement(o.Text, {
value: a,
size: y,
style: w.estimateText
}), r.createElement(o.Text, {
value: s,
size: y,
type: m.TextType.EMPHASIS
})) : null, v = this.state.warBondsEarned > 0 && r.createElement("surface", {
style: [ w.warBonds ]
}, r.createElement("surface", {
style: h
}), r.createElement("surface", {
style: [ w.warBondsImage, c ]
}, r.createElement(o.Text, {
value: u + "",
size: "XL",
type: m.TextType.EMPHASIS,
style: p
}))), T = {
texture: E,
opacity: this.tweens.bgFlareOpacityTween.getStyle(),
left: this.tweens.bgFlareLeftTween.getStyle()
};
return r.createElement("surface", {
style: [ w.mainContainer, {
opacity: this.tweens.opacity.getStyle()
}, this.props.style ]
}, r.createElement("surface", {
style: w.rankWrapper
}, r.createElement(l.RankImageContainer, {
key: "current",
skipAnimation: this.props.skipAnimation,
rank: t,
prevRank: this.state.prevRank,
nextRank: this.state.nextRank
})), r.createElement("surface", {
style: w.middle
}, r.createElement("surface", {
style: w.progress
}, r.createElement("surface", {
style: w.currentRank
}, r.createElement(o.Text, {
value: t.name,
size: y,
type: m.TextType.EMPHASIS
})), S), r.createElement(d.ProgressBar, {
height: 18,
width: _,
sound: A,
segments: this.state.segments,
segmentIndex: this.state.segmentIndex,
isReady: !this.state.rankInProgress,
startSegment: this.state.startSegment,
lastCheck: this.checkIfLast,
skipAnimation: this.props.skipAnimation,
lastSegmentCallback: this.lastSegmentCallback
}, r.createElement("surface", {
style: [ w.rankUpAnimationSegment, g ]
}, r.createElement("surface", {
style: w.rankUpAnimationSegmentInner
})), r.createElement("surface", {
style: [ w.bgFlare, T ]
})), v), r.createElement("surface", {
style: w.rankWrapper
}, r.createElement(l.RankImageContainer, {
key: "next",
rank: n,
nextRank: this.state.nextRank,
prevRank: this.state.prevRank,
skipAnimation: this.props.skipAnimation,
animationCallback: this.updateRanks,
parentWidth: _
})));
}, n.defaultProps = {
width: 0,
backgroundColor: "#000000AA",
goalValue: 0,
initialValue: 0,
segments: []
}, n;
}(r.Component);
t.RankProgressBar = P;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(15), a = n(8), s = n(327), u = n(324), l = n(14), c = n(21), p = n(5), d = n(9), f = n(78), m = n(27), h = n(104), g = u.AnimationConstants.segment, y = l.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/ProgressBar-85465d29.wav"), S = p.StaticStyle.wrapLegacyStyleSheet({
segmentContainer: {
zOffset: 1,
flex: 0,
width: 0,
height: 18
},
segmentBaseColor: {
backgroundColor: "#FF9900",
position: "absolute",
top: 0,
left: 0,
bottom: 0,
right: 0
},
activeOverlay: {
position: "absolute",
top: 9,
left: 9,
right: 9,
bottom: 9,
backgroundColor: "#ff3d00"
},
glowInner: {
position: "absolute",
bottom: -8,
right: 0,
top: -8,
texture: l.bbOfflineUrl("/sparta/assets/tunguska/endofround/bar_glow_inside-0fdf8589.png"),
width: 0
},
glowLeft: {
position: "absolute",
bottom: -15,
left: 0,
right: 0,
top: -15,
texture: l.bbOfflineUrl("/sparta/assets/tunguska/endofround/bar_glow_left-98f1e490.png"),
textureMode: "fill",
blendMode: "screen"
},
glowRight: {
position: "absolute",
bottom: -16,
right: -33,
top: -16,
width: 32,
texture: l.bbOfflineUrl("/sparta/assets/tunguska/endofround/bar_glow_right-82e75fd7.png"),
blendMode: "screen"
},
segmentInfo: {
position: "absolute",
left: 0,
right: 0,
top: 54,
flexDirection: "row",
alignItems: "center",
zOffset: -1
},
segmentInfoText: {
alignSelf: "center",
color: "#FFFFFF",
marginRight: 2 * a.GUTTER
},
segmentInfoTextNoRight: {
alignSelf: "center",
color: "#FFFFFF"
},
segmentInfoValueContainer: {
alignSelf: "center",
width: 170,
flexDirection: "row",
alignItems: "flex-end"
},
segmentInfoValueText: {
color: "#FFFFFF"
},
segmentInfoValue: {
color: "#FFFFFF",
marginLeft: 8,
marginRight: 8
}
}, "5518c993:19:15"), v = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n._isMounted = !1, n.tweens = {
width: i.Animation.tween("5518c993:152:36", e.skipAnimation ? e.segment.width : 0),
glow: i.Animation.tween("5518c993:153:35", 0),
glowWidth: i.Animation.tween("5518c993:154:40", 0),
activeOverlay: i.Animation.tween("5518c993:155:44", 0),
activeColorOpacity: i.Animation.tween("5518c993:156:49", 0)
}, n.progressSound = h.Sound.load(y), n.progressSound.setVolume(1), n.rankUpSound = h.Sound.load(e.sound), 
n;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.timeouts = [];
}, Object.defineProperty(n.prototype, "segmentDelay", {
get: function() {
return g.baseDelay + g.scale.duration * this.props.index;
},
enumerable: !0,
configurable: !0
}), n.prototype.componentDidMount = function() {
this._isMounted = !0, !this.props.skipAnimation && this.props.isReady && this.play(this.segmentDelay);
}, n.prototype.componentDidUpdate = function(e) {
this.props.skipAnimation || e.isReady || !this.props.isReady || this.play(this.segmentDelay);
}, n.prototype.componentWillReceiveProps = function(e) {
e.isReady || this.props.last || this.animateBack(100, 300);
}, n.prototype.componentWillUnmount = function() {
this.clearTimeouts(), this.progressSound.stop(), this.rankUpSound.stop(), f.Tween.destroyTweens(this.tweens), 
this._isMounted = !1;
}, n.prototype.clearTimeouts = function() {
this.timeouts.forEach(clearTimeout);
}, n.prototype.setTimeout = function(e, t) {
this.timeouts.push(setTimeout(e, t));
}, n.prototype.play = function(e) {
var t = this, n = g.scale.duration + e, r = {
duration: g.scale.duration,
delay: e
}, o = {
duration: g.scale.duration / 4,
delay: e + 300
}, i = {
duration: g.scale.duration / 2,
delay: e + g.scale.duration / 4 * 3
};
if (this.tweens.width.to(this.props.segment.width, r), this.setTimeout(function() {
t.progressSound.play();
}, e - 500), this.props.last && this.props.lastSegmentCallback) {
this.setTimeout(function() {
t._isMounted && t.props.lastSegmentCallback && t.props.lastSegmentCallback();
}, n), this.setTimeout(function() {
t.rankUpSound.play();
}, n - 500);
var a = n + 500;
this.animateBackWithGlow(a);
}
this.tweens.glow.to(.7, o), this.tweens.glow.to(0, i), this.tweens.glowWidth.to(Math.min(this.props.segment.width, 284), r);
}, n.prototype.animateBackWithGlow = function(e) {
var t = {
duration: 400,
delay: e
};
this.tweens.activeOverlay.to(1, {
duration: 10
}), this.tweens.width.to(0, t), this.tweens.activeOverlay.to(0, {
duration: 10,
delay: e - 1e3
});
}, n.prototype.animateBack = function(e, t) {
this.tweens.width.to(0, {
duration: e,
delay: t
});
}, n.prototype.render = function() {
var e = {
opacity: this.tweens.glow.getStyle()
}, t = {
opacity: this.tweens.glow.getStyle(),
width: this.tweens.glowWidth.getStyle()
}, n = {
opacity: this.tweens.activeOverlay.getStyle()
}, o = {
width: this.tweens.width.getStyle(),
marginRight: this.props.last ? 0 : 1,
height: this.props.height
};
return r.createElement("surface", {
style: [ this.props.style, S.segmentContainer, o ]
}, r.createElement("surface", {
style: S.segmentBaseColor
}), this.props.hideActiveOverlay ? void 0 : r.createElement("surface", {
style: [ S.activeOverlay, n ]
}), r.createElement("surface", {
style: [ S.glowInner, t ]
}), r.createElement("surface", {
style: [ S.glowLeft, e ]
}), r.createElement("surface", {
style: [ S.glowRight, e ]
}));
}, n;
}(r.Component);
t.ProgressBarSegment = v;
var _ = function(e) {
var t = e.value, n = e.textSize, i = e.delay, a = e.style;
return r.createElement("surface", {
style: [ S.segmentInfoValueContainer, a ]
}, r.createElement(o.Text, {
value: "+",
size: n,
style: S.segmentInfoValueText
}), r.createElement(s.CountUp, {
countTo: t,
duration: 1e3,
size: n,
delay: i + 1e3,
style: S.segmentInfoValue
}), r.createElement(o.Text, {
value: __("ID_SPARTA_GENERIC_XP"),
size: n,
style: S.segmentInfoValueText
}));
}, b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.tweens = {
containerOpacity: i.Animation.tween("5518c993:341:43", 1),
containerTranslate: i.Animation.tween("5518c993:342:45", 0, {
easing: m.Easing.CubicIn
}),
textTranslate: i.Animation.tween("5518c993:343:40", 16, {
easing: m.Easing.CubicOut
}),
textOpacity: i.Animation.tween("5518c993:344:38", 0),
valueTranslate: i.Animation.tween("5518c993:345:41", 16, {
easing: m.Easing.CubicOut
}),
valueOpacity: i.Animation.tween("5518c993:346:39", 0)
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = g.baseDelay + g.scale.duration * this.props.index;
this.props.skipAnimation || this.play(e);
}, n.prototype.componentWillUnmount = function() {
f.Tween.destroyTweens(this.tweens);
}, n.prototype.play = function(e) {
var t = {
duration: 1e3,
delay: e + 500
}, n = {
duration: 1e3,
delay: e + 750
}, r = {
duration: 500,
delay: g.scale.duration + e
};
this.tweens.containerTranslate.to(-32, r), this.tweens.containerOpacity.to(0, r), 
this.tweens.textOpacity.to(1, t), this.tweens.textTranslate.to(0, t), this.tweens.valueOpacity.to(1, n), 
this.tweens.valueTranslate.to(0, n);
}, n.prototype.render = function() {
var e, t = this.props.segment.name.toUpperCase(), n = {
justifyContent: this.props.justifyText || "center",
opacity: this.tweens.containerOpacity.getStyle(),
translateY: this.tweens.containerTranslate.getStyle()
}, i = p.merge3(this.props.hideCounter ? S.segmentInfoTextNoRight : S.segmentInfoText, this.tweens.textOpacity.getStyleClass("opacity"), this.tweens.textTranslate.getStyleClass("translateY")), s = g.baseDelay + g.scale.duration * this.props.index;
if (!this.props.hideCounter) {
var u = {
opacity: this.tweens.valueOpacity.getStyle(),
translateY: this.tweens.valueTranslate.getStyle()
}, l = this.props.countTextSize;
l || (l = d.SpartaGlobals.bundleIsPC ? "M" : "S"), e = r.createElement(_, {
value: this.props.segment.value,
textSize: l,
delay: s,
style: u
});
}
var f = this.props.textSize || d.SpartaGlobals.bundleIsPC ? c.TextSize.S : c.TextSize.XS;
return r.createElement("surface", {
style: [ S.segmentInfo, n, {
top: this.props.height + a.GUTTER
} ]
}, r.createElement(o.Text, {
value: t,
size: f,
style: i
}), e);
}, n;
}(r.Component);
t.ProgressBarText = b;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(6), s = n(8), u = n(15), l = n(61), c = n(14), p = n(365), d = n(34), f = n(105), m = n(39), h = n(72), g = n(9), y = n(263), S = n(33), v = n(21), _ = n(22), b = n(5), T = n(27), E = n(104), C = p.dangerZoneSize.width, I = [ c.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_01-f761a7ee.wav"), c.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_02-79e9579e.wav"), c.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_03-67faa4b4.wav"), c.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Personal_Tick_04-e4ab4f8c.wav") ], A = 160 + s.getHeight(10), w = b.StaticStyle.wrapLegacyStyleSheet({
awardCarousel: {
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
marginTop: s.spacer(3),
marginBottom: g.SpartaGlobals.bundleIsPC ? s.spacer(2) : void 0,
height: A
},
awardsWrapper: {
width: s.getWidth(20),
flexWrap: "nowrap",
flexDirection: "row",
justifyContent: "flex-start"
},
awardItem: {
marginRight: s.GUTTER,
borderRadius: [ 4, 4, 4, 4 ],
width: 160,
height: 160,
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
focusedAwardItem: {
scaleX: 1.0051,
scaleY: 1.0051,
backgroundColor: "#efefef"
},
awardImageCodex: {
width: 98,
height: 140
},
awardImageMedal: {
width: 140,
height: 140
},
awardImageMission: {
width: 140,
height: 140
},
awardImageMissionFocused: {
width: 140,
height: 140,
color: "#000000"
},
awardImageDogtag: {
width: 140,
height: 140
},
awardImageStar: {
width: 140,
height: 140
},
awardImageRibbon: {
width: 140,
height: 140
},
awardImageKit: {
width: 80,
height: 80
},
awardImageScraps: {
width: 80,
height: 80
},
infoContent: {
flex: 1,
marginTop: s.spacer(2),
alignItems: "center"
},
infoHeader: {
flexDirection: "row",
alignItems: "center"
},
infoDescription: {
marginTop: s.spacer(1)
},
infoXp: {
marginLeft: s.GUTTER,
color: "#ffffff",
opacity: .8
},
scrollWrapper: {
flexDirection: "row",
justifyContent: "center",
width: s.getWidth(24)
}
}, "438fc99e:38:15"), P = i.observable({
index: -1
}), R = i.action(function(e) {
P.index = e;
}), O = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.focusGroup = _.focusSystem.createComponentGroup(e, "awardcarousel"), e.scrollerState = new d.ScrollerState(), 
e.onMouseScroll = function(t) {
(e.scrollerState.canScrollLeft || e.scrollerState.canScrollRight) && (t.stopPropagation(), 
e.scroll(t.scroll > 0 ? "left" : "right"));
}, e;
}
return e.__extends(n, t), n.prototype.scroll = function(e) {
var t = h.getBoundsForOverflowingChildInDirection(this.scrollerState, e);
t && this.scrollerState.scrollToBounds(this.scrollerState.getLocalBounds(t));
}, n.prototype.render = function() {
var e = this, t = this.props.items || [], n = t.length;
if (0 === n) return r.createElement("surface", {
style: w.awardCarousel
}, r.createElement(m.EmptyState, {
text: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_NO_AWARDS"),
subText: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL_NO_AWARDS_DESC")
}));
var o = t.map(function(t, n) {
return r.createElement(k, {
key: "aw-" + n,
item: t,
focusGroup: e.focusGroup,
delay: e.props.delay,
index: n,
skipAnimation: e.props.skipAnimation
});
}), i = b.DynamicStyle.create({
width: Math.min(160 * n + n * s.GUTTER + s.GUTTER, g.SpartaGlobals.bundleIsPC ? s.getWidth(24, !1) : s.getWidth(21, !1))
}, "438fc99e:210:22");
return r.createElement("surface", {
style: w.awardCarousel
}, r.createElement(d.Scroller, {
tween: !0,
scrollbar: !1,
noVerticalScroll: !0,
scrollerState: this.scrollerState,
onMouseScroll: this.onMouseScroll,
softClip: [ 0, C, 0, C ],
style: i,
clipMargin: [ 3 * s.GUTTER, C, 3 * s.GUTTER, C ]
}, r.createElement("surface", {
style: w.awardsWrapper
}, o)), r.createElement(x, {
items: t,
skipAnimation: this.props.skipAnimation,
delay: this.props.delay
}));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.AwardCarousel = O;
var x = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.animation = r.createRef(), n.textAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
translateY: {
from: 10,
to: 0
},
opacity: {
from: 0,
to: 1
}
},
options: {
easing: T.Easing.CubicOut,
duration: 300
}
}, n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.props.skipAnimation || this.play(300 + (this.props.delay || 0));
}, n.prototype.play = function(e) {
this.animation.current && this.animation.current.play(e);
}, n.prototype.render = function() {
var e = null, t = this.props.items[P.index < 0 && g.SpartaGlobals.bundleIsConsole ? 0 : P.index];
if (t) {
var n = t.description, o = t.title || "", i = t.score || 0, s = void 0;
if (i > 0) switch (t.awardType.toLowerCase()) {
case "scraps":
s = r.createElement(f.TunguskaBattlepackScraps, {
size: "S",
style: w.infoXp,
value: i
});
break;

default:
s = r.createElement(a.Text, {
value: i + " " + __("ID_SPARTA_GENERIC_XP"),
size: "S",
style: w.infoXp
});
}
if ("Kit" === t.awardType && t.kitInfo) {
o = t.kitInfo.awardName || o;
var u = t.kitInfo.categoryName || "";
n = n.replace("[[score]]", l.formatThousands(t.kitInfo.awardTreshold || 0)).replace("[[kit]]", u.toLowerCase());
}
"Mission" === t.awardType && (n = __("ID_SPARTA_MENU_TITLE_SERVICE_ASSIGNMENT"));
var c = g.SpartaGlobals.bundleIsPC ? v.TextSize.M : v.TextSize.S, p = g.SpartaGlobals.bundleIsPC ? v.TextSize.S : v.TextSize.XS;
n.length > 200 && (c = g.SpartaGlobals.bundleIsPC ? v.TextSize.S : v.TextSize.XS, 
p = g.SpartaGlobals.bundleIsPC ? v.TextSize.XS : v.TextSize.XXS), e = [ r.createElement("surface", {
style: w.infoHeader,
key: "header"
}, r.createElement(a.Text, {
value: o.toUpperCase(),
size: c,
type: S.TextType.EMPHASIS
}), s), r.createElement(a.Text, {
value: n,
size: p,
key: "description",
style: w.infoDescription
}) ];
}
return r.createElement(y.AnimatedSurface, {
ref: this.animation,
animation: this.textAnimation,
style: w.infoContent
}, e);
}, n = e.__decorate([ o.observer ], n);
}(r.Component), k = function(t) {
function n(e) {
var n = t.call(this, e) || this;
if (n.playSound = !1, n.container = r.createRef(), n.focusItem = _.focusSystem.create(n, "award_carousel_item_" + e.index), 
e.focusGroup.addMember(n.focusItem, e.index), 0 === e.index && (n.focusItem.autoFocusCandidate = !0), 
e.index < 6) {
var o = e.index < I.length ? e.index : 0, a = I[o];
n.tickSound = E.Sound.load(a), n.playSound = !0;
}
return n.containerAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
opacity: {
from: 0,
to: 1
}
},
options: {
easing: T.Easing.CubicInOut,
duration: 400
}
}, n.awardItemScaleTween = u.Animation.tween("438fc99e:395:52", 1), n.backgroundColorTween = u.Animation.tween("438fc99e:396:53", "#00000080"), 
n.textColorTween = u.Animation.tween("438fc99e:397:47", "#ffffff"), n.cancelReaction = i.reaction(function() {
return n.focusItem.isFocusedOrHovered;
}, function(e) {
e ? (R(n.props.index), n.awardItemScaleTween.set(1.05), n.backgroundColorTween.set("#efefef"), 
n.textColorTween.set("#000000")) : (P.index === n.props.index && g.SpartaGlobals.bundleIsPC && R(-1), 
n.awardItemScaleTween.set(1), n.backgroundColorTween.set("#00000080"), n.textColorTween.set("#ffffff"));
}, {
fireImmediately: n.focusItem.autoFocusCandidate
}), n;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.timeouts = [];
}, n.prototype.componentDidMount = function() {
var e = this, t = 100 * this.props.index + (this.props.delay || 0);
this.props.skipAnimation || (this.playSound && this.setTimeout(function() {
e.tickSound.play();
}, t + 100), this.container.current && this.container.current.play(t));
}, n.prototype.componentWillUnmount = function() {
this.clearTimeouts(), this.cancelReaction(), this.backgroundColorTween.destroy(), 
this.awardItemScaleTween.destroy(), this.textColorTween.destroy();
}, n.prototype.clearTimeouts = function() {
this.timeouts.forEach(clearTimeout);
}, n.prototype.setTimeout = function(e, t) {
this.timeouts.push(setTimeout(e, t));
}, n.prototype.render = function() {
var t = this.props.item, n = t.imageUrl, o = n && "" !== n ? {
texture: n
} : {}, i = null, s = null, u = null, l = !1, c = !1, p = !1;
switch (t.awardType) {
case "Codex":
u = w.awardImageCodex;
break;

case "Medal":
u = w.awardImageMedal;
break;

case "Dogtag":
u = w.awardImageDogtag;
break;

case "Star":
u = w.awardImageStar;
break;

case "Scraps":
u = w.awardImageScraps, p = !0;
break;

case "Kit":
u = w.awardImageKit, c = !0;
break;

case "Ribbon":
u = w.awardImageRibbon, l = !0;
break;

case "Mission":
u = this.focusItem.isFocusedOrHovered ? w.awardImageMissionFocused : w.awardImageMission;
break;

default:
u = w.awardImageMedal;
}
var d = {
backgroundColor: this.backgroundColorTween.getStyle(),
scaleX: this.awardItemScaleTween.getStyle(),
scaleY: this.awardItemScaleTween.getStyle()
}, f = {
position: "absolute",
bottom: 10,
right: 10,
zOffset: 2,
color: this.textColorTween.getStyle()
};
if (l && t && t.progression && t.progression.valueAcquired) {
var m = t.progression.valueAcquired, h = m > 0 ? "x" + m : "";
i = r.createElement(a.Text, {
value: h,
type: S.TextType.EMPHASIS,
size: "S",
style: f
});
}
if (p && t.score > 0 && (i = r.createElement(a.Text, {
value: t.score + "",
type: S.TextType.EMPHASIS,
size: "S",
style: f
})), c) {
var g = t.kitInfo && t.kitInfo.awardRank || 0, v = {
zOffset: 2,
marginTop: 5,
color: this.textColorTween.getStyle()
};
s = r.createElement(a.Text, {
value: g.toString(),
type: S.TextType.EMPHASIS,
size: "M",
style: v
});
}
return r.createElement(y.AnimatedSurface, {
ref: this.container,
animation: this.containerAnimation
}, r.createElement("surface", e.__assign({
style: [ w.awardItem, d ]
}, this.focusItem.hooks), r.createElement("surface", {
style: [ u, o ]
}), s, i));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = n(8), s = n(6), u = n(616), l = n(14), c = n(9), p = n(263), d = n(5), f = n(27), m = c.SpartaGlobals.bundleIsPC ? a.spacer(1) : a.spacer(.5), h = d.StaticStyle.wrapLegacyStyleSheet({
kitRanksWrapper: {
flexDirection: "row",
justifyContent: "center",
marginTop: a.spacer(3),
marginBottom: c.SpartaGlobals.bundleIsPC ? a.spacer(2) : void 0
},
kitRankContainer: {
flex: 1,
alignItems: "center",
flexDirection: "column",
margin: [ 0, m, 0, m ]
},
arrowImage: {
width: 8,
height: 15,
texture: l.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-kitrank-progress-a5192751.png"),
marginLeft: a.GUTTER
},
rankNumber: {
marginTop: a.spacer(2),
marginBottom: a.spacer(2)
}
}, "698d58ba:15:15"), g = {
assault: 0,
medic: 1,
support: 2,
scout: 3,
pilot: 4,
tanker: 5,
cavalry: 6
}, y = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this, t = this.props.personalInfo.kitRankProgression;
if (!t || !t.length) return o.createElement("surface", null);
var n = t.sort(function(e, t) {
return (g[e.id] || 0) - (g[t.id] || 0);
}).map(function(t, n) {
return o.createElement(S, {
key: t.id,
kit: t,
delay: n,
baseDelay: e.props.delay,
skipAnimation: e.props.skipAnimation
});
});
return o.createElement("surface", {
style: h.kitRanksWrapper
}, n);
}, t;
}(o.Component);
t.ClassRankProgressDisplay = y;
var S = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.animation = o.createRef(), r.rowAnimation = {
initialState: t.skipAnimation ? "to" : "from",
values: {
translateY: {
from: 10,
to: 0
},
opacity: {
from: 0,
to: 1
}
},
options: {
easing: f.Easing.CubicOut,
duration: 300
}
}, r;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.props.skipAnimation || this.play(100 * this.props.delay + this.props.baseDelay), 
this.context.retainTexture(u.getImagesByKit(this.props.kit.id).white);
}, t.prototype.componentDidUpdate = function(e) {
this.props.kit.id !== e.kit.id && this.context.retainTexture(u.getImagesByKit(this.props.kit.id).white);
}, t.prototype.play = function(e) {
this.animation.current && this.animation.current.play(e);
}, t.prototype.render = function() {
var e = this.props.kit, t = e.rank || 0, n = e.maxRank && t === e.maxRank, r = e.thresholds && e.thresholds[0] || 0, i = e.thresholds && Math.max(e.thresholds[1] || 1, 1) || 1, a = n ? 1 : r / i, l = n ? 0 : e.earnedInRound / i, d = {
width: 40,
height: 40,
texture: u.getImagesByKit(e.id).white
};
return o.createElement(p.AnimatedSurface, {
ref: this.animation,
animation: this.rowAnimation,
style: h.kitRankContainer
}, o.createElement("surface", {
style: d
}), o.createElement(s.Text, {
value: t + "",
size: c.SpartaGlobals.bundleIsPC ? "S" : "XS",
style: h.rankNumber
}), o.createElement(v, {
completed: a,
delta: l
}));
}, t.contextTypes = {
retainTexture: i.func.isRequired
}, t;
}(o.Component), v = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = a.getWidth(3, !1), t = a.GUTTER, n = this.props.completed, r = this.props.delta, i = Math.round(e * n), s = Math.round(e * r), u = {
width: e,
height: t,
backgroundColor: "#00000066",
position: "relative",
marginLeft: a.GUTTER
}, l = {
position: "absolute",
top: 0,
bottom: 0,
left: 0,
width: i,
backgroundColor: "#efefef"
}, c = {
position: "absolute",
top: 0,
bottom: 0,
left: i,
width: s,
backgroundColor: "#ff9900"
};
return o.createElement("surface", {
style: u
}, o.createElement("surface", {
style: l
}), o.createElement("surface", {
style: c
}));
}, t;
}(o.Component);
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(1315), s = n(1317), u = n(1318), l = n(388), c = function(t) {
function n(e) {
var n = t.call(this, e) || this;
n.bpParts = [], n.setPart = o.action(function(e, t) {
n.currentPart = e(t);
}), n.onDone = function() {
n.props.onDone && n.props.onDone();
};
var i = n.props.battlepacks;
!n.props.skipAnimation && i && i.players.length && (n.bpParts.push(function(e) {
return r.createElement(u.BattlepackInfoText, {
key: "lotteryInfo",
onDone: e,
text: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_BATTLEPACKS_DROP")
});
}), n.bpParts.push(function(e) {
return r.createElement(a.BattlepackLottery, {
key: "lottery",
skipAnimation: n.props.skipAnimation,
battlepacks: i,
me: n.props.me,
onDone: e
});
}));
var c = n.props.progression;
return c && c.progression.length && n.bpParts.push(function(e) {
return r.createElement(s.BattlepackProgression, {
key: "progression",
skipAnimation: n.props.skipAnimation,
bpProgression: c,
onDone: e
});
}), l.sequentialEach(n.bpParts, n.setPart, n.onDone), n;
}
return e.__extends(n, t), n.prototype.render = function() {
return this.currentPart || null;
}, e.__decorate([ o.observable ], n.prototype, "currentPart", void 0), n = e.__decorate([ i.observer ], n);
}(r.Component);
t.BattlepackHandout = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(138), u = n(15), l = n(1316), c = n(23), p = n(8), d = n(14), f = n(388), m = n(9), h = n(71), g = n(78), y = n(104), S = 3 * c.dangerZoneSize.width, v = c.safeZone.width + (m.SpartaGlobals.bundleIsPC ? S : 0), _ = m.SpartaGlobals.bundleIsConsole ? 117 : 157, b = m.SpartaGlobals.bundleIsConsole ? 192 : 256, T = d.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Rank_Up-e540360d.wav"), E = {
image: {
start: {
scale: .1,
opacity: 0
},
intro: {
scale: 1,
opacity: 1
},
outro: {
scale: .1,
opacity: 0
}
},
avatars: {
start: {
opacity: 1,
translateY: 60
},
intro: {
opacity: 1,
translateY: -40
},
outro: {
opacity: 0,
translateY: -140
}
}
}, C = {
container: {
flexDirection: "row",
justifyContent: "center",
alignContent: "center",
alignItems: "center",
width: v,
marginTop: p.spacer(3)
},
wrapper: {
justifyContent: "center",
alignItems: "center",
flexDirection: "row",
marginLeft: p.spacer(3)
},
bpImage: {
height: _,
width: b
},
textContainer: {
justifyContent: "center",
alignItems: "center",
height: 60
}
}, I = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.isReady = !1, n.packs = t.battlepacks.packs.sort(function(e, t) {
return e.rarity - t.rarity;
}), n.preloader = h.textureHandler.createPreloader(n), n.packs.forEach(function(e) {
n.preloader.preload(e.imageUrl, void 0);
}), n.timeouts = [], n.tweens = {
imageScale: u.Animation.tween("17490fdc:134:41", E.image.start.scale),
imageOpacity: u.Animation.tween("17490fdc:135:43", E.image.start.opacity),
avatarsOpacity: u.Animation.tween("17490fdc:137:45", E.avatars.start.opacity)
}, n.sound = y.Sound.load(T), n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
f.sequentialEach(this.packs, i.action(function(t, n) {
e.isReady = !1, e.currentPack = t, e.setTimeout(i.action(function() {
e.play().then(function() {
n();
});
}), 100);
}), function() {
e.props.onDone && e.props.onDone();
});
}, t.prototype.componentWillUnmount = function() {
this.timeouts.forEach(clearTimeout), g.Tween.destroyTweens(this.tweens);
}, t.prototype.setTimeout = function(e, t) {
this.timeouts.push(setTimeout(e, t));
}, t.prototype.play = function() {
var e = this;
return this.sound.play(), this.playIntro().then(i.action(function() {
return e.isReady = !0, !0;
})).then(function() {
return new Promise(function(t) {
var n = 900 * e.currentWinners.length + 1e3;
e.setTimeout(function() {
e.playOutro().then(function() {
t();
});
}, n);
});
});
}, t.prototype.playIntro = function() {
return this.tweens.avatarsOpacity.set(E.avatars.start.opacity), Promise.all([ this.tweens.imageScale.promiseTo(E.image.intro.scale, {
delay: 500,
duration: 600
}), this.tweens.imageOpacity.promiseTo(E.image.intro.opacity, {
delay: 500,
duration: 600
}) ]);
}, t.prototype.playOutro = function() {
var e = this;
return Promise.all([ this.tweens.imageOpacity.promiseTo(E.image.outro.opacity, {
delay: 500,
duration: 600
}), this.tweens.avatarsOpacity.promiseTo(E.avatars.outro.opacity, {
delay: 500,
duration: 600
}) ]).then(function() {
e.tweens.imageScale.set(E.image.start.scale);
});
}, Object.defineProperty(t.prototype, "currentWinners", {
get: function() {
var e = this;
return this.props.battlepacks.players.filter(function(t) {
return e.currentPack && e.currentPack.id === t.packId;
});
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "me", {
get: function() {
return this.props.me;
},
enumerable: !0,
configurable: !0
}), t.prototype.renderWinners = function() {
var e = this, t = this.currentPack;
return t ? this.currentWinners.map(function(n, r) {
var i = e.me && e.me.personaId === n.personaId;
return o.createElement(l.BattlepackLotteryWinner, {
key: "bpw-" + t.id + "-" + r,
player: n,
avatarSize: 60,
index: r,
delay: 900,
isMe: !!i,
focusGroup: s.battlepackWinnersGroup,
isReady: e.isReady
});
}) : null;
}, t.prototype.render = function() {
var e = this.currentPack;
if (!e) return null;
var t = [ C.bpImage, {
texture: e.imageUrl
}, {
opacity: this.tweens.imageOpacity.getStyle(),
scaleY: this.tweens.imageScale.getStyle(),
scaleX: this.tweens.imageScale.getStyle()
} ], n = [ C.wrapper, {
opacity: this.tweens.avatarsOpacity.getStyle()
} ];
return o.createElement("surface", {
style: C.container
}, o.createElement("surface", {
style: t
}), o.createElement("surface", {
style: n
}, this.renderWinners()));
}, r.__decorate([ i.observable ], t.prototype, "currentPack", void 0), r.__decorate([ i.observable ], t.prototype, "isReady", void 0), 
r.__decorate([ i.computed ], t.prototype, "currentWinners", null), t = r.__decorate([ a.observer ], t);
}(o.Component);
t.BattlepackLottery = I;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(201), i = n(6), a = n(21), s = n(62), u = n(12), l = n(11), c = n(15), p = n(14), d = n(4), f = n(49), m = n(8), h = n(140), g = n(73), y = n(9), S = n(7), v = n(22), _ = n(71), b = n(78), T = p.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/profile-glow-orange-95a00ad5.png"), E = {
packPlayer: {
position: "relative",
margin: [ 0, m.spacer(.5), 0, m.spacer(.5) ]
},
focusBorder: {
position: "absolute",
backgroundColor: "#ffffff",
height: 1,
left: 0,
right: 0,
bottom: -2
},
textContainer: {
width: 300,
flexDirection: "row",
justifyContent: "center",
alignItems: "center",
position: "absolute",
height: a.LINE_HEIGHTS.XS,
layer: !0,
layerClip: !0
},
playerName: {
alignSelf: "center"
},
backgroundBorder: {
opacity: .66,
zOffset: -4,
left: -1,
top: -1,
bottom: -1,
right: -1,
position: "absolute",
backgroundColor: "#ff9900"
},
playerFlare: {
zOffset: -5,
opacity: .8,
position: "absolute",
texture: T,
textureMode: "fill"
}
}, C = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = S.SpartaContext.getFromComponent(r), r._isMounted = !1, r.timeouts = [], 
r.focusItem = r.sparta.twinkle.focus.create(r, "scoreboard_row_" + e.player.name), 
0 === e.index && (r.focusItem.autoFocusCandidate = !0), r.state = {
description: ""
}, r.tweens = {
opacity: c.Animation.tween("ca6de60f:122:38", r.props.skipAnimation ? 1 : 0),
textTranslateY: c.Animation.tween("ca6de60f:124:45", 10),
textOpacity: c.Animation.tween("ca6de60f:125:42", 0),
meFlareOpacity: c.Animation.tween("ca6de60f:127:45", .25)
}, e.focusGroup && e.focusGroup.addMember(r.focusItem, e.index), r.preloader = _.textureHandler.createPreloader(r), 
r.preloader.preload(e.player.avatarUrl, void 0), r;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.timeouts = [];
}, n.prototype.componentDidMount = function() {
this._isMounted = !0;
}, n.prototype.componentDidUpdate = function(e) {
var t = (this.props.delay || 200) * this.props.index;
e.isReady || !this.props.isReady || this.props.skipAnimation || this.play(t);
}, n.prototype.componentWillUnmount = function() {
this._isMounted = !1, this.clearTimeouts(), b.Tween.destroyTweens(this.tweens);
}, n.prototype.showPlayerCard = function(e) {
this.props.player.platformId && f.showUserProfile(e.platformId, "EOR");
}, n.prototype.clearTimeouts = function() {
this.timeouts.forEach(clearTimeout);
}, n.prototype.setTimeout = function(e, t) {
this.timeouts.push(setTimeout(e, t));
}, n.prototype.play = function(e) {
var t = this;
this.playMeFlare(), Promise.all([ this.tweens.opacity.promiseTo(1, {
delay: e,
duration: 600
}), this.playTextIntro(e) ]).then(function() {
t._isMounted && t.playTextOutro();
});
}, n.prototype.playTextIntro = function(e) {
return Promise.all([ this.tweens.textOpacity.promiseTo(1, {
delay: e + 450,
duration: 500
}), this.tweens.textTranslateY.promiseTo(0, {
delay: e + 450,
duration: 500
}) ]);
}, n.prototype.playTextOutro = function() {
var e = this;
Promise.all([ this.tweens.textOpacity.promiseTo(0, {
delay: 100,
duration: 500
}), this.tweens.textTranslateY.promiseTo(-10, {
delay: 100,
duration: 500
}) ]).then(function() {
e._isMounted && e.tweens.textTranslateY.set(10);
});
}, n.prototype.playMeFlare = function() {
var e = this;
this.tweens.meFlareOpacity.promiseTo(1, {
duration: 500
}).then(function() {
return e._isMounted ? e.tweens.meFlareOpacity.promiseTo(.25, {
duration: 500
}) : Promise.resolve();
}).then(function() {
e._isMounted && e.playMeFlare();
});
}, n.prototype.render = function() {
var e = this.props, t = e.player, n = e.avatarSize || 40, a = g.tunguskaEndOfRoundStore.data, p = a && a.getPlatoonByGuid(t.platoonGuid), d = this.sparta.stores.settingsStore.hasUGCAccess(), f = p && d ? h.appendTag(t.name, p.tag) : t.name, m = this.focusItem.isFocusedOrHovered, S = {
duration: 100
}, _ = null, b = null, T = null, C = new u.Input({
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
action: this.showPlayerCard.bind(this, t),
key: l.Keys.Accept
}), I = {
opacity: this.tweens.opacity.getStyle(),
scaleX: c.Animation.tweenSwitch(1, 1.05, m, S, S),
scaleY: c.Animation.tweenSwitch(1, 1.05, m, S, S)
}, A = [ E.textContainer, {
opacity: this.tweens.textOpacity.getStyle(),
translateY: this.tweens.textTranslateY.getStyle(),
top: n + 10,
left: -(150 - n / 2)
} ];
if (this.props.isMe) {
var w = n / 2, P = [ E.playerFlare, {
top: -w,
left: -w,
width: n + 2 * w,
height: n + 2 * w,
opacity: this.tweens.meFlareOpacity.getStyle()
} ];
_ = r.createElement("surface", {
style: P
}), b = r.createElement("surface", {
style: E.backgroundBorder
});
}
return m && (y.SpartaGlobals.bundleIsConsole || v.focusSystem.controllerMode) && (T = r.createElement("surface", {
style: E.focusBorder
})), r.createElement("surface", {
style: [ E.packPlayer, I ]
}, r.createElement(s.Pressable, {
input: C,
triggerMode: "after",
focusItem: this.focusItem
}, r.createElement(o.Avatar, {
size: n,
user: t
}), r.createElement("surface", {
style: A
}, r.createElement(i.Text, {
size: "XS",
value: f,
style: E.playerName
})), b, _, T));
}, n.contextTypes = S.SpartaContext.contextTypes, n = e.__decorate([ d.observer ], n);
}(r.Component);
t.BattlepackLotteryWinner = C;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(15), s = n(6), u = n(23), l = n(8), c = n(326), p = n(325), d = n(14), f = n(21), m = n(19), h = n(5), g = n(9), y = n(78), S = 3 * u.dangerZoneSize.width, v = u.safeZone.width + (g.SpartaGlobals.bundleIsPC ? S : 0), _ = g.SpartaGlobals.bundleIsConsole ? 117 : 157, b = g.SpartaGlobals.bundleIsConsole ? 192 : 256, T = d.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Rank_Up-e540360d.wav"), E = d.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/battlepack_flare_progression_text-0186674b.png"), C = d.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/battlepack_flare_progression-a569ccd0.png"), I = {
progression: {
start: {
opacity: 0
},
intro: {
opacity: 1
},
outro: {
opacity: 0
}
},
image: {
start: {
scale: .1
},
intro: {
scale: 1
},
received: {
scale: 1.5
},
outro: {
scale: 1
}
},
imageFlare: {
start: {
scale: .1,
opacity: 0
},
intro: {
scale: 1,
opacity: 0
},
received: {
scale: 2,
opacity: 1
},
outro: {
scale: 1,
opacity: 0
}
},
bpText: {
start: {
opacity: 0,
translateX: 300
},
intro: {
opacity: 1,
translateX: 0
},
outro: {
opacity: 0,
translateX: -300
}
},
bpTextFlare: {
start: {
opacity: 0,
translateX: 170
},
intro: {
opacity: 1,
translateX: 0
},
outro: {
opacity: 0,
translateX: -170
}
}
}, A = h.StaticStyle.wrapLegacyStyleSheet({
container: {
flexDirection: "row",
alignItems: "center",
justifyContent: "center",
width: v,
marginTop: l.spacer(3)
},
bpContainer: {
marginRight: l.spacer(3),
justifyContent: "center",
alignItems: "center"
},
bpImage: {
height: _,
width: b
},
bpImageFlare: {
width: 1255,
height: 361,
blendMode: "screen",
texture: C,
position: "absolute",
top: -(361 - _ + (f.LINE_HEIGHTS.M - 18)) / 2 + 13,
left: -(1255 - b) / 2,
zOffset: -1
},
bpText: {
height: f.LINE_HEIGHTS.M,
textAlignForRTL: "left"
},
bpTextClip: {
layer: !0,
layerClip: !0,
layerSoftClip: [ 0, l.spacer(7), 0, l.spacer(7) ],
height: f.LINE_HEIGHTS.M,
padding: [ 0, l.spacer(7), 0, l.spacer(7) ],
position: "absolute",
top: -(f.LINE_HEIGHTS.M - 18) / 2,
left: g.SpartaGlobals.bundleIsPC ? l.spacer(4) : 0
},
bpTextFlare: {
width: 1255,
height: 361,
blendMode: "screen",
textureFadeInTime: 0,
texture: E
},
bpTextFlareContainer: {
position: "absolute",
width: 1255,
height: 361,
top: -(361 - f.LINE_HEIGHTS.M) / 2,
left: -627.5 + b + (g.SpartaGlobals.bundleIsPC ? l.spacer(12) : l.spacer(8))
}
}, "26e36400:112:15"), w = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.segmentIndex = 0, n.isReady = !1, n._isMounted = !1, n.progressbarWidth = 300, 
n.lastSegmentCallback = function() {
n.isReady = !1, n.tweens.bpTextFlareTranslateX.to(I.bpTextFlare.outro.translateX, {
delay: 500,
duration: 2200
}), Promise.all([ n.tweens.imageScale.promiseTo(I.image.received.scale, {
delay: 500,
duration: 600
}), n.tweens.imageFlareScale.promiseTo(I.imageFlare.received.scale, {
delay: 500,
duration: 600
}), n.tweens.imageFlareOpacity.promiseTo(I.imageFlare.received.opacity, {
delay: 500,
duration: 600
}), n.tweens.bpTextOpacity.promiseTo(I.bpText.intro.opacity, {
delay: 500,
duration: 600
}), n.tweens.bpTextTranslateX.promiseTo(I.bpText.intro.translateX, {
delay: 500,
duration: 600
}), n.tweens.bpTextFlareOpacity.promiseTo(I.bpTextFlare.intro.opacity, {
delay: 1e3,
duration: 400
}), n.tweens.progressionOpacity.promiseTo(I.progression.outro.opacity, {
delay: 0,
duration: 600
}) ]).then(function() {
var e = [];
return n._isMounted && (e = [ n.tweens.imageScale.promiseTo(I.image.intro.scale, {
delay: 1e3,
duration: 600
}), n.tweens.imageFlareScale.promiseTo(I.imageFlare.intro.scale, {
delay: 1e3,
duration: 600
}), n.tweens.imageFlareOpacity.promiseTo(I.imageFlare.outro.opacity, {
delay: 1e3,
duration: 600
}), n.tweens.bpTextOpacity.promiseTo(I.bpText.outro.opacity, {
delay: 1e3,
duration: 600
}), n.tweens.bpTextTranslateX.promiseTo(I.bpText.outro.translateX, {
delay: 1e3,
duration: 600
}), n.tweens.bpTextFlareOpacity.promiseTo(I.bpTextFlare.outro.opacity, {
delay: 600,
duration: 400
}), n.tweens.progressionOpacity.promiseTo(I.progression.intro.opacity, {
delay: 1600,
duration: 600
}) ]), Promise.all(e);
}).then(o.action(function() {
n._isMounted && (n.tweens.bpTextTranslateX.set(I.bpText.start.translateX), n.tweens.bpTextFlareTranslateX.set(I.bpTextFlare.start.translateX), 
n.segmentIndex++, n.isReady = !0, n.parsedData.segments.length - 1 === n.segmentIndex && n.props.onDone && n.props.onDone());
}));
}, n.widthMultiplier = n.progressbarWidth / 100, n.parsedData = n.parseData(e.bpProgression), 
n.startSegment = n.parsedData.startingPoints * n.widthMultiplier, n.tweens = {
progressionOpacity: a.Animation.tween("26e36400:222:49", n.props.skipAnimation ? I.progression.intro.opacity : I.progression.start.opacity),
imageScale: a.Animation.tween("26e36400:228:41", n.props.skipAnimation ? I.image.intro.scale : I.image.start.scale),
imageFlareScale: a.Animation.tween("26e36400:232:46", n.props.skipAnimation ? I.imageFlare.intro.scale : I.imageFlare.start.scale),
imageFlareOpacity: a.Animation.tween("26e36400:236:48", n.props.skipAnimation ? I.imageFlare.intro.opacity : I.imageFlare.start.opacity),
bpTextOpacity: a.Animation.tween("26e36400:240:44", I.bpText.start.opacity),
bpTextTranslateX: a.Animation.tween("26e36400:241:47", I.bpText.start.translateX),
bpTextFlareOpacity: a.Animation.tween("26e36400:242:49", I.bpTextFlare.start.opacity),
bpTextFlareTranslateX: a.Animation.tween("26e36400:243:52", I.bpTextFlare.start.translateX)
}, n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this._isMounted = !0, this.props.skipAnimation || (this.timeout = setTimeout(function() {
e.playIntro().then(o.action(function() {
e.isReady = !0;
}));
}, 100));
}, n.prototype.componentWillUnmount = function() {
this._isMounted = !1, this.timeout && clearTimeout(this.timeout), y.Tween.destroyTweens(this.tweens);
}, n.prototype.playIntro = function() {
var e = this;
return this.tweens.imageScale.promiseTo(I.image.intro.scale, {
duration: 600
}).then(function() {
return e.tweens.progressionOpacity.promiseTo(I.progression.intro.opacity, {
duration: 600
});
});
}, n.prototype.parseData = function(e) {
var t = this, n = 0, r = "", o = e.progression.map(function(e, o) {
var i = [];
return e.startingPoints && (n = e.startingPoints), !r && e.imageUrl && (r = e.imageUrl), 
e.pointsEarned && i.push(new p.VisualSegment("pointsEarned", __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_POINTS"), e.pointsEarned, e.pointsEarned * t.widthMultiplier)), 
e.bonusPointsEarned && i.push(new p.VisualSegment("bonusPointsEarned", __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BONUS_POINTS"), e.bonusPointsEarned, e.bonusPointsEarned * t.widthMultiplier)), 
i;
}), i = o[o.length - 1];
return this.props.skipAnimation && o.length > 1 && (n = 0), {
image: r,
startingPoints: n,
segments: this.props.skipAnimation ? [ i ] : o
};
}, n.prototype.render = function() {
var e = {
texture: this.parsedData.image,
scaleX: this.tweens.imageScale.getStyle(),
scaleY: this.tweens.imageScale.getStyle()
}, t = {
opacity: this.tweens.imageFlareOpacity.getStyle(),
scaleX: this.tweens.imageFlareScale.getStyle(),
scaleY: this.tweens.imageFlareScale.getStyle()
}, n = {
opacity: this.tweens.progressionOpacity.getStyle()
}, o = h.merge3(A.bpText, this.tweens.bpTextOpacity.getStyleClass("opacity"), this.tweens.bpTextTranslateX.getStyleClass("translateX")), i = {
opacity: this.tweens.bpTextFlareOpacity.getStyle(),
translateX: this.tweens.bpTextFlareTranslateX.getStyle()
};
return r.createElement("surface", {
style: A.container
}, r.createElement("surface", {
style: [ A.bpImage, A.bpContainer ]
}, r.createElement("surface", {
style: [ A.bpImageFlare, t ]
}), r.createElement("surface", {
style: [ A.bpImage, e ]
})), r.createElement("surface", null, r.createElement(c.ProgressBar, {
textSize: g.SpartaGlobals.bundleIsPC ? "XS" : "S",
hideCounter: !0,
sound: T,
justifyText: m.isRTLLanguage() ? "flex-end" : "flex-start",
skipAnimation: this.props.skipAnimation,
width: this.progressbarWidth,
height: 18,
isReady: this.isReady,
segmentIndex: this.segmentIndex,
startSegment: this.startSegment,
lastSegmentCallback: this.lastSegmentCallback,
segments: this.parsedData.segments,
style: n
}), r.createElement("surface", {
style: A.bpTextClip
}, r.createElement(s.Text, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_EARNED"),
size: "M",
style: o
})), r.createElement("surface", {
style: [ A.bpTextFlareContainer, i ]
}, r.createElement("surface", {
style: A.bpTextFlare
}))));
}, e.__decorate([ o.observable ], n.prototype, "startSegment", void 0), e.__decorate([ o.observable ], n.prototype, "segmentIndex", void 0), 
e.__decorate([ o.observable ], n.prototype, "isReady", void 0), e.__decorate([ o.action ], n.prototype, "lastSegmentCallback", void 0), 
n = e.__decorate([ i.observer ], n);
}(r.Component);
t.BattlepackProgression = w;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(15), a = n(6), s = n(21), u = n(8), l = n(9), c = s.LINE_HEIGHTS.M + u.spacer(.5), p = {
container: {
height: l.SpartaGlobals.bundleIsConsole ? 117 : 157,
marginTop: u.spacer(3),
flexDirection: "row",
justifyContent: "center",
alignContent: "center",
alignItems: "center"
}
}, d = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n._isMounted = !1, n.tweens = {
textOpacity: i.Animation.tween("b5e4d30d:39:42", 0),
textTranslateY: i.Animation.tween("b5e4d30d:40:45", c)
}, n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this._isMounted = !0, Promise.all([ this.tweens.textOpacity.promiseTo(1, {
duration: 300
}), this.tweens.textTranslateY.promiseTo(0, {
duration: 400
}) ]).then(function() {
var t = [];
return e._isMounted && (t = [ e.tweens.textOpacity.promiseTo(0, {
delay: 800,
duration: 300
}), e.tweens.textTranslateY.promiseTo(-c, {
delay: 800,
duration: 400
}) ]), Promise.all(t);
}).then(function() {
e._isMounted && e.props.onDone();
});
}, t.prototype.componentWillUnmount = function() {
this._isMounted = !1, this.tweens.textOpacity.destroy(), this.tweens.textTranslateY.destroy();
}, t.prototype.render = function() {
var e = {
opacity: this.tweens.textOpacity.getStyle(),
translateY: this.tweens.textTranslateY.getStyle()
};
return o.createElement("surface", {
style: [ p.container, e ]
}, o.createElement(a.Text, {
value: this.props.text.toUpperCase(),
size: "M"
}));
}, t;
}(o.Component);
t.BattlepackInfoText = d;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(23), a = n(73), s = n(4), u = n(1320), l = n(1321), c = n(5), p = n(9), d = 3 * i.dangerZoneSize.width, f = c.StaticStyle.wrapLegacyStyleSheet({
main: {
flex: 1,
alignSelf: "center",
flexDirection: "column",
width: i.safeZone.width + (p.SpartaGlobals.bundleIsPC ? d : 0)
}
}, "d2163f53:12:15"), m = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.componentWillUnmount = function() {
a.tunguskaEndOfRoundStore.viewPage(a.EorPages.stats);
}, t.prototype.render = function() {
var e, t, n = a.tunguskaEndOfRoundStore.isViewed(a.EorPages.stats), r = a.tunguskaEndOfRoundStore.data;
if (!r) return null;
var i = r.squadInfo, s = r.personalInfo, c = s ? s.stats : null, p = s ? s.topStats : null;
return p && c && s && i && (t = o.createElement(l.TopStatBlocks, {
topStats: p,
amount: 4,
viewed: n
}), e = o.createElement(u.PersonalAndSquadStats, {
squadInfo: i,
personalInfo: s,
viewed: n
})), o.createElement("surface", {
style: f.main
}, t, e);
}, t = r.__decorate([ s.observer ], t);
}(o.Component);
t.Stats = m;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(617), a = n(8), s = n(73), u = n(7), l = {
0: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM");
},
1: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_APPLES");
},
2: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_BUTTER");
},
3: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_CHARLIE");
},
4: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_DUFF");
},
5: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_EDWARD");
},
6: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_FREDDIE");
},
7: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_GEORGE");
},
8: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_HARRY");
},
9: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_INK");
},
10: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_JOHNNIE");
},
11: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KING");
},
12: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_LONDON");
},
13: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_MONKEY");
},
14: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_NUTS");
},
15: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ORANGE");
},
16: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_PUDDING");
},
17: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_QUEENIE");
},
18: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ROBERT");
},
19: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SUGAR");
},
20: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_TOMMY");
},
21: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_UNCLE");
},
22: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_VIC");
},
23: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_WILLIAM");
},
24: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_XRAY");
},
25: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_YORKER");
},
26: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ZEBRA");
},
27: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_HAGGARD");
},
28: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SWEETWATER");
},
29: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_PRESTON");
},
30: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_FAITH");
},
32: function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_CELESTE");
}
}, c = {
statsContainer: {
flex: 0,
flexDirection: "column",
justifyContent: "center",
alignItems: "center"
},
statsWrapper: {
width: a.getWidth(11)
},
row: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: a.spacer(1.5),
marginTop: a.spacer(1.5)
}
}, p = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = u.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.isPlatoonSquad = function(e) {
if (!e || e.length < 5) return !1;
var t = e[0];
if (t) {
var n = t.platoonGuid;
return 5 === e.filter(function(e) {
return e && e.platoonGuid === n;
}).length;
}
return !1;
}, n.prototype.renderModeSpecifics = function(e, t, n, o) {
var a = e.stats, s = t.stats, u = a ? a.modeSpecifics : null, l = s ? s.modeSpecifics : null, c = [];
if (!u) return c;
var p = 0;
if (n && l) {
for (var d in u) if (u[d]) {
var f = p + 5, m = u[d], h = l[d], g = m.value % 1 != 0 || h.value % 1 != 0;
c.push(r.createElement(i.AnimatedStatRow, {
delay: f,
skipAnimation: o,
key: "msp-" + p
}, r.createElement(i.ComparisonStatsRow, {
skipAnimation: o,
key: "score",
firstStat: m,
secondStat: h,
valueText: m.name,
decimals: g
}), r.createElement(i.Divider, null))), p++;
}
} else for (var d in u) if (u[d]) {
f = p + 5;
var y = (m = u[d]).value % 1 != 0 ? 2 : 0;
c.push(r.createElement(i.AnimatedStatRow, {
delay: f,
skipAnimation: o,
key: "msp-" + p
}, r.createElement(i.StatRow, {
skipAnimation: o,
key: "score",
value: m.value,
place: m.place,
name: m.name,
decimals: y
}), r.createElement(i.Divider, null))), p++;
}
return c;
}, n.prototype.renderFixedStats = function(e, t, n, o) {
var a = e.stats, s = t.stats, u = [];
if (!a) return u;
var l = a.rankScore, c = a.score, p = a.kills, d = a.kd, f = a.spm, m = l.value > 0 ? l : c;
if (n && s) {
var h = s.rankScore, g = s.score, y = s.kills, S = s.kd, v = s.spm, _ = h.value > 0 ? h : g;
u.push(r.createElement(i.AnimatedStatRow, {
delay: 1,
skipAnimation: o,
key: "score"
}, r.createElement(i.ComparisonStatsRow, {
skipAnimation: o,
firstStat: m,
secondStat: _,
valueText: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SCORE")
}), r.createElement(i.Divider, null))), u.push(r.createElement(i.AnimatedStatRow, {
delay: 2,
skipAnimation: o,
key: "spm"
}, r.createElement(i.ComparisonStatsRow, {
skipAnimation: o,
firstStat: f,
secondStat: v,
decimals: !1,
valueText: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ROUND_SCORE_PER_MIN")
}), r.createElement(i.Divider, null))), u.push(r.createElement(i.AnimatedStatRow, {
delay: 3,
skipAnimation: o,
key: "kills"
}, r.createElement(i.ComparisonStatsRow, {
skipAnimation: o,
firstStat: p,
secondStat: y,
valueText: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KILLS")
}), r.createElement(i.Divider, null))), u.push(r.createElement(i.AnimatedStatRow, {
delay: 4,
skipAnimation: o,
key: "kd"
}, r.createElement(i.ComparisonStatsRow, {
skipAnimation: o,
firstStat: d,
secondStat: S,
valueText: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KD_RATIO"),
decimals: !0
}), r.createElement(i.Divider, null)));
} else u.push(r.createElement(i.AnimatedStatRow, {
delay: 1,
skipAnimation: o,
key: "score"
}, r.createElement(i.StatRow, {
skipAnimation: o,
value: m.value,
place: m.place,
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_SCORE")
}), r.createElement(i.Divider, null))), u.push(r.createElement(i.AnimatedStatRow, {
delay: 2,
skipAnimation: o,
key: "spm"
}, r.createElement(i.StatRow, {
skipAnimation: o,
value: f.value,
place: f.place,
decimals: 0,
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_ROUND_SCORE_PER_MIN")
}), r.createElement(i.Divider, null))), u.push(r.createElement(i.AnimatedStatRow, {
delay: 3,
skipAnimation: o,
key: "kills"
}, r.createElement(i.StatRow, {
skipAnimation: o,
value: p.value,
place: p.place,
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KILLS")
}), r.createElement(i.Divider, null))), u.push(r.createElement(i.AnimatedStatRow, {
delay: 4,
skipAnimation: o,
key: "kd"
}, r.createElement(i.StatRow, {
skipAnimation: o,
value: d.value,
place: d.place,
name: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_KD_RATIO"),
decimals: 2
}), r.createElement(i.Divider, null)));
return u;
}, n.prototype.renderHeader = function(e, t, n) {
var a = e && r.createElement("surface", {
style: c.row
}, r.createElement(o.Text, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_PERSONAL").toUpperCase(),
size: "S",
type: "emphasis"
}), r.createElement(o.Text, {
value: t.toUpperCase(),
size: "S",
type: "emphasis"
}));
return r.createElement(i.AnimatedStatRow, {
skipAnimation: n,
delay: 0
}, a, r.createElement(i.Divider, null));
}, n.prototype.render = function() {
var e = s.tunguskaEndOfRoundStore.data, t = this.props.viewed;
if (!e) return null;
var n, o = this.props.squadInfo, i = 0 !== o.squadId;
if (this.sparta.stores.settingsStore.hasUGCAccess()) {
var a = o.highlights.map(function(e) {
return e.player;
}), u = this.isPlatoonSquad(a), p = l[o.squadId];
if (n = p && i ? __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_TEAM").replace("[[SquadTeam]]", p()) : __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM"), 
u) {
var d = a[0];
if (d) {
var f = e.getPlatoonByGuid(d.platoonGuid);
n = f && f.name || n;
}
}
} else n = i ? __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SQUAD_TEAM").replace("[[SquadTeam]]", "").trim() : __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_SQUAD_TEAM");
return r.createElement("surface", {
style: c.statsContainer
}, r.createElement("surface", {
style: c.statsWrapper
}, this.renderHeader(i, n, t), this.renderFixedStats(this.props.personalInfo, this.props.squadInfo, i, t), this.renderModeSpecifics(this.props.personalInfo, this.props.squadInfo, i, t)));
}, n.contextTypes = u.SpartaContext.contextTypes, n;
}(r.Component);
t.PersonalAndSquadStats = p;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(8), a = n(617), s = {
topStatsWrapper: {
flex: 0,
flexDirection: "row",
justifyContent: "center",
margin: [ i.spacer(6), 0, i.spacer(6), 0 ]
}
}, u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this, t = this.props.amount, n = this.props.topStats.map(function(t, n) {
return o.createElement(a.TopStatBlock, {
name: t.statName,
value: t.statValue,
place: t.rank,
key: t.statName,
skipAnimation: e.props.viewed
});
}), r = n.length && n.length > t ? n.slice(0, t) : n;
return o.createElement("surface", {
style: s.topStatsWrapper
}, r);
}, t;
}(o.Component);
t.TopStatBlocks = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(1323), a = n(14), s = n(73), u = n(4), l = n(446), c = n(104), p = a.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Scoreboard-f2349c49.wav"), d = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return s.tunguskaEndOfRoundStore.isViewed(s.EorPages.scoreboard) || (n.introSound = c.Sound.load(p), 
n.introSound.setVolume(1)), n;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
s.tunguskaEndOfRoundStore.isViewed(s.EorPages.scoreboard) || this.introSound.play();
}, t.prototype.componentWillUnmount = function() {
s.tunguskaEndOfRoundStore.viewPage(s.EorPages.scoreboard);
}, t.prototype.renderTeam = function(e, t, n, r) {
return o.createElement(i.ScoreBoardTeam, {
key: e.teamId,
teamIndex: t,
team: e,
me: n,
skipAnimation: r
});
}, t.prototype.render = function() {
var e = this, t = s.tunguskaEndOfRoundStore.unrankedGame ? s.tunguskaEndOfRoundStore.unrankedData : s.tunguskaEndOfRoundStore.data, n = t && t.scoreboard, r = t && t.personalInfo, i = r && r.teamId || 1, a = s.tunguskaEndOfRoundStore.isViewed(s.EorPages.scoreboard), u = [];
return n && n.teams && n.teams.map(function(t) {
t.teamId === i ? u.unshift(e.renderTeam(t, 0, r, a)) : u.push(e.renderTeam(t, 1, r, a));
}), o.createElement("surface", {
style: l.ScoreboardStyles.main
}, u);
}, t = r.__decorate([ u.observer ], t);
}(o.Component);
t.Scoreboard = d;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(15), a = n(34), s = n(138), u = n(1324), l = n(1325), c = n(58), p = n(620), d = n(5), f = n(9), m = n(27), h = i.Animation.defaultTweenOptions.duration / 2, g = 1e3, y = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.tweensEnabled = !1, n.renderTeamPlayer = function(e, t) {
var o = n.props, i = o.me, a = o.teamIndex, c = !!i && i.personaId === e.personaId, d = t + 1 + "", m = n.isSameSquad(i, e), h = a > 0 ? s.scoreboardTeamRightGroup : s.scoreboardTeamLeftGroup;
return r.createElement(l.BatchRenderItem, {
index: t,
key: "row_" + t,
batchSize: f.SpartaGlobals.bundleIsPC ? 20 : 17,
renderTimeout: 200,
itemHeight: p.ScoreboardRowStyles.rowHeight
}, r.createElement(u.ScoreboardRow, {
index: t,
player: e,
isMe: c,
sameSquad: m,
focusGroup: h,
placeNumber: d
}));
}, n.tweensEnabled && (n.tweens = {
headerOpacity: i.Animation.tween("839dafe6:50:48", e.skipAnimation ? 1 : .01),
headerTransY: i.Animation.tween("839dafe6:51:47", e.skipAnimation ? 0 : 20),
containerTranslateY: i.Animation.tween("839dafe6:52:54", e.skipAnimation ? 0 : 100),
containerOpacity: i.Animation.tween("839dafe6:53:51", e.skipAnimation ? 1 : .01)
}), n.flagAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
opacity: {
from: .01,
to: 1
},
scaleY: {
from: 0,
to: 1
}
},
options: {
easing: m.Easing.CubicOut,
duration: g / 2
}
}, n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.props.skipAnimation || this.play(h);
}, n.prototype.componentWillUnmount = function() {
this.tweensEnabled && (this.tweens.headerOpacity.destroy(), this.tweens.headerTransY.destroy(), 
this.tweens.containerTranslateY.destroy(), this.tweens.containerOpacity.destroy());
}, n.prototype.play = function(e) {
this.tweensEnabled && (this.tweens.containerOpacity.to(1, {
delay: e,
duration: g / 2,
easing: m.Easing.CubicOut
}), this.tweens.containerTranslateY.to(0, {
delay: e,
duration: g / 2,
easing: m.Easing.CubicOut
}), this.tweens.headerOpacity.to(1, {
delay: e,
duration: 300,
easing: m.Easing.CubicOut
}), this.tweens.headerTransY.to(0, {
delay: e,
duration: 300,
easing: m.Easing.CubicOut
}));
}, n.prototype.isSameSquad = function(e, t) {
return !(!e || !e.squadId || 0 === e.squadId) && (e.teamId === t.teamId && e.squadId === t.squadId);
}, n.prototype.renderTeamHeader = function(e) {
var t = e.faction ? e.faction.name.toUpperCase() : "", n = e.faction ? e.faction.imageUrl : "", i = this.tweensEnabled ? {
translateY: this.tweens.headerTransY.getStyle(),
opacity: this.tweens.headerOpacity.getStyle()
} : {
translateY: 0,
opacity: 1
};
return r.createElement("surface", {
style: [ p.ScoreboardTeamStyles.header, i ]
}, r.createElement("surface", {
style: [ p.ScoreboardTeamStyles.flagTeam, {
texture: n
} ]
}), r.createElement(c.Marquee, {
loop: !0,
delay: 1e3,
style: p.ScoreboardTeamStyles.teamName
}, r.createElement(o.Text, {
value: t,
type: "emphasis",
size: "M"
})), r.createElement(o.Text, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD_K"),
type: "emphasis",
size: "S",
style: d.merge2(p.ScoreboardTeamStyles.headerStats, p.ScoreboardTeamStyles.stat)
}), r.createElement(o.Text, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD_D"),
type: "emphasis",
size: "S",
style: d.merge2(p.ScoreboardTeamStyles.headerStats, p.ScoreboardTeamStyles.stat)
}), r.createElement(o.Text, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_SCOREBOARD_SCORE"),
type: "emphasis",
size: "S",
style: d.merge2(p.ScoreboardTeamStyles.headerStats, p.ScoreboardTeamStyles.score)
}));
}, n.prototype.render = function() {
var e = this.props, t = e.team, n = 0 === e.teamIndex ? p.ScoreboardTeamStyles.teamLeft : p.ScoreboardTeamStyles.teamRight, o = t.players.filter(function(e) {
return e.didFinish;
}).map(this.renderTeamPlayer), i = this.tweensEnabled ? {
translateY: this.tweens.containerTranslateY.getStyle(),
opacity: this.tweens.containerOpacity.getStyle(),
height: p.ScoreboardTeamStyles.scrollerHeight
} : {
translateY: 0,
opacity: 1,
height: p.ScoreboardTeamStyles.scrollerHeight
};
return r.createElement("surface", {
style: n
}, this.renderTeamHeader(t), r.createElement(a.Scroller, {
style: i,
controller: !1,
tween: !1,
softClip: p.ScoreboardTeamStyles.scrollerSoftClip
}, o, r.createElement("surface", {
style: p.ScoreboardTeamStyles.listBorder
})));
}, n;
}(r.Component);
t.ScoreBoardTeam = y;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(6), a = n(15), s = n(8), u = n(38), l = n(12), c = n(11), p = n(73), d = n(26), f = n(14), m = n(4), h = n(87), g = n(58), y = n(25), S = n(618), v = n(122), _ = n(140), b = n(49), T = n(371), E = n(5), C = n(620), I = n(9), A = n(7), w = E.StaticStyle.wrapLegacyStyleSheet({
pcButton: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, s.GUTTER / 2, 0, s.GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 3 * s.GUTTER, 2, 3 * s.GUTTER ],
height: C.ScoreboardRowStyles.rowHeight
},
pcButtonHovered: {
backgroundColor: "#ffffff25"
},
pcButtonInverted: {
backgroundColor: "#00000011"
},
pcButtonInvertedHovered: {
backgroundColor: "#00000033"
},
pcButtonBorder: {
zOffset: 1,
position: "absolute",
right: 0,
bottom: 0,
left: 0,
height: 2,
backgroundColor: "#ffffff",
opacity: .8
},
pcButtonInvertedBorder: {},
pcButtonBorderLarge: {
height: 4
},
label: {
color: "#ffffff",
zOffset: 2
},
labelInverted: {
color: [ 0, 0, 0, 200 ]
},
labelContainer: {
alignItems: "center",
justifyContent: "center",
margin: [ 0, s.GUTTER / 2, 0, s.GUTTER / 2 ],
borderRadius: [ 6, 6, 0, 0 ],
backgroundColor: "#00000090",
padding: [ 2, 3 * s.GUTTER, 2, 3 * s.GUTTER ],
height: C.ScoreboardRowStyles.rowHeight,
zOffset: 1
}
}, "9c4bcfd4:34:28"), P = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = h.tunguskaVoipState.getPlayer(this.props.onlineId), t = null;
switch (e ? e.status : T.SpeakingStatus.Silent) {
case T.SpeakingStatus.Muted:
t = f.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-mute-white-baad1aee.png");
break;

case T.SpeakingStatus.Disabled:
t = f.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-white-5e90a58e.png");
break;

case T.SpeakingStatus.Speaking:
t = f.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-active-white-57fbdf87.png");
break;

case T.SpeakingStatus.Silent:
t = this.props.sameSquad ? f.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-voice-inactive-white-5e90a58e.png") : null;
break;

default:
t = null;
}
return t ? r.createElement("surface", {
style: C.ScoreboardRowStyles.voipIcon({
texture: t,
color: this.props.colorStyle.color
})
}) : null;
}, n = e.__decorate([ m.observer ], n);
}(r.Component), R = o.observable({
id: ""
}), O = o.action(function(e) {
R.id = e;
}), x = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
return o.sparta = A.SpartaContext.getFromComponent(o), o.backgroundColor = "#00000033", 
o.textColor = "#efefef", o.viewPlayerCard = function() {
var e = o.props.player || {};
e && e.platformId && b.showUserProfile(o.props.player.platformId, "EOR");
}, o.viewPlayerPopup = function() {
var e = o.props.player || {};
y.display(new u.Popup({
content: r.createElement(S.ScoreboardPlayerPopup, {
personaId: e.personaId
}),
id: "scoreboardplayerpopup",
group: "scoreboardplayergroup",
stackable: !0,
leftAlignInputs: !0,
createButtons: !1,
inputs: [ new l.Input({
label: __("ID_SPARTA_ACTION_BACK"),
key: c.Keys.Decline
}) ]
}));
}, o.handleClick = function() {
p.tunguskaEndOfRoundStore.unrankedGame || O(o.isSelected ? "" : o.props.player.personaId);
}, o.focusItem = o.sparta.twinkle.focus.create(o, "scoreboard_row_" + e.player.personaId), 
0 === e.index && (o.focusItem.autoFocusCandidate = !0), e.focusGroup && e.focusGroup.addMember(o.focusItem, e.index), 
e.isMe ? (o.backgroundColor = "#ff9900", o.textColor = "#000000") : e.sameSquad && (o.backgroundColor = "#4b9b2d90"), 
o.backgroundColorTween = a.Animation.tween("9c4bcfd4:191:53", o.backgroundColor), 
o.textColorTween = a.Animation.tween("9c4bcfd4:192:47", o.textColor), o.varColor = {
color: o.textColorTween.getStyle()
}, o.inputs = {
playerCard: new l.Input({
action: o.viewPlayerCard,
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
key: c.Keys.Accept
}),
playerPopup: new l.Input({
action: o.viewPlayerPopup,
label: __("ID_SPARTA_EOR_REPORT_EMBLEM"),
key: c.Keys.Option1
})
}, o;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.cancelReaction = o.reaction(function() {
return e.focusItem.isFocusedOrHovered;
}, function(t) {
t ? (e.backgroundColorTween.set("#efefef"), e.textColorTween.set("#000000")) : (e.backgroundColorTween.set(e.backgroundColor), 
e.textColorTween.set(e.textColor));
}, {
fireImmediately: this.focusItem.autoFocusCandidate
});
}, n.prototype.componentWillUnmount = function() {
this.cancelReaction(), this.backgroundColorTween.destroy(), this.textColorTween.destroy();
}, Object.defineProperty(n.prototype, "isSelected", {
get: function() {
return this.props.player && this.props.player.personaId === R.id;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "getPlayerInputs", {
get: function() {
var e = this.props.player.personaId, t = [ this.inputs.playerCard ];
return this.sparta.stores.settingsStore.hasUGCAccess() && !p.tunguskaEndOfRoundStore.isReported(e) && t.push(this.inputs.playerPopup), 
t;
},
enumerable: !0,
configurable: !0
}), n.prototype.getInput = function() {
return this.sparta.twinkle.focus.controllerMode && this.focusItem.isFocused ? this.getPlayerInputs : null;
}, n.prototype.renderExpandedContent = function() {
var e = r.createElement("surface", {
style: w.pcButtonBorder
});
return r.createElement("surface", {
style: C.ScoreboardRowStyles.extraContent,
key: "e"
}, this.getPlayerInputs.map(function(t, n) {
return r.createElement(v.InputButton, {
key: t.key ? t.key.id : n,
label: t.label,
labelDecoration: e,
inputKey: t.key,
action: t.action,
iconSize: C.ScoreboardRowStyles.iconHeight,
styleSheetOverride: w
});
}));
}, n.prototype.render = function() {
var t = this.props.player || {}, n = this.props.sameSquad, o = "" === t.name ? t.personaId : t.name, a = t.score, s = this.sparta.stores.settingsStore.hasUGCAccess(), u = n && r.createElement(P, {
onlineId: o,
sameSquad: n,
colorStyle: this.varColor
}), l = C.ScoreboardRowStyles.playerRow({
isFreemium: t.isFreemium,
backgroundColor: this.backgroundColorTween.getStyle()
}), c = r.createElement("surface", e.__assign({
style: l
}, this.focusItem.hooks, {
onClick: this.handleClick,
key: "m"
}), r.createElement(i.Text, {
value: this.props.placeNumber,
type: "emphasis",
size: "S",
style: C.ScoreboardRowStyles.placing(this.varColor)
}), r.createElement("surface", {
style: C.ScoreboardRowStyles.info
}, r.createElement(L, {
player: t,
colorStyle: this.varColor
}), r.createElement(k, {
player: t,
focusItem: this.focusItem,
colorStyle: this.varColor,
hasUGCAccess: s
}), u), r.createElement(i.Text, {
value: t.kills + "",
type: "emphasis",
size: "S",
style: C.ScoreboardRowStyles.statKills(this.varColor)
}), r.createElement(i.Text, {
value: t.deaths + "",
type: "emphasis",
size: "S",
style: C.ScoreboardRowStyles.statDeaths(this.varColor)
}), r.createElement(i.Text, {
value: a + "",
type: "emphasis",
size: "S",
style: C.ScoreboardRowStyles.statScore(this.varColor)
}));
return I.SpartaGlobals.bundleIsPC ? this.isSelected ? r.createElement("surface", {
style: C.ScoreboardRowStyles.expandedRow,
key: "o"
}, c, this.renderExpandedContent()) : r.createElement("surface", {
key: "c"
}, c) : c;
}, n.contextTypes = A.SpartaContext.contextTypes, e.__decorate([ o.computed ], n.prototype, "isSelected", null), 
e.__decorate([ o.computed ], n.prototype, "getPlayerInputs", null), n = e.__decorate([ d.input, m.observer ], n);
}(r.Component);
t.ScoreboardRow = x;
var k = function(e) {
var t = e.player, n = e.focusItem, o = e.colorStyle, a = e.hasUGCAccess, s = p.tunguskaEndOfRoundStore.data, u = s && s.getPlatoonByGuid(t.platoonGuid), l = a && u ? _.appendTag(t.name, u.tag) : t.name, c = r.createElement(i.Text, {
value: l,
type: "emphasis",
size: "S",
style: o
});
return l.length > 12 ? r.createElement(g.Marquee, {
focusItem: n,
style: C.ScoreboardRowStyles.playerName,
showEllipsis: !0
}, c) : c;
}, L = function(e) {
var t = e.player, n = e.colorStyle, o = t && t.rank || 0, a = o.toString();
return o < 0 ? r.createElement("surface", {
style: C.ScoreboardRowStyles.unRankedRankContainer
}) : r.createElement("surface", {
style: C.ScoreboardRowStyles.rankContainer(n)
}, r.createElement(i.Text, {
value: a,
size: "XXS",
style: C.ScoreboardRowStyles.rankTextStyle(n)
}));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = function(e) {
function t(n) {
var r = e.call(this, n) || this, o = Math.floor(n.index / (n.batchSize || t.defaultBatchSize));
return 0 === o ? r.state = {
visible: !0
} : (r.state = {
visible: !1
}, r.timeoutId = setTimeout(function() {
r.setState({
visible: !0
});
}, o * (n.renderTimeout || t.defaultRenderTimeout))), (n.itemHeight || n.itemWidth) && (r.style = {
height: r.props.itemHeight,
width: r.props.itemWidth
}), r;
}
return r.__extends(t, e), t.prototype.componentWillUnmount = function() {
this.timeoutId && clearTimeout(this.timeoutId);
}, t.prototype.render = function() {
return this.state.visible ? this.props.children || null : o.createElement("surface", {
style: this.style
});
}, t.defaultBatchSize = 5, t.defaultRenderTimeout = 30, t;
}(o.Component);
t.BatchRenderItem = i;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(6), a = n(1327), s = n(14), u = n(73), l = n(104), c = s.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Highlights_Highscore-2eaa41b0.wav"), p = {
highlights: {
flex: 1,
justifyContent: "center",
flexDirection: "column"
},
highlightsWrapper: {
flexDirection: "row",
justifyContent: "space-around"
}
}, d = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
u.tunguskaEndOfRoundStore.isViewed(u.EorPages.highlights) || (this.highlightsSound = l.Sound.load(c), 
this.highlightsSound.setVolume(1));
}, n.prototype.componentDidMount = function() {
this.highlightsSound && this.highlightsSound.play();
}, n.prototype.componentWillUnmount = function() {
u.tunguskaEndOfRoundStore.viewPage(u.EorPages.highlights), this.highlightsSound && this.highlightsSound.unload();
}, n.prototype.getFactionFlagForTeam = function(e, t) {
var n = "";
return t && t.teams.forEach(function(t) {
if (t.teamId === e && t.faction) return n = t.faction.imageUrl, !1;
}), n;
}, n.prototype.renderHighlights = function(e, t) {
var n = this;
void 0 === t && (t = !1);
var o = [];
if (e && e.highlights) {
var s = e.highlights.length > 3;
return e.highlights.forEach(function(i, u) {
var l = 0 === u, c = i.player && i.player.teamId || 0, p = n.getFactionFlagForTeam(c, e.scoreboard), d = 0;
u > 2 ? d = 2 : u > 0 && (d = 1);
var f = r.createElement(a.Highlight, {
big: l,
highlight: i,
key: "h-" + u,
delay: d,
index: u,
skipAnimation: t,
flagUrl: p,
useNameMarquee: s
});
u % 2 ? o.push(f) : o.unshift(f);
}), o;
}
return r.createElement(i.Text, {
value: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_NO_HIGHLIGHTS")
});
}, n.prototype.render = function() {
var e = u.tunguskaEndOfRoundStore.data, t = u.tunguskaEndOfRoundStore.isViewed(u.EorPages.highlights), n = this.renderHighlights(e, t);
return r.createElement("surface", {
style: p.highlights
}, r.createElement("surface", {
style: p.highlightsWrapper
}, n));
}, n.title = function() {
return __("ID_SPARTA_GAMESTATE_END_OF_ROUND_HIGHLIGHTS");
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.Highlights = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(140), a = n(6), s = n(8), u = n(62), l = n(12), c = n(11), p = n(15), d = n(58), f = n(14), m = n(324), h = n(506), g = n(73), y = n(49), S = n(322), v = n(306), _ = n(567), b = n(446), T = n(5), E = n(9), C = n(263), I = n(7), A = n(27), w = m.AnimationConstants.highlights, P = E.SpartaGlobals.bundleIsPC ? s.getWidth(4, !1) + s.getWidth(1, !1) / 2 : s.getWidth(4, !1), R = E.SpartaGlobals.bundleIsPC ? s.getWidth(3, !1) + s.getWidth(1, !1) / 2 : s.getWidth(3, !1), O = E.SpartaGlobals.bundleIsPC ? "S" : "XS", x = E.SpartaGlobals.bundleIsPC ? "S" : "XS", k = E.SpartaGlobals.bundleIsPC ? "S" : "XS", L = E.SpartaGlobals.bundleIsPC ? "L" : "M", M = f.bbOfflineUrl("/sparta/assets/tunguska/endofround/main-flare-68b70521.png"), D = T.StaticStyle.wrapLegacyStyleSheet({
highlightWrapper: {
flexDirection: "column",
alignItems: "center",
justifyContent: "center"
},
player: {
alignSelf: "center",
flexDirection: "row",
alignItems: "center",
justifyContent: "center",
marginTop: s.getHeight(2, !1)
},
flag: {
width: 30,
height: 30,
marginRight: 10
},
flare: {
zOffset: 1,
enableMouseEvents: !1,
position: "absolute",
rotateZ: -20,
texture: M,
height: 582.5,
width: 853 / 1.5,
left: 0,
top: 0
},
name: {
marginBottom: s.getHeight(3, !1),
alignSelf: "center"
},
unit: {
opacity: .66,
color: "#ffffff",
alignSelf: "center"
},
unitWrapper: {
marginTop: s.getHeight(2, !1),
alignSelf: "center"
},
value: {
marginTop: s.getHeight(1, !1),
alignSelf: "center"
}
}, "cfcdb0be:47:15"), N = T.StaticStyle.create({
width: 160,
height: 160
}, "cfcdb0be:221:30"), F = T.StaticStyle.create({
maxWidth: s.getWidth(4, !1) - h.ELLIPSIS_OFFSET.M
}, "cfcdb0be:324:37"), G = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
return o.sparta = I.SpartaContext.getFromComponent(o), o.animation = r.createRef(), 
o.flag = r.createRef(), o.score = r.createRef(), o.tweens = {
scaleY: p.Animation.tween("cfcdb0be:138:37", 0),
opacity: p.Animation.tween("cfcdb0be:139:38", 1),
fadeIn: p.Animation.tween("cfcdb0be:140:37", e.skipAnimation ? 1 : 0)
}, o.focusItem = o.sparta.twinkle.focus.create(o, "highlight_" + e.index), 0 === e.index && (o.focusItem.autoFocusCandidate = !0), 
o.containerAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
},
opacity: {
from: 0,
to: 1
}
},
options: {
easing: A.Easing.CubicOutBack,
duration: w.highlightGrow.duration
}
}, o.flagAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
scaleX: {
from: 0,
to: 1
},
scaleY: {
from: 0,
to: 1
}
},
options: {
easing: A.Easing.CubicOut,
duration: w.highlightGrow.duration / 2
}
}, o.scoreAnimation = {
initialState: e.skipAnimation ? "to" : "from",
values: {
opacity: {
from: 0,
to: 1
},
translateY: {
from: 50,
to: 0
}
},
options: {
easing: A.Easing.CubicInOut,
duration: w.highlightGrow.duration
}
}, o;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
if (!this.props.skipAnimation) {
var e = w.highlightBase.delay, t = e * this.props.delay + e;
this.play(t);
}
}, n.prototype.componentWillUnmount = function() {
var e = this;
Object.keys(this.tweens).forEach(function(t) {
e.tweens[t].destroy();
});
}, n.prototype.getPlayerName = function(e, t) {
var n = g.tunguskaEndOfRoundStore.data, r = e.platoonGuid && n && n.getPlatoonByGuid(e.platoonGuid);
return r && t ? i.appendTag(e.name, r.tag) : e.name;
}, n.prototype.getPlayerEmblem = function(e, t, n, o) {
var i, a = T.DynamicStyle.create({
width: t,
height: t
}, "cfcdb0be:208:26");
if (o && (i = e.emblemUrl ? v.imageUrlFromTemplate(e.emblemUrl, 256, "png") : void 0), 
i) return r.createElement(_.ShadowedTexture, {
src: i,
strength: .5,
style: a,
focusItem: this.focusItem
});
var s = {
padding: (t - 160) / 2,
backgroundColor: "#00000066"
}, u = N;
return r.createElement("surface", {
style: [ a, s ]
}, r.createElement(_.ShadowedTexture, {
src: n,
strength: .5,
style: u,
focusItem: this.focusItem
}));
}, n.prototype.animateFlare = function(e) {
var t = {
duration: 500,
easing: A.Easing.CubicInOut,
delay: e
}, n = {
duration: 250,
easing: A.Easing.CubicOut,
delay: e + 250
}, r = this.props.big ? 3 : 2;
this.tweens.scaleY.to(r, t), this.tweens.opacity.to(0, n);
}, n.prototype.fadeIn = function(e) {
var t = {
duration: 500,
easing: A.Easing.CubicInOut,
delay: e
};
this.tweens.fadeIn.to(1, t);
}, n.prototype.play = function(e) {
this.animation.current && this.animation.current.play(e), this.flag.current && this.flag.current.play(e), 
this.score.current && this.score.current.play(e), this.fadeIn(e), this.animateFlare(e);
}, n.prototype.showPlayerCard = function(e) {
e.platformId && y.showUserProfile(e.platformId, "EOR");
}, n.prototype.render = function() {
var e = this.props, t = e.highlight, n = e.big, o = e.flagUrl, i = e.useNameMarquee, s = t.player || new S.EndOfRoundPlayer(), p = n ? P : R, f = t.name || "", m = t.unit || "", h = o && "" !== o ? T.DynamicStyle.maybeLegacyStyle({
texture: o
}, "cfcdb0be:287:40") : T.emptyStyle, g = new l.Input({
label: __("ID_SPARTA_GAMESTATE_END_OF_ROUND_VIEW_PROFILE"),
action: this.showPlayerCard.bind(this, t.player),
key: c.Keys.Accept
}), y = {
translateX: -853 / (n ? 4.25 : 3.5),
translateY: -1165 / (n ? 4.5 : 4.75),
scaleY: this.tweens.scaleY.getStyle(),
opacity: this.tweens.opacity.getStyle()
}, v = this.tweens.fadeIn.getStyleClass("opacity"), _ = t.unitValue || 0, E = this.sparta.stores.settingsStore.hasUGCAccess(), I = this.getPlayerName(s, E), A = this.getPlayerEmblem(s, p, o, E), w = r.createElement(a.Text, {
value: I,
type: "emphasis",
size: x,
style: i ? void 0 : v
});
return i && (w = r.createElement(d.Marquee, {
focusItem: this.focusItem,
showEllipsis: !0,
style: T.merge2(v, F)
}, w)), r.createElement("surface", {
style: [ D.highlightWrapper ]
}, r.createElement(a.Text, {
style: T.merge2(D.name, v),
size: O,
value: f.toUpperCase(),
type: "normal"
}), r.createElement(C.AnimatedSurface, {
ref: this.animation,
animation: this.containerAnimation
}, r.createElement(u.Pressable, {
input: g,
scale: !0,
triggerMode: "after",
focusItem: this.focusItem,
style: b.HighlightStyles.pressable
}, A, r.createElement("surface", {
style: [ D.flare, y ]
}))), r.createElement("surface", {
style: D.player
}, r.createElement(C.AnimatedSurface, {
ref: this.flag,
animation: this.flagAnimation,
style: T.merge2(D.flag, h)
}), w), r.createElement("surface", {
style: [ D.unitWrapper, v ]
}, r.createElement(a.Text, {
style: D.unit,
size: k,
value: m.toUpperCase(),
type: "emphasis"
})), r.createElement(C.AnimatedSurface, {
ref: this.score,
animation: this.scoreAnimation,
style: D.value
}, r.createElement(a.Text, {
size: L,
value: _ + "",
type: "emphasis"
})));
}, n.contextTypes = I.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.Highlight = G;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(26), i = n(4), a = n(159), s = n(41), u = n(10), l = n(87), c = n(51), p = n(43), d = n(25), f = n(53), m = n(442), h = n(438), g = n(38), y = n(12), S = n(11), v = n(56), _ = n(15), b = n(621), T = n(6), E = n(8), C = n(208), I = n(622), A = n(19), w = n(125), P = n(58), R = n(618), O = n(205), x = n(1331), k = n(3), L = n(236), M = n(559), D = n(447), N = n(623), F = n(82), G = n(328), U = n(437), B = n(449), j = n(448), H = n(9), z = n(7), V = n(17), W = n(5), q = n(40), K = n(71), X = {
duration: 300
}, Y = 400, J = q.getBuildInfo().isCTE(), Q = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = z.SpartaContext.getFromComponent(e), e.isQuitting = !1, e;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e = this;
return [ new y.Input({
visible: !1,
label: __("ID_SPARTA_ACTION_BACK"),
key: S.Keys.Decline,
action: function() {
return e.gotoGameAction();
}
}), new y.Input({
visible: !1,
key: S.Keys.Start,
releaseAction: function() {
return e.gotoGameAction();
}
}) ];
}, n.prototype.showCodex = function(e) {
d.display(new g.Popup({
content: e,
createButtons: !1,
leftAlignInputs: !0,
inputs: [ new y.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: S.Keys.Decline
}) ]
}));
}, n.prototype.gotoGameAction = function() {
u.gameStateStoreLoader.get().isEorActive || a.goToGame();
}, n.prototype.quitGame = function(e) {
var t = u.gameStateStoreLoader.get();
this.isQuitting = !0, p.stopGame({
showFade: !0
}), e ? c.quitCampaign() : H.SpartaGlobals.bundleIsConsole && U.TunguskaGameStateStore.isTunguskaStore(t) && t.registerMPSessionQuit(), 
l.tunguskaMissionsStore.toggleStatsDelayedMessage(!0);
}, n.prototype.askToRestartCheckpoint = function() {
var e = this;
s.legacyConfirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_CHECKPOINT_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_CHECKPOINT_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "restartCheckpoint").then(function() {
a.hideSparta(function() {
return e.sparta.twinkle.frostbite.sendMessage("sparta.restartCheckpoint");
});
});
}, n.prototype.askToRestartMission = function() {
var e = this;
s.legacyConfirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_MISSION_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_MISSION_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "restartMission").then(function() {
a.hideSparta(function() {
return e.sparta.twinkle.frostbite.sendMessage("sparta.restartLevel");
});
});
}, n.prototype.askToQuitGame = function(e) {
var t = this;
this.isQuitting || s.legacyConfirm(__("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_PROMPT"), __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_EXIT_TITLE"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL"), "leaveGame").then(function() {
return t.quitGame(e);
});
}, n.prototype.gotoHelp = function() {
w.updateSource("InGame"), f.route("playing/wwcesupport/help");
}, n.contextTypes = z.SpartaContext.contextTypes, n;
}(r.Component);
function Z(e) {
var t = e.text || "";
return r.createElement(T.Text, {
value: t.toUpperCase(),
type: "normal",
color: "#ffffff",
size: "XS",
style: j.TunguskaPlayingStyles.spHeader
});
}
var $ = function(e) {
for (var t = e.codeBooksData, n = [], o = t ? t.codeBooksTotal : 0, i = t ? t.codeBooksCollected : 0, a = 0; a < o; a++) {
var s = void 0, u = "nf";
a + 1 <= i && (u = "f", s = {
opacity: .8
}), n.push(r.createElement("surface", {
style: [ j.TunguskaPlayingStyles.codeBookStyle, s ],
key: "c-" + u + "-" + a
}));
}
var l = null;
o && o > 0 && (l = r.createElement(Z, {
text: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODE_BOOKS_FOUND")
}));
var c = A.isRTLLanguage() ? [ j.TunguskaPlayingStyles.codeBookStyle, {
justifyContent: "flex-end"
} ] : j.TunguskaPlayingStyles.codeBooksContainer;
return r.createElement("surface", {
style: {
marginBottom: 3 * E.GUTTER
}
}, l, r.createElement("surface", {
style: c
}, n));
}, ee = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.preloader = K.textureHandler.createPreloader(n), n.preloader.preload(j.TunguskaPlayingStyles.codeBookImage, void 0), 
n;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props.chapter, t = e.codexEntries.length, n = t <= 3 ? E.getWidth(E.COLUMNS, !1) / 8 : E.getWidth(E.COLUMNS, !1) / (2 * t), o = t - 1, i = u.onlineState.isOnlineBlazeAndGateway, a = A.isRTLLanguage() ? e.codexEntries.reverse() : e.codexEntries, s = a.map(function(e, t) {
var s = a[t];
if (s) {
var u = [ new y.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: S.Keys.Accept,
blockInputFor: 500,
action: function() {
return d.display(new g.Popup({
content: r.createElement(I.TunguskaCodexPopup, {
codex: s,
isOffline: !i,
completedOverride: s.isCollected
}),
createButtons: !1,
leftAlignInputs: !0,
inputs: [ new y.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: S.Keys.Decline
}) ]
}));
}
}) ], l = t !== o ? E.GUTTER : 0;
return r.createElement(b.TunguskaCodexCard, {
key: "tcc-" + t,
entry: s,
buttons: u,
hasNoSideMargin: !0,
skipProgress: !0,
completedOverride: s.isCollected,
style: W.DynamicStyle.create({
marginRight: l,
width: n,
height: 1.4 * n
}, "f40227e6:295:32")
});
}
}), l = A.isRTLLanguage() ? W.merge2(V.CommonStyles.flexRow, V.CommonStyles.justifyContentFlexEnd) : V.CommonStyles.flexRow, c = u.gameStateStoreLoader.get(), p = U.TunguskaGameStateStore.isTunguskaStore(c) ? c.level.currentObjective : null;
return r.createElement("surface", {
style: j.TunguskaPlayingStyles.spChapterWrapper
}, r.createElement($, {
codeBooksData: p
}), r.createElement("surface", null, r.createElement(Z, {
text: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODEX_ENTRIES")
}), r.createElement("surface", {
style: l
}, s)));
}, n = e.__decorate([ i.observer ], n);
}(r.Component), te = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CURRENT_OBJECTIVE_TITLE"), t = m.tunguskaCampaignStore.currentObjective, n = null, o = null;
return t && "" !== t.title && (n = r.createElement(Z, {
text: e
}), o = r.createElement(T.Text, {
value: t.title,
type: "emphasis",
size: "S",
style: j.TunguskaPlayingStyles.spObjectiveText
})), r.createElement("surface", null, n, o);
}, n = e.__decorate([ i.observer ], n);
}(r.Component), ne = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.opacityTween = _.Animation.tween("f40227e6:355:43", 0, X), e.leftSlideTween = _.Animation.tween("f40227e6:356:45", -Y, X), 
e.rightSlideTween = _.Animation.tween("f40227e6:357:46", Y, X), e.handleShowCodex = function(t) {
var n = null, o = !u.onlineState.isOnlineBlazeAndGateway, i = o ? m.tunguskaCampaignStore.getCodexEntryById(t.tag) : h.tunguskaCodexStore.getCodexEntryById(t.tag);
n = i ? r.createElement(I.TunguskaCodexPopup, {
codex: i,
isOffline: o,
completedOverride: !0
}) : r.createElement(T.Text, {
value: __("ID_SPARTA_TUNGUSKA_CODEX_INFO_UNAVAILABLE")
}), e.showCodex(n);
}, e.onResume = function() {
return e.gotoGameAction();
}, e.showOptions = function() {
return a.hideSparta(function() {
return e.sparta.twinkle.frostbite.sendMessage("sparta.showOptions");
});
}, e.restartCheckpoint = function() {
return e.askToRestartCheckpoint();
}, e.restartMission = function() {
return e.askToRestartMission();
}, e.showHelp = function() {
return e.gotoHelp();
}, e.onQuit = function() {
return e.askToQuitGame(!0);
}, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this, t = u.gameStateStoreLoader.get();
t.isGameViewVisible && (this.opacityTween.set(1), this.leftSlideTween.set(0), this.rightSlideTween.set(0)), 
this.stopVisibilityListener = k.reaction(function() {
return t.isGameViewVisible;
}, function(t) {
e.opacityTween.to(t ? 1 : 0), e.leftSlideTween.to(t ? 0 : -Y), e.rightSlideTween.to(t ? 0 : Y);
}, {
fireImmediately: !0
});
}, n.prototype.componentDidMount = function() {
c.showCodex.subscribeTo(this, this.handleShowCodex);
}, n.prototype.componentWillUnmount = function() {
this.stopVisibilityListener && this.stopVisibilityListener(), this.opacityTween.destroy(), 
this.leftSlideTween.destroy(), this.rightSlideTween.destroy();
}, n.prototype.getChapter = function() {
var e = u.gameStateStoreLoader.get(), t = e.levelName && e.levelName.toLowerCase();
return m.tunguskaCampaignStore.getChapter(t || u.spartaActivatedStore.levelName);
}, n.prototype.filterStartPoints = function(e) {
return e && e.filter(function(e) {
return e.name && -1 === e.name.indexOf("DEV_ONLY");
});
}, n.prototype.isCheckpointRestartAvailable = function() {
var e = !1, t = this.getChapter();
t && (e = this.filterStartPoints(t.startPoints).length > 1);
return e;
}, n.prototype.getMenuItems = function() {
var e = [], t = 0;
return e.push(r.createElement(x.MenuItem, {
key: "resume",
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESUME_TITLE"),
action: this.onResume,
index: t++
})), e.push(r.createElement(x.MenuItem, {
key: "options",
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_OPTIONS_TITLE"),
action: this.showOptions,
index: t++
})), this.isCheckpointRestartAvailable() && e.push(r.createElement(x.MenuItem, {
key: "checkpoint_restart",
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_CHECKPOINT_TITLE"),
action: this.restartCheckpoint,
index: t++
})), e.push(r.createElement(x.MenuItem, {
key: "restart",
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_RESTART_MISSION_TITLE"),
action: this.restartMission,
index: t++
})), G.wwceFeatureFlags.enableHelpSection.isEnabled() && e.push(r.createElement(x.MenuItem, {
key: "help",
label: __("ID_SPARTA_MAIN_TITLE_HELP"),
action: this.showHelp,
index: t++
})), e.push(r.createElement(x.MenuItem, {
key: "quit",
label: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_QUIT_TITLE"),
action: this.onQuit,
index: t++
})), e;
}, n.prototype.render = function() {
var e = this.getChapter(), t = e ? r.createElement(ee, {
chapter: e
}) : null, n = e ? r.createElement(te, null) : null, o = this.sparta.stores.installStateStore.isMpInstalled ? null : r.createElement(M.InstallState, {
text: __("ID_SPARTA_INSTALL_INSTALLING_MP"),
style: j.TunguskaPlayingStyles.installStyle
}), i = {
opacity: this.opacityTween.getStyle(),
translateX: this.leftSlideTween.getStyle()
}, a = {
opacity: this.opacityTween.getStyle(),
translateX: this.rightSlideTween.getStyle()
};
return r.createElement("surface", {
style: j.TunguskaPlayingStyles.spContainer
}, r.createElement("surface", {
style: [ j.TunguskaPlayingStyles.spLeftContainer, i ]
}, r.createElement("surface", null, o), r.createElement(x.Menu, {
style: j.TunguskaPlayingStyles.menuStyleSp
}, r.createElement("surface", {
style: j.TunguskaPlayingStyles.menuBorder
}), this.getMenuItems())), r.createElement("surface", {
style: [ j.TunguskaPlayingStyles.spRightContainer, a ]
}, n, t));
}, n = e.__decorate([ o.input, i.observer ], n);
}(Q), re = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.opacityTween = _.Animation.tween("f40227e6:557:43", 0, X), e.leftSlideTween = _.Animation.tween("f40227e6:558:45", -Y, X), 
e.rightSlideTween = _.Animation.tween("f40227e6:559:46", Y, X), e.handleShowReportEmblemPopup = function(t) {
d.display(new g.Popup({
content: r.createElement(R.ScoreboardPlayerPopup, {
personaId: t,
inGameAction: function() {
u.spartaActivatedStore.navigationState === v.NavigationStates.InGameMenu && a.hideSparta(function() {
return e.sparta.twinkle.frostbite.sendMessage("sparta.showScoreboard");
});
}
}),
id: "scoreboardplayerpopup",
group: "scoreboardplayergroup",
stackable: !0,
leftAlignInputs: !0,
createButtons: !1,
inputs: [ new y.Input({
label: __("ID_SPARTA_ACTION_BACK"),
key: S.Keys.Decline
}) ]
}));
}, e.handleShowCodex = function(t) {
var n = null, o = !u.onlineState.isOnlineBlazeAndGateway, i = h.tunguskaCodexStore.getCodexEntryById(t.tag);
n = i ? r.createElement(I.TunguskaCodexPopup, {
codex: i,
isOffline: o,
completedOverride: !0
}) : r.createElement(T.Text, {
value: __("ID_SPARTA_TUNGUSKA_CODEX_INFO_UNAVAILABLE")
}), e.showCodex(n);
}, e.onResume = function() {
return e.gotoGameAction();
}, e.showScoreboard = function() {
return a.hideSparta(function() {
return e.sparta.twinkle.frostbite.sendMessage("sparta.showScoreboard");
});
}, e.showTeamSetup = function() {
return a.hideSparta(function() {
return e.sparta.twinkle.frostbite.sendMessage("sparta.showTeamSetup");
});
}, e.onRedeploy = function() {
return a.hideSparta(function() {
return e.sparta.twinkle.frostbite.sendMessage("sparta.gameRedeploy");
});
}, e.showRspAdmin = function() {
return f.route({
route: "playing",
subRoute: "rspadmin"
});
}, e.showServerDetails = function() {
return f.route({
route: "playing",
subRoute: "serverdetails"
});
}, e.showHelp = function() {
return e.gotoHelp();
}, e.showOptions = function() {
return a.hideSparta(function() {
return e.sparta.twinkle.frostbite.sendMessage("sparta.showOptions");
});
}, e.onQuit = function() {
return e.askToQuitGame(!1);
}, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this, t = u.gameStateStoreLoader.get();
t.isGameViewVisible && (this.opacityTween.set(1), this.leftSlideTween.set(0), this.rightSlideTween.set(0)), 
this.stopVisibilityListener = k.reaction(function() {
return t.isGameViewVisible;
}, function(t) {
e.opacityTween.to(t ? 1 : 0), e.leftSlideTween.to(t ? 0 : -Y), e.rightSlideTween.to(t ? 0 : Y);
});
}, n.prototype.componentDidMount = function() {
c.showCodex.subscribeTo(this, this.handleShowCodex), c.showReportEmblemFromGame.subscribeTo(this, this.handleShowReportEmblemPopup);
}, n.prototype.componentWillUnmount = function() {
this.stopVisibilityListener && this.stopVisibilityListener(), this.opacityTween.destroy(), 
this.leftSlideTween.destroy(), this.rightSlideTween.destroy();
}, Object.defineProperty(n.prototype, "hasServerDetails", {
get: function() {
return !!u.gameStateStoreLoader.get().server;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "isRSPAdmin", {
get: function() {
var e = u.gameStateStoreLoader.get().server;
if (!e || O.operationFlow.state !== O.OperationState.none) return !1;
var t = this.sparta.stores.gameServerDetailsStore.get(e.game, e.gameId);
if (t.value && t.value.rsp && u.onlineState.sessionUser) {
var n = t.value.rsp, r = n.owner, o = n.adminList || [], i = u.onlineState.sessionUser, a = !!r && r.personaId === i.spartaUserId.personaId, s = !!o.find(function(e) {
return e.personaId === i.spartaUserId.personaId;
});
return a || s;
}
return !1;
},
enumerable: !0,
configurable: !0
}), n.prototype.getMenuItems = function() {
var e = [], t = 0;
return e.push(r.createElement(x.MenuItem, {
key: "resume",
index: t++,
label: __("ID_SPARTA_ACTION_RESUME"),
action: this.onResume
})), e.push(r.createElement(x.MenuItem, {
key: "scoreboard",
index: t++,
label: __("ID_SPARTA_ACTION_SCOREBOARD"),
action: this.showScoreboard
})), u.gameStateStoreLoader.get().isDeployed && e.push(r.createElement(x.MenuItem, {
key: "team_setup",
index: t++,
label: __("ID_SPARTA_ACTION_TEAM_SETUP"),
action: this.showTeamSetup
})), u.gameStateStoreLoader.get().isDeployed && e.push(r.createElement(x.MenuItem, {
key: "redeploy",
index: t++,
label: __("ID_SPARTA_ACTION_REDEPLOY").toLocaleUpperCase(),
action: this.onRedeploy
})), this.isRSPAdmin && e.push(r.createElement(x.MenuItem, {
key: "rsp_admin",
index: t++,
label: __("ID_SPARTA_ACTION_SERVER_ADMIN"),
action: this.showRspAdmin
})), this.hasServerDetails && e.push(r.createElement(x.MenuItem, {
key: "server_details",
index: t++,
label: __("ID_SPARTA_MENU_TITLE_SERVER_INFO"),
action: this.showServerDetails
})), G.wwceFeatureFlags.enableHelpSection.isEnabled() && !J && e.push(r.createElement(x.MenuItem, {
key: "help",
index: t++,
label: __("ID_SPARTA_MAIN_TITLE_HELP"),
action: this.showHelp
})), e.push(r.createElement(x.MenuItem, {
key: "options",
index: t++,
label: __("ID_SPARTA_ACTION_OPTIONS"),
action: this.showOptions
})), e.push(r.createElement(x.MenuItem, {
key: "quit",
index: t++,
label: __("ID_SPARTA_ACTION_QUIT"),
action: this.onQuit
})), e;
}, n.prototype.render = function() {
var e = u.gameStateStoreLoader.get().isSpectator || "spectator" === u.gameStateStoreLoader.get().role, t = e || J ? void 0 : r.createElement(N.GameViewBoxes, {
route: "playing",
style: V.CommonStyles.justifyContentFlexStart
}), n = {
opacity: this.opacityTween.getStyle(),
translateX: this.leftSlideTween.getStyle()
}, o = {
opacity: this.opacityTween.getStyle(),
translateX: this.rightSlideTween.getStyle()
}, i = !e && F.tunguskaFeatureFlags.tunguskaAssignmentsPauseMenu.isEnabled();
return r.createElement("surface", {
style: j.TunguskaPlayingStyles.mpContainer
}, r.createElement("surface", {
style: [ j.TunguskaPlayingStyles.mpLeftContainer, n ]
}, r.createElement(x.Menu, {
style: j.TunguskaPlayingStyles.menuStyleMp
}, r.createElement("surface", {
style: j.TunguskaPlayingStyles.menuBorder
}), this.getMenuItems())), r.createElement("surface", {
style: [ j.TunguskaPlayingStyles.mpRightContainer, o ]
}, t, i ? r.createElement(B.TrackedAssignment, {
showIngameProgress: !0
}) : void 0));
}, n = e.__decorate([ i.observer, o.input ], n);
}(Q), oe = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = z.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = u.gameStateStoreLoader.get(), t = U.TunguskaGameStateStore.isTunguskaStore(e) && e.level.currentMPLevel, n = t && t.levelName || "", o = t && t.gameMode || "", i = !(!n || !o), a = {
alignItems: "flex-end",
opacity: _.Animation.tweenSwitch(0, 1, i, {
duration: 300
})
}, s = e.server, l = s && this.sparta.stores.settingsStore.hasUGCAccess() && r.createElement(ie, {
server: s
});
return r.createElement("surface", {
style: a
}, r.createElement(D.TwinColumns, {
elements: [ {
text: n
}, {
text: o
} ]
}), l);
}, n.contextTypes = z.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component), ie = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = z.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.stores.gameServerDetailsStore.get(this.props.server.game, this.props.server.gameId), t = e.value;
return e.isReady && t ? r.createElement(P.Marquee, {
width: E.getWidth(7),
rtl: !0,
scroll: !0,
loop: !0
}, r.createElement(D.TwinColumns, {
elements: [ {
text: t.server.name
} ]
})) : r.createElement("surface", null);
}, n.contextTypes = z.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
var ae = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = !u.gameStateStoreLoader.get().isMultiplayer, t = {
left: null,
middle: r.createElement(L.Title, {
text: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_MENU_GAME")
}),
right: e ? null : r.createElement(oe, null)
};
return r.createElement(C.TunguskaGameViewRoute, {
header: t
}, function n(e) {
return e ? r.createElement(ne, null) : r.createElement(re, null);
}(e));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.Playing = ae;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaCodexCardStyle"), a = function() {
function e() {}
var t;
return t = e, e.goldenTexture = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/tunguska/career/golden-texture-eae85f40.png");
}, "5d1d2654:18:27"), e.codexLockedM = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/codex-locked-m-dc2f03d1.png");
}, "5d1d2654:19:26"), e.codexLocked = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/codex-locked-2b76a9ee.png");
}, "5d1d2654:20:25"), e.gradientInactive = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-inactive-news-1bef4fc7.png");
}, "5d1d2654:21:30"), e.gradientActive = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-gradient-active-news-abc6b204.png");
}, "5d1d2654:24:28"), e.dock = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
}, "5d1d2654:28:29");
}), e.image = o.stylefunc(function() {
return o.style({
zOffset: 1,
textureMode: "cover"
}, "5d1d2654:39:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture,
borderRadius: e.borderRadius
}, "5d1d2654:44:86");
}), e.info = o.multistyle(function(e) {
return o.style({
position: "absolute",
bottom: 0,
right: 0,
left: 0,
zOffset: 55,
padding: o.Grid.spacer() * (e ? 4 : 2)
}, "5d1d2654:51:49");
}), e.goldenText = o.wrap(function() {
return o.style({
texture2: t.goldenTexture,
texture2Mode: "fill",
opacity: 1
}, "5d1d2654:62:35");
}), e.textCategory = o.wrap(function() {
return o.style({
opacity: .66,
textAlignForRTL: "left"
}, "5d1d2654:70:37");
}), e.textName = o.wrap(function() {
return o.style({
textAlignForRTL: "left"
}, "5d1d2654:77:33");
}), e.goldenLine = o.multistyle2(function(e, n) {
return o.style({
position: "absolute",
bottom: -1,
right: 0,
left: 0,
height: n,
zOffset: 51,
texture2: t.goldenTexture,
texture2Mode: "fill",
borderRadius: e
}, "5d1d2654:83:101");
}), e.progressBar = o.multistyle(function(e) {
return o.style({
position: "absolute",
bottom: -1,
left: 0,
right: 0,
borderRadius: e,
zOffset: 51
}, "5d1d2654:97:85");
}), e.lockedBackground = o.wrap(function() {
return o.style({
texture: t.codexLockedM,
opacity: .4
}, "5d1d2654:108:41");
}), e.lockedBackgroundLarge = o.wrap(function() {
return o.style({
texture: t.codexLocked,
opacity: .4
}, "5d1d2654:115:46");
}), e.overlayStyle = o.stylefunc(function() {
return o.style({
position: "absolute",
bottom: 0,
top: 0,
left: 0,
right: 0,
zOffset: 2,
textureMode: "cover"
}, "5d1d2654:123:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture,
borderRadius: e.borderRadius
}, "5d1d2654:133:86");
}), e = t = r.__decorate([ i.style ], e);
}();
t.TunguskaCodexCardStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(10), o = n(56), i = n(59);
function a(e) {
s(e, t.voCategories.CODEX);
}
function s(e, t) {
var n = r.spartaActivatedStore.navigationState === o.NavigationStates.FrontEnd;
e && t && n && i.frostbite.sendMessage("tunguska.playVO", {
voName: e,
category: t
});
}
t.voCategories = {
MENU: "MenuVO",
CODEX: "CodexVO"
}, t.playMenuVO = function u(e) {
s(e, t.voCategories.MENU);
}, t.playCodexVO = a, t.stopCodexVO = function l() {
a("vo_stop_all");
}, t.menuSounds = {
CLASS_UNLOCKED_ASSAULT: "vo_menu_npx_18",
CLASS_UNLOCKED_MEDIC: "vo_menu_npx_19",
CLASS_UNLOCKED_SUPPORT: "vo_menu_npx_20",
CLASS_UNLOCKED_SCOUT: "vo_menu_npx_21",
CLASS_UNLOCKED_TANKER: "vo_menu_npx_22",
CLASS_UNLOCKED_PILOT: "vo_menu_npx_23",
BATTLEPACK_YOU_HAVE_UNOPENED_BATTLEPACKS: "vo_sparta_recurring_01",
BATTLEPACK_RECEIVED_FIRST_BATTLEPACK: "vo_sparta_npx_02",
BATTLEPACK_RECEIVED_BATTLEPACK: "vo_sparta_recurring_03",
BATTLEPACK_RECEIVED_LEGENDARY_ITEM: "vo_sparta_recurring_04",
BATTLEPACK_REVEIVED_DISTINGUISHED_ITEM: "vo_sparta_recurring_05",
BATTLEPACK_YOU_CAN_NOW_RECEIVE_SUPERIOR_BATTLEBACK: "vo_sparta_recurring_06",
BATTLEPACK_YOU_CAN_NOW_RECEIVE_ENHANCHED_BATTLEBACK: "vo_sparta_recurring_07",
BATTLEPACK_RECEIVED_SPECIAL_ITEM: "vo_sparta_recurring_08",
EOR_YOU_HAVE_RANKED_UP: "vo_sparta_recurring_09",
EOR_YOU_RECEIVED_MEDAL: "vo_sparta_recurring_10",
EOR_SQUAD_DOMINATED_THE_BATTLE: "vo_sparta_recurring_11",
EOR_WELL_PLAYED_MAJOR_CONTRIBUTION: "vo_sparta_recurring_12",
EOR_FRIEND_PLAYED_A_BIG_ROLE_IN_BATTLE: "vo_sparta_recurring_13",
MENU_SECTION_NPX_CODEX_EXPLANATION: "vo_sparta_npx_59",
MENU_SECTION_NPX_CREATE_PARTY_OR_JOIN_FRIENDS_ON_THE_BATTLEFIELD: "vo_sparta_npx_14",
MENU_SECTION_NPX_BROWSE_THE_BATTLEFIELD_TITLES: "vo_sparta_npx_15",
MENU_SECTION_NPX_SOLDIER: "vo_sparta_npx_46",
GREETINGS_WELCOME_TO_THE_BATTLEFIELD: "vo_sparta_npx_16",
GREETINGS_GOOD_MORNING_SOLDIER: "vo_sparta_recurring_17",
GREETINGS_GOOD_AFTERNOON_SOLDIER: "vo_sparta_recurring_18",
GREETINGS_GOOD_EVENING_SOLDIER: "vo_sparta_recurring_19",
GREETINGS_THESE_ARE_YOUR_PERSONALIZED_SHORTCUTS: "vo_sparta_npx_20",
GREETINGS_WHAT_AN_ELITE_TIME_FOR_SOME_BATTLEFIELD: "vo_sparta_recurring_21",
SPLASH_WELCOME_TO_THE_BATTLEFIELD_PREPARING_YOUR_EXPERIENCE: "vo_sparta_recurring_54",
SPLASH_WELCOME_BACK_TO_YOUR_BATTLEFIELD_SOLDIER: "vo_sparta_recurring_55",
SPLASH_WELCOME_BACK_SOLDIER: "vo_sparta_recurring_56",
CALLOUTS_ARE_YOU_AWAKE_SOLDIER: "vo_sparta_recurring_22",
CALLOUTS_REPORT_IN_SOLDIER: "vo_sparta_recurring_23",
CALLOUTS_HEEEELLLLOOOOOO: "vo_sparta_recurring_24",
CALLOUTS_IMPRESSIVE_STAMINA_SOLDIER: "vo_sparta_recurring_25",
CALLOUTS_MAKE_UP_YOUR_MIND_SOLDIER: "vo_sparta_recurring_26",
LOADING_PICK_A_WEEKLY_MEDAL_TO_TRACK: "vo_sparta_npx_27",
LOADING_PICK_A_WEEKLY_ASSIGNMENT_TO_TRACK: "vo_sparta_npx_28",
MP_NPX_FIND_NEW_BF1_EXPERIENCES_OR_CREATE_CUSTOM_GAMES: "vo_sparta_npx_29",
MP_NPX_QUICKMATCH_SECTION: "vo_sparta_npx_30",
MP_NPX_EXPERIENCE_SECTION: "vo_sparta_npx_31",
MP_NPX_OPERATIONS_SECTION: "vo_sparta_npx_32",
MP_NPX_CUSTOM_GAMES_SECTION: "vo_sparta_npx_33",
MP_NPX_SERVER_BROWSER_SECTION: "vo_sparta_npx_34",
MP_NPX_SERVERBROWSER_FILTER: "vo_sparta_npx_38",
MP_MATCHMAKING_IN_PROGRESS: "vo_sparta_recurring_35",
MP_MATCHMAKING_COMPLETED: "vo_sparta_recurring_36",
MP_SERVERBROWSER_NO_SERVERS_FOUND: "vo_sparta_recurring_37",
EVENTS_NEW_COMMUNITY_MISSION_HAS_STARTED: "vo_sparta_recurring_40",
EVENTS_COMMUNITY_MISSION_COMPLETED: "vo_sparta_recurring_41",
EVENTS_NEW_WEEKLY_ASSIGNMENT_AVAILABLE: "vo_sparta_recurring_42",
EVENTS_DOUBLE_EXPERIENCE_WEEKEND_ONGOING: "vo_sparta_recurring_49",
FEATURE_NPX_CUSTOM_GAMES_UNLOCKED: "vo_sparta_recurring_43",
FEATURE_NPX_OPERATIONS_UNLOCKED: "vo_sparta_recurring_44",
FEATURE_NPX_CUSTOMIZATION: "vo_sparta_recurring_45",
SOCIAL_YOU_HAVE_FRIENDS_PLAYING: "vo_sparta_recurring_50",
SOCIAL_YOU_HAVE_UNREAD_NOTIFICATIONS: "vo_sparta_recurring_51",
SOCIAL_YOU_RECEIVED_A_PARTY_INVITE: "vo_sparta_recurring_52",
SOCIAL_PLATOON_MEMBERS_ARE_PLAYING: "vo_sparta_recurring_53",
VETERAN_VETERAN_PROGRAM_NPX: "vo_sparta_npx_57",
VETERAN_VETERAN_LEVEL_HAS_BEEN_UPGRADED: "vo_sparta_npx_58",
GAME_MODE_UNLOCKED_CONQUEST: "vo_sparta_recurring_60",
GAME_MODE_UNLOCKED_DOMINATION: "vo_sparta_recurring_61",
GAME_MODE_UNLOCKED_TEAM_DEATHMATCH: "vo_sparta_recurring_62",
GAME_MODE_UNLOCKED_PIGEON_CARRIER: "vo_sparta_recurring_63",
GAME_MODE_UNLOCKED_AIRSHIP_RAID: "vo_sparta_recurring_64",
GAME_MODE_UNLOCKED_RUSH: "vo_sparta_recurring_65",
SQUAD_SELECT_SQUAD_TO_JOIN: "vo_menu_npx_01",
SQUAD_YOU_BECAME_SQUADLEADER: "vo_menu_recurring_03",
SQUAD_PROMOTED_TO_SQUADLEADER: "vo_menu_recurring_04",
SQUAD_CREATED: "vo_menu_recurring_05",
IN_GAME_NPX_SCREEN_INFO_CLASS_SELECTION: "vo_menu_npx_08",
IN_GAME_NPX_SCREEN_INFO_SQUAD_SELECTION: "vo_menu_npx_02",
IN_GAME_NPX_SCREEN_INFO_LOADOUT_CUSTOMIZATION: "vo_menu_npx_10",
IN_GAME_NPX_SCREEN_INFO_VEHICLE_CUSTOMIZATION: "vo_menu_npx_17",
IN_GAME_NPX_SCREEN_INFO_ADJUST_SOUND: "vo_menu_npx_26",
IN_GAME_USE_SELECTION_TO_CHOOSE_VEHICLE_DEPLOY_TYPE: "vo_menu_npx_06",
IN_GAME_SELECT_YOUR_DEPLOY_POINT_TO_JOIN_BATTLE: "vo_menu_npx_07",
IN_GAME_DEPLOYMENT_FAILED: "vo_menu_recurring_09",
IN_GAME_SPAWN_ON_SQUAD_OR_OBJECTIVE_INFO: "vo_menu_npx_25",
IN_GAME_NPX_MODIFY_WEAPON_INFO: "vo_menu_npx_11",
IN_GAME_NPX_WEAPON_NEEDS_TO_BE_DEPLOYED_TO_GROUND: "vo_menu_npx_28",
IN_GAME_NPX_EXTRA_LOADOUT_SLOT_UNLOCKED: "vo_menu_npx_24",
IN_GAME_RANK_NOT_HIGH_ENOUGH_RANK_TO_ACCESS_ITEM: "vo_menu_npx_15",
IN_GAME_MOTHER_TURN_OF_MOTHER_VOICE_INFO: "vo_menu_npx_27",
IN_GAME_NPX_ITEM_FIRST_ITEM_UNLOCKED: "vo_menu_npx_16",
WARBONDS_FIRST_EARNED_INFO: "vo_menu_npx_12",
WARBONDS_NPX_INFO: "vo_menu_npx_13",
WARBONDS_INSUFFICIENT_WARBONDS_TO_UNLOCK: "vo_menu_npx_14",
TRACKED_MEDAL_COMPLETED: "vo_sparta_npx_47",
NEW_WEEKLY_MEDALS_AVAILABLE: "vo_sparta_recurring_48",
YOU_ARE_CLOSE_TO_RANKING_UP: "vo_sparta_recurring_39"
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(85), i = n(26), a = n(12), s = n(11), u = n(226), l = n(6), c = n(4), p = n(5), d = n(7), f = n(42), m = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = d.SpartaContext.getFromComponent(r), r.bgOpacityTween = u.TweenStyle.create("e113d1cd:45:40", r, "opacity", r.sparta.theme.getTheme, function(e, t) {
var n = r.focusItem.isFocused ? t.menu.backgroundFocusOpacity : t.menu.backgroundOpacity;
t.menu.tweenDuration ? e.to(n) : e.set(n);
}, function(e) {
return e.menu.backgroundOpacity;
}, function(e) {
return e.menu.tweenOptions;
}), r.labelColorTween = u.TweenStyle.create("e113d1cd:63:41", r, "color", r.sparta.theme.getTheme, function(e, t) {
var n = r.focusItem.isFocused ? t.menu.textFocusColor : t.menu.textColor;
t.menu.tweenDuration ? e.to(n) : e.set(n);
}, function(e) {
return e.menu.textColor;
}, function(e) {
return e.menu.tweenOptions;
}), r.setDisabled = function(e) {
r.focusItem.setActive("e113d1cd:125:34", !e);
}, r.handleTrigger = function() {
var e = r.getInput();
e && e.action && e.action();
}, r.focusItem = r.sparta.twinkle.focus.create(r, "menuitem-" + r.props.label), 
r.focusItem.focusOnHover = !0, r.focusItem.onClick.listen(r.handleTrigger), r.focusItem.autoFocusCandidate = !0, 
void 0 !== e.disabled && r.setDisabled(e.disabled), r;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.context.focusGroup.addMember(this.focusItem, this.props.index);
}, n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.disabled;
}, this.setDisabled);
}, n.prototype.componentWillReceiveProps = function(e) {
this.props.index !== e.index && this.context.focusGroup.updateMember(this.focusItem, this.props.index, e.index);
}, n.prototype.getInput = function() {
if (this.focusItem.isFocused) {
if (this.props.input) return this.props.input;
if (this.props.action) return new a.Input({
visible: this.sparta.twinkle.focus.controllerMode,
label: __("ID_SPARTA_ACTION_SELECT"),
key: s.Keys.Accept,
action: this.props.action
});
}
return null;
}, n.prototype.render = function() {
var t = this, n = this.sparta.theme.getTheme(this), o = n.components.Pressable, i = n.menu.itemContainer, a = n.menu.itemBg, s = n.menu.itemLabel, u = this.props.textType || n.menu.itemLabelType, c = r.createElement(l.Text, {
value: this.props.label.toUpperCase(),
style: p.merge3(s, this.props.labelStyle || p.emptyStyle, this.labelColorTween),
size: this.props.labelSize || "M",
type: u
});
return r.createElement(o, {
name: "e113d1cd:152:30",
focusItem: this.focusItem
}, function(n, o) {
return r.createElement("surface", e.__assign({
style: p.merge3(o, i, t.props.style)
}, t.focusItem.hooks), r.createElement("test", {
group: "menuitem",
label: t.props.label,
action: t.handleTrigger
}), r.createElement("surface", {
style: p.merge2(a, t.bgOpacityTween)
}), c);
});
}, n.contextTypes = e.__assign({}, d.SpartaContext.contextTypes, {
focusGroup: o.object.isRequired
}), n = e.__decorate([ c.observer, i.input ], n);
}(r.Component);
t.MenuItem = m;
var h = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = d.SpartaContext.getFromComponent(r), r.focusGroup = r.sparta.twinkle.focus.createComponentGroup(r, "menu"), 
r.handleHorizontalDirection = function(e, t) {
return {
result: f.NavigationResultType.HIT,
toItem: r.sparta.twinkle.focus.findNextItemOutsideGroup(e, t, r.focusGroup)
};
}, r.focusGroup.behavior = f.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | f.GroupBehavior.VERTICAL, 
r.focusGroup.handleDirection(f.Direction.Right, r.handleHorizontalDirection), r.focusGroup.handleDirection(f.Direction.Left, r.handleHorizontalDirection), 
r;
}
return e.__extends(n, t), n.prototype.getChildContext = function() {
return {
focusGroup: this.focusGroup
};
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).menu;
return r.createElement("surface", {
style: p.merge2(e.container, this.props.style)
}, this.props.children);
}, n.contextTypes = d.SpartaContext.contextTypes, n.childContextTypes = {
focusGroup: o.object.isRequired
}, n = e.__decorate([ c.observer ], n);
}(r.Component);
t.Menu = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(6), s = n(8), u = n(62), l = n(15), c = n(5), p = n(448), d = n(27), f = 2 * s.getWidth(5), m = {
duration: 1800,
easing: d.Easing.CubicInOut,
delay: 300
}, h = function(e) {
function t(t) {
var n = e.call(this, t) || this;
if (n.shimmerTween = l.Animation.tween("143746e7:41:44", -f), !t.focusItem) throw new Error("No focusItem passed to <Box>");
return n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.firstLaunch = setTimeout(function() {
return e.shimmer();
}, 3e3), this.repeat = setInterval(function() {
return e.shimmer();
}, 1e4);
}, t.prototype.componentWillUnmount = function() {
clearInterval(this.repeat), clearTimeout(this.firstLaunch), this.shimmerTween.destroy();
}, t.prototype.shimmer = function() {
this.props.shimmer && (this.shimmerTween.to(f, m), this.shimmerTween.set(-f));
}, t.prototype.render = function() {
var e = this.props.focusItem.isFocusedOrHovered, t = c.merge4(p.GameViewBoxStyles.box, c.DynamicStyle.create({
width: this.props.width,
height: this.props.height
}, "143746e7:76:35"), e ? p.GameViewBoxStyles.boxFocused : p.GameViewBoxStyles.boxBlurred, c.DynamicStyle.create(this.props.style, "143746e7:81:85")), n = {
color: e ? "#000000" : "#ffffff",
style: c.DynamicStyle.wrapLegacyStyle({
zOffset: 1
}, "143746e7:87:19")
}, i = this.props.title && o.createElement("surface", {
style: p.GameViewBoxStyles.title
}, o.createElement(a.Text, r.__assign({
value: this.props.title.toUpperCase(),
type: "emphasis",
size: "XS"
}, n))), s = [];
this.props.children && (s = o.Children.map(this.props.children, function(e, t) {
if (e) return e.props.style && (e.props.style.backgroundColor || e.props.style.texture) ? o.cloneElement(e, {
key: t
}) : o.cloneElement(e, {
key: t,
style: r.__assign({}, e.props.style, {
color: n.color
})
});
}));
var l = this.props.bottom || [];
l = "string" == typeof this.props.bottom ? o.createElement(a.Text, {
value: this.props.bottom
}) : l, l = o.Children.map(l, function(e, t) {
var i = c.merge2(c.DynamicStyle.maybeLegacyStyle(e.props.style, "143746e7:124:40"), n.style);
return o.cloneElement(e, r.__assign({
key: t
}, e.props, n, {
style: i
}));
});
var d = c.merge2(p.GameViewBoxStyles.shimmer, this.shimmerTween.getStyleClass("textureOffsetY"));
return o.createElement(u.Pressable, {
input: this.props.input,
style: t,
focusItem: this.props.focusItem,
triggerMode: "after"
}, o.createElement("surface", {
style: d
}), o.createElement("surface", {
style: p.GameViewBoxStyles.dock
}, i, o.createElement("surface", {
style: p.GameViewBoxStyles.content
}, s), o.createElement("surface", {
style: p.GameViewBoxStyles.bottom
}, l)));
}, t.defaultProps = {
shimmer: !0,
width: s.getWidth(s.COLUMNS, !1) / 6,
height: s.getWidth(s.COLUMNS, !1) / 6 * .65
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.Box = h;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(1), r = n(6), o = n(8), i = n(105), a = n(126), s = n(21), u = n(17), l = {
boxContainer: {
alignItems: "center",
justifyContent: "center",
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
},
boxBottomInfo: {
alignItems: "center",
justifyContent: "center",
position: "absolute",
bottom: -1,
right: o.GUTTER,
left: o.GUTTER
},
boxMainContent: {
alignItems: "center",
justifyContent: "center",
position: "absolute",
top: 0,
bottom: s.LINE_HEIGHTS.XS + o.GUTTER,
right: 3 * o.GUTTER,
left: 3 * o.GUTTER
},
image: {
position: "absolute",
top: 0,
bottom: s.LINE_HEIGHTS.XS + 2 * o.GUTTER,
right: 2 * o.GUTTER,
left: 2 * o.GUTTER,
textureMode: "contain",
backgroundColor: "#ff0000"
}
}, c = function(t) {
var n = t.item, r = n.rarenessLevel && n.rarenessLevel.value || 0, i = {
position: "absolute",
top: 5 * -o.GUTTER,
left: 0,
bottom: 0,
right: 0,
texture: a.level[r],
textureMode: "contain",
zOffset: -1
};
return e.createElement("surface", {
style: i
});
};
t.AffordableBattlepackBox = function(t) {
var n = t.data, r = t.focusItem, o = r.isFocused || r.isHovered;
return e.createElement("surface", {
style: l.boxContainer
}, e.createElement("surface", {
style: [ l.image, {
texture: n.images.front_normal
} ]
}), e.createElement("surface", {
style: l.boxBottomInfo
}, e.createElement(i.TunguskaBattlepackScraps, {
value: n.price,
size: "XS",
style: u.CommonStyles.zOffset(1),
dark: o
})));
}, t.ScrapDuplicatesBox = function(t) {
var n = t.data, a = t.focusItem, s = a.isFocused || a.isHovered, u = __("ID_SPARTA_TUNGUSKA_BATTLEPACK_NUM_DUPLICATE_SKIN");
return parseInt(n.totalQuantity, 10) > 1 && (u = __("ID_SPARTA_TUNGUSKA_BATTLEPACK_NUM_DUPLICATE_SKINS")), 
e.createElement("surface", {
style: l.boxContainer
}, e.createElement("surface", {
style: l.boxMainContent
}, e.createElement(i.TunguskaBattlepackScraps, {
value: n.totalValue,
dark: s,
size: "M"
})), e.createElement("surface", {
style: l.boxBottomInfo
}, e.createElement(r.Text, {
size: "XS",
value: u.replace("[[NUM]]", n.totalQuantity),
style: {
marginTop: o.GUTTER,
marginLeft: 2 * o.GUTTER,
marginRight: 2 * o.GUTTER
},
color: s ? "#000000" : "#ffffff"
})));
}, t.ScrapExchangeItemBox = function(t) {
var n = t.data, r = t.focusItem, o = n.items[0].scrapExchangeItem, a = o.item;
return e.createElement("surface", {
style: l.boxContainer
}, e.createElement(c, {
item: a
}), e.createElement("surface", {
style: [ l.image, {
texture: a.images.Png300xANY
} ]
}), e.createElement("surface", {
style: l.boxBottomInfo
}, e.createElement(i.TunguskaBattlepackScraps, {
value: o.price,
size: "XS",
style: u.CommonStyles.zOffset(1),
dark: r.isHovered || r.isFocused
})));
}, t.UnopenedBox = function(t) {
var n = t.data, o = t.focusItem, i = n.packs, a = i.reduce(function(e, t) {
return e + t.quantity;
}, 0), s = i.sort(function(e, t) {
var n = e.rarenessLevel.value, r = t.rarenessLevel.value;
return n === r ? 0 : n > r ? -1 : 1;
})[0].images.front_normal;
return e.createElement("surface", {
style: l.boxContainer
}, e.createElement("surface", {
style: [ l.image, {
texture: s
} ]
}), e.createElement("surface", {
style: l.boxBottomInfo
}, e.createElement(r.Text, {
color: o.isFocused || o.isHovered ? "#000000" : "#ffffff",
style: {
zOffset: 1
},
size: "XS",
value: "x" + a
})));
}, t.GetBattlepacksBox = function(t) {
var n = t.data, o = t.focusItem, i = t.revision;
return e.createElement("surface", {
style: l.boxContainer
}, e.createElement("surface", {
style: [ l.image, {
texture: n.image
} ]
}), e.createElement("surface", {
style: l.boxBottomInfo
}, e.createElement(r.Text, {
color: o.isFocused || o.isHovered ? "#000000" : "#ffffff",
style: {
zOffset: 1
},
size: "XS",
value: i ? i.name : ""
})));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TrackedAssignmentStyles"), a = function() {
function e() {}
return e.assignmentBox = o.stylefunc(function() {
return o.style({
flex: 1
}, "9a1e3ac1:8:14");
}, function(e) {
return o.dynamicStyle({
paddingLeft: e.isRTL ? 0 : o.Grid.getWidth(1),
paddingRight: e.isRTL ? o.Grid.getWidth(e.paddingRightRTL) : 0
}, "9a1e3ac1:12:62");
}), e.infoMarquee = o.multistyle(function(e) {
return o.style({
flexDirection: "row",
flex: 1,
alignSelf: "stretch",
justifyContent: e ? "flex-end" : "flex-start"
}, "9a1e3ac1:19:56");
}), e.criteria = o.multistyle(function(e) {
return o.style({
flexDirection: "row",
flex: 1,
marginTop: o.Grid.spacer(1.5, !1),
opacity: e ? 1 : .66
}, "9a1e3ac1:28:59");
}), e.criteriaText = i.wrap(function() {
return o.style({
flex: 1,
textAlignForRTL: "left"
}, "9a1e3ac1:37:26");
}), e.checkbox = o.multistyle(function(e) {
return o.style({
alignSelf: "flex-start",
marginTop: 4,
opacity: .66,
textureFadeInTime: 0,
marginRight: e ? 0 : o.Grid.spacer(2, !1),
marginLeft: e ? o.Grid.spacer(2, !1) : 0
}, "9a1e3ac1:42:53");
}), e.info = i.wrap(function() {
return o.style({
flexDirection: "row",
flex: 1,
position: "relative",
alignItems: "center"
}, "9a1e3ac1:53:18");
}), e.infotext = i.wrap(function() {
return o.style({
flexDirection: "column",
flex: 1,
justifyContent: "space-around",
height: o.Grid.getHeight(6)
}, "9a1e3ac1:60:22");
}), e.progress = o.multistyle(function(e) {
return o.style({
position: "relative",
width: 70,
height: 70,
marginRight: e ? -o.Grid.spacer(1, !1) : o.Grid.spacer(2, !1),
marginLeft: e ? o.Grid.spacer(2, !1) : -o.Grid.spacer(1, !1)
}, "9a1e3ac1:67:53");
}), e.assignmentImage = i.wrap(function() {
return o.style({
position: "absolute",
top: 10,
left: 10,
width: 50,
height: 50,
textureFadeInTime: 0
}, "9a1e3ac1:77:29");
}), e.criteriasTxt = i.wrap(function() {
return o.style({
opacity: .66
}, "9a1e3ac1:86:26");
}), e = r.__decorate([ i.style ], e);
}();
t.TrackedAssignmentStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(625), a = n(6), s = n(8), u = n(224), l = n(21), c = 1e4, p = n(5).StaticStyle.create({
textAlignForRTL: "left",
width: s.getWidth(18),
marginTop: s.GUTTER
}, "18e84d83:15:21"), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.state = {
index: -1,
hint: void 0
}, t.hints = [], t.updateRotator = function() {
t.clearTimeout(), t.setState(function(e) {
var n = e.index + 1;
return t.hints.length <= n && (n = 0), {
index: n,
hint: t.hints[n]
};
}, function() {
t.timeoutId = setTimeout(t.updateRotator, c);
});
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.hints = i.gameHintStore.getHints(this.props.gameMode, this.props.map), this.hints.length > 0 && this.updateRotator();
}, t.prototype.componentWillUnmount = function() {
this.clearTimeout();
}, t.prototype.clearTimeout = function() {
this.timeoutId && clearTimeout(this.timeoutId);
}, t.prototype.render = function() {
return this.state.hint ? o.createElement(u.Fader, {
transitionId: this.state.hint,
duration: 1e3,
style: p
}, o.createElement(a.Text, {
value: this.state.hint,
style: p,
size: l.TextSize.XS
})) : o.createElement("surface", {
key: "no-hint"
});
}, t;
}(o.Component);
t.Hints = d;
}, function(e, t, n) {
"use strict";
(function(__t, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(58), o = n(1), i = n(4), a = n(3), s = n(6), u = n(270), l = n(10), c = n(8), p = n(21), d = n(50), f = n(34), m = n(138), h = n(447), g = n(236), y = n(260), S = n(626), v = n(113), _ = n(142), b = n(627), T = n(613), E = n(175), C = n(135), I = n(9), A = n(79), w = n(33), P = n(68), R = n(7), O = n(22), x = n(42), k = n(5), L = {
horizontalCenter: {
alignItems: "center"
},
outerContainer: {
width: c.getWidth(24),
height: c.getHeight(I.SpartaGlobals.bundleIsConsole ? 80 : 100)
},
settingsContainer: {
flex: 1,
flexDirection: "row",
justifyContent: "space-between"
},
settingsGroup: {
width: c.getWidth(6) - 2 * c.GUTTER / 3
},
settingRow: {
flexWrap: "nowrap",
flexDirection: "row",
justifyContent: "space-between",
marginLeft: 2 * c.GUTTER,
marginRight: 2 * c.GUTTER
},
label: {
flexDirection: "row",
flex: 1,
zOffset: 1,
textAlignForRTL: "right"
},
value: {
flexDirection: "row",
zOffset: 1,
justifyContent: "flex-end",
alignItems: "flex-end",
color: "#FFFFFF55",
textAlign: "right",
textAlignForRTL: "left"
},
basicSubText: {
textLineSpacing: p.LINE_HEIGHTS.XS
},
serverIdentifier: {
opacity: .5
}
}, M = C.frostbiteAction("sparta.serverInstanceTextRequest"), D = E.frostbiteListenable("sparta.serverInstanceTextResponse");
var N = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.serverInstanceIdentifier = "", r.mapRotationGroup = O.focusSystem.createComponentGroup(r, "mapRotation", x.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | x.GroupBehavior.HORIZONTAL), 
r.sparta = R.SpartaContext.getFromComponent(r), r.mapRotationGroup.handleDirection(x.Direction.Down, m.stopIfNotTheSameGroup(r.mapRotationGroup));
var o = l.gameStateStoreLoader.get().server;
return r.game = l.gameStore.getGame(o ? o.game : ""), o && (r.serverDetails = r.sparta.stores.gameServerDetailsStore.get(o.game, o.gameId)), 
function i() {
return new Promise(function(e) {
D.listen(function(t) {
e(t.text || "");
}), M();
});
}().then(a.action(function(e) {
r.serverInstanceIdentifier = __t("ID: ") + e;
})), r;
}
return e.__extends(n, t), n.prototype.render = function() {
var t = this, n = this.game;
if (!this.serverDetails || !n) return o.createElement("surface", null);
var r = {
middle: o.createElement(g.Title, {
text: __("ID_SPARTA_MENU_TITLE_SERVER_INFO")
}),
right: o.createElement(s.Text, {
size: "S",
value: this.serverInstanceIdentifier,
style: L.serverIdentifier
})
};
return o.createElement(u.TunguskaGameViewSubRoute, e.__assign({
header: r
}, this.props), o.createElement(d.FragmentLoader, {
load: this.serverDetails,
errorMessage: __("ID_SPARTA_SERVER_FAILED_LOADING_DETAILS")
}, function(e) {
return o.createElement("surface", {
style: L.horizontalCenter
}, o.createElement("surface", {
style: L.outerContainer
}, o.createElement(c.Row, {
style: {
justifyContent: "space-between"
}
}, o.createElement(F, {
details: e,
serverConfig: n.serverConfig
}), o.createElement(S.OwnerInfo, {
details: e
})), o.createElement(G, {
details: e,
neighbourFocusGroup: t.mapRotationGroup
}), o.createElement(T.MapRotationCarousel, {
details: e,
focusGroup: t.mapRotationGroup
})));
}));
}, n.contextTypes = R.SpartaContext.contextTypes, e.__decorate([ a.observable ], n.prototype, "serverInstanceIdentifier", void 0), 
n = e.__decorate([ i.observer ], n);
}(o.Component);
t.IngameServerDetails = N;
var F = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = R.SpartaContext.getFromComponent(r), r.localizedServerTypes = {
OFFICIAL: __("ID_SPARTA_SERVER_TYPE_OFFICIAL"),
RANKED: __("ID_SPARTA_SERVER_TYPE_RANKED"),
UNRANKED: __("ID_SPARTA_SERVER_TYPE_UNRANKED"),
PRIVATE: __("ID_SPARTA_SERVER_TYPE_PRIVATE")
}, r;
}
return e.__extends(n, t), n.prototype.getServerType = function(e) {
if (!A.GameServer.isCorrectServerType(e.serverType) || -1 !== this.props.serverConfig.supportedServerTypes.indexOf(e.serverType)) return this.localizedServerTypes[e.serverType];
}, n.prototype.renderServerName = function(e) {
return this.sparta.stores.settingsStore.hasUGCAccess() ? o.createElement(r.Marquee, {
scroll: !0,
delay: 1e3,
width: c.getWidth(15)
}, o.createElement(s.Text, {
value: e,
size: "M",
style: {
marginBottom: 2 * c.GUTTER
}
})) : o.createElement("surface", null);
}, n.prototype.render = function() {
var e = this.props.details.server, t = [ {
text: e.mapNamePretty.toLocaleUpperCase()
}, {
text: e.mapModePretty.toLocaleUpperCase()
} ];
e.custom && t.push({
text: __("ID_SPARTA_SERVER_CUSTOM").toLocaleUpperCase(),
color: y.customTextColor
});
var n, r = this.getServerType(e);
return r && t.push({
text: r.toLocaleUpperCase()
}), this.props.serverConfig.supportsFavorite && (n = I.SpartaGlobals.bundleIsPC ? o.createElement(b.ServerFavoriteCounterButton, {
details: e
}) : o.createElement(b.ServerFavoriteCounter, {
details: e
})), o.createElement("surface", null, this.renderServerName(e.name), o.createElement(h.TwinColumns, {
style: {
marginBottom: 2 * c.GUTTER
},
elements: t
}), o.createElement("surface", {
style: {
flexDirection: "row",
marginBottom: 2 * c.GUTTER
}
}, n));
}, n.contextTypes = R.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(o.Component), G = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.kvehiclesGroup = O.focusSystem.createComponentGroup(n, "kvehicles"), n.weaponsGroup = O.focusSystem.createComponentGroup(n, "weapons"), 
n.miscGroup = O.focusSystem.createComponentGroup(n, "misc"), n.scalesGroup = O.focusSystem.createComponentGroup(n, "scales"), 
n.setFocusGroupBehaviour(n.kvehiclesGroup), n.setFocusGroupBehaviour(n.weaponsGroup), 
n.setFocusGroupBehaviour(n.miscGroup), n.setFocusGroupBehaviour(n.scalesGroup), 
n;
}
return e.__extends(n, t), n.prototype.setFocusGroupBehaviour = function(e) {
var t = this;
e.behavior = x.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | x.GroupBehavior.VERTICAL, 
e.handleDirection(x.Direction.Down, function(n, r) {
var o = O.focusSystem.findNextItem(n, r);
if (o) {
if (o.group === e) return {
result: x.NavigationResultType.HIT,
toItem: o
};
var i = e.definedMembers;
if (n === i[i.length - 1]) return t.props.neighbourFocusGroup.navigateToGroup(n, r);
}
return {
result: x.NavigationResultType.STOP
};
}), e.handleDirection(x.Direction.Up, m.handleIfNotTheSameGroup(e, function(e, t) {
var n = O.focusSystem.findNextItem(e, t);
return n ? {
result: x.NavigationResultType.HIT,
toItem: n
} : {
result: x.NavigationResultType.FALLTHROUGH
};
}));
}, n.prototype.render = function() {
if (!this.props.details) return o.createElement("surface", null);
var e = this.props.details.settings, t = [ {
heading: __("ID_SPARTA_FILTER_CLASSESVEHICLES"),
settings: [].concat(e.Kits).concat(e.Vehicles),
key: "kvehicles",
focusGroup: this.kvehiclesGroup
}, {
heading: __("ID_SPARTA_FILTER_WEAPONS"),
settings: e.Weapons,
key: "weapons",
focusGroup: this.weaponsGroup
}, {
heading: __("ID_SPARTA_FILTER_ADVANCED"),
settings: e.Misc,
key: "misc",
focusGroup: this.miscGroup
}, {
heading: __("ID_SPARTA_FILTER_RULES"),
settings: e.Scales,
key: "scales",
focusGroup: this.scalesGroup
} ];
return o.createElement("surface", {
style: L.settingsContainer
}, t.map(function(e) {
return o.createElement(U, {
key: e.key,
heading: e.heading,
settings: e.settings,
focusGroup: e.focusGroup
});
}));
}, n = e.__decorate([ i.observer ], n);
}(o.Component), U = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var t = this;
return o.createElement("surface", {
style: L.settingsGroup
}, o.createElement(s.Text, {
value: this.props.heading.toLocaleUpperCase(),
type: w.TextType.EMPHASIS,
size: "S",
style: {
marginLeft: 2 * c.GUTTER,
marginBottom: c.GUTTER,
marginRight: 2 * c.GUTTER,
textAlignForRTL: "left"
}
}), o.createElement(f.Scroller, {
scrollbar: !0,
scrollbarPosition: "outside",
style: {
flex: 1
},
softClip: [ 0, 0, 0, 20 ]
}, o.createElement(v.List, {
divider: "item",
items: this.props.settings.map(function(n, r) {
return o.createElement(j, e.__assign({
key: n.id
}, n, {
focusGroup: t.props.focusGroup,
groupIndex: r
}));
})
})));
}, n;
}(o.Component), B = k.StaticStyle.create({
height: c.getHeight(5)
}, "fd1b99d6:414:32");
function j(e) {
return o.createElement(P.Focusable, {
id: "setting" + e.label,
group: e.focusGroup,
groupIndex: e.groupIndex
}, function(t) {
var n = t.isFocusedOrHovered ? "#000000" : "#ffffff", r = !t.isFocusedOrHovered && e.changed ? y.customTextColor : n;
return o.createElement(_.ListItem, {
label: e.label,
labelFlex: 3,
input: [],
focusItem: t,
subLabel: e.value,
fontColor: r,
id: e.id,
key: e.id,
scrollLabel: !0,
style: B
});
});
}
}).call(this, n(101), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ServerFavoriteCounterStyle"), a = function() {
function e() {}
return e.container = i.wrap(function() {
return o.style({
flexDirection: "row"
}, "c7e935ad:7:23");
}), e.counter = i.wrap(function() {
return o.style({
marginLeft: o.Grid.GUTTER,
height: o.Grid.getHeight(7),
flexDirection: "row",
alignItems: "center"
}, "c7e935ad:11:21");
}), e.pcButtonContainer = i.wrap(function() {
return o.style({
width: o.Grid.getHeight(7)
}, "c7e935ad:18:31");
}), e.favCountButton = i.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center"
}, "c7e935ad:22:28");
}), e.consoleIcon = o.stylefunc(function() {
return o.style({
textureScale: .7,
textureMode: "contain",
width: o.Grid.getHeight(7),
height: o.Grid.getHeight(7)
}, "c7e935ad:28:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "c7e935ad:35:38");
}), e.favCountContainer = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(3)
}, "c7e935ad:41:31");
}), e.favCountText = i.wrap(function() {
return o.style({
top: 1
}, "c7e935ad:45:26");
}), e.favIcon = o.stylefunc(function() {
return o.style({
textureMode: "contain",
width: o.Grid.getHeight(3),
height: o.Grid.getHeight(3),
marginRight: 4,
textureFadeInTime: 0
}, "c7e935ad:50:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "c7e935ad:58:38");
}), e = r.__decorate([ i.style ], e);
}();
t.ServerFavoriteCounterStyle = a;
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(12), u = n(8), l = n(6), c = n(28), p = n(112), d = n(73), f = n(1339), m = n(270), h = n(236), g = n(62), y = n(5), S = n(446), v = n(22), _ = n(7), b = e.get("Survey"), T = new (function() {
function e() {
this.answers = {}, this.preSelectStar = 0;
}
return e.prototype.setAnswer = function(e, t) {
var n = r.__assign({}, this.answers);
n[e] || (n[e] = {}), n[e] = t, this.answers = n;
}, e.prototype.setPreselectStar = function(e) {
this.preSelectStar = e;
}, r.__decorate([ i.observable ], e.prototype, "answers", void 0), r.__decorate([ i.observable ], e.prototype, "preSelectStar", void 0), 
r.__decorate([ i.action ], e.prototype, "setAnswer", null), r.__decorate([ i.action ], e.prototype, "setPreselectStar", null), 
e;
}())(), E = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.focusItem = v.focusSystem.create(n, "survey_star"), n.focusItem.onFocusOrHover(function() {
return T.setPreselectStar(n.props.rating);
}), n.focusItem.onBlurOrLeave(function() {
return T.setPreselectStar(0);
}), n;
}
return r.__extends(t, e), t.prototype.render = function() {
var e, t = this.props.question, n = T.answers[t.id] && T.answers[t.id].ratingAnswer;
e = T.preSelectStar > 0 ? this.props.rating <= T.preSelectStar ? S.SurveyStyles.starSelected : S.SurveyStyles.starGrey : n && this.props.rating <= n ? S.SurveyStyles.starSelected : S.SurveyStyles.starGrey;
var r = {
ratingAnswer: this.props.rating
}, i = new s.Input({
label: "",
action: function() {
return T.setAnswer(t.id, r);
}
}), a = y.merge3(S.SurveyStyles.basicStar, e, this.props.rating < 5 ? S.SurveyStyles.starMargin : y.emptyStyle);
return o.createElement(g.Pressable, {
triggerMode: "after",
focusItem: this.focusItem,
input: i,
pressScale: .7,
style: a
});
}, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.SurveyStar = E;
var C = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.sparta = _.SpartaContext.getFromComponent(n), n.submitSurvey = function() {
var e = (Date.now() - n.startTime) / 1e3, t = d.tunguskaEndOfRoundStore && d.tunguskaEndOfRoundStore.data;
if (n.survey && t) {
var r = f.toPINSurveyRespondedEvent(n.survey, T.answers, e, t);
r && (b.log("Survey Responded", r), n.sparta.stores.pinStore.trackEvent(r.name, r.params, r.customProps));
}
d.tunguskaEndOfRoundStore.setSurveyComplete(!0);
}, d.tunguskaEndOfRoundStore && d.tunguskaEndOfRoundStore.data && d.tunguskaEndOfRoundStore.data.survey && (n.survey = d.tunguskaEndOfRoundStore.data.survey), 
n.isSurveyViewed = d.tunguskaEndOfRoundStore.isViewed(d.EorPages.feedback), n.startTime = Date.now(), 
n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
d.tunguskaEndOfRoundStore.setSurveySeen();
}, t.prototype.componentWillUnmount = function() {
d.tunguskaEndOfRoundStore.viewPage(d.EorPages.feedback);
}, t.prototype.renderRatingQuestion = function(e) {
for (var t = [], n = 1; n < 6; n++) t.push(o.createElement(E, {
key: "star_" + n,
rating: n,
question: e
}));
return o.createElement("surface", {
style: S.SurveyStyles.question
}, o.createElement(l.Text, {
style: S.SurveyStyles.questionTxt,
size: "M",
value: e.question
}), o.createElement("surface", {
style: S.SurveyStyles.stars
}, t));
}, t.prototype.renderFreeTextQuestion = function(e) {
return o.createElement("surface", {
style: S.SurveyStyles.question
}, o.createElement(l.Text, {
style: S.SurveyStyles.questionTxt,
size: "S",
value: __("ID_SPARTA_SURVEY_COMMENTS").toUpperCase()
}), o.createElement(p.InputField, {
size: "S",
multiline: !0,
style: S.SurveyStyles.commentsTextArea,
onValueChanged: i.action(function(t) {
var n = {
freeTextAnswer: t
};
T.setAnswer(e.id, n);
})
}));
}, t.prototype.renderQuestion = function(e) {
return o.createElement("surface", {
style: {
paddingTop: 10 * u.GUTTER
},
key: "question_" + e.id
}, this.renderRatingQuestion(e), this.renderFreeTextQuestion(e));
}, t.prototype.renderSurveyComplete = function() {
return o.createElement("surface", {
style: [ S.SurveyStyles.survey, S.SurveyStyles.surveyCompleted ]
}, o.createElement(l.Text, {
style: S.SurveyStyles.title,
size: "L",
value: __("ID_SPARTA_SURVEY_RECEIPT")
}));
}, t.prototype.render = function() {
var e = this;
if (!this.survey) return null;
var t = {
middle: o.createElement("surface", {
style: {
alignItems: "center"
}
}, o.createElement(h.Title, {
text: __("ID_SPARTA_SURVEY_TAB").toUpperCase()
}))
}, n = Object.keys(T.answers).length > 0, r = d.tunguskaEndOfRoundStore.surveyComplete ? this.renderSurveyComplete() : o.createElement("surface", {
style: S.SurveyStyles.survey
}, this.survey.questions.map(function(t) {
return e.renderQuestion(t);
}), o.createElement(c.Button, {
name: "9a3197c9:218:27",
style: S.SurveyStyles.submitBtn,
disabled: !n,
text: __("ID_SPARTA_SURVEY_SUBMIT"),
action: this.submitSurvey
}));
return o.createElement(m.TunguskaGameViewSubRoute, {
header: t
}, r);
}, t.contextTypes = _.SpartaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.Survey = C;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(103), i = n(193), a = e.get("SurveyHelper");
t.toPINSurveyDisplayedEvent = function s(e) {
return a.log("Survey Displayed", e), {
name: "survey",
params: {
type: "eor-feedback-displayed",
status: "received",
survey_id: e.id,
lang: "en",
questions: e.questions.map(function(e) {
return function t(e) {
var t = {
qtitle: e.question,
qlabel: e.id,
type: "single"
};
return r.__assign({}, t, {
variables: [ r.__assign({}, t, {
values: [ 1, 2, 3, 4, 5 ]
}) ]
});
}(e);
})
},
customProps: {}
};
}, t.toPINSurveyRespondedEvent = function u(e, t, n, r) {
a.log("Submitting Survey", t);
var s = e.questions[0], u = r.reportId, l = [ {
qlabel: s.id,
type: "radio",
question: s.question,
response: t[s.id].ratingAnswer,
values: [ 1, 2, 3, 4, 5 ]
}, {
qlabel: s.id,
type: "open",
question: s.question,
response: t[s.id].freeTextAnswer,
values: ""
} ];
return {
name: i.PinEvents.Survey,
params: {
type: "eor_feedback_response",
complete_flag: "completed",
status: "sent",
survey_id: e.id,
lang: o.localeState.displayLocale,
qtime: n,
JSON: l,
custom: {
grid: u,
map: r.serverInfo && r.serverInfo.map && r.serverInfo.map.id,
mode: r.serverInfo && r.serverInfo.mode && r.serverInfo.mode.id
}
},
customProps: {}
};
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(6), u = n(21), l = n(73), c = n(208), p = n(53), d = n(74), f = n(15), m = n(1341), h = n(326), g = n(325), y = n(327), S = n(431), v = n(12), _ = n(11), b = n(159), T = n(61), E = n(329), C = n(14), I = n(5), A = n(33), w = n(104), P = n(78), R = e.get("OperationsCampaign"), O = C.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Rank_Up-e540360d.wav"), x = C.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Flare_Highlight-2c5d1b9f.wav"), k = [ 0, .33, .33, 1 ], L = [ .33, 0, 1, .33 ], M = new (function() {
function e() {
this.operationsDone = 0, this.battlepackAnimated = !1, this.resetInfoAnimated = !1, 
this.showRewardScreen = !1, this.showResetInfoScreen = !1;
}
return e.prototype.clear = function() {
this.operationsDone = 0, this.operationInfo = new S.TunguskaOperationsCampaign(), 
this.battlepackAnimated = !1, this.showRewardScreen = !1, this.resetInfoAnimated = !1, 
this.showResetInfoScreen = !1;
}, e.prototype.setShowRewardScreen = function() {
this.showRewardScreen = !0;
}, e.prototype.setShowResetInfoScreen = function() {
this.showResetInfoScreen = !0;
}, e.prototype.setOperationInfo = function(e) {
this.operationInfo = e;
}, e.prototype.incrementCompleted = function() {
this.operationsDone++;
}, e.prototype.setBattlepackCompleted = function() {
this.battlepackAnimated = !0;
}, e.prototype.setResetInfoCompleted = function() {
this.resetInfoAnimated = !0;
}, Object.defineProperty(e.prototype, "operations", {
get: function() {
return this.operationInfo && this.operationInfo.availableOperations || [];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "boxesAnimated", {
get: function() {
return this.operations.length > 0 && this.operationsDone === this.operations.length;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ i.observable ], e.prototype, "operationInfo", void 0), r.__decorate([ i.observable ], e.prototype, "operationsDone", void 0), 
r.__decorate([ i.observable ], e.prototype, "battlepackAnimated", void 0), r.__decorate([ i.observable ], e.prototype, "resetInfoAnimated", void 0), 
r.__decorate([ i.observable ], e.prototype, "showRewardScreen", void 0), r.__decorate([ i.observable ], e.prototype, "showResetInfoScreen", void 0), 
r.__decorate([ i.action ], e.prototype, "clear", null), r.__decorate([ i.action ], e.prototype, "setShowRewardScreen", null), 
r.__decorate([ i.action ], e.prototype, "setShowResetInfoScreen", null), r.__decorate([ i.action ], e.prototype, "setOperationInfo", null), 
r.__decorate([ i.action ], e.prototype, "incrementCompleted", null), r.__decorate([ i.action ], e.prototype, "setBattlepackCompleted", null), 
r.__decorate([ i.action ], e.prototype, "setResetInfoCompleted", null), r.__decorate([ i.computed ], e.prototype, "operations", null), 
r.__decorate([ i.computed ], e.prototype, "boxesAnimated", null), e;
}())(), D = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = {
height: this.props.height,
layer: !0,
layerClip: !0
};
return o.createElement("surface", {
style: e
}, this.props.children);
}, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.ContentClipper = D;
var N = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.battlepackSoundTimeout = -1, n.timelineRunner = new E.TimelineRunner(n, "6a5cc8c2:135:55"), 
n.battlepackSound = w.Sound.load(x), n.battlepackSound.setVolume(1), n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.play();
}, t.prototype.componentWillUnmount = function() {
clearTimeout(this.battlepackSoundTimeout), this.battlepackSound.stop();
}, t.prototype.play = function() {
var e = this;
this.timelineRunner.play(function() {
M.setBattlepackCompleted();
}), this.battlepackSoundTimeout = setTimeout(function() {
e.battlepackSound.play();
}, 500);
}, t.prototype.render = function() {
var e = this.props.battlePack, t = e.images.front_normal, n = this.timelineRunner.getStyle(m.OperationsStyles.bpTimeline, "bpflare"), r = this.timelineRunner.getStyle(m.OperationsStyles.bpTimeline, "bpimage"), i = this.timelineRunner.getStyle(m.OperationsStyles.bpTimeline, "bptext"), a = this.timelineRunner.getStyle(m.OperationsStyles.bpTimeline, "bprewardtext"), l = this.timelineRunner.getStyle(m.OperationsStyles.bpTimeline, "bptextflare");
return o.createElement("surface", {
style: m.OperationsStyles.container
}, o.createElement("surface", {
style: m.OperationsStyles.bpContainer
}, o.createElement("surface", {
style: [ m.OperationsStyles.bpFlare, n ]
}), o.createElement("surface", {
style: [ m.OperationsStyles.bpImage({
texture: t
}), r ]
})), o.createElement("surface", {
style: m.OperationsStyles.bpContainer
}, o.createElement("surface", {
style: [ m.OperationsStyles.bpTextContainer, i ]
}, o.createElement(s.Text, {
style: m.OperationsStyles.bpText,
size: u.TextSize.XL,
type: A.TextType.EMPHASIS,
value: e.visualName.toUpperCase()
}), o.createElement("surface", {
style: [ m.OperationsStyles.bpTextFlare, l ]
})), o.createElement(s.Text, {
style: I.merge2(m.OperationsStyles.bpRewardText, a),
size: u.TextSize.L,
value: __("ID_SPARTA_EOR_OPR_REWARD")
})));
}, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.BattlepackBox = N;
var F = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.animateProgress = !1, n.timelineRunnerTimeout = -1, n.checkIfLast = function() {
return n.props.operation.isCompleted;
}, n.lastSegmentCallback = function() {
return n.props.operation.isCompleted;
}, n.timelineRunner = new E.TimelineRunner(n, "6a5cc8c2:217:55"), n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.timelineRunnerTimeout = setTimeout(function() {
return e.timelineRunner.play(function() {
M.incrementCompleted();
}, {
"text.translateY": function() {
e.setAnimateProgress();
}
});
}, 250 * this.props.index + 733);
}, t.prototype.componentWillUnmount = function() {
clearTimeout(this.timelineRunnerTimeout);
}, Object.defineProperty(t.prototype, "timelineData", {
get: function() {
var e = this.props.operation;
return M.operationInfo.isLocked ? m.OperationsStyles.opLockedTimeline : e.haveProgress && e.isCompleted ? m.OperationsStyles.opProgressCompletedTimeline : e.haveProgress ? m.OperationsStyles.opProgressTimeline : e.isCompleted ? m.OperationsStyles.opCompletedTimeline : m.OperationsStyles.opTimeline;
},
enumerable: !0,
configurable: !0
}), t.prototype.setAnimateProgress = function() {
this.animateProgress = !0;
}, t.prototype.renderProgressBar = function() {
var e = this.props.operation;
if (!e) return null;
var t = m.OperationsStyles.boxWidth, n = Math.min(t, t * (e.previousScore / e.requiredScore)), r = [];
e.haveProgress && r.push(new g.VisualSegment("pointsEarned", "", e.currentScore - e.previousScore, t * ((e.currentScore - e.previousScore) / e.requiredScore)));
var i = [ m.OperationsStyles.boxProgressCompletionBar, this.timelineRunner.getStyle(this.timelineData, "celebrationbar") ], a = [ m.OperationsStyles.boxProgressCompletionBarInner, this.timelineRunner.getStyle(this.timelineData, "celebrationbarinner") ], s = [ m.OperationsStyles.boxProgressCompletionGlow, this.timelineRunner.getStyle(this.timelineData, "celebrationglow") ];
return o.createElement(h.ProgressBar, {
width: t,
isReady: this.animateProgress,
sound: O,
hideCounter: !0,
lastCheck: this.checkIfLast,
lastSegmentCallback: this.lastSegmentCallback,
height: 5,
segmentIndex: 0,
startSegment: n,
segments: [ r ],
style: {
zOffset: 10
}
}, o.createElement("surface", {
style: i
}, o.createElement("surface", {
style: a
})), o.createElement("surface", {
style: s
}));
}, t.prototype.render = function() {
var e = this.props.operation;
if (!e) return null;
var t, n = [ m.OperationsStyles.boxContainer({
isLast: this.props.isLast
}), this.timelineRunner.getStyle(this.timelineData, "container") ], r = [ m.OperationsStyles.boxImageContainer, this.timelineRunner.getStyle(this.timelineData, "box") ], i = [ m.OperationsStyles.boxTextPointsContainer, this.timelineRunner.getStyle(this.timelineData, "text") ], a = [ m.OperationsStyles.checkBox({
isCompleted: this.props.operation.isCompleted
}), this.timelineRunner.getStyle(this.timelineData, "checkbox") ], l = Math.min(e.previousScore, e.requiredScore), c = Math.min(e.currentScore, e.requiredScore);
t = e.haveProgress && this.animateProgress ? o.createElement(y.CountUp, {
useFormatNumber: !0,
countTo: c,
countFrom: l,
duration: 2500,
size: u.TextSize.S,
delay: 0
}) : o.createElement(s.Text, {
size: u.TextSize.S,
value: T.formatNumber(l)
});
var p = e.imageUrl || "", d = e.name || "", f = o.createElement("surface", {
style: n
}, o.createElement("surface", {
style: r
}, o.createElement("surface", {
style: m.OperationsStyles.boxImageBackground({
operationImage: p
})
}), o.createElement("surface", {
style: a
}), o.createElement("surface", {
style: m.OperationsStyles.boxTextContainer
}, o.createElement(s.Text, {
size: u.TextSize.XS,
style: m.OperationsStyles.boxText,
value: d.toUpperCase()
})), this.renderProgressBar()), o.createElement(D, {
height: 50
}, o.createElement("surface", {
style: i
}, t, o.createElement(s.Text, {
size: u.TextSize.S,
value: " / " + T.formatNumber(e.requiredScore)
}))));
return o.createElement("surface", null, f);
}, r.__decorate([ i.observable ], t.prototype, "animateProgress", void 0), r.__decorate([ i.computed ], t.prototype, "timelineData", null), 
r.__decorate([ i.action ], t.prototype, "setAnimateProgress", null), t = r.__decorate([ a.observer ], t);
}(o.Component);
t.OperationsBox = F;
var G = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.resetInfoScreenTimeout = -1, n.headerTimelineRunnerTimeout = -1, n.tweens = {
opacityTween: f.Animation.tween("6a5cc8c2:437:43", 0),
scaleTween: f.Animation.tween("6a5cc8c2:438:41", 1)
}, n.headerTimelineRunner = new E.TimelineRunner(n, "6a5cc8c2:441:61"), n;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
M.clear();
}, t.prototype.componentDidMount = function() {
var e = this;
this.dataUpdatedReactionDispose = i.when(function() {
return !(!l.tunguskaEndOfRoundStore.data && !l.tunguskaEndOfRoundStore.unrankedData);
}, function() {
return e.onEorDataUpdated();
}), this.boxesAnimatedReactionDispose = i.when(function() {
return M.boxesAnimated;
}, function() {
M.operationInfo.isCompleted ? e.showBattlepackReward() : e.gotoEor();
});
}, t.prototype.componentWillUnmount = function() {
P.Tween.destroyTweens(this.tweens), clearTimeout(this.resetInfoScreenTimeout), clearTimeout(this.headerTimelineRunnerTimeout), 
this.dataUpdatedReactionDispose && this.dataUpdatedReactionDispose(), this.boxesAnimatedReactionDispose && this.boxesAnimatedReactionDispose(), 
this.waitForRewardScreenDispose && this.waitForRewardScreenDispose(), this.waitForResetInfoScreenDispose && this.waitForResetInfoScreenDispose();
}, Object.defineProperty(t.prototype, "headerTimelineData", {
get: function() {
return M.operationInfo.isLocked ? m.OperationsStyles.opLockedHeaderTimeline : M.operationInfo.isCompleted ? m.OperationsStyles.opCompletedHeaderTimeline : m.OperationsStyles.opProgressHeaderTimeline;
},
enumerable: !0,
configurable: !0
}), t.prototype.onEorDataUpdated = function() {
var e = this, t = l.tunguskaEndOfRoundStore.data;
t && t.operations && t.operations instanceof S.TunguskaOperationsCampaign && t && t.operations ? (M.setOperationInfo(t.operations), 
this.fadeInAndScaleContainer(), this.headerTimelineRunnerTimeout = setTimeout(function() {
e.headerTimelineRunner.play(function() {});
}, 733)) : p.route(d.GameViewRoute.EOR);
}, t.prototype.fadeInAndScaleContainer = function() {
var e = {
duration: 44 / 60 * 1e3,
easing: k
};
return Promise.all([ this.tweens.opacityTween.promiseTo(1, e), this.tweens.scaleTween.promiseTo(1, e) ]);
}, t.prototype.fadeOutAndScaleContainer = function() {
var e = {
delay: 1e3,
duration: 44 / 60 * 1e3,
easing: L
};
return Promise.all([ this.tweens.opacityTween.promiseTo(0, e), this.tweens.scaleTween.promiseTo(.8, e) ]);
}, t.prototype.showBattlepackReward = function() {
var e = this;
this.fadeOutAndScaleContainer().then(function() {
e.waitForRewardScreenDispose = i.reaction(function() {
return M.battlepackAnimated;
}, function() {
e.showResetInfo();
}), M.setShowRewardScreen(), e.fadeInAndScaleContainer();
});
}, t.prototype.showResetInfo = function() {
var e = this;
this.tweens.opacityTween.set(0), this.waitForResetInfoScreenDispose = i.reaction(function() {
return M.resetInfoAnimated;
}, function() {
e.gotoEor();
}), M.setShowResetInfoScreen(), this.fadeInAndScaleContainer(), this.resetInfoScreenTimeout = setTimeout(function() {
M.setResetInfoCompleted();
}, 2e3);
}, t.prototype.gotoEor = function() {
R.debug("Goto Regular EOR"), this.fadeOutAndScaleContainer().then(function() {
return p.route(d.GameViewRoute.EOR);
});
}, t.prototype.quitGame = function() {
b.quitWithConfirm(function() {
b.toggleQuittingOverlay(!1);
});
}, t.prototype.render = function() {
var e = this;
if (!M.operations.length) return null;
var t, n = I.merge3(this.tweens.opacityTween.getStyleClass("opacity"), this.tweens.scaleTween.getStyleClass("scaleX"), this.tweens.scaleTween.getStyleClass("scaleY"));
if (M.showRewardScreen || M.showResetInfoScreen) if (M.showResetInfoScreen) t = o.createElement("surface", {
style: m.OperationsStyles.resetInfoContainer
}, o.createElement(s.Text, {
type: A.TextType.EMPHASIS,
size: u.TextSize.XL,
value: __("ID_SPARTA_EOR_OPR_PROGRESS_RESET_TITLE")
}), o.createElement(s.Text, {
style: m.OperationsStyles.resetInfoBody,
size: u.TextSize.L,
value: __("ID_SPARTA_EOR_OPR_PROGRESS_RESET_BODY")
})); else {
var r = M.operationInfo.currentBattlepack;
r && (t = o.createElement(N, {
battlePack: r && r
}));
} else {
var i = M.operations.map(function(e, t) {
return o.createElement(F, {
key: t,
index: t,
isLast: t === M.operations.length - 1,
operation: e
});
}), a = I.merge2(m.OperationsStyles.titleText, this.headerTimelineRunner.getStyle(this.headerTimelineData, "title")), l = I.merge2(m.OperationsStyles.subTitleText, this.headerTimelineRunner.getStyle(this.headerTimelineData, "subtitle1")), p = I.merge2(m.OperationsStyles.subTitleText, this.headerTimelineRunner.getStyle(this.headerTimelineData, "subtitle2")), d = void 0;
if (M.operationInfo.isLocked) {
var f = [ m.OperationsStyles.lockedBoxContainer, this.headerTimelineRunner.getStyle(this.headerTimelineData, "lockedbox") ], h = __("ID_SPARTA_TUNGUSKA_OPR_CAMPAIGN_RETRY_IN"), g = 60 * M.operationInfo.minutesToDailyReset * 1e3, y = T.formatDateDifference(h, g, !0).toUpperCase();
d = o.createElement("surface", {
style: f
}, o.createElement("surface", {
style: m.OperationsStyles.lockedBox
}, o.createElement(s.Text, {
style: m.OperationsStyles.lockedBoxTxt,
size: u.TextSize.S,
value: y
})));
}
t = o.createElement("surface", {
style: m.OperationsStyles.container
}, o.createElement(s.Text, {
style: a,
size: u.TextSize.XXL,
value: __("ID_SPARTA_EOR_OPERATIONS_CAMPAIGN")
}), o.createElement("surface", {
style: m.OperationsStyles.subTitleContainer
}, o.createElement(s.Text, {
style: l,
size: u.TextSize.L,
value: __("ID_SPARTA_EOR_OPR_IN_PROGRESS").replace("[[campaignName]]", M.operationInfo.name.toUpperCase())
}), o.createElement(s.Text, {
style: p,
size: u.TextSize.L,
value: __("ID_SPARTA_EOR_OPR_COMPLETED").replace("[[campaignName]]", M.operationInfo.name.toUpperCase())
})), o.createElement("surface", {
style: m.OperationsStyles.containerBoxes
}, i), d);
}
var S = [ new v.Input({
label: __("ID_SPARTA_ACTION_QUIT"),
key: _.Keys.Option2,
action: function() {
return e.quitGame();
}
}) ];
return o.createElement(c.TunguskaGameViewRoute, {
rightButtons: S
}, o.createElement("surface", {
style: n
}, t));
}, r.__decorate([ i.computed ], t.prototype, "headerTimelineData", null), t = r.__decorate([ a.observer ], t);
}(o.Component);
t.OperationsPreEor = G;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(27), a = o.Template("EorStylesOperations"), s = function() {
function e() {}
var t;
return t = e, e.easingIn = o.value(function() {
return [ 0, .33, .33, 1 ];
}, "da6250d7:21:22"), e.easingOut = o.value(function() {
return [ .33, 0, 1, .33 ];
}, "da6250d7:22:23"), e.boxWidth = o.value(function() {
return o.Grid.getWidth(3, !1);
}, "da6250d7:24:22"), e.opTimeline = o.timeline(function() {
return [ o.tween(0, "container", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "box", "scaleX", 0, 1, o.frames(22), t.easingIn), o.tween(0, "box", "scaleY", 0, 1, o.frames(22), t.easingIn, [ o.tween(0, "text", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "text", "translateY", 50, 0, o.frames(22), t.easingIn) ]) ];
}, "da6250d7:26:24"), e.opLockedTimeline = o.timeline(function() {
return [ o.tween(0, "container", "opacity", 0, .22, o.frames(22), t.easingIn), o.tween(0, "box", "scaleX", 0, 1, o.frames(22), t.easingIn), o.tween(0, "box", "scaleY", 0, 1, o.frames(22), t.easingIn, [ o.tween(0, "text", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "text", "translateY", 50, 0, o.frames(22), t.easingIn) ]) ];
}, "da6250d7:36:30"), e.opCompletedTimeline = o.timeline(function() {
return [ o.tween(0, "container", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "box", "scaleX", 0, 1, o.frames(22), t.easingIn), o.tween(0, "box", "scaleY", 0, 1, o.frames(22), t.easingIn, [ o.tween(0, "text", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "text", "translateY", 50, 0, o.frames(22), t.easingIn) ]) ];
}, "da6250d7:46:33"), e.opProgressTimeline = o.timeline(function() {
return [ o.tween(0, "container", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "box", "scaleX", 0, 1.085, o.frames(22), t.easingIn), o.tween(0, "box", "scaleY", 0, 1.085, o.frames(22), t.easingIn, [ o.tween(0, "text", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "text", "translateY", 50, 0, o.frames(22), t.easingIn, [ o.tween(2500, "box", "scaleX", null, 1, o.frames(22), t.easingOut), o.tween(2500, "box", "scaleY", null, 1, o.frames(22), t.easingOut) ]) ]) ];
}, "da6250d7:56:32"), e.opProgressCompletedTimeline = o.timeline(function() {
return [ o.tween(0, "container", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "box", "scaleX", 0, 1.085, o.frames(22), t.easingIn), o.tween(0, "box", "scaleY", 0, 1.085, o.frames(22), t.easingIn, [ o.tween(0, "text", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "text", "translateY", 50, 0, o.frames(22), t.easingIn, [ o.tween(2500, "celebrationbar", "width", 0, t.boxWidth, o.frames(22), t.easingIn, [ o.tween(0, "celebrationbarinner", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "checkbox", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "celebrationglow", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "celebrationglow", "scaleX", 0, 1, o.frames(22), t.easingIn, [ o.tween(15, "celebrationglow", "opacity", 1, 0, o.frames(22), t.easingOut), o.tween(15, "celebrationglow", "scaleX", 1, 0, o.frames(22), t.easingOut, [ o.tween(o.frames(60), "box", "scaleX", null, 1, o.frames(22), t.easingOut), o.tween(o.frames(60), "box", "scaleY", null, 1, o.frames(22), t.easingOut) ]) ]) ]) ]) ]) ];
}, "da6250d7:69:41"), e.opProgressHeaderTimeline = o.timeline(function() {
return [ o.tween(0, "title", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "title", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(o.frames(-19), "subtitle1", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(o.frames(-19), "subtitle1", "opacity", 0, 1, o.frames(22), t.easingIn) ]) ];
}, "da6250d7:103:38"), e.opLockedHeaderTimeline = o.timeline(function() {
return [ o.tween(0, "lockedbox", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "lockedbox", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "title", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "title", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(o.frames(-19), "subtitle2", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(o.frames(-19), "subtitle2", "opacity", 0, 1, o.frames(22), t.easingIn) ]) ];
}, "da6250d7:111:36"), e.opCompletedHeaderTimeline = o.timeline(function() {
return [ o.tween(0, "title", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "title", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(o.frames(-19), "subtitle1", "translateY", 100, 0, o.frames(20), t.easingIn), o.tween(o.frames(-19), "subtitle1", "opacity", 0, 1, o.frames(20), t.easingIn, [ o.tween(2500, "subtitle1", "translateY", 0, 100, o.frames(22), t.easingOut, [ o.tween(1100, "subtitle2", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(1100, "subtitle2", "opacity", 0, 1, o.frames(22), t.easingIn) ]) ]) ]) ];
}, "da6250d7:121:39"), e.bpTimeline = o.timeline(function() {
return [ o.tween(0, "bpimage", "opacity", 0, 1, o.frames(40), i.Easing.Linear), o.tween(0, "bpimage", "scaleX", 2.5, 1.2, o.frames(40), i.Easing.Linear, [ o.tween(0, "bpimage", "scaleX", null, 1, o.frames(170), i.Easing.Linear), o.tween(0, "bptext", "opacity", 0, 1, o.frames(60), t.easingIn), o.tween(0, "bptext", "translateX", 140, 0, o.frames(60), t.easingIn), o.tween(0, "bptextflare", "opacity", 0, .9, o.frames(60), t.easingIn, [ o.tween(0, "bptextflare", "opacity", null, 0, o.frames(40), i.Easing.Linear), o.tween(o.frames(-20), "bptextflare", "translateX", 250, -450, o.frames(80), i.Easing.Linear) ]), o.tween(o.frames(90), "bprewardtext", "opacity", 0, .66, o.frames(12), t.easingIn, [ o.tween(o.frames(60), "bprewardtext", "opacity", null, 0, o.frames(30), t.easingOut), o.tween(o.frames(60), "bprewardtext", "translateX", null, -100, o.frames(30), t.easingOut), o.tween(o.frames(40), "bptext", "opacity", null, 0, o.frames(30), t.easingOut), o.tween(o.frames(40), "bptext", "translateX", null, -140, o.frames(30), t.easingOut, [ o.tween(0, "bpflare", "scaleX", null, .5, o.frames(10), i.Easing.Linear), o.tween(0, "bpflare", "scaleY", null, .5, o.frames(10), i.Easing.Linear), o.tween(0, "bpflare", "opacity", null, 0, o.frames(10), i.Easing.Linear), o.tween(o.frames(8), "bpimage", "opacity", null, 0, o.frames(20), t.easingOut), o.tween(o.frames(8), "bpimage", "scaleX", null, .6, o.frames(20), t.easingOut), o.tween(o.frames(8), "bpimage", "scaleY", null, .6, o.frames(20), t.easingOut) ]) ]), o.tween(o.frames(90), "bprewardtext", "translateX", 100, 0, o.frames(12), t.easingIn) ]), o.tween(0, "bpimage", "scaleY", 2.5, 1.2, o.frames(40), i.Easing.Linear, [ o.tween(0, "bpimage", "scaleY", null, 1, o.frames(170), i.Easing.Linear) ]), o.tween(1e3, "bpflare", "scaleX", 0, 1.4, o.frames(22), t.easingIn), o.tween(1e3, "bpflare", "scaleY", 0, 1.4, o.frames(22), t.easingIn), o.tween(1e3, "bpflare", "opacity", 0, .5, o.frames(22), t.easingIn, [ o.tween(0, "bpflare", "opacity", null, 1, o.frames(22), i.Easing.Linear) ]) ];
}, "da6250d7:135:24"), e.container = o.wrap(function() {
return o.style({
alignItems: "center",
justifyContent: "center"
}, "da6250d7:185:34");
}), e.resetInfoContainer = o.wrap(function() {
return o.style({
alignItems: "center",
justifyContent: "center",
position: "relative",
alignSelf: "stretch"
}, "da6250d7:192:43");
}), e.resetInfoBody = o.wrap(function() {
return o.style({
opacity: .66
}, "da6250d7:201:38");
}), e.bpContainer = o.wrap(function() {
return o.style({
alignItems: "center",
justifyContent: "center",
position: "relative",
alignSelf: "stretch"
}, "da6250d7:207:36");
}), e.containerBoxes = o.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.spacer(3, !1)
}, "da6250d7:216:39");
}), e.lockedBoxContainer = o.wrap(function() {
return o.style({
position: "absolute",
left: 0,
right: 0,
bottom: 150,
alignItems: "center",
zOffset: 1,
flexDirection: "column"
}, "da6250d7:223:43");
}), e.lockedBox = o.wrap(function() {
return o.style({
backgroundColor: "#000000A8",
height: o.Grid.getHeight(10),
width: o.Grid.getWidth(10),
zOffset: 10,
flexDirection: "row"
}, "da6250d7:235:34");
}), e.lockedBoxTxt = o.wrap(function() {
return o.style({
flex: 1,
textAlign: "center",
alignSelf: "center"
}, "da6250d7:245:37");
}), e.titleText = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2, !1),
zOffset: 1
}, "da6250d7:253:34");
}), e.subTitleContainer = o.wrap(function() {
return o.style({
opacity: .66,
height: o.Grid.getHeight(8),
width: o.LayoutBounds.safeZone.width,
layer: !0,
layerClip: !0,
zOffset: 2
}, "da6250d7:260:42");
}), e.subTitleText = o.wrap(function() {
return o.style({
textAlign: "center",
position: "absolute",
textAlignForRTL: "center",
top: 0,
flex: 1,
opacity: 0
}, "da6250d7:271:37");
}), e.boxImageBackground = o.stylefunc(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 5,
zOffset: 2
}, "da6250d7:283:14");
}, function(e) {
return o.dynamicStyle({
texture: e.operationImage
}, "da6250d7:292:45");
}), e.boxImageContainer = o.wrap(function() {
return o.style({
width: t.boxWidth,
height: o.Grid.getHeight(28, !1),
flexDirection: "column",
alignItems: "flex-end",
justifyContent: "flex-end",
zOffset: 1
}, "da6250d7:298:42");
}), e.boxContainer = o.stylefunc(function() {
return o.style({
flexDirection: "column",
position: "relative"
}, "da6250d7:310:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isLast ? 0 : o.Grid.spacer(1, !1)
}, "da6250d7:315:38");
}), e.boxTextContainer = o.wrap(function() {
return o.style({
backgroundColor: "#000000a8",
alignSelf: "stretch",
height: o.Grid.getHeight(9, !1),
alignItems: "center",
justifyContent: "center",
zOffset: 3
}, "da6250d7:321:41");
}), e.boxText = o.wrap(function() {
return o.style({
color: "#ffffff",
zOffset: 4,
alignSelf: "stretch",
textAlign: "center",
textAlignForRTL: "center"
}, "da6250d7:332:32");
}), e.boxTextPointsContainer = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(3, !1),
alignSelf: "center",
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
marginTop: o.Grid.spacer(2, !1)
}, "da6250d7:342:47");
}), e.checkBox = o.stylefunc(function() {
return o.style({
margin: o.Grid.spacer(1, !1),
alignSelf: "flex-start",
width: 40,
height: 40,
marginLeft: o.Grid.spacer(1, !1),
marginBottom: o.Grid.spacer(1, !1),
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/campaign-checkmark-892df9e5.png"),
textureMode: "contain",
zOffset: 3
}, "da6250d7:354:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.isCompleted ? 1 : 0
}, "da6250d7:366:43");
}), e.boxProgressCompletionBar = o.wrap(function() {
return o.style({
zOffset: 10,
position: "absolute",
top: 0,
bottom: 0,
right: 0,
height: 5,
backgroundColor: "#ffe034",
width: 0
}, "da6250d7:372:49");
}), e.boxProgressCompletionBarInner = o.wrap(function() {
return o.style({
zOffset: 1,
position: "absolute",
top: 0,
bottom: 0,
right: 0,
left: 0,
backgroundColor: "#ff9900"
}, "da6250d7:385:54");
}), e.boxProgressCompletionGlow = o.wrap(function() {
return o.style({
zOffset: 1,
texture: o.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/testa-68d926b2.png"),
textureMode: "fill",
width: t.boxWidth,
height: 55,
position: "absolute",
top: 5,
left: 0,
opacity: 0
}, "da6250d7:397:50");
}), e.bpTextContainer = o.wrap(function() {
return o.style({
minWidth: 698,
marginBottom: o.Grid.spacer(2, !1),
alignItems: "center",
alignContent: "center",
justifyContent: "center"
}, "da6250d7:411:40");
}), e.bpText = o.wrap(function() {
return o.style({
zOffset: 3
}, "da6250d7:421:31");
}), e.bpRewardText = o.wrap(function() {
return o.style({
zOffset: 3
}, "da6250d7:427:37");
}), e.bpImage = o.stylefunc(function() {
return o.style({
flex: 2,
width: 512,
height: 256,
marginBottom: o.Grid.spacer(2, !1),
zOffset: 2
}, "da6250d7:434:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "da6250d7:442:38");
}), e.bpFlare = o.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/battlepack_flare_progression-a569ccd0.png"),
zOffset: 1,
width: 1129,
height: 324,
position: "absolute",
top: 0,
left: 280
}, "da6250d7:448:32");
}), e.bpTextFlare = o.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/battlepack-flare-main-a7b03448.png"),
zOffset: 2,
width: 698,
height: 207,
position: "absolute",
top: -80
}, "da6250d7:462:36");
}), e = t = r.__decorate([ a.style ], e);
}();
t.OperationsStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(27), o = function() {
function e() {}
return e.bezierCalcDim = function(e, t, n) {
var r = 1 - n;
return 3 * r * r * n * e - 3 * r * n * n * t + n * n * n;
}, e.bezierBisect = function(t, n) {
for (var r = t[0], o = t[1], i = t[2], a = t[3], s = 0, u = 1, l = 0; l < 10; ++l) {
var c = .5 * (s + u);
e.bezierCalcDim(r, i, c) < n ? s = c : u = c;
}
var p = .5 * (s + u);
return e.bezierCalcDim(o, a, p);
}, e.ease = function(t, n) {
if (Array.isArray(t)) return e.bezierBisect(t, n);
switch (t) {
case r.Easing.Linear:
return n;

case r.Easing.QuadraticIn:
return n * n;

case r.Easing.QuadraticOut:
return n * (2 - n);

case r.Easing.QuadraticInOut:
return n < .5 ? 2 * n * n : (4 - 2 * n) * n - 1;

case r.Easing.CubicIn:
return n * n * n;

case r.Easing.CubicOut:
return n * ((n - 3) * n + 3);

case r.Easing.CubicInOut:
return n < .5 ? 4 * n * n * n : n * (12 + n * (4 * n - 12)) - 3;

case r.Easing.CubicOutBack:
var o = n - 1, i = 1.70158;
return o * o * ((i + 1) * o + i) + 1;

case r.Easing.SineIn:
return 1 - Math.cos(Math.PI / 2 * n);

case r.Easing.SineOut:
return Math.sin(Math.PI / 2 * n);

case r.Easing.SineInOut:
return .5 - .5 * Math.cos(Math.PI * n);
}
return n;
}, e.interpolate = function(t, n, r, o) {
var i = e.ease(r, o);
return t.length !== n.length ? t.length > n.length ? t : n : t.map(function(e, t) {
return e + (n[t] - e) * i;
});
}, e;
}();
t.TweenInterpolation = o;
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(6), u = n(21), l = n(208), c = n(53), p = n(74), d = n(15), f = n(1344), m = n(329), h = n(5), g = n(326), y = n(14), S = n(325), v = n(327), _ = n(61), b = n(158), T = n(28), E = n(13), C = n(628), I = n(24), A = n(82), w = n(193), P = n(39), R = n(29), O = e.get("BattleplanEoR"), x = y.bbOfflineUrl("/sparta/assets/tunguska/endofround/audio/Rank_Up-e540360d.wav"), k = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tunguska = b.TunguskaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.currentStage, n = e.timelineRunner, r = e.timelineData, i = this.tunguska.sparta.stores, a = i.gameStore, l = i.entitlementStore, c = t.rewards.slice(), p = c.find(function(e) {
return e.fillImage;
});
p && (c.splice(c.indexOf(p), 1), c.splice(1, 0, p));
var d = c.map(function(e, t) {
var i, p = t === c.length - 1, d = !e.premiumOnly || l.hasLoaded && l.hasLoadedGame(e.game) && l.hasPremiumAccess(e.game), m = h.merge2(f.BattleplanStyles.boxImageBackground({
texture: e.image || void 0,
fill: e.fillImage
}), d ? n.getStyle(r, "boximage") : h.emptyStyle), g = h.merge2(f.BattleplanStyles.boxText, d ? n.getStyle(r, "boxtext") : h.emptyStyle), y = h.merge2(f.BattleplanStyles.boxLockIcon, d ? n.getStyle(r, "boxlockicon") : h.emptyStyle), S = a.getGame(e.game);
if (e.premiumOnly && S && S.premiumConfig) {
var v = f.BattleplanStyles.boxPremiumIcon({
texture: S.premiumConfig.premiumIconUrl
});
i = o.createElement("surface", {
style: v
});
}
return o.createElement("surface", {
key: e.id,
style: f.BattleplanStyles.boxContainer(p, e.fillImage)
}, o.createElement("surface", {
style: m
}), o.createElement("surface", {
style: f.BattleplanStyles.boxTextContainer
}, o.createElement(s.Text, {
size: u.TextSize.XS,
style: g,
value: e.title.toUpperCase()
})), o.createElement("surface", {
style: y
}), i);
});
return o.createElement("surface", {
style: f.BattleplanStyles.containerBoxes
}, d);
}, t.contextTypes = b.TunguskaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component), L = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tunguska = b.TunguskaContext.getFromComponent(t), t.enableClaimButton = !1, 
t.animateProgressBar = !1, t.timelineRunner = new m.TimelineRunner(t, "afb6b921:122:70"), 
t.battleplanWaveClients = C.createBattleplanWaveClients(I.request), t.checkIfLast = function() {
return t.tunguska.stores.tunguskaEndOfRoundBattleplanStore.isCompleted;
}, t.lastSegmentCallback = function() {}, t.claimRewards = function() {
O.info("CLAIM REWARDS");
var e = t.tunguska.stores.tunguskaEndOfRoundBattleplanStore.activeWave;
if (e && e.stage) {
var n = e.stage.rewards.map(function(e) {
return new Promise(function(n, o) {
var i = t.tunguska.sparta.stores, a = i.pinStore, s = i.gaStore, u = {
transactionSource: "battleplan",
transactionType: "engagement_reward",
transactionCode: "entitlement",
revenueModel: "virtual",
itemId: e.id
};
a.trackEvent(w.PinEvents.Transaction, r.__assign({}, u, {
status: "initiated"
})), t.battleplanWaveClients.claimWaveReward.request({
rewardId: e.id
}).onSuccess(function(t) {
a.trackEvent(w.PinEvents.Transaction, r.__assign({}, u, {
status: "complete"
})), s.trackEvent("battleplan", "claim", e.id, 1), n(t);
}).onError(function(t) {
a.trackEvent(w.PinEvents.Transaction, r.__assign({}, u, {
status: "error"
})), s.trackEvent("battleplan", "claim", e.id, 0), o(t);
}).onFinished(function() {});
});
});
return Promise.all(n).then(function(e) {
O.info("CLAIMED ALL REWARDS", e);
}).catch(function() {
O.info("FAILED TO CLAIM ALL REWARDS");
});
}
O.info("No active wave or stage, early out from claimRewards");
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.when(function() {
return !!e.timelineData;
}, function() {
e.timelineRunner.play(function() {
e.props.gotoEor();
}, {
"text.translateY": function() {
e.setAnimateProgressBar();
},
claimButtonVisible: function() {
e.setEnableClaimButton();
}
});
}, {
timeout: 5e3,
onError: function() {
O.info("Skipping Battleplan Pre-EoR due not animation didn't start"), c.route(p.GameViewRoute.EOR);
}
});
}, t.prototype.setAnimateProgressBar = function() {
this.animateProgressBar = !0;
}, t.prototype.setEnableClaimButton = function() {
this.enableClaimButton = !0;
}, Object.defineProperty(t.prototype, "timelineData", {
get: function() {
var e = this.tunguska.stores.tunguskaEndOfRoundBattleplanStore, t = e.ready, n = e.hasProgress, r = e.isCompleted;
if (t) return n && r ? A.tunguskaFeatureFlags.tunguskaEndOfRoundBattleplanClaimButton.isEnabled() ? f.BattleplanStyles.stageProgressToCompletedTimeline : f.BattleplanStyles.stageProgressToCompletedNoClaimTimeline : n && !r ? f.BattleplanStyles.stageProgressToUncompletedTimeline : r ? f.BattleplanStyles.stageAlreadyCompletedTimeline : f.BattleplanStyles.stageProgressToUncompletedTimeline;
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = this.tunguska.stores.tunguskaEndOfRoundBattleplanStore, t = e.activeWave, n = e.hasProgress, r = e.progressScore, i = e.title;
if (!this.timelineData || !t || !t.stage) return o.createElement("surface", null);
var a, l = A.tunguskaFeatureFlags.tunguskaEndOfRoundBattleplanClaimButton.isEnabled(), c = t.stage, p = Math.min(f.BattleplanStyles.progressBarWidth, f.BattleplanStyles.progressBarWidth * (c.progress.valueAcquired / c.progress.valueNeeded));
a = n && this.animateProgressBar ? o.createElement(v.CountUp, {
useFormatNumber: !0,
countTo: r,
countFrom: c.progress.valueAcquired,
duration: 2500,
size: u.TextSize.S,
delay: 0
}) : o.createElement(s.Text, {
size: u.TextSize.S,
value: _.formatNumber(c.progress.valueAcquired)
});
var d = [ [ new S.VisualSegment("pointsEarned", void 0, r - c.progress.valueAcquired, f.BattleplanStyles.progressBarWidth * ((r - c.progress.valueAcquired) / c.progress.valueNeeded)) ] ];
O.debug("progressScore:", r), O.debug("currentStage.progress.valueAcquired:", c.progress.valueAcquired), 
O.debug("currentStage.progress.valueNeeded", c.progress.valueNeeded), O.debug("ProgressBar segments:", d);
var m = h.merge2(f.BattleplanStyles.titleText, this.timelineRunner.getStyle(this.timelineData, "title")), y = h.merge2(f.BattleplanStyles.subTitleText, this.timelineRunner.getStyle(this.timelineData, "subtitle1")), b = h.merge2(f.BattleplanStyles.subTitleText, this.timelineRunner.getStyle(this.timelineData, "subtitle2")), C = [ f.BattleplanStyles.progressTextPointsContainer, this.timelineRunner.getStyle(this.timelineData, "text") ], I = [ f.BattleplanStyles.claimButton, this.timelineRunner.getStyle(this.timelineData, "claimbutton") ], w = [ f.BattleplanStyles.progressBar, this.timelineRunner.getStyle(this.timelineData, "progressbar") ], P = [ f.BattleplanStyles.progressCompletionBar, this.timelineRunner.getStyle(this.timelineData, "celebrationbar") ], R = [ f.BattleplanStyles.progressCompletionBarInner, this.timelineRunner.getStyle(this.timelineData, "celebrationbarinner") ], L = [ f.BattleplanStyles.progressCompletionGlow, this.timelineRunner.getStyle(this.timelineData, "celebrationglow") ];
return o.createElement("surface", {
style: this.props.style
}, o.createElement(s.Text, {
style: m,
size: u.TextSize.XXL,
value: __("ID_SPARTA_BATTLEPLAN_TITLE").toUpperCase()
}), o.createElement("surface", {
style: f.BattleplanStyles.subTitleContainer
}, o.createElement(s.Text, {
style: y,
size: u.TextSize.L,
value: __("ID_SPARTA_EOR_BATTLEPLAN_IN_PROGRESS").replace("[[waveTitle]]", i)
}), o.createElement(s.Text, {
style: b,
size: u.TextSize.L,
value: __("ID_SPARTA_EOR_BATTLEPLAN_COMPLETED").replace("[[waveTitle]]", i)
})), o.createElement(k, {
timelineRunner: this.timelineRunner,
timelineData: this.timelineData,
currentStage: c
}), o.createElement("surface", {
style: w
}, o.createElement(g.ProgressBar, {
width: f.BattleplanStyles.progressBarWidth,
height: f.BattleplanStyles.progressBarHeight,
isReady: this.animateProgressBar,
sound: x,
hideCounter: !0,
hideActiveSegmentOverlay: !0,
lastCheck: this.checkIfLast,
lastSegmentCallback: this.lastSegmentCallback,
segmentIndex: 0,
startSegment: p,
segments: d
}, o.createElement("surface", {
style: P
}, o.createElement("surface", {
style: R
})), o.createElement("surface", {
style: L
})), o.createElement("surface", {
style: f.BattleplanStyles.contentClipper
}, o.createElement("surface", {
style: C
}, a, o.createElement(s.Text, {
size: u.TextSize.S,
value: " / " + _.formatNumber(c.progress.valueNeeded)
})))), o.createElement("surface", {
style: I
}, l && this.enableClaimButton ? o.createElement(T.Button, {
name: "afb6b921:406:35",
style: {
width: E.Grid.getWidth(6, !1)
},
textSize: "S",
inputLabel: __("ID_SPARTA_MISSIONS_CLAIM_REWARDS"),
text: __("ID_SPARTA_MISSIONS_CLAIM_REWARDS"),
stealFocus: this.tunguska.sparta.twinkle.focus.controllerMode,
action: this.claimRewards
}) : void 0));
}, t.contextTypes = b.TunguskaContext.contextTypes, r.__decorate([ i.observable ], t.prototype, "enableClaimButton", void 0), 
r.__decorate([ i.observable ], t.prototype, "animateProgressBar", void 0), r.__decorate([ i.action ], t.prototype, "setAnimateProgressBar", null), 
r.__decorate([ i.action ], t.prototype, "setEnableClaimButton", null), r.__decorate([ i.computed ], t.prototype, "timelineData", null), 
t = r.__decorate([ a.observer ], t);
}(o.Component), M = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tunguska = b.TunguskaContext.getFromComponent(t), t.opacityTween = d.Animation.componentTween(t, "afb6b921:430:65", 0), 
t.scaleTween = d.Animation.componentTween(t, "afb6b921:431:63", 1), t.gotoEor = function() {
t.fadeOutAndScaleContainer().then(function() {
return c.route(p.GameViewRoute.EOR);
});
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this, t = this.tunguska.stores.tunguskaEndOfRoundBattleplanStore;
this.dataTimeout = setTimeout(this.gotoEor, 5e3), this.when(function() {
return t.ready;
}, function() {
clearTimeout(e.dataTimeout), t.shouldSkipView ? (O.info("Battleplan Pre-EoR ready but should skip view (no data), continuing to normal EoR"), 
c.route(p.GameViewRoute.EOR)) : (O.info("Battleplan Pre-EoR ready, fading in container"), 
e.fadeInAndScaleContainer());
}, {
timeout: 5e3,
onError: function() {
O.info("Skipping Battleplan Pre-EoR due to data not being received within reasonable time"), 
c.route(p.GameViewRoute.EOR);
}
});
}, t.prototype.componentWillUnmount = function() {
clearTimeout(this.dataTimeout);
}, t.prototype.fadeInAndScaleContainer = function() {
this.opacityTween.to(1, f.BattleplanStyles.fadeInTweenOptions), this.scaleTween.to(1, f.BattleplanStyles.fadeInTweenOptions);
}, t.prototype.fadeOutAndScaleContainer = function() {
return Promise.all([ this.opacityTween.promiseTo(0, f.BattleplanStyles.fadeOutTweenOptions), this.scaleTween.promiseTo(.8, f.BattleplanStyles.fadeOutTweenOptions) ]);
}, t.prototype.render = function() {
var e = this.tunguska.stores.tunguskaEndOfRoundBattleplanStore, t = h.merge4(f.BattleplanStyles.container, this.opacityTween.getStyleClass("opacity"), this.scaleTween.getStyleClass("scaleX"), this.scaleTween.getStyleClass("scaleY"));
return o.createElement(l.TunguskaGameViewRoute, null, e.ready ? o.createElement(L, {
gotoEor: this.gotoEor,
style: t
}) : o.createElement(P.EmptyState, {
centerVertically: !0
}, o.createElement(R.Spinner, {
large: !0
})));
}, t.contextTypes = b.TunguskaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.BattleplanPreEor = M;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("EorStylesBattleplan"), a = function() {
function e() {}
var t;
return t = e, e.easingIn = o.value(function() {
return [ 0, .33, .33, 1 ];
}, "c3e9b98e:22:22"), e.easingOut = o.value(function() {
return [ .33, 0, 1, .33 ];
}, "c3e9b98e:23:23"), e.defaultDuration = o.value(function() {
return 44 / 60 * 1e3;
}, "c3e9b98e:24:29"), e.fadeInTweenOptions = o.value(function() {
return {
duration: t.defaultDuration,
easing: t.easingOut
};
}, "c3e9b98e:26:32"), e.fadeOutTweenOptions = o.value(function() {
return {
delay: 1e3,
duration: t.defaultDuration,
easing: t.easingOut
};
}, "c3e9b98e:31:33"), e.boxMargin = o.value(function() {
return o.Grid.spacer(1, !1);
}, "c3e9b98e:37:23"), e.boxSize = o.value(function() {
return o.Grid.getWidth(5, !1);
}, "c3e9b98e:38:21"), e.boxSizeWide = o.value(function() {
return 2 * t.boxSize + t.boxMargin;
}, "c3e9b98e:39:25"), e.progressBarWidth = o.value(function() {
return 3 * t.boxSize + 2 * t.boxMargin;
}, "c3e9b98e:40:30"), e.progressBarHeight = o.value(function() {
return o.Grid.getHeight(2, !1);
}, "c3e9b98e:41:31"), e.stageAlreadyCompletedTimeline = o.timeline(function() {
return [ o.tween(0, "boximage", "opacity", null, 1, 0, t.easingIn), o.tween(0, "boxtext", "opacity", null, 1, 0, t.easingIn), o.tween(0, "boxlockicon", "opacity", null, 0, 0, t.easingIn), o.tween(0, "progressbar", "opacity", null, 0, 0, t.easingIn), o.tween(0, "title", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "title", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(o.frames(-19), "subtitle2", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(o.frames(-19), "subtitle2", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(o.frames(-19), "text", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(o.frames(-19), "text", "translateY", 50, 0, o.frames(22), t.easingIn) ]) ]) ];
}, "c3e9b98e:43:43"), e.stageProgressToUncompletedTimeline = o.timeline(function() {
return [ o.tween(0, "title", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "title", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(o.frames(-19), "subtitle1", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(o.frames(-19), "subtitle1", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.sleep(2500), o.tween(o.frames(-19), "text", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(o.frames(-19), "text", "translateY", 50, 0, o.frames(22), t.easingIn) ]) ]) ];
}, "c3e9b98e:59:48"), e.stageProgressToCompletedTimeline = o.timeline(function() {
return [ o.tween(0, "title", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "title", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(o.frames(-19), "subtitle1", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(o.frames(-19), "subtitle1", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(2500, "celebrationbar", "width", 0, t.progressBarWidth, o.frames(22), t.easingIn, [ o.tween(0, "celebrationbarinner", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "celebrationglow", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "celebrationglow", "scaleX", 0, 1, o.frames(22), t.easingIn), o.tween(0, "subtitle1", "translateY", 0, 100, o.frames(22), t.easingOut, [ o.tween(15, "progressbar", "opacity", 1, 0, o.frames(22), t.easingOut), o.tween(15, "progressbar", "scaleY", 1, 0, o.frames(22), t.easingOut, [ o.tween(0, "claimbutton", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.trigger(0, "claimButtonVisible") ]), o.tween(0, "subtitle2", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "subtitle2", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(0, "boximage", "opacity", .5, 1, o.frames(22), t.easingIn), o.tween(0, "boxtext", "opacity", .5, 1, o.frames(22), t.easingIn), o.tween(0, "boxlockicon", "opacity", 1, 0, o.frames(22), t.easingIn), o.tween(0, "boxflare", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.sleep(8e3) ]) ]) ]) ]) ]), o.tween(o.frames(-19), "text", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(o.frames(-19), "text", "translateY", 50, 0, o.frames(22), t.easingIn) ]) ]) ];
}, "c3e9b98e:74:46"), e.stageProgressToCompletedNoClaimTimeline = o.timeline(function() {
return [ o.tween(0, "title", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "title", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(o.frames(-19), "subtitle1", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(o.frames(-19), "subtitle1", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(2500, "celebrationbar", "width", 0, t.progressBarWidth, o.frames(22), t.easingIn, [ o.tween(0, "celebrationbarinner", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "celebrationglow", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(0, "celebrationglow", "scaleX", 0, 1, o.frames(22), t.easingIn), o.tween(0, "subtitle1", "translateY", 0, 100, o.frames(22), t.easingOut, [ o.tween(15, "celebrationglow", "opacity", 1, 0, o.frames(22), t.easingOut), o.tween(15, "celebrationglow", "scaleX", 1, 0, o.frames(22), t.easingOut, [ o.tween(0, "claimbutton", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.trigger(0, "claimButtonVisible") ]), o.tween(0, "subtitle2", "translateY", 100, 0, o.frames(22), t.easingIn), o.tween(0, "subtitle2", "opacity", 0, 1, o.frames(22), t.easingIn, [ o.tween(0, "boximage", "opacity", .5, 1, o.frames(22), t.easingIn), o.tween(0, "boxtext", "opacity", .5, 1, o.frames(22), t.easingIn), o.tween(0, "boxlockicon", "opacity", 1, 0, o.frames(22), t.easingIn), o.tween(0, "boxflare", "opacity", 0, 1, o.frames(22), t.easingIn) ]) ]) ]) ]), o.tween(o.frames(-19), "text", "opacity", 0, 1, o.frames(22), t.easingIn), o.tween(o.frames(-19), "text", "translateY", 50, 0, o.frames(22), t.easingIn) ]) ]) ];
}, "c3e9b98e:120:53"), e.progressCompletionBar = i.wrap(function() {
return o.style({
zOffset: 10,
position: "absolute",
top: 0,
bottom: 0,
right: 0,
height: t.progressBarHeight,
backgroundColor: "#ffe034",
width: 0
}, "c3e9b98e:162:35");
}), e.progressCompletionBarInner = i.wrap(function() {
return o.style({
zOffset: 1,
position: "absolute",
top: 0,
bottom: 0,
right: 0,
left: 0,
backgroundColor: "#ff9900"
}, "c3e9b98e:173:40");
}), e.progressCompletionGlow = i.wrap(function() {
return o.style({
zOffset: 1,
texture: o.bbOfflineUrl("/sparta/assets/tunguska/src/gameview/sprites/testa-68d926b2.png"),
textureMode: "fill",
width: t.progressBarWidth,
height: 55,
position: "absolute",
top: o.Grid.getHeight(2, !1),
left: 0,
opacity: 0
}, "c3e9b98e:183:36");
}), e.container = i.wrap(function() {
return o.style({
alignItems: "center",
justifyContent: "center"
}, "c3e9b98e:195:23");
}), e.containerBoxes = i.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.spacer(3, !1)
}, "c3e9b98e:200:28");
}), e.titleText = i.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(2, !1),
zOffset: 1
}, "c3e9b98e:205:23");
}), e.subTitleContainer = i.wrap(function() {
return o.style({
opacity: .66,
height: o.Grid.getHeight(8, !1),
width: o.LayoutBounds.safeZone.width,
layer: !0,
layerClip: !0,
zOffset: 2
}, "c3e9b98e:210:31");
}), e.subTitleText = i.wrap(function() {
return o.style({
textAlign: "center",
position: "absolute",
textAlignForRTL: "center",
top: 0,
flex: 1,
opacity: 0
}, "c3e9b98e:219:26");
}), e.boxContainer = o.multistyle2(function(e, n) {
return o.style({
width: n ? t.boxSizeWide : t.boxSize,
height: t.boxSize,
flexDirection: "column",
justifyContent: "center",
alignItems: "center",
backgroundColor: "#000000a8",
marginRight: e ? 0 : t.boxMargin
}, "c3e9b98e:228:74");
}), e.boxFlare = i.wrap(function() {
return o.style({
textureMode: "cover",
texture: o.bbOfflineUrl("/sparta/assets/tunguska/battlepacks/flare-orange-grid-55edbcfe.png"),
width: t.boxSize,
height: t.boxSize,
opacity: 0,
position: "absolute",
top: 0,
left: 0,
zOffset: 1
}, "c3e9b98e:240:22");
}), e.boxLockIcon = i.wrap(function() {
return o.style({
opacity: 1,
position: "absolute",
top: o.Grid.spacer(1, !1),
left: o.Grid.spacer(1, !1),
width: o.Grid.getHeight(3, !1),
height: o.Grid.getHeight(3, !1),
texture: o.bbOfflineUrl("/sparta/assets/tunguska/icons/icon-lock-white-242e77e0.png"),
color: "#ffffff",
zOffset: 10
}, "c3e9b98e:252:25");
}), e.boxPremiumIcon = o.stylefunc(function() {
return o.style({
position: "absolute",
top: o.Grid.spacer(1, !1),
right: o.Grid.spacer(1, !1),
height: 21,
width: 21,
zOffset: 10,
textureMode: "contain"
}, "c3e9b98e:265:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "c3e9b98e:275:39");
}), e.boxImageBackground = o.stylefunc(function() {
return o.style({
opacity: .5,
zOffset: 2
}, "c3e9b98e:282:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture,
textureMode: e.fill ? "cover" : "contain",
width: e.fill ? t.boxSizeWide : .66 * t.boxSize,
height: e.fill ? t.boxSize : .66 * t.boxSize
}, "c3e9b98e:287:54");
}), e.boxTextContainer = i.wrap(function() {
return o.style({
alignSelf: "stretch",
alignItems: "center",
justifyContent: "center",
zOffset: 3,
position: "absolute",
paddingLeft: o.Grid.spacer(1, !1),
paddingRight: o.Grid.spacer(1, !1),
bottom: o.Grid.spacer(2, !1)
}, "c3e9b98e:296:30");
}), e.boxText = i.wrap(function() {
return o.style({
color: "#ffffff",
zOffset: 4,
alignSelf: "stretch",
textAlign: "center",
textAlignForRTL: "center",
opacity: .5
}, "c3e9b98e:307:21");
}), e.progressTextPointsContainer = i.wrap(function() {
return o.style({
width: t.progressBarWidth,
alignSelf: "center",
alignItems: "center",
justifyContent: "center",
flexDirection: "row",
marginTop: o.Grid.spacer(2, !1)
}, "c3e9b98e:316:41");
}), e.progressBar = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(6, !1),
zOffset: 10,
marginTop: o.Grid.getHeight(3, !1)
}, "c3e9b98e:325:25");
}), e.claimButton = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(6, !1),
zOffset: 10,
marginTop: o.Grid.getHeight(3, !1),
opacity: 0
}, "c3e9b98e:331:25");
}), e.contentClipper = i.wrap(function() {
return o.style({
height: 50,
layer: !0,
layerClip: !0
}, "c3e9b98e:338:28");
}), e = t = r.__decorate([ i.style ], e);
}();
t.BattleplanStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(208), i = n(629), a = n(630), s = n(631), u = n(633), l = n(634), c = n(635), p = n(637), d = n(638), f = n(236), m = n(10), h = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e, t, n = m.gameStateStoreLoader.get().currentGameViewRoute;
"playing/wwcesupport/help" === n ? (e = r.createElement(i.WwceSupportOverview, null), 
t = r.createElement(f.Title, {
text: __("ID_SPARTA_MAIN_TITLE_HELP")
})) : "playing/wwcesupport/help/articledetail" === n ? e = r.createElement(a.WwceSupportArticleDetail, null) : "playing/wwcesupport/help/categoryselection" === n ? (e = r.createElement(c.WwceSupportCategorySelection, null), 
t = r.createElement(f.Title, {
text: __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US")
})) : "playing/wwcesupport/help/channelselection" === n || "playing/wwcesupport/help/categoryselection/channelselection" === n ? (e = r.createElement(p.WwceSupportChannelSelection, null), 
t = r.createElement(f.Title, {
text: __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US")
})) : "playing/wwcesupport/help/channelselection/callback" === n || "playing/wwcesupport/help/categoryselection/channelselection/callback" === n ? (e = r.createElement(s.WwceSupportCallBack, null), 
t = r.createElement(f.Title, {
text: __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US")
})) : "playing/wwcesupport/help/channelselection/callbackconfirmation" === n || "playing/wwcesupport/help/categoryselection/channelselection/callbackconfirmation" === n ? e = r.createElement(u.WwceSupportCallBackConfirmation, null) : "playing/wwcesupport/help/channelselection/callus" === n || "playing/wwcesupport/help/categoryselection/channelselection/callus" === n ? e = r.createElement(l.WwceSupportCallUs, null) : "playing/wwcesupport/help/channelselection/callbackDeflection" !== n && "playing/wwcesupport/help/categoryselection/channelselection/callbackDeflection" !== n || (e = r.createElement(d.WwceSupportCallBackDeflection, null));
var h = {
left: null,
middle: t,
right: null
};
return r.createElement(o.TunguskaGameViewRoute, {
header: h
}, e);
}, n;
}(r.Component);
t.Help = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(272), a = function() {
function e() {
var e = this;
this.loading = !0, this.showContactUs = !1, this.articles = [], i.articleListClient.listen(function(t) {
e.populate(t);
});
}
return e.prototype.reset = function() {
this.articles = [], this.showContactUs = !1, this.loading = !0;
}, e.prototype.populate = function(e) {
this.articles = e.articleList, this.showContactUs = e.showContactUs, this.loading = !1;
}, r.__decorate([ o.observable ], e.prototype, "loading", void 0), r.__decorate([ o.observable ], e.prototype, "showContactUs", void 0), 
r.__decorate([ o.observable ], e.prototype, "articles", void 0), r.__decorate([ o.action ], e.prototype, "reset", null), 
r.__decorate([ o.action ], e.prototype, "populate", null), e;
}();
t.wwceSupportArticleState = new a();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.id = t.id || "", this.title = t.title || "", this.summary = t.summary || "", 
this.categories = t.categories || [];
};
}();
t.WwceSupportArticle = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.id = t.id || "", this.content = t.content || "", this.categories = t.categories || [], 
this.title = t.title || "", this.summary = t.summary || "";
};
}();
t.WwceSupportArticleDetail = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.message = t.message || [], this.name = t.name || "", this.rank = t.rank || "", 
this.customerValue = t.customerValue || "", this.lifeCycle = t.lifeCycle || "", 
this.waitTime = t.waitTime || "", this.waitTimeRange = t.waitTimeRange || "", this.skill = t.skill || "", 
this.notInBusinessHours = t.notInBusinessHours ? t.notInBusinessHours : "";
};
}();
t.WwceSupportChannel = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.channel = t.channel || "", this.caseNumber = t.caseNumber || "", this.waitTime = t.waitTime || "", 
this.waitTimeRange = t.waitTimeRange || "";
};
}();
t.WwceSupportCaseDetail = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(272), i = n(125), a = function(e) {
function t() {
var t = e.call(this, {}) || this;
return o.articleDetail.listen(function(e) {
t.setState(r.__assign({}, t.getState(), e));
}), i.resetArticleDetailState.listen(function() {
t.setState({});
}), t;
}
return r.__extends(t, e), t;
}(n(151).Store);
t.WwceSupportArticleDetailStore = new a();
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(6), a = n(305), s = n(14), u = n(17), l = n(5), c = n(4), p = n(103), d = n(9), f = n(84), m = n(291), h = l.StaticStyle.create({
marginTop: -o.GUTTER,
marginBottom: o.getHeight(5),
textAlignForRTL: "left"
}, "37f34211:14:19"), g = {}, y = {
"ar-sa": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ar-c5b69842.txt"),
"cs-cz": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-cs-e8558212.txt"),
"de-de": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-de-87aa792f.txt"),
"en-us": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-en-19b7fd61.txt"),
"es-es": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-es-58a02f3a.txt"),
"es-mx": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-mx-c16db0b8.txt"),
"fr-fr": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-fr-65fbf187.txt"),
"it-it": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-it-58253880.txt"),
"ja-jp": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-jp-b69421f7.txt"),
"ko-kr": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ko-45b894c8.txt"),
"pl-pl": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-pl-421c8f85.txt"),
"pt-br": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-br-f63d2687.txt"),
"ru-ru": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ru-2cc0c661.txt"),
"tr-tr": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tr-ecb70fcd.txt"),
"zh-tw": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tc-a26a741a.txt")
}, S = {
"ar-sa": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ar-d23e6be9.txt"),
"cs-cz": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-cz-10dcf052.txt"),
"de-de": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-de-5db91fe6.txt"),
"en-us": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-en-16fa45b7.txt"),
"es-es": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-es-6eeac95c.txt"),
"es-mx": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-mx-1430f8e3.txt"),
"fr-fr": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-fr-928bd643.txt"),
"it-it": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-it-0d3747ea.txt"),
"ja-jp": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ja-2f18926b.txt"),
"ko-kr": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ko-8e236800.txt"),
"pl-pl": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-pl-b99d410e.txt"),
"pt-br": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-br-8254622f.txt"),
"ru-ru": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ru-c6b56e0d.txt"),
"tr-tr": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tr-375ff060.txt"),
"zh-tw": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tc-3289d77a.txt")
}, v = {
"ar-sa": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ar-e158ccf8.txt"),
"cs-cz": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-cs-08e36f8e.txt"),
"de-de": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-de-5acd94c7.txt"),
"en-us": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-en-d41c6ce1.txt"),
"es-es": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-es-9b5b964e.txt"),
"es-mx": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-mx-239b4588.txt"),
"fr-fr": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-fr-751c0122.txt"),
"it-it": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-it-e918e658.txt"),
"ja-jp": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-jp-d0447da4.txt"),
"ko-kr": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ko-a64cd41f.txt"),
"pl-pl": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-pl-9011ec1f.txt"),
"pt-br": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-br-40bcc8f5.txt"),
"ru-ru": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ru-eeb84d61.txt"),
"tr-tr": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tr-1162c67a.txt"),
"zh-tw": s.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tc-20c38a96.txt")
}, _ = {};
d.SpartaGlobals.bundleIsPS4 ? _ = S : d.SpartaGlobals.bundleIsXBOXONE ? _ = y : d.SpartaGlobals.bundleIsPC && (_ = v);
var b = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: _
}, T = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.state = {
text: null
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.loadTextForCurrentSelected();
}, n.prototype.loadTextForCurrentSelected = function() {
var e = this, t = p.localeState.displayLocale, n = b.sources[t];
if (!n) return console.warn("Missing source for locale: " + t), void this.setState({
text: ""
});
g[n] ? this.setState({
text: g[n]
}) : m.loadAssetRequest(f.options.urlHook(n), function(r, o) {
r ? (e.setState({
text: o
}), g[n] = o) : (console.warn("Failed to fetch text for locale: " + t), e.setState({
text: ""
}));
});
}, n.prototype.render = function() {
var e = b.getTitle().toUpperCase(), t = [ r.createElement(i.Text, {
key: "title",
value: e,
size: "L",
style: h
}) ];
if (this.state.text) {
var n = a.chunkTextByLines(this.state.text), o = 0 === n.length ? 100 : 2e3 / n.length, s = n.map(function(e, t) {
return r.createElement(E, {
delay: t * o,
key: t + "_" + b.getTitle(),
text: e
});
});
t.push.apply(t, s);
}
return r.createElement("surface", null, t);
}, n = e.__decorate([ c.observer ], n);
}(r.Component);
t.PrivacyPolicyContent = T;
var E = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.timeout = -1, n.state = {
show: !1
}, n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.timeout = setTimeout(function() {
e.setState({
show: !0
});
}, this.props.delay);
}, n.prototype.componentWillUnmount = function() {
clearTimeout(this.timeout);
}, n.prototype.render = function() {
return this.state.show ? r.createElement(i.Text, {
value: this.props.text,
size: "S",
style: u.CommonStyles.leftAlignTextRTL
}) : r.createElement(i.Text, {
value: "",
size: "S"
});
}, n;
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(151), i = n(272), a = n(125), s = function(e) {
function t() {
var t = e.call(this, {}) || this;
return i.createCaseClient.listen(function(e) {
t.setState(r.__assign({}, t.getState(), e));
}), a.resetCaseDetailState.listen(function() {
t.setState({});
}), t;
}
return r.__extends(t, e), t;
}(o.Store);
t.WwceSupportCaseStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.getQSParam = function r(e, t) {
e = e.replace(/[\[\]]/g, "\\$&");
var n = new RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)").exec(t);
if (n && n[2]) return n[2].replace(/\+/g, " ");
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaBattlepackImage"), a = function() {
function e() {}
return e.container = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
alignItems: "center",
justifyContent: "center"
}, "09aa3e6f:7:34");
}), e.itemTexture = o.stylefunc(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
textureMode: "contain",
zOffset: 4
}, "09aa3e6f:20:14");
}, function(e) {
return o.dynamicStyle({
texture: e.image,
grayScale: e.dimmed ? 1 : 0,
opacity: e.dimmed ? .66 : 1,
color: e.color
}, "09aa3e6f:30:71");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaBattlepackImage = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(14);
t.puzzlePieceTextures = {
small: r.bbUrl("/sparta/jsclient/builds/assets/icon-puzzle-white-e253d349.png"),
large: r.bbUrl("/sparta/jsclient/builds/assets/icon-puzzle-white-xxl-9043caa9-be6e2119.png")
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaBattlepackStyles"), a = function() {
function e() {}
var t;
return t = e, e.boxHeight = o.value(function() {
return o.Grid.getHeight(7);
}, "67b4c3b0:7:23"), e.titleHeight = o.value(function() {
return o.Constants.LINE_HEIGHTS.S + 9;
}, "67b4c3b0:8:25"), e.box = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(8),
height: t.boxHeight,
flexDirection: "row",
alignItems: "center"
}, "67b4c3b0:10:28");
}), e.image = o.wrap(function() {
return o.style({
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
zOffset: 2,
width: o.Grid.getWidth(2),
height: o.Grid.getHeight(6),
marginLeft: 2 * o.Grid.GUTTER,
marginRight: o.Grid.GUTTER,
position: "relative"
}, "67b4c3b0:19:30");
}), e.flareWrapper = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(8),
height: o.Grid.getHeight(7),
position: "absolute",
top: 0,
left: -o.Grid.getWidth(1) / 2,
zOffset: 1
}, "67b4c3b0:32:37");
}), e.info = o.wrap(function() {
return o.style({
marginLeft: o.Grid.GUTTER,
marginRight: o.Grid.GUTTER,
width: o.Grid.getWidth(5.5)
}, "67b4c3b0:43:29");
}), e.itemName = o.wrap(function() {
return o.style({
textAlignForRTL: "left"
}, "67b4c3b0:51:33");
}), e.parentName = o.wrap(function() {
return o.style({
textAlignForRTL: "left",
opacity: .75
}, "67b4c3b0:57:35");
}), e.item = o.wrap(function() {
return o.style({
marginBottom: 3
}, "67b4c3b0:64:29");
}), e.nugget = o.wrap(function() {
return o.style({
marginTop: 3
}, "67b4c3b0:70:31");
}), e.title = o.wrap(function() {
return o.style({
marginTop: 9,
width: o.Grid.getWidth(8),
textAlignForRTL: "left"
}, "67b4c3b0:76:30");
}), e = t = r.__decorate([ i.style ], e);
}();
t.PotentialItemsStyle = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(23), s = n(25), u = n(8), l = n(15), c = n(264), p = n(10), d = n(74), f = n(207), m = n(643), h = n(1361), g = n(1362), y = n(1363), S = n(105), v = n(31), _ = n(82), b = n(234), T = n(81), E = n(29), C = n(126), I = n(71), A = n(65), w = function(e) {
var t = e.children, n = e.style;
return r.createElement("surface", {
style: [ {
flex: 1,
zOffset: A.OffsetStyles.popups
}, n ]
}, t);
}, P = function(t) {
function n(e) {
var n = t.call(this, e) || this;
n.isVideoEnabled = _.tunguskaFeatureFlags.ingameBattlepackVideos.isEnabled() || p.gameStateStoreLoader.get().currentGameViewRoute === d.GameViewRoute.NONE, 
n.texturePreloader = I.textureHandler.createPreloader(n), n.tweenOpacity = l.Animation.componentTween(n, "c18a0dd6:48:50", 1), 
n.hasVideoPlayed = !1, n.videoWasSkipped = !1, n.currentItem = 0, n.onVideoComplete = o.action(function(e) {
n.hasVideoPlayed = !0, n.videoWasSkipped = e;
}), n.onItemAnimationComplete = function() {
n.tweens.scrapsOpacity && !n.tweens.scrapsOpacity.isDestroyed() && n.tweens.scrapsOpacity.to(1, {
duration: 700
});
}, n.gotoNextItem = o.action(function() {
var e = n.pack;
e && (e.items.length === n.currentItem + 1 ? n.closePopup() : n.currentItem++);
}), n.closePopup = function() {
s.close("battlepackPopup");
}, n.tweens = {
scrapsOpacity: l.Animation.tween("c18a0dd6:59:44", 0)
};
var r = T.openBattlepack.request({
game: v.tunguskaGameId,
withVoucher: n.props.packKey
});
return r.onSuccess(function(e) {
e ? n.tweenOpacity.promiseTo(0).then(function() {
return n.setPack(new b.Battlepack(e));
}).then(function() {
return n.tweenOpacity.promiseTo(1, {
duration: 1e3
});
}) : n.closePopup();
}), r.onError(function() {
n.closePopup();
}), n.when(function() {
return void 0 !== n.pack;
}, function() {
var e = [], t = n.pack;
t && t.items.forEach(function(t) {
var r = t.rarenessLevel && t.rarenessLevel.value || 0;
t.images.Png1024xANY && n.texturePreloader.preload(t.images.Png1024xANY, void 0), 
-1 === e.indexOf(r) && (e.push(r), n.texturePreloader.preload(C.flare[r], void 0), 
n.texturePreloader.preload(C.sideFlare[r], void 0), n.texturePreloader.preload(C.bottomGlow[r], void 0));
});
}), n;
}
return e.__extends(n, t), n.prototype.componentDidUpdate = function() {
p.onlineState.isOnlineBlazeAndGateway || this.closePopup();
}, n.prototype.componentWillUnmount = function() {
var e = this;
Object.keys(this.tweens).forEach(function(t) {
e.tweens[t].destroy();
});
}, n.prototype.setPack = function(e) {
this.pack = e;
}, n.prototype.renderOpenedItem = function(e) {
return this.pack ? r.createElement(m.TunguskaBattlepackOpenedItem, {
index: this.currentItem,
totalAmount: this.pack.items.filter(function(e) {
return !e.nugget;
}).length,
key: "item",
item: e,
onDone: this.onItemAnimationComplete,
skipAnimation: this.videoWasSkipped,
continueCallback: this.gotoNextItem
}) : null;
}, n.prototype.renderOpenedNugget = function(e) {
return r.createElement(h.TunguskaBattlepackOpenedNugget, {
key: "nugget",
item: e,
skipAnimation: this.videoWasSkipped,
continueCallback: this.gotoNextItem
});
}, n.prototype.render = function() {
var e = this.pack, t = f.tunguskaBattlepackSummaryStore.get(v.tunguskaGameId).value;
if (!e) return r.createElement(w, {
style: this.tweenOpacity.getStyleClass("opacity")
}, r.createElement(E.CenteredSpinner, {
large: !0,
wait: 2500
}));
var n, o = [ "GUARANTEED", "POTENTIAL", "POSSIBLE" ], i = e.items.slice().sort(function(e, t) {
var n = o.indexOf(e.probability) - o.indexOf(t.probability);
return 0 !== n ? n : (e.rarenessLevel ? e.rarenessLevel.value : 0) - (t.rarenessLevel ? t.rarenessLevel.value : 0);
})[this.currentItem];
this.hasVideoPlayed && (n = i.nugget ? this.renderOpenedNugget(i) : this.renderOpenedItem(i));
var s = {
zOffset: 1e3,
position: "absolute",
top: a.dangerZoneSize.height + u.getHeight(8),
right: a.dangerZoneSize.width + u.getWidth(2),
opacity: this.tweens.scrapsOpacity.getStyle()
}, l = t && t.scraps || 0;
return !this.isVideoEnabled || _.tunguskaFeatureFlags.disableBattlepackVideos.isEnabled() ? r.createElement(w, {
style: this.tweenOpacity.getStyleClass("opacity")
}, r.createElement(y.TunguskaBattlepackFrames, {
pack: e,
onVideoComplete: this.onVideoComplete
}, n)) : r.createElement(w, {
style: this.tweenOpacity.getStyleClass("opacity")
}, r.createElement(g.TunguskaBattlepackVideo, {
pack: e,
onVideoComplete: this.onVideoComplete
}, n, r.createElement(c.PopupContainer, null, r.createElement("surface", {
style: s
}, r.createElement(S.TunguskaBattlepackScraps, {
prefix: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase(),
value: l,
size: "S",
animated: !0
})))));
}, e.__decorate([ o.observable ], n.prototype, "hasVideoPlayed", void 0), e.__decorate([ o.observable ], n.prototype, "videoWasSkipped", void 0), 
e.__decorate([ o.observable ], n.prototype, "currentItem", void 0), e.__decorate([ o.observable ], n.prototype, "pack", void 0), 
e.__decorate([ o.action ], n.prototype, "setPack", null), n = e.__decorate([ i.observer ], n);
}(r.Component);
t.BattlepackViewOpened = P;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(28), a = n(6), s = n(29), u = n(8), l = n(15), c = n(81), p = n(25), d = n(51), f = n(451), m = n(105), h = n(47), g = n(27), y = {
btn: {
flex: 1,
marginTop: u.GUTTER
},
dock: {
justifyContent: "center",
alignItems: "center",
position: "absolute",
top: 0,
right: 0,
left: 0,
bottom: 0
},
actions: {
width: u.getWidth(6)
},
prompt: {
alignItems: "center"
},
scraps: {
margin: [ u.GUTTER, u.GUTTER, u.GUTTER, u.GUTTER ]
}
}, S = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.tweens = {
promptOpacity: l.Animation.tween("9b506785:74:40", 1),
opacity: l.Animation.tween("9b506785:75:34", 1),
scale: l.Animation.tween("9b506785:76:32", 1),
translateX: l.Animation.tween("9b506785:77:37", 0),
translateY: l.Animation.tween("9b506785:78:37", 0)
}, n.onOkClick = function() {
n.scrapItem();
}, n.onCancelClick = function() {
n.props.onCancel && n.props.onCancel(), n.closePopup();
}, n.state = {
isScrapping: !1,
isScrapped: !1
}, n;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.props.noConfirmation && this.scrapItem();
}, n.prototype.componentWillUnmount = function() {
var e = this;
Object.keys(this.tweens).forEach(function(t) {
return e.tweens[t].destroy();
});
}, n.prototype.onSuccess = function() {
this.props.onSuccess && this.props.onSuccess(), this.closePopup();
}, n.prototype.onScrapped = function() {
var e = this;
this.setState({
isScrapped: !0
});
var t = {
delay: 500,
duration: 500,
easing: g.Easing.CubicInOut
}, n = {
delay: 700,
duration: 800,
easing: g.Easing.CubicInOut
};
this.tweens.promptOpacity.to(0, t), this.tweens.opacity.to(0, n), this.tweens.scale.to(.6, n), 
this.tweens.translateX.to(500, n), this.tweens.translateY.to(-400, n, function() {
return e.onSuccess();
});
}, n.prototype.onError = function(e) {
this.props.onError && this.props.onError(e), this.closePopup();
}, n.prototype.scrapItem = function() {
var e = this;
this.setState({
isScrapping: !0
});
var t = c.scrap.listen(function(n, r) {
if (t(), n) return h.PopupManager.standardAlert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_ITEM_ERROR", !0), void 0, void 0, {
priority: 1,
stackable: !0
}), void e.onError(n);
e.onScrapped();
});
d.scrapItem(this.props.item);
}, n.prototype.closePopup = function() {
var e = this.props.popupInfo ? this.props.popupInfo.id : "";
p.close(e);
}, n.prototype.renderScrapped = function() {
var t = this.props.item, n = e.__assign({}, y.prompt, {
opacity: this.tweens.promptOpacity.getStyle()
}), o = e.__assign({}, y.scraps, {
opacity: this.tweens.opacity.getStyle(),
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle(),
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
}), i = t.scrapValue || 0;
return r.createElement("surface", {
style: y.dock
}, r.createElement("surface", {
style: n
}, r.createElement(a.Text, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS_RECEIVED"),
size: "M"
})), r.createElement("surface", {
style: o
}, r.createElement(m.TunguskaBattlepackScraps, {
value: i,
size: "M"
})));
}, n.prototype.renderScrapping = function() {
return r.createElement("surface", {
style: y.dock
}, r.createElement(s.Spinner, null));
}, n.prototype.renderPrompt = function() {
return r.createElement("surface", null, r.createElement(f.TunguskaBattlepackSingleItem, {
item: this.props.item
}), r.createElement("surface", {
style: y.prompt
}, r.createElement(a.Text, {
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_CONFIRM"),
size: "M"
})), r.createElement("surface", {
style: y.actions
}, r.createElement(i.Button, {
name: "9b506785:221:31",
text: __("ID_SPARTA_ACTION_YES"),
action: this.onOkClick,
style: y.btn
}), r.createElement(i.Button, {
name: "9b506785:227:31",
text: __("ID_SPARTA_ACTION_NO"),
action: this.onCancelClick,
style: y.btn
})));
}, n.prototype.render = function() {
return this.state.isScrapped ? this.renderScrapped() : this.state.isScrapping ? this.renderScrapping() : this.renderPrompt();
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.BattlepackItemScrapView = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ScrapValueButtonStyles"), a = function() {
function e() {}
return e.container = o.wrap(function() {
return o.style({
flexDirection: "row"
}, "7cbc1cd9:7:34");
}), e = r.__decorate([ i.style ], e);
}();
t.ScrapValueButtonStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(23), i = n(8), a = n(6), s = n(28), u = n(15), l = n(126), c = n(331), p = n(4), d = n(94), f = n(264), m = n(209), h = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, g = n(17), y = n(104), S = n(27), v = n(5), _ = {
duration: 500,
delay: 300
}, b = {
move: {
duration: 500,
delay: 500
},
moveUp: {
duration: 500
}
}, T = {
scale: {
duration: 300,
delay: 300
}
}, E = {
opacity: {
duration: 700
}
}, C = v.StaticStyle.create({
marginTop: 2 * i.GUTTER,
height: i.getHeight(6),
width: i.getWidth(8)
}, "4a2c170d:594:28"), I = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.continue = function() {
n.setState({
isInputEnabled: !1
}), n.props.continueCallback && "function" == typeof n.props.continueCallback && n.props.continueCallback();
}, n.state = {
isInputEnabled: !1
}, n.tweens = {
opacity: u.Animation.tween("4a2c170d:84:38", 0),
scale: u.Animation.tween("4a2c170d:85:36", 0),
translateX: u.Animation.tween("4a2c170d:86:41", 0),
translateY: u.Animation.tween("4a2c170d:87:41", 0),
flareWidth: u.Animation.tween("4a2c170d:90:41", l.flare.width),
flareHeight: u.Animation.tween("4a2c170d:91:42", l.flare.height),
flareRotate: u.Animation.tween("4a2c170d:92:42", 0),
flareScaleX: u.Animation.tween("4a2c170d:93:42", 1),
flareScaleY: u.Animation.tween("4a2c170d:94:42", 0),
flareOpacity: u.Animation.tween("4a2c170d:95:43", 0),
flareTranslateX: u.Animation.tween("4a2c170d:96:46", 0),
flareTranslateY: u.Animation.tween("4a2c170d:97:46", 0),
flash1TranslateX: u.Animation.tween("4a2c170d:100:47", 0),
flash1TranslateY: u.Animation.tween("4a2c170d:101:47", 0),
flash1Opacity: u.Animation.tween("4a2c170d:102:44", 0),
flash2TranslateX: u.Animation.tween("4a2c170d:103:47", 0),
flash2TranslateY: u.Animation.tween("4a2c170d:104:47", 0),
flash2Opacity: u.Animation.tween("4a2c170d:105:44", 0),
glowOpacity: u.Animation.tween("4a2c170d:108:42", 0),
itemNameTranslateY: u.Animation.tween("4a2c170d:111:49", 0),
itemNameOpacity: u.Animation.tween("4a2c170d:112:46", 0),
rarityNameOpacity: u.Animation.tween("4a2c170d:113:48", 0),
rarityTranslateY: u.Animation.tween("4a2c170d:114:47", 0),
buttonScale: u.Animation.tween("4a2c170d:117:42", 0),
buttonOpacity: u.Animation.tween("4a2c170d:118:44", 0)
}, n;
}
return e.__extends(n, t), n.prototype.componentWillUpdate = function(e, t) {
e.item.key !== this.props.item.key && this.setState({
isInputEnabled: !0
});
}, n.prototype.componentDidMount = function() {
this.startAnimations();
}, n.prototype.componentWillUnmount = function() {
var e = this;
Object.keys(this.tweens).forEach(function(t) {
e.tweens[t].destroy();
});
}, n.prototype.getHighestResolutionImage = function(e) {
return e.Png1024xANY ? e.Png1024xANY : e.Png300xANY ? e.Png300xANY : e.Png180xANY ? e.Png180xANY : void 0;
}, n.prototype.startAnimations = function() {
var e = this;
this.props.skipAnimation ? this.playSound().then(function() {
return e.skipAnimation();
}) : this.playSound().then(function() {
return e.step1();
}).then(function() {
return e.step2();
}).then(function() {
return e.step3();
}).then(function() {
return e.step4();
});
}, n.prototype.playSound = function() {
var e = this, t = l.openingAudio.NUGGET;
return new Promise(function(n) {
e.sound = y.Sound.load(t), e.sound && e.sound.play(), setTimeout(function() {
return n();
}, 100);
});
}, n.prototype.stopSound = function() {
this.sound && this.sound.stop();
}, n.prototype.step1 = function() {
var e = o.screen.height / 2 - 128, t = {
duration: 250,
easing: S.Easing.Linear
}, n = {
duration: t.duration,
delay: t.duration,
easing: S.Easing.Linear
}, r = {
duration: t.duration / 2,
delay: t.duration / 2,
easing: S.Easing.Linear
}, i = {
duration: r.duration,
delay: r.delay + r.duration,
easing: S.Easing.Linear
}, a = {
duration: t.duration + n.duration,
easing: S.Easing.Linear
}, s = {
duration: r.duration + i.duration,
delay: r.delay,
easing: S.Easing.Linear
}, u = {
duration: _.duration,
delay: 200,
easing: S.Easing.CubicOut
}, c = 0 - 300 * (4 * l.flare.width / (4 * l.flare.height));
return this.tweens.flash1Opacity.to(.5, t), this.tweens.flash1Opacity.to(0, n), 
this.tweens.flash1TranslateX.set(c), this.tweens.flash1TranslateX.to(0, a), this.tweens.flash1TranslateY.set(-350), 
this.tweens.flash1TranslateY.to(-50, a), this.tweens.flash2Opacity.to(.5, r), this.tweens.flash2Opacity.to(0, i), 
this.tweens.flash2TranslateX.set(c + 600), this.tweens.flash2TranslateX.to(600, s), 
this.tweens.flash2TranslateY.set(-350), this.tweens.translateY.set(e), this.tweens.opacity.to(1, u), 
this.tweens.scale.to(.75, u), this.tweens.flash2TranslateY.promiseTo(-50, s);
}, n.prototype.step2 = function() {
var e = {
duration: b.move.duration,
easing: S.Easing.CubicInOut
}, t = {
duration: T.scale.duration,
easing: S.Easing.QuadraticInOut
};
return Promise.all([ this.tweens.glowOpacity.promiseTo(1, t), this.tweens.scale.promiseTo(1, e) ]);
}, n.prototype.step3 = function() {
var e = {
duration: 800,
easing: S.Easing.Linear
}, t = {
duration: 250,
easing: S.Easing.Linear
}, n = {
duration: t.duration,
delay: t.duration,
easing: S.Easing.Linear
}, r = {
duration: t.duration / 2,
delay: t.duration / 2,
easing: S.Easing.Linear
}, o = {
duration: r.duration,
delay: r.delay + r.duration,
easing: S.Easing.Linear
}, i = {
duration: t.duration + n.duration,
easing: S.Easing.Linear
}, a = {
duration: r.duration + o.duration,
delay: r.delay,
easing: S.Easing.Linear
}, s = 300 - 300 * (4 * l.flare.width / (4 * l.flare.height));
return this.tweens.flash1Opacity.to(.5, t), this.tweens.flash1Opacity.to(0, n), 
this.tweens.flash1TranslateX.set(s), this.tweens.flash1TranslateX.to(300, i), this.tweens.flash1TranslateY.set(-350), 
this.tweens.flash1TranslateY.to(-50, i), this.tweens.flash2Opacity.to(.5, r), this.tweens.flash2Opacity.to(0, o), 
this.tweens.flash2TranslateX.set(s + 600), this.tweens.flash2TranslateX.to(900, a), 
this.tweens.flash2TranslateY.set(-350), this.tweens.flash2TranslateY.to(-50, a), 
this.tweens.scale.promiseTo(1.1, e);
}, n.prototype.step4 = function() {
var e = this, t = {
duration: b.moveUp.duration
}, n = {
duration: E.opacity.duration
}, r = {
duration: b.move.duration,
delay: 200
}, a = {
duration: b.move.duration,
delay: r.delay + r.duration
}, s = {
duration: 700,
easing: S.Easing.CubicOut,
delay: a.delay + 240
}, u = o.screen.height / 2 - 128;
return new Promise(function(o) {
e.tweens.translateY.to(250, t), e.tweens.scale.to(.75, t), e.tweens.itemNameTranslateY.set(u), 
e.tweens.buttonScale.to(1, r), e.tweens.buttonOpacity.to(1, r, function() {
return e.setState({
isInputEnabled: !0
});
}), e.tweens.itemNameOpacity.to(1, n), e.tweens.itemNameTranslateY.to(250, n), e.tweens.rarityTranslateY.set(i.getHeight(3)), 
e.tweens.rarityTranslateY.to(i.getHeight(2), a), e.tweens.rarityNameOpacity.to(1, a);
var c = l.flare.width, p = l.flare.height, d = -p / 2 + 120, f = 120 - p, m = 0 - (d - f) * (c / p);
return e.tweens.flareRotate.set(-20), e.tweens.flareOpacity.set(0), e.tweens.flareScaleX.set(1), 
e.tweens.flareScaleY.set(1), e.tweens.flareTranslateY.set(f), e.tweens.flareTranslateX.set(m), 
e.tweens.flareTranslateX.to(0, s), e.tweens.flareTranslateY.to(d, s), e.tweens.flareOpacity.promiseTo(1, s);
});
}, n.prototype.skipAnimation = function() {
var e = this, t = o.screen.height / 2 - 128, n = {
duration: _.duration,
delay: 200,
easing: S.Easing.CubicOut
}, r = {
duration: 700,
easing: S.Easing.CubicOut,
delay: 240
};
return new Promise(function(o) {
e.tweens.opacity.to(1, n), e.tweens.translateY.set(250), e.tweens.scale.set(.75), 
e.tweens.itemNameTranslateY.set(t), e.tweens.buttonScale.set(1), e.tweens.buttonOpacity.set(1), 
e.tweens.itemNameOpacity.set(1), e.tweens.itemNameTranslateY.set(250), e.tweens.rarityTranslateY.set(i.getHeight(2)), 
e.tweens.rarityNameOpacity.set(1);
var a = l.flare.width, s = l.flare.height, u = -s / 2 + 120, c = 120 - s, p = 0 - (u - c) * (a / s);
return e.tweens.flareRotate.set(-20), e.tweens.flareOpacity.set(0), e.tweens.flareScaleX.set(1), 
e.tweens.flareScaleY.set(1), e.tweens.flareTranslateY.set(c), e.tweens.flareTranslateX.set(p), 
e.setState({
isInputEnabled: !0
}), e.tweens.flareTranslateX.to(0, r), e.tweens.flareTranslateY.to(u, r), e.tweens.flareOpacity.promiseTo(1, r);
});
}, n.prototype.render = function() {
var t = this.props.item;
if (!t) return r.createElement("surface", null);
var n = t.rarenessLevel && t.rarenessLevel.value || 0, o = l.getName(n).toUpperCase(), u = (this.getHighestResolutionImage(t.images), 
t.parentName && t.parentName !== t.name ? t.parentName : void 0), p = t.name, y = {
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
zOffset: 1e3,
opacity: this.tweens.opacity.getStyle(),
translateX: this.tweens.translateX.getStyle(),
translateY: this.tweens.translateY.getStyle()
}, S = {
position: "relative",
width: 1024,
height: 256,
textureAtlas: "SINGLE_TEXTURE",
textureMode: "contain",
scaleX: this.tweens.scale.getStyle(),
scaleY: this.tweens.scale.getStyle()
}, _ = {
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
width: this.tweens.flareWidth.getStyle()
}, b = {
texture: l.flare[n],
textureAtlas: "SINGLE_TEXTURE",
zOffset: 1100,
enableMouseEvents: !1,
rotateZ: this.tweens.flareRotate.getStyle(),
blendMode: "screen",
width: this.tweens.flareWidth.getStyle(),
height: this.tweens.flareHeight.getStyle(),
position: "absolute",
top: 0,
left: 0,
translateX: this.tweens.flareTranslateX.getStyle(),
translateY: this.tweens.flareTranslateY.getStyle(),
scaleX: this.tweens.flareScaleX.getStyle(),
scaleY: this.tweens.flareScaleY.getStyle(),
opacity: this.tweens.flareOpacity.getStyle()
}, T = {
texture: l.bottomGlow[n],
width: l.bottomGlow.width,
height: l.bottomGlow.height,
opacity: this.tweens.glowOpacity.getStyle(),
blendMode: "screen",
zOffset: 10,
enableMouseEvents: !1,
position: "absolute",
left: 0,
top: 0,
translateX: d.uiState.window.width / 2 - l.bottomGlow.width / 2,
translateY: d.uiState.window.height - l.bottomGlow.height
}, E = {
zOffset: 999,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
translateY: this.tweens.itemNameTranslateY.getStyle(),
opacity: this.tweens.itemNameOpacity.getStyle()
}, I = {
zOffset: 999,
marginBottom: i.getHeight(3),
translateY: this.tweens.rarityTranslateY.getStyle(),
opacity: this.tweens.rarityNameOpacity.getStyle(),
color: l.rgb[n]
}, A = {
zOffset: 1e3,
flexDirection: "column",
justifyContent: "center",
alignSelf: "center",
alignItems: "center",
scaleY: this.tweens.buttonScale.getStyle(),
scaleX: this.tweens.buttonScale.getStyle(),
opacity: this.tweens.buttonOpacity.getStyle()
}, w = C, P = e.__assign({
width: d.uiState.window.width,
height: d.uiState.window.height
}, h), R = e.__assign({
texture: l.flare[n],
width: l.flare.width,
height: l.flare.height,
rotateZ: -20,
blendMode: "screen",
enableMouseEvents: !1
}, h), O = e.__assign({}, R, {
zOffset: 1600,
scaleX: 4,
scaleY: 4,
translateX: this.tweens.flash1TranslateX.getStyle(),
translateY: this.tweens.flash1TranslateY.getStyle(),
opacity: this.tweens.flash1Opacity.getStyle()
}), x = e.__assign({}, R, {
zOffset: 1601,
scaleX: 4.5,
scaleY: 4.5,
translateX: this.tweens.flash2TranslateX.getStyle(),
translateY: this.tweens.flash2TranslateY.getStyle(),
opacity: this.tweens.flash2Opacity.getStyle()
}), k = __("ID_SPARTA_ACTION_BATTLEPACKS_ADD_TO_INVENTORY");
return "BLUEPRINT" === t.itemType && (k = __("ID_SPARTA_ACTION_BATTLEPACKS_ADD_TO_PUZZLES")), 
r.createElement("surface", {
style: P
}, r.createElement("surface", {
style: O
}), r.createElement("surface", {
style: x
}), r.createElement(f.PopupContainer, {
style: g.CommonStyles.justifyContentFlexStart
}, r.createElement("surface", {
style: _
}, r.createElement("surface", {
style: b
})), r.createElement("surface", {
style: y
}, r.createElement(m.BattlepackImage, {
item: t,
size: "XXL",
style: v.DynamicStyle.create(S, "4a2c170d:653:72")
})), r.createElement("surface", {
style: E
}, r.createElement(a.Text, {
value: u,
size: "M"
}), r.createElement(a.Text, {
value: p,
size: "L"
}), r.createElement(a.Text, {
value: o,
style: I,
size: "M"
}), r.createElement("surface", {
style: A
}, r.createElement(s.Button, {
name: "4a2c170d:662:39",
stealFocus: !0,
text: k,
style: w,
action: this.continue,
disabled: !this.state.isInputEnabled
}), r.createElement(c.BattlepackItemScrapButton, {
item: t,
style: w,
onSuccess: this.continue,
disabled: !this.state.isInputEnabled
})))), r.createElement("surface", {
style: T
}));
}, n = e.__decorate([ p.observer ], n);
}(r.Component);
t.TunguskaBattlepackOpenedNugget = I;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(23), s = n(8), u = n(28), l = n(15), c = n(94), p = n(126), d = n(26), f = n(11), m = n(12), h = n(10), g = n(9), y = n(7), S = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, v = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = y.SpartaContext.getFromComponent(r), r.videoOpacityTween = l.Animation.tween("680e9167:41:49", 0), 
r.skipVideo = function() {
return r.stopVideo(!0);
}, r.state = {
video: null,
videoHasStarted: !1,
videoHasCompleted: !1
}, r;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.loadVideo();
}, n.prototype.componentDidMount = function() {
this.playVideo(), this.fadeInVideo();
}, n.prototype.componentWillUnmount = function() {
this.videoOpacityTween.destroy(), this.stopVideo();
}, n.prototype.getInput = function() {
if (this.state.videoHasStarted && !this.state.videoHasCompleted && this.sparta.twinkle.focus.controllerMode) return new m.Input({
action: this.skipVideo,
label: __("ID_SPARTA_ACTION_BATTLEPACKS_SKIP_VIDEO"),
key: f.Keys.Accept
});
}, Object.defineProperty(n.prototype, "skipButtonInLoadingState", {
get: function() {
var e = h.gameStateStoreLoader.gameStateStore;
return !!e && e.isGameViewVisible;
},
enumerable: !0,
configurable: !0
}), n.prototype.loadVideo = function() {
var e = this.props.pack, t = (e.items || []).find(function(e) {
return !e.nugget;
}), n = e.rarenessLevel && e.rarenessLevel.value || 0, r = Math.min(t && t.rarenessLevel && t.rarenessLevel.value || 0, p.videos[n].length - 1), o = p.videos[n][r], i = this.sparta.twinkle.video.loadVideo(o);
i.loop = !1, i.setVolume(1), this.setState({
video: i
});
}, n.prototype.playVideo = function() {
var e = this, t = this.state.video;
this._failTimeout = setTimeout(function() {
e.stopVideo();
}, 1e4), t && !t.isPlaying && (setTimeout(function() {
t.play(), e.setState({
videoHasStarted: !0
});
}, 400), this.unsubVideo = this.sparta.twinkle.events.onVideoStopped.listen(function(n) {
n === t.id && e.videoHasCompleted();
}));
}, n.prototype.videoHasCompleted = function(e) {
void 0 === e && (e = !1), clearTimeout(this._failTimeout), this.setState({
videoHasCompleted: !0
}), this.props.onVideoComplete(e), this.videoHasCompleted = function() {};
}, n.prototype.stopVideo = function(e) {
void 0 === e && (e = !1), this.unsubVideo && this.unsubVideo(), this.state.video && this.state.video.stop(), 
this.videoHasCompleted(e);
}, n.prototype.fadeInVideo = function() {
return this.videoOpacityTween.set(.4), this.videoOpacityTween.to(1, {
duration: 200,
delay: 400
});
}, n.prototype.render = function() {
var t, n = e.__assign({
zOffset: 7,
opacity: this.videoOpacityTween.getStyle(),
width: c.uiState.window.width,
height: c.uiState.window.height,
texture: p.backgroundEnd,
video: this.state.video ? this.state.video.id : void 0
}, S), o = e.__assign({
zOffset: 1,
backgroundColor: "#000000",
opacity: 1,
layer: !0,
layerGrabBackground: !0
}, S), i = this.state.videoHasStarted && !this.state.videoHasCompleted, l = g.SpartaGlobals.bundleIsPC;
if (i && (this.skipButtonInLoadingState || l)) {
var d = {
zOffset: 10,
height: s.getHeight(4),
width: s.getWidth(3),
left: a.dangerZoneSize.width,
top: c.uiState.window.height - a.dangerZoneSize.height - s.getHeight(6)
};
t = r.createElement(u.Button, {
name: "680e9167:192:27",
action: this.skipVideo,
text: __("ID_SPARTA_ACTION_BATTLEPACKS_SKIP_VIDEO"),
textSize: "XS",
stealFocus: !0,
style: d
});
}
return r.createElement("surface", {
style: o
}, r.createElement("surface", {
style: n
}), t, this.props.children);
}, n.contextTypes = y.SpartaContext.contextTypes, e.__decorate([ o.computed ], n.prototype, "skipButtonInLoadingState", null), 
n = e.__decorate([ d.input, i.observer ], n);
}(r.Component);
t.TunguskaBattlepackVideo = v;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(15), s = n(94), u = n(126), l = n(28), c = n(10), p = n(8), d = n(23), f = n(71), m = n(104), h = n(27), g = n(26), y = n(7), S = n(11), v = n(12), _ = n(9), b = {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
}, T = {
in: {
duration: 300,
delay: 80
},
out: {
duration: 1,
delay: 1
}
}, E = {
0: {
0: {
in: {
duration: 200
},
out: {
duration: 300
}
},
1: {
in: {
duration: 200,
delay: 100
},
out: {
duration: 250
}
},
2: {
in: {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 300
}
},
3: T
},
1: {
0: {
in: {
duration: 200
},
out: {
duration: 300
}
},
1: {
in: {
duration: 300,
delay: 100
},
out: {
duration: 300
}
},
2: {
in: {
duration: 450,
delay: 100
},
out: {
duration: 450
}
},
3: {
in: {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 300
}
},
4: T
},
2: {
0: {
in: {
duration: 250
},
out: {
duration: 400
}
},
1: {
in: {
duration: 250,
delay: 100
},
out: {
duration: 250
}
},
2: {
in: {
duration: 350,
delay: 100
},
out: {
duration: 350
}
},
3: {
in: {
duration: 500,
delay: 100
},
out: {
duration: 500
}
},
4: {
in: {
duration: 500,
delay: 100
},
out: {
duration: 500,
delay: 300
}
},
5: T
}
}, C = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.sparta = y.SpartaContext.getFromComponent(r), r.tweens = {
flash1TranslateX: a.Animation.tween("a7a057a8:138:43", 0),
flash1TranslateY: a.Animation.tween("a7a057a8:139:43", 0),
flash1Opacity: a.Animation.tween("a7a057a8:140:40", 0),
flash2TranslateX: a.Animation.tween("a7a057a8:141:43", 0),
flash2TranslateY: a.Animation.tween("a7a057a8:142:43", 0),
flash2Opacity: a.Animation.tween("a7a057a8:143:40", 0)
}, r.frameOpacity = [ a.Animation.tween("a7a057a8:147:25", 0), a.Animation.tween("a7a057a8:148:25", 0), a.Animation.tween("a7a057a8:149:25", 0), a.Animation.tween("a7a057a8:150:25", 0), a.Animation.tween("a7a057a8:151:25", 0), a.Animation.tween("a7a057a8:152:25", 0) ], 
r.frameScale = [ a.Animation.tween("a7a057a8:156:25", 1), a.Animation.tween("a7a057a8:157:25", 1), a.Animation.tween("a7a057a8:158:25", 1), a.Animation.tween("a7a057a8:159:25", 1), a.Animation.tween("a7a057a8:160:25", 1), a.Animation.tween("a7a057a8:161:25", 1) ], 
r.skipVideo = function() {
r.showFramesResolve(), r.setState({
videoWasSkipped: !0,
currentIndex: r.state.frames.length - 2
});
};
var o = r.props.pack.items.find(function(e) {
return !e.nugget;
});
if (!o) return r;
var i = o, s = [], l = r.props.pack.rarenessLevel.value, c = i.rarenessLevel && i.rarenessLevel.value || 0;
return s.push.apply(s, u.openingFrames[l].frames.concat([ u.openingFrames[l][c], u.backgroundEnd ])), 
r.preloader = f.textureHandler.createPreloader(r), s.forEach(function(e) {
return r.preloader.preload(e, "SINGLE_TEXTURE");
}), r.sound = m.Sound.load(u.frameSounds[l]), r.state = {
item: i,
frames: s,
currentIndex: 0,
videoHasStarted: !1,
videoHasCompleted: !1,
videoWasSkipped: !1
}, r.frameSettings = E[r.props.pack.rarenessLevel.value], r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "skipButtonInLoadingState", {
get: function() {
var e = c.gameStateStoreLoader.gameStateStore;
return !!e && e.isGameViewVisible;
},
enumerable: !0,
configurable: !0
}), n.prototype.componentDidMount = function() {
var e = this;
this.awaitTextures().then(function() {
return e.setState({
videoHasStarted: !0
});
}).then(function() {
return e.playSound();
}).then(function() {
return e.showFrames(0);
}).then(function() {
return e.exitLastFrame();
}).then(function() {
return e.setState({
videoHasCompleted: !0
});
});
}, n.prototype.componentWillUnmount = function() {
var e = this;
this.sound.stop(), Object.keys(this.tweens).forEach(function(t) {
return e.tweens[t].destroy();
}), this.frameOpacity.forEach(function(e) {
return e.destroy();
}), this.frameScale.forEach(function(e) {
return e.destroy();
});
}, n.prototype.getInput = function() {
if (this.state.videoHasStarted && !this.state.videoHasCompleted && this.sparta.twinkle.focus.controllerMode) return new v.Input({
action: this.skipVideo,
label: __("ID_SPARTA_ACTION_BATTLEPACKS_SKIP_VIDEO"),
key: S.Keys.Accept
});
}, n.prototype.awaitTextures = function() {
var e = this;
return new Promise(function(t) {
e.preloader.onLoaded(t), setTimeout(t, 5e3);
});
}, n.prototype.playSound = function() {
var e = this;
return new Promise(function(t) {
return e.sound.loop = !1, e.sound.setVolume(1), e.sound.play(), t();
});
}, n.prototype.showFrames = function(e) {
var t = this;
return new Promise(function(n) {
if (t.showFramesResolve = n, e >= t.state.frames.length) return t.showFramesResolve();
t.animateFrame(e).then(function() {
return e++, t.setState({
currentIndex: e
}), t.showFrames(e).then(function() {
return n();
});
});
});
}, n.prototype.animateFlash = function(e) {
void 0 === e && (e = 0);
var t = {
duration: 250,
delay: e,
easing: h.Easing.Linear
}, n = {
duration: t.duration,
delay: e + t.duration,
easing: h.Easing.Linear
}, r = {
duration: t.duration / 2,
delay: e + t.duration / 2,
easing: h.Easing.Linear
}, o = {
duration: r.duration,
delay: r.delay + r.duration,
easing: h.Easing.Linear
}, i = {
duration: t.duration + n.duration,
easing: h.Easing.Linear
}, a = {
duration: r.duration + o.duration,
delay: r.delay,
easing: h.Easing.Linear
}, s = 600 - 300 * (4 * u.flare.width / (4 * u.flare.height));
return this.tweens.flash1Opacity.to(1, t), this.tweens.flash1Opacity.to(0, n), this.tweens.flash1TranslateX.set(s), 
this.tweens.flash1TranslateX.to(600, i), this.tweens.flash1TranslateY.set(-350), 
this.tweens.flash1TranslateY.to(-50, i), this.tweens.flash2Opacity.to(1, r), this.tweens.flash2Opacity.to(0, o), 
this.tweens.flash2TranslateX.set(s + 400), this.tweens.flash2TranslateX.to(1e3, a), 
this.tweens.flash2TranslateY.set(-350), this.tweens.flash2TranslateY.promiseTo(-50, a);
}, n.prototype.animateFrame = function(e) {
var t = this, n = this.frameSettings[e], r = e === this.state.frames.length - 2, o = e === this.state.frames.length - 1;
return r && this.animateFlash(n.in.duration / 2 + (n.in.delay || 0)), o || (this.frameScale[e].set(1.2), 
this.frameScale[e].to(1, {
duration: n.in.duration + n.out.duration
})), this.frameOpacity[e].set(0), this.frameOpacity[e].promiseTo(1, n.in).then(function() {
return t.frameOpacity[e].promiseTo(o ? 1 : 0, n.out);
});
}, n.prototype.exitLastFrame = function() {
this.props.onVideoComplete();
}, n.prototype.renderFrames = function() {
var t = this.state.frames, n = this.state.currentIndex, o = Math.max(0, n - 1), i = Math.min(n + 2, t.length), a = e.__assign({
width: s.uiState.window.width,
height: s.uiState.window.height
}, b);
if (this.state.videoWasSkipped) return r.createElement("surface", {
style: [ a, {
texture: t[t.length - 1]
} ]
});
for (var u = []; o < i; ) {
var l = e.__assign({
zOffset: 10 - o,
texture: t[o],
textureScaleX: this.frameScale[o].getStyle(),
textureScaleY: this.frameScale[o].getStyle(),
textureAtlas: "SINGLE_TEXTURE",
opacity: this.frameOpacity[o].getStyle()
}, a);
u.push(r.createElement("surface", {
key: l.texture.substr(-8) + o,
style: l
})), o++;
}
return u;
}, n.prototype.render = function() {
var t, n = e.__assign({
zOffset: 1,
backgroundColor: "#000000",
opacity: 1,
layer: !0,
layerGrabBackground: !0
}, b), o = this.state.item.rarenessLevel && this.state.item.rarenessLevel.value || 0, i = e.__assign({
texture: u.flare[o],
width: u.flare.width,
height: u.flare.height,
rotateZ: -20,
blendMode: "screen",
enableMouseEvents: !1
}, b), a = e.__assign({}, i, {
zOffset: 1600,
scaleX: 1,
scaleY: 4,
translateX: this.tweens.flash1TranslateX.getStyle(),
translateY: this.tweens.flash1TranslateY.getStyle(),
opacity: this.tweens.flash1Opacity.getStyle()
}), c = e.__assign({}, i, {
zOffset: 1601,
scaleX: 7,
scaleY: 7,
translateX: this.tweens.flash2TranslateX.getStyle(),
translateY: this.tweens.flash2TranslateY.getStyle(),
opacity: this.tweens.flash2Opacity.getStyle()
}), f = this.state.videoHasStarted && !this.state.videoHasCompleted && !this.state.videoWasSkipped, m = _.SpartaGlobals.bundleIsPC;
if (f && (this.skipButtonInLoadingState || m)) {
var h = {
zOffset: 1601,
height: p.getHeight(4),
width: p.getWidth(3),
left: d.dangerZoneSize.width,
top: s.uiState.window.height - d.dangerZoneSize.height - p.getHeight(6)
};
t = r.createElement(l.Button, {
name: "a7a057a8:458:27",
action: this.skipVideo,
text: __("ID_SPARTA_ACTION_BATTLEPACKS_SKIP_VIDEO"),
textSize: "XS",
stealFocus: !0,
style: h
});
}
return r.createElement("surface", {
style: n
}, r.createElement("surface", {
style: a
}), r.createElement("surface", {
style: c
}), t, this.renderFrames(), this.props.children);
}, n.contextTypes = y.SpartaContext.contextTypes, e.__decorate([ o.computed ], n.prototype, "skipButtonInLoadingState", null), 
n = e.__decorate([ g.input, i.observer ], n);
}(r.Component);
t.TunguskaBattlepackFrames = C;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaBattlepackUnopened"), a = function() {
function e() {}
return e.container = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(24),
flexDirection: "row",
justifyContent: "space-between"
}, "38f48ac0:7:34");
}), e.bpImage = o.stylefunc(function() {
return o.style({
width: o.Grid.getWidth(11),
height: o.Grid.getHeight(35),
textureMode: "contain",
textureAlign: [ 0, 0 ]
}, "38f48ac0:16:14");
}, function(e) {
return o.dynamicStyle({
texture: e.image
}, "38f48ac0:23:37");
}), e.bpInfo = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(8)
}, "38f48ac0:29:31");
}), e.bpRevisionWrapper = o.stylefunc(function() {
return o.style({
flexDirection: "row",
alignItems: "center"
}, "38f48ac0:36:14");
}, function(e) {
return o.dynamicStyle({
justifyContent: e.isRTL ? "flex-end" : "flex-start",
width: e.isRTL ? o.Grid.getWidth(8) : o.Grid.getWidth(10)
}, "38f48ac0:41:37");
}), e.bpInfoRow = o.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center",
marginBottom: o.Grid.spacer(2)
}, "38f48ac0:48:34");
}), e.bpName = o.wrap(function() {
return o.style({}, "38f48ac0:56:31");
}), e.bpRevision = o.stylefunc(function() {
return o.style({
marginTop: o.Grid.spacer(1),
marginBottom: o.Grid.spacer(2),
textAlignForRTL: "left"
}, "38f48ac0:59:14");
}, function(e) {
return o.dynamicStyle({
width: e.isRTL ? o.Grid.getWidth(8) : o.Grid.getWidth(10)
}, "38f48ac0:65:37");
}), e.origin = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(1),
opacity: .5
}, "38f48ac0:71:31");
}), e.bpQuantityContainer = o.wrap(function() {
return o.style({
backgroundColor: "#00000066",
padding: [ o.Grid.spacer(1), o.Grid.spacer(2), o.Grid.spacer(1), o.Grid.spacer(2) ],
marginRight: o.Grid.spacer(2)
}, "38f48ac0:78:44");
}), e.bpQuantity = o.wrap(function() {
return o.style({
zOffset: 1
}, "38f48ac0:86:35");
}), e.button = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(8),
marginTop: o.Grid.spacer(1)
}, "38f48ac0:92:31");
}), e.selectBpContainer = o.wrap(function() {
return o.style({
flex: 1,
justifyContent: "center",
alignItems: "center"
}, "38f48ac0:99:42");
}), e.selectBpCardCarouselContainer = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(24)
}, "38f48ac0:107:54");
}), e.selectBpQuantity = o.wrap(function() {
return o.style({
position: "absolute",
top: -o.Grid.spacer(3),
left: 0,
backgroundColor: "#00000020",
width: 60,
height: 40,
justifyContent: "center",
alignItems: "center"
}, "38f48ac0:113:41");
}), e.emptyContainer = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(24),
height: o.Grid.getHeight(69),
zOffset: 10,
justifyContent: "center",
alignSelf: "center",
alignItems: "center"
}, "38f48ac0:126:39");
}), e.empty = o.wrap(function() {
return o.style({
alignSelf: "center",
marginBottom: o.Grid.getWidth(1)
}, "38f48ac0:137:30");
}), e.emptyCenter = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(16),
justifyContent: "center",
alignItems: "center"
}, "38f48ac0:143:36");
}), e.emptyButton = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(9)
}, "38f48ac0:151:36");
}), e.icons = o.stylefunc(function() {
return o.style({
height: o.Grid.getHeight(4),
width: o.Grid.getWidth(6),
textureMode: "contain",
textureAlign: [ 0, 0 ]
}, "38f48ac0:158:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "38f48ac0:165:39");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaBattlepackUnopenedStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1366), o = function() {
function e(e) {
this.offers = e.map(function(e) {
return new r.BattlepackOffer(e);
});
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.BattlepackOffers = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(179), o = n(234), i = n(31), a = function() {
return function e(t) {
this.offer = new r.Offer(t.offer, i.tunguskaGameId), this.battlepack = new o.Battlepack(t.battlepack), 
this.amount = t.amount;
};
}();
t.BattlepackOffer = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(81), a = n(1368), s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = i.getPurchasablePacks.request(t);
e.useClientResult(n, a.PurchasableBattlepack.fromBackend);
}, t.prototype.get = function(e) {
return this.getOrFetchFragment(e, {
game: e
});
}, t;
}(o.FragmentStore);
t.TunguskaBattlepackPurchasableStore = s, t.tunguskaBattlepackPurchasableStore = new s();
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(234), o = function() {
function e(e) {
this.packs = e.map(function(e) {
var t = e.expirationTs ? parseInt(e.expirationTs, 10) : void 0;
return new r.Battlepack(Object.assign({}, {
endTime: t
}, {
purchaseGate: e.purchaseGate
}, {
canBuyRealMoney: e.canBuyRealMoney,
canBuyScraps: e.canBuyScraps
}, e.pack));
}).sort(function(e, t) {
var n = e.rarenessLevel.value, r = t.rarenessLevel.value;
return n !== r ? n - r : t.packKey < e.packKey ? -1 : 1;
});
}
return e.fromBackend = function(t) {
return new e(t);
}, e;
}();
t.PurchasableBattlepack = o;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(6), s = n(645), u = n(31), l = n(183), c = n(98), p = n(89), d = n(640), f = n(102), m = n(25), h = n(81), g = n(207), y = n(18), S = n(452), v = n(155), _ = n(61), b = n(271), T = n(36), E = n(1370), C = n(330), I = n(644), A = n(29), w = n(105), P = n(8), R = n(15), O = n(10), x = n(96), k = n(19), L = n(47), M = n(42), D = n(5), N = n(7), F = function(e) {
var t = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPEXCHANGE_LEFT");
return (t = _.formatDateDifference(t, e, !0)).toUpperCase();
}, G = "button_id_buy", U = "button_id_get", B = {}, j = function() {
return r.createElement("surface", {
style: E.TunguskaBattlepackBuyStyles.offerLoading
}, r.createElement(A.CenteredSpinner, {
wait: !1
}), r.createElement(a.Text, {
style: E.TunguskaBattlepackBuyStyles.offerLoadingText,
size: "XS",
value: __("ID_SPARTA_HELP_LOADING")
}));
}, H = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = N.SpartaContext.getFromComponent(r), r.isReady = !1, r.tweenOpacity = R.Animation.componentTween(r, "b08ce0ad:80:50", 1), 
r.tweenTranslateX = R.Animation.componentTween(r, "b08ce0ad:81:53", 0), r.focusGroup = r.sparta.twinkle.focus.createComponentGroup(r, "OfferList", M.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | M.GroupBehavior.VERTICAL | M.GroupBehavior.WRAP_AROUND), 
r.showList = function() {
Promise.all([ r.tweenOpacity.promiseTo(0), r.tweenTranslateX.promiseTo(-P.getWidth(4)) ]).then(function() {
return r.setIsReady(), r.tweenTranslateX.set(0), r.tweenOpacity.promiseTo(1);
});
}, e.isLoading && 0 === e.battlepack.rarenessLevel.value || r.setIsReady(), r.focusGroup.handleDirection(M.Direction.Right, function(e, t) {
var n = r.sparta.twinkle.focus.items.find(function(e) {
return e.id === U;
});
return {
result: M.NavigationResultType.HIT,
toItem: n || r.sparta.twinkle.focus.findNextItemOutsideGroup(e, t, r.focusGroup)
};
}), r;
}
return e.__extends(n, t), n.prototype.componentWillReceiveProps = function(e) {
e.isLoading || this.isReady || this.showList();
}, n.prototype.setIsReady = function(e) {
void 0 === e && (e = !0), this.isReady = e;
}, n.prototype.render = function() {
var e, t, n = this;
e = this.props.offers.length ? this.props.offers.map(function(e, t) {
return r.createElement(p.ListItem, {
debugName: "list-item-" + t,
key: e.offer.id,
index: t,
selectionState: n.props.selectionState
}, r.createElement(p.ListItemLabel, {
key: e.amount,
value: ("x" + e.amount).toUpperCase()
}));
}) : r.createElement(p.ListItem, {
debugName: "list-item-0",
index: 0,
selectionState: this.props.selectionState
}, r.createElement(p.ListItemLabel, {
value: "X1"
})), t = this.isReady ? r.createElement(p.List, {
focusGroup: this.focusGroup
}, e) : r.createElement(j, null);
var o = {
opacity: this.tweenOpacity.getStyle(),
translateX: this.tweenTranslateX.getStyle()
};
return r.createElement("surface", {
style: [ E.TunguskaBattlepackBuyStyles.offerList, o ]
}, t);
}, n.contextTypes = N.SpartaContext.contextTypes, e.__decorate([ o.observable ], n.prototype, "isReady", void 0), 
e.__decorate([ o.action ], n.prototype, "setIsReady", null), n = e.__decorate([ i.observer ], n);
}(r.Component), z = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.isLoading = !1, e.setLoading = function(t) {
e.isLoading = t;
}, e.handlePurchase = function(t) {
e.setLoading(!0), t ? e.handleMoney() : e.handleScraps();
}, e.handleMoney = function() {
if (e.props.bpOffer.offer && !e.props.isGameView) {
var t = f.PurchaseFlow.start(e.props.bpOffer.offer);
t.listen(f.PurchaseFlowState.SUCCESS, e.onSuccess), t.listen(f.PurchaseFlowState.ERROR, e.onError);
}
}, e.handleScraps = function() {
var t = g.tunguskaBattlepackSummaryStore.get(u.tunguskaGameId).value, n = t && t.scraps || 0;
if (n < e.props.bpOffer.battlepack.scrapPrice) L.PopupManager.standardAlert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_ERROR_NOT_ENOUGH_SCRAPS")); else {
T.trackEvent("BattlepackBuyScraps", "click", e.props.bpOffer.battlepack.packName, e.props.bpOffer.amount);
var r = h.buyForScraps.request({
game: u.tunguskaGameId,
pack: e.props.bpOffer.battlepack.packKey,
price: e.props.bpOffer.battlepack.scrapPrice,
balance: n
});
r.onSuccess(function(t) {
t ? e.onSuccess() : e.onError();
}), r.onError(e.onError);
}
}, e.onSuccess = function() {
if (m.close("buyPopup"), e.props.isGameView) C.battlepackTabState.goToTab("unopened"); else if (e.props.isStore) y.gotoLocation("tunguska/more/battlepacks"); else {
var t = O.locationStore.location;
y.updateLocation(new x.Location({
path: t.path,
args: Object.assign({}, t.args, {
tab: ""
})
}));
}
}, e.onError = function() {
L.PopupManager.standardAlert(__("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUY_ERROR")), e.setLoading(!1);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
if (!this.props.bpOffer.battlepack.purchaseGate.canBuy) return null;
if (this.isLoading) return r.createElement("surface", {
style: E.TunguskaBattlepackBuyStyles.buttonContainer
}, r.createElement(A.CenteredSpinner, null));
var e, t, n = this.props.bpOffer.offer, o = this.props.bpOffer.battlepack;
if (n && o.canBuyRealMoney && !this.props.isGameView && (e = r.createElement(l.PS4StoreContent, null, r.createElement(I.TrackButton, {
name: G,
trackCategory: "BattlepackBuyMoney",
trackLabel: this.props.bpOffer.battlepack.packName,
trackValue: this.props.bpOffer.amount,
trackDelay: 1e3,
style: E.TunguskaBattlepackBuyStyles.button({
isLast: !0
}),
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_BUY_PRICE").replace("[[price]]", n.price),
textSize: "S",
action: this.handlePurchase.bind(this, !0)
}))), o.canBuyScraps) {
var i = this.props.bpOffer.battlepack.displayScrapPrice;
t = r.createElement(S.ScrapValueButton, {
name: U,
stealFocus: !0,
text: __("ID_SPARTA_ACTION_GET"),
value: i,
action: this.handlePurchase,
style: E.TunguskaBattlepackBuyStyles.button({})
});
}
return r.createElement("surface", {
style: E.TunguskaBattlepackBuyStyles.buttonContainer
}, t, e);
}, e.__decorate([ o.observable ], n.prototype, "isLoading", void 0), e.__decorate([ o.action ], n.prototype, "setLoading", void 0), 
n = e.__decorate([ i.observer ], n);
}(r.Component), V = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "showCountdown", {
get: function() {
if (!this.props.endTime) return !1;
var e = this.props.bpOffer.battlepack, t = this.props.endTime - new Date().getTime(), n = Math.floor(t / 1e3 / 86400);
return !e.packType || n < 10;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e, t = this.props.bpOffer.battlepack, n = t.revision;
return t.packType && "FINAL" !== t.packType && (n = t.packTypeReadable, e = r.createElement("surface", {
style: E.TunguskaBattlepackBuyStyles.packIcon({
texture: t.packTypeIcon
})
})), r.createElement(b.TrackImpression, {
action: "impression",
category: "BattlepackBuy",
label: t.packName,
value: this.props.bpOffer.amount,
delay: 1e3
}, r.createElement("surface", {
style: E.TunguskaBattlepackBuyStyles.infoContainer
}, r.createElement("surface", {
style: E.TunguskaBattlepackBuyStyles.infoImage({
image: t.images.side_normal
})
}), e, r.createElement(a.Text, {
type: "emphasis",
value: t.visualName.toUpperCase(),
style: E.TunguskaBattlepackBuyStyles.battlePackVisualNameContainer
}), r.createElement(k.LocaleRearrange, {
style: E.TunguskaBattlepackBuyStyles.infoRevisionContainer
}, r.createElement(a.Text, {
key: "secinfo",
size: "XS",
value: n
}), this.showCountdown && r.createElement(v.Countdown, {
key: "countdown",
format: F,
size: "XS",
targetTime: this.props.endTime
})), r.createElement(a.Text, {
size: "XS",
value: t.descriptionText,
style: E.TunguskaBattlepackBuyStyles.battlePackDescriptionContainer
})));
}, n = e.__decorate([ i.observer ], n);
}(r.Component), W = D.StaticStyle.create({
marginBottom: P.spacer(5)
}, "b08ce0ad:495:36"), q = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
r.sparta = N.SpartaContext.getFromComponent(r), r.bpOffersFragment = s.tunguskaBattlepackOfferStore.get(u.tunguskaGameId), 
r.bpSummaryFragment = g.tunguskaBattlepackSummaryStore.get(u.tunguskaGameId), r.potentialFocusGroup = r.sparta.twinkle.focus.createComponentGroup(r, "potentialItems");
var o = e.battlepack.packKey;
return B[o] || (B[o] = new c.ListSelectionState()), r.selectionState = B[o], r.potentialFocusGroup.handleDirection(M.Direction.Left, function(e, t) {
var n = r.sparta.twinkle.focus.items.find(function(e) {
return e.id === G;
});
return {
result: M.NavigationResultType.HIT,
toItem: n || r.sparta.twinkle.focus.findNextItemOutsideGroup(e, t, r.potentialFocusGroup)
};
}), r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "bpOffers", {
get: function() {
var e = this, t = this.bpOffersFragment;
return t.isReady && t.value ? t.value.offers.filter(function(t) {
return t.battlepack.packName === e.props.battlepack.packName;
}).map(function(t) {
return t.battlepack = Object.assign(t.battlepack, {
canBuyScraps: e.props.battlepack.canBuyScraps,
canBuyRealMoney: e.props.battlepack.canBuyRealMoney,
purchaseGate: e.props.battlepack.purchaseGate
}), t;
}) : [];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "bpOffer", {
get: function() {
return this.bpOffers.length ? this.bpOffers[this.selectionState.activeItemIndex] : {
battlepack: this.props.battlepack,
offer: void 0,
amount: 1
};
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.bpSummaryFragment.value && this.bpSummaryFragment.value.scraps || 0;
return r.createElement("surface", null, r.createElement("surface", {
style: E.TunguskaBattlepackBuyStyles.container
}, r.createElement(H, {
isLoading: this.bpOffersFragment.isLoading,
offers: this.bpOffers,
selectionState: this.selectionState,
battlepack: this.props.battlepack
}), r.createElement("surface", null, r.createElement(V, {
endTime: this.props.battlepack.endTime,
bpOffer: this.bpOffer
}), r.createElement(z, {
isStore: this.props.isStore,
isGameView: this.props.isGameView,
bpSummary: this.bpSummaryFragment,
bpOffer: this.bpOffer
})), r.createElement("surface", {
style: E.TunguskaBattlepackBuyStyles.potentialItemsContainer
}, r.createElement(w.TunguskaBattlepackScraps, {
prefix: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase(),
value: "" + e,
size: "S",
style: W
}), r.createElement(d.PotentialItems, {
battlepack: this.props.battlepack,
track: "TunguskaBattlepackBuy",
gridHeight: 70,
focusGroup: this.potentialFocusGroup
}))));
}, n.contextTypes = N.SpartaContext.contextTypes, n.showCloseButton = !0, e.__decorate([ o.computed ], n.prototype, "bpOffers", null), 
e.__decorate([ o.computed ], n.prototype, "bpOffer", null), n = e.__decorate([ i.observer ], n);
}(r.Component);
t.TunguskaBattlepackBuy = q;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaBattlepackBuy"), a = function() {
function e() {}
return e.container = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(24),
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center"
}, "10a6f858:7:34");
}), e.offerList = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(5)
}, "10a6f858:16:34");
}), e.buttonContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.spacer(7),
height: o.Grid.getHeight(7),
width: o.Grid.getWidth(9)
}, "10a6f858:22:40");
}), e.infoContainer = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(9)
}, "10a6f858:31:38");
}), e.infoRevisionContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
marginBottom: o.Grid.spacer(3)
}, "10a6f858:37:46");
}), e.battlePackVisualNameContainer = o.wrap(function() {
return o.style({
textAlignForRTL: "left"
}, "10a6f858:45:54");
}), e.battlePackDescriptionContainer = o.wrap(function() {
return o.style({
textAlignForRTL: "left"
}, "10a6f858:51:55");
}), e.button = o.stylefunc(function() {
return o.style({
width: o.Grid.getWidth(4),
marginRight: o.Grid.spacer(1)
}, "10a6f858:58:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isLast ? 0 : o.Grid.spacer(1)
}, "10a6f858:63:39");
}), e.infoImage = o.stylefunc(function() {
return o.style({
width: o.Grid.getWidth(8),
height: 260,
textureMode: "contain"
}, "10a6f858:70:14");
}, function(e) {
return o.dynamicStyle({
texture: e.image
}, "10a6f858:76:37");
}), e.potentialItemsContainer = o.wrap(function() {
return o.style({
alignItems: "flex-end"
}, "10a6f858:82:48");
}), e.offerLoading = o.wrap(function() {
return o.style({
justifyContent: "space-between",
alignItems: "center"
}, "10a6f858:88:37");
}), e.offerLoadingText = o.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(2)
}, "10a6f858:94:41");
}), e.packIcon = o.stylefunc(function() {
return o.style({
height: o.Grid.getHeight(4),
width: o.Grid.getWidth(6),
textureMode: "contain",
textureAlign: [ 0, 0 ],
marginBottom: o.Grid.spacer(2)
}, "10a6f858:101:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "10a6f858:109:39");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaBattlepackBuyStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaBattlepackGet"), a = function() {
function e() {}
return e.dock = o.stylefunc(function() {
return o.style({
flex: 1
}, "fbdaa7f4:8:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.canBuy ? 1 : .33
}, "fbdaa7f4:12:38");
}), e.bpName = o.wrap(function() {
return o.style({
textAlignForRTL: "left"
}, "fbdaa7f4:18:31");
}), e.purchaseGate = o.stylefunc(function() {
return o.style({
marginTop: o.Grid.spacer(1),
position: "relative"
}, "fbdaa7f4:25:14");
}, function(e) {
return o.dynamicStyle({
paddingLeft: e.canBuy ? void 0 : o.Grid.getHeight(3)
}, "fbdaa7f4:30:38");
}), e.bpRevision = o.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(1),
textAlignForRTL: "left"
}, "fbdaa7f4:36:35");
}), e.lockIcon = o.stylefunc(function() {
return o.style({
position: "absolute",
left: 0,
top: o.Grid.getHeight(.2),
opacity: .66,
width: o.Grid.getHeight(2),
height: o.Grid.getHeight(2),
texture: o.bbUrl("/sparta/assets/tunguska/icons/icon-lock-white-242e77e0.png")
}, "fbdaa7f4:43:14");
}, function(e) {
return o.dynamicStyle({
color: e.isActive ? "#000000" : "#ffffff"
}, "fbdaa7f4:53:40");
}), e.priceContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.spacer(2)
}, "fbdaa7f4:59:39");
}), e.offerPriceContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
marginRight: 7
}, "fbdaa7f4:66:44");
}), e.offerPrice = o.wrap(function() {
return o.style({
marginLeft: 7,
marginRight: 7
}, "fbdaa7f4:73:35");
}), e.rarityContainer = o.wrap(function() {
return o.style({
position: "absolute",
top: o.Grid.spacer(2),
right: o.Grid.spacer(2),
flexDirection: "row",
alignItems: "center",
justifyContent: "center"
}, "fbdaa7f4:80:40");
}), e.rarityBox = o.stylefunc(function() {
return o.style({
width: o.Grid.spacer(1),
height: o.Grid.spacer(1) / 2
}, "fbdaa7f4:92:14");
}, function(e) {
return o.dynamicStyle({
backgroundColor: e.color,
marginLeft: e.hasOutline ? 0 : 3
}, "fbdaa7f4:97:58");
}), e.rarityBoxOutline = o.wrap(function() {
return o.style({
padding: 1,
backgroundColor: "#00000066"
}, "fbdaa7f4:104:41");
}), e.progressionContainer = o.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(8),
width: o.Grid.getWidth(24),
flexDirection: "row",
justifyContent: "flex-start",
alignItems: "center"
}, "fbdaa7f4:111:45");
}), e.progressionInfo = o.stylefunc(function() {
return o.style({
flexDirection: "column",
marginLeft: o.Grid.spacer(3)
}, "fbdaa7f4:122:14");
}, function(e) {
return o.dynamicStyle({
alignItems: e.isRTL ? "flex-end" : "flex-start"
}, "fbdaa7f4:127:37");
}), e.progressionInfoText = o.wrap(function() {
return o.style({
marginTop: 5,
marginBottom: o.Grid.spacer(1),
width: o.Grid.getWidth(7),
textAlignForRTL: "left"
}, "fbdaa7f4:133:44");
}), e.progressionImage = o.wrap(function() {
return o.style({
texture: o.bbUrl("/sparta/assets/tunguska/battlepacks/default-battlepack-9531d9fe.png"),
width: 256,
height: 128
}, "fbdaa7f4:142:41");
}), e.icons = o.stylefunc(function() {
return o.style({
position: "absolute",
top: o.Grid.spacer(2),
left: o.Grid.spacer(2),
right: o.Grid.getWidth(2),
height: o.Grid.getHeight(4),
textureMode: "contain",
textureAlign: [ 0, 0 ]
}, "fbdaa7f4:151:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture,
color: e.isActive ? "#000000" : "#ffffff"
}, "fbdaa7f4:161:58");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaBattlepackGetStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(89), s = n(19), u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.inventory, n = e.listSelectionState;
return o.createElement("surface", null, o.createElement(a.List, null, t.categories.map(function(e, t) {
var r = e.stats, i = r.quantity, u = r.total, l = "";
l = u > 1 ? i + "/" + u : String(i);
var c = "listitem_" + e.name;
return o.createElement(a.ListItem, {
index: t,
key: e.name,
selectionState: n,
debugName: c
}, s.localeRearrange([ o.createElement(a.ListItemLabel, {
key: "l",
value: e.name.toUpperCase(),
right: s.isRTLLanguage(),
rtl: s.isRTLLanguage(),
flex: 3
}), o.createElement(a.ListItemLabel, {
key: "r",
value: l.toUpperCase(),
right: !s.isRTLLanguage()
}) ]));
})));
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaBattlepackInventoryMenu = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(235), s = n(211), u = n(210), l = n(6), c = n(13), p = n(1374), d = n(10), f = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "items", {
get: function() {
var e = this.props, t = e.listSelectionState;
return e.inventory.categories[t.activeItemIndex].items;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = d.gameStateStoreLoader.get(), t = this.props.itemSelectionState, n = new a.TableRenderer("item-table", 4, s.CareerSectionStyle.tableWidth, e.isGameViewVisible ? s.CareerSectionStyle.gameviewTableHeight : s.CareerSectionStyle.tableHeight, s.CareerSectionStyle.itemHeaderHeight, s.CareerSectionStyle.itemWidth, s.CareerSectionStyle.itemHeight, u.contentSoftClip);
return this.items.length ? (this.items.forEach(function(e, o) {
n.addRowCell("itemcard_" + e.key, function(n, i) {
var a = s.CareerSectionStyle.itemStyle(n);
return r.createElement(p.TunguskaBattlepackInventoryItem, {
key: e.key,
style: a,
itemSelectionState: t,
index: o,
item: e,
focusItem: i
});
});
}), n.end(), r.createElement("surface", null, n.render())) : r.createElement(l.Text, {
key: "empty",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_NO_ITEMS"),
size: "S",
style: {
textAlignForRTL: "left",
width: c.Grid.getWidth(10)
}
});
}, e.__decorate([ o.computed ], n.prototype, "items", null), n = e.__decorate([ i.observer ], n);
}(r.Component);
t.TunguskaBattlepackInventoryItems = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(12), a = n(11), s = n(1375), u = n(647), l = n(9), c = n(22), p = n(77), d = n(7), f = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = d.SpartaContext.getFromComponent(r), r.focusItem = e.focusItem, 
p.onComponentUpdate(r, function() {
l.SpartaGlobals.bundleIsPC && r.sparta.stores.inputStore.bindInputToFocusItem(new i.Input({
action: function() {
return r.onFocus();
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: a.Keys.Accept
}), r.focusItem);
}), r.focusItem.onChange.listen(function(e) {
e && c.focusSystem.controllerMode && r.onFocus();
}), r;
}
return e.__extends(n, t), n.prototype.componentWillUnmount = function() {
this.focusItem.setActive("4023289f:59:34", !1);
}, n.prototype.onFocus = function() {
this.props.itemSelectionState.setActiveItem(this.props.item, this.props.index);
}, n.prototype.render = function() {
var e = this.props.item;
if (!e) return r.createElement("surface", null);
var t, n = u.TunguskaBattlepackInventory.blurredCard;
this.focusItem.isFocusedOrHovered ? (n = u.TunguskaBattlepackInventory.focusedCard, 
t = u.TunguskaBattlepackInventory.focusedCardText) : n = this.props.itemSelectionState.getItemState(this.props.index).active ? u.TunguskaBattlepackInventory.activeCard : u.TunguskaBattlepackInventory.blurredCard;
var o = [ u.TunguskaBattlepackInventory.box, n ];
return this.props.style && o.push(this.props.style), r.createElement(s.TunguskaBattlepackItem, {
focusItem: this.focusItem,
item: e,
style: o,
textStyle: t,
showRarity: !this.props.isActive && !this.focusItem.isFocusedOrHovered
});
}, n.contextTypes = d.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaBattlepackInventoryItem = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(8), s = n(6), u = n(126), l = n(160), c = n(105), p = n(21), d = n(209), f = n(1377), m = n(5), h = m.StaticStyle.create({
left: a.spacer(1),
right: a.spacer(1),
bottom: 0
}, "43e20e70:84:28"), g = function(e) {
function t(t) {
return e.call(this, t) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e, t = this.props, n = t.item, i = t.showRarity, a = t.style, g = t.focusItem;
if ((void 0 === i || i) && n.rarenessLevel) {
var y = {
position: "absolute",
top: 0,
left: 0,
textureAlign: [ .5, 0 ],
texture: u.fade[n.rarenessLevel.value],
textureMode: "fill",
right: 0,
bottom: 0
};
e = o.createElement("surface", {
style: y
});
}
var S = n.quantity > 1 ? "x" + n.quantity : "", v = [ f.TunguskaBattlepackItemStyles.box({
isDimmed: n.quantity <= 0
}) ];
Array.isArray(a) ? v = v.concat(a) : a && v.push(a);
var _, b = this.props.focusItem.isFocused || this.props.focusItem.isHovered, T = this.props.item.inScrapExchangeOffer, E = this.props.item.quantity >= 1;
T && !E ? _ = o.createElement("surface", {
style: {
position: "absolute",
right: 5,
bottom: 6
}
}, o.createElement(c.ScrapIcon, {
iconSize: p.LINE_HEIGHTS.XS,
color: b ? "#000000" : "#ffffff"
})) : E || (_ = o.createElement(l.LockIcon, {
isSelected: b,
activeColor: "#000000",
inactiveColor: "#ffffff"
}));
var C = m.merge2(f.TunguskaBattlepackItemStyles.multiplier, this.props.textStyle);
return o.createElement("surface", r.__assign({
style: v
}, g.hooks), o.createElement(d.BattlepackImage, {
size: "S",
focusItem: g,
item: this.props.item,
style: h
}), o.createElement("surface", {
style: f.TunguskaBattlepackItemStyles.rarityWrapper
}, e), o.createElement(s.Text, {
value: S,
type: "emphasis",
size: "S",
style: C
}), _);
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaBattlepackItem = g;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("AwardItemStyle"), a = function() {
function e() {}
return e.box = o.wrap(function() {
return o.style({
position: "relative"
}, "32f24b5c:15:28");
}), e.card = o.multistyle2(function(e, t) {
return o.style({
backgroundColor: e ? "#ffffff" : t ? "#ffffff33" : "#00000055"
}, "32f24b5c:21:74");
}), e.positionWrapper = o.wrap(function() {
return o.style({
position: "relative"
}, "32f24b5c:27:40");
}), e.award = o.wrap(function() {
return o.style({
height: o.Grid.getHeight(12),
opacity: .3,
grayScale: 1,
zOffset: 1,
textureMode: "contain",
textureScale: .9
}, "32f24b5c:33:30");
}), e.dependency = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(3),
height: o.Grid.getHeight(5),
opacity: .5,
position: "relative",
textureMode: "contain",
textureScale: 1.2
}, "32f24b5c:44:35");
}), e.dependencySeparator = o.multistyle(function(e) {
return o.style({
opacity: e ? .07 : 0,
height: 1,
backgroundColor: "#000000"
}, "32f24b5c:55:68");
}), e.unlockedImage = o.wrap(function() {
return o.style({
opacity: 1,
grayScale: 0
}, "32f24b5c:63:38");
}), e.progressBar = o.wrap(function() {
return o.style({
position: "relative"
}, "32f24b5c:70:36");
}), e.multiplier = o.multistyle2(function(e, t) {
return o.style({
position: "absolute",
bottom: o.Grid.GUTTER,
right: o.Grid.GUTTER + (t ? o.Grid.getHeight(2) + 5 : 0),
zOffset: 2,
color: e ? "#000000" : "#FFFFFF"
}, "32f24b5c:76:80");
}), e.expansionIcon = o.wrap(function() {
return o.style({
textureMode: "contain",
height: o.Grid.getHeight(2),
width: o.Grid.getHeight(2),
position: "absolute",
left: o.Grid.GUTTER,
top: o.Grid.GUTTER
}, "32f24b5c:86:38");
}), e.starContainer = o.wrap(function() {
return o.style({
zOffset: 10,
flexDirection: "row",
position: "absolute",
left: o.Grid.GUTTER,
bottom: o.Grid.GUTTER - 1
}, "32f24b5c:97:38");
}), e.star = o.wrap(function() {
return o.style({
width: o.Grid.getHeight(2),
height: o.Grid.getHeight(2),
texture: o.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: o.Grid.GUTTER / 2,
color: "#ff9900"
}, "32f24b5c:107:29");
}), e.starNumber = o.wrap(function() {
return o.style({
marginTop: -1
}, "32f24b5c:118:35");
}), e.checkmark = o.wrap(function() {
return o.style({
zOffset: 10,
position: "absolute",
left: o.Grid.GUTTER,
bottom: o.Grid.GUTTER,
width: 1.5 * o.Grid.GUTTER * (23 / 16),
height: 1.5 * o.Grid.GUTTER,
texture: o.bbOfflineUrl("/sparta/assets/ui/checkmark-ef04940a.png"),
textureMode: "contain"
}, "32f24b5c:124:34");
}), e = r.__decorate([ i.style ], e);
}();
t.AwardItemStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaBattlepackItem"), a = function() {
function e() {}
return e.box = o.stylefunc(function() {
return o.style({
flex: 0,
width: o.Grid.getWidth(4),
height: o.Grid.getHeight(14)
}, "e079bd05:8:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.isDimmed ? .33 : 1
}, "e079bd05:14:40");
}), e.rarityWrapper = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
left: 0,
zOffset: 1,
right: 0,
bottom: 0,
flex: 1,
alignItems: "center"
}, "e079bd05:19:38");
}), e.image = o.wrap(function() {
return o.style({
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
position: "absolute",
top: o.Grid.GUTTER,
left: o.Grid.GUTTER,
right: o.Grid.GUTTER,
height: o.Grid.getHeight(9),
zOffset: 2
}, "e079bd05:31:30");
}), e.multiplier = o.wrap(function() {
return o.style({
position: "absolute",
bottom: 4,
left: 8,
zOffset: 4
}, "e079bd05:44:35");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaBattlepackItemStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(1379), s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement(a.TunguskaBattlepackInventoryFocusItem, {
inventory: this.props.inventory,
listSelectionState: this.props.listSelectionState,
itemSelectionState: this.props.itemSelectionState
});
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaBattlepackInventoryFocusPane = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(1380), s = n(1381), u = n(331), l = n(647), c = n(1382), p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onSuccess = function() {
var e = t.props.itemSelectionState;
e.item && e.item.quantity <= 1 && e.setActiveItem();
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.inventory, n = e.listSelectionState, r = e.itemSelectionState;
if (void 0 === r.index) return o.createElement("surface", null);
var i = t.categories[n.activeItemIndex].items[r.index];
return i ? o.createElement("surface", null, o.createElement(s.TunguskaBattlepackItemDetail, {
item: i
}), o.createElement("surface", {
style: l.TunguskaBattlepackInventory.actions
}, o.createElement(a.BattlepackItemInspectButton, {
item: i,
style: l.TunguskaBattlepackInventory.btn,
useInputButton: !0
}), o.createElement(u.BattlepackItemScrapButton, {
onSuccess: this.onSuccess,
item: i,
style: l.TunguskaBattlepackInventory.btn,
useInputButton: !0
}), o.createElement(c.TunguskaBattlepackItemScrapExchangeButton, {
item: i,
style: l.TunguskaBattlepackInventory.btn
}))) : o.createElement("surface", null);
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaBattlepackInventoryFocusItem = p;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(12), a = n(11), s = n(28), u = n(122), l = n(25), c = n(38), p = n(641), d = n(17), f = n(9), m = n(5).StaticStyle.create({
marginRight: o.spacer(2)
}, "f42c8f02:53:32"), h = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onClick = function() {
l.display(new c.Popup({
id: "inspectPopup",
group: "battlepack",
content: r.createElement(p.BattlepackItemInspectView, {
item: e.props.item,
popupId: "inspectPopup"
}),
createButtons: !1,
inputs: [ new i.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: a.Keys.Decline
}) ]
}));
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
this.props.item;
var t = this.props.label || __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INSPECT");
return f.SpartaGlobals.bundleIsPC || !this.props.useInputButton ? r.createElement(s.Button, e.__assign({
name: "BUTTON_BATTLEPACK_INSPECT",
text: t,
action: this.onClick
}, this.props)) : r.createElement("surface", {
style: [ d.CommonStyles.flexRow, this.props.style ]
}, r.createElement(u.InputButton, {
inputKey: a.Keys.Accept,
label: t,
style: m,
action: this.onClick
}));
}, n;
}(r.Component);
t.BattlepackItemInspectButton = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(5), a = n(8), s = n(6), u = n(126), l = n(19), c = n(209), p = n(9), d = i.StaticStyle.wrapLegacyStyleSheet({
box: {
flex: 0,
width: a.getWidth(6)
},
rarityClip: {
position: "absolute",
top: a.getHeight(-4),
left: 0,
right: 0,
bottom: a.getHeight(-4),
layer: !0,
layerClip: !0,
layerSoftClip: [ a.getHeight(8), 0, a.getHeight(8), 0 ]
},
rarity: {
position: "absolute",
left: 0,
width: a.getWidth(6),
height: a.getHeight(74),
textureMode: "contain",
textureAlign: [ .5, 0 ],
zOffset: 1
},
image: {
textureAtlas: "SpartaCommonAtlas",
textureMode: "contain",
height: a.getHeight(18),
zOffset: 2
},
info: {
zOffset: 3,
marginTop: 4 * a.GUTTER,
marginBottom: 2 * a.GUTTER
},
description: {
marginTop: a.GUTTER,
textAlignForRTL: "left"
},
multiplier: {
position: "absolute",
bottom: 0,
right: 8,
zOffset: 4
}
}, "bc727a8d:11:15"), f = i.StaticStyle.create({
right: p.SpartaGlobals.bundleIsPC ? 300 : 380
}, "bc727a8d:92:36"), m = i.StaticStyle.create({
position: "relative",
height: a.getHeight(18)
}, "bc727a8d:110:24"), h = i.StaticStyle.create({
textAlignForRTL: "left"
}, "bc727a8d:119:58"), g = i.StaticStyle.create({
marginTop: a.GUTTER / 2,
marginRight: a.GUTTER,
textAlignForRTL: "left"
}, "bc727a8d:123:28"), y = i.StaticStyle.create({
marginTop: a.GUTTER
}, "bc727a8d:129:33");
t.TunguskaBattlepackItemDetail = function(e) {
var t, n, a, p, S = e.item, v = e.style, _ = r.__rest(e, [ "item", "style" ]);
S.parentName && S.parentName !== S.name && (t = S.parentName), S.rarenessLevel && (n = u.getName(S.rarenessLevel.value).toUpperCase(), 
a = {
color: u.rgb[S.rarenessLevel.value],
textAlignForRTL: "left"
}, p = {
texture: u.fade[S.rarenessLevel.value]
});
var b, T = S.name, E = S.quantity > 1 ? "x" + S.quantity : "", C = l.isRTLLanguage() ? i.merge2(d.multiplier, f) : d.multiplier;
S.nugget && S.description && (b = o.createElement(s.Text, {
value: S.description,
size: "XS",
style: d.description
}));
var I = [ d.box ];
return Array.isArray(v) ? I = I.concat(v) : v && I.push(v), o.createElement("surface", r.__assign({
style: I
}, _), o.createElement(c.BattlepackImage, {
item: S,
style: m
}), o.createElement("surface", {
style: d.rarityClip
}, o.createElement("surface", {
style: [ d.rarity, p ]
})), o.createElement("surface", {
style: d.info
}, o.createElement(s.Text, {
value: t,
size: "S",
style: h
}), o.createElement(s.Text, {
value: T,
size: "M",
style: g
}), o.createElement("surface", {
style: y
}, o.createElement(s.Text, {
value: n,
size: "S",
type: "emphasis",
style: a
}), o.createElement(s.Text, {
value: E,
size: "S",
type: "emphasis",
style: C
})), b));
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(11), a = n(28), s = n(122), u = n(18), l = n(330), c = n(10), p = n(96), d = n(17), f = n(9), m = n(5).StaticStyle.create({
marginRight: o.spacer(2)
}, "947d7c72:56:32"), h = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.onClick = function() {
var e = c.gameStateStoreLoader.gameStateStore;
if (e && e.isGameViewVisible) l.battlepackTabState.goToTab("scrapexchange"); else {
var t = c.locationStore.location;
u.updateLocation(new p.Location({
path: t.path,
args: Object.assign({}, t.args, {
tab: "scrapexchange"
})
}));
}
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var t = this.props.item;
if (!t.inScrapExchangeOffer || t.quantity >= 1) return null;
var n = this.props.label || __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_VIEW_IN_SCRAPEXCHANGE");
return f.SpartaGlobals.bundleIsPC ? r.createElement(a.Button, e.__assign({
name: "947d7c72:49:34",
text: n,
action: this.onClick
}, this.props)) : r.createElement("surface", {
style: [ d.CommonStyles.flexRow, this.props.style ]
}, r.createElement(s.InputButton, {
inputKey: i.Keys.Option1,
label: n,
style: m,
action: this.onClick
}));
}, n;
}(r.Component);
t.TunguskaBattlepackItemScrapExchangeButton = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(26), a = n(12), s = n(11), u = n(38), l = n(1384), c = n(25), p = n(28), d = n(13), f = n(22), m = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.getInput = function() {
return this.props.inventory.categories && this.showScrapDuplicates ? new a.Input({
label: this.scrapText,
action: this.scrapDuplicates,
key: s.Keys.Option1
}) : null;
}, n.prototype.scrapDuplicates = function() {
c.display(new u.Popup({
id: "scrapDuplicatesConfirmPopup",
group: "inventory",
content: r.createElement(l.TunguskaBattlepackScrapDuplicatesConfirm, {
popupId: "scrapDuplicatesConfirmPopup"
}),
requireOnline: !0,
createButtons: !1,
inputs: [ new a.Input({
label: __("ID_SPARTA_ACTION_BACK"),
key: s.Keys.Decline
}) ]
}));
}, Object.defineProperty(n.prototype, "scrapText", {
get: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INVENTORY_SCRAP_DUPLICATES").replace("[[NUM]]", String(this.props.inventory.duplicateCount));
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "showScrapDuplicates", {
get: function() {
return this.props.inventory.duplicateCount;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
return f.focusSystem.controllerMode || !this.showScrapDuplicates ? null : r.createElement(p.Button, {
name: "e1ff18b2:69:23",
style: {
marginTop: d.Grid.GUTTER,
width: d.Grid.getWidth(6)
},
text: this.scrapText,
textSize: "S",
action: this.scrapDuplicates
});
}, n = e.__decorate([ i.input, o.observer ], n);
}(r.Component);
t.TunguskaScrapDuplicates = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(8), s = n(6), u = n(25), l = n(268), c = n(81), p = n(29), d = n(51), f = n(28), m = n(105), h = n(31), g = n(50), y = n(22), S = n(5), v = {
container: {
alignItems: "center"
},
actions: {
marginTop: 3 * a.GUTTER,
minHeight: 2 * a.getHeight(20) + 2 * a.GUTTER,
alignItems: "center",
justifyContent: "center"
},
btn: {
width: a.getWidth(6),
marginTop: a.GUTTER
}
}, _ = function(e) {
var t = e.isLoading, n = e.scrapDuplicates, o = e.closePopup;
return t ? r.createElement("surface", {
style: v.actions
}, r.createElement(p.Spinner, null), r.createElement(f.Button, {
name: "494535e6:47:31",
text: "",
disabled: !0
})) : r.createElement("surface", {
style: v.actions
}, r.createElement(f.Button, {
name: "494535e6:54:27",
style: v.btn,
text: __("ID_SPARTA_ACTION_CONFIRM"),
action: n
}), !y.focusSystem.controllerMode && r.createElement(f.Button, {
name: "494535e6:61:31",
style: v.btn,
text: __("ID_SPARTA_ACTION_CANCEL").toUpperCase(),
action: o
}));
}, b = S.StaticStyle.create({
marginBottom: 6 * a.GUTTER,
marginTop: 6 * a.GUTTER
}, "494535e6:118:44"), T = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.isLoading = !1, e.inventoryFragment = l.tunguskaBattlepackInventoryStore.get(h.tunguskaGameId), 
e.closePopup = function() {
var t = e.props.popupId;
u.close(t);
}, e.scrapDuplicates = function() {
e.setIsLoading(!0), d.scrapDuplicateItems();
var t = c.scrapDuplicates.listen(function(n) {
t(), n && e.closePopup(), e.setIsLoading(!1);
});
}, e;
}
return e.__extends(n, t), n.prototype.setIsLoading = function(e) {
this.isLoading = e;
}, n.prototype.render = function() {
var e = this;
return r.createElement(g.OptimisticFragmentLoader, {
load: this.inventoryFragment
}, function(t) {
return r.createElement("surface", {
style: v.container
}, r.createElement("surface", {
style: {
alignItems: "center"
}
}, r.createElement(s.Text, {
size: "L",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INVENTORY_SCRAP_ALL_FOR")
}), r.createElement(m.TunguskaBattlepackScraps, {
value: t.duplicateScrapValue,
size: "L",
style: b
}), r.createElement(s.Text, {
size: "XXS",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INVENTORY_TURN_SKINS_TO_SCRAPS").replace("[[NUM]]", String(t.duplicateCount))
}), r.createElement(s.Text, {
size: "XXS",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_INVENTORY_SCRAP_DUPLICATES_INFO")
})), r.createElement(_, {
isLoading: e.isLoading,
scrapDuplicates: e.scrapDuplicates,
closePopup: e.closePopup
}));
});
}, e.__decorate([ i.observable ], n.prototype, "isLoading", void 0), e.__decorate([ i.action ], n.prototype, "setIsLoading", null), 
n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaBattlepackScrapDuplicatesConfirm = T;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(66), i = n(3), a = n(4), s = n(15), u = n(76), l = n(137), c = n(1386), p = n(274), d = n(25), f = n(8), m = n(6), h = n(19), g = n(105), y = n(38), S = n(12), v = n(11), _ = n(58), b = n(37), T = n(126), E = n(9), C = n(22), I = {
priceAndRarity: {
flex: 1,
justifyContent: "flex-end"
},
parentName: {
marginBottom: 2 * f.GUTTER,
opacity: .5
},
name: {
marginBottom: f.GUTTER,
textAlignForRTL: "left"
}
}, A = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.openScrapExchangeItem = function() {
d.display(new y.Popup({
id: "scrapexchangeConfirmPopup",
group: "scrapexchange",
content: r.createElement(c.TunguskaScrapExchangeConfirm, {
popupId: "scrapexchangeConfirmPopup",
item: n.props.item
}),
requireOnline: !0,
createButtons: !1,
inputs: [ new S.Input({
label: __("ID_SPARTA_ACTION_BACK"),
key: v.Keys.Decline
}) ]
}));
}, n.focusItem = C.focusSystem.create(n, o.autoId("TunguskaBattlepackSkinCard")), 
n.focusItem.autoFocusCandidate = !0, n.colorTween = s.Animation.tween("5d56042f:63:43", "#ffffff"), 
n.disposeReaction = i.reaction(function() {
return n.focusItem.isFocusedOrHovered;
}, function(e) {
e ? n.colorTween.promiseTo("#000000", l.tweenInOptions) : n.colorTween.promiseTo("#ffffff", l.tweenOutOptions);
}, {
fireImmediately: !0
}), n;
}
return e.__extends(n, t), n.prototype.componentWillUnmount = function() {
this.disposeReaction && this.disposeReaction(), this.colorTween.destroy();
}, n.prototype.render = function() {
var e, t = this.props.item, n = t.battlepack.rarenessLevel.value;
e = !t.battlepack.nugget && t.ownedQuantity > 0 ? r.createElement(m.Text, {
size: "XS",
style: {
opacity: .5
},
value: __("ID_SPARTA_COMMERCE_OFFER_OWNED").toUpperCase()
}) : r.createElement(g.TunguskaBattlepackScraps, {
color: this.colorTween.getStyle(),
size: "XS",
value: t.price
});
var o = t.battlepack.itemType.toUpperCase(), i = r.createElement(p.TunguskaBattlepackSkinWithRarity, {
item: t.battlepack,
color: "BOOST" === o || "BLUEPRINT" === o ? this.colorTween.getStyle() : void 0
}), a = r.createElement("surface", {
style: I.priceAndRarity
}, r.createElement(m.Text, {
style: {
marginBottom: 2 * f.GUTTER,
textAlignForRTL: "left"
},
size: "XS",
value: T.getName(n).toUpperCase(),
color: 0 === n ? void 0 : T.rgb[n]
}), e), s = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SKIN_FOR").replace("[[value]]", t.battlepack.parentName).toUpperCase(), l = E.SpartaGlobals.bundleIsConsole ? b.CardSize.M : b.CardSize.SSM, c = f.getWidth(b.CARD_WIDTH.cells[l]) - 6 * f.GUTTER;
return r.createElement(u.BasicCard, {
focusItem: this.focusItem,
description: a,
size: l,
overlay: i,
onPress: this.openScrapExchangeItem
}, !t.battlepack.nugget && r.createElement("surface", {
style: {
flexDirection: "row"
}
}, r.createElement(_.Marquee, {
width: c,
focusItem: this.focusItem,
rtl: h.isRTLLanguage()
}, r.createElement(m.Text, {
size: "XXS",
value: s,
style: I.parentName
}))), r.createElement(m.Text, {
size: "S",
value: t.battlepack.name,
style: I.name
}));
}, n = e.__decorate([ a.observer ], n);
}(r.Component);
t.TunguskaBattlepackScrapExchangeCard = A;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(452), s = n(28), u = n(8), l = n(25), c = n(51), p = n(81), d = n(29), f = n(451), m = n(207), h = n(31), g = n(9), y = n(22), S = n(7), v = {
container: {
alignItems: "center"
},
btn: {
width: u.getWidth(6),
marginTop: u.GUTTER
}
}, _ = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = S.SpartaContext.getFromComponent(r), r.isLoading = !1, r.buyForScraps = function() {
r.setIsLoading(!0), c.buyBattlepackScrapExchange(r.props.item.battlepack.key, r.props.item.price, r.scrapBalance);
var e = p.buyScrapExchangeOffer.listen(function(t) {
e(), t && (r.closePopup(), r.props.item.updateOwnedQuantity()), r.setIsLoading(!1);
});
}, r.closePopup = function() {
r.props.popupId && l.close(r.props.popupId);
}, r.focusAncestor = y.focusSystem.createAncestor("BattlepackConfirmBuy"), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.sparta.stores.pinStore.trackPageView("tunguska/more/battlepacks?tab=scrapexchange&itemId=" + this.props.item.battlepack.key), 
this.sparta.stores.gaStore.trackScreen("tunguska/more/battlepacks/scrapexchange/?itemId=" + this.props.item.battlepack.key);
}, n.prototype.componentWillUnmount = function() {
this.focusAncestor.destroy();
}, n.prototype.setIsLoading = function(e) {
this.isLoading = e;
}, Object.defineProperty(n.prototype, "scrapBalance", {
get: function() {
var e = m.tunguskaBattlepackSummaryStore.get(h.tunguskaGameId).value;
return e ? e.scraps : 0;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "canAfford", {
get: function() {
return this.scrapBalance >= this.props.item.price;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var t, n = this.props.item, o = n.price, i = {
alignItems: "center",
justifyContent: "center",
minHeight: u.getHeight(g.SpartaGlobals.bundleIsConsole ? 10 : 16)
};
return t = this.isLoading ? r.createElement("surface", {
style: i
}, r.createElement(d.Spinner, null), r.createElement(s.Button, {
name: "e93d058d:117:35",
text: "",
disabled: !0
})) : r.createElement("surface", {
style: i
}, this.canAfford && r.createElement(a.ScrapValueButton, {
name: "e93d058d:125:35",
value: o + "",
style: v.btn,
text: __("ID_SPARTA_ACTION_BUY").toUpperCase(),
action: this.buyForScraps
})), r.createElement("surface", e.__assign({
style: v.container
}, this.focusAncestor.hooks), r.createElement(f.TunguskaBattlepackSingleItem, {
isOwned: !n.battlepack.nugget && n.ownedQuantity > 0,
showUnlockStatus: !n.battlepack.nugget,
isParentOwned: n.parentOwned,
item: n.battlepack
}), t);
}, n.contextTypes = S.SpartaContext.contextTypes, n.showCloseButton = !0, e.__decorate([ i.observable ], n.prototype, "isLoading", void 0), 
e.__decorate([ i.action ], n.prototype, "setIsLoading", null), n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaScrapExchangeConfirm = _;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(4), i = n(89), a = n(19);
t.PuzzleCategories = o.observer(function(e) {
var t = e.puzzleValue, n = e.listSelectionState;
return r.createElement(i.List, null, t.categories.map(function(e, t) {
var o = "listitem_" + e.name;
return r.createElement(i.ListItem, {
index: t,
key: e.name,
selectionState: n,
debugName: o
}, a.localeRearrange([ r.createElement(i.ListItemLabel, {
key: "name",
flex: 4,
value: e.name.toUpperCase(),
right: a.isRTLLanguage()
}), r.createElement(i.ListItemLabel, {
key: "progress",
value: (e.unlocked + "/" + e.total).toUpperCase(),
right: !a.isRTLLanguage()
}) ]));
}));
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(4), i = n(235), a = n(237), s = n(210), u = n(1389), l = n(1390), c = n(10);
t.PuzzlePieces = o.observer(function(e) {
var t = e.puzzleValue, n = e.inventoryValue, o = e.listSelectionState, p = c.gameStateStoreLoader.get(), d = t.categories[o.activeItemIndex].items, f = new i.TableRenderer("item-table", 3, a.TunguskaBattlepackPuzzle2.tableWidth, p.isGameViewVisible ? a.TunguskaBattlepackPuzzle2.gameviewTableHeight : a.TunguskaBattlepackPuzzle2.tableHeight, 0, a.TunguskaBattlepackPuzzle2.cellWidth, a.TunguskaBattlepackPuzzle2.cellHeight, s.contentSoftClip);
return d.forEach(function(e, t) {
f.addRowCell("itemcard_" + e.packKey, function(t, o) {
var i = new u.BattlepackInventoryPuzzle(e, n);
return r.createElement(l.PuzzlePiece, {
style: a.TunguskaBattlepackPuzzle2.cellStyle(t),
puzzlePiece: i,
key: e.packKey,
focusItem: o
});
});
}), f.end(), r.createElement("surface", null, f.render());
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(269), o = function() {
function e(e, t) {
if (this.puzzle = e, e.item && e.price) {
var n = t.getItemByKey(e.item.key);
this.weapon = n || new r.BattlepackItem({
key: e.item.key,
quantity: "0"
});
var o = t.getItemByKey(e.price.name);
this.item = o || new r.BattlepackItem({
key: e.price.name,
quantity: "0"
}), this.isUnlocked = !!(this.weapon && this.weapon.quantity > 0);
}
}
return Object.defineProperty(e.prototype, "canBuild", {
get: function() {
return !(!this.item || !this.puzzle.price) && (!this.isUnlocked && this.item.quantity >= parseFloat(this.puzzle.price.quantity));
},
enumerable: !0,
configurable: !0
}), e;
}();
t.BattlepackInventoryPuzzle = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(76), s = n(37), u = n(237), l = n(650), c = n(1391), p = n(209), d = n(6), f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onPress = function() {
c.openPuzzlePopup(t.props.puzzlePiece);
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props, t = e.puzzlePiece, n = e.style, r = e.focusItem, i = t.isUnlocked;
if (!t.weapon || !t.item) return null;
var c = o.createElement(d.Text, {
size: "S",
style: u.TunguskaBattlepackPuzzle2.cellTitle({
isUnlocked: i
}),
value: t.weapon.name
});
return o.createElement(a.BasicCard, {
style: n,
focusItem: r,
size: s.CardSize.SW,
heading: c,
overlay: o.createElement(l.PuzzleProgressbar, {
puzzlePiece: t
}),
onPress: this.onPress
}, o.createElement(p.BattlepackImage, {
item: i ? t.weapon : t.item,
focusItem: r,
dimmed: !i,
style: u.TunguskaBattlepackPuzzle2.puzzlePieceImage
}));
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.PuzzlePiece = f;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(25), s = n(38), u = n(12), l = n(11), c = n(650), p = n(237), d = n(6), f = n(1392), m = n(1393), h = n(1394), g = n(209), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.isBuilding = !1, e.handleStartClaim = function() {
e.isBuilding = !0;
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props.puzzlePiece;
return r.createElement("surface", {
style: p.TunguskaBattlepackPuzzle2.popupContainer
}, r.createElement("surface", {
style: p.TunguskaBattlepackPuzzle2.popupContent
}, r.createElement("surface", {
style: p.TunguskaBattlepackPuzzle2.popupImageContainer
}, r.createElement(g.BattlepackImage, {
item: e.weapon,
style: p.TunguskaBattlepackPuzzle2.popupImage
}), r.createElement(c.PuzzleProgressbar, {
puzzlePiece: e
})), r.createElement("surface", {
style: p.TunguskaBattlepackPuzzle2.popupInfo
}, r.createElement("surface", {
style: p.TunguskaBattlepackPuzzle2.popupInfoHeader
}, r.createElement(d.Text, {
size: "L",
value: e.weapon.name,
style: p.TunguskaBattlepackPuzzle2.popupName
}), r.createElement("surface", {
style: p.TunguskaBattlepackPuzzle2.popupPieceCount
}, r.createElement(f.PuzzlePieceCount, {
puzzlePiece: e
}))), r.createElement(d.Text, {
size: "S",
value: e.puzzle.item && e.puzzle.item.description,
style: p.TunguskaBattlepackPuzzle2.popupDescription
}), r.createElement("surface", {
style: p.TunguskaBattlepackPuzzle2.popupActionContainer
}, r.createElement(m.PuzzleClaim, {
puzzlePiece: e,
onStart: this.handleStartClaim
}), !this.isBuilding && r.createElement(h.PuzzleScrap, {
puzzlePiece: e
})))));
}, n.showCloseButton = !0, e.__decorate([ o.observable ], n.prototype, "isBuilding", void 0), 
e.__decorate([ o.action ], n.prototype, "handleStartClaim", void 0), n = e.__decorate([ i.observer ], n);
}(r.Component);
t.openPuzzlePopup = function(e) {
a.display(new s.Popup({
group: "puzzlePiece",
content: r.createElement(y, {
puzzlePiece: e
}),
fullScreen: !0,
createButtons: !1,
requireOnline: !0,
inputs: [ new u.Input({
label: __("ID_SPARTA_ACTION_CLOSE", !0),
key: l.Keys.Decline
}) ]
}));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(1), r = n(4), o = n(237), i = n(6), a = n(19);
t.PuzzlePieceCount = r.observer(function(t) {
var n = t.puzzlePiece, r = n.puzzle.price, s = "";
n.isUnlocked ? s = String(n.item.quantity) : r && (s = n.item.quantity + "/" + r.quantity);
var u = [];
return n.isUnlocked && u.push(e.createElement(i.Text, {
key: "puzzle-built",
size: "M",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_PUZZLE_WEAPON_BUILT"),
style: o.TunguskaBattlepackPuzzle2.popupPuzzlePieceCountBuilt({
isRTL: a.isRTLLanguage()
})
})), u = u.concat([ e.createElement("surface", {
key: "puzzle-piece",
style: [ o.TunguskaBattlepackPuzzle2.popupPuzzlePieceIcon ]
}), e.createElement(i.Text, {
key: "puzzle-count",
size: "M",
value: s,
style: o.TunguskaBattlepackPuzzle2.popupPuzzlePieceCountText({
isRTL: a.isRTLLanguage()
})
}) ]), e.createElement("surface", {
style: o.TunguskaBattlepackPuzzle2.puzzlePieceCountContainer({
isRTL: a.isRTLLanguage()
})
}, a.localeRearrange(u));
});
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(28), s = n(25), u = n(38), l = n(81), c = n(31), p = n(234), d = n(643), f = n(237), m = n(29), h = n(8), g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.isLoading = !1, e.handleAction = function() {
e.props.onStart(), e.setLoading(!0);
var t = e.claimBattlepack();
t.onSuccess(function(t) {
t && t.items ? e.showOpening(new p.Battlepack(t).items[0]) : e.onClaimDone();
}), t.onError(e.onClaimDone);
}, e;
}
return e.__extends(n, t), n.prototype.setLoading = function(e) {
this.isLoading = e;
}, n.prototype.claimBattlepack = function() {
return l.openBattlepack.request({
game: c.tunguskaGameId,
withVoucher: this.props.puzzlePiece.puzzle.packKey
});
}, n.prototype.showOpening = function(e) {
s.display(new u.Popup({
group: "puzzlePiece",
content: r.createElement("surface", {
style: f.TunguskaBattlepackPuzzle2.openingDock
}, r.createElement(d.TunguskaBattlepackOpenedItem, {
item: e,
continueCallback: this.onClaimDone
})),
fullScreen: !0,
containContent: !1,
createButtons: !1,
requireOnline: !0
}));
}, n.prototype.onClaimDone = function() {
s.closeGroup("puzzlePiece");
}, n.prototype.render = function() {
return this.props.puzzlePiece.canBuild ? this.isLoading ? r.createElement(m.CenteredSpinner, null) : r.createElement(a.Button, {
name: "232a5279:89:23",
style: {
marginBottom: h.spacer(1)
},
text: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_CLAIM_ITEM"),
textSize: "S",
action: this.handleAction
}) : null;
}, e.__decorate([ o.observable ], n.prototype, "isLoading", void 0), e.__decorate([ o.action ], n.prototype, "setLoading", null), 
n = e.__decorate([ i.observer ], n);
}(r.Component);
t.PuzzleClaim = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(331), a = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(i.BattlepackItemScrapButton, {
item: this.props.puzzlePiece.item,
label: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAP_PUZZLE_FOR")
});
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.PuzzleScrap = a;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(14), o = n(394), i = n(1396), a = n(9), s = n(174), u = "XBOXONE", l = "PS4", c = "PC", p = n(40).getBuildInfo().isCTE(), d = p ? {
"en-us": r.bbOfflineUrl("/sparta/assets/legal/BF1-CTE-EULA-pc-en_us-3c3fa1c6.txt")
} : {
"ar-sa": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_ARA_SA-e1299a03.txt"),
"cs-cz": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_CZE_CZ-2f5cf166.txt"),
"de-de": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_GER_DE-e6a5fea4.txt"),
"en-us": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_ENG_US-eee34ba6.txt"),
"es-es": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_SPA_ES-7cac774b.txt"),
"es-mx": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_SPA_MX-787efc14.txt"),
"fr-fr": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_FRE_FR-6516a345.txt"),
"it-it": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_ITA_IT-3bcc4a1f.txt"),
"ja-jp": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_JPN_JP-963199c0.txt"),
"ko-kr": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_KOR_KR-562d3b5c.txt"),
"pl-pl": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_POL_PL-ab9eea33.txt"),
"pt-br": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_POR_BR-b17f8208.txt"),
"ru-ru": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_RUS_RU-ef067c66.txt"),
"tr-tr": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_TUR_TR-be6c0713.txt"),
"zh-tw": r.bbOfflineUrl("/sparta/assets/legal/EULA_US_ROW_EU_PS4_XBOX_ONE_4.15.16_CHT_CN-9801c961.txt")
}, f = {
xboxone: {
EULA: d,
TOS: {
"ar-sa": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-ar-838e26f3.txt"),
"cs-cz": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-cs-c1e79c5a.txt"),
"de-de": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-de-50049396.txt"),
"en-us": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-en-e5b14b41.txt"),
"es-es": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-es-6fd278b8.txt"),
"es-mx": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-mx-d2a1ff28.txt"),
"fr-fr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-fr-75e4500d.txt"),
"it-it": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-it-19f00637.txt"),
"ja-jp": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-jp-def3fcc7.txt"),
"ko-kr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-ko-2d0db025.txt"),
"pl-pl": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-pl-330ae929.txt"),
"pt-br": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-br-742841a0.txt"),
"ru-ru": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-ru-049703a6.txt"),
"tr-tr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-tr-cbb786c1.txt"),
"zh-tw": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-XBOXONE-tc-47f8cfcf.txt")
},
PP: {
"ar-sa": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ar-c5b69842.txt"),
"cs-cz": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-cs-e8558212.txt"),
"de-de": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-de-87aa792f.txt"),
"en-us": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-en-19b7fd61.txt"),
"es-es": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-es-58a02f3a.txt"),
"es-mx": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-mx-c16db0b8.txt"),
"fr-fr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-fr-65fbf187.txt"),
"it-it": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-it-58253880.txt"),
"ja-jp": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-jp-b69421f7.txt"),
"ko-kr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ko-45b894c8.txt"),
"pl-pl": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-pl-421c8f85.txt"),
"pt-br": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-br-f63d2687.txt"),
"ru-ru": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-ru-2cc0c661.txt"),
"tr-tr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tr-ecb70fcd.txt"),
"zh-tw": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-XBOX-tc-a26a741a.txt")
}
},
ps4: {
EULA: d,
TOS: {
"ar-sa": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ar-a24c85bd.txt"),
"cs-cz": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-cs-041c269d.txt"),
"de-de": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-de-2fda6c89.txt"),
"en-us": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-en-e6cd1be4.txt"),
"es-es": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-es-117b19dd.txt"),
"es-mx": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-mx-207e473a.txt"),
"fr-fr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-fr-921878e1.txt"),
"it-it": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-it-b7c13e4c.txt"),
"ja-jp": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ja-cebe5dbd.txt"),
"ko-kr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ko-fad1f1cf.txt"),
"pl-pl": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-pl-5300e7dd.txt"),
"pt-br": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-br-692d98a9.txt"),
"ru-ru": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-ru-cf76eb3e.txt"),
"tr-tr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-tr-f922a86e.txt"),
"zh-tw": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PS4-tc-d3ea9753.txt")
},
PP: {
"ar-sa": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ar-d23e6be9.txt"),
"cs-cz": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-cz-10dcf052.txt"),
"de-de": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-de-5db91fe6.txt"),
"en-us": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-en-16fa45b7.txt"),
"es-es": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-es-6eeac95c.txt"),
"es-mx": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-mx-1430f8e3.txt"),
"fr-fr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-fr-928bd643.txt"),
"it-it": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-it-0d3747ea.txt"),
"ja-jp": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ja-2f18926b.txt"),
"ko-kr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ko-8e236800.txt"),
"pl-pl": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-pl-b99d410e.txt"),
"pt-br": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-br-8254622f.txt"),
"ru-ru": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-ru-c6b56e0d.txt"),
"tr-tr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tr-375ff060.txt"),
"zh-tw": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PS4-tc-3289d77a.txt")
}
},
pc: {
EULA: p ? {
"en-us": r.bbOfflineUrl("/sparta/assets/legal/BF1-CTE-EULA-pc-en_us-3c3fa1c6.txt")
} : {
"ar-sa": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ARA_SA-9f1bb4e4.txt"),
"cs-cz": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ENG_US-a9f0a043.txt"),
"de-de": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.30.16_GER_DE-19c12cfd.txt"),
"en-us": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ENG_US-a9f0a043.txt"),
"es-es": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_SPA_ES-21991268.txt"),
"es-mx": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_SPA_MX-c15115f5.txt"),
"fr-fr": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_FRE_FR-650af657.txt"),
"it-it": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ITA_IT-eb9da764.txt"),
"ja-jp": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_JPN_JP-a65900c0.txt"),
"ko-kr": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_ENG_US-a9f0a043.txt"),
"pl-pl": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_POL_PL-be5cd911.txt"),
"pt-br": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_POR_BR-c2728510.txt"),
"ru-ru": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_RUS_RU-35cfb05f.txt"),
"tr-tr": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_TUR_TR-26a86f73.txt"),
"zh-tw": r.bbOfflineUrl("/sparta/assets/legal/EULA_Battlefield1_PC_8.16.16_CHT_CN-23d94b14.txt")
},
TOS: {
"ar-sa": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-ar-99d3ac63.txt"),
"cs-cz": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-cs-b51352dc.txt"),
"de-de": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-de-9fef088a.txt"),
"en-us": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-en-fc85ec7e.txt"),
"es-es": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-es-de5f00b2.txt"),
"es-mx": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-mx-9bc74e74.txt"),
"fr-fr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-fr-bd3ace93.txt"),
"it-it": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-it-16a9da23.txt"),
"ja-jp": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-jp-de6a5a0e.txt"),
"ko-kr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-ko-5428e67d.txt"),
"pl-pl": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-pl-80950584.txt"),
"pt-br": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-br-bcab0db8.txt"),
"ru-ru": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-ru-5c77c7d9.txt"),
"tr-tr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-tr-f731ec3a.txt"),
"zh-tw": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Terms_of_service-PC-tc-267334b9.txt")
},
PP: {
"ar-sa": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ar-e158ccf8.txt"),
"cs-cz": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-cs-08e36f8e.txt"),
"de-de": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-de-5acd94c7.txt"),
"en-us": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-en-d41c6ce1.txt"),
"es-es": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-es-9b5b964e.txt"),
"es-mx": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-mx-239b4588.txt"),
"fr-fr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-fr-751c0122.txt"),
"it-it": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-it-e918e658.txt"),
"ja-jp": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-jp-d0447da4.txt"),
"ko-kr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ko-a64cd41f.txt"),
"pl-pl": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-pl-9011ec1f.txt"),
"pt-br": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-br-40bcc8f5.txt"),
"ru-ru": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-ru-eeb84d61.txt"),
"tr-tr": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tr-1162c67a.txt"),
"zh-tw": r.bbOfflineUrl("/sparta/assets/legal/BF1-EA-Privacy_Policy-PC-tc-20c38a96.txt")
}
}
}, m = {}, h = {}, g = {}, y = {
PC: function() {
return __("ID_SPARTA_ONLINE_SERVICE_PC");
},
PS4: function() {
return __("ID_SPARTA_ONLINE_SERVICE_PS4");
},
XBOXONE: function() {
return __("ID_SPARTA_ONLINE_SERVICE_XBOXONE");
}
};
m[u] = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_EULA_TITLE");
},
sources: f.xboxone.EULA
}, m[l] = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_EULA_TITLE");
},
sources: f.ps4.EULA
}, m[c] = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_EULA_TITLE");
},
sources: f.pc.EULA
}, h[u] = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: f.xboxone.PP
}, h[l] = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: f.ps4.PP
}, h[c] = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_PRIVACY_TITLE");
},
sources: f.pc.PP
}, g[u] = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_TOS_TITLE");
},
sources: f.xboxone.TOS
}, g[l] = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_TOS_TITLE");
},
sources: f.ps4.TOS
}, g[c] = {
getTitle: function() {
return __("ID_SPARTA_LEGAL_TOS_TITLE");
},
sources: f.pc.TOS
};
var S = m[a.SpartaGlobals.bundlePlatform], v = h[a.SpartaGlobals.bundlePlatform], _ = g[a.SpartaGlobals.bundlePlatform], b = y[a.SpartaGlobals.bundlePlatform || "PC"], T = {
PC: {
getAcceptMessage: function(e) {
var t = __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_PC");
return e === s.Locales.GERMAN && (t = t.concat(" " + __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE_GERMANY_ADDENDUM"))), 
t;
},
textsToShow: {
TOS: _,
PP: v
},
textsToAccept: {
EULA: S
}
},
PS4: {
getAcceptMessage: function(e) {
var t = __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE");
return e === s.Locales.GERMAN && (t = t.concat(" " + __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE_GERMANY_ADDENDUM"))), 
t;
},
textsToShow: {
TOS: _,
PP: v
},
textsToAccept: {
EULA: S
}
},
XBOXONE: {
getAcceptMessage: function(e) {
var t = __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE");
return e === s.Locales.GERMAN && (t = t.concat(" " + __("ID_SPARTA_LEGAL_ACCEPT_MESSAGE_CONSOLE_GERMANY_ADDENDUM"))), 
t;
},
textsToShow: {
TOS: _,
PP: v
},
textsToAccept: {
EULA: S
}
}
}, E = function(t) {
function n() {
var n = null !== t && t.apply(this, arguments) || this;
return n.legalConfig = e.__assign({}, T[a.SpartaGlobals.bundlePlatform], {
companion: {
getContent: function() {
return __("ID_SPARTA_TUNGUSKA_COMPANION_LEGAL_TEXT").replace("[[online_service]]", b);
},
showPopup: i.showCompanionLegalPopup
},
textsWithOptOut: {
stats: {
getTitle: function() {
return __("ID_SPARTA_LEGAL_USAGE_DATA_TITLE");
},
getContent: function() {
return __("ID_SPARTA_LEGAL_USAGE_DATA_TEXT").replace("[[linebreak]]", "\n\n");
},
getOptionLabel: function() {
return __("ID_SPARTA_LEGAL_USAGE_DATA_OPTION_LABEL");
},
flag: "legal_stats_api",
defaultState: !0
}
}
}), n;
}
return e.__extends(n, t), n.prototype.getConfig = function() {
return this.legalConfig;
}, n;
}(o.LegalConfigStore);
t.TunguskaLegalConfigStore = E;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(1), r = n(6), o = n(21), i = n(25), a = n(38), s = n(12), u = n(11), l = n(5).StaticStyle.create({
marginBottom: 24,
textAlign: "center",
textAlignForRTL: "center",
textLineSpacing: Math.round(1.2 * o.LINE_HEIGHTS.S)
}, "1cb38b1b:18:32");
t.showCompanionLegalPopup = function c(t) {
return new Promise(function(n) {
i.display(new a.Popup({
content: e.createElement(r.Text, {
value: t,
size: o.TextSize.S,
style: l
}),
createButtons: !0,
inputs: [ new s.Input({
label: __("ID_SPARTA_ACTION_OK"),
key: u.Keys.Accept,
action: function() {
return n();
}
}) ]
}));
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(5);
t.renderTunguskaLogo = function a(e) {
return o.createElement(s, r.__assign({}, e));
};
var s = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = i.DynamicStyle.create({
texture2: this.props.image,
texture2Mode: "contain",
texture2Align: [ .5, .5 ],
blendMode: "screen",
flex: 1,
zOffset: 2
}, "23856aac:11:31"), t = i.DynamicStyle.create({
width: this.props.width,
height: this.props.height,
blendMode: "screen"
}, "23856aac:20:24");
return o.createElement("surface", {
style: t
}, o.createElement("surface", {
style: e
}, this.props.children));
}, t;
}(o.Component);
t.TunguskaLogo = s;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(176);
t.getServerFilters = function r() {
return {
slots: new e.BoolFilterOptionsCategory([ {
name: __("ID_SPARTA_FILTER_SLOTS_NONE"),
filterKey: "none",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ONETOFIVE"),
filterKey: "oneToFive",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SIXTOTEN"),
filterKey: "sixToTen",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_TENPLUS"),
filterKey: "tenPlus",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ALL"),
filterKey: "all",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SPECTATOR"),
filterKey: "spectator",
PCOnly: !0,
type: e.FilterOptionType.Bool
} ]),
gameSizes: new e.BoolFilterOptionsCategory([ {
name: "10",
filterKey: "10",
type: e.FilterOptionType.Bool
}, {
name: "16",
filterKey: "16",
type: e.FilterOptionType.Bool
}, {
name: "24",
filterKey: "24",
type: e.FilterOptionType.Bool
}, {
name: "32",
filterKey: "32",
type: e.FilterOptionType.Bool
}, {
name: "40",
filterKey: "40",
type: e.FilterOptionType.Bool
}, {
name: "48",
filterKey: "48",
type: e.FilterOptionType.Bool
}, {
name: "64",
filterKey: "64",
type: e.FilterOptionType.Bool
} ])
};
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(31), i = n(4), a = n(14), s = n(76), u = n(37), l = n(72), c = n(651), p = n(161), d = n(67), f = n(8), m = n(18), h = n(51), g = n(32), y = n(82), S = n(7), v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = S.SpartaContext.getFromComponent(e), e.onOptions = function() {
return p.requiresRime(o.tunguskaGameId, h.gameShowOptions, "CrossSection", "Options");
}, e.onAbout = function() {
return m.gotoLocation("tunguska/more/about");
}, e.onCredits = function() {
return p.requiresRime(o.tunguskaGameId, h.gameShowCredits, "CrossSection", "Credits");
}, e.onBattlepacks = function() {
return p.requiresHostingGame(o.tunguskaGameId, function() {
return m.gotoLocation("tunguska/more/battlepacks");
}, "CrossSection", "Battlepacks");
}, e.onCompanion = function() {
return m.gotoLocation("tunguska/more/companion");
}, e.onCTESignup = function() {
return p.requiresHostingGame(o.tunguskaGameId, function() {
return m.gotoLocation("tunguska/more/ctesignup");
}, "CrossSection", "CTESignUp");
}, e.onICESignup = function() {
return p.requiresHostingGame(o.tunguskaGameId, function() {
return m.gotoLocation("tunguska/more/cteicesignup");
}, "CrossSection", "ICESignUp");
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.twinkle.buildInfo, t = this.sparta.stores.presenceStateStore, n = !p.rimeTransitionState.isInJoinFlow && d.routeIsHostingGame.get(), o = !t.isReady, i = t.isTooYoung, c = t.mustPurchasePSPlus, m = o || i || !d.routeIsHostingGame.get(), h = e.isPC ? void 0 : u.CardSize.M, g = e.isCTE(), S = r.createElement(s.BasicCard, {
key: "options",
enabled: n,
size: h,
heading: __("ID_SPARTA_CARD_OPTIONS"),
headingType: "emphasis",
iconSize: .5,
icon: a.bbOfflineUrl("/sparta/jsclient/builds/assets/big_options-24a1279a.png"),
activeIconColor: "#000000",
onPress: this.onOptions,
debugName: "cardMoreOptions"
}), v = r.createElement(s.BasicCard, {
key: "about",
size: h,
heading: __("ID_SPARTA_CARD_ABOUT"),
headingType: "emphasis",
iconSize: .5,
icon: a.bbOfflineUrl("/sparta/jsclient/builds/assets/big_about-aa28071c.png"),
activeIconColor: "#000000",
onPress: this.onAbout,
debugName: "cardMoreAbout"
}), _ = r.createElement(s.BasicCard, {
key: "credits",
enabled: n,
size: h,
heading: __("ID_SPARTA_CARD_CREDITS"),
headingType: "emphasis",
iconSize: .5,
icon: a.bbOfflineUrl("/sparta/jsclient/builds/assets/big_credits-30d1be9c.png"),
activeIconColor: "#000000",
onPress: this.onCredits,
debugName: "cardMoreCredits"
}), b = [];
if (!this.sparta.stores.installStateStore.isInstalling && !c && !g) {
var T = a.bbOfflineUrl("/sparta/jsclient/builds/assets/battlepacks_bf1_big_white-b77228eb.png"), E = r.createElement(s.BasicCard, {
key: "battlepacks",
size: h,
enabled: !m,
triggerMode: m ? "before" : "between",
heading: __("ID_SPARTA_CARD_BATTLEPACKS"),
headingType: "emphasis",
iconSize: .5,
icon: T,
activeIconColor: "#000000",
debugName: "cardMoreBattlepacks",
onPress: this.onBattlepacks
});
b.push(E);
}
if (b.push(S), !g) {
var C = a.bbOfflineUrl("/sparta/jsclient/builds/assets/big_companion-38417f14.png"), I = r.createElement(s.BasicCard, {
key: "companion",
size: h,
heading: __("ID_SPARTA_CARD_COMPANION"),
headingType: "emphasis",
iconSize: .5,
icon: C,
activeIconColor: "#000000",
debugName: "cardMoreCompanion",
onPress: this.onCompanion
});
b.push(I);
}
if (!g && y.tunguskaFeatureFlags.tunguskaCTERegister.isEnabled() && !g) {
var A = a.bbOfflineUrl("/sparta/assets/tunguska/cte-icon-white-300-9521c625.png"), w = r.createElement(s.BasicCard, {
key: "ctesignup",
enabled: d.routeIsHostingGame.get(),
size: h,
heading: __("ID_SPARTA_CARD_CTE"),
headingType: "emphasis",
iconSize: .5,
icon: A,
activeIconColor: "#000000",
debugName: "cardMoreCTE",
onPress: this.onCTESignup
});
b.push(w);
}
if (!g && y.tunguskaFeatureFlags.tunguskaICERegister.isEnabled()) {
var P = a.bbOfflineUrl("/sparta/assets/tunguska/cte-icon-white-300-9521c625.png"), R = r.createElement(s.BasicCard, {
key: "icesignup",
enabled: d.routeIsHostingGame.get(),
size: h,
heading: __("ID_SPARTA_CARD_CTE_ICE"),
headingType: "emphasis",
iconSize: .5,
icon: P,
activeIconColor: "#000000",
debugName: "cardMoreICE",
onPress: this.onICESignup
});
b.push(R);
}
return b.push(v), b.push(_), r.createElement(l.CardCarousel, {
id: "f35231b1:206:31",
width: f.getWidth(24)
}, b);
}, n.contextTypes = S.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.TunguskaMoreContent = v;
var _ = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(g.Template, {
wideContent: !0,
scrollContent: !1,
belowContent: r.createElement(c.BundleInfo, null)
}, r.createElement(v, null));
}, n;
}(r.Component);
t.TunguskaMore = _;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(14), s = n(10), u = n(8), l = n(6), c = n(32), p = n(28), d = n(36), f = n(1401), m = n(5), h = n(47), g = m.StaticStyle.wrapLegacyStyleSheet({
headlineContainer: {
alignItems: "center",
justifyContent: "center"
},
calloutContainer: {
width: u.getWidth(5),
marginRight: u.getWidth(1)
},
image: {
width: 226,
height: 334,
marginBottom: 20,
marginTop: 20
},
textContainer: {
marginLeft: 10,
marginRight: 10
},
textRTL: {
textAlignForRTL: "left"
}
}, "74731d96:17:15"), y = i.observable({
enabled: !0,
text: ""
}), S = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.sendOnboardingEmail = function() {
var e = f.CompanionOnboardingClient.listen(i.action(function(t) {
null === t ? (h.PopupManager.standardAlert(__("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_ERROR_TEXT", !0), __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_ERROR_TITLE", !0)), 
y.enabled = !0, d.trackFunnel("companion/onboarding/error"), d.trackEvent("Companion", "Onboarding", "Error")) : (h.PopupManager.standardAlert(__("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_CONFIRMATION_TEXT", !0).replace("[[email]]", t), __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_CONFIRMATION_TITLE", !0)), 
y.enabled = !1, y.text = __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_SEND_SENT"), d.trackFunnel("companion/onboarding/success"), 
d.trackEvent("Companion", "Onboarding", "Success")), e();
}));
y.enabled = !1, y.text = __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_SEND_LOADING"), 
f.CompanionOnboardingClient.trigger(), d.trackFunnel("companion/onboarding/send"), 
d.trackEvent("Companion", "Onboarding", "Send");
}, n.prototype.render = function() {
return y.enabled ? r.createElement(p.Button, {
name: "74731d96:91:27",
text: this.props.title.toUpperCase(),
action: this.sendOnboardingEmail,
style: {
width: u.getWidth(6)
}
}) : r.createElement(p.Button, {
name: "74731d96:98:34",
text: y.text,
style: {
width: u.getWidth(6)
},
disabled: !0
});
}, e.__decorate([ i.action ], n.prototype, "sendOnboardingEmail", null), n = e.__decorate([ o.observer ], n);
}(r.Component), v = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
d.trackFunnel("companion/onboarding");
}, n.prototype.render = function() {
var e = a.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-career-a508a4f7.png"), t = a.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-loadout-ed624170.png"), n = a.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-emblem-d55dfde6.png"), o = a.bbOfflineUrl("/sparta/jsclient/builds/assets/companion-friends-a8b0c6d4.png");
return r.createElement(c.Template, {
tallContent: !0
}, r.createElement("surface", {
style: {
flexDirection: "row"
}
}, r.createElement("surface", {
style: [ g.calloutContainer, {
marginLeft: u.getWidth(1)
} ]
}, r.createElement("surface", {
style: g.headlineContainer
}, r.createElement(l.Text, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_1_TITLE")
}), r.createElement("surface", {
style: [ g.image, {
texture: e
} ]
})), r.createElement(l.Text, {
size: "XS",
style: m.merge2(g.textContainer, g.textRTL),
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_1_TEXT")
})), r.createElement("surface", {
style: g.calloutContainer
}, r.createElement("surface", {
style: g.headlineContainer
}, r.createElement(l.Text, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_2_TITLE")
}), r.createElement("surface", {
style: [ g.image, {
texture: t
} ]
})), r.createElement(l.Text, {
size: "XS",
style: m.merge2(g.textContainer, g.textRTL),
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_2_TEXT")
})), r.createElement("surface", {
style: g.calloutContainer
}, r.createElement("surface", {
style: g.headlineContainer
}, r.createElement(l.Text, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_3_TITLE")
}), r.createElement("surface", {
style: [ g.image, {
texture: n
} ]
})), r.createElement(l.Text, {
size: "XS",
style: m.merge2(g.textContainer, g.textRTL),
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_3_TEXT")
})), r.createElement("surface", {
style: g.calloutContainer
}, r.createElement("surface", {
style: g.headlineContainer
}, r.createElement(l.Text, {
size: "M",
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_4_TITLE")
}), r.createElement("surface", {
style: [ g.image, {
texture: o
} ]
})), r.createElement(l.Text, {
size: "XS",
style: m.merge2(g.textContainer, g.textRTL),
value: __("ID_SPARTA_COMPANION_ONBOARDING_CALLOUT_4_TEXT")
}))), r.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, r.createElement("surface", {
style: {
marginBottom: 20,
marginTop: 40
}
}, r.createElement(l.Text, {
size: "S",
value: __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_AVAILABLE_PLATFORMS")
})), s.onlineState.isOnlineBlazeAndGateway ? r.createElement(S, {
title: __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_SEND_BUTTON")
}) : null, s.onlineState.isOnlineBlazeAndGateway ? r.createElement("surface", {
style: {
marginBottom: 20,
marginTop: 20
}
}, r.createElement(l.Text, {
size: "XS",
value: __("ID_SPARTA_COMPANION_ONBOARDING_EMAIL_INSTRUCTIONS")
})) : null));
}, n;
}(r.Component);
t.TunguskaCompanion = v;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24);
t.CompanionOnboardingClient = r.requester.createClient({
request: function() {
return o.request("Companion.sendCompanionOnboardingEmail");
},
parse: function(e) {
return e;
},
update: function(e) {
this.publish(e);
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(1403), s = n(89), u = n(19), l = n(6), c = n(305), p = n(224), d = n(21), f = n(98), m = n(3), h = n(158), g = n(394), y = n(33), S = n(1404), v = n(291), _ = n(1405), b = {}, T = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
r.tunguska = h.TunguskaContext.getFromComponent(r), r.selectionState = new f.ListSelectionState(), 
r.items = [];
var o = r.tunguska.legalConfigStore.getConfig();
return Object.keys(o.textsToAccept).forEach(function(e) {
r.items.push(o.textsToAccept[e]);
}), Object.keys(o.textsToShow).forEach(function(e) {
r.items.push(o.textsToShow[e]);
}), o.textsWithOptOut && o.textsWithOptOut.stats && r.items.push(o.textsWithOptOut.stats), 
r.setCurrentSelected(o.textsToAccept.EULA), r.reaction(function() {
return r.selectionState.activeItemIndex;
}, function(e) {
var t = r.items[e];
r.setCurrentSelected(t), r.loadTextForCurrentSelected();
}, {
fireImmediately: !0
}), r;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
this.selectionState.setActiveItem(0);
}, t.prototype.setCurrentSelected = function(e) {
this.currentSelected = e;
}, t.prototype.setCurrentText = function(e) {
this.currentText = e;
}, t.prototype.renderMenuItems = function() {
var e = this;
return this.items.map(function(t, n) {
return e.mapItem(n, t);
});
}, t.prototype.loadTextForCurrentSelected = function() {
var e = this;
if (g.isLegalDocumentInfoType(this.currentSelected)) {
var t = this.tunguska.sparta.stores.localeState.gameLocaleOrDefault, n = this.currentSelected.sources[t];
if (!n) return console.warn("Missing source for locale: " + t), void this.setCurrentText("");
if (b[n]) return void this.setCurrentText(b[n]);
v.loadAssetRequest(this.tunguska.sparta.twinkle.options.urlHook(n), function(r, o) {
r ? (e.setCurrentText(o), b[n] = o) : (console.warn("Failed to fetch text for locale: " + t), 
e.setCurrentText(""));
});
} else {
if (!g.isLegalDocumentWithOptOutType(this.currentSelected)) return console.warn("Missing selection"), 
void this.setCurrentText("");
this.setCurrentText(void 0);
}
}, t.prototype.mapItem = function(e, t) {
return o.createElement(s.ListItem, {
index: e,
key: e,
debugName: "legal_" + e,
selectionState: this.selectionState
}, o.createElement(s.ListItemLabel, {
textSize: d.TextSize.XS,
value: t.getTitle().toUpperCase(),
right: u.isRTLLanguage()
}));
}, t.prototype.render = function() {
var e = this.currentSelected && this.currentSelected.getTitle().toUpperCase() || "", t = [], n = !1;
if (this.currentText) {
n = !0;
var r = c.chunkTextByLines(this.currentText), i = Math.floor(0 === r.length ? 100 : 2e3 / r.length), u = r.map(function(t, n) {
return o.createElement(E, {
delay: n * i,
key: n + "_" + e,
text: t
});
});
t.push.apply(t, u);
} else if (g.isLegalDocumentWithOptOutType(this.currentSelected)) {
var f = this.currentSelected, m = f.getOptionLabel, h = f.flag, v = f.defaultState;
t.push(o.createElement(_.LegalOptOut, {
key: e,
title: e,
label: m(),
flag: h,
defaultState: v
}, o.createElement(E, {
delay: 0,
key: "text" + e,
text: this.currentSelected.getContent()
})));
}
return o.createElement(a.SimpleSideColTemplate, {
useScroller: !0,
sideContent: o.createElement(s.List, null, this.renderMenuItems())
}, o.createElement(p.Fader, {
transitionId: e
}, n && o.createElement(l.Text, {
value: e,
type: y.TextType.LIGHT,
size: d.TextSize.L,
style: S.TunguskaAboutStyles.title
}), t));
}, t.contextTypes = h.TunguskaContext.contextTypes, r.__decorate([ m.observable ], t.prototype, "currentSelected", void 0), 
r.__decorate([ m.observable ], t.prototype, "currentText", void 0), r.__decorate([ m.action ], t.prototype, "setCurrentSelected", null), 
r.__decorate([ m.action ], t.prototype, "setCurrentText", null), t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaAbout = T;
var E = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.state = {
show: 0 === t.delay
}, n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.state.show || (this.timeout = setTimeout(function() {
e.setState({
show: !0
});
}, this.props.delay));
}, t.prototype.componentWillUnmount = function() {
this.timeout && clearTimeout(this.timeout);
}, t.prototype.render = function() {
return this.state.show ? o.createElement(l.Text, {
value: this.props.text,
type: y.TextType.LIGHT,
size: d.TextSize.S,
style: S.TunguskaAboutStyles.text(u.isRTLLanguage())
}) : null;
}, t;
}(o.Component);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(578), a = n(4), s = n(7), u = n(34), l = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t.softClip = [ 20, 0, 20, 0 ], 
t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).template;
return o.createElement(i.SimpleTemplate, {
style: this.props.style
}, o.createElement("surface", {
style: e.sideCol
}, this.props.sideContent), this.props.useScroller ? o.createElement(u.Scroller, {
style: e.mainCol,
controller: !0,
softClip: this.softClip
}, this.props.children) : o.createElement("surface", {
style: e.mainCol
}, this.props.children));
}, t.contextTypes = s.SpartaContext.contextTypes, t = r.__decorate([ a.observer ], t);
}(o.Component);
t.SimpleSideColTemplate = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaMoreStyles"), a = function() {
function e() {}
return e.title = i.wrap(function() {
return o.style({
marginBottom: o.Grid.getHeight(5),
textAlignForRTL: "left"
}, "8de7129e:7:19");
}), e.text = o.multistyle(function(e) {
return o.style({
textLineSpacing: e ? 1.15 * o.Constants.LINE_HEIGHTS.S : void 0,
textAlignForRTL: "left",
marginRight: e ? o.Grid.spacer(1) : 0
}, "8de7129e:12:49");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaAboutStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(6), s = n(7), u = n(21), l = n(33), c = n(12), p = n(42), d = n(50), f = n(29), m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = s.SpartaContext.getFromComponent(e), e.showSpinner = !1, e.focusItem = e.sparta.twinkle.focus.create(e, "optOut_" + e.props.flag), 
e.onToggle = function() {
if (void 0 === e.tempOverride) {
var t = e.props, n = (t.gameId, t.flag), r = t.options, o = !e.isEnabled;
e.setTempOverride(o), e.sparta.stores.userStateStore.updateFlag(r, n, o).then(function() {
e.setTempOverride(void 0);
});
}
}, e.onClick = function() {
e.focusItem.setFocused(p.FocusSource.Mouse);
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.sparta.stores.inputStore.bindInputToFocusItem(new c.Input({
label: __("ID_SPARTA_ACTION_SELECT").toUpperCase(),
action: this.onToggle,
blockInputFor: 500
}), this.focusItem);
}, Object.defineProperty(n.prototype, "isEnabled", {
get: function() {
if (void 0 !== this.tempOverride) return this.tempOverride;
var e = this.props, t = e.options, n = e.flag, r = e.defaultState;
return t.getFlag(n, r);
},
enumerable: !0,
configurable: !0
}), n.prototype.setTempOverride = function(e) {
var t = this;
this.tempOverride = e, void 0 === e ? (this.spinnerTimeout && clearTimeout(this.spinnerTimeout), 
this.showSpinner = !1) : this.spinnerTimeout = setTimeout(o.action(function() {
return t.showSpinner = !0;
}), 700);
}, n.prototype.render = function() {
var t = this.sparta.theme.getTheme(this).legal, n = this.focusItem, o = n.isFocused, i = n.isHovered, s = this.isEnabled, c = void 0 !== this.tempOverride;
return r.createElement(r.Fragment, null, r.createElement("surface", e.__assign({
style: t.optOutBox(o, i)
}, this.focusItem.hooks, {
onClick: this.onClick
}), r.createElement(a.Text, {
value: this.props.label,
style: t.optOutLabel(o),
size: u.TextSize.XS,
type: l.TextType.LIGHT
}), r.createElement("surface", {
style: t.optOutToggle,
onClick: this.focusItem.hooks.onClick
}, r.createElement("surface", {
style: t.optOutStatus(s, c)
}), r.createElement(a.Text, {
value: __("ID_SPARTA_FILTER_SETTING_OFF").toUpperCase(),
style: t.optOutText(!s, c),
size: u.TextSize.XS,
type: l.TextType.LIGHT
}), r.createElement(a.Text, {
value: __("ID_SPARTA_FILTER_SETTING_ON").toUpperCase(),
style: t.optOutText(s, c),
size: u.TextSize.XS,
type: l.TextType.LIGHT
}))), this.showSpinner && c ? r.createElement(f.Spinner, {
large: !0,
style: t.spinner
}) : this.props.children);
}, n.contextTypes = s.SpartaContext.contextTypes, e.__decorate([ o.observable ], n.prototype, "tempOverride", void 0), 
e.__decorate([ o.observable ], n.prototype, "showSpinner", void 0), e.__decorate([ o.computed ], n.prototype, "isEnabled", null), 
e.__decorate([ o.action ], n.prototype, "setTempOverride", null), n = e.__decorate([ i.observer ], n);
}(r.Component), h = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = s.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = this.sparta.theme.getTheme(this).legal, n = this.sparta.stores.nativePropertiesStore.getHostingGameId(), o = this.props, i = o.title, s = o.label, c = o.flag, p = o.defaultState;
return r.createElement(d.FragmentLoader, {
emptyCenterVertically: !0,
errorMessage: __("ID_SPARTA_MATCHMAKING_FAILED_GENERIC"),
load: this.sparta.stores.userStateStore.get(n, c)
}, function(o) {
return r.createElement(r.Fragment, null, r.createElement(a.Text, {
value: i,
type: l.TextType.LIGHT,
size: u.TextSize.L,
style: t.title
}), r.createElement(m, {
options: o,
gameId: n,
label: s,
flag: c,
defaultState: p
}, e.props.children));
});
}, n.contextTypes = s.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.LegalOptOut = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(14), s = n(26), u = n(12), l = n(10), c = n(11), p = n(23), d = n(94), f = n(15), m = n(6), h = n(28), g = n(8), y = n(312), S = n(93), v = n(562), _ = n(64), b = n(21), T = n(8), E = n(183), C = n(571), I = n(230), A = n(36), w = n(103), P = n(141), R = n(18), O = n(62), x = n(228), k = n(102), L = n(202), M = n(5), D = n(1407), N = n(135), F = n(9), G = n(7), U = n(22), B = n(104), j = n(27), H = N.frostbiteAction("sparta.commerceCheckout"), z = 2 * f.Animation.defaultTweenOptions.duration, V = 2 * f.Animation.defaultTweenOptions.duration * 2, W = 2 * f.Animation.defaultTweenOptions.duration, q = M.StaticStyle.wrapLegacyStyleSheet({
container: {
position: "absolute",
top: 0,
left: 0,
width: p.screen.width,
height: p.screen.height
},
pageIndicator: {
zOffset: 10,
position: "absolute",
left: F.SpartaGlobals.bundleIsPC ? p.mainMenu.width + g.getWidth(1) : p.safeZone.left,
top: 0,
height: p.screen.height,
justifyContent: "center",
alignItems: "center"
},
nextPressableTxt: {
textAlign: "center",
marginBottom: T.GUTTER
},
pageIndicatorDot: {
width: 6,
height: 6,
borderRadius: [ 3, 3, 3, 3 ],
backgroundColor: "#ffffff77",
marginBottom: 6
},
pageIndicatorDotActive: {
backgroundColor: "#ffffffff"
},
scroller: {
top: 0,
left: 0,
height: p.screen.height,
width: p.screen.width,
zOffset: 10
},
backgroundSlider: {
position: "absolute",
top: 0,
left: 0,
width: p.screen.width,
height: p.screen.height,
enableMouseEvents: !1,
layerClip: !0,
layer: !0
},
contentSlider: {
position: "absolute",
top: 0,
left: 0,
width: p.screen.width,
height: p.screen.height,
layerClip: !0,
layer: !0
},
background: {
textureMode: "fill",
position: "absolute",
left: 0,
top: 0,
width: p.screen.width,
height: p.screen.height
},
page: {
position: "absolute",
left: 0,
top: 0,
width: p.screen.width,
height: p.screen.height - p.dangerZoneSize.height,
justifyContent: "center",
alignItems: "center"
},
pageHeadline: {
width: p.screen.width / 2,
textAlign: "center",
textAlignForRTL: "center",
marginBottom: 2 * T.GUTTER
},
pageSubtext: {
width: p.screen.width / 2.5,
textAlign: "center",
textAlignForRTL: "center",
marginBottom: T.GUTTER,
textLineSpacing: b.LINE_HEIGHTS.M
},
colContainer: {
flexDirection: "row"
},
col: {
marginRight: g.getWidth(1),
marginLeft: g.getWidth(1)
},
colCheckboxText: {
color: "#ff9900ff",
marginBottom: g.getHeight(2)
},
bf1logo: {
width: 570,
height: 152.4,
marginBottom: g.getHeight(4)
},
tickCheckbox: {
texture: a.bbOfflineUrl("/sparta/assets/ui/tick-b3a5aa3a.png"),
height: 20,
width: 20,
marginRight: 14
},
learnMoreArrow: {
alignSelf: "center",
width: 30,
height: 30,
texture: a.bbOfflineUrl("/sparta/assets/ui/learn-more-arrow-d84da917.png")
},
buyBtn: {
zOffset: 10,
width: g.getWidth(8),
marginTop: T.GUTTER,
marginBottom: T.GUTTER,
height: g.getHeight(8)
},
boxShots: {
marginTop: g.getHeight(8),
flexDirection: "row",
width: 596 + 3 * T.GUTTER,
textAlign: "center",
justifyContent: "space-between"
},
boxShot1: {
width: 149,
height: 202,
texture: a.bbOfflineUrl("/sparta/assets/tunguska/premium/box-xp1-1f465964.png")
},
boxShot2: {
width: 149,
height: 202,
texture: a.bbOfflineUrl("/sparta/assets/tunguska/premium/box-xp2-89fe137f.png")
},
boxShot3: {
width: 149,
height: 202,
texture: a.bbOfflineUrl("/sparta/assets/tunguska/premium/box-xp3-0ee8b661.png")
},
boxShot4: {
width: 149,
height: 202,
texture: a.bbOfflineUrl("/sparta/assets/tunguska/premium/box-xp4-ba010086.png")
}
}, "d6b438a6:63:15");
function K(e) {
return r.createElement(m.Text, {
style: q.pageHeadline,
size: "XL",
value: e
});
}
function X(e) {
return r.createElement(m.Text, {
style: q.pageSubtext,
size: "S",
value: e
});
}
var Y = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: {
flexDirection: "row"
}
}, !this.props.hideCheckbox && r.createElement("surface", {
style: q.tickCheckbox
}), r.createElement(m.Text, {
size: "S",
value: this.props.value,
style: q.colCheckboxText
}));
}, n;
}(r.Component), J = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.gameId = "tunguska", r.sparta = G.SpartaContext.getFromComponent(r), r.copy = P.copyStore.getCopyPage("pdp"), 
r.subscriptionStatus = r.sparta.stores.subscriptionStatusStore.get(), r;
}
return e.__extends(n, t), n.prototype.componentDidUpdate = function() {
var e = 0 === this.props.currentPageIndex || this.props.currentPageIndex === ie.length - 1;
v.subscriptionImageState.setVisbility(e);
}, n.prototype.buyGame = function(e, t) {
void 0 === t && (t = !1), t ? H({
offerId: e.productId,
crossTitleCheckout: "game" === e.type,
owned: !0
}) : (k.PurchaseFlow.start(e), A.trackPremiumPassPageEvent("ClickedBuyBtnOnPage_" + this.props.pageIndex));
}, n.prototype.joinAndBuyGame = function(e) {
var t = "tunguska/store/access/join-buy";
t = t + "?offerId=" + e.offerId + "&gameId=" + this.gameId, R.gotoLocation(t);
}, n.prototype.hasPremium = function() {
return l.entitlementStore.hasPremiumAccess(this.gameId);
}, Object.defineProperty(n.prototype, "gameStats", {
get: function() {
return this.state.career && this.state.career.gameStats[this.gameId];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "showFreemiumRank", {
get: function() {
return !this.hasPremium() && this.gameStats && this.gameStats.freemiumRank && this.gameStats.freemiumScore;
},
enumerable: !0,
configurable: !0
}), n.prototype.isJoinAndBuyEnabled = function(e) {
var t = this.subscriptionStatus.value;
return L.commerceFeatureFlags.subscriberAccess.isEnabledFor(this.gameId) && L.commerceFeatureFlags.subscriberAccessPDP.isEnabledFor(this.gameId) && !L.commerceFeatureFlags.disableSubscribeAndSell.isEnabledFor(this.gameId) && t && !t.subscribed && !e.owned;
}, n.prototype.showOriginalPrice = function(e) {
var t = this.props.isActivePage;
return r.createElement("surface", {
style: {
flexDirection: "row",
marginTop: T.GUTTER,
opacity: 2 / 3
}
}, r.createElement(m.Text, {
size: "XS",
value: __("ID_SPARTA_COMMERCE_OFFER_ORIGINAL_PRICE"),
style: {
marginRight: 10
}
}), t && r.createElement(E.PS4StoreContent, null, r.createElement(I.Strikethrough, {
value: e,
size: "XS"
})));
}, n.prototype.getBuyButton = function(e) {
var t = e ? e.all : [], n = r.createElement(h.Button, {
name: "d6b438a6:357:27",
style: q.buyBtn,
disabled: !0,
text: __("ID_SPARTA_HELP_LOADING"),
textSize: "S"
});
if (t.length) {
var o = t.find(function(e) {
return "tunguska-premium" === e.id || "tunguska-premium-bundle" === e.id;
});
if (!o) return console.warn("Premium Pass: Did not find premium in offers!"), n;
if (this.isJoinAndBuyEnabled(o)) {
var i = P.copyStore.getProperty(this.copy, "subscribeAndSave.ctaLabel") || "";
return r.createElement("surface", null, r.createElement(h.Button, {
name: "d6b438a6:375:35",
disabled: !this.props.isActivePage,
style: q.buyBtn,
text: i,
textSize: "S",
action: this.joinAndBuyGame.bind(this, o)
}), null !== o.listPrice || o.owned ? this.showOriginalPrice(o.listPrice || o.price) : null);
}
if (o.owned && !F.SpartaGlobals.bundleIsConsole) return r.createElement(h.Button, {
name: "d6b438a6:391:35",
style: q.buyBtn,
disabled: !0,
text: __("ID_SPARTA_COMMERCE_OFFER_OWNED"),
textSize: "S"
});
var a = o.owned ? __("ID_SPARTA_COMMERCE_OFFER_GAME_INSTALLATION").toUpperCase() : __("ID_SPARTA_COMMERCE_OFFER_GAME_BUY").toUpperCase() + " " + o.price;
return r.createElement("surface", null, r.createElement(h.Button, {
name: "d6b438a6:407:35",
disabled: !this.props.isActivePage,
style: q.buyBtn,
text: a,
textSize: "S",
action: this.buyGame.bind(this, o, o.owned)
}), null !== o.listPrice || o.owned ? this.showOriginalPrice(o.listPrice || o.price) : null);
}
return n;
}, n.prototype.getFreemiumInfo = function() {
if (!this.showFreemiumRank) return r.createElement("surface", null);
var e = this.gameStats.freemiumScore;
return r.createElement("surface", null, r.createElement(T.Col, null, r.createElement(T.Row, {
style: {
padding: 3 * T.GUTTER,
paddingTop: 2 * T.GUTTER,
paddingBottom: F.SpartaGlobals.bundleIsPC ? 6 * T.GUTTER : 3 * T.GUTTER,
backgroundColor: "#00000020",
justifyContent: "center"
}
}, r.createElement(x.RankBadge, {
gameId: this.gameId,
badgeSize: 50,
style: M.DynamicStyle.create({
marginTop: T.GUTTER,
marginRight: 2 * T.GUTTER
}, "d6b438a6:447:36"),
align: "bottom",
bottomInfoScale: 1,
skipAnimation: !0
}), r.createElement(T.Col, {
width: 10,
style: {
paddingLeft: T.GUTTER,
justifyContent: "center"
}
}, r.createElement(m.Text, {
size: "S",
style: {
textLineSpacing: b.LINE_HEIGHTS.M,
textAlign: "center",
marginBottom: T.GUTTER
},
value: __("ID_SPARTA_FREEMIUM_GET_PREMIUM_PASS_RANK_UP")
}), r.createElement(m.Text, {
color: "#ff9900ff",
size: "XS",
style: {
marginBottom: T.GUTTER,
textAlign: "center"
},
value: __("ID_SPARTA_FREEMIUM_LOCKED_XP_VALUE").replace("[[value]]", "" + e)
}), r.createElement(m.Text, {
color: "#ff9900ff",
size: "XXS",
style: {
textLineSpacing: b.LINE_HEIGHTS.XS,
textAlign: "center"
},
value: __("ID_SPARTA_FREEMIUM_EARNED_FROM_PLAYING")
})), r.createElement(x.RankBadge, {
gameId: this.gameId,
badgeSize: 50,
style: M.DynamicStyle.create({
marginTop: T.GUTTER,
marginLeft: 2 * T.GUTTER
}, "d6b438a6:478:36"),
rankType: "freemium",
align: "bottom",
bottomInfoScale: 1,
skipAnimation: !0
}))));
}, n.prototype.render = function() {
var e, t = S.offersStore.get("tunguska"), n = this.getBuyButton(t.value), o = this.getFreemiumInfo(), i = 0 !== this.props.pageIndex ? K(__("ID_SPARTA_PREMIUM_PAGE_OUTRO_TITLE")) : K(__("ID_SPARTA_PREMIUM_PAGE_INTRO_TITLE")), a = 0 !== this.props.pageIndex ? r.createElement("surface", {
style: {
justifyContent: "center",
alignItems: "center"
}
}, X(__("ID_SPARTA_PREMIUM_PAGE_OUTRO_TEXT")), r.createElement("surface", {
style: q.colContainer
}, r.createElement("surface", {
style: q.col
}, r.createElement(Y, {
value: __("ID_SPARTA_PREMIUM_PAGE_INTRO_BULLET1")
}), r.createElement(Y, {
value: __("ID_SPARTA_PREMIUM_PAGE_INTRO_BULLET2")
}), r.createElement(Y, {
value: __("ID_SPARTA_PREMIUM_PAGE_INTRO_BULLET3")
})), r.createElement("surface", {
style: q.col
}, r.createElement(Y, {
value: __("ID_SPARTA_PREMIUM_PAGE_INTRO_BULLET4")
}), r.createElement(Y, {
value: __("ID_SPARTA_PREMIUM_PAGE_INTRO_BULLET5")
}), r.createElement(Y, {
value: __("ID_SPARTA_PREMIUM_PAGE_INTRO_BULLET6")
})))) : r.createElement("surface", {
style: {
justifyContent: "center",
alignItems: "center"
}
}, X(__("ID_SPARTA_PREMIUM_PAGE_INTRO_TEXT")), o), s = 0 !== this.props.pageIndex ? r.createElement(m.Text, {
style: q.pageSubtext,
size: "XS",
value: __("ID_SPARTA_PREMIUM_PAGE_OUTRO_DISCLAMIER")
}) : null, u = 0 === this.props.pageIndex && r.createElement(C.PremiumFriends, {
skipLinks: !0,
maxFriends: 6,
gameId: this.gameId
});
return e = F.SpartaGlobals.bundleIsPS4 && this.props.isActivePage ? r.createElement(E.PS4StoreContent, null, n) : n, 
r.createElement("surface", {
style: [ q.page, this.props.style ]
}, i, a, e, u, s);
}, n.contextTypes = G.SpartaContext.contextTypes, n = e.__decorate([ i.observer, _.subscribeToStores({
career: l.careerStore
}) ], n);
}(r.Component), Q = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: [ q.page, this.props.style ]
}, K(__("ID_SPARTA_PREMIUM_PAGE_EARLY_ACCESS_TITLE")), X(__("ID_SPARTA_PREMIUM_PAGE_EARLY_ACCESS_TEXT")), r.createElement("surface", {
style: q.boxShots
}, r.createElement("surface", {
style: q.boxShot1
}), r.createElement("surface", {
style: q.boxShot2
}), r.createElement("surface", {
style: q.boxShot3
}), r.createElement("surface", {
style: q.boxShot4
})));
}, n;
}(r.Component), Z = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: [ q.page, this.props.style ]
}, K(__("ID_SPARTA_PREMIUM_PAGE_ARMIES_TITLE")), X(__("ID_SPARTA_PREMIUM_PAGE_ARMIES_TEXT")));
}, n;
}(r.Component), $ = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: [ q.page, this.props.style ]
}, K(__("ID_SPARTA_PREMIUM_PAGE_GAMEMODES_TITLE")), X(__("ID_SPARTA_PREMIUM_PAGE_GAMEMODES_TEXT")));
}, n;
}(r.Component), ee = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: [ q.page, this.props.style ]
}, K(__("ID_SPARTA_PREMIUM_PAGE_BATTLEPACKS_TITLE")), X(__("ID_SPARTA_PREMIUM_PAGE_BATTLEPACKS_TEXT")));
}, n;
}(r.Component), te = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: [ q.page, this.props.style ]
}, K(__("ID_SPARTA_PREMIUM_PAGE_WEAPONS_TITLE")), X(__("ID_SPARTA_PREMIUM_PAGE_WEAPONS_TEXT")));
}, n;
}(r.Component), ne = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: [ q.page, this.props.style ]
}, K(__("ID_SPARTA_PREMIUM_PAGE_VEHICLES_TITLE")), X(__("ID_SPARTA_PREMIUM_PAGE_VEHICLES_TEXT")));
}, n;
}(r.Component), re = {
"cs-cz": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_CZE_CZ.webm",
"en-us": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_ENG_UK.webm",
"fr-fr": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_FRE_FR.webm",
"de-de": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_GER_DE.webm",
"it-it": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_ITA_IT.webm",
"ja-jp": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_JPN_JP.webm",
"ko-kr": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_KOR_KR.webm",
"pl-pl": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_POL_PL.webm",
"ru-ru": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_RUS_RU.webm",
"es-es": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_SPA_ES.webm",
"es-mx": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_SPA_XM.webm",
"tr-tr": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_TUR_TR.webm",
"pt-br": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_POR_BR.webm",
"zh-tw": "http://battlefieldui.pulse.ea.com/Trailer/BF1_XP2_Trailer_SPARTA_30s_16x9_CHT_CN.webm"
}, oe = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = G.SpartaContext.getFromComponent(r), r.videoEnabled = !0, r.videoUrl = re[w.localeState.displayLocale] || re["en-us"], 
r.video = r.sparta.twinkle.video.loadVideo(r.videoUrl), r.focusItem = r.sparta.twinkle.focus.create(r, "premium_pass_xpack1"), 
r;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e = this;
if (this.videoEnabled) {
var t = [];
return this.sparta.twinkle.focus.controllerMode && !this.focusItem.isFocused && this.props.isActivePage && t.push(new u.Input({
label: __("ID_SPARTA_ACTION_PLAY"),
action: function() {
return e.playVideo();
},
key: c.Keys.Option2
})), t;
}
}, n.prototype.playVideo = function() {
y.showFullscreenVideo(this.sparta, this.video).then(function() {}), A.trackPremiumPassPageEvent("PlayedVideo");
}, n.prototype.render = function() {
var e = this, t = new u.Input({
label: __("ID_SPARTA_ACTION_PLAY"),
action: function() {
return e.playVideo();
}
});
return r.createElement("surface", {
style: [ q.page, this.props.style ]
}, this.videoEnabled && r.createElement(O.Pressable, {
triggerMode: "after",
focusItem: this.focusItem,
input: t,
disabled: !this.props.isActivePage,
pressScale: .7,
style: D.TunguskaPremiumStyles.playButton(this.focusItem)
}), X(__("ID_SPARTA_PREMIUM_PAGE_XPACK_TEXT1")), K(__("ID_SPARTA_PREMIUM_PAGE_XPACK_TITLE")), X(__("ID_SPARTA_PREMIUM_PAGE_XPACK_TEXT2")));
}, n.contextTypes = G.SpartaContext.contextTypes, n = e.__decorate([ s.input, i.observer ], n);
}(r.Component), ie = [ {
gaTitle: "intro",
component: J,
backgroundUrl: a.bbOfflineUrl("/sparta/assets/tunguska/premium/10-526cd06f.jpg"),
sound: ""
}, {
gaTitle: "earlyaccess",
component: Q,
backgroundUrl: a.bbOfflineUrl("/sparta/assets/tunguska/premium/1-alternate-521fd8ad.jpg"),
sound: ""
}, {
gaTitle: "armies",
component: Z,
backgroundUrl: a.bbOfflineUrl("/sparta/assets/tunguska/premium/2-14fad8f4.jpg"),
sound: ""
}, {
gaTitle: "weapons",
component: te,
backgroundUrl: a.bbOfflineUrl("/sparta/assets/tunguska/premium/5-f44eda84.jpg"),
sound: ""
}, {
gaTitle: "gamemodes",
component: $,
backgroundUrl: a.bbOfflineUrl("/sparta/assets/tunguska/premium/3-a296c3d2.jpg"),
sound: ""
}, {
gaTitle: "vehicles",
component: ne,
backgroundUrl: a.bbOfflineUrl("/sparta/assets/tunguska/premium/7-7abc5e5d.jpg"),
sound: ""
}, {
gaTitle: "battlepacks",
component: ee,
backgroundUrl: a.bbOfflineUrl("/sparta/assets/tunguska/premium/battlepacks_dark-6f691a9b.jpg"),
sound: ""
}, {
gaTitle: "xpack2",
component: oe,
backgroundUrl: a.bbOfflineUrl("/sparta/assets/tunguska/premium/9-tsar-1d8eb84e.jpg"),
sound: ""
}, {
gaTitle: "outro",
component: J,
backgroundUrl: a.bbOfflineUrl("/sparta/assets/tunguska/premium/10-526cd06f.jpg"),
sound: ""
} ], ae = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.nodeClick = function(e) {
this.props.setPage(e);
}, n.prototype.render = function() {
for (var e = [], t = 0; t < ie.length; t++) e.push(r.createElement("surface", {
key: "indicator_" + t,
onClick: this.nodeClick.bind(this, t),
style: [ q.pageIndicatorDot, t === this.props.currentPageIndex ? q.pageIndicatorDotActive : void 0 ]
}));
return r.createElement("surface", {
style: [ q.pageIndicator ]
}, e);
}, n = e.__decorate([ i.observer ], n);
}(r.Component), se = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.state = {
loaded: !1
}, n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.timeout = setTimeout(function() {
return e.setState({
loaded: !0
});
}, 250);
}, n.prototype.componentWillUnmount = function() {
clearTimeout(this.timeout);
}, n.prototype.render = function() {
var e = this, t = this.state.loaded ? ie : [ ie[0] ], n = this.state.loaded ? W : 0, o = t.map(function(t, o) {
var i = M.merge2(q.background, M.DynamicStyle.create({
texture: t.backgroundUrl,
translateY: f.Animation.tweenTo(p.screen.height * (o < e.props.currentPageIndex ? -1 : o > e.props.currentPageIndex ? .5 : 0), {
duration: n
}),
scaleX: f.Animation.tweenTo(o <= e.props.currentPageIndex ? 1 : 1.2, {
duration: n
}),
scaleY: f.Animation.tweenTo(o <= e.props.currentPageIndex ? 1 : 1.2, {
duration: n
}),
zOffset: ie.length - o + 1
}, "d6b438a6:844:35"));
return r.createElement("surface", {
key: o,
style: i
});
}), i = d.uiState.window.width > p.screen.width * d.uiState.viewportScale.scaleX, a = M.merge2(q.backgroundSlider, M.DynamicStyle.create({
layerSoftClip: i ? [ 0, g.getWidth(4), 0, g.getWidth(4) ] : void 0
}, "d6b438a6:871:37"));
return r.createElement("surface", {
style: a
}, o);
}, n = e.__decorate([ i.observer ], n);
}(r.Component), ue = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.playSound = function(e) {
var t = ie[e].sound;
if ("" !== t) return new Promise(function(e) {
var n = B.Sound.load(t);
n && n.play(), setTimeout(function() {
return e();
}, 100);
});
}, n.prototype.componentDidUpdate = function(e) {
e.currentPageIndex !== this.props.currentPageIndex && this.playSound(this.props.currentPageIndex);
}, n.prototype.render = function() {
var e = this, t = ie.map(function(t, n) {
var o = M.DynamicStyle.create({
translateY: f.Animation.tweenTo(n < e.props.currentPageIndex ? -1 * p.screen.height : n > e.props.currentPageIndex ? .8 * p.screen.height : 0, {
delay: 50,
duration: z
}),
opacity: f.Animation.tweenTo(n === e.props.currentPageIndex ? 1 : 0, {
delay: 50,
duration: V
})
}, "d6b438a6:908:30"), i = e.props.currentPageIndex === n, a = t.component;
return r.createElement(a, {
key: n,
style: o,
isActivePage: i,
pageIndex: n,
currentPageIndex: e.props.currentPageIndex
});
}), n = q.contentSlider;
return r.createElement("surface", {
style: n
}, t);
}, n = e.__decorate([ i.observer ], n);
}(r.Component), le = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.nextPressableFocusItem = U.focusSystem.create(n, "nextPressable"), n.tweenDuration = 700, 
n.nextPressableInput = new u.Input({
label: __("ID_SPARTA_ACTION_CONTINUE"),
action: function() {
return e.changePage(-1);
},
key: c.Keys.Accept
}), n.state = {
arrowDirection: -1,
animate: !1
}, n;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.toggleAnimation();
}, n.prototype.componentWillUnmount = function() {
clearInterval(this.interval);
}, n.prototype.toggleAnimation = function() {
var e = this;
this.setState({
animate: !this.state.animate
}, function() {
clearInterval(e.interval), e.state.animate ? e.interval = setInterval(function() {
e.setState({
arrowDirection: -1 * e.state.arrowDirection
});
}, e.tweenDuration) : e.setState({
arrowDirection: -1
});
});
}, n.prototype.render = function() {
var e = M.merge2(D.TunguskaPremiumStyles.nextPressable, M.DynamicStyle.create({
opacity: f.Animation.tweenTo(this.props.isLastPage ? 0 : this.nextPressableFocusItem.isFocusedOrHovered ? 1 : .5)
}, "d6b438a6:1005:49")), t = [ q.learnMoreArrow, {
translateY: f.Animation.tweenTo(5 * this.state.arrowDirection, {
duration: this.tweenDuration,
easing: j.Easing.QuadraticInOut
})
} ], n = r.createElement("surface", {
style: t
});
return r.createElement(O.Pressable, {
style: e,
input: this.nextPressableInput,
focusItem: this.nextPressableFocusItem
}, F.SpartaGlobals.bundleIsPC && r.createElement(m.Text, {
size: "S",
style: q.nextPressableTxt,
value: __("ID_SPARTA_PREMIUM_PAGE_LEARN_MORE_BTN").toUpperCase()
}), n);
}, n = e.__decorate([ i.observer ], n);
}(r.Component), ce = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.currentPageIndex = 0, e.scrollLockTimeout = -1, e.onMouseScroll = function(t) {
e.changePage(t.scroll > 0 ? 1 : -1);
}, e.changePage = o.action(function(t) {
-1 === e.scrollLockTimeout && (e.scrollLockTimeout = setTimeout(function() {
e.scrollLockTimeout = -1;
}, U.focusSystem.controllerMode ? 620 : 480), -1 === t ? e.isLastPage || (e.currentPageIndex += 1) : 1 === t && e.currentPageIndex > 0 && (e.currentPageIndex -= 1));
}), e.setPage = o.action(function(t) {
e.currentPageIndex = t;
}), e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "isLastPage", {
get: function() {
return this.currentPageIndex === ie.length - 1;
},
enumerable: !0,
configurable: !0
}), n.prototype.componentWillMount = function() {
var e = this;
this.disposer = o.reaction(function() {
return e.currentPageIndex;
}, function() {
e.trackCurrentScreen();
}), this.trackCurrentScreen();
}, n.prototype.componentWillUnmount = function() {
clearTimeout(this.scrollLockTimeout), A.trackPremiumPassPageEvent("LeftAtPage_" + this.currentPageIndex), 
this.disposer();
}, n.prototype.trackCurrentScreen = function() {
var e = ie[this.currentPageIndex].gaTitle + "_" + this.currentPageIndex;
A.trackPremiumPassPageScreen(e.toLowerCase());
}, n.prototype.getInput = function() {
var e = this, t = [];
return U.focusSystem.controllerMode && (t = t.concat([ new u.Input({
visible: !1,
label: __("ID_SPARTA_ACTION_SCROLL"),
key: c.Keys.ScrollUp,
action: function() {
e.currentPageIndex > 0 && e.changePage(1);
}
}), new u.Input({
visible: !0,
label: __("ID_SPARTA_ACTION_SCROLL"),
key: c.Keys.ScrollDown,
action: function() {
e.isLastPage || e.changePage(-1);
}
}) ])), t;
}, n.prototype.render = function() {
var e = r.createElement(le, {
isLastPage: this.isLastPage,
changePage: this.changePage
});
return r.createElement("surface", {
style: q.container,
onMouseScroll: this.onMouseScroll
}, r.createElement(se, {
currentPageIndex: this.currentPageIndex
}), r.createElement(ue, {
currentPageIndex: this.currentPageIndex
}), r.createElement(ae, {
currentPageIndex: this.currentPageIndex,
setPage: this.setPage
}), e);
}, e.__decorate([ o.observable ], n.prototype, "currentPageIndex", void 0), e.__decorate([ o.computed ], n.prototype, "isLastPage", null), 
n = e.__decorate([ s.input, i.observer ], n);
}(r.Component);
t.TunguskaPremium = ce;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaPremiumStyles"), a = function() {
function e() {}
var t;
return t = e, e.nextPressable = o.wrap(function() {
return o.style({
zOffset: 10,
width: o.Grid.getWidth(8),
height: o.Grid.getHeight(8),
position: "absolute",
left: o.LayoutBounds.screen.width / 2 - o.Grid.getWidth(8) / 2,
bottom: o.LayoutBounds.dangerZoneSize.height + o.Grid.getHeight(4)
}, "584f13ee:17:38");
}), e.playIconActive = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/play_active-b7f2b328.png");
}, "584f13ee:28:28"), e.playIconInactive = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/play-f2e293cf.png");
}, "584f13ee:29:30"), e.playIconAtlas = o.value(function() {
return "SpartaCommonAtlas";
}, "584f13ee:30:27"), e.playButton = o.stylefunc(function() {
return o.style({
marginBottom: 40,
textureAtlas: t.playIconAtlas,
textureMode: "none",
width: 79,
height: 79
}, "584f13ee:33:14");
}, function(e) {
return o.dynamicStyle({
texture: e.isFocused ? t.playIconActive : t.playIconInactive
}, "584f13ee:41:41");
}), e = t = r.__decorate([ i.style ], e);
}();
t.TunguskaPremiumStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(426), o = n(1), i = n(4), a = n(332), s = n(429), u = n(60), l = n(119), c = n(7), p = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = c.SpartaContext.getFromComponent(e), e.disposers = [], e.emptyState = {
text: __("ID_SPARTA_SERVER_RENTED_EMPTY_TEXT"),
subText: __("ID_SPARTA_SERVER_RENTED_EMPTY_SUBTEXT")
}, e.errorState = {
text: __("ID_SPARTA_SERVER_RENTED_ERROR_TEXT"),
subText: __("ID_SPARTA_SERVER_RENTED_ERROR_SUBTEXT")
}, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.disposers.push(l.onMultiplayerServerDisconnection.listen(function() {
u.refreshBookmarks({
game: e.props.gameId
});
})), r.completePendingPurchases(this.sparta.stores.resumablePurchasesStore, this.props.gameId), 
u.refreshRentedServers(this.props.gameId);
}, n.prototype.render = function() {
var e = this.props, t = e.gameId, n = e.gameData;
return o.createElement(a.ServerList, {
key: "rented",
servers: s.rentedServerStore.getRentedByGame(t) || [],
error: s.rentedServerStore.getErrorByGame(t),
emptyState: this.emptyState,
errorState: this.errorState,
pingSites: this.props.pingSites,
gameId: t,
gameData: n,
gameServerLayout: this.props.gameServerLayout,
isLoading: !s.rentedServerStore.isLoadedForGame(this.props.gameId)
});
}, n.contextTypes = c.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(o.Component);
t.RentedServers = p;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(136), o = n(392), i = n(653), a = 99999;
function s(e, t) {
return e.name.toLowerCase().localeCompare(t.name.toLowerCase());
}
function u(e, t) {
var n;
return i.pingResults.has(e.ip) ? n = i.pingResults.get(e.ip) : t[e.pingSiteAlias] && (n = t[e.pingSiteAlias].ping), 
"number" != typeof n || n < 0 ? a : n;
}
t.updateByGuid = function l(e, t) {
if (e) {
var n = function r(e, t) {
for (var n = e.length, r = 0; r >= 0 && r < n; r += 1) if (t(e[r])) return r;
return -1;
}(e, function(e) {
return e.guid === t.guid;
});
if (!(n < 0)) {
var o = e.slice();
return o.splice(n, 1, t), o;
}
}
}, t.sortServers = function c(e, t, n) {
if ("none" !== n && "none" !== t && e.length) {
var i = function a(e, t, n) {
var i = t === o.SortDirection.ASC ? 1 : -1, a = n && r.PingSiteStore.getState()[n] ? r.PingSiteStore.getState()[n] : {};
switch (e) {
case "ping":
return function(e, t) {
var n = (u(e, a) - u(t, a)) * i;
return 0 === n ? s(e, t) : n;
};

case "players":
return function(e, t) {
var n = function r(e, t) {
var n = e.slots.soldier, r = t.slots.soldier;
return n.current !== r.current ? n.current - r.current : n.max - r.max;
}(e, t) * i;
return 0 === n ? s(e, t) : n;
};

case "name":
return function(e, t) {
return s(e, t) * i;
};

default:
throw new Error("Unknown sortkey: " + e);
}
}(t, n, e[0].game), l = e.slice();
return l.sort(i), l;
}
return e;
};
}, function(e, t, n) {
"use strict";
(function(__, __t) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(66), a = n(26), s = n(6), u = n(654), l = n(154), c = n(12), p = n(11), d = n(428), f = n(8), m = n(60), h = n(58), g = n(18), y = n(1411), S = n(62), v = n(14), _ = n(267), b = n(19), T = n(67), E = n(225), C = n(36), I = n(411), A = n(5), w = n(17), P = n(333), R = n(307), O = n(261), x = n(7), k = n(655), L = n(118), M = n(129), D = n(91), N = {
off: v.bbUrl("/sparta/assets/ui/icons/ui/new_star_outline_white-deecfbe1.png"),
on: v.bbUrl("/sparta/assets/ui/icons/ui/new_star_white-00780cc3.png")
}, F = {
official: v.bbUrl("/sparta/assets/ui/gameservers/type/official-6e10d16b.png"),
ranked: v.bbUrl("/sparta/assets/ui/gameservers/type/ranked-63ddf668.png"),
unranked: v.bbUrl("/sparta/assets/ui/gameservers/type/unranked-5b77f221.png"),
private: v.bbUrl("/sparta/assets/ui/gameservers/type/private-40d383c1.png")
}, G = f.getHeight(7), U = function(e) {
e.isActive && m.toggleBookmark(e);
}, B = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
o.sparta = x.SpartaContext.getFromComponent(o), o.contextMenu = r.createRef(), o.onSelect = function(e) {
void 0 === e && (e = D.JoinRole.soldier), o.props.server.isActive && (o.props.disabled || (C.trackJoinSource("serverbrowser", e), 
e !== D.JoinRole.spectator ? _.tryShowTutorial(o.sparta, o.props.server.mapName, o.props.server.mapMode, o.props.server.game).then(function() {
o.props.onSelect(o.props.server, e);
}) : o.props.onSelect(o.props.server, e)));
}, o.onSelectSpectator = function() {
o.onSelect(D.JoinRole.spectator);
}, o.onSelectCommander = function() {
o.onSelect(D.JoinRole.commander);
}, o.openContextMenu = function() {
o.setState({
contextMenuOpen: !0
});
}, o.closeContextMenu = function() {
o.setState({
contextMenuOpen: !1
});
};
var a = o.sparta.stores.gameStore.getGame(e.server.game);
return o.game = a, o.autoId = i.autoId("dee6e643:95:30"), o.gameStyles = a ? a.styles : {}, 
o.serverDetailsRoute = a && a.serverConfig.serverDetailsRoute ? a.serverConfig.serverDetailsRoute : null, 
o.props.focusItem.autoFocusCandidate = !0, o;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.sparta.theme.getTheme(this).tabMenu.playHoverSound && this.props.focusItem.onFocusOrHover(function() {
return L.playEffect(M.AudioEffect.Highlight);
});
}, n.prototype.componentWillUnmount = function() {
this.state.contextMenuOpen && this.contextMenu.current && this.contextMenu.current.close();
}, n.prototype.getAcceptInput = function() {
var e = this;
if (this.props.server.isActive) {
if (this.sparta.twinkle.focus.controllerMode) return [ new c.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
return e.onSelect();
},
key: p.Keys.Accept
}) ];
var t = this.props.server.gameId;
return this.serverDetailsRoute ? [ new c.Input({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function() {
g.gotoLocation(e.serverDetailsRoute + "?blazeGameId=" + t);
},
key: p.Keys.Accept,
blockInputFor: 1e3
}) ] : [];
}
}, n.prototype.getInput = function() {
var e = this;
if (!this.props.focusItem.isFocusedOrHovered) return this.state.contextMenuOpen ? new c.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: p.Keys.Decline,
action: function() {
return e.contextMenu.current && e.contextMenu.current.close();
}
}) : null;
var t = [], n = this.props.server.gameId, r = this.props.server.rsp.serverId, o = this.props.server.rsp && this.props.server.rsp.status && "ServerStatusExpired" === this.props.server.rsp.status.name, i = this.sparta.twinkle.focus.controllerMode;
this.props.server.isActive && this.serverDetailsRoute && i && t.push(new c.Input({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function() {
g.gotoLocation(e.serverDetailsRoute + "?blazeGameId=" + n);
},
key: p.Keys.Option1,
blockInputFor: 1e3
}));
var a = this.game;
return a && a.rspConfig.isEnabled() && r && t.push(new c.Input({
label: __(o ? "ID_SPARTA_ACTION_SERVER_RENEW" : "ID_SPARTA_ACTION_SERVER_CONFIGURE"),
action: function() {
o ? g.gotoLocation(a.rspConfig.renewRoute + "?serverId=" + r) : g.gotoLocation(a.rspConfig.configureRoute + "?serverId=" + r);
},
key: p.Keys.Option2
})), t;
}, n.prototype.getContextMenu = function() {
var e = this, t = this.props, n = t.server, r = t.roles, o = n.gameId, i = n.rsp.serverId, a = [];
if (n.isActive) {
var s = this.sparta.stores.partyStoreLoader.get().canGroupJoin;
a.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN"),
action: this.onSelect
}), !s && T.supportsSpectating(n.game) && a.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR"),
action: this.onSelectSpectator
}), !s && r.indexOf("commander") >= 0 && n.isRoleSupported("commander") && a.push({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER"),
action: this.onSelectCommander
}), this.serverDetailsRoute && a.push({
label: __("ID_SPARTA_ACTION_SERVER_INFO"),
action: function() {
g.gotoLocation(e.serverDetailsRoute + "?blazeGameId=" + o);
}
}), !this.sparta.twinkle.buildInfo.isCTE() && n.guid && a.push({
label: n.isFavorite ? __("ID_SPARTA_ACTION_SERVER_UNFAVORITE") : __("ID_SPARTA_ACTION_SERVER_FAVORITE"),
action: function() {
U(n);
}
});
}
var u = this.game;
if (u && u.rspConfig.isEnabled() && i) {
var l = n.rsp && n.rsp.status && "ServerStatusExpired" === n.rsp.status.name;
a.push({
label: __(l ? "ID_SPARTA_ACTION_SERVER_RENEW" : "ID_SPARTA_ACTION_SERVER_CONFIGURE"),
action: function() {
l ? g.gotoLocation(u.rspConfig.renewRoute + "?serverId=" + i) : g.gotoLocation(u.rspConfig.configureRoute + "?serverId=" + i);
}
});
}
return a;
}, n.prototype.renderActionsSpan = function(e, t) {
var n = this.props.server.isActive, o = this.sparta.theme.getTheme(this).serverListItem;
return r.createElement("surface", {
style: o.actionsSpan
}, r.createElement(R.ContextMenuButton, {
ref: this.contextMenu,
onOpen: this.openContextMenu,
onClose: this.closeContextMenu,
menuItems: this.getContextMenu(),
dark: o.useDarkContextMenu,
parentHeight: G,
offset: {
y: G,
x: t
},
align: O.Alignment.Right,
style: o.contextMenuButton(e),
colorOverrides: {
hoverColor: o.contextMenuButtonHoverColor
}
}), r.createElement("surface", {
style: o.verticalDivider(e)
}), r.createElement(y.ServerListItemButton, {
style: A.merge2(o.joinButtonVisibility(e), o.joinButton),
disabled: !n,
onClick: this.onSelect
}, r.createElement(l.Icon, {
image: o.joinIcon
})));
}, n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).serverList, t = this.sparta.theme.getTheme(this).serverListItem, n = this.props.focusItem.isFocusedOrHovered, o = this.state.contextMenuOpen, i = n || o, a = !this.props.canJoin, u = this.props.server, l = i ? t.contentFontTypeFocused : t.contentFontType, c = u.slots.soldier.current + " / " + u.slots.soldier.max;
return u.slots.queue.current && (c += " [" + u.slots.queue.current + "]"), this.game ? r.createElement(S.Pressable, {
input: this.getAcceptInput(),
focusItem: this.props.focusItem,
disableFocusInputUpdate: !0
}, r.createElement("surface", {
style: t.row(i, a)
}, r.createElement(j, {
server: u,
isFocused: i,
isDimmed: a,
hasUGCAccess: this.props.hasUGCAccess,
fontType: l,
gameData: this.props.gameData,
onSelect: this.onSelect,
game: this.game,
gameServerLayout: this.props.gameServerLayout
}), r.createElement("surface", {
style: t.slotsSpan
}, r.createElement(s.Text, {
style: t.text(i),
size: t.textSize,
type: t.fontType,
value: c
})), k.serverPingLookup(this.sparta.twinkle.buildInfo.isConsole, u, function(e) {
return r.createElement(d.PingIndicator, {
style: t.pingSpan,
ping: e,
textStyle: t.settingText(i),
fontType: l
});
}), this.sparta.twinkle.buildInfo.isPC && e.spans.actions && this.renderActionsSpan(i, e.spans.actions))) : null;
}, n.contextTypes = x.SpartaContext.contextTypes, n = e.__decorate([ a.input, o.observer ], n);
}(r.Component);
t.ServerListItem = B;
var j = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = x.SpartaContext.getFromComponent(r), r.game = e.game, r;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props, t = e.game, n = e.server, o = e.isDimmed, i = e.isFocused, a = e.gameData, s = e.hasUGCAccess, u = e.fontType, l = this.sparta.theme.getTheme(this).serverListItem;
return r.createElement("surface", {
style: l.nameSpan
}, r.createElement("test", {
group: "server-list-item",
server: n,
join: this.props.onSelect
}), t.serverConfig.supportsFavorite && r.createElement(H, {
server: n,
isFocused: i
}), r.createElement(z, {
server: n,
gameData: a,
isDimmed: o
}), r.createElement(V, {
game: t,
server: n,
isFocused: i,
fontType: u,
hasUGCAccess: s,
gameServerLayout: this.props.gameServerLayout
}));
}, n.contextTypes = x.SpartaContext.contextTypes, n;
}(r.Component), H = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = x.SpartaContext.getFromComponent(e), e.onClick = function() {
return U(e.props.server);
}, e;
}
return e.__extends(n, t), n.prototype.renderFavouriteIcon = function(e, t) {
var n = e ? N.on : N.off, o = this.sparta.theme.getTheme(this).serverListItem;
return r.createElement(l.Icon, {
image: n,
style: o.favoriteIcon(t, e)
});
}, n.prototype.render = function() {
var e = this.props, t = e.server, n = e.isFocused, o = this.sparta.theme.getTheme(this).serverListItem;
if (!this.sparta.twinkle.buildInfo.isCTE()) {
var i = this.renderFavouriteIcon(t.isFavorite, n);
return this.sparta.twinkle.buildInfo.isPC ? r.createElement(y.ServerListItemButton, {
style: o.favoriteCol,
disabled: !t.isActive,
onClick: this.onClick
}, i) : r.createElement("surface", {
style: o.favoriteCol
}, i);
}
return r.createElement("surface", null);
}, n.contextTypes = x.SpartaContext.contextTypes, n;
}(r.Component), z = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = x.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e, t = this, n = this.props.gameData, o = this.sparta.theme.getTheme(this).serverListItem;
if (n && n.maps) {
var i = n.maps.find(function(e) {
return e.filterKey === t.props.server.mapName;
});
i && i.images && i.images.Small && (e = i.images.Small);
} else e = this.props.server.imageUrl || void 0;
return r.createElement("surface", {
style: A.merge2(o.mapImage(this.props.isDimmed), this.sparta.twinkle.textureStyleCache.get("dee6e643:518:63", e))
});
}, n.contextTypes = x.SpartaContext.contextTypes, n;
}(r.Component), V = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = x.SpartaContext.getFromComponent(e), e.separator = __t(" - "), 
e.renderDetailText = function(t, n, o) {
var i = e.sparta.theme.getTheme(e).serverListItem;
return r.createElement(s.Text, {
key: t,
value: n,
size: i.textSizeInfo,
type: e.props.fontType,
style: A.merge2(i.settingText(e.props.isFocused), o)
});
}, e;
}
return e.__extends(n, t), n.prototype.getDetailTexts = function(e) {
var t = [], n = [ this.props.gameServerLayout.getGameModeName(e), e.mapNamePretty || e.mapName ];
e.preset && n.push(e.preset);
var r = this.sparta.theme.getTheme(this).serverListItem;
if (e.tickRate && r.showTickRate && t.push(e.tickRate + __("ID_SPARTA_SERVER_TICKRATE_UNIT")), 
e.rsp && e.rsp.status) switch (e.rsp.status.name) {
case "ServerStatusInactive":
t.push(__("ID_SPARTA_SERVER_RSP_PENDING"));
break;

case "ServerStatusActive":
e.gameId || t.push(__("ID_SPARTA_SERVER_RSP_PENDING"));
break;

case "ServerStatusExpired":
case "ServerStatusExpiring":
t.push(__("ID_SPARTA_SERVER_RSP_EXPIRED"));
}
return {
left: n.join(this.separator).toUpperCase(),
right: t.join(this.separator).toUpperCase()
};
}, n.prototype.getServerTypeIcon = function(e, t) {
if (!e) return null;
if (this.props.game && this.props.game.serverConfig.supportedServerTypes && -1 === this.props.game.serverConfig.supportedServerTypes.indexOf(e)) return null;
var n = F[e.toLowerCase()];
if (!n) return null;
var o = w.CommonStyles.color(t ? "#000000" : "#ffffff"), i = this.sparta.theme.getTheme(this).serverListItem;
return r.createElement(l.Icon, {
key: "servertype",
image: n,
style: A.merge2(i.serverTypeIcon, o),
size: "XS"
});
}, n.prototype.render = function() {
var e = this.props, t = e.server, n = e.isFocused, o = e.hasUGCAccess, i = e.game, a = this.sparta.theme.getTheme(this).serverListItem, l = this.getDetailTexts(t), c = i.styles || {}, p = this.getServerTypeIcon(t.serverType, n), d = o ? t.name : t.gameId, m = t.country ? r.createElement(u.Flag, {
key: "country",
country: t.country
}) : null, g = this.renderDetailText("sep1", this.separator, a.separatorLabel), y = [ this.renderDetailText("detail-left", l.left) ];
if (t.custom) {
var S = A.merge3(a.customLabel, c.customLabel, n ? w.CommonStyles.color("#000000") : A.emptyStyle);
y.push(this.renderDetailText("customSep", this.separator, a.separatorLabel), this.renderDetailText("customLabel", __("ID_SPARTA_SERVER_CUSTOM").toUpperCase(), S));
}
var v = i.expansionAssets && i.expansionAssets.icons && r.createElement(W, {
key: "expansions",
expansions: t.expansions,
icons: i.expansionAssets.icons
}), _ = this.props.gameServerLayout.getMark(t);
return r.createElement("surface", {
key: "content",
style: a.contentCol
}, r.createElement(h.Marquee, {
shuttle: !0,
scroll: n,
width: f.getWidth(this.sparta.twinkle.buildInfo.isPC ? 10 : 14.5) - 2 * f.GUTTER,
style: w.CommonStyles.alignItemsCenter,
delay: 100
}, r.createElement(s.Text, {
style: a.text(n),
key: "servername",
value: d,
size: a.textSize,
type: a.fontType
}), r.createElement(b.LocaleRearrange, {
key: "details",
style: a.detailRow
}, r.createElement(E.PremiumTreatment, {
key: "premTreat1",
expansion: t.mapExpansion.name,
marginRight: !0,
showP: !0
}), m, _ && r.createElement(P.ServerMark, {
key: "servermark",
type: _,
focused: n
}), b.localeRearrange(y), g, this.renderDetailText("details", l.right), p, r.createElement(E.PremiumTreatment, {
key: "premTreat2",
expansion: t.mapExpansion.name,
fontSize: a.textSizeInfo,
textStyle: a.settingText(n),
showPrefixSeparator: !0,
showEarlyAccess: !0
}), v)));
}, n.contextTypes = x.SpartaContext.contextTypes, n;
}(r.Component), W = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = x.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getExpansionIcons = function() {
var e = this;
if (!this.props.icons) return [];
var t = this.sparta.theme.getTheme(this).serverListItem;
return this.props.expansions.map(function(n) {
if (!n || !n.license || !e.props.icons) return null;
var o = e.props.icons[n.license];
return o ? r.createElement(l.Icon, {
key: n.license,
image: o,
size: e.sparta.twinkle.buildInfo.isPC ? I.IconSize.XS : I.IconSize.S,
style: t.expansionIcon
}) : null;
});
}, n.prototype.render = function() {
if (!this.props.expansions || !this.props.icons || "DEFAULT" === this.props.expansions[0].name) return r.createElement("surface", {
key: "no-expansion-icons"
});
var e = this.sparta.theme.getTheme(this).serverListItem, t = this.props.expansions ? this.getExpansionIcons() : [];
return r.createElement("surface", {
key: "expansionIcons",
style: e.expansionCol
}, t);
}, n.contextTypes = x.SpartaContext.contextTypes, n;
}(r.Component);
}).call(this, n(2), n(101));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(15), a = .5, s = .2, u = 1, l = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.onMouseEnter = function() {
n.props.disabled || n.opacityTween.set(u);
}, n.onMouseLeave = function() {
n.props.disabled || n.opacityTween.set(a);
}, n.onClick = function(e) {
n.props.onClick(), e.stopPropagation();
}, n.opacityTween = i.Animation.tween("d789bf96:22:45", t.disabled ? s : a), n;
}
return r.__extends(t, e), t.prototype.componentWillUnmount = function() {
this.opacityTween.destroy();
}, t.prototype.render = function() {
return o.createElement("surface", {
style: this.props.style,
onClick: this.onClick,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave
}, o.createElement("surface", {
style: this.opacityTween.getStyleClass("opacity")
}, this.props.children));
}, t;
}(o.Component);
t.ServerListItemButton = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ServerMarkStyles"), a = function() {
function e() {}
return e.iconStar = o.stylefunc(function() {
return o.style({
textureMode: "fill",
width: o.Grid.getHeight(2),
height: o.Grid.getHeight(2),
texture: o.bbUrl("/sparta/jsclient/builds/assets/icon-completed-84a37983.png")
}, "d7ce0f99:8:14");
}, function(e) {
return o.dynamicStyle({
color: e.isFocused ? "#000000" : "#ffffff",
marginRight: e.isRTL ? 0 : o.Grid.GUTTER,
marginLeft: e.isRTL ? o.Grid.GUTTER : 0
}, "d7ce0f99:15:57");
}), e.iconCompleted = o.stylefunc(function() {
return o.style({
textureMode: "fill",
width: o.Grid.getHeight(2),
height: o.Grid.getHeight(2),
texture: o.bbUrl("/sparta/jsclient/builds/assets/icon-progress-796db5e0.png")
}, "d7ce0f99:24:14");
}, function(e) {
return o.dynamicStyle({
color: e.isFocused ? "#000000" : "#ffffff",
marginRight: e.isRTL ? 0 : o.Grid.GUTTER,
marginLeft: e.isRTL ? o.Grid.GUTTER : 0
}, "d7ce0f99:31:57");
}), e = r.__decorate([ i.style ], e);
}();
t.ServerMarkStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(6), a = n(262), s = n(75), u = n(8), l = n(143), c = n(112), p = n(58), d = n(407), f = n(12), m = n(11), h = n(92), g = n(18), y = n(88), S = n(29), v = n(17), _ = n(3), b = n(7), T = n(118), E = n(129), C = n(19), I = "4Th0rb3aR!1#@_28+&{.", A = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = b.SpartaContext.getFromComponent(r), r.clipPadding = [ 0, 0, 0, 0 ], 
r.softClip = [ 0, 25, 0, 15 ], r.focusItem = r.sparta.twinkle.focus.create(r, "quickfilter_checkbox_" + e.label), 
r.sparta.stores.inputStore.bindInputToFocusItem(new f.Input({
action: function() {
return r.props.onToggle(r.props.categoryId, r.props.filterKey);
},
label: e.label,
key: m.Keys.Accept
}), r.focusItem), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.sparta.theme.getTheme(this).tabMenu.playHoverSound && this.focusItem.onFocusOrHover(function() {
return T.playEffect(E.AudioEffect.Highlight);
});
}, n.prototype.render = function() {
var t = this.sparta.theme.getTheme(this).quickFilter, n = this.props.value || this.focusItem.isFocusedOrHovered, o = C.isRTLLanguage() ? p.Direction.Left : p.Direction.Right;
return r.createElement(C.LocaleRearrange, e.__assign({
style: t.itemContainer(n)
}, this.focusItem.hooks), r.createElement(l.Checkbox, {
key: "checkbox",
value: this.props.value,
style: t.checkbox
}), r.createElement(d.Clipper, {
key: "clipper",
width: u.getWidth(3.5),
height: 0,
clipContent: !0,
clipPadding: this.clipPadding,
softClip: this.softClip
}, r.createElement(p.Marquee, {
focusItem: this.focusItem,
scrollTo: o,
style: v.CommonStyles.flex1
}, r.createElement(i.Text, {
value: this.props.label,
style: t.itemText(n),
type: "normal",
size: t.textSize
}))));
}, n.contextTypes = b.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), w = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = b.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).quickFilter;
return r.createElement("surface", {
style: e.inputContainer
}, r.createElement("test", {
guid: "server-quickfilter-text"
}), r.createElement(c.InputField, {
autoFocusCandidate: !1,
size: e.inputTextSize,
value: this.props.value,
onValueChanged: this.props.onValueChanged,
placeholder: __("ID_SPARTA_FILTER_BYNAME"),
maxLength: 25,
style: e.inputField
}));
}, n.contextTypes = b.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), P = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = b.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "quickfilter_header_" + e.category.label), 
r.sparta.stores.inputStore.bindInputToFocusItem(new f.Input({
action: function() {
return r.props.onClick(r.props.category.id);
},
label: e.category.label,
key: m.Keys.Accept
}), r.focusItem), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this, t = this.sparta.theme.getTheme(this), n = this.props.isActive;
t.tabMenu.playHoverSound && this.reaction(function() {
return e.props.isActive;
}, function(e) {
e !== n && (n = e, e ? T.playEffect(E.AudioEffect.Expand) : T.playEffect(E.AudioEffect.Collapse));
});
}, n.prototype.render = function() {
var t = this.props.category, n = this.sparta.theme.getTheme(this), o = n.quickFilter, s = n.components.HoverSFX, u = this.focusItem.isHovered, l = this.focusItem.isFocused && !u;
return r.createElement(s, {
focusItem: this.focusItem
}, r.createElement(a.Divider, {
spacing: o.dividerSpacing,
style: o.divider
}), r.createElement(C.LocaleRearrange, e.__assign({
style: o.headerContainer(l, u)
}, this.focusItem.hooks), r.createElement("surface", {
style: o.headerContainerOverlay(l, u)
}), r.createElement(i.Text, {
key: "text",
value: t.label.toUpperCase(),
color: l ? o.textColorSelected : o.textColor,
style: o.header(l, u),
size: o.textSize
}), r.createElement("surface", {
key: "indicator",
style: o.indicator(this.props.isActive, l, u)
})));
}, n.contextTypes = b.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), R = function(t) {
function n(e, n) {
var o = t.call(this, e, n) || this;
return o.sparta = b.SpartaContext.getFromComponent(o), o.onResetFilter = function() {
o.sparta.stores.serverFilterStore.resetFilters(o.props.gameId), o.sparta.stores.serversStore.refresh(o.props.gameId);
}, o.onNameChanged = function(e) {
e === I && o.sparta.twinkle.frostbite.sendMessage("sparta.triggerGameCrash");
var t = "" === e.trim() ? void 0 : e;
o.sparta.stores.serverFilterStore.setNameValue(o.props.gameId, t), o.onNameFilterChanged();
}, o.toggleCategory = function(e) {
o.setState({
selectedCategory: o.state.selectedCategory === e ? null : e
});
}, o.toggleHandler = function(e, t) {
t ? o.sparta.stores.serverFilterStore.toggleFilter(o.props.gameId, e, t) : o.sparta.stores.serverFilterStore.invertFilterCategory(o.props.gameId, e), 
o.onFilterChanged();
}, o.renderFilterCategory = function(e) {
var t = o.state.selectedCategory === e.id;
return r.createElement("surface", {
key: "filterCategory_" + e.id
}, r.createElement(P, {
onClick: o.toggleCategory,
category: e,
isActive: t
}), t && o.renderCategoryItems(e));
}, o.onButtonPress = function() {
o.props.filtersRoute && g.gotoLocation(o.props.filtersRoute);
}, o.state = {
selectedCategory: null
}, o.onFilterChanged = y.debounce(function() {
return o.sparta.stores.serversStore.refresh(o.props.gameId);
}, 250), o.onNameFilterChanged = y.debounce(function() {
return o.sparta.stores.serversStore.refresh(o.props.gameId);
}, 250, !1), o.filterLayout = [ {
id: h.FilterCategoryName.GameModes,
label: __("ID_SPARTA_FILTER_GAMEMODES"),
toggleAll: !0
}, {
id: h.FilterCategoryName.Maps,
label: __("ID_SPARTA_FILTER_MAPS"),
toggleAll: !0
}, {
id: h.FilterCategoryName.Slots,
label: __("ID_SPARTA_FILTER_FREESLOTS"),
toggleAll: !0
}, {
id: h.FilterCategoryName.GameSizes,
label: __("ID_SPARTA_FILTER_GAMESIZE"),
toggleAll: !0,
invertOption: __("ID_SPARTA_FILTER_ITEM_OTHER")
} ], o.filterOptions = o.sparta.stores.serverFilterOptionsStore.get(o.props.gameId), 
o;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "filterState", {
get: function() {
return this.sparta.stores.serverFilterStore.getFilter(this.props.gameId);
},
enumerable: !0,
configurable: !0
}), n.prototype.renderCheckboxItem = function(e, t, n, o) {
return r.createElement(A, {
categoryId: e.id,
filterKey: t.filterKey,
label: t.prettyName || t.name,
key: "filterItem_" + t.name,
value: o ? null == n : n === h.FilterValue.ON,
onToggle: this.toggleHandler
});
}, n.prototype.renderInvertCheckboxItem = function(e, t, n) {
var o = _.values(n.values).some(function(e) {
return e === h.FilterValue.OFF;
});
return r.createElement(A, {
categoryId: e.id,
label: e.invertOption || "",
key: "filterItem_" + e.id,
value: o,
onToggle: this.toggleHandler
});
}, n.prototype.renderCategoryItems = function(e) {
var t = this;
if (!this.filterState || !this.filterOptions.value) return null;
var n = this.filterState.getCategory(e.id);
if (!(n instanceof h.CheckBoxFilterCategory)) return null;
var o = n.optionsCategory;
if (!o) return null;
var i = o.options, a = _.values(n.values).some(function(e) {
return e === h.FilterValue.OFF;
}), s = i.map(function(r) {
return t.renderCheckboxItem(e, r, n.values.get(r.filterKey), a);
});
e.invertOption && s.push(this.renderInvertCheckboxItem(e, i, n));
var u = this.sparta.theme.getTheme(this).quickFilter;
return r.createElement("surface", {
style: u.itemCategory
}, s);
}, n.prototype.renderNameFilter = function() {
var e = "";
return this.filterState && this.filterState.name && this.filterState.name.name && (e = this.filterState.name.name), 
r.createElement(w, {
value: e,
onValueChanged: this.onNameChanged
});
}, n.prototype.render = function() {
if (!this.filterOptions.value) return r.createElement(S.Spinner, null);
var e = this.sparta.theme.getTheme(this).quickFilter, t = this.filterLayout.map(this.renderFilterCategory), n = this.props.filtersRoute ? r.createElement(s.Button, {
name: "BUTTON_QUICK_FILTER_FULL",
text: __("ID_SPARTA_ACTION_FILTER_FULL").toUpperCase(),
action: this.onButtonPress,
style: e.fullFilterButton,
textSize: e.buttonTextSize
}) : null;
return r.createElement("surface", null, r.createElement(i.Text, {
value: __("ID_SPARTA_CONTENT_TITLE_QUICKFILTER").toUpperCase(),
size: e.textSize,
color: e.textColor,
type: e.titleType,
style: e.title
}), t, r.createElement(a.Divider, {
spacing: e.dividerSpacing,
style: e.divider
}), this.renderNameFilter(), r.createElement(a.Divider, {
spacing: e.dividerSpacing,
style: e.divider
}), n, r.createElement(s.Button, {
name: "resetFilter",
text: __("ID_SPARTA_ACTION_FILTER_RESET").toUpperCase(),
action: this.onResetFilter,
style: e.resetButton,
textSize: e.buttonTextSize
}));
}, n.contextTypes = b.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.QuickFilter = R;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(89), i = n(6), a = n(8), s = n(4), u = n(454), l = n(88), c = n(7), p = n(98), d = n(12), f = n(5);
var m = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.selectionState = new p.ListSelectionState(), r.sparta = c.SpartaContext.getFromComponent(r), 
r.refreshServers = l.debounce(function() {
return r.sparta.stores.serversStore.refresh(r.props.gameId);
}, 250), r.filters = u.savedFiltersStore.get(r.props.gameId), r;
}
return e.__extends(n, t), n.prototype.onFilterClicked = function(e) {
this.sparta.stores.serverFilterStore.applyFilterProperties(this.props.gameId, e), 
this.refreshServers();
}, n.prototype.render = function() {
var e = this;
if (!this.filters.value || 0 === this.filters.value.length) return r.createElement("surface", null);
var t = this.sparta.theme.getTheme(this).quickFilter, n = function s(e) {
var t = e.concat();
return t.sort(function(e, t) {
if (null != e.id && null != t.id) {
if (e.id > t.id) return -1;
if (e.id < t.id) return 1;
}
return 0;
}), t.slice(0, 4);
}(this.filters.value).map(function(n, i) {
var a = n.filterName || "", s = new d.Input({
label: __("ID_SPARTA_ACTION_FILTER_APPLY"),
action: function() {
return e.onFilterClicked(n);
}
});
return r.createElement(o.ListItem, {
key: i,
selectionState: e.selectionState,
index: i,
debugName: a,
disableActiveIndicator: !0,
input: s,
style: t.yourFiltersListItem
}, function(e, n) {
return r.createElement("surface", {
style: f.merge2(n, t.yourFiltersListItemContainer)
}, r.createElement(o.ListItemLabel, {
value: a,
textSize: t.yourFiltersListItemFontSize,
color: t.yourFiltersListItemFontColor,
textType: t.yourFiltersListItemFontType
}));
});
});
return r.createElement("surface", null, r.createElement(i.Text, {
value: __("ID_SPARTA_CONTENT_TITLE_QUICKPRESETS").toUpperCase(),
size: t.textSize,
type: t.titleType,
style: t.yourFiltersTitle
}), r.createElement(o.List, null, n), r.createElement("surface", {
style: {
height: a.getHeight(2)
}
}));
}, n.contextTypes = c.SpartaContext.contextTypes, n = e.__decorate([ s.observer ], n);
}(r.Component);
t.QuickSavedFilters = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35), o = n(10), i = n(24), a = [ function() {
return o.onlineState.isOnlineBlazeAndGateway;
} ], s = new r.Client("GameServer.deleteFilter", {
requestPerformer: i.request,
requirementDeterminators: a,
maxRetries: 3,
retryTimeout: 3e3
});
t.deleteSavedFilter = function u(e) {
return s.request({
id: e.toString()
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35), o = n(10), i = n(10), a = n(24), s = [ function() {
return o.onlineState.isOnlineBlazeAndGateway;
}, function() {
return i.presenceStateStore.isReady;
} ], u = new r.Client("GameServer.getFilters", {
requestPerformer: a.request,
requirementDeterminators: s,
maxRetries: 3,
retryTimeout: 3e3
});
t.loadSavedFilters = function l(e) {
return u.request({
game: e
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35), o = n(10), i = n(24), a = [ function() {
return o.onlineState.isOnlineBlazeAndGateway;
} ], s = new r.Client("GameServer.saveFilter", {
requestPerformer: i.request,
requirementDeterminators: a,
maxRetries: 3,
retryTimeout: 3e3
});
t.saveServerFilter = function u(e, t, n) {
return s.request({
game: e,
name: t,
filterJson: n.json
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35), o = n(10), i = n(24), a = [ function() {
return o.onlineState.isOnlineBlazeAndGateway;
} ], s = new r.Client("GameServer.updateFilter", {
requestPerformer: i.request,
requirementDeterminators: a,
maxRetries: 3,
retryTimeout: 3e3
});
t.updateServerFilter = function u(e, t, n, r) {
return s.request({
game: e,
id: t.toString(),
name: n,
filterJson: r.json
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(58), a = n(311), s = n(18), u = n(12), l = n(11), c = n(19), p = n(4), d = n(9), f = n(7), m = n(77), h = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = f.SpartaContext.getFromComponent(r), r.focusItem = r.sparta.twinkle.focus.create(r, "filterbar"), 
r.focusItem.setActive("c854364b:32:34", d.SpartaGlobals.bundleIsPC), r.props.disableFilterClick || m.onComponentUpdate(r, function(e, t) {
r.sparta.stores.inputStore.bindInputToFocusItem(new u.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
return s.gotoLocation(e.filtersRoute);
},
key: l.Keys.Accept
}), r.focusItem);
}), r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "filterState", {
get: function() {
return this.sparta.stores.serverFilterStore.getFilter(this.props.gameId);
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
if (!this.filterState) return r.createElement("surface", null);
var t = this.sparta.theme.getTheme(this).filterBar, n = "", s = !1;
if (this.filterState) {
var u = a.getFilterSummary(this.filterState);
n = this.filterState.filterName ? this.filterState.filterName : u.text, s = u.isCustomGames;
}
n.length > 50 && (n = n.substring(0, 50) + "...");
var l = [ r.createElement(o.Text, {
key: "label",
value: __("ID_SPARTA_FILTER_LABEL"),
size: t.labelTextSize,
type: t.labelTextType
}), r.createElement("surface", {
key: "spacer",
style: t.spacer
}), r.createElement(i.Marquee, {
key: "description",
showEllipsis: !0,
style: t.description
}, r.createElement(o.Text, {
value: n ? n.toUpperCase() : __("ID_SPARTA_FILTER_NONE"),
size: t.textSize,
type: t.textType
})) ];
return s && (l.push(r.createElement("surface", {
key: "customLabelSpacer",
style: t.spacer
})), l.push(r.createElement(o.Text, {
key: "customLabel",
value: __("ID_SPARTA_FILTER_CUSTOM_FILTERS"),
size: t.textSize,
type: t.textType,
style: t.customGamesText
}))), r.createElement("surface", e.__assign({
style: t.filter(this.focusItem.isFocusedOrHovered)
}, this.focusItem.hooks), c.localeRearrange(l));
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ p.observer ], n);
}(r.Component);
t.FilterBar = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(31), i = n(157), a = n(455), s = n(660), u = n(92), l = [ new a.ServerFilterCategoryLayout(u.FilterCategoryName.GameModes, function() {
return __("ID_SPARTA_FILTER_GAMEMODES");
}, !0), new a.ServerFilterCategoryLayout(u.FilterCategoryName.Maps, function() {
return __("ID_SPARTA_FILTER_MAPS");
}, !0), new a.ServerFilterGroupLayout("vehiclesKits", function() {
return __("ID_SPARTA_FILTER_CLASSESVEHICLES");
}, !0, [ new a.ServerFilterCategoryLayout(u.FilterCategoryName.Kits, function() {
return __("ID_SPARTA_FILTER_KITS");
}), new a.ServerFilterCategoryLayout(u.FilterCategoryName.Vehicles, function() {
return __("ID_SPARTA_FILTER_VEHICLES");
}) ]), new a.ServerFilterCategoryLayout(u.FilterCategoryName.WeaponClasses, function() {
return __("ID_SPARTA_FILTER_WEAPONS");
}, !0), new a.ServerFilterCategoryLayout(u.FilterCategoryName.Misc, function() {
return __("ID_SPARTA_FILTER_ADVANCED");
}), new a.ServerFilterCategoryLayout(u.FilterCategoryName.Scales, function() {
return __("ID_SPARTA_FILTER_RULES");
}), new a.ServerFilterCategoryLayout(u.FilterCategoryName.Slots, function() {
return __("ID_SPARTA_FILTER_SLOTS");
}, !0), new a.ServerFilterCategoryLayout(u.FilterCategoryName.Regions, function() {
return __("ID_SPARTA_FILTER_REGIONS");
}, !0), new a.ServerFilterNameLayout(function() {
return __("ID_SPARTA_FILTER_NAME");
}) ], c = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.tabs = r.createRef(), e.switchTab = function(t) {
e.tabs.current && e.tabs.current.handleTabSelected(t);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = [ {
name: "current",
title: function() {
return __("ID_SPARTA_TAB_CURRENT");
},
render: function() {
return r.createElement(a.ServerFilterView, {
key: "current",
gameId: o.tunguskaGameId,
filterLayout: l,
switchTab: e.switchTab
});
}
}, {
name: "presets",
title: function() {
return __("ID_SPARTA_TAB_PRESETS");
},
render: function() {
return r.createElement(s.SavedFiltersView, {
key: "presets",
switchTab: e.switchTab,
gameId: o.tunguskaGameId
});
}
} ];
return r.createElement(i.TabbedTemplate, {
topGutter: !1,
ref: this.tabs,
tabs: t
});
}, n;
}(r.Component);
t.TunguskaServerFilter = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(1422), a = n(8), s = n(23), u = n(34), l = n(1426), c = n(4), p = [ 0, a.getWidth(1), 0, a.getWidth(1) ], d = a.getHeight(4), f = a.getHeight(3), m = s.content.height - (d + f), h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.scroller = o.createRef(), t.filtersList = o.createRef(), t;
}
return r.__extends(t, e), t.prototype.setCategory = function(e) {
this.props.viewState.setCategory(e), this.scroller.current && this.scroller.current.scrollTo(0, 0), 
this.filtersList.current && this.filtersList.current.focus();
}, t.prototype.renderCategory = function() {
var e = this.props.viewState.currentCategory;
if (!e) return null;
if ("name" === e.name) {
var t = this.props.filterState.name, n = t.name ? t.name : "";
return o.createElement(l.ServerNameFilter, {
gameId: this.props.gameId,
text: n
});
}
return o.createElement(i.ServerFilterList, {
ref: this.filtersList,
gameId: this.props.gameId,
filterDefs: this.props.options,
filterState: this.props.filterState,
layout: e,
viewState: this.props.viewState
});
}, t.prototype.render = function() {
return o.createElement(a.Row, null, o.createElement(a.Col, {
width: 7.75
}, o.createElement(u.Scroller, {
ref: this.scroller,
key: "categoryScroller",
style: {
height: m,
margin: p
},
controller: !1
}, this.renderCategory())));
}, t = r.__decorate([ c.observer ], t);
}(o.Component);
t.ServerFilterCategory = h;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(98), a = n(89), s = n(1423), u = n(231), l = n(1424), c = n(12), p = n(26), d = n(1425), f = n(92), m = n(176), h = n(455), g = n(3), y = n(19), S = n(9), v = n(7), _ = n(42), b = n(22), T = n(27);
var E = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "inputAction", {
get: function() {
var e = this;
return function() {
return e.props.onTrigger(e.props.item);
};
},
enumerable: !0,
configurable: !0
}), n = e.__decorate([ o.observer ], n);
}(a.ListItemAutoActive), C = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = v.SpartaContext.getFromComponent(e), e.toggleFilter = function(t) {
e.sparta.stores.serverFilterStore.toggleFilter(e.props.gameId, t.category.name, t.option.filterKey);
}, e;
}
return e.__extends(n, t), n.prototype.renderCheckBox = function(e, t, n) {
var o = e.values.get(t.filterKey);
return r.createElement(u.ObservableCheckmark, {
value: o === f.FilterValue.ON,
focusItem: n
});
}, n.prototype.renderOnOff = function(e, t, n) {
var o = e.values.get(t.filterKey), i = "string" == typeof o ? o === f.FilterValue.ON : void 0;
return r.createElement(s.OnOff, {
value: i,
focused: n.isFocusedOrHovered,
isArabic: !1
});
}, n.prototype.renderRange = function(e, t, n) {
var o = e.values.get(t.filterKey);
return r.createElement(d.Range, {
value: o,
focused: n.isFocusedOrHovered,
option: {
format: ""
}
});
}, n.prototype.renderScale = function(e, t, n) {
var o = Object.keys(t.options).sort(function(e, n) {
return t.options[e] - t.options[n];
}).filter(function(t) {
return e.values.get(t) === f.FilterValue.ON;
}), i = o.length > 0 ? o[0] : null, a = i ? t.options[i] : void 0;
return r.createElement(l.ScaleOption, {
value: a,
focused: n.isFocusedOrHovered,
isArabic: !1
});
}, n.prototype.renderWidget = function(e, t) {
var n = e.category, r = e.option;
return n instanceof f.CheckBoxFilterCategory && r.type === m.FilterOptionType.Bool ? this.renderCheckBox(n, r, t) : n instanceof f.OnOffFilterCategory && r.type === m.FilterOptionType.Bool ? this.renderOnOff(n, r, t) : n instanceof f.RangeFilterCategory && r.type === m.FilterOptionType.Int ? this.renderRange(n, r, t) : n instanceof f.ScalesFilterCategory && r.type === m.FilterOptionType.Scale ? this.renderScale(n, r, t) : null;
}, n.prototype.render = function() {
var e = this, t = this.props, n = t.index, o = t.item, i = t.selectionState, s = this.sparta.theme.getTheme(this).serverFilterView;
return r.createElement(E, {
index: n,
key: o.option.filterKey + o.option.name,
debugName: "listitem_" + o.name,
onTrigger: this.toggleFilter,
selectionState: i,
item: o
}, function(t, n) {
return r.createElement(y.LocaleRearrange, {
style: n
}, r.createElement("surface", {
key: "name",
style: s.filterItemName
}, r.createElement(a.ListItemLabel, {
value: o.name.toUpperCase(),
right: y.isRTLLanguage(),
textSize: s.categoryLabelTextSize
})), r.createElement("surface", {
key: "widget",
style: s.filterItemWidget
}, e.renderWidget(o, t)));
});
}, n.contextTypes = v.SpartaContext.contextTypes, n;
}(r.Component), I = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.selectionState = new i.ListSelectionState(), e.focusGroup = b.focusSystem.createComponentGroup(e, "filterOptions", _.GroupBehavior.VERTICAL), 
e.sparta = v.SpartaContext.getFromComponent(e), e.toggleAll = function() {
var t = e.props, n = t.gameId, r = t.layout;
r instanceof h.ServerFilterGroupLayout ? r.filters.forEach(function(t) {
return e.sparta.stores.serverFilterStore.toggleAll(n, t.name);
}) : r instanceof h.ServerFilterCategoryLayout && e.sparta.stores.serverFilterStore.toggleAll(e.props.gameId, r.name);
}, e.onMouseDown = function(t) {
t && t.button === T.MouseButton.Secondary && e.props.layout.toggleAll && e.toggleAll();
}, e;
}
return e.__extends(n, t), n.prototype.focus = function() {
var e = this.focusGroup.members[0];
e && (S.SpartaGlobals.bundleIsConsole && this.selectionState.setActiveItem(0), e.setFocused(_.FocusSource.Auto, !0));
}, n.prototype.componentWillMount = function() {
var e = this;
this.selectionState.setActiveItem(-1), this.reaction(function() {
return e.selectionState.activeItemIndex;
}, function(t) {
var n = e.filterItems[t];
e.props.viewState.setFilterItem(n ? n.option : void 0);
}), this.reaction(function() {
return e.focusGroup.hasFocusedMember;
}, function(t) {
t || e.selectionState.setActiveItem(-1);
});
}, n.prototype.getInput = function() {
if (this.props.layout.toggleAll) {
var e = this.sparta.theme.getTheme(this).serverFilterView;
return [ new c.Input({
label: __("ID_SPARTA_ACTION_FILTER_TOGGLEALL"),
action: this.toggleAll,
key: e.toggleAllKey
}) ];
}
return [];
}, n.prototype.getOptionName = function(e) {
var t = e.name;
if (function n(e) {
return "function" == typeof e;
}(t)) {
0;
var r = t();
"string" == typeof r && (t = r);
}
return e.prettyName || t;
}, n.prototype.getItemsForCategory = function(e) {
var t = this, n = e.optionsCategory;
if (n) {
var r = n.options.map(function(n) {
return {
category: e,
option: n,
name: t.getOptionName(n)
};
});
return S.SpartaGlobals.bundleIsPC || (r = r.filter(function(e) {
return !e.option.PCOnly;
})), r;
}
return [];
}, Object.defineProperty(n.prototype, "filterItems", {
get: function() {
var e = this, t = this.props.layout, n = [];
if (t instanceof h.ServerFilterCategoryLayout) {
var r = this.props.filterState.getCategory(t.name);
n = n.concat(this.getItemsForCategory(r));
}
return t instanceof h.ServerFilterGroupLayout && t.filters.forEach(function(t) {
var r = e.props.filterState.getCategory(t.name);
r && (n = n.concat(e.getItemsForCategory(r)));
}), n;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this;
return r.createElement("surface", {
onMouseDown: this.onMouseDown
}, r.createElement(a.List, {
focusGroup: this.focusGroup
}, this.filterItems.map(function(t, n) {
return r.createElement(C, {
index: n,
key: t.option.filterKey + t.name,
item: t,
selectionState: e.selectionState,
gameId: e.props.gameId
});
})));
}, n.contextTypes = v.SpartaContext.contextTypes, e.__decorate([ g.computed ], n.prototype, "filterItems", null), 
n = e.__decorate([ o.observer, p.input ], n);
}(r.Component);
t.ServerFilterList = I;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(1), r = n(6), o = n(17), i = n(21), a = n(33);
t.OnOff = function s(t) {
var n = t.value, s = t.focused, u = t.isArabic;
return e.createElement(r.Text, {
size: i.TextSize.S,
value: function l(e) {
return void 0 === e ? "" : __(e ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF");
}(n),
type: s ? a.TextType.EMPHASIS : a.TextType.NORMAL,
color: function c(e) {
return e ? "#000000" : void 0;
}(s),
style: o.FilterOptionStyles.text(u)
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(6), i = n(17), a = n(33);
t.ScaleOption = function s(e) {
var t = e.value, n = e.focused, s = e.isArabic;
return r.createElement(o.Text, {
size: "S",
value: function u(e) {
return null === e || void 0 === e ? "" : 100 * e + "%";
}(t),
type: n ? a.TextType.EMPHASIS : a.TextType.NORMAL,
color: n ? "#000000" : void 0,
style: i.FilterOptionStyles.text(s)
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(1), r = n(6), o = n(33);
var i = n(5).StaticStyle.create({
zOffset: 1
}, "c07fb350:49:20");
t.Range = function a(t) {
var n = t.value, a = t.focused, s = t.option, u = function l(e) {
return e ? e[0] === e[1] ? e[0] + "" : e[0] + " - " + e[1] : "";
}(n);
return "percent" === s.format ? u = function c(e) {
return e ? __("ID_SPARTA_FORMAT_PERCENT").replace("[[value]]", e) : e;
}(u) : "seconds" === s.format && (u = function p(e) {
return e ? __("ID_SPARTA_FORMAT_SECONDS").replace("[[value]]", e) : e;
}(u)), e.createElement(r.Text, {
size: "S",
value: u,
type: a ? o.TextType.EMPHASIS : o.TextType.NORMAL,
color: a ? "#000000" : void 0,
style: i
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = n(11), a = n(8), s = n(112), u = n(19), l = n(1427), c = n(7), p = "4Th0rb3aR!1#@_28+&{.", d = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = c.SpartaContext.getFromComponent(e), e.textChanged = function(t) {
t === p && e.sparta.twinkle.frostbite.sendMessage("sparta.triggerGameCrash"), e.sparta.stores.serverFilterStore.setNameValue(e.props.gameId, t || void 0);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = u.isRTLLanguage() ? {
marginLeft: 2 * a.GUTTER
} : {
paddingRight: 2 * a.GUTTER
};
return r.createElement("surface", {
style: l.ServerNameFilterStyles.filter
}, r.createElement("surface", {
style: l.ServerNameFilterStyles.separator
}), r.createElement(a.Row, {
style: l.ServerNameFilterStyles.item
}, u.localeRearrange([ r.createElement(o.Text, {
key: "label",
value: __("ID_SPARTA_FILTER_SERVERNAME").toUpperCase(),
size: "S",
style: e
}), r.createElement(s.InputField, {
key: "control",
initialValue: this.props.text,
maxLength: 25,
size: "S",
onValueChanged: this.textChanged,
style: {
flex: 1
},
editKey: i.Keys.Accept
}) ])), r.createElement("surface", {
style: l.ServerNameFilterStyles.separator
}));
}, n.contextTypes = c.SpartaContext.contextTypes, n;
}(r.Component);
t.ServerNameFilter = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ServerNameFilterStyles"), a = function() {
function e() {}
return e.filter = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "column",
marginTop: 1
}, "904c1038:7:31");
}), e.item = o.wrap(function() {
return o.style({
height: o.Grid.getHeight(7),
flexDirection: "row",
paddingLeft: 2 * o.Grid.GUTTER,
paddingRight: 2 * o.Grid.GUTTER,
marginBottom: 1,
alignItems: "center"
}, "904c1038:15:29");
}), e.separator = o.wrap(function() {
return o.style({
height: 1,
backgroundColor: "#ffffff",
opacity: .1
}, "904c1038:26:34");
}), e = r.__decorate([ i.style ], e);
}();
t.ServerNameFilterStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(3), a = n(15), s = n(75), u = n(5), l = n(7), c = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = l.SpartaContext.getFromComponent(e), e.scaleTween = a.Animation.componentTween(e, "fde2ee2f:22:56", 1, a.Animation.presets.list.enter), 
e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "count", {
get: function() {
return this.sparta.stores.serverCountStore.counters[this.props.counterId] || 0;
},
enumerable: !0,
configurable: !0
}), n.prototype.componentDidUpdate = function() {
var e = this;
this.scaleTween.promiseTo(1.05).then(function() {
e.scaleTween.isDestroyed() || e.scaleTween.to(1);
});
}, n.prototype.render = function() {
var e = __("ID_SPARTA_ACTION_SERVER_VIEW");
e = this.count >= 100 ? __("ID_SPARTA_ACTION_SERVER_VIEW_COUNT_OVER100") : __("ID_SPARTA_ACTION_SERVER_VIEW_COUNT").replace("[[serverCount]]", this.count.toString());
var t = u.merge3(this.scaleTween.getStyleClass("scaleX"), this.scaleTween.getStyleClass("scaleY"), this.props.style);
return r.createElement(s.Button, {
name: "BUTTON_SERVER_VIEW_SERVERS",
text: e,
action: this.props.action,
style: t,
textSize: this.props.textSize
});
}, n.contextTypes = l.SpartaContext.contextTypes, e.__decorate([ i.computed ], n.prototype, "count", null), 
n = e.__decorate([ o.observer ], n);
}(r.Component);
t.ServerCountButton = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(6), s = n(8), u = n(15), l = n(21), c = n(154), p = n(34), d = n(19), f = n(9), m = n(5), h = n(33), g = {
heading: f.SpartaGlobals.bundleIsConsole ? l.TextSize.L : l.TextSize.M,
subheading: f.SpartaGlobals.bundleIsConsole ? l.TextSize.M : l.TextSize.S,
text: l.TextSize.S
}, y = f.SpartaGlobals.bundleIsConsole ? "L" : "S", S = s.getWidth(10.5), v = {
container: {
width: S
},
scroller: {
height: s.getHeight(40),
width: S
},
name: {
marginBottom: 2 * s.GUTTER,
textAlignForRTL: "left",
flex: 1
},
description: {
marginBottom: 2 * s.GUTTER,
flexWrap: "wrap",
textLineSpacing: l.LINE_HEIGHTS[g.text],
textAlignForRTL: "left"
},
expansionName: {
marginBottom: 2 * s.GUTTER,
textAlignForRTL: "left",
flex: 1
},
image: {
backgroundColor: "#000000",
height: s.getHeight(32),
width: S,
marginBottom: 2 * s.GUTTER,
layer: !0,
layerGrabBackground: !1
},
objectiveWrapper: {
flex: 1,
flexDirection: "row",
marginBottom: 2 * s.GUTTER
},
objective: {
textLineSpacing: l.LINE_HEIGHTS[g.text]
},
listIndicator: {
width: s.getWidth(.5) - s.GUTTER
}
}, _ = m.StaticStyle.create({
marginLeft: s.GUTTER,
marginTop: 2
}, "440ea0fc:103:22"), b = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.opacityTween = u.Animation.componentTween(n, "440ea0fc:77:58", 0), n.scroller = o.createRef(), 
n.reaction(function() {
return t.viewState.currentFilterItem;
}, function(e) {
n.opacityTween.to(e ? 1 : 0), n.scroller.current && n.scroller.current.scrollTo(0, 0);
}), n;
}
return r.__extends(t, e), t.prototype.getImageUrl = function(e) {
return e.images && (e.images.Large || e.images.Jpg1000xANY) || e.imageUrl;
}, t.prototype.getExpansionIcon = function(e) {
if (0 !== e.toLowerCase().indexOf("xp")) return null;
var t = e.toLowerCase().substring(0, 3), n = _;
return this.props.expansions && this.props.expansions[t] ? o.createElement(c.Icon, {
image: this.props.expansions[t],
size: y,
style: n
}) : null;
}, t.prototype.getExpansionName = function(e) {
var t = e.expansions ? e.expansions.find(function(e) {
return "DEFAULT" !== e.name && "XPACK0" !== e.name;
}) : null;
if (t && t.prettyName) {
var n = t.prettyName.toUpperCase();
return o.createElement(a.Text, {
value: n,
size: g.subheading,
style: v.expansionName
});
}
return null;
}, t.prototype.render = function() {
var e = this.props.viewState.filterItemToRender;
if (!e) return o.createElement("surface", null);
var t = this.getImageUrl(e), n = "";
e.description && e.description.length > 4 && (n = e.description.replace("\\n", "\n"));
var i = e.assetName ? this.getExpansionIcon(e.assetName) : null, u = i ? null : this.getExpansionName(e), l = e.objectives && e.objectives.map(function(e, t) {
return o.createElement("surface", {
key: t,
style: v.objectiveWrapper
}, o.createElement(a.Text, {
value: "-",
style: v.listIndicator,
size: g.text
}), o.createElement(a.Text, {
value: e,
style: v.objective,
size: g.text
}));
}), c = t ? o.createElement("surface", {
style: [ v.image, {
texture: t,
textureMode: "cover"
} ]
}) : null, f = d.isRTLLanguage() ? {
marginRight: s.GUTTER / 2
} : null;
return o.createElement("surface", {
style: [ v.container, this.opacityTween.getStyleClass("opacity") ]
}, c, o.createElement(p.Scroller, {
ref: this.scroller,
style: v.scroller,
softClip: [ s.getHeight(.5), 0, s.getHeight(2), 0 ],
scrollbarPosition: "inside",
controller: !0
}, o.createElement("surface", {
style: {
flexDirection: "row"
}
}, o.createElement(a.Text, {
value: e.prettyName ? e.prettyName.toUpperCase() : "",
size: g.heading,
style: v.name
}), i), u, o.createElement(a.Text, {
value: n,
size: g.text,
style: r.__assign({}, v.description, f),
type: h.TextType.LIGHT
}), o.createElement("surface", null, l)));
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.FilterItemInfo = b;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(3), a = function() {
function e() {
this.currentFilterItem = void 0, this.previousFilterItem = void 0, this.currentCategory = void 0;
}
return Object.defineProperty(e.prototype, "filterItemToRender", {
get: function() {
return this.currentFilterItem || this.previousFilterItem;
},
enumerable: !0,
configurable: !0
}), e.prototype.setFilterItem = function(e) {
this.currentFilterItem && (this.previousFilterItem = this.currentFilterItem), this.currentFilterItem = e;
}, e.prototype.setCategory = function(e) {
this.currentCategory = e;
}, r.__decorate([ o.observable ], e.prototype, "currentFilterItem", void 0), r.__decorate([ o.observable ], e.prototype, "previousFilterItem", void 0), 
r.__decorate([ o.observable ], e.prototype, "currentCategory", void 0), r.__decorate([ i.computed ], e.prototype, "filterItemToRender", null), 
r.__decorate([ o.action ], e.prototype, "setFilterItem", null), r.__decorate([ o.action ], e.prototype, "setCategory", null), 
e;
}();
t.ServerFilterViewState = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(31), i = n(4), a = n(176), s = n(661), u = n(29), l = n(92), c = n(652), p = n(7), d = n(50), f = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.gameServerLayout = new c.TunguskaGameServerLayout(), r.sparta = p.SpartaContext.getFromComponent(r), 
r.filterOptions = r.sparta.stores.serverFilterOptionsStore.get(o.tunguskaGameId), 
r.fullDetails = r.sparta.stores.gameServerDetailsStore.get(r.props.details.game, r.props.details.gameId), 
r;
}
return e.__extends(n, t), n.prototype.getOptionsMapping = function() {
var t = this.props.details.settings;
if (!this.filterOptions.value) return [];
if (0 === Object.keys(t).length) return [ {
key: "CLASSESVEHICLES",
name: __("ID_SPARTA_FILTER_CLASSESVEHICLES"),
settings: {},
filterOptions: []
}, {
key: "WEAPONS",
name: __("ID_SPARTA_FILTER_WEAPONS"),
settings: {},
filterOptions: []
}, {
key: "ADVANCED",
name: __("ID_SPARTA_FILTER_ADVANCED"),
settings: {},
filterOptions: []
}, {
key: "RULES",
name: __("ID_SPARTA_FILTER_RULES"),
settings: {},
filterOptions: []
} ];
var n = e.__assign({}, t.Kits, t.Vehicles);
return [ {
key: "CLASSESVEHICLES",
name: __("ID_SPARTA_FILTER_CLASSESVEHICLES"),
settings: n,
filterOptions: this.getFilterOptions(l.FilterCategoryName.Kits).concat(this.getFilterOptions(l.FilterCategoryName.Vehicles))
}, {
key: "WEAPONS",
name: __("ID_SPARTA_FILTER_WEAPONS"),
settings: t.Weapons,
filterOptions: this.getFilterOptions(l.FilterCategoryName.WeaponClasses)
}, {
key: "ADVANCED",
name: __("ID_SPARTA_FILTER_ADVANCED"),
settings: t.Misc,
filterOptions: this.getFilterOptions(l.FilterCategoryName.Misc)
}, {
key: "RULES",
name: __("ID_SPARTA_FILTER_RULES"),
settings: t.Scales,
filterOptions: this.getFilterOptions(l.FilterCategoryName.Scales)
} ];
}, n.prototype.getFilterOptions = function(e) {
if (this.filterOptions.value) {
var t = this.filterOptions.value[e];
if (t) return t.options;
}
return [];
}, n.prototype.getSettings = function() {
var e = this, t = this.getOptionsMapping(), n = {}, r = {
on: __("ID_SPARTA_FILTER_SETTING_ON"),
off: __("ID_SPARTA_FILTER_SETTING_OFF")
};
return t.forEach(function(t) {
var o = [];
Object.keys(t.settings).forEach(function(n) {
var i = t.settings[n], s = t.filterOptions.find(function(e) {
return e.name === n;
});
if (s) {
var u = !1, l = e.translateSettingValue(r, i);
if (s.type !== a.FilterOptionType.Int && s.type !== a.FilterOptionType.Bool || "RULES" === t.key) {
if (s.type === a.FilterOptionType.Scale) {
if (i) u = i === (s.defaultOption ? s.options[s.defaultOption].toFixed(1).toString() : ""), 
l = Math.round(100 * parseFloat(i)) + "%";
}
} else {
var c = s.defaultValue + "";
1 === s.defaultValue ? c = "on" : 0 === s.defaultValue && (c = "off"), u = c === i;
}
o.push({
name: s.prettyName || s.name,
setting: l,
isDefault: u
});
}
}), n[t.name] = o;
}), n;
}, n.prototype.translateSettingValue = function(e, t) {
return e.hasOwnProperty(t) ? e[t] : t;
}, n.prototype.render = function() {
return this.filterOptions.value ? r.createElement(s.ServerDetails, {
details: this.props.details,
settings: this.getSettings(),
fullDetails: this.fullDetails.value ? this.fullDetails.value : void 0,
gameServerLayout: this.gameServerLayout
}) : r.createElement(u.Spinner, null);
}, n.contextTypes = p.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component), m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = p.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(d.FragmentLoader, {
load: this.sparta.stores.serverDetailsStore.get(o.tunguskaGameId, this.props.viewLocation.args.blazeGameId),
errorMessage: __("ID_SPARTA_GENERIC_ERROR"),
errorSubText: __("ID_SPARTA_SERVER_FAILED_LOADING_DETAILS")
}, function(e) {
return r.createElement(f, {
details: e
});
});
}, n.contextTypes = p.SpartaContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.TunguskaServerDetails = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(31), a = n(72), s = n(18), u = n(181), l = n(8), c = n(32), p = n(28), d = n(39), f = n(29), m = n(23), h = n(37), g = n(5), y = n(7), S = n(22), v = g.StaticStyle.wrapLegacyStyleSheet({
loadingOverlay: {
position: "absolute",
zOffset: 3,
top: 0,
left: 0,
width: m.content.width,
height: m.content.height - m.content.top,
flexDirection: "row",
justifyContent: "center",
alignItems: "center"
},
emptyState: {
flexDirection: "column"
},
createButtonPC: {
marginTop: l.spacer(6),
width: l.getWidth(h.CARD_WIDTH.cells.SSM)
},
createButtonConsole: {
marginTop: l.spacer(6),
width: l.getWidth(h.CARD_WIDTH.cells.M)
}
}, "955848b2:19:15"), _ = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = y.SpartaContext.getFromComponent(e), e.getRecommendationSize = function() {
return e.sparta.twinkle.buildInfo.isPC ? h.CardSize.SSM : h.CardSize.M;
}, e.onCreate = function() {
var t = e.sparta.stores.gameStore.getGame(i.tunguskaGameId), n = t && t.rspConfig;
n && n.purchaseNewRoute && s.gotoLocation(n.purchaseNewRoute);
}, e.renderContent = function(t) {
return t ? 0 === t.length ? r.createElement(d.EmptyState, {
key: "emptyState",
style: g.merge2(v.loadingOverlay, v.emptyState),
text: __("ID_SPARTA_CUSTOM_GAMES_EMPTY_TITLE"),
subText: __("ID_SPARTA_CUSTOM_GAMES_EMPTY_DESC")
}) : r.createElement("surface", null, r.createElement(a.CardCarousel, {
id: "955848b2:110:35",
width: l.getWidth(24)
}, t), e.renderCreateCustomGameButton()) : r.createElement("surface", {
style: v.loadingOverlay,
key: "loading"
}, r.createElement(f.Spinner, {
large: !0
}));
}, e;
}
return e.__extends(n, t), n.prototype.renderCreateCustomGameButton = function() {
var e = this.sparta.stores.gameStore.getGame(i.tunguskaGameId), t = e && e.rspConfig;
if (t && t.isEnabled() && this.sparta.stores.nativePropertiesStore.isHostingGame(i.tunguskaGameId) && t.purchaseNewRoute) {
var n = this.sparta.twinkle.buildInfo.isPC ? v.createButtonPC : v.createButtonConsole;
return r.createElement(p.Button, {
name: "BUTTON_TUNGUSKA_CUSTOM_GAME_CREATE",
key: "createCustom",
text: __("ID_SPARTA_CUSTOM_GAMES_CREATE").toLocaleUpperCase(),
style: n,
action: this.onCreate
});
}
}, n.prototype.render = function() {
return r.createElement(c.Template, {
scrollToFocus: S.focusSystem.controllerMode,
wideContent: !0
}, r.createElement(u.RecommendationRenderer, {
cardSizer: this.getRecommendationSize,
game: i.tunguskaGameId,
category: "custom_games"
}, this.renderContent));
}, n.contextTypes = y.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaCustomGames = _;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(3), s = n(10), u = n(34), l = n(662), c = n(14), p = n(6), d = n(8), f = n(32), m = n(28), h = n(25), g = n(11), y = n(38), S = n(23), v = n(12), _ = n(36), b = n(50), T = n(93), E = n(102), C = n(18), I = n(82), A = n(9), w = n(5), P = n(47), R = w.StaticStyle.wrapLegacyStyleSheet({
headlineContainer: {
alignItems: "center",
justifyContent: "center"
},
calloutContainer: {
width: d.getWidth(5),
marginRight: d.getWidth(1)
},
image: {
width: 588,
height: 188,
marginBottom: 20,
marginTop: 20
},
spacer: {
marginBottom: 20,
marginTop: 20,
width: d.getWidth(20)
},
textCenter: {
textAlign: "center",
textAlignForRTL: "center"
},
textContainer: {
marginLeft: 10,
marginRight: 10
},
textRTL: {
textAlignForRTL: "left"
},
scrollerContainer: {
margin: [ 40, 40, 40, 40 ]
}
}, "1d0b048c:34:15"), O = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.buttonAction = function() {
return e.showCTEPopupTerms(e.props.textKeyToShow);
}, e;
}
return r.__extends(n, t), n.prototype.showCTEPopupTerms = function(t) {
var n = this, r = d.getWidth(20), i = {
top: d.getHeight(2),
width: r,
height: S.safeZone.height - S.footer.height - d.getHeight(12)
};
l.cteClient.getLegalText.request({
game: "tunguska",
key: t
}).onSuccess(function(e) {
var t = o.createElement("surface", {
style: R.scrollerContainer
}, o.createElement(u.Scroller, {
controller: !0,
scrollbar: !0,
style: i,
key: "cte_scroller_legal"
}, o.createElement("surface", {
style: {
flexWrap: "wrap",
flexDirection: "row"
}
}, o.createElement(p.Text, {
size: "S",
value: e || void 0,
style: {
width: r,
textAlignForRTL: n.props.alignmentRTL,
paddingRight: d.GUTTER
}
}))));
h.display(new y.Popup({
content: t,
id: "linkTextCTEPopup",
fullScreen: !0,
inputs: [ new v.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: g.Keys.Decline
}) ]
}));
}).onError(function(t) {
e.info("Could not fetch terms text ", t);
}).onThrottled(function() {});
}, n.prototype.render = function() {
return o.createElement(m.Button, {
name: "1d0b048c:133:23",
text: this.props.btnText,
action: this.buttonAction,
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(8)
}
});
}, n;
}(o.Component), x = new (function() {
function e() {
this.enabled = !0, this.text = "", this.done = !1;
}
return e.prototype.update = function(e, t) {
this.enabled = e, this.text = t;
}, e.prototype.setAsComplete = function(e) {
this.enabled = !1, this.done = !0, this.text = e;
}, r.__decorate([ a.observable ], e.prototype, "enabled", void 0), r.__decorate([ a.observable ], e.prototype, "text", void 0), 
r.__decorate([ a.observable ], e.prototype, "done", void 0), r.__decorate([ a.action ], e.prototype, "update", null), 
r.__decorate([ a.action ], e.prototype, "setAsComplete", null), e;
}())(), k = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return r.__extends(n, t), n.prototype.registerToCTE = function() {
x.update(!1, __("ID_SPARTA_CTE_ACTION_REGISTERING")), l.cteClient.register.request({
game: "tunguska"
}).onSuccess(function(t) {
e.info("CTE register successfull!"), _.trackCteRegistrationSuccess(), x.setAsComplete(__("ID_SPARTA_CTE_ACTION_SUCCESS"));
}).onError(function(t) {
var n, r;
switch (e.info("CTE register error: ", t), t.message) {
case "PREMIUM_REQUIRED":
n = __("ID_SPARTA_CTE_REGISTER_ERR_PREMIUM_REQ_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_PREMIUM_REQ_TEXT");
break;

case "CTE_REGISTRATION_FULL":
n = __("ID_SPARTA_CTE_REGISTER_ERR_REG_FULL_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_REG_FULL_TEXT");
break;

case "CTE_REGISTRATION_CLOSED":
n = __("ID_SPARTA_CTE_REGISTER_ERR_REG_CLOSED_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_REG_CLOSED_TEXT");
break;

case "HAS_CTE_ACCESS":
n = __("ID_SPARTA_CTE_REGISTER_ERR_HAS_ACCESS_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_HAS_ACCESS_TEXT");
break;

default:
n = __("ID_SPARTA_CTE_REGISTER_ERR_GENERAL_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_GENERAL_TEXT");
}
P.PopupManager.standardAlert(r, n), _.trackCteRegistrationError(t), x.update(!0, "");
}).onThrottled(function() {
x.update(!0, "");
}), _.trackCteRegistration();
}, n.prototype.render = function() {
var e = x.enabled ? this.props.title.toUpperCase() : x.text;
return o.createElement(m.Button, {
name: "1d0b048c:225:23",
text: e,
action: this.registerToCTE,
disabled: !x.enabled,
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(8)
}
});
}, n = r.__decorate([ i.observer ], n);
}(o.Component), L = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onClose = function() {
return C.gotoLocation("tunguska/more");
}, t.onInstallation = function(e) {
E.PurchaseFlow.start(e);
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
_.trackCteSignupVisit();
}, t.prototype.hasSignedUp = function() {
return x.done || s.entitlementStore.findEntitlement("tunguska", "CTE_ONLINE_ACCESS");
}, t.prototype.renderSignup = function() {
var e;
if (s.onlineState.isOnlineBlazeAndGateway) {
var t = __("ID_SPARTA_CTE_DISCLAIMER_PC");
A.SpartaGlobals.bundleIsPS4 ? t = __("ID_SPARTA_CTE_DISCLAIMER_PS4") : A.SpartaGlobals.bundleIsXBOXONE && (t = __("ID_SPARTA_CTE_DISCLAIMER_XB1")), 
e = A.SpartaGlobals.bundleIsPC ? o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_WHAT_IS"),
style: {
textAlignForRTL: "left"
}
})), o.createElement(O, {
btnText: __("ID_SPARTA_CTE_SIGN_READ_MORE"),
textKeyToShow: "CTE_DESCRIPTION",
alignmentRTL: "left"
}), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_LEGAL_REQ"),
style: {
textAlignForRTL: "left"
}
})), o.createElement(O, {
btnText: __("ID_SPARTA_CTE_TERMS_TITLE"),
textKeyToShow: "CTE_EULA"
}), o.createElement(k, {
title: __("ID_SPARTA_CTE_SIGN_UP_BTN")
}), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "XS",
value: __("ID_SPARTA_CTE_SIGN_UP_INFO")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "XS",
value: t,
style: {
textAlignForRTL: "left"
}
}))) : o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_WHAT_IS"),
style: {
textAlignForRTL: "left"
}
})), o.createElement(O, {
btnText: __("ID_SPARTA_CTE_SIGN_READ_MORE"),
textKeyToShow: "CTE_DESCRIPTION",
alignmentRTL: "left"
}), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_LEGAL_REQ"),
style: {
textAlignForRTL: "left"
}
})), o.createElement(O, {
btnText: __("ID_SPARTA_CTE_TERMS_TITLE"),
textKeyToShow: "CTE_EULA"
}), o.createElement(k, {
title: __("ID_SPARTA_CTE_SIGN_UP_BTN")
}), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "XS",
value: t,
style: {
textAlignForRTL: "left"
}
})));
} else e = o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "XS",
value: __("ID_SPARTA_MATCHMAKING_FAILED_CONNECTION")
}));
return e;
}, t.prototype.renderSignedup = function(e) {
var t;
if (A.SpartaGlobals.bundleIsPC) t = o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "M",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED_INFO")
}), o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED_INFO_PC")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED_INFO2")
})), o.createElement(m.Button, {
name: "1d0b048c:361:31",
text: __("ID_SPARTA_ACTION_CLOSE"),
action: this.onClose,
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(6)
}
})); else {
var n = e.findById("tunguska-cte"), r = null;
n && (r = n.owned && A.SpartaGlobals.bundleIsPS4 && I.tunguskaFeatureFlags.tunguskaCTEShowInstallMessage.isEnabled() ? o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_INSTALL_MESSAGE")
})) : o.createElement(m.Button, {
name: "1d0b048c:385:35",
text: __("ID_SPARTA_COMMERCE_OFFER_GAME_INSTALLATION"),
action: this.onInstallation.bind(this, n),
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(6)
}
})), t = o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "M",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED_INFO")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED_INFO2")
})), r);
}
return t;
}, t.prototype.render = function() {
var e = this, t = c.bbOfflineUrl("/sparta/assets/tunguska/cte-signup-logo-550fc8f9.png");
return o.createElement(b.FragmentLoader, {
load: T.offersStore.get("bf1cte"),
errorMessage: __("ID_SPARTA_CTE_REGISTER_ERR_REG_CLOSED_TITLE"),
errorSubText: __("ID_SPARTA_CTE_REGISTER_ERR_REG_CLOSED_TEXT")
}, function(n) {
return o.createElement(f.Template, {
tallContent: !0,
scrollContent: !0
}, o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: [ R.image, {
texture: t
} ]
}), e.hasSignedUp() ? e.renderSignedup(n) : e.renderSignup()));
});
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaCTESignup = L;
}).call(this, n(2), n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(35), i = {
throttleTimeout: 3e3
};
t.createClients = function a(e) {
var t = r.__assign({
requestPerformer: e
}, i);
return {
register: new o.Client("CTE.register", t),
getLegalText: new o.Client("Content.getText", t)
};
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(18), a = n(51), s = n(31), u = n(8), l = n(76), c = n(37), p = n(32), d = n(10), f = n(14), m = n(267), h = n(111), g = n(9), y = n(7), S = n(5), v = S.StaticStyle.create({
flexDirection: "row",
marginTop: g.SpartaGlobals.bundleIsConsole ? u.getHeight(3) : 0
}, "5da6637b:18:23"), _ = S.StaticStyle.create({
height: u.getHeight(59)
}, "5da6637b:55:19"), b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = y.SpartaContext.getFromComponent(e), e.handleOperations = function() {
e.sparta.stores.nativePropertiesStore.isHostingGame(s.tunguskaGameId) ? m.tryShowTutorial(e.sparta, "", "BreakthroughLarge", s.tunguskaGameId).then(function() {
e.enterOperations();
}) : h.showNotInHostingGame("Crosslaunch", "SP");
}, e.gotoQuickmatch = function() {
return i.gotoLocation("tunguska/mp/quickmatch");
}, e.gotoServers = function() {
return i.gotoLocation("tunguska/mp/servers");
}, e.gotoCustomGames = function() {
return i.gotoLocation("tunguska/mp/customgames");
}, e;
}
return e.__extends(n, t), n.prototype.enterOperations = function() {
d.onlineState.isOnlineBlazeAndGateway && a.enterOperations();
}, n.prototype.render = function() {
var t = this.sparta.stores.nativePropertiesStore.isHostingGame(s.tunguskaGameId), n = u.getHeight(18), o = {
size: c.CardSize.XL,
style: _
};
return r.createElement("surface", {
style: v
}, r.createElement(l.BasicCard, e.__assign({
layout: "split"
}, o, {
background: f.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-operations-a5d168cd.png"),
heading: __("ID_SPARTA_ACTION_OPERATIONS"),
headingType: "emphasis",
description: __("ID_SPARTA_ACTION_OPERATIONS_DESCRIPTION"),
textHeight: n,
onPress: this.handleOperations,
enabled: t,
debugName: "cardOperations"
})), r.createElement(l.BasicCard, e.__assign({
layout: "split"
}, o, {
background: f.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-quickmatch-c0372e70.png"),
heading: __("ID_SPARTA_ACTION_QUICKMATCH"),
headingType: "emphasis",
description: __("ID_SPARTA_ACTION_QUICKMATCH_DESCRIPTION"),
textHeight: n,
onPress: this.gotoQuickmatch,
debugName: "cardQuickmatch"
})), r.createElement(l.BasicCard, e.__assign({
layout: "split"
}, o, {
background: f.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-serverbrowser-a4afc40e.png"),
heading: __("ID_SPARTA_ACTION_SERVERBROWSER"),
headingType: "emphasis",
description: __("ID_SPARTA_ACTION_SERVERBROWSER_DESCRIPTION"),
textHeight: n,
onPress: this.gotoServers,
debugName: "cardServers"
})), r.createElement(l.BasicCard, e.__assign({
layout: "split"
}, o, {
background: f.bbOfflineUrl("/sparta/jsclient/builds/assets/mp-cardimage-customgame-8ec012dd.png"),
heading: __("ID_SPARTA_ACTION_CUSTOMGAMES"),
headingType: "emphasis",
description: __("ID_SPARTA_ACTION_CUSTOMGAMES_DESCRIPTION"),
textHeight: n,
onPress: this.gotoCustomGames,
debugName: "cardCustomGames"
})));
}, n.contextTypes = y.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaMultiplayerContent = b;
var T = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(p.Template, {
wideContent: !0,
tallContent: !0,
scrollContent: g.SpartaGlobals.bundleIsPC
}, r.createElement(b, null));
}, n;
}(r.Component);
t.TunguskaMultiplayer = T;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(31), a = n(72), s = n(8), u = n(32), l = n(10), c = n(663), p = n(181), d = n(37), f = n(1437), m = n(419), h = n(7), g = n(5), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = h.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.sparta.twinkle.buildInfo.isPC, t = g.DynamicStyle.create({
height: ((e ? d.CARD_HEIGHT.cells.SSL : d.CARD_HEIGHT.cells.L) + 1) * s.spacer(1),
marginBottom: s.spacer(4)
}, "478cf978:24:34");
return r.createElement(s.Col, null, r.createElement(a.CardCarousel, {
id: "478cf978:32:35",
width: s.getWidth(24),
style: t
}, r.createElement(p.RecommendationRenderer, {
game: i.tunguskaGameId,
category: "tunguska_home",
addFeedRecommendations: !0
})), r.createElement(f.HomeWidgets, null));
}, n.contextTypes = h.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), S = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.displayName = "TunguskaOverview", e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = [], t = l.medalStore.getTimeToNextReset(i.tunguskaGameId), n = Math.max(t / 60 / 60, 1), o = l.gameStore.getGame(i.tunguskaGameId), a = o && o.careerConfig && o.careerConfig.currentMedals && o.careerConfig.currentMedals.daysToReset;
void 0 !== a && a > 0 && n >= 24 * (a - 1) && e.push(__("ID_SPARTA_TUNGUSKA_CURRENTMEDALS_NEW"));
var s = r.createElement(m.OverviewHeading, {
extraMessages: e
});
return r.createElement(u.Template, {
wideContent: !0,
aboveContent: s,
scrollContent: !1
}, r.createElement(c.TakeoverComponent, {
gameId: i.tunguskaGameId
}), r.createElement(y, null));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaOverview = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(17), s = n(10), u = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = s.hostingGameStore.game;
return e ? o.createElement("surface", {
style: a.CommonStyles.flexRow
}, e.homeWidgets.map(function(e) {
return o.createElement(e, {
key: e.name
});
})) : null;
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.HomeWidgets = u;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(31), i = n(8), a = n(139), s = n(32), u = n(6), l = n(217), c = n(28), p = n(76), d = n(37), f = n(14), m = n(24), h = n(177), g = n(4), y = n(7), S = i.getHeight(17), v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = y.SpartaContext.getFromComponent(e), e.displayName = "TunguskaOverviewOffline", 
e.onCardPress = function() {
return a.continueSinglePlayer(o.tunguskaGameId);
}, e;
}
return e.__extends(n, t), n.prototype.renderMissingMultiplayerPrivileges = function() {
return this.sparta.stores.presenceStateStore.mustPurchasePSPlus ? r.createElement(p.BasicCard, {
background: f.bbOfflineUrl("/sparta/jsclient/builds/assets/card-mpcard-faf2de38.jpg"),
heading: __("ID_SPARTA_OFFLINE_PLAY_MULTIPLAYER"),
description: __("ID_SPARTA_OFFLINE_PLAY_MULTIPLAYER_DESC"),
textHeight: S,
onPress: h.purchasePsPlus
}) : null;
}, n.prototype.renderOfflineHeading = function() {
var e = this.sparta.stores.presenceStateStore.mustPurchasePSPlus ? __("ID_SPARTA_OFFLINE_MISSING_MP_HEADING") : __("ID_SPARTA_OFFLINE_HEADING");
return r.createElement("surface", {
style: {
flexDirection: "row"
}
}, r.createElement(u.Text, {
value: e
}));
}, n.prototype.renderGoOnlineButton = function() {
var e = this.sparta.stores, t = e.onlineState, n = e.presenceStateStore;
if (t.canGoOnline) {
var o = t.goOnlineIsRetry ? __("ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN") : __("ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE");
return r.createElement(c.Button, {
name: "638aefc6:69:31",
textSize: "S",
text: o,
style: {
width: i.getWidth(6)
},
action: function() {
n.isReady ? m.connect() : l.connect();
}
});
}
return null;
}, n.prototype.render = function() {
var e = this.sparta.stores.nativePropertiesStore.getHostingGameId() === o.tunguskaGameId || this.sparta.stores.presenceStateStore.isReady;
return r.createElement(s.Template, {
wideContent: !0,
aboveContent: this.renderOfflineHeading(),
scrollContent: this.sparta.twinkle.buildInfo.isPC
}, r.createElement("surface", {
style: {
flexDirection: "row",
marginBottom: i.getHeight(4)
}
}, r.createElement(p.BasicCard, {
background: f.bbOfflineUrl("/sparta/assets/tunguska/mp-box-operations-cc6ef1d6.png"),
heading: __("ID_SPARTA_OFFLINE_PLAY_CAMPAIGN_HEADING"),
description: __("ID_SPARTA_OFFLINE_PLAY_TUNGUSKA_CAMPAIGN_DESCRIPTION"),
enabled: e,
size: d.CardSize.L,
textHeight: S,
onPress: this.onCardPress
}), this.renderMissingMultiplayerPrivileges()), this.sparta.twinkle.buildInfo.isPC && this.renderGoOnlineButton());
}, n.contextTypes = y.SpartaContext.contextTypes, n = e.__decorate([ g.observer ], n);
}(r.Component);
t.TunguskaOverviewOffline = v;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(14), s = n(31), u = n(87), l = n(456), c = n(23), p = n(8), d = n(15), f = n(6), m = n(155), h = n(29), g = n(39), y = n(28), S = n(157), v = n(204), _ = n(61), b = n(5), T = n(17), E = n(9), C = n(33), I = n(22), A = b.StaticStyle.wrapLegacyStyleSheet({
centeredContent: {
width: c.content.width,
height: c.content.height,
justifyContent: "center",
alignItems: "center"
},
listItem: {
height: p.getHeight(E.SpartaGlobals.bundleIsPC ? 34 : 29),
marginTop: p.getHeight(E.SpartaGlobals.bundleIsPC ? 6 : 3),
marginBottom: p.getHeight(E.SpartaGlobals.bundleIsPC ? 6 : 3)
},
focusIndicator: {
position: "absolute",
top: 0,
bottom: 0,
left: -5,
width: 5,
backgroundColor: "#ffffff",
zOffset: 2
},
mission: {
zOffset: 1,
flexDirection: "row"
},
missionImage: {
width: p.getHeight(E.SpartaGlobals.bundleIsPC ? 34 : 29),
height: p.getHeight(E.SpartaGlobals.bundleIsPC ? 34 : 29),
marginRight: p.getWidth(1)
},
missionImageFade: {
position: "absolute",
left: 0,
top: 0,
right: 0,
bottom: 0,
texture: a.bbOfflineUrl("/sparta/jsclient/builds/assets/box_gradient_overlay-934d8a82.png"),
textureMode: "fill",
zOffset: 1
},
missionCountdown: {
position: "absolute",
left: 20,
bottom: 16,
zOffset: 2
},
missionContent: {
height: p.getHeight(E.SpartaGlobals.bundleIsPC ? 34 : 29),
flex: 1
},
missionTitle: {
color: "#ffffff"
},
missionSubTitle: {
marginTop: p.getHeight(1),
marginBottom: p.getHeight(1)
},
missionProgressText: {
flexDirection: "row",
justifyContent: "flex-end",
marginTop: p.getHeight(1)
},
missionProgressbar: {
height: p.getHeight(1),
backgroundColor: "#00000066",
marginTop: p.getHeight(1),
flexDirection: "row"
},
missionProgressbarFill: {
backgroundColor: "#ff9900",
height: p.getHeight(1)
},
missionProgressbarFillLocked: {
backgroundColor: "#ffffff66",
height: p.getHeight(1)
},
missionReward: {
marginTop: p.getHeight(4),
position: "absolute",
bottom: 0,
left: 0
},
missionRewardDescription: {
marginBottom: p.getHeight(2),
height: p.getHeight(3)
},
missionRewardText: {
color: "#ffffff",
position: "absolute",
top: 0,
left: 0
},
missionRewardClaim: {
width: p.getWidth(6)
},
delayedProgressMessage: {
color: "#ffffffd8"
}
}, "87a93462:31:15"), w = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.claimReward = function() {
e.disabled || (e.claimResult = u.tunguskaMissionsStore.claimReward(e.props.mission), 
e.claimResult.onSuccess(function(e) {
switch (e.rewardKind) {
case "tunguska_currency":
case "bf1cte_currency":
case "tunguska_battlepack":
break;

case "tunguska_dogtag":
l.DogtagClient.reset();
}
}));
}, e;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "disabled", {
get: function() {
return this.props.mission.hasClaimed || !this.props.mission.isClaimable;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.props.mission, t = {
opacity: d.Animation.tweenSwitch(1, 0, e.hasClaimed)
};
return r.createElement("surface", {
style: t
}, r.createElement(y.Button, {
name: "87a93462:217:27",
noFocus: I.focusSystem.controllerMode,
highlight: I.focusSystem.controllerMode && this.props.focusItem.isFocused,
disabled: this.disabled,
text: __("ID_SPARTA_MISSIONS_CLAIM_REWARD"),
style: A.missionRewardClaim,
textSize: "S",
action: this.claimReward
}));
}, e.__decorate([ o.computed ], n.prototype, "disabled", null), n = e.__decorate([ i.observer ], n);
}(r.Component), P = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.getTimeFormat = function(e) {
return __("ID_SPARTA_MISSIONS_COUNTDOWN_TIME_LEFT").replace("[[COUNTDOWN]]", m.simpleTimeFormat(e > 0 ? e : 0));
}, n.prototype.getProgressText = function(e) {
var t = e.progress.valueAcquired;
return e.progress.valueAcquired > e.progress.valueNeeded && (t = e.progress.valueNeeded), 
_.formatNumber(t) + " / " + _.formatNumber(e.progress.valueNeeded);
}, n.prototype.render = function() {
var t, n, o = this.props.mission, i = {
opacity: this.props.focusItem.isFocused && I.focusSystem.controllerMode ? 1 : 0
}, a = [ A.listItem, {
marginTop: this.props.isFirst ? 0 : void 0,
marginBottom: this.props.isLast ? 0 : void 0
} ], s = c.content.width - A.missionImage.getNumericStyle("width", 0) - A.missionImage.getNumericStyle("marginRight", 0), u = __("ID_SPARTA_MISSIONS_REWARD_DESCRIPTION").replace("[[REWARD]]", o.rewardDescription.toUpperCase()), l = __("ID_SPARTA_MISSIONS_CLAIMED_REWARD_DESCRIPTION").replace("[[REWARD]]", o.rewardDescription.toUpperCase()), h = [ A.missionImage, {
texture: o.imageUrls.large || "",
layer: !0,
layerGrayScale: this.props.isPreviousMission ? 1 : 0
} ];
o.endTime && !this.props.isPreviousMission && (t = r.createElement("surface", {
style: A.missionImageFade
}), n = r.createElement(m.Countdown, {
size: "S",
style: A.missionCountdown,
targetTime: o.endTime,
format: this.getTimeFormat
}));
var g = b.merge3(A.missionRewardText, d.Animation.tweenSwitchStyle("87a93462:303:40", "opacity", 0, 1, !o.hasClaimed), d.Animation.tweenSwitchStyle("87a93462:304:40", "translateY", -p.getHeight(4), 0, !o.hasClaimed)), y = b.merge3(A.missionRewardText, d.Animation.tweenSwitchStyle("87a93462:309:40", "opacity", 0, 1, o.hasClaimed), d.Animation.tweenSwitchStyle("87a93462:310:40", "translateY", p.getHeight(4), 0, o.hasClaimed));
return r.createElement("surface", e.__assign({}, I.focusSystem.controllerMode ? this.props.focusItem.hooks : {}, {
style: a
}), r.createElement("surface", {
style: [ A.focusIndicator, i ]
}), r.createElement("surface", {
style: A.mission
}, r.createElement("surface", {
style: h
}, t, n), r.createElement("surface", {
style: A.missionContent
}, r.createElement(f.Text, {
value: o.title,
style: T.CommonStyles.color("#ffffff"),
size: "L"
}), r.createElement("surface", {
style: A.missionSubTitle
}, r.createElement(f.Text, {
value: o.description,
style: A.delayedProgressMessage,
size: "S"
})), o.progress ? r.createElement("surface", {
style: A.missionProgressbar
}, r.createElement("surface", {
style: [ A.missionProgressbarFill, this.props.isPreviousMission ? A.missionProgressbarFillLocked : void 0, {
width: Math.min(s, s * (o.progress.valueAcquired / o.progress.valueNeeded))
} ]
})) : void 0, r.createElement("surface", {
style: A.missionProgressText
}, o.progress ? r.createElement(f.Text, {
value: this.getProgressText(o),
style: A.delayedProgressMessage,
size: "S"
}) : void 0), r.createElement("surface", {
style: A.missionReward
}, r.createElement("surface", {
style: A.missionRewardDescription
}, r.createElement(f.Text, {
value: u,
style: g,
type: C.TextType.EMPHASIS,
size: "S"
}), r.createElement(f.Text, {
value: l,
style: y,
type: C.TextType.EMPHASIS,
size: "S"
})), r.createElement(w, {
mission: o,
focusItem: this.props.focusItem,
isPreviousMission: this.props.isPreviousMission
})))));
}, n = e.__decorate([ i.observer ], n);
}(r.Component), R = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.missionsFragment = u.tunguskaMissionsStore.getMissions(s.tunguskaGameId);
}, n.prototype.componentWillUnmount = function() {
u.tunguskaMissionsStore.toggleStatsDelayedMessage(!1);
}, n.prototype.getMissionItemNodes = function(e, t) {
void 0 === t && (t = !1);
var n = [];
return e.forEach(function(o, i) {
var a = A.listItem.getNumericStyle("height", 0) + A.listItem.getNumericStyle("marginTop", 0) + A.listItem.getNumericStyle("marginBottom", 0);
n.push(r.createElement(v.ItemScrollerItem, {
key: "missionsItem:" + o.id,
debugName: "missionsItem:" + o.id,
height: a,
initialFocus: 0 === i,
isFocusable: !0
}, function(n) {
return r.createElement(P, {
index: i,
mission: o,
focusItem: n,
isPreviousMission: t,
isFirst: 0 === i,
isLast: i === e.length - 1
});
}));
}), n;
}, n.prototype.render = function() {
var e = this;
if (!this.missionsFragment.isReady) return r.createElement("surface", {
style: A.centeredContent
}, r.createElement(h.Spinner, {
large: !0
}));
var t = [ {
name: "active",
title: __("ID_SPARTA_MISSIONS_TAB_TITLE_ACTIVE"),
render: function() {
var t = e.missionsFragment.value || [], n = new Date().getTime(), o = t.filter(function(e) {
return e.endTime && n < e.endTime;
});
return 0 === o.length ? r.createElement(g.EmptyState, {
text: __("ID_SPARTA_MISSIONS_EMPTY_TITLE"),
subText: __("ID_SPARTA_MISSIONS_NO_ACTIVE_FOUND"),
centerVertically: !0
}) : r.createElement(v.ItemScroller, {
debugName: "missionsListActive",
height: c.content.height
}, v.withDividers(e.getMissionItemNodes(o), !1, !1));
}
}, {
name: "previous",
title: __("ID_SPARTA_MISSIONS_TAB_TITLE_PREVIOUS"),
render: function() {
var t = e.missionsFragment.value || [], n = new Date().getTime(), o = t.filter(function(e) {
return e.endTime && n > e.endTime;
});
return 0 === o.length ? r.createElement(g.EmptyState, {
text: __("ID_SPARTA_MISSIONS_EMPTY_TITLE"),
subText: __("ID_SPARTA_MISSIONS_NO_PREVIOUS_FOUND"),
centerVertically: !0
}) : r.createElement(v.ItemScroller, {
debugName: "missionsListPrevious",
height: c.content.height
}, v.withDividers(e.getMissionItemNodes(o, !0), !1, !1));
}
} ], n = u.tunguskaMissionsStore.showStatsDelayedMessage ? r.createElement(f.Text, {
size: "XS",
value: __("ID_SPARTA_MISSIONS_PROGRESS_DELAYED"),
style: A.delayedProgressMessage
}) : void 0;
return r.createElement(S.TabbedTemplate, {
tabs: t,
header: n,
topGutter: !1
});
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.TunguskaMissions = R;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.kind = "dogtag", n.equipped = t.equipped, n.index = t.index, n.type = t.type, 
n.timesTaken = t.timesTaken, n;
}
return r.__extends(t, e), t;
}(n(218).BaseAward);
t.Dogtag = o;
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(664), u = n(32), l = n(8), c = n(6), p = n(23), d = n(87), f = n(36), m = n(34), h = n(1442), g = n(1444), y = n(432), S = n(9), v = (e.get("TunguskaAssignmentsList"), 
function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.autoFocusTracked = !1, n.autoFocusTracked = void 0 !== n.props.viewLocation.args.autoFocusTracked, 
n;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
var e = this, t = d.tunguskaAssignmentsStore.get();
this.trackCompletedDispose = i.when(function() {
return t.value instanceof y.TunguskaAssignments;
}, function() {
if (t.value instanceof y.TunguskaAssignments && (f.trackCompletedAssignments(t.value.completedAssignments.length), 
e.autoFocusTracked)) for (var n = 0; n < t.value.assignments.length; n++) {
var r = t.value.assignments[n];
if (r.code === d.tunguskaTrackedAssignmentStore.trackedAssignmentCode) {
d.tunguskaAssignmentsSelectState.setActiveAssignment(r);
break;
}
}
});
}, t.prototype.componentWillUnmount = function() {
d.tunguskaAssignmentsSelectState.clearActiveAssignment(), this.trackCompletedDispose && this.trackCompletedDispose();
}, t.prototype.renderAssignmentCategories = function(e) {
var t = this;
return e.map(function(e) {
var n = e.items || [], r = {}, i = [];
n.forEach(function(e) {
e.dependencies.forEach(function(e) {
e.code && i.push(e.code);
}), e.code && (r[e.code] = e);
});
var a = n.filter(function(e) {
return e.code && -1 === i.indexOf(e.code);
}).map(function(e) {
var n = [ e ], i = void 0;
if (e.dependencies && e.dependencies.length > 0) {
var a = e.dependencies[0];
i = r[a.code];
}
for (;i; ) if (n.unshift(i), i.dependencies && i.dependencies.length > 0) {
a = i.dependencies[0];
i = r[a.code];
} else i = void 0;
var s = n.reduce(function(e, t) {
return e + t.progression.valueAcquired;
}, 0);
return o.createElement(g.TunguskaAssignmentStack, {
autoFocusTracked: t.autoFocusTracked,
key: "assignment_box_" + e.code + "_" + s,
assignments: n
});
});
return o.createElement("surface", {
key: "category_" + e.name,
style: s.TunguskaAssignmentsStyles.categoryContainer
}, o.createElement("surface", {
style: s.TunguskaAssignmentsStyles.categoryTitle
}, o.createElement(c.Text, {
value: e.name && e.name.toUpperCase(),
type: "emphasis",
size: "S",
style: {
textAlignForRTL: "left"
}
})), o.createElement("surface", {
style: s.TunguskaAssignmentsStyles.assignmentsContainer
}, a));
});
}, t.prototype.render = function() {
var e, t = d.tunguskaAssignmentsStore.get();
t.isReady && t.value instanceof y.TunguskaAssignments && (e = this.renderAssignmentCategories(t.value.categories));
var n = p.content.height;
return S.SpartaGlobals.bundleIsPC && (n -= 2 * l.GUTTER), o.createElement(u.Template, {
tallContent: !0,
scrollContent: !1
}, o.createElement(l.Row, {
style: {
width: p.content.width,
height: p.content.height
}
}, o.createElement(l.Col, {
key: "items",
width: 18
}, o.createElement("surface", {
key: "sc",
style: {
flex: 1
}
}, o.createElement(m.Scroller, {
style: {
height: n
},
controller: !1
}, e))), o.createElement(h.TunguskaAssignmentFocusPane, null)));
}, t = r.__decorate([ a.observer ], t);
}(o.Component));
t.TunguskaAssignmentsList = v;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(61), a = n(1443), s = n(8), u = n(6), l = n(4), c = n(143), p = n(19), d = n(13), f = n(82), m = n(34), h = n(28), g = n(87), y = n(161), S = n(51), v = n(36), _ = n(87), b = n(9), T = (n(31), 
e.get("TunguskaAssignmentFocusPane"), function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.trackAssignment = function() {
var e = t.props.assignment;
e.isTrackable && (g.tunguskaTrackedAssignmentStore.setTrackedCode(e.code), v.trackServiceAssignments("Track", e.code));
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.assignment;
if (e.progression.isCompleted) return null;
var t = e.code === g.tunguskaTrackedAssignmentStore.trackedAssignmentCode, n = __(t ? "ID_SPARTA_TUNGUSKA_TRACKED" : "ID_SPARTA_TUNGUSKA_TRACK");
return o.createElement(h.Button, {
name: "BUTTON_TUNGUSKA_ASSIGNMENT_TRACK",
textSize: "S",
disabled: !e.isTrackable || t,
text: n,
action: this.trackAssignment,
style: a.TunguskaAssignmentFocusPaneStyles.trackBtn
});
}, t = r.__decorate([ l.observer ], t);
}(o.Component)), E = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.focusPaneScroller = o.createRef(), t.launchCustomizeSoldier = function() {
return y.requiresRime("tunguska", function() {
v.trackServiceAssignments("Customize", "clicked"), S.showLoadout();
}, "CrossSection", "Loadout");
}, t;
}
return r.__extends(t, e), t.prototype.componentDidUpdate = function() {
this.focusPaneScroller.current && this.focusPaneScroller.current.scrollTo(0, 0);
}, t.prototype.renderCriterias = function(e, t) {
if (!e.isOpen || e.progression.isCompleted) return o.createElement("surface", null);
var n = {
opacity: e.isOpen ? 1 : .5
};
return o.createElement("surface", {
style: n
}, e.criterias.map(function(e) {
var n, r = e.progression.isCompleted, s = e.progression.valueAcquired, l = e.progression.valueNeeded, d = a.TunguskaAssignmentFocusPaneStyles.criteriaCheckbox({
isCompleted: r
});
return e.isGlobalCriteria && (n = i.formatNumber(Math.min(s, l)) + "/" + i.formatNumber(l)), 
o.createElement(p.LocaleRearrange, {
style: a.TunguskaAssignmentFocusPaneStyles.criteriaSpecContainer({
width: t
}),
key: "criteria_" + e.code + "_" + s
}, o.createElement(c.Checkbox, {
key: "cb",
style: d,
value: r
}), o.createElement(u.Text, {
key: "txt",
size: "S",
style: a.TunguskaAssignmentFocusPaneStyles.nameSizing({
isCompleted: r
}),
value: e.awardName + (n ? " - " + n + "" : "")
}));
}));
}, t.prototype.renderUnlocks = function(e) {
var t, n, r, i;
return e.specialization && (t = o.createElement("surface", null, o.createElement(u.Text, {
value: (e.specialization.name || "").toUpperCase(),
size: "S",
style: a.TunguskaAssignmentFocusPaneStyles.rewardName({
isRTLLanguage: p.isRTLLanguage()
})
}), o.createElement(u.Text, {
value: e.specialization.description,
size: "S",
style: a.TunguskaAssignmentFocusPaneStyles.rewardDescription({
isRTLLanguage: p.isRTLLanguage()
})
}))), e.dogtag && (n = o.createElement("surface", null, o.createElement(u.Text, {
value: (e.dogtag.name || "").toUpperCase(),
size: "S",
style: a.TunguskaAssignmentFocusPaneStyles.rewardName({
isRTLLanguage: p.isRTLLanguage()
})
}))), e.score && (r = o.createElement(u.Text, {
size: "S",
value: __("ID_SPARTA_CAREER_N_XP").replace("[[n]]", e.score + ""),
style: a.TunguskaAssignmentFocusPaneStyles.unlockText({
isRTLLanguage: p.isRTLLanguage()
})
})), t || n || r ? (i = e.dogtag ? e.progression.isCompleted ? __("ID_SPARTA_CAREER_AWARDED_DOGTAG").toUpperCase() : __("ID_SPARTA_CAREER_REWARD_DOGTAG").toUpperCase() : e.progression.isCompleted ? __("ID_SPARTA_CAREER_AWARDED").toUpperCase() : __("ID_SPARTA_CAREER_REWARD").toUpperCase(), 
o.createElement("surface", {
style: {
marginBottom: s.getHeight(2)
}
}, o.createElement(u.Text, {
size: "S",
type: "emphasis",
value: i,
style: a.TunguskaAssignmentFocusPaneStyles.unlockTitle({
isRTLLanguage: p.isRTLLanguage()
})
}), r, t, n)) : o.createElement("surface", null);
}, t.prototype.renderFocusedItem = function(e, t) {
var n;
if (e.isOpen) {
if (!e.progression.isCompleted) {
var r = e.criteriaRequired === e.criterias.length;
n = e.criteriaRequired && e.criterias && !r ? __("ID_SPARTA_CAREER_SERVICE_ASSIGNMENTS_COMPLETE_X_OF_Y_CRITERIA").replace("[[x]]", e.criteriaRequired + "").replace("[[y]]", e.criterias.length + "") : __("ID_SPARTA_CAREER_SERVICE_ASSIGNMENTS_COMPLETE_ALL_CRITERIA");
}
} else n = e.description;
var i = "";
return e.dogtag && e.dogtag.images ? i = e.dogtag.images.Small || "" : e.images && (i = e.images.Small || ""), 
o.createElement("surface", null, o.createElement("surface", {
style: a.TunguskaAssignmentFocusPaneStyles.image({
texture: i
})
}), o.createElement(u.Text, {
size: "M",
type: "emphasis",
style: a.TunguskaAssignmentFocusPaneStyles.assignmentName({
isRTLLanguage: p.isRTLLanguage()
}),
value: (e.name || "").toUpperCase()
}), n ? o.createElement(u.Text, {
size: "S",
style: a.TunguskaAssignmentFocusPaneStyles.unlockInfoText({
isRTLLanguage: p.isRTLLanguage()
}),
value: n
}) : void 0, this.renderUnlocks(e), this.renderCriterias(e, t));
}, t.prototype.renderCustomizeSoldierButton = function(e) {
return e.specialization && b.SpartaGlobals.bundleIsPC && f.tunguskaFeatureFlags.tunguskaCustomizeFrontend.isEnabled() ? o.createElement(h.Button, {
name: "BUTTON_TUNGUSKA_ASSIGNMENT_SPECIALIZATIONS",
textSize: "S",
text: __("ID_SPARTA_ACTION_SPECIALIZATIONS"),
action: this.launchCustomizeSoldier,
style: a.TunguskaAssignmentFocusPaneStyles.trackBtn
}) : null;
}, t.prototype.debugFakeAssignmentCompletion = function(e) {}, t.prototype.renderDebug = function(e) {
return null;
}, t.prototype.render = function() {
var e = _.tunguskaAssignmentsSelectState.assignment;
if (!e) return o.createElement("surface", null);
var t = d.LayoutBounds.content.height - 2 * s.GUTTER, n = {
paddingLeft: s.spacer(3),
paddingRight: 0
}, r = s.getWidth(6) - n.paddingLeft;
return o.createElement(s.Col, {
width: 6
}, o.createElement(m.Scroller, {
style: {
height: t
},
controller: !0,
ref: this.focusPaneScroller
}, o.createElement("surface", {
style: {
paddingBottom: d.LayoutBounds.dangerZoneSize.height
}
}, o.createElement(s.Col, {
width: 6,
style: n
}, this.renderFocusedItem(e, r)), b.SpartaGlobals.bundleIsPC && o.createElement(T, {
assignment: e
}), this.renderCustomizeSoldierButton(e), void 0)));
}, t = r.__decorate([ l.observer ], t);
}(o.Component);
t.TunguskaAssignmentFocusPane = E;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaAssignmentFocusPaneStyles"), a = function() {
function e() {}
return e.image = o.stylefunc(function() {
return o.style({
height: o.Grid.getHeight(16),
textureMode: "contain",
marginBottom: o.Grid.spacer(1)
}, "ceae73a8:8:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "ceae73a8:14:38");
}), e.assignmentName = o.stylefunc(function() {
return o.style({
marginBottom: o.Grid.spacer(2),
textAlignForRTL: "left"
}, "ceae73a8:21:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTLLanguage ? o.Grid.spacer(2) : 0
}, "ceae73a8:26:45");
}), e.nameSizing = o.stylefunc(function() {
return o.style({
flex: 2,
paddingRight: o.Grid.spacer(1),
textAlignForRTL: "left"
}, "ceae73a8:33:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.isCompleted ? 1 : .66
}, "ceae73a8:39:43");
}), e.dependencies = o.wrap(function() {
return o.style({
marginBottom: o.Grid.spacer(1)
}, "ceae73a8:45:37");
}), e.criteriaSpecContainer = o.stylefunc(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
alignItems: "flex-start",
marginBottom: o.Grid.spacer(1.5)
}, "ceae73a8:52:14");
}, function(e) {
return o.dynamicStyle({
width: e.width
}, "ceae73a8:59:36");
}), e.unlockTitle = o.stylefunc(function() {
return o.style({
marginTop: o.Grid.spacer(1),
marginBottom: o.Grid.spacer(1),
textAlignForRTL: "left"
}, "ceae73a8:66:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTLLanguage ? o.Grid.spacer(2) : 0
}, "ceae73a8:72:45");
}), e.unlockText = o.stylefunc(function() {
return o.style({
textAlignForRTL: "left"
}, "ceae73a8:79:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTLLanguage ? o.Grid.spacer(2) : 0
}, "ceae73a8:83:45");
}), e.unlockInfoText = o.stylefunc(function() {
return o.style({
marginBottom: o.Grid.spacer(2),
opacity: .66,
textAlignForRTL: "left"
}, "ceae73a8:90:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTLLanguage ? o.Grid.spacer(2) : 0
}, "ceae73a8:96:45");
}), e.criteriaCheckbox = o.stylefunc(function() {
return o.style({
alignSelf: "flex-start",
marginTop: 4,
marginRight: o.Grid.spacer(2)
}, "ceae73a8:103:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.isCompleted ? 1 : .66
}, "ceae73a8:109:43");
}), e.rewardName = o.stylefunc(function() {
return o.style({
textAlignForRTL: "left"
}, "ceae73a8:116:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTLLanguage ? o.Grid.spacer(2) : 0
}, "ceae73a8:120:45");
}), e.rewardDescription = o.stylefunc(function() {
return o.style({
marginTop: o.Grid.spacer(1),
color: "#ffffff",
opacity: .66,
textAlignForRTL: "left"
}, "ceae73a8:127:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTLLanguage ? o.Grid.spacer(2) : 0
}, "ceae73a8:134:45");
}), e.trackBtn = o.wrap(function() {
return o.style({
flex: 1,
marginLeft: o.Grid.spacer(3),
marginTop: o.Grid.getHeight(2),
textAlignForRTL: "left"
}, "ceae73a8:140:33");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaAssignmentFocusPaneStyles = a;
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(664), u = n(6), l = n(12), c = n(11), p = n(87), d = n(36), f = n(82), m = n(161), h = n(51), g = n(87), y = n(26), S = n(13), v = n(31), _ = n(160), b = n(15), T = n(9), E = n(22), C = n(5), I = n(7), A = e.get("TunguskaAssignmentsStack"), w = C.StaticStyle.create({
height: S.Grid.getHeight(12),
textureMode: "contain"
}, "9d82163d:286:37"), P = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = I.SpartaContext.getFromComponent(r), r.currentStackIndex = 0, 
r.selectOrCycleAssignments = function() {
A.debug("Cycle assignment in stack");
var e = g.tunguskaAssignmentsSelectState.assignment;
if (e && e === r.presentedAssignment) {
var t = r.currentStackIndex + 1;
r.props.assignments[t] || (t = 0), r.runCycleAnimation(function() {
r.setCurrentStackIndex(t), g.tunguskaAssignmentsSelectState.setActiveAssignment(r.props.assignments[t]);
});
} else g.tunguskaAssignmentsSelectState.setActiveAssignment(r.presentedAssignment);
}, r.tweens = {
scale: b.Animation.tween("9d82163d:49:36", 1, {
duration: 100
}),
translateY: b.Animation.tween("9d82163d:50:41", 0, {
duration: 100
}),
stackBorderTranslateY: b.Animation.tween("9d82163d:51:52", 0, {
duration: 100
})
}, r.focusItem = E.focusSystem.create(r, "assignmentsstack"), r.props.autoFocusTracked && (r.focusItem.autoFocusCandidate = !!r.props.assignments.find(function(e) {
return e.code === p.tunguskaTrackedAssignmentStore.trackedAssignmentCode;
})), r.focusItem.onFocus(function() {
r.focusItem.autoFocusCandidate && (r.focusItem.autoFocusCandidate = !1), E.focusSystem.controllerMode && g.tunguskaAssignmentsSelectState.setActiveAssignment(r.presentedAssignment);
}), T.SpartaGlobals.bundleIsPC && r.sparta.stores.inputStore.bindInputToFocusItem(new l.Input({
key: c.Keys.Accept,
action: r.selectOrCycleAssignments
}), r.focusItem), i.reaction(function() {
return r.presentedAssignmentIsTracked;
}, function(e) {
e && r.runTrackAnimation();
}), r;
}
return r.__extends(t, e), t.prototype.setCurrentStackIndex = function(e) {
this.currentStackIndex = e;
}, Object.defineProperty(t.prototype, "presentedAssignment", {
get: function() {
return this.props.assignments[this.currentStackIndex];
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "presentedAssignmentIsTracked", {
get: function() {
return this.presentedAssignment.code === p.tunguskaTrackedAssignmentStore.trackedAssignmentCode;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "isSelected", {
get: function() {
var e = !1;
return !E.focusSystem.controllerMode && g.tunguskaAssignmentsSelectState.assignment && (e = g.tunguskaAssignmentsSelectState.assignment === this.presentedAssignment), 
e;
},
enumerable: !0,
configurable: !0
}), t.prototype.componentWillMount = function() {
if (this.props.assignments.length > 1) {
for (var e = 0, t = 0; t < this.props.assignments.length; t++) {
var n = this.props.assignments[t];
if (e = t, n === g.tunguskaAssignmentsSelectState.assignment || !n.progression.isCompleted) break;
}
this.setCurrentStackIndex(e);
}
}, t.prototype.getInput = function() {
var e = this, t = [];
return E.focusSystem.controllerMode && this.focusItem.isFocused && (this.props.assignments.length > 1 && t.push(new l.Input({
label: __("ID_SPARTA_CAREER_ASSIGNMENT_SWITCH"),
key: c.Keys.Accept,
action: this.selectOrCycleAssignments
})), this.presentedAssignment.isTrackable && t.push(new l.Input({
label: __("ID_SPARTA_CAREER_ASSIGNMENT_TRACK"),
key: c.Keys.Option1,
action: function() {
p.tunguskaTrackedAssignmentStore.setTrackedCode(e.presentedAssignment.code), d.trackServiceAssignments("Track", e.presentedAssignment.code);
}
})), f.tunguskaFeatureFlags.tunguskaCustomizeFrontend.isEnabled() && t.push(new l.Input({
label: __("ID_SPARTA_ACTION_SPECIALIZATIONS"),
key: c.Keys.Option2,
action: function() {
return m.requiresRime("tunguska", function() {
d.trackServiceAssignments("Customize", "clicked"), h.showLoadout();
}, "CrossSection", "Loadout");
}
}))), t;
}, t.prototype.runCycleAnimation = function(e) {
var t = this;
Promise.all([ this.tweens.translateY.promiseTransition(0, 5), this.tweens.stackBorderTranslateY.promiseTransition(0, -5) ]).then(function() {
return e && e(), Promise.all([ t.tweens.translateY.promiseTransition(-5, 0), t.tweens.stackBorderTranslateY.promiseTransition(5, 0) ]);
});
}, t.prototype.runTrackAnimation = function() {
var e = this;
Promise.all([ this.tweens.scale.promiseTransition(1, 1.05) ]).then(function() {
return Promise.all([ e.tweens.scale.promiseTransition(1.05, 1) ]);
});
}, t.prototype.render = function() {
var e, t, n = this.focusItem.isFocusedOrHovered;
if (this.props.assignments.length > 1) {
var r = {
color: n ? "#000000" : "#ffffff",
opacity: 1
};
this.props.assignments.find(function(e) {
return e.progression.isCompleted;
}) || (r.opacity = .3), e = o.createElement("surface", {
style: s.TunguskaAssignmentsStyles.indexInfo
}, o.createElement(u.Text, {
style: r,
size: "XS",
value: this.currentStackIndex + 1 + "/" + this.props.assignments.length
}));
var i = s.TunguskaAssignmentsStyles.stackBorder({
isFocused: n,
translateYTween: this.tweens.stackBorderTranslateY.getStyle()
});
t = o.createElement("surface", {
style: i
}, o.createElement("surface", {
style: s.TunguskaAssignmentsStyles.stackBorderTop({
isFocused: n
})
}), o.createElement("surface", {
style: s.TunguskaAssignmentsStyles.stackBorderRight({
isFocused: n
})
}));
}
var a = s.TunguskaAssignmentsStyles.stackContainerInner({
translateYTween: this.tweens.translateY.getStyle(),
scaleTween: this.tweens.scale.getStyle()
});
return o.createElement("surface", {
style: s.TunguskaAssignmentsStyles.stackContainer
}, o.createElement("surface", {
style: a
}, o.createElement(_.AwardItem, {
key: "assignment-item-" + this.presentedAssignment.code,
gameId: v.tunguskaGameId,
style: s.TunguskaAssignmentsStyles.itemStyle,
imageStyle: w,
awardImage: this.presentedAssignment.images && this.presentedAssignment.images.Small,
itemState: {
active: this.isSelected
},
awardCode: this.presentedAssignment.code,
atlas: "AssignmentsAtlas",
checked: this.presentedAssignmentIsTracked,
unlocked: this.presentedAssignment.progression.isCompleted,
progressPercent: this.presentedAssignment.progressPercent,
gating: {
canBeEquipped: this.presentedAssignment.isOpen,
canBeBought: !1,
price: 0,
shortCutKitLicenses: []
},
showLockIcon: !0,
item: this.presentedAssignment,
focusItem: this.focusItem,
activeColor: "#000000",
inactiveColor: "#ffffff"
}), e), t);
}, t.contextTypes = I.SpartaContext.contextTypes, r.__decorate([ i.observable ], t.prototype, "currentStackIndex", void 0), 
r.__decorate([ i.action ], t.prototype, "setCurrentStackIndex", null), r.__decorate([ i.computed ], t.prototype, "presentedAssignment", null), 
r.__decorate([ i.computed ], t.prototype, "presentedAssignmentIsTracked", null), 
r.__decorate([ i.computed ], t.prototype, "isSelected", null), t = r.__decorate([ a.observer, y.input ], t);
}(o.Component);
t.TunguskaAssignmentStack = P;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(438), a = n(39), s = n(29), u = n(6), l = n(604), c = n(98), p = n(89), d = n(1446), f = n(235), m = n(665), h = n(210), g = n(211), y = n(19), S = n(33);
var v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.selectionState = new c.ListSelectionState(), e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
l.TunguskaCodexClient.trigger(this.props.viewLocation.args.gameId);
}, n.prototype.render = function() {
var e = this, t = i.tunguskaCodexStore.careerCodexCategories;
if (0 === t.length) return r.createElement(a.EmptyState, null, r.createElement(s.Spinner, {
large: !0
}));
var n = i.tunguskaCodexStore.totalCodexProgression, o = r.createElement(h.CareerSectionHeader, null, r.createElement(u.Text, {
size: "S",
value: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODEX_ENTRIES"),
style: g.CareerSectionStyle.headerText
}), r.createElement(u.Text, {
size: "S",
value: n.completed + "/" + n.total,
type: S.TextType.EMPHASIS
}));
return r.createElement(h.CareerSectionContainer, {
header: o
}, r.createElement(h.CareerSectionMenu, null, r.createElement(p.List, null, t.map(function(t, n) {
var o = function i(e) {
if (!e || !e.items) return {
numTotal: 0,
numUnlocked: 0
};
var t = e.items.filter(function(e) {
return !!e.progression && e.progression.unlocked;
}).length;
return {
numTotal: e.items.length,
numUnlocked: t
};
}(t), a = o.numUnlocked, s = o.numTotal, u = "listitem_" + t.name, l = !!y.isRTLLanguage(), c = !y.isRTLLanguage();
return r.createElement(p.ListItem, {
index: n,
key: t.name,
selectionState: e.selectionState,
debugName: u
}, y.localeRearrange([ r.createElement(p.ListItemLabel, {
value: t.name.toUpperCase(),
key: "a",
right: l
}), r.createElement(p.ListItemLabel, {
value: (a + "/" + s).toUpperCase(),
key: "b",
right: c
}) ]));
}))), r.createElement("surface", {
style: m.TunguskaCareerCodexStyle.content
}, r.createElement(_, {
categories: t,
selectionState: this.selectionState
})));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaCareerCodex = v;
var _ = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = new f.TableRenderer("codex-table", 5, m.TunguskaCareerCodexStyle.tableWidth, m.TunguskaCareerCodexStyle.tableHeight, 0, m.TunguskaCareerCodexStyle.cellWidth, m.TunguskaCareerCodexStyle.cellHeight, h.contentSoftClip);
return this.props.categories[this.props.selectionState.activeItemIndex].items.forEach(function(t, n) {
e.addRowCell("codexcard_" + t.code, function(e, o) {
var i = m.TunguskaCareerCodexStyle.cellStyle(e);
return r.createElement(d.TunguskaCodexCard, {
entry: t,
index: n,
focusItem: o,
style: i
});
});
}), e.end(), r.createElement("surface", null, e.render());
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(15), a = n(6), s = n(62), u = n(86), l = n(12), c = n(11), p = n(38), d = n(622), f = n(25), m = n(5), h = n(665), g = n(17), y = n(33), S = n(22), v = n(71), _ = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.preLoader = v.textureHandler.createPreloader(n), n.activeOpacityTween = i.Animation.componentTween(n, "22c5e401:51:64", 0), 
n.inactiveOpacityTween = i.Animation.componentTween(n, "22c5e401:52:66", 1), n.focusItem = e.focusItem ? e.focusItem : S.focusSystem.create(n, "codexcard_" + e.entry.code), 
e.focusGroup && e.focusGroup.addMember(n.focusItem, n.props.index), n.borderRadius = h.TunguskaCodexCardStyles.borderRadius(e.isInPopup), 
e.isInPopup || (n.input = new l.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
key: c.Keys.Accept,
blockInputFor: 500,
action: function() {
return f.display(new p.Popup({
content: r.createElement(d.TunguskaCodexPopup, {
codex: e.entry,
shouldPlayVoiceOver: !0
}),
leftAlignInputs: !0,
createButtons: !1,
inputs: [ new l.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: c.Keys.Decline
}) ]
}));
}
})), n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.focusItem.isFocusedOrHovered;
}, function(t) {
t ? (e.activeOpacityTween.to(1, i.Animation.presets.focusables.enter.fast), e.inactiveOpacityTween.to(0, i.Animation.presets.focusables.leave)) : (e.activeOpacityTween.to(0, i.Animation.presets.focusables.enter.fast), 
e.inactiveOpacityTween.to(1, i.Animation.presets.focusables.leave));
}, {
fireImmediately: !0
});
}, n.prototype.componentWillMount = function() {
this.preLoader.preload(h.TunguskaCodexCardStyles.gradientActive, void 0), this.preLoader.preload(h.TunguskaCodexCardStyles.gradientInactive, void 0), 
this.preLoader.preload(h.TunguskaCodexCardStyles.goldenTexture, void 0);
var e = this.getImage();
this.isCollected() && e ? this.preLoader.preload(e, void 0) : (this.preLoader.preload(h.TunguskaCodexCardStyles.codexLocked, void 0), 
this.preLoader.preload(h.TunguskaCodexCardStyles.codexLockedM, void 0));
}, n.prototype.isCollected = function() {
return this.props.completedOverride || this.props.entry && this.props.entry.isCollected;
}, Object.defineProperty(n.prototype, "isInPopup", {
get: function() {
return !!this.props.isInPopup;
},
enumerable: !0,
configurable: !0
}), n.prototype.renderGoldenLine = function() {
return r.createElement("surface", {
style: h.TunguskaCodexCardStyles.goldenLine(this)
});
}, n.prototype.getImage = function() {
var e = this.props.entry && this.props.entry && this.props.entry.imageUrls;
return e && e[this.props.imageSize || "small"];
}, n.prototype.renderInfo = function(e) {
var t = e.isCollected || this.props.completedOverride, n = e.category || "", o = t ? h.TunguskaCodexCardStyles.goldenText : m.emptyStyle, i = e.displayName || "";
return r.createElement("surface", {
style: h.TunguskaCodexCardStyles.info(this.props.isInPopup)
}, r.createElement(a.Text, {
key: "category",
value: n.toUpperCase(),
size: this.props.isInPopup ? "L" : "XXS",
style: m.merge2(h.TunguskaCodexCardStyles.textCategory, o)
}), r.createElement(a.Text, {
key: "name",
value: i.toUpperCase(),
size: this.props.isInPopup ? "XL" : "XS",
type: y.TextType.EMPHASIS,
style: m.merge2(h.TunguskaCodexCardStyles.textName, o)
}));
}, n.prototype.renderProgress = function(e) {
var t = e.criteria || [], n = t.length ? 0 : 1, o = 0;
return t.forEach(function(e) {
n += e.progression ? e.progression.valueNeeded : 0, o += e.progression ? e.progression.valueAcquired : 0;
}), r.createElement(u.ProgressBar, {
style: m.merge2(h.TunguskaCodexCardStyles.progressBar, h.TunguskaCodexCardStyles.borderRadiusProgressBar(this.props.isInPopup)),
barColorStyle: g.CommonStyles.bgColor("#ff9900"),
bgColorStyle: g.CommonStyles.bgColor("#000000"),
height: this.props.isInPopup ? "L" : "M",
completed: 100 * o / n / 100
});
}, n.prototype.render = function() {
var e = this.props.isInPopup, t = this.props.entry, n = this.props.skipProgress, o = this.isCollected(), i = m.merge3(h.TunguskaCodexCardStyles.image, this.borderRadius, o && t ? m.DynamicStyle.create({
texture: this.getImage()
}, "22c5e401:195:18") : h.TunguskaCodexCardStyles.lockedBackground(e)), a = m.merge4(this.borderRadius, h.TunguskaCodexCardStyles.overlayStyle, h.TunguskaCodexCardStyles.overlayGradientInactive, this.activeOpacityTween.getStyleClass("opacity")), u = m.merge4(this.borderRadius, h.TunguskaCodexCardStyles.overlayStyle, h.TunguskaCodexCardStyles.overlayGradientActive, this.inactiveOpacityTween.getStyleClass("opacity")), l = m.merge2(h.TunguskaCodexCardStyles.pressable(this), this.props.style);
return r.createElement(s.Pressable, {
style: l,
input: this.input,
scale: !e,
focusItem: this.focusItem
}, r.createElement("surface", {
style: i
}), r.createElement("surface", {
style: a
}), r.createElement("surface", {
style: u
}), !o && !n && t && this.renderProgress(t), t && this.renderInfo(t), t && o && t.isGolden && this.renderGoldenLine());
}, n.defaultProps = {
isInPopup: !1,
skipProgress: !1,
completedOverride: !1,
hasNoSideMargin: !1
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaCodexCard = _;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(1448), s = n(32), u = n(89), l = n(34), c = n(6), p = n(12), d = n(11), f = n(137), m = n(267), h = n(19), g = n(10), y = n(14), S = n(128), v = n(31), _ = n(50), b = n(33), T = n(7), E = n(158), C = {
recommended: y.bbUrl("/sparta/assets/ui/icons/ui/icon_popular-529786f0.png"),
popular: y.bbUrl("/sparta/assets/ui/icons/ui/icon_popular_friends-dd6a5ad0.png")
}, I = function(e) {
return !!e.value && e.value.groups.reduce(function(e, t) {
return e += t.entries.length;
}, 0) > 0;
}, A = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tunguska = E.TunguskaContext.getFromComponent(t), t.preloader = t.tunguska.sparta.twinkle.texture.createPreloader(t), 
t;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
var e = this, t = this.tunguska.stores.quickmatchState;
t.premiumIconUrl && this.preloader.preload(t.premiumIconUrl, void 0), t.fetch(), 
t.entrySelectionState.setActiveItem(0), t.optionSelectionState.setActiveItem(0), 
this.when(function() {
return null != S.gameDataStore.get(v.tunguskaGameId).value;
}, function() {
var t = S.gameDataStore.get(v.tunguskaGameId).value;
t && t.maps.filter(function(e) {
return "mp" === e.levelType.toLowerCase();
}).forEach(function(t) {
t.images.Medium && e.preloader.preload(t.images.Medium, void 0);
});
});
}, t.prototype.render = function() {
var e = this.tunguska.stores.quickmatchState;
return o.createElement(s.Template, {
tallContent: !0,
scrollContent: !1
}, o.createElement(_.FragmentLoader, {
load: e.fragment,
successCondition: I,
errorMessage: __("ID_SPARTA_QUICKMATCH_DATA_ERROR")
}, function() {
return o.createElement("surface", {
style: a.TunguskaQuickmatchStyle.container
}, o.createElement("surface", {
style: a.TunguskaQuickmatchStyle.leftColumn
}, o.createElement(P, null)), o.createElement("surface", {
style: a.TunguskaQuickmatchStyle.middleColumn
}, o.createElement(R, null)), o.createElement("surface", {
style: a.TunguskaQuickmatchStyle.rightColumn
}, o.createElement(O, null)));
}));
}, t.contextTypes = E.TunguskaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaQuickmatch = A;
var w = function(e) {
return o.createElement("surface", {
style: a.TunguskaQuickmatchStyle.newTextContainer({
right: !h.isRTLLanguage(),
hasMargin: e.hasMargin
})
}, o.createElement(c.Text, {
value: __("ID_SPARTA_PREMIUM_TREATMENT_NEW").toUpperCase(),
size: "XS",
style: a.TunguskaQuickmatchStyle.newText
}));
}, P = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tunguska = E.TunguskaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.tunguska.stores.quickmatchState, t = e.quickmatchData ? e.quickmatchData.groups : void 0;
if (!t) return o.createElement("surface", null);
var n = [], r = 0;
return t.forEach(function(t, i) {
n.length > 0 && n.push(o.createElement(u.ListHeader, {
key: "header" + i.toString(),
value: t.name.toUpperCase()
})), t.entries.forEach(function(t) {
var i = r++, s = t.expansions.slice(), l = e.hasExpansionsAccess(s), c = new p.Input({
action: function() {
e.entrySelectionState.setActiveItem(i), e.optionSelectionState.setActiveItem(0), 
e.entrySelectionState.activeItemIndex === i && e.focusOptionsList();
},
label: __("ID_SPARTA_ACTION_SELECT"),
key: d.Keys.Accept
}), f = [ o.createElement(u.ListItemLabel, {
key: "label",
value: t.prettyName.toUpperCase(),
right: h.isRTLLanguage()
}) ], m = t.options.find(function(e) {
return !!e.tag && "popular" === e.tag.id;
});
m || (m = t.options.find(function(e) {
return !!e.tag;
})), m && m.tag ? f.push(o.createElement(u.ListItemIcon, {
key: "tagIcon",
size: a.TunguskaQuickmatchStyle.iconSize,
src: C[m.tag.id],
invertOnFocus: !0
})) : t.isNew && f.push(o.createElement(w, {
key: "newIcon",
hasMargin: !l
})), !l && e.premiumIconUrl && f.push(o.createElement(u.ListItemIcon, {
key: "premiumIcon",
size: a.TunguskaQuickmatchStyle.iconSizeSmall,
src: e.premiumIconUrl
}));
var g = t.kind + t.name;
n.push(o.createElement(u.ListItem, {
index: i,
input: c,
faded: !l,
key: g,
debugName: g,
selectionState: e.entrySelectionState
}, h.localeRearrange(f)));
});
}), o.createElement(u.List, {
focusGroup: e.entriesFocusGroup
}, o.createElement(l.Scroller, {
scrollbar: !0,
controller: !1,
focus: !0,
style: a.TunguskaQuickmatchStyle.scroller
}, n));
}, t.contextTypes = E.TunguskaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component), R = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.hasPremiumAccess = !1, t.tunguska = E.TunguskaContext.getFromComponent(t), 
t;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
this.hasPremiumAccess = g.entitlementStore.hasPremiumAccess("tunguska");
}, t.prototype.componentDidUpdate = function() {
var e = this.tunguska.stores.quickmatchState;
this.previousSelectedEntry !== e.selectedEntry && (e.selectedEntry && e.focusOptionsList(), 
this.previousSelectedEntry = e.selectedEntry);
}, t.prototype.render = function() {
var e = this.tunguska.stores.quickmatchState;
if (!e.selectedEntry) return o.createElement("surface", null);
var t = e.selectedEntry, n = e.filteredOptions;
return o.createElement(u.List, {
focusGroup: e.optionsFocusGroup
}, n.map(function(n, r) {
var i = e.hasExpansionsAccess(n.expansions), s = [ o.createElement(u.ListItemLabel, {
value: n.name.toUpperCase(),
right: h.isRTLLanguage(),
key: "label"
}) ], l = !i, c = !1;
n.tag ? (c = !0, s.push(o.createElement(u.ListItemIcon, {
size: a.TunguskaQuickmatchStyle.iconSize,
src: C[n.tag.id],
key: "tagIcon",
invertOnFocus: !0
}))) : n.isNew && (c = !0, s.push(o.createElement(w, {
key: "newIcon",
hasMargin: l
}))), l && e.premiumIconUrl && s.push(o.createElement("surface", {
style: a.TunguskaQuickmatchStyle.premiumIcon({
hasIcon: c,
rtl: h.isRTLLanguage()
}),
key: "premiumIcon"
}, o.createElement(u.ListItemIcon, {
size: a.TunguskaQuickmatchStyle.iconSizeSmall,
src: e.premiumIconUrl
})));
var f = "expansion-" + t.name + "-" + n.name;
return o.createElement(u.ListItemAutoActive, {
index: r,
faded: !i,
input: new p.Input({
action: function() {
e.tryMatchmaking(i, n.expansions, n.experienceIds);
},
label: __("ID_SPARTA_ACTION_QUICKMATCH"),
key: d.Keys.Accept
}),
key: f,
debugName: f,
selectionState: e.optionSelectionState
}, h.localeRearrange(s));
}));
}, t.contextTypes = E.TunguskaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component), O = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mapsPerLine = 5, t.tunguska = E.TunguskaContext.getFromComponent(t), t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "title", {
get: function() {
var e = this.tunguska.stores.quickmatchState;
return e.selectedEntry ? o.createElement(c.Text, {
style: a.TunguskaQuickmatchStyle.title,
value: e.selectedEntry.prettyName.toUpperCase(),
type: b.TextType.EMPHASIS,
size: "L"
}) : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "subTitle", {
get: function() {
var e = this.tunguska.stores.quickmatchState;
if (e.selectedOption) {
var t = [];
return e.selectedOption.tag ? (t.push(o.createElement("surface", {
key: "tagIcon",
style: a.TunguskaQuickmatchStyle.tagIcon({
url: C[e.selectedOption.tag.id]
})
})), t.push(o.createElement(c.Text, {
key: "tagName",
type: b.TextType.EMPHASIS,
size: "S",
style: a.TunguskaQuickmatchStyle.tagName,
value: e.selectedOption.tag.name.toUpperCase()
})), t.push(o.createElement(c.Text, {
key: "tagSeparator",
value: "-",
style: a.TunguskaQuickmatchStyle.tagSeparator({
right: !h.isRTLLanguage()
}),
size: "S"
}))) : e.selectedOption.isNew && t.push(o.createElement(w, {
key: "newIcon",
hasMargin: !0
})), t.push(o.createElement(c.Text, {
key: "subTitle",
value: e.selectedOption.name.toUpperCase(),
size: "S"
})), o.createElement("surface", {
style: a.TunguskaQuickmatchStyle.subTitle(h.isRTLLanguage())
}, h.localeRearrange(t));
}
return null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "optionInfo", {
get: function() {
var e = this.tunguska.stores.quickmatchState;
return e.selectedOption && e.selectedOption.description ? o.createElement(c.Text, {
style: a.TunguskaQuickmatchStyle.optionInfo,
value: e.selectedOption.description,
size: "S"
}) : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "mapList", {
get: function() {
var e = this, t = this.tunguska.stores.quickmatchState, n = t.selectedOption || t.firstOption;
if (n) {
var r = n.maps.length, i = [], s = void 0, u = void 0;
if (r <= this.mapsPerLine) {
if (i = n.maps, 0 !== r && r < this.mapsPerLine) {
var l = this.mapsPerLine - i.length;
for (u = []; u.length < l; ) u.push(o.createElement("surface", {
key: "mapEmpty" + u.length,
style: a.TunguskaQuickmatchStyle.mapThumbnail({
hasMargin: u.length + 1 !== l
})
}));
}
} else i = n.maps.slice(0, this.mapsPerLine - 1), s = o.createElement("surface", {
key: "mapNumbers",
style: [ a.TunguskaQuickmatchStyle.mapThumbnail({
hasMargin: !1
}), a.TunguskaQuickmatchStyle.mapNumber ]
}, o.createElement(c.Text, {
value: "+" + (r - i.length),
size: "L"
}));
return o.createElement("surface", {
style: a.TunguskaQuickmatchStyle.mapList
}, i.map(function(t, n) {
return o.createElement("surface", {
key: "map-" + n.toString() + "-" + t.filterKey,
style: [ a.TunguskaQuickmatchStyle.mapThumbnail({
hasMargin: (n + 1) % e.mapsPerLine != 0
}), {
texture: t.imageUrl
} ]
});
}), u, s);
}
return null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "header", {
get: function() {
var e = this.tunguska.stores.quickmatchState;
return e.selectedEntry && "gameMode" === e.selectedEntry.kind ? o.createElement(c.Text, {
style: a.TunguskaQuickmatchStyle.header,
value: e.selectedEntry.header.toUpperCase()
}) : null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "description", {
get: function() {
var e = this.tunguska.stores.quickmatchState;
return e.selectedEntry ? o.createElement(c.Text, {
style: a.TunguskaQuickmatchStyle.description({
isRTL: h.isRTLLanguage()
}),
value: e.selectedEntry.description,
size: "S"
}) : null;
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e, t = this.tunguska.stores.quickmatchState;
if (!t.selectedOption) return null;
if (t.selectedEntry && "gameMode" === t.selectedEntry.kind && t.selectedEntry.videoUrl) e = o.createElement(x, {
mode: t.selectedEntry
}); else if (t.selectedEntry) {
var n = t.selectedEntry.imageUrl || a.TunguskaQuickmatchStyle.defaultImageUrl;
e = o.createElement("surface", {
style: [ a.TunguskaQuickmatchStyle.media, {
texture: n
} ]
});
}
return o.createElement(l.Scroller, {
scrollbar: !0,
controller: !0,
noHorizontalScroll: !0,
focus: !1,
style: a.TunguskaQuickmatchStyle.scroller
}, e, this.title, this.subTitle, this.optionInfo, this.mapList, this.header, this.description);
}, t.contextTypes = E.TunguskaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component), x = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = T.SpartaContext.getFromComponent(e), e.focusItem = e.sparta.twinkle.focus.create(e, "quickmatch_video"), 
e;
}
return r.__extends(n, t), n.prototype.render = function() {
var t = this, n = new p.Input({
label: __("ID_SPARTA_ACTION_WATCH_TUTORIAL"),
blockInputFor: 500,
action: function() {
var n = t.props.mode && t.props.mode.videoUrl ? t.props.mode.videoUrl : "";
m.showTutorialForGameMode(t.sparta, {
identifier: t.props.mode.shortFilterKey,
videoUrl: n,
header: t.props.mode.header,
prettyName: t.props.mode.prettyName
}).catch(function(t) {
return e.error(t.message);
});
},
key: d.Keys.Accept
}), r = o.createElement("surface", {
style: a.TunguskaQuickmatchStyle.playIndicator({
isFocused: this.focusItem.isFocusedOrHovered
})
});
return o.createElement(f.Card, {
input: n,
focusItem: this.focusItem,
style: a.TunguskaQuickmatchStyle.media,
dontScale: !0,
background: this.props.mode.images.Medium,
overlay: r
});
}, n.contextTypes = T.SpartaContext.contextTypes, n = r.__decorate([ i.observer ], n);
}(o.Component);
}).call(this, n(2), n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaQuickmatchStyle"), a = function() {
function e() {}
return e.defaultImageUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/jsclient/builds/assets/loading-map-placeholder-1e71f22a.jpg");
}, "afe28e32:19:29"), e.container = o.wrap(function() {
return o.style({
flexDirection: "row",
width: o.LayoutBounds.content.width
}, "afe28e32:22:34");
}), e.leftColumn = o.wrap(function() {
return o.style({
flex: 3,
height: 100,
marginRight: o.Grid.getWidth(1)
}, "afe28e32:28:35");
}), e.middleColumn = o.wrap(function() {
return o.style({
flex: 3,
height: 100
}, "afe28e32:35:37");
}), e.rightColumn = o.wrap(function() {
return o.style({
flex: 7,
marginLeft: o.Grid.getWidth(1)
}, "afe28e32:41:36");
}), e.scroller = o.wrap(function() {
return o.style({
flex: 1,
height: o.LayoutBounds.content.height
}, "afe28e32:47:33");
}), e.media = o.wrap(function() {
return o.style({
flex: 1,
width: o.Grid.getWidth(12) + o.Grid.spacer(),
height: o.Grid.getHeight(33),
textureMode: "cover",
textureAlign: [ 0, 0 ]
}, "afe28e32:53:30");
}), e.playIndicator = o.stylefunc(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
textureAtlas: "SpartaCommonAtlas",
textureMode: "none",
textureAlign: [ .5, .5 ]
}, "afe28e32:63:14");
}, function(e) {
return o.dynamicStyle({
texture: e.isFocused ? o.bbOfflineUrl("/sparta/jsclient/builds/assets/play_active-b7f2b328.png") : o.bbOfflineUrl("/sparta/jsclient/builds/assets/play-f2e293cf.png")
}, "afe28e32:74:41");
}), e.title = o.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(),
textAlignForRTL: "left"
}, "afe28e32:81:30");
}), e.subTitle = o.multistyle(function(e) {
return o.style({
flexDirection: "row",
flex: 1,
alignItems: "center",
justifyContent: e ? "flex-end" : "flex-start",
marginTop: o.Grid.spacer()
}, "afe28e32:87:53");
}), e.tagIcon = o.stylefunc(function() {
return o.style({
height: o.Constants.isPC ? 25 : 30,
width: o.Constants.isPC ? 25 : 30
}, "afe28e32:97:14");
}, function(e) {
return o.dynamicStyle({
texture: e.url
}, "afe28e32:102:34");
}), e.tagName = o.wrap(function() {
return o.style({
marginRight: o.Grid.spacer(),
marginLeft: o.Grid.spacer()
}, "afe28e32:107:32");
}), e.tagSeparator = o.stylefunc(function() {
return o.style({}, "afe28e32:114:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.right ? o.Grid.spacer() : 0,
marginLeft: e.right ? 0 : o.Grid.spacer()
}, "afe28e32:115:37");
}), e.optionInfo = o.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(),
textAlign: "justify",
textAlignForRTL: "left"
}, "afe28e32:121:35");
}), e.header = o.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(),
textAlignForRTL: "left"
}, "afe28e32:128:31");
}), e.description = o.stylefunc(function() {
return o.style({
marginTop: o.Grid.spacer(),
textAlign: "justify",
textAlignForRTL: "left"
}, "afe28e32:135:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTL ? o.Grid.spacer() : 0
}, "afe28e32:141:37");
}), e.mapList = o.wrap(function() {
return o.style({
flexDirection: "row",
flex: 1,
marginTop: o.Grid.spacer(2),
flexWrap: "wrap"
}, "afe28e32:146:32");
}), e.mapThumbnail = o.stylefunc(function() {
return o.style({
marginBottom: o.Grid.spacer(),
flex: 1,
height: o.Grid.getHeight(9)
}, "afe28e32:155:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.hasMargin ? o.Grid.spacer() : 0
}, "afe28e32:161:41");
}), e.mapNumber = o.wrap(function() {
return o.style({
backgroundColor: "#00000055",
justifyContent: "center",
alignItems: "center"
}, "afe28e32:166:34");
}), e.iconSize = o.value(function() {
return o.Constants.isPC ? 25 : 30;
}, "afe28e32:173:22"), e.iconSizeSmall = o.value(function() {
return 21;
}, "afe28e32:174:27"), e.newTextContainer = o.stylefunc(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-orange-c503336d.png"),
textureBorder: [ 2, 2, 2, 2 ]
}, "afe28e32:176:14");
}, function(e) {
return o.dynamicStyle({
justifyContent: e.right ? "flex-end" : void 0,
marginRight: e.right && e.hasMargin ? o.Grid.spacer() : 0,
marginLeft: !e.right && e.hasMargin ? o.Grid.spacer() : 0
}, "afe28e32:181:59");
}), e.newText = o.wrap(function() {
return o.style({
color: "#ffad32",
marginRight: o.Grid.spacer() / 2,
marginLeft: o.Grid.spacer() / 2
}, "afe28e32:188:32");
}), e.premiumIcon = o.stylefunc(function() {
return o.style({}, "afe28e32:196:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.hasIcon && e.rtl ? o.Grid.spacer() : 0,
marginLeft: e.hasIcon && !e.rtl ? o.Grid.spacer() : 0
}, "afe28e32:197:53");
}), e = r.__decorate([ i.style ], e);
}();
t.TunguskaQuickmatchStyle = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(157), a = n(67), s = n(639), u = n(453), l = n(648), c = n(646), p = n(649), d = n(105), f = n(81), m = n(93), h = n(10), g = n(207), y = n(31), S = n(111), v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.summary = g.tunguskaBattlepackSummaryStore.get(y.tunguskaGameId), e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
a.routeIsHostingGame.get() ? (f.initialFetch.trigger(), m.offersStore.get("tunguska")) : (h.locationStore.goBack(), 
S.showNotInHostingGame());
}, n.prototype.getTabs = function() {
var e = "";
return this.summary.value && this.summary.value.battlepacks > 0 && (e = " (" + this.summary.value.battlepacks + ")"), 
[ {
name: "unopened",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_UNOPENED") + e;
},
component: s.TunguskaBattlepackUnopened,
onSelect: this.updateTab.bind(this, "unopened")
}, {
name: "get",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_GET");
},
component: u.TunguskaBattlepackGet,
onSelect: this.updateTab.bind(this, "get")
}, {
name: "scrapexchange",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_SCRAPEXCHANGE");
},
component: l.TunguskaScrapExchange,
onSelect: this.updateTab.bind(this, "scrapexchange")
}, {
name: "puzzle",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_PUZZLES");
},
component: p.TunguskaBattlepackPuzzles2,
onSelect: this.updateTab.bind(this, "puzzle")
}, {
name: "inventory",
title: function() {
return __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_TAB_INVENTORY");
},
component: c.TunguskaBattlepackInventory,
onSelect: this.updateTab.bind(this, "inventory")
} ];
}, n.prototype.updateTab = function(e) {
this.setState({
activeTab: e
});
}, n.prototype.render = function() {
var e = this.summary.value && this.summary.value.scraps || 0, t = r.createElement(d.TunguskaBattlepackScraps, {
size: "S",
prefix: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPS").toUpperCase(),
value: e,
animated: !0
});
return r.createElement(i.TabbedTemplate, {
tabs: this.getTabs(),
header: t,
topGutter: !1
});
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaBattlepacks = v;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(5), a = n(31), s = n(442), u = n(14), l = n(137), c = n(8), p = n(51), d = n(6), f = n(32), m = n(139), h = n(67), g = n(33), y = n(7), S = n(17), v = i.StaticStyle.create({
marginBottom: c.getHeight(1)
}, "5ed806cf:28:26"), _ = i.StaticStyle.create({
alignItems: "center",
flex: 1
}, "5ed806cf:30:40"), b = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = v;
return r.createElement(c.Col, {
width: 5,
style: _
}, r.createElement(d.Text, {
value: this.props.title.toUpperCase(),
style: e,
size: "S"
}), r.createElement(d.Text, {
value: this.props.value,
style: e,
size: "XL"
}));
}, n;
}(r.Component), T = i.StaticStyle.create({
marginBottom: c.getHeight(5),
alignItems: "center",
justifyContent: "center"
}, "5ed806cf:64:28"), E = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e, t = s.tunguskaCampaignStore.campaignProgress;
if (h.routeIsHostingGame.get()) {
var n = t.completedEpisodes + "/" + t.totalEpisodes, o = t.completedCodexEntries + "/" + t.totalCodexEntries, i = t.completedCodeBooks + "/" + t.totalCodeBooks;
e = r.createElement("surface", {
style: S.CommonStyles.flexRow
}, r.createElement(b, {
value: n,
title: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_EPISODES_COMPLETE")
}), r.createElement(b, {
value: o,
title: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODEX_UNLOCKED")
}), r.createElement(b, {
value: i,
title: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_CODE_BOOKS_FOUND")
}));
} else e = r.createElement("surface", null);
return r.createElement("surface", null, r.createElement("surface", {
style: T
}, r.createElement(d.Text, {
value: __("ID_SPARTA_TUNGUSKA_CAMPAIGN_PLAY").toUpperCase(),
size: "M",
type: g.TextType.EMPHASIS
})), e);
}, n = e.__decorate([ o.observer ], n);
}(r.Component), C = i.StaticStyle.create({
width: c.getWidth(16),
height: c.getHeight(59)
}, "5ed806cf:104:24"), I = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = y.SpartaContext.getFromComponent(e), e.onCardPress = function() {
return m.continueSinglePlayer(a.tunguskaGameId);
}, e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
p.getCampaignEpisodes(), this.focusItem = this.sparta.twinkle.focus.create(this, "tunguska_enter_campaign");
}, n.prototype.render = function() {
var e = this.sparta.stores.nativePropertiesStore.getHostingGameId() !== a.tunguskaGameId && !this.sparta.stores.presenceStateStore.isReady, t = r.createElement(l.Card, {
style: C,
bottom: r.createElement(E, null),
enabled: !e,
onPress: this.onCardPress,
focusItem: this.focusItem,
background: [ u.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard1-c9545305.dds"), u.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard2-3a970b08.dds"), u.bbOfflineUrl("/sparta/jsclient/builds/assets/CampaignCard3-48fc5e17.dds") ]
});
if (this.sparta.twinkle.buildInfo.isConsole) {
var n = c.getHeight(3);
t = r.createElement("surface", {
style: {
alignItems: "center",
marginTop: n
}
}, t);
}
return t;
}, n.contextTypes = y.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaCampaignContent = I;
var A = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(f.Template, {
tallContent: !0
}, r.createElement(I, null));
}, n;
}(r.Component);
t.TunguskaCampaign = A;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(11), r = n(12), o = n(18), i = n(8), a = n(41), s = n(14), u = n(10), l = n(31), c = n(82), p = n(9), d = n(5);
t.validateTunguskaExpansionAccess = function f(e, t) {
var n = 1 === e.mask || 2 === e.mask || u.entitlementStore.hasExpansionAccess(l.tunguskaGameId, e.name), r = u.expansionStore.get(l.tunguskaGameId, p.SpartaGlobals.bundlePlatform), o = !1;
if (r && r.value) {
var i = r.value, a = i.getXpack(e.name);
a && (o = i.isXpackInEarlyAccess(a));
}
return o || "spectator" !== t || (n = !0), n;
};
var m = d.StaticStyle.create({
width: i.getWidth(4)
}, "baa17afd:101:22");
t.showMissingTunguskaExpansionsPopup = function h(t, n) {
if (n.length) {
var i = n.find(function(e) {
return "DEFAULT" !== e.name;
});
if (i && !i.name) {
var l = u.expansionStore.get(t, p.SpartaGlobals.bundlePlatform);
!l.isLoading && l.value && (i = l.value.getXpack(i.name));
}
if (i) {
var d = s.bbUrl("/sparta/assets/tunguska/premium-dialogue-a2de3b42.jpg"), f = "", h = "";
return u.freemiumStore.hasFreemium && !u.freemiumStore.canJoinWithFreemium ? (f = __("ID_SPARTA_ONLINE_JOIN_PREMIUM_REQUIRED_NOT_LEADER_PC") + " ", 
h = __("ID_SPARTA_USER_PARTY_WARNING_NOT_LEADER_TITLE_PC"), p.SpartaGlobals.bundleIsPS4 ? (f = __("ID_SPARTA_ONLINE_JOIN_PREMIUM_REQUIRED_NOT_LEADER_PS4") + " ", 
h = __("ID_SPARTA_USER_PARTY_WARNING_NOT_LEADER_TITLE_PS4")) : p.SpartaGlobals.bundleIsXBOXONE && (f = __("ID_SPARTA_ONLINE_JOIN_PREMIUM_REQUIRED_NOT_LEADER_XB1") + " ", 
h = __("ID_SPARTA_USER_PARTY_WARNING_NOT_LEADER_TITLE_XB1"))) : h = __("ID_SPARTA_ONLINE_JOIN_PREMIUM_CONTENT"), 
i.prettyName && (f = __("ID_SPARTA_ONLINE_JOIN_PREMIUM_REQUIRED_EXPANSION").replace("[EXPANSION]", i.prettyName)), 
a.alertWithImageAndOption(f, h.toUpperCase(), d, new r.Input({
action: function() {
c.tunguskaFeatureFlags.tunguskaPremiumPassPagePrio.isEnabled() ? o.gotoLocation("tunguska/store/premiuminfo") : o.gotoLocation("tunguska/store/list?tab=premium");
},
key: e.Keys.Option2,
label: __("ID_SPARTA_ONLINE_JOIN_PREMIUM_REQUIRED_LINK")
}), !0, m), !0;
}
}
return !1;
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("CareerGameOverviewStyle"), a = function() {
function e() {}
var t;
return t = e, e.statsOverviewContainer = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(16),
zOffset: 1,
marginRight: 2 * o.Grid.getWidth(1)
}, "3cf60943:15:47");
}), e.rankNumber = o.wrap(function() {
return o.style({
marginRight: o.Grid.spacer(2),
padding: [ 0, o.Grid.spacer(), 0, o.Grid.spacer() ],
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
width: o.Grid.spacer(7),
textureBorder: [ 2, 2, 2, 2 ]
}, "3cf60943:23:35");
}), e.timeToRankUp = o.wrap(function() {
return o.style({
opacity: .66,
color: "#ffffff"
}, "3cf60943:34:37");
}), e.userName = o.wrap(function() {
return o.style({
marginLeft: 1.5 * o.Grid.GUTTER,
marginRight: 3 * o.Grid.GUTTER,
marginBottom: 5,
marginTop: 5
}, "3cf60943:41:33");
}), e.dogtagsContainer = o.wrap(function() {
return o.style({
alignSelf: "center",
width: o.Grid.getWidth(5.9),
height: o.Grid.getHeight(11),
marginBottom: -o.Grid.getHeight(8),
zOffset: 100
}, "3cf60943:50:41");
}), e.gameStatsContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
height: o.Grid.getHeight(13)
}, "3cf60943:60:43");
}), e.gameStatsPair = o.wrap(function() {
return o.style({
marginRight: 10
}, "3cf60943:67:38");
}), e.gameStatsHeading = o.wrap(function() {
return o.style({
marginBottom: o.Grid.getHeight(1),
color: "#ffffff",
textAlignForRTL: "left"
}, "3cf60943:73:41");
}), e.gameStatsValue = o.wrap(function() {
return o.style({
marginLeft: -3,
textAlignForRTL: "left"
}, "3cf60943:81:39");
}), e.soldierImage = o.wrap(function() {
return o.style({
position: "absolute",
top: -o.Grid.getHeight(4.5),
right: -o.Grid.getWidth(1),
paddingRight: o.Grid.getWidth(1),
paddingLeft: o.Grid.getWidth(10),
paddingBottom: o.Grid.getHeight(23),
width: o.Grid.getWidth(7) + o.Grid.getWidth(10) + o.Grid.getWidth(1),
height: o.Grid.getHeight(87) + o.Grid.getHeight(4.5),
textureMode: "contain",
textureAlign: [ 1, 0 ],
zOffset: 0,
texture2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/soldier_gradient2-d93a9314.png"),
texture2Mode: "fill",
texture2Offset: [ 0, -65 ],
justifyContent: "flex-end"
}, "3cf60943:88:37");
}), e.topCardContainer = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row",
flexWrap: "wrap",
justifyContent: "space-between"
}, "3cf60943:109:41");
}), e.topCard = o.wrap(function() {
return o.style({
zOffset: 11,
width: o.Grid.getWidth(5),
marginBottom: o.Grid.spacer(1)
}, "3cf60943:118:32");
}), e.platoonEmblemBackgroundImageInternal = o.wrap(function() {
return o.style({
textureMode: "fill",
texture2: o.bbOfflineUrl("/sparta/jsclient/builds/assets/emblemgradient-8596ee37.png"),
texture2Mode: "fill",
texture2Offset: [ 0, -100 ],
position: "absolute",
top: -o.Grid.getHeight(26),
right: 0,
height: o.Grid.getHeight(55),
width: o.Grid.getHeight(55),
opacity: .2
}, "3cf60943:126:61");
}), e.platoonEmblemBackgroundImage = o.stylefunc(function() {
return t.platoonEmblemBackgroundImageInternal;
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "3cf60943:143:38");
}), e.completionProgress = o.wrap(function() {
return o.style({
marginRight: o.Grid.spacer()
}, "3cf60943:149:43");
}), e = t = r.__decorate([ i.style ], e);
}();
t.CareerGameOverviewStyle = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(62), a = n(66), s = n(11), u = n(6), l = n(15), c = n(58), p = n(12), d = n(103), f = n(174), m = n(10), h = n(5), g = n(17), y = n(22), S = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.colorTween = l.Animation.componentTween(e, "3b85fb94:42:48", "#ffffff"), 
e.backgroundTween = l.Animation.componentTween(e, "3b85fb94:43:53", "#00000050"), 
e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this, t = this.props.item;
this.focusItem = y.focusSystem.create(this, a.autoId("highlight_card_" + (t && t.heading || ""))), 
this.reaction(function() {
return e.focusItem.isFocusedOrHovered;
}, function(t) {
t ? (e.colorTween.set("#000000"), e.backgroundTween.set("#ffffff")) : (e.colorTween.set("#ffffff"), 
e.backgroundTween.set("#00000050"));
}, {
fireImmediately: !0
}), this.input = new p.Input({
label: __("ID_SPARTA_ACTION_SELECT"),
action: function() {
m.locationStore.injectLocationCause("highlightCard"), e.props.onClick && e.props.onClick(), 
m.locationStore.injectLocationCause(void 0);
},
key: s.Keys.Accept,
blockInputFor: 500
});
}, n.prototype.render = function() {
var e = this.props.item;
if (!e) return r.createElement("surface", null);
var t = this.colorTween.getStyle(), n = this.props.biggerImages ? g.HighlightCardStyles.dock : g.HighlightCardStyles.smallImage, o = h.merge3(n, this.colorTween.getStyleClass("color"), h.DynamicStyle.create({
zOffset: 11,
texture: e.imageUrl || this.props.imageUrl,
textureMode: this.props.textureMode || "contain"
}, "3b85fb94:92:52")), a = d.localeState.displayLocale !== f.Locales.ARABIC ? c.Direction.Right : c.Direction.Left, s = h.merge3(g.HighlightCardStyles.box, this.backgroundTween.getStyleClass("backgroundColor"), this.props.style || h.emptyStyle);
return r.createElement(i.Pressable, {
style: s,
childrenStyle: g.CommonStyles.spaceBetweenContent,
input: this.input,
focusItem: this.focusItem
}, r.createElement(u.Text, {
size: "XS",
color: t,
value: (e.heading || "").toUpperCase(),
style: g.HighlightCardStyles.text
}), r.createElement("surface", {
style: o
}), r.createElement("surface", null, r.createElement(c.Marquee, {
focusItem: this.focusItem,
scrollTo: a,
style: g.CommonStyles.flex1
}, r.createElement(u.Text, {
size: "S",
color: t,
value: e.name,
style: g.CommonStyles.flex1
})), r.createElement(u.Text, {
size: "XS",
color: t,
value: e.value + " " + e.valueText,
style: g.HighlightCardStyles.infoText
})));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.HighlightCard = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(6), s = n(86), u = n(5), l = u.StaticStyle.create({
whiteSpace: "nowrap",
textAlign: "right",
textAlignForRTL: "center",
marginBottom: 5,
width: 80,
zOffset: 3
}, "75a8d521:8:18"), c = u.StaticStyle.create({
width: 80
}, "75a8d521:31:25"), p = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e, t = this.props.completionObj.progress || {
current: 0,
total: 0,
percentage: 0
}, n = "#ffffff";
return this.props.focusItem.isFocusedOrHovered && (n = "#000000"), t.total === t.current ? n = "#ff9900" : e = o.createElement(s.ProgressBar, {
height: "S",
style: c,
completed: t.percentage
}), o.createElement("surface", {
style: this.props.style
}, o.createElement(a.Text, {
style: l,
color: n,
size: "XS",
value: t.current + "/" + t.total
}), e);
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.CompletionProgress = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(8), a = n(15), s = n(5), u = n(1456), l = n(9);
var c = [ .95, .05, .5, .95 ], p = function d(e) {
return [ 1 - e[2], 1 - e[3], 1 - e[0], 1 - e[1] ];
}(c), f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.state = {
tagIndex: 0
}, t.rotationTween = a.Animation.tween("51602250:31:37", 0), t.isFlipping = !1, 
t.flip = function() {
if (t.isFlipping) return !1;
t.isFlipping = !0, t.displayTag(0).then(function() {
return t.rotateTo(0, 90, c);
}).then(function() {
return t.displayTag(1);
}).then(function() {
return t.rotateTo(90, 0, p);
}).then(function() {
return t.wait(2e3);
}).then(function() {
return t.rotateTo(0, 90, c);
}).then(function() {
return t.displayTag(0);
}).then(function() {
return t.rotateTo(90, 0, p);
}).then(function() {
t.isFlipping = !1;
});
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
l.SpartaGlobals.bundleIsPS4, this.initialFlipTimeoutId = setTimeout(function() {
return e.flip();
}, 1e3);
}, t.prototype.componentWillUnmount = function() {
clearTimeout(this.initialFlipTimeoutId), this.rotationTween.destroy(), delete this.rotationTween;
}, t.prototype.displayTag = function(e) {
var t = this;
return this.rotationTween ? new Promise(function(n) {
return t.setState({
tagIndex: e
}, n);
}) : Promise.resolve();
}, t.prototype.rotateTo = function(e, t, n) {
return this.rotationTween ? this.rotationTween.promiseTransition(e, t, {
easing: n,
duration: 333
}) : Promise.resolve();
}, t.prototype.wait = function(e) {
return this.rotationTween ? new Promise(function(t) {
return setTimeout(t, e);
}) : Promise.resolve();
}, t.prototype.render = function() {
var e, t = this.props.tags[this.state.tagIndex], n = "square" === this.props.size ? u.EquippedDogtagsStyles.square : u.EquippedDogtagsStyles.rect;
t && t.images && t.images.Small && (e = t.images.Small);
var r = s.merge3(u.EquippedDogtagsStyles.tags({
texture: e
}), n, this.rotationTween.getStyleClass("rotateY")), i = this.props.style ? s.merge2(u.EquippedDogtagsStyles.inlineContainer, this.props.style) : u.EquippedDogtagsStyles.inlineContainer;
return o.createElement("surface", {
style: i
}, o.createElement("surface", {
style: r,
onClick: this.flip
}));
}, t;
}(o.Component), m = function(e) {
var t = e.tags, n = e.size, r = e.style, a = t.map(function(e, t) {
var r = e.tagType && e.tagType.name || "", i = "square" === n ? u.EquippedDogtagsStyles.square : u.EquippedDogtagsStyles.rect, a = void 0, l = i.getStyleValue("marginLeft");
"number" == typeof l && (a = l * t);
var c = s.merge3(u.EquippedDogtagsStyles.tags({
marginLeft: a
}), i, "Advanced" === r ? u.EquippedDogtagsStyles.inlineTagAdvanced : u.EquippedDogtagsStyles.inlineTagBasic);
return o.createElement("surface", {
key: "tagEquipped" + r,
style: c
}, o.createElement("surface", {
style: u.EquippedDogtagsStyles.inlineTagImage({
texture: e.images && e.images.Small
})
}));
}), l = r ? s.merge2(u.EquippedDogtagsStyles.inlineContainer, r) : u.EquippedDogtagsStyles.inlineContainer;
return o.createElement(i.Col, {
style: l
}, a);
};
t.EquippedDogtags = function(e) {
var t = e.type, n = void 0 === t ? "inline" : t, r = e.tags, i = e.size, a = void 0 === i ? "rect" : i, s = e.style;
switch (n) {
case "inline":
return o.createElement(m, {
tags: r,
size: a,
style: s
});

case "flipping":
return o.createElement(f, {
tags: r,
size: a,
style: s
});

default:
return o.createElement("surface", null);
}
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("EquippedDogtagsStyles"), a = function() {
function e() {}
return e.rect = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(3.3),
height: o.Grid.getHeight(11),
marginLeft: -o.Grid.getWidth(1.5)
}, "547da633:7:29");
}), e.square = o.wrap(function() {
return o.style({
marginTop: -o.Grid.getHeight(6.5),
width: o.Grid.getHeight(18),
height: o.Grid.getHeight(18),
marginLeft: -o.Grid.getWidth(.5)
}, "547da633:15:31");
}), e.inlineContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "center"
}, "547da633:24:40");
}), e.tags = o.stylefunc(function() {
return o.style({
position: "relative",
textureMode: "contain"
}, "547da633:32:14");
}, function(e) {
return o.dynamicStyle({
marginLeft: e.marginLeft,
texture: e.texture
}, "547da633:37:60");
}), e.inlineTagBasic = o.wrap(function() {
return o.style({
zOffset: 2,
rotateZ: 5
}, "547da633:44:39");
}), e.inlineTagAdvanced = o.wrap(function() {
return o.style({
zOffset: 1,
rotateZ: -10
}, "547da633:51:42");
}), e.inlineTagImage = o.stylefunc(function() {
return o.style({
flex: 1,
textureMode: "contain"
}, "547da633:59:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "547da633:64:39");
}), e = r.__decorate([ i.style ], e);
}();
t.EquippedDogtagsStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(212), s = n(596), u = n(1458), l = n(39), c = n(32), p = n(160), d = n(238), f = n(23), m = n(29), h = n(5), g = h.StaticStyle.create({
height: f.content.height
}, "c8fccb89:82:33"), y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.selectionState = new a.CareerSelectionState(), t.renderItem = function(e, n, r, i, a, s, u) {
var l = n.images ? n.images.Small : "";
return o.createElement(p.AwardItem, {
awardImage: l,
awardCode: n.code,
gameId: t.props.viewLocation.args.gameId,
awardCount: n.progression ? n.progression.valueAcquired : 0,
itemState: t.selectionState.getItemState(r),
style: h.DynamicStyle.wrapLegacyStyle(e, "c8fccb89:40:24"),
ref: function(e) {
return u(r, e);
},
key: "ribbonitem-" + r,
unlocked: n.progression && n.progression.unlocked,
onFocus: a
});
}, t.renderFocusPane = function(e) {
return o.createElement(u.RibbonFocusPane, {
widthGridCells: e,
selectionState: t.selectionState,
gameId: t.props.viewLocation.args.gameId
});
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = s.ribbonStore.get(this.props.viewLocation.args.gameId), t = e && e.value && e.value.groups, n = t ? o.createElement(d.CareerSection, {
gameId: this.props.viewLocation.args.gameId,
preSelectedId: this.props.viewLocation.args.id,
categorizedData: t.slice(),
selectionState: this.selectionState,
renderItem: this.renderItem,
renderFocusPane: this.renderFocusPane,
ensureItemFocus: !0
}) : o.createElement(l.EmptyState, null, o.createElement(m.Spinner, {
large: !0
}));
return o.createElement(c.Template, {
tallContent: !0,
scrollContent: !1
}, o.createElement("surface", {
style: g
}, n));
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.CareerRibbons = y;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(8), a = n(6), s = n(21), u = n(19), l = n(5), c = {
ribbonName: l.StaticStyle.create({
marginBottom: i.getHeight(2),
textAlignForRTL: "left"
}, "96b190b3:12:16"),
ribbonImageWrapper: {
flexDirection: "row",
justifyContent: "center"
},
ribbonImage: {
width: 256,
height: 256,
marginBottom: 2 * i.GUTTER
},
ribbonDescription: l.StaticStyle.create({
textLineSpacing: s.LINE_HEIGHTS.S,
marginBottom: 2 * i.GUTTER,
textAlignForRTL: "left"
}, "96b190b3:27:23"),
xpStyle: l.StaticStyle.create({
opacity: .66,
textAlignForRTL: "left",
marginBottom: i.GUTTER
}, "96b190b3:33:13")
}, p = l.StaticStyle.create({
marginRight: i.GUTTER
}, "96b190b3:61:43"), d = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "category", {
get: function() {
return this.props.selectionState.category;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "item", {
get: function() {
return this.props.selectionState.item;
},
enumerable: !0,
configurable: !0
}), n.prototype.renderRibbon = function() {
if (!this.item) return r.createElement("surface", null);
var e = u.isRTLLanguage() ? p : l.emptyStyle, t = this.item.name ? this.item.name.toUpperCase() : "", n = this.item.score || 0, o = void 0 !== n && r.createElement(a.Text, {
value: n + __("ID_SPARTA_GENERIC_XP"),
size: "S",
style: l.merge2(c.xpStyle, e)
}), i = this.item.description && r.createElement(a.Text, {
size: "S",
value: this.item.description,
style: l.merge2(c.ribbonDescription, e)
}), s = this.item.images && this.item.images.Small;
return r.createElement("surface", null, r.createElement("surface", {
style: c.ribbonImageWrapper
}, r.createElement("surface", {
style: [ c.ribbonImage, {
texture: s
} ]
})), r.createElement(a.Text, {
value: t,
style: l.merge2(c.ribbonName, e)
}), o, i);
}, n.prototype.render = function() {
var e = this.props.widthGridCells || 7;
return r.createElement(i.Col, {
width: e
}, this.renderRibbon());
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.RibbonFocusPane = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1460), o = n(253);
t.DogtagSplitStore = r.DogtagStore.transform(function(e) {
var t = {};
return Object.keys(e).forEach(function(n) {
var r = e[n];
t[n] = {
left: [],
right: []
}, r.forEach(function(e) {
var r = e.name, i = e.sortOrder, a = [], s = [];
(e.items || []).forEach(function(e) {
e.type && ("basic" === e.type.toLowerCase() ? a.push(e) : s.push(e));
}), a.length && t[n].left.push(new o.AwardCategory({
items: a,
name: r,
sortOrder: i
})), s.length && t[n].right.push(new o.AwardCategory({
items: s,
name: r,
sortOrder: i
}));
});
}), t;
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(178), o = n(456), i = new (n(152).InternalStorage)("DogtagStore");
t.DogtagStore = r.createStore({
init: function() {
o.DogtagClient.listen(function(e, n) {
var r;
!function o(e) {
i.merge(e), t.DogtagStore.trigger(i.getState());
}((r = {}, r[e] = n, r));
});
},
getState: function() {
return i.getState();
}
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(6), a = n(19), s = n(225), u = n(1462), l = n(1463), c = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "item", {
get: function() {
return this.props.selectionState.item;
},
enumerable: !0,
configurable: !0
}), n.prototype.renderDependencies = function() {
var e = this;
return this.item && this.item.dependencies ? r.createElement("surface", {
style: u.DogtagFocusPaneStyles.dependencies
}, this.item.dependencies.map(function(t, n) {
var o = t.images && t.images.Small;
return r.createElement("surface", {
key: n
}, r.createElement("surface", {
style: u.DogtagFocusPaneStyles.dependencyImage({
image: o
})
}), r.createElement("surface", {
style: u.DogtagFocusPaneStyles.dependencySpecContainer
}, r.createElement(i.Text, {
type: "emphasis",
size: "S",
value: t.name
}), r.createElement(i.Text, {
type: "emphasis",
size: "S",
value: "x" + (t.progression ? t.progression.valueAcquired : 0)
})), r.createElement(i.Text, {
size: "XS",
value: t.description,
style: u.DogtagFocusPaneStyles.dependencyText({
width: e.props.width
})
}));
})) : r.createElement("surface", null);
}, n.prototype.renderCriterias = function() {
var e = this;
return this.item && this.item.criterias ? r.createElement("surface", {
style: u.DogtagFocusPaneStyles.criterias
}, this.item.criterias.map(function(t, n) {
var o = t.progression ? t.progression.valueAcquired : 0, a = t.progression ? t.progression.valueNeeded : 0;
return r.createElement("surface", {
style: u.DogtagFocusPaneStyles.criteriaSpecContainer,
key: n
}, r.createElement(i.Text, {
size: "S",
value: t.name,
style: u.DogtagFocusPaneStyles.criteriaText({
width: e.props.width
})
}), r.createElement(i.Text, {
size: "S",
value: o + "/" + a
}));
})) : r.createElement("surface", null);
}, n.prototype.renderAwardCount = function() {
if (!this.item || !this.item.timesTaken || this.item.timesTaken <= 0) return r.createElement("surface", null);
var e = this.item.timesTaken, t = "";
return t = (t = 0 === e ? __("ID_SPARTA_CAREER_DOGTAGS_NEVER") : 1 === e ? e + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_ONCE") : e + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_SEVERAL")).replace("[[timesTaken]]", e.toString()), 
r.createElement("surface", {
style: u.DogtagFocusPaneStyles.awardCount
}, r.createElement(i.Text, {
value: t + " " + __("ID_SPARTA_CAREER_DOGTAGS_TAKEN_FROM_ENEMIES"),
size: "S",
type: "emphasis",
style: u.DogtagFocusPaneStyles.awardCountText({
width: this.props.width
})
}));
}, n.prototype.render = function() {
if (!this.item) return r.createElement("surface", null);
var e = this.item.expansions && this.item.expansions[0] && this.item.expansions[0].license, t = e ? r.createElement(s.PremiumTreatment, {
expansion: e,
showExpansionName: !0
}) : null, n = u.DogtagFocusPaneStyles.description({
width: this.props.width,
isRTL: a.isRTLLanguage()
}), o = this.item.description ? r.createElement(i.Text, {
value: this.item ? this.item.description : "",
style: n,
size: "S"
}) : void 0, c = void 0;
return this.item.images && (c = l.careerFeatureFlags.highresDogtagImages.isEnabled() && this.item.images.Png300xANY ? this.item.images.Png300xANY : this.item.images.Small), 
r.createElement("surface", {
style: u.DogtagFocusPaneStyles.container({
width: this.props.width
})
}, r.createElement("surface", {
style: u.DogtagFocusPaneStyles.image({
texture: c
})
}), r.createElement(i.Text, {
size: "M",
value: this.item.name,
style: u.DogtagFocusPaneStyles.title({
isRTL: a.isRTLLanguage()
})
}), t, o, this.renderDependencies(), this.renderCriterias(), this.renderAwardCount());
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.DogtagFocusPane = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("DogtagFocusPaneStyles"), a = function() {
function e() {}
return e.container = o.stylefunc(function() {
return o.style({}, "2bd3e807:8:14");
}, function(e) {
return o.dynamicStyle({
width: e.width
}, "2bd3e807:9:36");
}), e.image = o.stylefunc(function() {
return o.style({
height: o.Grid.getHeight(29),
textureMode: "contain",
marginBottom: 2 * o.Grid.GUTTER
}, "2bd3e807:16:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "2bd3e807:22:39");
}), e.title = o.stylefunc(function() {
return o.style({
marginBottom: o.Grid.GUTTER,
textAlignForRTL: "left"
}, "2bd3e807:29:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTL ? o.Grid.GUTTER / 2 + 1 : 0
}, "2bd3e807:34:37");
}), e.dependencies = o.wrap(function() {
return o.style({
marginBottom: 2 * o.Grid.GUTTER
}, "2bd3e807:40:37");
}), e.dependencyImage = o.stylefunc(function() {
return o.style({
textureMode: "contain",
width: 100,
height: 100,
alignSelf: "center"
}, "2bd3e807:47:14");
}, function(e) {
return o.dynamicStyle({
texture: e.image
}, "2bd3e807:54:37");
}), e.dependencySpecContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between"
}, "2bd3e807:60:48");
}), e.dependencyText = o.stylefunc(function() {
return o.style({
marginTop: o.Grid.GUTTER,
marginBottom: o.Grid.GUTTER,
opacity: .66
}, "2bd3e807:68:14");
}, function(e) {
return o.dynamicStyle({
width: e.width
}, "2bd3e807:74:36");
}), e.criterias = o.wrap(function() {
return o.style({
marginBottom: 2 * o.Grid.GUTTER
}, "2bd3e807:80:34");
}), e.criteriaSpecContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
marginBottom: 2 * o.Grid.GUTTER
}, "2bd3e807:86:46");
}), e.criteriaText = o.stylefunc(function() {
return o.style({
color: "#EEEEEE",
paddingRight: 3 * o.Grid.GUTTER
}, "2bd3e807:95:14");
}, function(e) {
return o.dynamicStyle({
width: e.width
}, "2bd3e807:100:36");
}), e.awardCount = o.wrap(function() {
return o.style({
marginBottom: 2 * o.Grid.GUTTER
}, "2bd3e807:106:35");
}), e.awardCountText = o.stylefunc(function() {
return o.style({
textAlignForRTL: "left"
}, "2bd3e807:113:14");
}, function(e) {
return o.dynamicStyle({
width: e.width
}, "2bd3e807:117:36");
}), e.description = o.stylefunc(function() {
return o.style({
marginBottom: o.Grid.spacer(2),
textAlignForRTL: "left"
}, "2bd3e807:124:14");
}, function(e) {
return o.dynamicStyle({
width: e.width,
paddingRight: e.isRTL ? o.Grid.GUTTER / 4 : 0
}, "2bd3e807:129:52");
}), e = r.__decorate([ i.style ], e);
}();
t.DogtagFocusPaneStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(110);
t.careerFeatureFlags = r.featureFlags.register({
highresDogtagImages: new r.FeatureFlag({})
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("CareerDogtagsStyle"), a = function() {
function e() {}
return e.focusPaneWidth = o.value(function() {
return o.Grid.getWidth(6);
}, "066bafb2:7:28"), e.equipButton = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(6),
marginTop: o.Grid.getHeight(2),
textAlignForRTL: "left"
}, "066bafb2:9:36");
}), e = r.__decorate([ i.style ], e);
}();
t.CareerDogtagsStyle = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(10);
t.SaveDogtagClient = r.requester.createClient({
request: function(e, t) {
if (!e || !t) throw new Error("Missing parameter, expected game and dogtag");
var n = {
game: e,
tagType: function r(e) {
return e.hasOwnProperty("tagType");
}(t) ? t.tagType ? t.tagType.name : "" : t.type || "",
index: t.index
};
return o.request("Loadout.equipDogtag", n);
},
parse: function(e) {
return e;
},
update: function(e, t, n) {
i.careerStore.setEquippedDogtags(n, e), this.publish(n, e);
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(89), s = n(434), u = n(601), l = n(1467), c = n(64), p = n(39), d = n(29), f = n(210), m = n(211), h = n(235), g = n(6), y = n(160), S = n(10), v = n(436), _ = n(61), b = n(457), T = n(86), E = n(1473), C = n(19), I = n(17), A = n(5), w = function(e) {
function t(t) {
var n = e.call(this, t) || this;
n.getItemGating = function(e) {
if (n.itemsGating && n.itemsGating.value) return n.itemsGating.value.getItem(e);
};
var r = S.gameStore.getGame(n.props.viewLocation.args.gameId);
return n.loadoutConfig = r && r.loadoutConfig, n.loadoutConfig && (n.itemsGating = n.loadoutConfig.getItemsGating()), 
n;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this.props.viewLocation.args.gameId;
s.KitWeaponClient.trigger(e), u.WalletClient.trigger(e);
}, t.prototype.render = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = this.state.kits[t] || [];
if (0 === n.length) return o.createElement(p.EmptyState, null, o.createElement(d.Spinner, {
large: !0
}));
var r = S.gameStore.getGame(t), i = r ? r.getCurrencyName() : "", s = v.walletStore.getWallet(t), u = s && s.getValueOf("cash"), l = o.createElement(f.CareerSectionHeader, null, o.createElement(g.Text, {
size: "S",
value: i.toUpperCase(),
style: m.CareerSectionStyle.headerText
}), o.createElement("surface", {
style: m.CareerSectionStyle.warBond
}), o.createElement(g.Text, {
size: "S",
value: _.formatThousands(u),
type: "emphasis"
})), c = this.props.viewLocation.args.id;
return o.createElement(f.CareerSectionSelectionHandler, {
categories: n,
hasSubCategories: !0,
preSelectedItemId: c
}, function(r, i) {
return o.createElement(f.CareerSectionContainer, {
header: l
}, o.createElement(f.CareerSectionMenu, null, o.createElement(a.List, null, n.map(function(e, t) {
var n = f.getCategoryUnlockStatus(e, !0), i = n.numUnlocked, s = n.numTotal, u = "listitem_" + e.name;
return o.createElement(a.ListItem, {
index: t,
key: e.name,
selectionState: r,
debugName: u
}, C.localeRearrange([ o.createElement(a.ListItemLabel, {
key: "name",
value: e.name.toUpperCase(),
right: C.isRTLLanguage()
}), o.createElement(a.ListItemLabel, {
key: "unlocked",
value: (i + "/" + s).toUpperCase(),
right: !C.isRTLLanguage()
}) ]));
}))), o.createElement(f.CareerSectionContent, null, o.createElement(P, {
gameId: t,
kits: n,
listSelectionState: r,
itemSelectionState: i,
preSelectedItemId: c,
getItemGating: e.getItemGating
})), o.createElement(O, {
gameId: t,
itemSelectionState: i,
getItemGating: e.getItemGating
}));
});
}, t = r.__decorate([ i.observer, c.subscribeToStores({
kits: l.KitWeaponStore
}) ], t);
}(o.Component);
t.CareerWeaponsGadgets = w;
var P = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onFocus = function(e, n) {
t.props.itemSelectionState.setActiveItem(e, n);
}, t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this, t = new h.TableRenderer("item-table", 4, m.CareerSectionStyle.tableWidth, E.CareerWeaponsGadgetsStyle.tableHeight, m.CareerSectionStyle.itemHeaderHeight, m.CareerSectionStyle.itemWidth, m.CareerSectionStyle.itemHeight, f.contentSoftClip, this.props.preSelectedItemId), n = 0, r = this.props.kits[this.props.listSelectionState.activeItemIndex];
return r.items.forEach(function(r) {
t.addHeader(function(e) {
return o.createElement(g.Text, {
key: e.itemIndex,
value: r.name,
size: "S",
style: m.CareerSectionStyle.itemHeader(e)
});
}), r.items.forEach(function(r) {
var i = n++;
t.addRowCell(r.code, function(t, n) {
var a = r.getUnlockProgression(), s = m.CareerSectionStyle.itemStyle(t);
return o.createElement(y.AwardItem, {
focusItem: n,
gameId: e.props.gameId,
style: s,
item: r,
awardImage: r.images.Png256xANY,
awardCode: r.name,
key: t.rowIndex + "-" + t.columnIndex,
activeColor: "#000000",
star: r.star,
index: i,
itemState: e.props.itemSelectionState.getItemState(i),
unlocked: !!r.progression && r.progression.unlocked,
expansion: r.expansion,
showLockIcon: !0,
progressPercent: a ? a.percentage : void 0,
onFocus: e.onFocus,
gating: e.props.getItemGating(r.code)
});
});
});
}), t.end(), o.createElement("surface", null, o.createElement(R, {
category: r
}), t.render());
}, t = r.__decorate([ i.observer ], t);
}(o.Component), R = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.category;
if (!e || !e.progression) return null;
var t = e.progression, n = t.left / t.right, r = e.images && o.createElement("surface", {
key: "rankImage",
style: E.CareerWeaponsGadgetsStyle.rankImage({
texture: e.images.white
})
}), i = t.rank < 110 && [ o.createElement("surface", {
key: "arrow",
style: E.CareerWeaponsGadgetsStyle.arrowImage
}), o.createElement(g.Text, {
key: "nextRank",
size: "S",
value: "" + (t.rank + 1),
style: E.CareerWeaponsGadgetsStyle.text
}) ], a = _.formatThousands(t.left) + "/" + _.formatThousands(t.right), s = t.rank < 110 && o.createElement(g.Text, {
key: "progressBlock",
size: "S",
value: a,
style: A.merge2(E.CareerWeaponsGadgetsStyle.text, E.CareerWeaponsGadgetsStyle.progressText)
}), u = t.rank < 110 && o.createElement(T.ProgressBar, {
key: "progressBar",
bgColorStyle: I.CommonStyles.bgColor("#ffffff01"),
height: "L",
barColorStyle: I.CommonStyles.bgColor("#ffffff"),
completed: n,
style: E.CareerWeaponsGadgetsStyle.progressBar
});
return o.createElement("surface", {
key: "catInfo",
style: E.CareerWeaponsGadgetsStyle.container
}, r, o.createElement(g.Text, {
size: "S",
value: "" + t.rank,
style: E.CareerWeaponsGadgetsStyle.text
}), u, i, s);
}, t = r.__decorate([ i.observer ], t);
}(o.Component), O = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.itemSelectionState;
return e.item ? o.createElement(f.CareerSectionFocusPane, null, o.createElement(b.WeaponFocusPane, {
widthGridCells: 6,
selectionState: e,
gameId: this.props.gameId,
gating: this.props.getItemGating(e.item.code)
})) : o.createElement("surface", null);
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(178), o = n(434), i = new (n(152).InternalStorage)("KitWeapon");
t.KitWeaponStore = r.createStore({
init: function() {
o.KitWeaponClient.listen(function(e, n) {
var r;
!function o(e) {
i.merge(e), t.KitWeaponStore.trigger(i.getState());
}((r = {}, r[e] = n, r));
});
},
getState: function() {
return i.getState();
}
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(8), a = n(6), s = n(4), u = n(86), l = n(11), c = n(12), p = n(5), d = n(17), f = n(9), m = n(22), h = n(77), g = n(7), y = {
accessoryContainer: {
marginTop: i.getHeight(4),
marginBottom: i.getHeight(4)
},
accessoryList: p.StaticStyle.create({
marginBottom: i.getHeight(4)
}, "35e06fdb:25:19"),
accessoriesRow: {
flexDirection: "row"
},
accessoryItem: {
flex: 1,
height: i.getHeight(7),
marginRight: 1,
marginBottom: 1,
backgroundColor: "#00000050"
},
accessoryItemEmpty: {
flex: 1,
height: i.getHeight(7),
marginRight: 1,
marginBottom: 1,
backgroundColor: "#00000000"
},
accessoryItemFocused: {
backgroundColor: "#ffffff33"
},
accessoryItemHovered: {
backgroundColor: "#ffffff"
},
accessoriesHeader: {
marginBottom: i.getHeight(2)
},
accessoryItemBlurred: {},
accessoryItemImage: {
zOffset: 1,
position: "absolute",
left: 0,
top: 0,
right: 0,
bottom: 0,
textureMode: "contain"
},
accessoryItemProgressBar: {
position: "absolute",
bottom: 0,
left: 0,
right: 0
},
accessorySpacing: {
marginTop: i.getHeight(1)
},
accessoryImage: {
height: i.getHeight(20),
textureMode: "contain"
},
hrLine: {
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: i.getHeight(2),
marginBottom: i.getHeight(2)
},
progressInfoWrapper: {
flexDirection: "row",
marginBottom: i.GUTTER,
marginTop: i.GUTTER
},
progressData: {
flex: 2,
textAlign: "right"
},
progressLabel: {
flex: 4
}
}, S = function() {
function t() {
this.item = null, this.index = -1, this.ref = null;
}
return t.prototype.setAccessory = function(e, t, n) {
this.item = e, this.index = t, this.ref = n;
}, e.__decorate([ o.observable ], t.prototype, "item", void 0), e.__decorate([ o.observable ], t.prototype, "index", void 0), 
e.__decorate([ o.observable ], t.prototype, "ref", void 0), e.__decorate([ o.action ], t.prototype, "setAccessory", null), 
t;
}();
t.WeaponAccessoriesState = S;
var v = p.StaticStyle.create({
marginTop: i.GUTTER
}, "35e06fdb:152:29"), _ = function(t) {
function n(e) {
return t.call(this, e) || this;
}
return e.__extends(n, t), n.prototype.componentWillReceiveProps = function(e) {
e.weaponName !== this.props.weaponName && this.accessoryState.setAccessory(null, -1, null);
}, Object.defineProperty(n.prototype, "accessoryState", {
get: function() {
return this.props.accessoryState;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "isAccessoryInHere", {
get: function() {
return this.accessoryState.ref === this.props.title;
},
enumerable: !0,
configurable: !0
}), n.prototype.onSelectAccessory = function(e, t) {
this.accessoryState.setAccessory(e, t, this.props.title);
}, n.prototype.renderProgression = function(e) {
if (e.unlocked || e.valueNeeded <= 1) return null;
var t = e.valueAcquired + "/" + e.valueNeeded, n = this.props.weaponName + " " + __("ID_SPARTA_CAREER_KILLS").toLocaleUpperCase();
return r.createElement("surface", {
style: v
}, r.createElement(u.ProgressBar, {
style: p.DynamicStyle.create({
width: this.props.containerWidth
}, "35e06fdb:154:28"),
height: "S",
completed: e.percentage
}), e.valueNeeded > 0 && r.createElement("surface", {
style: y.progressInfoWrapper
}, r.createElement(a.Text, {
value: n,
size: "S",
style: y.progressLabel
}), r.createElement(a.Text, {
value: t,
size: "S",
style: y.progressData
})));
}, n.prototype.renderFocusedAccessory = function() {
var e = this.accessoryState.item;
return null === e ? null : r.createElement("surface", {
key: "focusedAccessory",
style: y.accessoryContainer
}, r.createElement(a.Text, {
value: e.name,
size: "M",
type: "emphasis"
}), this.renderProgression(e.progression), e.description && r.createElement(a.Text, {
value: e.description,
size: "S",
style: y.accessorySpacing
}));
}, n.prototype.render = function() {
for (var e = this.props.containerWidth / 3 - 2, t = [], n = Math.ceil(this.props.accessories.length / 3), o = 0; o < n; o++) {
for (var i = 3 * o, s = !1, u = [], l = i; l < i + 3; l++) {
var c = this.props.accessories.length > l ? this.props.accessories[l] : null, p = l === this.accessoryState.index && this.isAccessoryInHere;
c ? u.push(r.createElement(T, {
onSelect: this.onSelectAccessory.bind(this, c, l),
accessory: c,
isSelected: p,
width: e,
index: l,
key: l
})) : u.push(r.createElement("surface", {
key: l,
style: y.accessoryItemEmpty
})), p && (s = !0);
}
t.push(r.createElement("surface", {
key: "accessoriesRow" + o,
style: [ d.CommonStyles.flexRow, d.CommonStyles.noLocalBounds ]
}, u)), s && t.push(this.renderFocusedAccessory());
}
return r.createElement("surface", {
style: d.CommonStyles.noLocalBounds
}, r.createElement("surface", {
style: y.hrLine
}), r.createElement(a.Text, {
type: "emphasis",
size: "S",
value: this.props.title,
style: y.accessoriesHeader
}), r.createElement(b, {
key: "accessories-" + this.props.weaponName,
style: y.accessoryList
}, t));
}, n = e.__decorate([ s.observer ], n);
}(r.Component);
t.WeaponAccessories = _;
var b = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement("surface", {
style: [ this.props.style, d.CommonStyles.noLocalBounds ]
}, this.props.children);
}, n;
}(r.Component), T = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = g.SpartaContext.getFromComponent(r), r.focusItem = m.focusSystem.create(r, "accessoryitem"), 
h.onComponentUpdate(r, function(e) {
r.focusItem.id = "accessoryitem_" + e.index, e.onSelect ? f.SpartaGlobals.bundleIsPC && r.sparta.stores.inputStore.bindInputToFocusItem(new c.Input({
action: e.onSelect,
label: __("ID_SPARTA_ACTION_SELECT"),
key: l.Keys.Accept
}), r.focusItem) : console.warn("No action for accessoryitem " + e.index);
}), r.focusItem.onChange.listen(function(t) {
t && m.focusSystem.controllerMode && e.onSelect();
}), r;
}
return e.__extends(n, t), n.prototype.render = function() {
var t = this.props, n = t.isSelected, o = t.accessory, i = y.accessoryItemBlurred;
(this.focusItem.isFocusedOrHovered || n) && (i = this.focusItem.isFocusedOrHovered ? y.accessoryItemFocused : y.accessoryItemHovered);
var a = e.__assign({}, y.accessoryItemImage, {
texture: o.images.Small
}), s = o.images && o.images.Small && -1 !== o.images.Small.indexOf("Lineart");
return n && !this.focusItem.isFocusedOrHovered && s && (a.color = "#000000"), i = e.__assign({}, i, {
opacity: o.progression.unlocked ? 1 : .33
}), r.createElement("surface", e.__assign({}, this.focusItem.hooks, {
style: [ y.accessoryItem, i ]
}), r.createElement("surface", {
style: a
}), r.createElement(u.ProgressBar, {
height: "S",
style: p.merge2(d.CommonStyles.dockBottom, p.DynamicStyle.create({
width: this.props.width
}, "35e06fdb:329:59")),
completed: o.progression.percentage
}));
}, n.contextTypes = g.SpartaContext.contextTypes, n = e.__decorate([ s.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(4), a = n(26), s = n(18), u = n(6), l = n(11), c = n(12), p = n(436), d = n(10), f = n(21), m = n(29), h = n(62), g = n(38), y = n(28), S = n(94), v = n(25), _ = n(93), b = n(17), T = n(5), E = n(1470), C = n(9), I = n(7), A = n(22), w = n(66), P = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "gating", {
get: function() {
return this.props.gating;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "shortcutKitOffer", {
get: function() {
var e = this.props.gameId, t = _.offersStore.get(e), n = this.gating && this.gating.shortCutKitLicenses.slice();
if (t.value && n) {
var r = t.value.shortcuts.find(function(e) {
return e.licenses[0] === n[0];
});
if (r) return r;
}
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "hasShortcutKit", {
get: function() {
if (!this.shortcutKitOffer) return !1;
var e = !!this.gating && this.gating.shortCutKitLicenses && this.gating.shortCutKitLicenses.length > 0;
return !!this.gating && !this.gating.canBeEquipped && e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "canUnlock", {
get: function() {
var e = p.walletStore.getWallet(this.props.gameId), t = e && e.getValueOf("cash");
return !!this.gating && (this.gating.canBeBought && t >= this.gating.price);
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
return this.gating && (this.canUnlock || this.hasShortcutKit) ? r.createElement("surface", null, r.createElement(O, {
canUnlock: this.canUnlock,
gating: this.gating,
gameId: this.props.gameId,
weapon: this.props.weapon
}), r.createElement(R, {
hasShortcutKit: this.hasShortcutKit,
gameId: this.props.gameId,
shortcutKitOffer: this.shortcutKitOffer
})) : null;
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.WeaponUnlockOptions = P;
var R = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.contentRender = function(e) {
return r.createElement(u.Text, {
color: e ? "#000000" : void 0,
size: "XS",
style: b.CommonStyles.textAlignCenter,
value: __("ID_SPARTA_ACTION_GET_SHORTCUT_KIT").toUpperCase()
});
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props.shortcutKitOffer, t = d.gameStore.getGame(this.props.gameId);
if (!t) return null;
if (!this.props.hasShortcutKit && !e) return null;
var n = new c.Input({
key: l.Keys.Option1,
label: __("ID_SPARTA_ACTION_GET_SHORTCUT_KIT"),
action: function() {
e && s.gotoLocation(t.storeConfig.route + "/details?offerId=" + e.id);
}
});
return r.createElement(x, {
input: n,
content: this.contentRender
});
}, n = e.__decorate([ i.observer ], n);
}(r.Component), O = function(n) {
function a(e, t) {
var o = n.call(this, e, t) || this;
o.sparta = I.SpartaContext.getFromComponent(o), o.purchaseItemLoading = !1, o.renderContent = function(e) {
return r.createElement(u.Text, {
color: e ? "#000000" : void 0,
size: "XS",
style: b.CommonStyles.textAlignCenter,
value: __("ID_SPARTA_ACTION_UNLOCK_UPPERCASE")
});
};
var i = d.gameStore.getGame(e.gameId);
return o.loadoutConfig = i && i.loadoutConfig, o;
}
return e.__extends(a, n), Object.defineProperty(a.prototype, "warBondInput", {
get: function() {
var e = this;
if (this.props.canUnlock) return new c.Input({
key: l.Keys.Accept,
label: __("ID_SPARTA_ACTION_UNLOCK"),
action: function() {
t.openWarbondsConfirm(e.props.weapon).then(o.action(function() {
if (e.loadoutConfig) {
var t = e.loadoutConfig.purchaseItemByGuid(e.props.weapon.code);
e.purchaseItemLoading = !0, t.onError(o.action(function() {
e.sparta.stores.popupManager.alert(__("ID_SPARTA_LOADOUT_COULDNT_UNLOCK_ITEM", !0).replace("[[name]]", e.props.weapon.name)), 
e.purchaseItemLoading = !1;
})), t.onSuccess(o.action(function(t) {
e.props.gating && (e.props.gating.canBeBought = !1, e.props.gating.canBeEquipped = !0);
var n = __("ID_SPARTA_LOADOUT_COULDNT_UNLOCK_ITEM", !0);
t && (n = __("ID_SPARTA_LOADOUT_ITEM_UNLOCKED", !0)), e.sparta.stores.popupManager.alert(n.replace("[[name]]", e.props.weapon.name)), 
e.purchaseItemLoading = !1;
}));
} else e.sparta.stores.popupManager.alert(__("ID_SPARTA_LOADOUT_COULDNT_UNLOCK_ITEM", !0).replace("[[name]]", e.props.weapon.name));
}));
}
});
},
enumerable: !0,
configurable: !0
}), a.prototype.render = function() {
return this.props.canUnlock ? r.createElement(x, {
input: this.warBondInput,
isLoading: this.purchaseItemLoading,
content: this.renderContent
}) : null;
}, a.contextTypes = I.SpartaContext.contextTypes, e.__decorate([ o.observable ], a.prototype, "purchaseItemLoading", void 0), 
a = e.__decorate([ i.observer ], a);
}(r.Component), x = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.focusItem = A.focusSystem.create(r, w.autoId("WeaponUnlockOption")), r;
}
return e.__extends(n, t), n.prototype.getInput = function() {
return this.props.input;
}, n.prototype.render = function() {
if (C.SpartaGlobals.bundleIsConsole) return null;
var t, n = this.focusItem.isHovered || this.focusItem.isFocused, o = this.props.input;
return t = this.props.isLoading ? r.createElement("surface", {
style: E.WeaponUnlockOptionsStyles.spinnerContainer
}, r.createElement(m.Spinner, {
small: !0
})) : r.createElement(h.Pressable, {
input: o,
focusItem: this.focusItem
}, r.createElement("surface", {
style: E.WeaponUnlockOptionsStyles.buttonBackground({
isActive: n
})
}), r.createElement("surface", {
style: E.WeaponUnlockOptionsStyles.buttonBorder
}), r.createElement("surface", {
style: E.WeaponUnlockOptionsStyles.buttonContent
}, this.props.content && this.props.content(n))), r.createElement("surface", e.__assign({}, this.focusItem.hooks, {
style: E.WeaponUnlockOptionsStyles.button
}), t);
}, n = e.__decorate([ a.input, i.observer ], n);
}(r.Component), k = function() {
v.close("confirmWarbondsUnlock");
}, L = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.confirmAction = function() {
k(), n.props.onConfirm();
}, n.cancelAction = function() {
k(), n.props.onClose();
}, n;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = T.merge2(E.WeaponUnlockOptionsStyles.popupContainer, S.uiState.viewportScaleStyle), t = r.createElement("surface", null, r.createElement(y.Button, {
name: "4b697b2d:339:27",
text: __("ID_SPARTA_ACTION_CONFIRM"),
style: E.WeaponUnlockOptionsStyles.popupButton,
action: this.confirmAction
}), r.createElement(y.Button, {
name: "4b697b2d:345:27",
text: __("ID_SPARTA_ACTION_CANCEL"),
style: E.WeaponUnlockOptionsStyles.popupButton,
action: this.cancelAction
})), n = this.props.weapon.images.Png256xANY || "";
return r.createElement("surface", {
style: E.WeaponUnlockOptionsStyles.popupDock
}, r.createElement("surface", {
style: e
}, r.createElement("surface", {
style: E.WeaponUnlockOptionsStyles.popupInner
}, r.createElement(u.Text, {
size: "L",
value: __("ID_SPARTA_ACTION_UNLOCK_ITEM").toUpperCase(),
style: E.WeaponUnlockOptionsStyles.popupTitle
}), r.createElement("surface", {
style: E.WeaponUnlockOptionsStyles.popupImage({
texture: n
})
}), r.createElement(u.Text, {
size: "M",
value: this.props.weapon.name,
style: E.WeaponUnlockOptionsStyles.popupName
}), r.createElement(u.Text, {
size: "S",
value: this.props.weapon.description,
style: E.WeaponUnlockOptionsStyles.popupDescription
}), r.createElement("surface", {
style: b.CommonStyles.flexRow
}, r.createElement(u.Text, {
size: "M",
value: this.props.weapon.price + "",
style: E.WeaponUnlockOptionsStyles.popupPrice
}), r.createElement("surface", {
style: E.WeaponUnlockOptionsStyles.warBond({
size: f.LINE_HEIGHTS.M
})
}))), C.SpartaGlobals.bundleIsPC && t));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.WarbondsUnlockConfirm = L, t.warbondsConfirmButtons = function(e, t) {
return [ new c.Input({
key: l.Keys.Accept,
label: __("ID_SPARTA_ACTION_CONFIRM"),
action: function() {
k(), e();
}
}), new c.Input({
key: l.Keys.Decline,
label: __("ID_SPARTA_ACTION_CANCEL"),
action: function() {
k(), t();
}
}) ];
}, t.openWarbondsConfirm = function(e) {
return new Promise(function(n, o) {
v.display(new g.Popup({
content: r.createElement(L, {
onConfirm: n,
onClose: o,
weapon: e
}),
id: "confirmWarbondsUnlock",
fullScreen: !0,
containContent: !1,
createButtons: !1,
inputs: t.warbondsConfirmButtons(n, o)
}));
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WeaponUnlockOptionsStyles"), a = function() {
function e() {}
return e.hrLine = o.wrap(function() {
return o.style({
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: o.Grid.getHeight(.5),
marginBottom: o.Grid.getHeight(.5)
}, "62fe01d6:16:31");
}), e.warBond = o.stylefunc(function() {
return o.style({
texture: o.bbUrl("/sparta/assets/career/icon-warbonds-8de69417.png")
}, "62fe01d6:26:14");
}, function(e) {
return o.dynamicStyle({
height: e.size,
width: e.size,
color: e.isActive ? "#000000" : void 0
}, "62fe01d6:30:55");
}), e.button = o.wrap(function() {
return o.style({
marginBottom: o.Grid.GUTTER
}, "62fe01d6:38:31");
}), e.buttonBorder = o.wrap(function() {
return o.style({
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 5,
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
}, "62fe01d6:44:37");
}), e.buttonBackground = o.stylefunc(function() {
return o.style({
flex: 1,
position: "absolute",
top: 0,
left: 0,
bottom: 0,
right: 0
}, "62fe01d6:60:14");
}, function(e) {
return o.dynamicStyle({
backgroundColor: e.isActive ? "#ffffff" : void 0
}, "62fe01d6:69:40");
}), e.buttonContent = o.wrap(function() {
return o.style({
zOffset: 2,
padding: o.Grid.spacer(2)
}, "62fe01d6:75:38");
}), e.popupDock = o.wrap(function() {
return o.style({
flex: 1,
justifyContent: "center",
alignItems: "center"
}, "62fe01d6:82:34");
}), e.popupInner = o.wrap(function() {
return o.style({
marginTop: 5 * o.Grid.GUTTER,
marginBottom: 5 * o.Grid.GUTTER,
alignItems: "center"
}, "62fe01d6:90:35");
}), e.popupContainer = o.wrap(function() {
return o.style({
alignItems: "center",
width: o.Grid.getWidth(14)
}, "62fe01d6:98:39");
}), e.popupTitle = o.wrap(function() {
return o.style({
marginBottom: 2 * o.Grid.GUTTER
}, "62fe01d6:105:35");
}), e.popupName = o.wrap(function() {
return o.style({
marginBottom: o.Grid.GUTTER
}, "62fe01d6:111:34");
}), e.popupPrice = o.wrap(function() {
return o.style({
marginRight: o.Grid.GUTTER
}, "62fe01d6:117:35");
}), e.popupDescription = o.wrap(function() {
return o.style({
marginBottom: 3 * o.Grid.GUTTER,
textAlign: "center",
textAlignForRTL: "center",
width: o.Grid.getWidth(8)
}, "62fe01d6:123:41");
}), e.popupButton = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(6),
marginTop: 2 * o.Grid.GUTTER
}, "62fe01d6:132:36");
}), e.popupImage = o.stylefunc(function() {
return o.style({
width: 256,
height: o.Grid.getHeight(20),
marginTop: 2 * o.Grid.GUTTER,
marginBottom: 2 * o.Grid.GUTTER,
textureMode: "contain"
}, "62fe01d6:140:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "62fe01d6:148:38");
}), e.spinnerContainer = o.wrap(function() {
return o.style({
alignItems: "center",
justifyContent: "center",
padding: 10
}, "62fe01d6:154:41");
}), e = r.__decorate([ i.style ], e);
}();
t.WeaponUnlockOptionsStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
}), t.flattenArray = function e(t) {
for (var n = [], r = 0, o = t; r < o.length; r++) {
var i = o[r];
Array.isArray(i) ? n.push.apply(n, e(i)) : n.push(i);
}
return n;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WeaponFocusPaneStyles"), a = function() {
function e() {}
return e.weaponImageWrapper = o.wrap(function() {
return o.style({
height: 180,
justifyContent: "center",
alignItems: "center"
}, "841dded1:7:43");
}), e.weaponImage = o.wrap(function() {
return o.style({
flexDirection: "row",
height: 256,
width: 256,
textureAlign: [ .5, .5 ]
}, "841dded1:15:36");
}), e.weaponName = o.wrap(function() {
return o.style({
marginBottom: o.Grid.getHeight(2),
textAlignForRTL: "left"
}, "841dded1:24:35");
}), e.weaponDescription = o.wrap(function() {
return o.style({
textLineSpacing: o.Constants.LINE_HEIGHTS.S,
marginBottom: 3 * o.Grid.GUTTER,
textAlignForRTL: "left"
}, "841dded1:31:42");
}), e.usageStatsContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between"
}, "841dded1:39:44");
}), e.usageStatsHeading = o.wrap(function() {
return o.style({
marginBottom: 5
}, "841dded1:46:42");
}), e.statsLine = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
marginBottom: o.Grid.GUTTER,
alignItems: "center"
}, "841dded1:52:34");
}), e.statsTableKey = o.wrap(function() {
return o.style({
color: "#ffffff",
width: 140
}, "841dded1:61:38");
}), e.hrLine = o.wrap(function() {
return o.style({
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: o.Grid.getHeight(.5),
marginBottom: o.Grid.getHeight(.5)
}, "841dded1:68:31");
}), e.fireModeContainer = o.wrap(function() {
return o.style({
flexDirection: "row"
}, "841dded1:77:42");
}), e.fireMode = o.wrap(function() {
return o.style({
width: 23,
height: 15,
marginLeft: 10,
textureMode: "contain",
textureAlign: [ 0, .5 ],
opacity: .5
}, "841dded1:83:33");
}), e.fireModeEnabled = o.wrap(function() {
return o.style({
opacity: 1
}, "841dded1:94:40");
}), e.noLocalBounds = o.wrap(function() {
return o.style({
localBounds: !1
}, "841dded1:100:38");
}), e.starContainer = o.wrap(function() {
return o.style({
zOffset: 10,
flexDirection: "row",
alignItems: "center"
}, "841dded1:106:38");
}), e.star = o.wrap(function() {
return o.style({
width: o.Grid.getHeight(2),
height: o.Grid.getHeight(2),
texture: o.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: o.Grid.GUTTER / 2,
color: "#ff9900"
}, "841dded1:114:29");
}), e.progressInfoWrapper = o.wrap(function() {
return o.style({
flexDirection: "row",
marginBottom: 2 * o.Grid.GUTTER
}, "841dded1:125:44");
}), e.progressData = o.wrap(function() {
return o.style({
flex: 3,
textAlign: "right"
}, "841dded1:132:37");
}), e.progressLabel = o.wrap(function() {
return o.style({
flex: 4
}, "841dded1:139:38");
}), e.unlockContainer = o.wrap(function() {
return o.style({
marginBottom: 2 * o.Grid.GUTTER
}, "841dded1:145:40");
}), e.unlockTitle = o.wrap(function() {
return o.style({
marginTop: o.Grid.GUTTER,
marginBottom: o.Grid.GUTTER
}, "841dded1:151:36");
}), e.criteria = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
marginBottom: o.Grid.GUTTER
}, "841dded1:158:33");
}), e.criteriaCheckbox = o.wrap(function() {
return o.style({
marginRight: o.Grid.GUTTER,
alignSelf: "flex-start"
}, "841dded1:166:41");
}), e.nameSizing = o.wrap(function() {
return o.style({
flex: 2,
paddingRight: o.Grid.GUTTER,
textAlignForRTL: "left"
}, "841dded1:173:35");
}), e.expansionInfo = o.wrap(function() {
return o.style({
marginBottom: o.Grid.GUTTER
}, "841dded1:181:38");
}), e = r.__decorate([ i.style ], e);
}();
t.WeaponFocusPaneStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(211), a = o.Template("CareerWeaponsGadgetsStyle"), s = function() {
function e() {}
return e.tableHeight = o.value(function() {
return i.CareerSectionStyle.tableHeight - o.Grid.getHeight(3);
}, "abedfc5b:18:25"), e.container = o.wrap(function() {
return o.style({
flexDirection: "row",
alignItems: "center",
marginBottom: o.Grid.spacer(2),
marginLeft: o.Grid.spacer()
}, "abedfc5b:20:34");
}), e.rankImage = o.stylefunc(function() {
return o.style({
width: o.Grid.spacer(3),
height: o.Grid.spacer(3),
marginRight: o.Grid.spacer()
}, "abedfc5b:30:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "abedfc5b:36:38");
}), e.text = o.wrap(function() {
return o.style({
marginRight: o.Grid.spacer()
}, "abedfc5b:42:29");
}), e.progressBar = o.wrap(function() {
return o.style({
texture: o.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
borderRadius: [ 1, 1, 1, 1 ],
padding: 3,
marginRight: o.Grid.spacer(),
width: o.Grid.getWidth(2),
marginTop: 2
}, "abedfc5b:48:36");
}), e.arrowImage = o.wrap(function() {
return o.style({
width: .4 * o.Grid.spacer(1.5),
height: o.Grid.spacer(1.5),
texture: o.bbOfflineUrl("/sparta/assets/career/icon-kitrank-progress-e2571d51.png"),
marginRight: o.Grid.spacer()
}, "abedfc5b:61:35");
}), e.progressText = o.wrap(function() {
return o.style({
marginLeft: o.Grid.spacer()
}, "abedfc5b:70:37");
}), e = r.__decorate([ a.style ], e);
}();
t.CareerWeaponsGadgetsStyle = s;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(8), a = n(6), s = n(86), u = n(299), l = n(19), c = n(143), p = n(225), d = n(17), f = n(5), m = n(33), h = {
image: {
height: i.getHeight(29),
textureMode: "contain",
marginBottom: i.spacer(2)
},
name: f.StaticStyle.create({
marginBottom: i.spacer(),
textAlignForRTL: "left"
}, "e644fa79:22:10"),
progressBar: f.StaticStyle.create({
marginBottom: i.spacer(2)
}, "e644fa79:28:17"),
progressSpecContainer: {
flexDirection: "row",
marginBottom: i.spacer(2),
justifyContent: "space-between"
},
progressText: {
color: "#EEEEEE"
},
dependencies: {
marginBottom: i.spacer(2)
},
dependencyImage: {
textureMode: "contain",
width: 100,
height: 100,
alignSelf: "center"
},
dependencySpecContainer: {
flexDirection: "row",
justifyContent: "space-between"
},
dependencyText: f.StaticStyle.create({
marginTop: i.spacer(),
marginBottom: i.spacer(),
opacity: .66
}, "e644fa79:55:20"),
criterias: {
marginBottom: i.spacer(2)
},
criteriaSpecContainer: {
flexDirection: "row",
justifyContent: "space-between",
marginBottom: i.spacer(2)
},
criteriaText: {
color: "#EEEEEE"
},
stagesContainer: {
marginBottom: i.spacer(2)
},
stageCheckbox: {}
}, g = f.StaticStyle.create({
marginRight: i.spacer(2)
}, "e644fa79:338:14"), y = f.StaticStyle.create({
marginRight: 0
}, "e644fa79:339:14"), S = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "item", {
get: function() {
return this.props.selectionState.item;
},
enumerable: !0,
configurable: !0
}), n.prototype.isCurrentMedal = function(e) {
return e.hasOwnProperty("currentProgression");
}, Object.defineProperty(n.prototype, "progression", {
get: function() {
var e = this.item;
return e ? this.isCurrentMedal(e) && e.currentProgression || e.progression : void 0;
},
enumerable: !0,
configurable: !0
}), n.prototype.renderProgress = function() {
if (!this.item) return r.createElement("surface", null);
var e = this.progression ? this.progression.percentage : 0;
this.progression && this.progression.unlocked && this.progression.valueNeeded > 0 && this.props.useContinuousProgression && (e = this.progression.valueAcquired % this.progression.valueNeeded / this.progression.valueNeeded);
return r.createElement("surface", null, r.createElement(s.ProgressBar, {
completed: e,
style: f.merge2(h.progressBar, f.DynamicStyle.create({
width: this.props.width
}, "e644fa79:130:54"))
}), this.renderProgressDescription());
}, n.prototype.renderProgressDescription = function() {
var t = this.item;
if (!t) return r.createElement("surface", null);
var n = t.stages, o = l.isRTLLanguage(), s = t instanceof u.CurrentMedal, p = e.__assign({}, h.progressText, {
flex: 2,
textAlignForRTL: "left",
marginRight: o ? i.spacer() : 0
}), f = r.createElement(a.Text, {
size: "S",
value: t.description,
style: p
});
if (n && n.length > 0) {
var g;
this.isCurrentMedal(t) ? g = t.currentStageCode : this.progression && this.progression.valueAcquired < n.length && (g = n[this.progression.valueAcquired].code);
var y = -1, S = n.map(function(e, t) {
g && g === e.code && -1 === y && (y = t);
var n = y === t, u = e.progression, p = !!u && u.valueAcquired === u.valueNeeded, f = s && n ? 1 : .66, h = n && s ? m.TextType.EMPHASIS : m.TextType.NORMAL, S = {
opacity: f,
paddingTop: i.spacer() / 2,
marginLeft: o ? i.spacer() : 0,
marginRight: o ? 0 : i.spacer()
}, v = s ? r.createElement("surface", {
key: "checkbox",
style: S
}, r.createElement(c.Checkbox, {
value: p
})) : void 0, _ = {
flexDirection: "row",
justifyContent: o ? "flex-end" : "flex-start",
opacity: f,
marginBottom: i.spacer()
}, b = {
flex: 1,
flexWrap: "wrap",
justifyContent: o ? "flex-end" : "flex-start"
}, T = {
width: i.spacer(3),
opacity: f,
marginLeft: o ? i.spacer() : 0,
marginRight: o ? 0 : i.spacer()
};
return r.createElement("surface", {
key: "stage-" + e.code,
style: _
}, l.localeRearrange([ v, r.createElement(a.Text, {
key: "index",
value: (t + 1).toString() + ".",
size: "S",
type: h,
style: T
}), r.createElement("surface", {
key: "name",
style: b
}, r.createElement(a.Text, {
value: e.name,
size: "S",
type: h,
style: d.CommonStyles.leftAlignTextRTL
})) ]));
});
return r.createElement("surface", {
style: [ h.stagesContainer, {
width: this.props.width
} ]
}, S);
}
var v = this.progression;
if (v && v.unlocked && this.props.useContinuousProgression && v.valueNeeded > 0) {
var _ = v.valueAcquired % v.valueNeeded;
v = e.__assign({}, v, {
valueAcquired: _
});
}
var b = v && 0 !== v.valueNeeded ? r.createElement(a.Text, {
size: "S",
value: v.valueAcquired + "/" + v.valueNeeded
}) : null, T = o ? b : f, E = o ? f : b;
return r.createElement("surface", {
style: [ h.progressSpecContainer, {
width: this.props.width
} ]
}, T, E);
}, n.prototype.renderDependencies = function() {
var e = this;
return this.item && this.item.dependencies ? r.createElement("surface", {
style: h.dependencies
}, this.item.dependencies.map(function(t, n) {
return r.createElement("surface", {
key: n
}, r.createElement("surface", {
style: [ h.dependencyImage, {
texture: t.images && t.images.Small
} ]
}), r.createElement("surface", {
style: h.dependencySpecContainer
}, r.createElement(a.Text, {
type: m.TextType.EMPHASIS,
size: "S",
value: t.name
}), r.createElement(a.Text, {
type: m.TextType.EMPHASIS,
size: "S",
value: "x" + (t.progression ? t.progression.valueAcquired : 0)
})), r.createElement(a.Text, {
size: "XS",
value: t.description,
style: f.merge2(h.dependencyText, f.DynamicStyle.create({
width: e.props.width
}, "e644fa79:291:69"))
}));
})) : r.createElement("surface", null);
}, n.prototype.renderCriterias = function() {
var t = this;
return this.item && this.item.criterias ? r.createElement("surface", {
style: h.criterias
}, this.item.criterias.map(function(n, o) {
var s = n.progression ? n.progression.valueAcquired : 0, u = n.progression ? n.progression.valueNeeded : 0;
return r.createElement("surface", {
style: h.criteriaSpecContainer,
key: o
}, r.createElement(a.Text, {
size: "S",
value: n.name,
style: e.__assign({}, h.criteriaText, {
width: t.props.width,
paddingRight: i.spacer(3)
})
}), r.createElement(a.Text, {
size: "S",
value: s + "/" + u
}));
})) : r.createElement("surface", null);
}, n.prototype.render = function() {
if (!this.item) return r.createElement("surface", null);
var e = {
opacity: .66,
textAlignForRTL: "left",
marginBottom: i.spacer(),
marginRight: l.isRTLLanguage() ? i.spacer() : 0
}, t = l.isRTLLanguage() ? g : y, n = void 0 !== this.item.xp && 0 !== this.item.xp && r.createElement(a.Text, {
value: this.item.xp + __("ID_SPARTA_GENERIC_XP"),
size: "S",
style: e
}), o = this.item.expansions && this.item.expansions[0] && this.item.expansions[0].license, s = o ? r.createElement(p.PremiumTreatment, {
expansion: o,
showExpansionName: !0
}) : null;
return r.createElement("surface", {
style: f.DynamicStyle.wrapLegacyStyle({
width: this.props.width
}, "e644fa79:348:29")
}, r.createElement("surface", {
style: [ h.image, {
texture: this.item.images && this.item.images.Small
} ]
}), r.createElement(a.Text, {
size: "M",
value: this.item.name,
style: f.merge2(h.name, t)
}), s, n, this.renderProgress(), this.renderDependencies(), this.renderCriterias());
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.MedalFocusPane = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(8), a = n(6), s = n(86), u = n(61), l = n(19), c = n(1476), p = n(5), d = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "category", {
get: function() {
return this.props.selectionState.category;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "item", {
get: function() {
return this.props.selectionState.item;
},
enumerable: !0,
configurable: !0
}), n.prototype.isAccessory = function(e) {
return e.hasOwnProperty("vehicleStats");
}, n.prototype.renderProgression = function(e, t) {
var n, o = t.valueAcquired + "/" + t.valueNeeded;
return this.isAccessory(e) && e.category && (n = r.createElement(a.Text, {
value: (e.category + " " + __("ID_SPARTA_CAREER_SCORE")).toLocaleUpperCase(),
size: "S",
style: c.VehicleFocusPaneStyles.progressLabel
})), r.createElement("surface", null, r.createElement(s.ProgressBar, {
style: p.DynamicStyle.create({
width: i.getWidth(this.props.widthGridCells)
}, "b7312e3b:58:28"),
height: "M",
completed: t.percentage
}), t.valueNeeded > 0 && r.createElement("surface", {
style: c.VehicleFocusPaneStyles.progressInfoWrapper
}, n, r.createElement(a.Text, {
value: o,
size: "S",
style: c.VehicleFocusPaneStyles.progressData
})));
}, n.prototype.renderStars = function(e) {
var t = !!e.star && 100 === e.star.timesAquired, n = t ? "#ff9900" : "#ffffff", o = t ? 100 : e.star && e.star.timesAquired;
return r.createElement(l.LocaleRearrange, {
style: c.VehicleFocusPaneStyles.statsLine
}, r.createElement(a.Text, {
key: "label",
value: __("ID_SPARTA_CAREER_DETAILS_STARS"),
size: "S"
}), r.createElement("surface", {
key: "value",
style: c.VehicleFocusPaneStyles.starContainer
}, r.createElement("surface", {
style: c.VehicleFocusPaneStyles.star({
color: n
})
}), r.createElement(a.Text, {
color: n,
value: "" + o,
size: "S"
})));
}, n.prototype.renderStats = function(e) {
var t = {
kills: e.values && e.values.kills ? e.values.kills : 0,
destroyed: e.values && e.values.destroyed ? e.values.destroyed : 0,
seconds: e.values && e.values.seconds ? e.values.seconds : 0
}, n = l.isRTLLanguage() ? void 0 : c.VehicleFocusPaneStyles.wideStatsTable, o = u.formatThousands(t.kills || 0), i = u.formatThousands(t.destroyed || 0), s = Math.round(t.seconds / 60) + "", p = [];
return [ {
name: __("ID_SPARTA_CAREER_DETAILS_KILLS"),
value: o,
suffix: ""
}, {
name: __("ID_SPARTA_CAREER_DETAILS_DESTROYED"),
value: i,
suffix: ""
}, {
name: __("ID_SPARTA_CAREER_DETAILS_TIME_PLAYED"),
value: s,
suffix: __("ID_SPARTA_DATETIME_MIN")
} ].forEach(function(e) {
p.push(r.createElement("surface", {
style: c.VehicleFocusPaneStyles.hrLine,
key: "hl_" + e.name
})), p.push(r.createElement(l.LocaleRearrange, {
style: c.VehicleFocusPaneStyles.statsLine,
key: e.name
}, r.createElement(a.Text, {
key: "f",
value: e.name,
size: "S",
style: n
}), r.createElement(a.Text, {
key: "l",
value: e.value + " " + e.suffix,
size: "S"
})));
}), p.push(r.createElement("surface", {
style: c.VehicleFocusPaneStyles.hrLine,
key: "hlBottom"
})), this.item && this.item.star && (p.push(this.renderStars(this.item)), p.push(r.createElement("surface", {
style: c.VehicleFocusPaneStyles.hrLine,
key: "hlStars"
}))), p;
}, n.prototype.renderVehicleStats = function(e) {
var t = l.isRTLLanguage(), n = t ? void 0 : c.VehicleFocusPaneStyles.wideStatsTable, o = t ? c.VehicleFocusPaneStyles.wideStatsTableRTL : void 0, i = [];
return e.forEach(function(t, s) {
var p = t.name, d = u.formatThousands(t.kills || 0), f = s === e.length - 1 ? "emphasis" : "normal";
i.push(r.createElement("surface", {
style: c.VehicleFocusPaneStyles.hrLine,
key: "hl_" + p
})), i.push(r.createElement(l.LocaleRearrange, {
style: c.VehicleFocusPaneStyles.statsLine,
key: p
}, r.createElement(a.Text, {
key: "f",
value: p,
type: f,
size: "S",
style: n
}), r.createElement(a.Text, {
key: "l",
value: d,
style: o,
type: f,
size: "S"
})));
}), i.push(r.createElement("surface", {
style: c.VehicleFocusPaneStyles.hrLine,
key: "hlBottom"
})), this.item && this.item.star && (i.push(r.createElement("surface", {
style: c.VehicleFocusPaneStyles.hrLineExtraMargin,
key: "hlStars1"
})), i.push(this.renderStars(this.item)), i.push(r.createElement("surface", {
style: c.VehicleFocusPaneStyles.hrLine,
key: "hlStars2"
}))), i;
}, n.prototype.render = function() {
return this.item ? (this.item.progression && !this.item.progression.unlocked && (e = this.renderProgression(this.item, this.item.progression)), 
this.item.description && (t = r.createElement(a.Text, {
size: "S",
value: this.item.description,
style: c.VehicleFocusPaneStyles.vehicleDescription({
isRTL: l.isRTLLanguage()
})
})), this.isAccessory(this.item) && this.item.vehicleStats ? n = this.renderVehicleStats(this.item.vehicleStats) : this.item.stats && this.item.stats.values && (n = this.renderStats(this.item.stats)), 
r.createElement(i.Col, {
width: this.props.widthGridCells
}, r.createElement("surface", {
style: c.VehicleFocusPaneStyles.vehicleImage({
texture: this.item.images.Small
})
}), r.createElement(a.Text, {
value: this.item.name,
style: c.VehicleFocusPaneStyles.vehicleName
}), e, t, n)) : null;
var e, t, n;
}, n.defaultProps = {
widthGridCells: 7
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.VehicleFocusPane = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("VehicleFocusPaneStyles"), a = function() {
function e() {}
var t;
return t = e, e.vehicleName = o.wrap(function() {
return o.style({
marginBottom: o.Grid.getHeight(2),
textAlignForRTL: "left"
}, "e1b6b609:17:36");
}), e.vehicleImage = o.stylefunc(function() {
return o.style({
width: 256,
height: 100,
textureMode: "contain",
textureAlign: [ .5, .5 ],
marginBottom: 2 * o.Grid.GUTTER,
alignSelf: "center"
}, "e1b6b609:25:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "e1b6b609:34:39");
}), e.vehicleDescription = o.stylefunc(function() {
return o.style({
textLineSpacing: o.Constants.LINE_HEIGHTS.S,
marginBottom: 2 * o.Grid.GUTTER,
textAlignForRTL: "left"
}, "e1b6b609:41:14");
}, function(e) {
return o.dynamicStyle({
marginRight: e.isRTL ? o.Grid.spacer() : void 0
}, "e1b6b609:47:38");
}), e.hrLine = o.wrap(function() {
return o.style({
height: 1,
backgroundColor: "#FFFFFF33",
marginTop: o.Grid.getHeight(.5),
marginBottom: o.Grid.getHeight(.5)
}, "e1b6b609:53:31");
}), e.hrLineExtraMargin = o.wrap(function() {
return o.merge(t.hrLine, o.style({
marginTop: o.Grid.getHeight(2.5)
}, "e1b6b609:64:43"));
}), e.statsLine = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
marginBottom: 0,
alignItems: "center"
}, "e1b6b609:71:34");
}), e.wideStatsTable = o.wrap(function() {
return o.style({
color: "#ffffff",
flex: 1,
marginRight: o.Grid.spacer(2)
}, "e1b6b609:80:39");
}), e.wideStatsTableRTL = o.wrap(function() {
return o.style({
color: "#ffffff",
flex: 1,
marginLeft: o.Grid.spacer(2),
textAlignForRTL: "left"
}, "e1b6b609:88:42");
}), e.starContainer = o.wrap(function() {
return o.style({
zOffset: 10,
flexDirection: "row",
alignItems: "center"
}, "e1b6b609:97:38");
}), e.star = o.stylefunc(function() {
return o.style({
width: o.Grid.getHeight(2),
height: o.Grid.getHeight(2),
texture: o.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: o.Grid.GUTTER / 2
}, "e1b6b609:106:14");
}, function(e) {
return o.dynamicStyle({
color: e.color
}, "e1b6b609:114:36");
}), e.progressInfoWrapper = o.wrap(function() {
return o.style({
flexDirection: "row",
marginBottom: 2 * o.Grid.GUTTER,
marginTop: 2 * o.Grid.GUTTER
}, "e1b6b609:120:44");
}), e.progressData = o.wrap(function() {
return o.style({
flex: 2,
textAlign: "right"
}, "e1b6b609:128:37");
}), e.progressLabel = o.wrap(function() {
return o.style({
flex: 4
}, "e1b6b609:135:38");
}), e = t = r.__decorate([ i.style ], e);
}();
t.VehicleFocusPaneStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t, n) {
this.name = t.name || "", this.items = n, this.star = t.star, this.stats = t.stats || {}, 
this.sortOrder = t.sortOrder;
};
}();
t.VehicleCategory = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(124), o = function() {
return function e(t, n, o, i, a, s, u) {
this.id = t, this.name = n || "", this.description = o || "", this.images = i || {}, 
this.stats = a || {}, this.progression = new r.Progression({
unlocked: !0
}), this.packages = s || [], this.star = u;
};
}();
t.Vehicle = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(178), o = n(672), i = new (n(152).InternalStorage)("VehicleStore");
t.VehicleStore = r.createStore({
init: function() {
o.VehicleClient.listen(function(e, n) {
var r;
!function o(e) {
i.merge(e), t.VehicleStore.trigger(i.getState());
}((r = {}, r[e] = n, r));
});
},
getState: function() {
return i.getState();
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("CommonQuestionStyles"), a = function() {
function e() {}
return e.columnMain = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(14)
}, "21d3a122:7:24");
}), e.columnSidebar = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(10)
}, "21d3a122:11:27");
}), e.rowMain = i.wrap(function() {
return o.style({
height: o.Constants.isPC ? o.Grid.getHeight(88) : o.Grid.getHeight(68)
}, "21d3a122:15:21");
}), e.header = i.wrap(function() {
return o.style({
marginBottom: 35
}, "21d3a122:19:20");
}), e.heading = i.wrap(function() {
return o.style({
marginBottom: 15
}, "21d3a122:23:21");
}), e.paragraph = i.wrap(function() {
return o.style({
marginBottom: 25
}, "21d3a122:27:23");
}), e.surfaceMain = i.wrap(function() {
return o.style({}, "21d3a122:32:25");
}), e.surfaceSidebar = i.wrap(function() {
return o.style({
padding: [ 0, 30, 0, 0 ]
}, "21d3a122:34:28");
}), e.hiddenAnswer = i.wrap(function() {
return o.style({
opacity: 0
}, "21d3a122:38:26");
}), e.shownAnswer = i.wrap(function() {
return o.style({
opacity: 100,
position: "absolute",
left: 0,
top: 0
}, "21d3a122:42:25");
}), e = r.__decorate([ i.style ], e);
}();
t.CommonQuestionStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("PlayFirstStyles"), a = function() {
function e() {}
var t;
return t = e, e.aspectRatio = o.value(function() {
return o.Constants.isPC ? 1 : .75;
}, "3e92566e:7:25"), e.columnMain = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(13)
}, "3e92566e:9:24");
}), e.columnSidebar = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(10)
}, "3e92566e:13:27");
}), e.columnLegal = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(24),
padding: [ 0, o.Grid.getWidth(.8 * t.aspectRatio), 0, 0 ]
}, "3e92566e:17:25");
}), e.columnBorder = i.wrap(function() {
return o.style({}, "3e92566e:22:26");
}), e.rowMain = i.wrap(function() {
return o.style({
height: o.Constants.isPC ? o.Grid.getHeight(88) : o.Grid.getHeight(68)
}, "3e92566e:24:21");
}), e.rowLegal = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(3 * t.aspectRatio)
}, "3e92566e:28:22");
}), e.rowBorder = i.wrap(function() {
return o.style({
height: o.Grid.getHeight(.1)
}, "3e92566e:32:23");
}), e.surfaceMain = i.wrap(function() {
return o.style({}, "3e92566e:36:25");
}), e.surfaceSidebar = i.wrap(function() {
return o.style({
alignItems: "flex-start"
}, "3e92566e:38:28");
}), e.surfaceLegal = i.wrap(function() {
return o.style({
opacity: .33
}, "3e92566e:42:26");
}), e.header = i.wrap(function() {
return o.style({
marginBottom: 3 * o.Grid.GUTTER
}, "3e92566e:46:20");
}), e.list = i.wrap(function() {
return o.style({
marginBottom: 20
}, "3e92566e:50:18");
}), e.listItem = i.wrap(function() {
return o.style({
padding: [ 0, 0, 1.5 * o.Grid.GUTTER, 0 ]
}, "3e92566e:54:22");
}), e.videoItem = i.wrap(function() {
return o.style({}, "3e92566e:58:23");
}), e.listItemText = i.wrap(function() {
return o.style({
textLineSpacing: o.Constants.LINE_HEIGHTS.S
}, "3e92566e:62:26");
}), e.callToAction = i.wrap(function() {
return o.style({
width: 500,
marginTop: 2 * o.Grid.GUTTER
}, "3e92566e:66:26");
}), e = t = r.__decorate([ i.style ], e);
}();
t.PlayFirstStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("JoinBuyStyles"), a = function() {
function e() {}
return e.centerContainer = i.wrap(function() {
return o.style({
alignItems: "center"
}, "0267fcdc:7:29");
}), e.listContainer = i.wrap(function() {
return o.style({
marginTop: 5
}, "0267fcdc:11:27");
}), e.logoContainer = i.wrap(function() {
return o.style({
marginTop: 40
}, "0267fcdc:15:27");
}), e.ctaContainer = i.wrap(function() {
return o.style({
marginTop: 10,
alignItems: "center"
}, "0267fcdc:19:26");
}), e.spinnerContainer = i.wrap(function() {
return o.style({
marginTop: 100,
alignItems: "center"
}, "0267fcdc:24:30");
}), e.packartContainer = i.wrap(function() {
return o.style({
marginTop: 25,
marginBottom: 15
}, "0267fcdc:29:30");
}), e.step2Prices = i.wrap(function() {
return o.style({
flexDirection: "row",
marginTop: o.Grid.GUTTER
}, "0267fcdc:34:25");
}), e.step2Price = i.wrap(function() {
return o.style({
marginRight: 20,
alignSelf: "center"
}, "0267fcdc:39:24");
}), e.step2StrikePrice = i.wrap(function() {
return o.style({
opacity: .6,
alignSelf: "center"
}, "0267fcdc:44:30");
}), e.welcomeContainer = i.wrap(function() {
return o.style({
marginTop: 20
}, "0267fcdc:49:30");
}), e.messageContainer = i.wrap(function() {
return o.style({
marginTop: 20
}, "0267fcdc:53:30");
}), e.titleContainer = i.wrap(function() {
return o.style({
marginTop: 10
}, "0267fcdc:57:28");
}), e.columnRight = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(12)
}, "0267fcdc:61:25");
}), e.columnLeft = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(12)
}, "0267fcdc:65:24");
}), e.rowMain = i.wrap(function() {
return o.style({
height: o.Constants.isPC ? o.Grid.getHeight(88) : o.Grid.getHeight(68)
}, "0267fcdc:69:21");
}), e.surfaceLeft = i.wrap(function() {
return o.style({
padding: [ 0, 20, 0, 30 ],
alignItems: "center"
}, "0267fcdc:73:25");
}), e.surfaceRight = i.wrap(function() {
return o.style({
padding: [ 0, 30, 0, 20 ],
alignItems: "center"
}, "0267fcdc:78:26");
}), e.columnBorder = i.wrap(function() {
return o.style({
position: "absolute",
top: 0,
bottom: 0,
width: 2,
backgroundColor: "#ffffff",
opacity: .2
}, "0267fcdc:83:26");
}), e.legal = i.wrap(function() {
return o.style({
marginTop: 50,
opacity: .66
}, "0267fcdc:92:19");
}), e.listItem = i.wrap(function() {
return o.style({
marginTop: 15
}, "0267fcdc:97:22");
}), e.buttonContainer = i.wrap(function() {
return o.style({
margin: [ 20, 0, 0, 0 ]
}, "0267fcdc:101:29");
}), e.callToActionButton = i.wrap(function() {
return o.style({
width: (o.Constants.isPC, o.Grid.getWidth(8))
}, "0267fcdc:105:32");
}), e.note = i.wrap(function() {
return o.style({
marginTop: 20
}, "0267fcdc:109:18");
}), e.imageObjectPackart = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(5),
height: o.Grid.getWidth(5),
textureMode: "contain"
}, "0267fcdc:113:32");
}), e = r.__decorate([ i.style ], e);
}();
t.JoinBuyStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(676), o = n(677);
t.createTunguskaTheme = function i(e) {
var t = e.sparta.theme.createTheme("Tunguska", {
fontConfig: r.fontConfig
});
return t.components.ComCenter = o.ComCenter, t;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(6), a = n(21), s = n(1485), u = n(9), l = n(33), c = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e, t = this.props.state.expansionOpacityTween.getStyleClass("opacity");
return e = this.props.textContent ? o.createElement(i.Text, {
style: t,
size: a.TextSize.S,
type: l.TextType.EMPHASIS,
value: this.props.textContent.toUpperCase()
}) : o.createElement("surface", {
style: [ s.ComCenterHeaderStyles.headerContent, t ]
}, this.props.children), o.createElement("surface", {
style: s.ComCenterHeaderStyles.header
}, u.SpartaGlobals.bundleIsPC && o.createElement("surface", {
style: s.ComCenterHeaderStyles.headerIcon({
texture: this.props.icon
})
}), e);
}, t;
}(o.Component);
t.ComCenterHeader = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("ComCenterHeaderStyles"), a = function() {
function e() {}
return e.header = o.wrap(function() {
return o.style({
zOffset: 1,
paddingBottom: 2 * o.Grid.GUTTER,
flexDirection: "row",
alignItems: "center"
}, "cecba011:7:31");
}), e.headerIcon = o.stylefunc(function() {
return o.style({
width: 11,
height: 11,
marginRight: o.Grid.GUTTER
}, "cecba011:17:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "cecba011:23:39");
}), e.headerContent = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row",
flexWrap: "nowrap",
alignItems: "flex-start"
}, "cecba011:29:38");
}), e = r.__decorate([ i.style ], e);
}();
t.ComCenterHeaderStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(3), i = n(66), a = n(4), s = n(58), u = n(14), l = n(10), c = n(100), p = n(15), d = n(201), f = n(6), m = n(26), h = n(11), g = n(49), y = n(18), S = n(12), v = n(1487), _ = n(5), b = n(678), T = n(261), E = n(307), C = n(91), I = n(9), A = n(7), w = n(22), P = n(40), R = n(71), O = {
easing: [ .25, .1, .25, 1 ],
duration: 650
}, x = _.StaticStyle.create({
flex: 1
}, "a9d93fb4:405:44"), k = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = A.SpartaContext.getFromComponent(e), e.foldOffset = p.Animation.tween("a9d93fb4:76:34", 0, O), 
e.normalOpacity = p.Animation.tween("a9d93fb4:77:37", 1, O), e.foldOpacity = p.Animation.tween("a9d93fb4:78:35", 0, O), 
e.focusItem = e.sparta.twinkle.focus.create(e, i.autoId("friendItem")), e.isForceHighlighted = !1, 
e.contextMenuButton = r.createRef(), e.onOpen = function() {
return e.forceHighlight(!0);
}, e.onClose = function() {
return e.forceHighlight(!1);
}, e.onPosition = function() {
var t = e.contextMenuButton.current && e.contextMenuButton.current.bounds;
return t ? {
x: t.right,
y: t.bottom
} : {
x: 0,
y: 0
};
}, e;
}
return e.__extends(n, t), n.prototype.componentWillUnmount = function() {
this.foldOffset.destroy(), this.normalOpacity.destroy(), this.foldOpacity.destroy();
}, n.prototype.getInput = function() {
if (this.sparta.twinkle.focus.controllerMode && "PC" !== this.sparta.stores.inputRouter.currentInputType && this.focusItem.isFocused) return this.getInputList().all;
}, n.prototype.getInputList = function() {
var e, t = this, n = [], r = this.sparta.stores.partyStoreLoader.get(), o = this.sparta.stores.comCenterState.shouldUseGlobalActions;
if (this.props.state.canShowProfile && n.push(new S.Input({
key: h.Keys.Accept,
label: I.SpartaGlobals.bundleIsXBOXONE ? __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_GAMECARD", !0) : __("ID_SPARTA_LAYOUT_COMCENTER_SHOW_PROFILE", !0),
action: function() {
return g.showUserProfile(t.props.friend, "ComCenter");
}
})), r.canInviteUserToParty(this.props.friend)) {
var i = new S.Input({
key: h.Keys.Option3,
label: this.props.state.inviteToPartyText,
action: function() {
r.inviteToParty(t.props.friend, function(e) {
e && t.playFoldAnimation(__("ID_SPARTA_LAYOUT_COMCENTER_INVITE_SENT", !0).toUpperCase());
});
}
});
"partyInvite" === this.props.showAsAction ? e = {
shortLabel: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE", !0),
input: i
} : n.push(i);
}
var a = l.onlineState.sessionUser && l.onlineState.sessionUser.id === this.props.friend.id;
!o && a && r.canLeaveParty && n.push(new S.Input({
action: function() {
return r.leaveParty();
},
label: I.SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_COMCENTER_LEAVE_PARTY_PS4", !0) : __("ID_SPARTA_COMCENTER_LEAVE_PARTY_XB1", !0)
})), this.props.state.canInviteToServer(this.props.friend) && n.push(new S.Input({
key: h.Keys.Option4,
label: __("ID_SPARTA_LAYOUT_COMCENTER_INVITE_TO_GAME", !0),
action: function() {
t.props.state.inviteToServer(t.props.friend), t.playFoldAnimation(__("ID_SPARTA_LAYOUT_COMCENTER_INVITE_SENT", !0).toUpperCase());
}
}));
var s = this.props.friend.presence.server, p = this.props.friend.presence.state === c.UserPresenceStates.Offline, d = this.props.friend.presence.getServerGame(l.gameStore);
if (s && d && d.isEnabled && !p) {
if (this.props.state.canJoinServer(s, this.props.friend)) {
var f = new S.Input({
label: __("ID_SPARTA_ACTION_SERVER_JOIN", !0),
action: function() {
t.props.state.joinServer(s, t.props.friend), l.layoutVisibilityStore.setVisibilities({
comCenter: !1
});
}
});
"serverJoin" === this.props.showAsAction ? e = {
icon: u.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-join-black-d91ea425.png"),
input: f
} : n.push(f);
}
this.props.state.canJoinServer(s, this.props.friend, C.JoinRole.spectator) && n.push(new S.Input({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_SPECTATOR", !0),
action: function() {
t.props.state.joinServer(s, t.props.friend, C.JoinRole.spectator), l.layoutVisibilityStore.setVisibilities({
comCenter: !1
});
}
})), this.props.state.canJoinServer(s, this.props.friend, C.JoinRole.commander) && n.push(new S.Input({
label: __("ID_SPARTA_ACTION_SERVER_JOIN_COMMANDER", !0),
action: function() {
t.props.state.joinServer(s, t.props.friend, C.JoinRole.commander), l.layoutVisibilityStore.setVisibilities({
comCenter: !1
});
}
})), !this.props.state.isInGame && d.serverConfig.serverDetailsRoute && (n.push(new S.Input({
label: __("ID_SPARTA_ACTION_SERVER_INFO", !0),
action: function() {
y.gotoLocation(d.serverConfig.serverDetailsRoute + "?blazeGameId=" + s.gameId), 
l.layoutVisibilityStore.setVisibilities({
comCenter: !1
});
}
})), !l.entitlementStore.hasLoadedGame(d.gameId) || l.entitlementStore.hasOnlineAccess(d.gameId) || d.isCTE() || P.getBuildInfo().isCTE() || n.push(new S.Input({
label: __("ID_SPARTA_COMMERCE_OFFER_GAME_BUY", !0) + " " + d.displayName(),
action: function() {
y.gotoLocation(d.storeConfig.route), l.layoutVisibilityStore.setVisibilities({
comCenter: !1
});
}
})));
}
return this.props.disableInteractions && (n = []), {
action: e,
rest: n,
length: n.length + (e ? 1 : 0),
all: e ? [ e.input ].concat(n) : n
};
}, n.prototype.playFoldAnimation = function(e, t) {
var n = this;
void 0 === t && (t = 1500), this.foldText = e, this.normalOpacity.to(0), this.foldOpacity.to(1), 
this.foldOffset.promiseTo(-b.FriendItemStyles.friendItemHeight).then(function() {
setTimeout(function() {
n.normalOpacity.isDestroyed() || (n.normalOpacity.to(1), n.foldOpacity.to(0), n.foldOffset.promiseTo(0).then(function() {
return o.action(function() {
return n.foldText = void 0;
});
}));
}, t);
});
}, n.prototype.forceHighlight = function(e) {
var t = this;
this.props.state.isForceExpanded = e, e || (this.props.state.isLegacyExpanded = !0, 
setTimeout(o.action(function() {
t.props.state.isHovered || (t.props.state.isLegacyExpanded = !1);
}), 300)), this.isForceHighlighted = e;
}, n.prototype.render = function() {
var t, n, o = this.props.friend, i = this.focusItem.isFocusedOrHovered || this.isForceHighlighted, a = b.FriendItemStyles.text(i), u = o.presence.toString(), p = u && !o.spartaUserId.equals(l.onlineState.sessionUserId) ? r.createElement(f.Text, {
size: "XS",
value: u,
style: _.merge2(a, b.FriendItemStyles.statusText)
}) : void 0, m = this.getInputList();
"PC" === this.sparta.stores.inputRouter.currentInputType && m.length > 0 && i && (n = m.action && r.createElement(M, e.__assign({}, m.action, {
isHighlighted: i
})), t = m.rest.length > 0 && r.createElement(E.ContextMenuButton, {
dark: i,
ref: this.contextMenuButton,
onOpen: this.onOpen,
onClose: this.onClose,
align: T.Alignment.Right,
position: this.onPosition,
style: b.FriendItemStyles.button(i),
menuItems: T.toContextMenuItems(m.rest)
}));
var h = this.props.showContentOnlyWhileExpanded ? this.props.state.expansionOpacityTween.getStyleClass("opacity") : void 0, g = o.presence.state === c.UserPresenceStates.Offline && !i, y = this.sparta.stores.partyStoreLoader.get(), S = y.party && y.party.leader, C = S && o.spartaUserId.equals(S.spartaUserId) && r.createElement("surface", {
style: b.FriendItemStyles.leaderIcon(i)
}), I = this.props.showPremiumIndicator && r.createElement("surface", {
style: b.FriendItemStyles.premiumIcon
});
return r.createElement("surface", e.__assign({
style: b.FriendItemStyles.container
}, this.focusItem.hooks), r.createElement("surface", {
style: [ b.FriendItemStyles.inner, this.foldOffset.getStyleClass("translateY") ]
}, r.createElement("surface", {
style: [ b.FriendItemStyles.normal, this.normalOpacity.getStyleClass("opacity") ]
}, r.createElement("surface", {
style: b.FriendItemStyles.avatar
}, r.createElement(d.Avatar, {
size: "auto",
style: b.FriendItemStyles.avatarTexture(g),
user: o,
showPresence: !0
})), r.createElement("surface", {
style: [ b.FriendItemStyles.content(i), h ]
}, r.createElement("surface", {
style: b.FriendItemStyles.contentInner(g)
}, r.createElement(s.Marquee, {
style: x,
focusItem: this.focusItem,
scroll: i,
shuttle: !0
}, r.createElement("surface", {
style: b.FriendItemStyles.displayName
}, I, C, r.createElement(v.DisplayName, {
personaId: o.personaId,
name: o.displayName,
style: a
})), p))), t, n), r.createElement("surface", {
style: [ b.FriendItemStyles.content(!1), h, b.FriendItemStyles.fold, this.foldOpacity.getStyleClass("opacity") ]
}, r.createElement(f.Text, {
size: "XS",
value: this.foldText,
type: "emphasis",
style: b.FriendItemStyles.text(!1)
}))));
}, n.contextTypes = A.SpartaContext.contextTypes, n.defaultProps = {
showContentOnlyWhileExpanded: !0,
showAsAction: "serverJoin"
}, e.__decorate([ o.observable ], n.prototype, "foldText", void 0), e.__decorate([ o.observable ], n.prototype, "isForceHighlighted", void 0), 
e.__decorate([ o.action ], n.prototype, "playFoldAnimation", null), e.__decorate([ o.action ], n.prototype, "forceHighlight", null), 
n = e.__decorate([ a.observer, m.input ], n);
}(r.Component);
t.FriendItem = k;
var L = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.focusItem = w.focusSystem.create(r, i.autoId("listItem")), r.preloader = R.textureHandler.createPreloader(r), 
r.focusItem.onClick.listen(function() {
r.props.input.action && r.props.input.action();
}), r;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.props.texture && this.preloader.preload(this.props.texture, void 0), this.props.activeTexture && this.preloader.preload(this.props.activeTexture, void 0);
}, n.prototype.getInput = function() {
if (w.focusSystem.controllerMode && this.focusItem.isFocused) return [ this.props.input.extend({
key: h.Keys.Accept,
label: __("ID_SPARTA_ACTION_SELECT", !0)
}) ];
}, n.prototype.render = function() {
var t = this.focusItem.isFocusedOrHovered, n = b.FriendItemStyles.text(t), o = t && this.props.activeTexture || this.props.texture;
return r.createElement("surface", e.__assign({
style: b.FriendItemStyles.container
}, this.focusItem.hooks), r.createElement("surface", {
style: [ b.FriendItemStyles.avatar, b.FriendItemStyles.actionItem(t), _.DynamicStyle.maybeLegacyStyle(this.props.avatarStyle, "a9d93fb4:504:68") ]
}, r.createElement("surface", {
style: _.DynamicStyle.create({
texture: o,
zOffset: 1,
flex: 1
}, "a9d93fb4:508:37")
})), r.createElement("surface", {
style: [ b.FriendItemStyles.content(t), this.props.state.expansionOpacityTween.getStyleClass("opacity") ]
}, r.createElement(s.Marquee, {
scroll: t,
shuttle: !0
}, r.createElement(f.Text, {
size: "XS",
value: this.props.input.label,
type: "emphasis",
style: n
}))));
}, n = e.__decorate([ a.observer, m.input ], n);
}(r.Component);
t.SimpleItem = L;
var M = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.action = function() {
e.props.input && e.props.input.action && e.props.input.action();
}, e;
}
return e.__extends(n, t), n.prototype.getInput = function() {
if (w.focusSystem.controllerMode && this.props.isHighlighted) return [ this.props.input.extend({
key: h.Keys.Accept,
label: __("ID_SPARTA_ACTION_SELECT", !0)
}) ];
}, n.prototype.render = function() {
var e = this.props.icon ? r.createElement("surface", {
style: b.FriendItemStyles.buttonIcon({
texture: this.props.icon
})
}) : r.createElement(f.Text, {
value: this.props.shortLabel,
size: "S",
color: "#000000"
});
return r.createElement("surface", {
style: b.FriendItemStyles.button(this.props.isHighlighted || !1),
onClick: this.action
}, e);
}, n = e.__decorate([ m.input ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(4), i = n(140), a = n(69), s = n(6), u = n(195);
t.DisplayName = o.observer(function(e) {
var t, n = e.personaId, o = e.name, l = e.style;
if (n && u.platoonsFeatureFlags.platoons.isEnabled()) {
var c = a.platoonsStores.tagByPersonaId.get(n);
t = i.appendTag(o, c.value || "");
} else t = o;
return r.createElement(s.Text, {
size: "XS",
value: t,
type: "emphasis",
style: l
});
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(3), s = n(14), u = n(367), l = n(10), c = n(23), p = n(8), d = n(201), f = n(6), m = n(15), h = n(9), g = n(7), y = p.GUTTER, S = c.userBar.height;
t.styles = {
dock: {
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
},
container: {
zOffset: 10,
backgroundColor: "#00000001",
position: "absolute",
flex: 1,
height: S,
flexDirection: "row",
justifyContent: "flex-end",
alignItems: "center"
},
partySlot: {
marginLeft: y,
width: S,
height: S
},
partySlotAdd: {
flex: 1,
texture: s.bbOfflineUrl("/sparta/jsclient/builds/assets/icon-add-white-d6111a71.png")
},
textSlot: {
marginLeft: y,
padding: p.GUTTER,
minWidth: S,
height: S,
texture: s.bbOfflineUrl("/sparta/jsclient/builds/assets/button-border-94eb5b72.png"),
textureBorder: [ 2, 2, 2, 2 ],
selfOpacity: .7,
textureMode: "fill",
justifyContent: "center",
alignItems: "center",
flexDirection: "row"
},
friendsIcon: {
width: 44,
height: 30,
texture: s.bbOfflineUrl("/sparta/jsclient/builds/assets/friends-icon-84691f65.png"),
marginRight: -7
}
};
var v = function(e) {
function n() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = g.SpartaContext.getFromComponent(t), t.opacityTween = m.Animation.componentTween(t, "f0a6f6a4:89:50", h.SpartaGlobals.bundleIsPC ? 0 : 1), 
t.onCounterClick = function() {
return t.props.state.setHovered(!0);
}, t;
}
return r.__extends(n, e), n.prototype.componentWillMount = function() {
var e = this;
this.reaction(function() {
return e.isVisible;
}, function(t) {
e.opacityTween.to(t ? 1 : 0, u.slideOptions);
}, {
fireImmediately: !0
});
}, Object.defineProperty(n.prototype, "isVisible", {
get: function() {
var e = this.props.state, t = e.isEnabled, n = e.isExpanded, r = e.showUserBar;
return t && !n && r;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.sparta.theme.getTheme(this), n = [], r = {
opacity: this.opacityTween.getStyle(),
enableMouseEvents: h.SpartaGlobals.bundleIsPC && this.isVisible
};
if (this.props.state.showPartyInUserBar) {
for (var i = this.props.state.partyCategory.users, a = this.props.state.maxVisiblePartySlots, s = Math.max(0, i.length - a), u = 0; u < a; u++) {
var c = i.length > u ? i[u] : void 0, p = c ? void 0 : this.props.onInviteRequested;
n.push(o.createElement(_, {
key: "slot-" + u,
user: c,
onClick: p
}));
}
s > 0 && (n.splice(n.length - 1, 1), n.push(o.createElement(b, {
key: "hiddenMembers",
text: "+" + (s + 1)
})));
}
var d = {
marginLeft: y,
width: 30,
height: 30,
texture: this.sparta.inputButtonIcons.get(e).End
};
return o.createElement("surface", {
style: [ t.styles.container, this.props.style, r ]
}, n, o.createElement(b, {
key: "onlineCounter",
onClick: this.onCounterClick,
text: "" + l.friendStore.onlineFriends.length
}, function(e) {
return o.createElement("surface", {
style: [ t.styles.friendsIcon, {
color: e
} ]
});
}), h.SpartaGlobals.bundleIsConsole && o.createElement("surface", {
key: "icon",
style: d
}));
}, n.contextTypes = g.SpartaContext.contextTypes, r.__decorate([ a.computed ], n.prototype, "isVisible", null), 
n = r.__decorate([ i.observer ], n);
}(o.Component);
t.UserBar = v;
var _ = function(e) {
function n() {
var t = null !== e && e.apply(this, arguments) || this;
return t.isHovered = !1, t.opacityTween = m.Animation.tween("f0a6f6a4:168:36", .5), 
t.onMouseEnter = function() {
return t.setHoverState(!0);
}, t.onMouseLeave = function() {
return t.setHoverState(!1);
}, t;
}
return r.__extends(n, e), n.prototype.componentWillReceiveProps = function(e) {
e.user || this.opacityTween.to(this.isHovered ? 1 : .5, u.focusOptions);
}, n.prototype.componentWillUnmount = function() {
this.opacityTween.destroy();
}, n.prototype.setHoverState = function(e) {
this.isHovered = e, this.props.user || this.opacityTween.to(e ? 1 : .5, u.focusOptions);
}, n.prototype.render = function() {
return o.createElement("surface", {
style: t.styles.partySlot,
onClick: this.props.onClick,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave
}, this.props.user ? o.createElement(d.Avatar, {
size: t.styles.partySlot.height,
user: this.props.user
}) : o.createElement("surface", {
style: [ t.styles.partySlotAdd, {
opacity: this.opacityTween.getStyle()
} ]
}));
}, n = r.__decorate([ i.observer ], n);
}(o.Component), b = function(e) {
function n() {
var t = null !== e && e.apply(this, arguments) || this;
return t.textTween = m.Animation.tween("f0a6f6a4:216:33", "#ffffff"), t.bgTween = m.Animation.tween("f0a6f6a4:217:31", "#00000001"), 
t.onMouseEnter = function() {
return t.setHoverState(!0);
}, t.onMouseLeave = function() {
return t.setHoverState(!1);
}, t;
}
return r.__extends(n, e), n.prototype.componentWillUnmount = function() {
this.textTween.destroy(), this.bgTween.destroy();
}, n.prototype.setHoverState = function(e) {
this.textTween.to(e ? "#000000" : "#ffffff", u.focusOptions), this.bgTween.to(e ? "#ffffff" : "#00000001", u.focusOptions);
}, n.prototype.render = function() {
var e = "function" == typeof this.props.children ? this.props.children : function() {}, n = "string" == typeof this.props.text ? this.props.text : this.props.text();
return o.createElement("surface", {
style: t.styles.textSlot,
onClick: this.props.onClick,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave
}, o.createElement("surface", {
style: [ t.styles.dock, {
backgroundColor: this.bgTween.getStyle()
} ]
}), o.createElement(f.Text, {
value: n,
color: this.textTween.getStyle(),
size: "S",
type: "emphasis"
}), e(this.textTween.getStyle()));
}, n = r.__decorate([ i.observer ], n);
}(o.Component);
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(66), i = n(4), a = n(14), s = n(8), u = n(6), l = n(11), c = n(122), p = n(9), d = n(22), f = n(5), m = {
back: {
normal: a.bbOfflineUrl("/sparta/jsclient/builds/assets/left_white-03807e66.png"),
hover: a.bbOfflineUrl("/sparta/jsclient/builds/assets/left_black-fab2d5b9.png")
},
forward: {
normal: a.bbOfflineUrl("/sparta/jsclient/builds/assets/right_white-8a3f8212.png"),
hover: a.bbOfflineUrl("/sparta/jsclient/builds/assets/right_black-bdf62701.png")
}
}, h = {
container: {
zOffset: 1,
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center",
marginBottom: s.GUTTER
},
pageText: function(e) {
return {
marginLeft: s.GUTTER,
opacity: e
};
},
buttonContainer: {
flexDirection: "row"
},
arrowButton: function(e, t, n) {
return {
backgroundColor: t && !e && n ? "#ffffff" : "#ffffff01",
marginRight: s.GUTTER,
width: s.getHeight(p.SpartaGlobals.bundleIsPC ? 4 : 2),
height: s.getHeight(p.SpartaGlobals.bundleIsPC ? 4 : 2)
};
},
arrowSurface: function(e, t) {
return {
flex: 1,
opacity: e ? .5 : 1,
texture: t,
textureScale: p.SpartaGlobals.bundleIsPC ? .5 : 1,
textureAtlas: "SpartaCommonAtlas"
};
},
buttonBorder: {
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
zOffset: 1,
texture: a.bbOfflineUrl("/sparta/jsclient/builds/assets/card-border-af033134.png"),
textureMode: "fill",
textureBorder: [ 2, 2, 2, 2 ],
opacity: .2
}
}, g = f.StaticStyle.create({
marginLeft: 2 * s.GUTTER
}, "4d691c4e:142:32"), y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.gotoPreviousPage = function() {
e.props.state.friendStore.pagination.gotoPreviousPage(), e.props.onPageChanged();
}, e.gotoNextPage = function() {
e.props.state.friendStore.pagination.gotoNextPage(), e.props.onPageChanged();
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e, t = this.props.state.friendStore.pagination, n = __("ID_SPARTA_LAYOUT_COMCENTER_PAGER").replace("[[page]]", (t.currentPage + 1).toString()).replace("[[total]]", t.totalPages.toString());
return p.SpartaGlobals.bundleIsPC ? e = [ r.createElement(S, {
key: "prev",
disabled: !t.canShowPreviousPage,
icon: m.back,
action: this.gotoPreviousPage
}), r.createElement(S, {
key: "next",
disabled: !t.canShowNextPage,
icon: m.forward,
action: this.gotoNextPage
}) ] : (e = [], t.canShowPreviousPage && e.push(r.createElement(c.InputButton, {
key: "prev",
inputKey: l.Keys.Previous,
label: __("ID_SPARTA_LAYOUT_COMCENTER_GOBACK"),
action: this.gotoPreviousPage
})), t.canShowNextPage && e.push(r.createElement(c.InputButton, {
key: "next",
inputKey: l.Keys.Next,
label: __("ID_SPARTA_LAYOUT_COMCENTER_GOFORWARD"),
action: this.gotoNextPage,
style: g
}))), r.createElement("surface", {
style: h.container
}, r.createElement(u.Text, {
size: "S",
value: n,
style: h.pageText(this.props.state.expansionOpacityTween.getStyle())
}), r.createElement("surface", {
style: h.buttonContainer
}, e));
}, n.defaultProps = {
onPageChanged: function() {}
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.Pagination = y;
var S = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.focusItem = d.focusSystem.create(e, o.autoId("paginationButton")), e.onClick = function() {
!d.focusSystem.controllerMode && !e.props.disabled && e.props.action();
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var t = !d.focusSystem.controllerMode, n = t && this.focusItem.isHovered, o = n && !this.props.disabled ? this.props.icon.hover : this.props.icon.normal, i = t && r.createElement("surface", {
style: h.buttonBorder
});
return r.createElement("surface", e.__assign({}, t ? this.focusItem.hooks : {}, {
style: h.arrowButton(this.props.disabled, n, t),
onClick: this.onClick
}), i, r.createElement("surface", {
style: h.arrowSurface(this.props.disabled, o)
}));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(14), a = n(15), s = n(27), u = {
flare: {
zOffset: 100,
enableMouseEvents: !1,
position: "absolute",
height: 170,
width: 206,
texture: i.bbOfflineUrl("/sparta/assets/premium/flare-orange-grid-5872145e.png"),
layer: !0,
layerClip: !1
}
}, l = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.opacityTween = a.Animation.tween("02bf7ac6:28:36", 1), t;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
this.animateFlare(!1);
}, t.prototype.componentWillUnmount = function() {
clearTimeout(this.timeout), this.opacityTween.destroy();
}, t.prototype.animateFlare = function(e) {
var t = this, n = {
duration: 3e3,
easing: s.Easing.Linear,
delay: this.props.delay || 0
};
this.fadeUp = e, this.opacityTween.to(this.fadeUp ? 1 : this.props.transparency || .5, n), 
this.timeout = setTimeout(function() {
t.animateFlare(!t.fadeUp);
}, n.duration);
}, t.prototype.render = function() {
var e = {
left: this.props.left,
top: this.props.top || 0,
right: this.props.right,
opacity: this.opacityTween.getStyle()
};
return o.createElement("surface", {
style: [ u.flare, e ]
});
}, t;
}(o.Component);
t.PremiumFlare = l;
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(128), i = n(426), a = n(1), s = n(4), u = n(3), l = n(10), c = n(68), p = n(34), d = n(183), f = n(255), m = n(427), h = n(41), g = n(579), y = n(138), S = n(1492), v = n(113), _ = n(142), b = n(32), T = n(8), E = n(28), C = n(136), I = n(18), A = n(387), w = n(36), P = n(117), R = n(1493), O = n(9), x = n(386), k = n(7), L = n(42), M = n(22), D = e.get("ConfigureRSP");
function N(e) {
var t = "";
switch (e) {
case -32603:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_NAME_INVALID");
break;

case -32807:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_NAME_PROFANITY_RETRY");
break;

case -32808:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_DESCRIPTION_PROFANITY_RETRY");
break;

case -32809:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_PASSWORD_PROFANITY_RETRY");
break;

case -32810:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_MESSAGE_PROFANITY_RETRY");
break;

default:
t = __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG_CHECKOUT_RETRY");
}
return t;
}
var F = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = k.SpartaContext.getFromComponent(r), r.leftFocusGroup = r.sparta.twinkle.focus.createComponentGroup(r, "categoryLeft"), 
r.rightFocusGroup = r.sparta.twinkle.focus.createComponentGroup(r, "settingsRight"), 
r.saveButtonFocusGroup = r.sparta.twinkle.focus.createComponentGroup(r, "saveButton"), 
r.onBeforeLeave = function() {
return new Promise(function(e) {
r.hasConfigurationChanges ? function t(e) {
return e ? h.legacyConfirm(__("ID_SPARTA_COMMERCE_RSP_UNSAVED_CHANGES_DESC"), __("ID_SPARTA_COMMERCE_RSP_UNSAVED_CHANGES_HEADING"), __("ID_SPARTA_ACTION_CONTINUE"), __("ID_SPARTA_ACTION_CANCEL")) : Promise.resolve();
}(!0).then(function() {
e(!0);
}).catch(function() {
e(!1);
}) : e(!0);
});
}, r.internalSave = function() {
var e = {
name: "",
description: "",
message: "",
password: "",
bannerUrl: ""
}, t = [], n = r.config.getGroup("details");
if (n && (e = n.items.reduce(function(e, t) {
return e = Object.assign({}, e, t.toSetting());
}, {})), e.name = e.name.trim(), r.config.getGroup("mapRotation")) {
var o = r.config.getOption("mapRotation");
o instanceof f.MapRotationOption && (t = o.toSetting());
}
var i = [ "weaponClasses", "kits", "vehicles", "misc", "scales" ].reduce(function(e, t) {
var n = r.config.getGroup(t);
return n && (e[n.id] = n.items.reduce(function(e, t) {
return e = Object.assign({}, e, t.toSetting());
}, {})), e;
}, {}), a = Promise.resolve(), s = r.rspSettings.serverDetails;
if (O.SpartaGlobals.bundleIsXBOXONE && s) {
var u = e.password, l = s.serverSettings.password;
("" === l && "" !== u || "" !== l && "" === u) && (a = h.legacyConfirm(__("ID_SPARTA_COMMERCE_RSP_CONFIG_PASSWORD_PROTECTION_CHANGED_DESC"), __("ID_SPARTA_COMMERCE_RSP_CONFIG_PASSWORD_PROTECTION_CHANGED"), __("ID_SPARTA_ACTION_YES"), __("ID_SPARTA_ACTION_CANCEL")));
}
a.then(function() {
r.setState({
isSaving: !0
}), r.save(e, t, i);
});
}, r.rightFocusGroup.behavior = L.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | L.GroupBehavior.VERTICAL | L.GroupBehavior.WRAP_AROUND, 
r.leftFocusGroup.behavior = L.GroupBehavior.REMEMBER_LAST_FOCUSED_MEMBER | L.GroupBehavior.VERTICAL, 
r.leftFocusGroup.handleDirection(L.Direction.Right, y.handleIfNotTheSameGroup(r.leftFocusGroup, function(e, t) {
return r.rightFocusGroup.navigateToGroup(e, t);
})), r.leftFocusGroup.handleDirection(L.Direction.Down, y.handleIfNotTheSameGroup(r.leftFocusGroup, function(e, t) {
return r.saveButtonFocusGroup.navigateToGroup(e, t);
})), r.saveButtonFocusGroup.handleDirection(L.Direction.Up, y.handleIfNotTheSameGroup(r.saveButtonFocusGroup, function(e, t) {
return r.leftFocusGroup.navigateToGroup(e, t);
})), r.state = {
isLoading: !0,
isAvailable: !0,
isSaving: !1
}, r.load().then(function() {
if (r.buildConfig(), !r.config) throw new Error("Unable to build config");
r.onLoadingComplete();
}).catch(function() {
r.setState({
isLoading: !1,
isAvailable: !1
});
}), r.focusAncestor = r.sparta.twinkle.focus.createAncestor("rentedserverform"), 
r;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "hasConfigurationChanges", {
get: function() {
return !!this.config && this.config.groups.map(function(e) {
return e.items.filter(function(e) {
return e.modified;
});
}).filter(function(e) {
return e.length;
}).length > 0;
},
enumerable: !0,
configurable: !0
}), t.prototype.gotoLocationAfterSave = function(e) {
this.deregisterOnBeforeLeaveHandler && this.deregisterOnBeforeLeaveHandler(), I.gotoLocation(e);
}, t.prototype.componentWillUnmount = function() {
this.focusAncestor.destroy();
}, t.prototype.onLoadingComplete = function() {
this.setState({
isLoading: !1,
isAvailable: !0
}), this.deregisterOnBeforeLeaveHandler && this.deregisterOnBeforeLeaveHandler(), 
this.deregisterOnBeforeLeaveHandler = l.locationStore.onBeforeLeave(this.onBeforeLeave);
}, t.prototype.onCategoryItemFocused = function(e) {
this.activeCategory = e;
}, t.prototype.onFocus = function(e) {
this.sparta.twinkle.focus.controllerMode && this.onCategoryItemFocused(e);
}, t.prototype.listItemTrigger = function(e) {
if (this.activeCategory = e, this.sparta.twinkle.focus.controllerMode) {
var t = this.rightFocusGroup.members[0];
this.sparta.twinkle.focus.setAsFocused(t, L.FocusSource.Auto, !0);
}
}, t.prototype.getSubLabel = function(e) {
return e.value;
}, t.prototype.getCategoryItems = function() {
var e = this;
return this.config && this.config.groups ? this.config.groups.map(function(t) {
return a.createElement(c.Focusable, {
id: "categories",
key: t.id,
group: e.leftFocusGroup,
onFocus: e.onFocus.bind(e, t)
}, function(n) {
return a.createElement(_.ListItem, {
focusItem: n,
id: t.id,
key: t.id,
label: t.label,
scrollLabel: !0,
subLabel: e.getSubLabel.bind(e, t),
isActive: e.activeCategory && e.activeCategory.id === t.id,
onTrigger: e.listItemTrigger.bind(e, t)
});
});
}) : [];
}, t.prototype.saveAssociatedPlatoon = function(e) {
var t = this.props.viewLocation.args.gameId, n = this.config.getOption("platoon");
if (n instanceof f.ObjectOption) {
var r = n.setting.value.guid, o = n.initialSetting.value.guid;
r !== o && A.associatePlatoonClient.request({
game: t,
serverId: e,
guid: r
}).onSuccess(function() {
r ? w.trackPlatoonRentedServedAssociated(r) : w.trackPlatoonRentedServedDisassociated(o);
});
}
}, t.prototype.isSavingEnabled = function() {
if (!this.config) return !1;
var e = !0, t = this.config.getOption("pingSiteAlias");
return t instanceof f.ObjectOption && (e = t.setting.value.capacity > 0), e;
}, t.prototype.hideLoadingStatus = function() {
this.setState({
isSaving: !1,
isLoading: !1
});
}, t.prototype.render = function() {
var e = this, t = T.getHeight(O.SpartaGlobals.bundleIsPC ? 80 : 60), n = T.getHeight(O.SpartaGlobals.bundleIsPC ? 0 : 4);
return a.createElement(S.StoreLoadingState, {
available: this.state.isAvailable,
loading: this.state.isLoading || this.state.isSaving
}, a.createElement(b.Template, {
tallContent: !0,
scrollContent: !1
}, a.createElement(T.Row, {
surfaceProps: this.focusAncestor.hooks
}, a.createElement(T.Col, {
width: 6
}, a.createElement(p.Scroller, {
style: {
height: t
},
controller: !1
}, a.createElement(v.List, {
divider: "item",
items: this.getCategoryItems(),
autoActivateItems: M.focusSystem.controllerMode,
showActiveIndicator: !0
})), a.createElement(c.Focusable, {
id: "saveButton",
group: this.saveButtonFocusGroup,
groupIndex: 0
}, function(t) {
return a.createElement(E.Button, {
name: "0cdbfc3b:468:51",
text: e.getSaveButtonText(),
focusItem: t,
style: {
marginTop: n
},
disabled: !e.isSavingEnabled(),
action: e.internalSave
});
})), a.createElement(T.Col, {
style: {
margin: [ 0, 2 * T.GUTTER, 0, T.getWidth(1) ]
}
}, a.createElement("surface", {
style: {
height: t,
marginBottom: n
}
}, a.createElement(R.FocusGroupProvider, {
focusGroup: this.rightFocusGroup
}, a.createElement(m.CategoryConfigurator, {
config: this.config,
category: this.activeCategory
}))), this.rspSettings && this.renderPurchaseInfo()))));
}, t.contextTypes = k.SpartaContext.contextTypes, r.__decorate([ u.observable ], t.prototype, "activeCategory", void 0), 
r.__decorate([ u.action ], t.prototype, "onCategoryItemFocused", null), r.__decorate([ u.action ], t.prototype, "listItemTrigger", null), 
t;
}(a.Component), G = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.load = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = this.props.viewLocation.args.serverId, r = l.gameStore.getGame(t);
if (!r) return Promise.reject(new Error("No game with id: " + t));
var a = r.rspConfig, s = i.fragmentToPromise(o.gameDataStore.get(t));
return Promise.all([ i.fetchRSPTemplate(t), i.fetchServerDetails(t, n), i.fetchPlatoonOptions(this.sparta), i.fetchPlatoonSetting(this.sparta, t, n), s ]).then(function(n) {
var r = n[0], o = n[1], i = n[2], s = n[3], u = n[4];
e.rspSettings = new g.RSPSettings(t, o, u, r, a, i, s);
});
}, t.prototype.buildConfig = function() {
var e = this.rspSettings.serverDetails;
if (e) {
var t = e.serverSettings, n = e.mapRotations.find(function(e) {
return e.mapRotationId === t.mapRotationId;
});
if (this.rspSettings.hasTemplate && this.rspSettings.hasGameData && this.rspSettings.hasServer) {
var r = [ i.buildBaseSettingsConfig(this.sparta, this.rspSettings, t), i.buildMapRotationConfig(this.rspSettings, n && n.maps), i.buildWeaponClassesConfig(this.rspSettings, t.customGameSettings.weaponClasses), i.buildKitsConfig(this.rspSettings, t.customGameSettings.kits), i.buildVehiclesConfig(this.rspSettings, t.customGameSettings.vehicles), i.buildMiscConfig(this.rspSettings, t.customGameSettings.misc), i.buildScalesConfig(this.rspSettings, t.customGameSettings.scales) ];
this.rspSettings.platoonOptions.length > 0 && r.push(i.buildPlatoonsConfig(this.rspSettings, this.rspSettings.platoonSetting)), 
this.config = new f.RSPConfig(this.rspSettings, r);
}
}
}, t.prototype.getSaveButtonText = function() {
return __("ID_SPARTA_COMMERCE_RSP_RENTED_SAVE_BUTTON");
}, t.prototype.renderPurchaseInfo = function() {
return a.createElement("surface", null);
}, t.prototype.save = function(e, t, n) {
var r = this, o = this.rspSettings.serverDetails;
if (o) {
var a = this.props.viewLocation.args.gameId, s = this.props.viewLocation.args.serverId, u = o.serverSettings.mapRotationId, c = new i.MapRotation(t, u), p = i.updateServer(a, s, e, c, n);
p.onSuccess(function() {
r.saveAssociatedPlatoon(s);
var e = l.gameStore.getGame(a);
r.gotoLocationAfterSave(e ? e.serverConfig.serverListRoute + "?tab=rented" : "");
}), p.onError(function(e) {
D.error(e);
var t = N(e.code || 0);
r.hideLoadingStatus(), P.coreEventStore.spartaErrorMessage(t, __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG"));
});
} else {
D.error("Critical pre-conditions not met; the user should never end up here (famous last words).");
var d = N(0);
P.coreEventStore.spartaErrorMessage(d, __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG"));
}
}, t = r.__decorate([ s.observer ], t);
}(F);
t.ConfigureExistingServer = G;
var U = function(e) {
function t(t, n) {
return e.call(this, t, n) || this;
}
return r.__extends(t, e), t.prototype.load = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = this.props.viewLocation.args.serverId, r = l.gameStore.getGame(t);
if (!r) return Promise.reject(new Error("No game with id: " + t));
var a = r.rspConfig, s = i.fragmentToPromise(o.gameDataStore.get(t)), u = this.sparta.stores.resumablePurchasesStore.get(t, [ "rsp" ]), c = i.fragmentToPromise(u);
return Promise.all([ c, i.completePendingPurchases(this.sparta.stores.resumablePurchasesStore, t), i.fetchRspOffers(t), i.fetchRSPTemplate(t), i.fetchServerDetails(t, n), s, m.fetchRentedServers(t) ]).then(function(n) {
var r = n[0], o = (n[1], n[2]), i = n[3], s = n[4], u = n[5], l = r && r.orphaned[0] || void 0;
e.rspSettings = new g.RSPSettings(t, s, u, i, a, [], null, o, l);
});
}, t.prototype.buildConfig = function() {
this.rspSettings.hasOffers && (this.config = new f.RSPConfig(this.rspSettings, [ i.buildRentalPeriodConfig(this.rspSettings) ].filter(function(e) {
return !!e;
})));
}, t.prototype.getSaveButtonText = function() {
return this.rspSettings.orphanedPurchase ? __("ID_SPARTA_COMMERCE_RSP_RESUME_PURCHASE_SAVE_BUTTON") : __("ID_SPARTA_COMMERCE_RSP_RENEW_SAVE_BUTTON");
}, t.prototype.renderPurchaseInfo = function() {
return a.createElement(d.PS4StoreContent, null, a.createElement(m.PurchaseInfo, {
gameId: this.props.viewLocation.args.gameId,
display: [ "resume" ],
purchase: this.rspSettings.orphanedPurchase
}));
}, t.prototype.save = function(e, t, n) {
var r = this, o = this.rspSettings.serverDetails, a = this.config.getOption("days");
if (o && o.server && o.server.pingSiteAlias && o.server.serverId && a instanceof f.ObjectOption) {
var s = o.server.serverId, u = this.props.viewLocation.args.gameId, c = a.setting.value.offer, p = o.server.pingSiteAlias;
i.purchaseServer(s, c, p, this.rspSettings.orphanedPurchase).then(function() {
var e = l.gameStore.getGame(u);
x.trackRSPEvent("RenewServer", "Success"), r.gotoLocationAfterSave(e ? e.serverConfig.serverListRoute + "?tab=rented" : "");
}).catch(function(e) {
e && (D.error(e), x.trackRSPEvent("RenewServer", "Failure")), r.hideLoadingStatus();
});
} else {
D.error("Critical pre-conditions not met; the user should never end up here (famous last words).");
var d = N(0);
P.coreEventStore.spartaErrorMessage(d, __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG"));
}
}, t = r.__decorate([ s.observer ], t);
}(F);
t.RenewExpiredServer = U;
var B = function(e) {
function t(t, n) {
return e.call(this, t, n) || this;
}
return r.__extends(t, e), t.prototype.load = function() {
var e = this, t = this.props.viewLocation.args.gameId, n = l.gameStore.getGame(t);
if (!n) return Promise.reject(new Error("No game with id: " + t));
var r = n.rspConfig, a = i.fragmentToPromise(o.gameDataStore.get(t)), s = this.sparta.stores.resumablePurchasesStore.get(t, [ "rsp" ]), u = i.fragmentToPromise(s);
return Promise.all([ u, i.completePendingPurchases(this.sparta.stores.resumablePurchasesStore, t), i.fetchRspOffers(t), i.fetchRspPingSites(t), i.fetchRSPTemplate(t), i.fetchPlatoonOptions(this.sparta), a, m.fetchRentedServers(t) ]).then(function(n) {
var o = n[0], i = (n[1], n[2]), a = n[3], s = n[4], u = n[5], l = n[6], c = o && o.orphaned[0] || void 0;
e.rspSettings = new g.RSPSettings(t, void 0, l, s, r, u, null, i, c, a, C.PingSiteStore.getState()[t]);
});
}, t.prototype.buildConfig = function() {
if (this.rspSettings.hasGameData && this.rspSettings.hasOffers && this.rspSettings.hasPingSites && this.rspSettings.hasTemplate) {
var e = [ i.buildBaseSettingsConfig(this.sparta, this.rspSettings), i.buildMapRotationConfig(this.rspSettings), i.buildWeaponClassesConfig(this.rspSettings), i.buildKitsConfig(this.rspSettings), i.buildVehiclesConfig(this.rspSettings), i.buildMiscConfig(this.rspSettings), i.buildScalesConfig(this.rspSettings), i.buildPingSiteConfig(this.rspSettings), i.buildRentalPeriodConfig(this.rspSettings) ];
this.rspSettings.platoonOptions.length > 0 && e.splice(7, 0, i.buildPlatoonsConfig(this.rspSettings)), 
this.config = new f.RSPConfig(this.rspSettings, e);
}
}, t.prototype.getSaveButtonText = function() {
return this.rspSettings.orphanedPurchase ? __("ID_SPARTA_COMMERCE_RSP_RESUME_PURCHASE_SAVE_BUTTON") : __("ID_SPARTA_COMMERCE_RSP_PURCHASE_SAVE_BUTTON");
}, t.prototype.renderPurchaseInfo = function() {
var e = this.props.viewLocation.args.gameId;
return a.createElement(d.PS4StoreContent, null, a.createElement(m.PurchaseInfo, {
gameId: e,
display: [ "resume", "servers" ],
purchase: this.rspSettings.orphanedPurchase
}));
}, t.prototype.save = function(e, t, n) {
var r = this, o = this.props.viewLocation.args.gameId, a = this.config.getOption("days"), s = this.config.getOption("pingSiteAlias");
if (a instanceof f.ObjectOption && s instanceof f.ObjectOption) {
var u = a.setting.value.offer, c = s.setting.value.alias;
i.purchaseServer("0", u, c, this.rspSettings.orphanedPurchase).then(function(a) {
var s = l.gameStore.getGame(o);
x.trackRSPEvent("PurchaseServer", "Success");
var u = new i.MapRotation(t), c = i.updateServer(o, a, e, u, n);
c.onSuccess(function() {
r.saveAssociatedPlatoon(a), r.gotoLocationAfterSave(s ? s.serverConfig.serverListRoute + "?tab=rented" : "");
}), c.onError(function(e) {
D.error(e);
var t = N(e.code || 0);
P.coreEventStore.spartaErrorMessage(t, __("ID_SPARTA_COMMERCE_RSP_ERROR_CONFIG")), 
r.gotoLocationAfterSave(s ? s.serverConfig.serverListRoute + "?tab=rented" : "");
});
}).catch(function(e) {
x.trackRSPEvent("PurchaseServer", "Failure"), D.error(e), r.hideLoadingStatus();
});
}
}, t = r.__decorate([ s.observer ], t);
}(F);
t.PurchaseNewServer = B;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(32), i = n(39), a = n(29), s = n(572), u = n(4), l = n(22), c = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.componentDidUpdate = function(e) {
!this.props.loading && e.loading && !l.focusSystem.focusedItem && l.focusSystem.controllerMode && l.focusSystem.triggerRecalculation();
}, n.prototype.render = function() {
var e = this.props.available;
return this.props.loading ? r.createElement(o.Template, {
tallContent: !0
}, r.createElement("surface", {
style: s.CommerceStyles.loadingStateContainer
}, r.createElement(i.EmptyState, null, r.createElement(a.Spinner, {
large: !0
})))) : e ? this.props.children || null : r.createElement(o.Template, {
tallContent: !0
}, r.createElement("surface", {
style: s.CommerceStyles.loadingStateContainer
}, r.createElement(i.EmptyState, {
text: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_TEXT"),
subText: __("ID_SPARTA_COMMERCE_EMPTY_NOCONTENT_SUBTEXT")
})));
}, n = e.__decorate([ u.observer ], n);
}(r.Component);
t.StoreLoadingState = c;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(85), a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.getChildContext = function() {
return {
providedFocusGroup: this.props.focusGroup
};
}, t.prototype.render = function() {
return this.props.children ? o.Children.only(this.props.children) : null;
}, t.childContextTypes = {
providedFocusGroup: i.object
}, t;
}(o.Component);
t.FocusGroupProvider = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(453), a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement(i.TunguskaBattlepackGet, {
isStore: !0
});
}, t;
}(o.Component);
t.TunguskaBattlepackStore = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(18), s = n(8), u = n(6), l = n(86), c = n(461), p = n(606), d = n(31), f = n(50), m = n(17), h = n(5), g = n(9), y = n(40), S = {
dock: {
position: "absolute",
left: 0,
right: 0,
bottom: 0,
top: 0,
justifyContent: "center",
alignItems: "center"
},
image: {
width: g.SpartaGlobals.bundleIsPC ? 142 : 185,
height: s.getHeight(12),
textureMode: "contain"
},
unopened: h.StaticStyle.create({
position: "absolute",
left: s.spacer(2),
bottom: 0,
paddingLeft: 10,
paddingRight: 10,
paddingTop: 7,
paddingBottom: 7,
backgroundColor: "#ff9900"
}, "e1e0e648:36:14"),
unopenedCount: h.StaticStyle.create({
zOffset: 1
}, "e1e0e648:47:19")
}, v = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.props.data;
return e.unopened ? o.createElement("surface", {
style: S.unopened
}, o.createElement(u.Text, {
size: "XS",
color: "#000000",
value: "x" + e.unopened,
style: S.unopenedCount
})) : o.createElement(l.ProgressBar, {
style: m.CommonStyles.dockBottom,
completed: e.progression.pointsEarned / 100
});
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.BattlepacksWidgetInfo = v;
var _ = i.observer(function(e) {
var t = e.onClick, n = e.data;
return o.createElement(c.HomeWidget, {
name: n.unopened ? "bp_unopened" : "bp_progression",
action: t,
overlay: o.createElement(v, {
data: n
})
}, o.createElement("surface", {
style: S.dock
}, o.createElement("surface", {
style: [ S.image, {
texture: n.rarestImage
} ]
})));
}), b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onClick = function() {
var e = t.fragment.value, n = "";
e && !e.unopened && (n = "?tab=get"), a.gotoLocation("tunguska/more/battlepacks" + n);
}, t;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "fragment", {
get: function() {
return p.battlepackWidgetStore.get(d.tunguskaGameId);
},
enumerable: !0,
configurable: !0
}), t.prototype.render = function() {
var e = this;
return y.getBuildInfo().isCTE() ? null : o.createElement(T, {
load: this.fragment
}, function(t) {
return o.createElement(_, {
data: t,
onClick: e.onClick
});
});
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.BattlepacksWidget = b;
var T = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onLoading = function() {
return o.createElement("surface", null);
}, t;
}
return r.__extends(t, e), t;
}(f.OptimisticFragmentLoader);
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(66), s = n(18), u = n(461), l = n(449), c = n(87), p = n(82), d = n(50), f = n(22), m = n(40).getBuildInfo().isCTE(), h = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
return p.tunguskaFeatureFlags.tunguskaAssignments.isEnabled() ? m && !p.tunguskaFeatureFlags.tunguskaCTEAssignments.isEnabled() ? o.createElement("surface", null) : c.tunguskaTrackedAssignmentStore.trackedAssignmentCode ? o.createElement(d.OptimisticFragmentLoader, {
load: c.tunguskaTrackedAssignmentStore.get()
}, function(e) {
return e ? o.createElement(g, {
assignment: e
}) : o.createElement("surface", null);
}) : o.createElement("surface", null) : o.createElement("surface", null);
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaAssignmentWidget = h;
var g = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.onClick = function() {
m ? s.gotoLocation("tunguska/cteassignments?autoFocusTracked") : s.gotoLocation("tunguska/soldier/assignments?autoFocusTracked");
}, n.focusItem = f.focusSystem.create(n, a.autoId("HomeAssignmentWidget")), n;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement(u.HomeWidget, {
focusItem: this.focusItem,
name: "assignments",
action: this.onClick
}, o.createElement(l.TrackedAssignmentInfo, {
assignment: this.props.assignment,
focusItem: this.focusItem
}));
}, t;
}(o.Component);
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(18), a = n(274), s = n(61), u = n(8), l = n(6), c = n(76), p = n(105), d = n(155), f = n(269), m = n(7), h = function(e) {
return s.formatDateDifference("[NUMDAYS] [NUMHOURS] [NUMMINUTES]", e, !0).toUpperCase();
}, g = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = m.SpartaContext.getFromComponent(r), r.onCardPress = function() {
r.sparta.stores.recommendationStore.handleCardInteraction(r);
var e = r.sparta.stores.gameStore.getGame(r.props.recommendation.game), t = e ? e.storeConfig.battlepacksRoute + "?tab=scrapexchange" : "";
i.gotoLocation(t);
}, r.focusItem = r.sparta.twinkle.focus.create(r, "scrap-rec-card-" + e.id), r.sparta.stores.recommendationStore.addLifecycleHooks(r, r.props.recommendation.item.name), 
r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "validUntil", {
get: function() {
return this.props.recommendation.validUntil;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "battlepackItem", {
get: function() {
return this.props.recommendation.item;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = new f.BattlepackItem(this.battlepackItem), t = r.createElement(a.TunguskaBattlepackSkinWithRarity, {
isActive: this.focusItem.isHovered || this.focusItem.isFocused,
item: e
});
return r.createElement(c.BasicCard, {
focusItem: this.focusItem,
overlay: t,
onPress: this.onCardPress,
size: this.props.size
}, r.createElement(l.Text, {
style: {
marginBottom: u.GUTTER,
opacity: .66
},
size: "XS",
value: __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SCRAPEXCHANGE_NEW_SKIN")
}), r.createElement(l.Text, {
size: "S",
value: this.battlepackItem.name || "",
style: {
marginBottom: u.GUTTER
}
}), r.createElement(l.Text, {
size: "XS",
value: this.battlepackItem.parentName || "",
style: {
marginBottom: 2 * u.GUTTER
}
}), r.createElement("surface", {
style: {
flexDirection: "row",
justifyContent: "space-between"
}
}, r.createElement(p.TunguskaBattlepackScraps, {
dark: this.focusItem.isFocused || this.focusItem.isHovered,
size: "XS",
value: this.battlepackItem.price + ""
}), r.createElement(d.Countdown, {
style: {
opacity: .66
},
format: h,
size: "XS",
targetTime: parseFloat(this.validUntil)
})));
}, n.contextTypes = m.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaScrapExchangeRecommendationCard = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(18), a = n(8), s = n(6), u = n(76), l = n(14), c = n(201), p = n(228), d = n(1499), f = n(7), m = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = f.SpartaContext.getFromComponent(r), r.onAction = function() {
r.sparta.stores.recommendationStore.handleCardInteraction(r), i.gotoLocation(r.route);
}, r.focusItem = r.sparta.twinkle.focus.create(r, "premium_card-" + e.id), r.sparta.stores.recommendationStore.addLifecycleHooks(r, r.props.recommendation.title), 
r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "heading", {
get: function() {
if (this.props.recommendation.title) return this.props.recommendation.title;
if (this.props.recommendation.freemiumRank) {
var e = this.props.recommendation.freemiumRank.rank, t = __("ID_SPARTA_CAREER_RANK").replace("[[RANK]]", e.number.toString());
return r.createElement(s.Text, {
style: {
marginBottom: a.GUTTER
},
size: "XS",
color: "#ff9900ff",
value: __("ID_SPARTA_FREEMIUM_UNLOCK_RANK").replace("[[RANK]]", t).toUpperCase()
});
}
return __("ID_SPARTA_CARD_OFFER");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "background", {
get: function() {
return this.props.recommendation.image || l.bbUrl("/sparta/assets/tunguska/bf1-premium-xp-recommendation-ba2319d1.png");
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "route", {
get: function() {
var e = this.sparta.stores.gameStore.getGame("tunguska"), t = this.props.recommendation;
return t.route || t.freemiumRank && e && e.storeConfig.route + "?tab=premium" || "tunguska/store/premiuminfo";
},
enumerable: !0,
configurable: !0
}), n.prototype.renderFriendAvatars = function(e) {
var t = e.map(function(e, t) {
return r.createElement(c.Avatar, {
user: e,
key: t,
size: 57,
style: d.PremiumRecoStyles.avatar
});
});
return r.createElement("surface", null, r.createElement(s.Text, {
value: __("ID_SPARTA_PREMIUM_FRIENDS").toUpperCase(),
size: "XXS",
type: "emphasis",
style: d.PremiumRecoStyles.headingText
}), r.createElement("surface", {
style: d.PremiumRecoStyles.avatarContainer
}, t));
}, n.prototype.renderRankBadge = function() {
return r.createElement("surface", {
style: {
position: "absolute",
top: 4 * a.GUTTER,
right: 0,
bottom: 0,
left: 0,
alignItems: "center"
}
}, r.createElement(p.RankBadge, {
gameId: "tunguska",
badgeSize: 120,
rankType: "freemium",
bottomInfoScale: 1,
skipAnimation: !0
}));
}, n.prototype.render = function() {
var e = this.props.recommendation.friends ? this.renderFriendAvatars(this.props.recommendation.friends.slice(0, 4)) : void 0, t = this.props.recommendation.freemiumRank ? this.renderRankBadge() : void 0;
return r.createElement(u.BasicCard, {
focusItem: this.focusItem,
background: this.background,
onPress: this.onAction,
size: this.props.size,
heading: this.heading,
description: __("ID_SPARTA_ACTION_GET_PREMIUM_PASS").toUpperCase()
}, e, t);
}, n.contextTypes = f.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaPremiumRecommendationCard = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("TunguskaRecoStyles"), a = function() {
function e() {}
return e.avatarContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
flexWrap: "wrap",
zOffset: 51,
marginBottom: o.Grid.GUTTER
}, "8b878681:7:40");
}), e.avatar = o.wrap(function() {
return o.style({
backgroundColor: [ 0, 0, 0, 124 ],
marginRight: o.Grid.GUTTER / 2
}, "8b878681:16:31");
}), e.headingText = o.wrap(function() {
return o.style({
opacity: .66,
marginBottom: o.Grid.GUTTER
}, "8b878681:23:36");
}), e = r.__decorate([ i.style ], e);
}();
t.PremiumRecoStyles = a;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(51), a = n(61), s = n(153), u = n(12), l = n(11), c = n(7), p = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = c.SpartaContext.getFromComponent(r), r.onAction = function() {
r.sparta.stores.recommendationStore.handleCardInteraction(r), i.enterOperations();
}, r.focusItem = r.sparta.twinkle.focus.create(r, "opcampaign_card-" + e.id), r.sparta.stores.recommendationStore.addLifecycleHooks(r, r.props.recommendation.heading), 
r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "heading", {
get: function() {
return this.props.recommendation.heading.toUpperCase();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "description", {
get: function() {
return this.props.recommendation.message.toUpperCase();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "campaign", {
get: function() {
return this.props.recommendation.name.toUpperCase();
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "background", {
get: function() {
return this.props.recommendation.image;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "timeLeftTxt", {
get: function() {
var e = this.props.recommendation, t = __("ID_SPARTA_TUNGUSKA_OPR_CAMPAIGN_CARD_TIME_LEFT"), n = 60 * parseInt(e.minutesRemaining, 10) * 1e3;
return a.formatDateDifference(t, n, !0).toUpperCase();
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = new u.Input({
label: __("ID_SPARTA_ACTION_PLAY").toUpperCase(),
key: l.Keys.Accept,
blockInputFor: 500,
action: this.onAction
});
return r.createElement(s.PlayCard, {
input: e,
joinButtonName: __("ID_SPARTA_ACTION_PLAY").toUpperCase(),
heading: this.heading,
focusItem: this.focusItem,
modes: this.description,
maps: this.campaign,
extraInfo: this.timeLeftTxt,
background: this.background,
size: this.props.size,
onPress: this.onAction
});
}, n.contextTypes = c.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaOperationsCampaignRecommendationCard = p;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(18), a = n(76), s = n(14), u = n(31), l = n(274), c = n(269), p = n(7), d = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = p.SpartaContext.getFromComponent(r), r.onPress = function() {
var e = r.sparta.stores.gameStore.getGame(u.tunguskaGameId);
r.sparta.stores.recommendationStore.handleCardInteraction(r), i.gotoLocation(e ? e.storeConfig.battlepacksRoute + "?tab=get" : "");
}, r.focusItem = r.sparta.twinkle.focus.create(r, "bprev_card-" + e.id), r.sparta.stores.recommendationStore.addLifecycleHooks(r, e.recommendation.item.name), 
r;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "timeEnding", {
get: function() {
var e = this.props.recommendation;
return parseInt(e.timeEnding, 10);
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e, t, n = this.props.recommendation.item ? new c.BattlepackItem(this.props.recommendation.item) : null;
e = this.timeEnding > 0 ? __("ID_SPARTA_TUNGUSKA_BATTLEPACK_REVISION_ENDING") : __("ID_SPARTA_TUNGUSKA_BATTLEPACK_REVISION_STARTED");
var o = "";
return n && (t = r.createElement(l.TunguskaBattlepackSkinWithRarity, {
isActive: this.focusItem.isHovered || this.focusItem.isFocused,
item: n
}), o = __("ID_SPARTA_TUNGUSKA_BATTLEPACKS_SKIN_FOR").replace("[[value]]", n.parentName || "")), 
r.createElement(a.BasicCard, {
focusItem: this.focusItem,
background: s.bbUrl("/sparta/assets/tunguska/battlepacks/bp-rev-reccomendation-bg-d353178b.png"),
onPress: this.onPress,
size: this.props.size,
overlay: t,
heading: o,
description: e.toUpperCase()
});
}, n.contextTypes = p.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.TunguskaBattlepackRevisionRecommendationCard = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(68), i = n(76), a = n(18), s = n(14), u = n(61), l = n(31), c = n(37), p = n(7), d = s.bbUrl("/sparta/jsclient/builds/assets/big_warbonds_image-6c5177c4.png"), f = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = p.SpartaContext.getFromComponent(r), r.onPress = function() {
r.sparta.stores.recommendationStore.handleCardInteraction(r);
var e = r.sparta.stores.gameStore.getGame(l.tunguskaGameId);
a.gotoLocation(e ? e.startRoute + "/soldier/kits" : "");
}, r.sparta.stores.recommendationStore.addLifecycleHooks(r, r.props.recommendation.title), 
r;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = this.props.recommendation.currentAmount, n = __("ID_SPARTA_TUNGUSKA_WARBONDS"), a = __("ID_SPARTA_TUNGUSKA_RECOMMENDATION_SPEND_WARBONDS_DESC").replace("[[warbonds]]", u.formatNumber(t));
return r.createElement(o.Focusable, {
id: "spend_warbonds_rec_card-" + this.props.id
}, function(t) {
return r.createElement(i.BasicCard, {
focusItem: t,
heading: n,
description: a,
icon: d,
size: e.props.size === c.CardSize.L ? c.CardSize.M : e.props.size,
onPress: e.onPress
});
});
}, n.contextTypes = p.SpartaContext.contextTypes, n;
}(r.Component);
t.TunguskaSpendWarbondsRecommendationCard = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1504), i = n(120), a = n(557), s = n(680), u = e.get("LegacyMatchmakingSession"), l = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.getGameFoundState = function() {
var e = this;
return {
id: i.MatchmakingState.GAME_FOUND,
transitions: [ i.MatchmakingState.SUCCESS, i.MatchmakingState.CANCELING ],
requirement: function() {
return !!e.blazeGameId;
},
onEnter: function() {
e.abortIfUserWantsToCancel(), e.blazeGameId && a.findOrRequestServerByGameId(e.blazeGameId, e.gameId).then(function(t) {
t ? e.setServer(t) : u.warn("Failed to find details for gameId " + e.blazeGameId + ",\n                                        proceeding with unlocalized data"), 
e.asyncTransition(e.stateId, i.MatchmakingState.SUCCESS);
});
}
};
}, t.prototype.getSuccessState = function() {
var e = this;
return {
id: i.MatchmakingState.SUCCESS,
transitions: [],
requirement: function() {
return !!e.server;
}
};
}, t.prototype.getStates = function() {
var e = this;
return [ this.getIdleState(), this.getNegotiatingState(), this.getPreflightState(i.MatchmakingState.STARTING), new s.StartingStateHandler(this, function() {
return e.findingGameStatusUpdates;
}, this.transition), new s.WaitingStateHandler(this, function() {
return e.findingGameStatusUpdates;
}, i.MatchmakingState.WAITING, i.MatchmakingState.GAME_FOUND, this.asyncTransition), this.getGameFoundState(), this.getSuccessState(), new s.ErrorStateHandler(this, u), new s.CancelingStateHandler(this, this.transition), this.getCanceledState() ];
}, t;
}(o.BaseMatchmakingSession);
t.LegacyMatchmakingSession = l;
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(e, __) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(573), i = n(120), a = n(680), s = e.get("BaseMatchmakingSession"), u = function(e) {
function t(t, n, r, o, a) {
void 0 === a && (a = i.MatchmakingSessionType.mp);
var s = e.call(this, t, n, r, o, a) || this;
return s.manager = t, s.dependencies = n, s;
}
return r.__extends(t, e), t.prototype.getIdleState = function(e) {
var t = this;
return void 0 === e && (e = i.MatchmakingState.NEGOTIATING), {
id: i.MatchmakingState.IDLE,
transitions: [ e ],
onEnter: function() {
setTimeout(function() {
t.transition(e);
}, 1);
}
};
}, t.prototype.getNegotiatingState = function() {
var e = this;
return {
id: i.MatchmakingState.NEGOTIATING,
transitions: [ i.MatchmakingState.PREFLIGHT, i.MatchmakingState.CANCELED, i.MatchmakingState.ERROR ],
onEnter: function() {
e.dependencies.joinFlowLoader.get().checkPartyLeadership().then(function() {
var t = e.manager.sessionInProgress;
t ? t.isCancelable ? e.dependencies.showStopMatchmaking(e.flowId).then(function() {
t.cancel({
joinNewSession: !0
}).then(function(t) {
t.wasCanceled ? e.transition(i.MatchmakingState.PREFLIGHT) : (e.error = new i.MatchmakingError(__("ID_SPARTA_MATCHMAKING_RESTART_FAILED"), __("ID_SPARTA_MATCHMAKING_FAILED_CANCELING"), "MatchmakingSession did not end in cancelled state"), 
e.transition(i.MatchmakingState.ERROR));
});
}).catch(function() {
e.transition(i.MatchmakingState.CANCELED);
}) : e.transition(i.MatchmakingState.CANCELED) : e.transition(i.MatchmakingState.PREFLIGHT);
}).catch(function(t) {
e.manager.raiseJoinError(e, t);
var n = t.alertOptions ? t.alertOptions.message : __("ID_SPARTA_MATCHMAKING_FAILED_ALREADY_IN_PROGRESS");
e.error = new i.MatchmakingError(__("ID_SPARTA_MATCHMAKING_FAILED"), n, "MatchmakingSession could not be started because an error was raised in the JoinFlow", !0), 
e.transition(i.MatchmakingState.ERROR);
});
}
};
}, t.prototype.getPreflightState = function(e) {
var t = this;
return {
id: i.MatchmakingState.PREFLIGHT,
transitions: [ e, i.MatchmakingState.ERROR, i.MatchmakingState.CANCELED ],
onEnter: function() {
t.dependencies.joinFlowLoader.get().performMatchmakingChecks(t.gameId).then(function() {
return t.dependencies.joinFlowLoader.get().checkMatchmakingOptions(t.gameId, t.filter, t.dependencies.gameDataStore.get(t.gameId).value);
}).then(function() {
t.transition(e);
}).catch(function(e) {
t.manager.raiseJoinError(t, e);
var n = e.alertOptions ? e.alertOptions.message : __("ID_SPARTA_MATCHMAKING_FAILED_PREFLIGHT");
t.error = new i.MatchmakingError(__("ID_SPARTA_MATCHMAKING_FAILED"), n, "MatchmakingSession could not be started because an error was raised in the JoinFlow", !0), 
t.transition(i.MatchmakingState.ERROR);
});
}
};
}, t.prototype.getCanceledState = function() {
return {
id: i.MatchmakingState.CANCELED,
transitions: []
};
}, t.prototype.getSuccessState = function() {
return {
id: i.MatchmakingState.SUCCESS,
transitions: []
};
}, t.prototype.getStates = function() {
var e = this;
return [ this.getIdleState(), this.getNegotiatingState(), this.getPreflightState(i.MatchmakingState.STARTING), new a.StartingStateHandler(this, function() {
return e.findingGameStatusUpdates;
}, this.transition), new a.WaitingStateHandler(this, function() {
return e.findingGameStatusUpdates;
}, i.MatchmakingState.WAITING, i.MatchmakingState.SUCCESS, this.asyncTransition), this.getSuccessState(), new a.ErrorStateHandler(this, s), new a.CancelingStateHandler(this, this.transition), this.getCanceledState() ];
}, t;
}(o.MatchmakingSession);
t.BaseMatchmakingSession = u;
}).call(this, n(20), n(2));
}, function(e, t, n) {
"use strict";
(function(__, e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(3), s = n(10), u = n(34), l = n(662), c = n(14), p = n(6), d = n(8), f = n(32), m = n(28), h = n(25), g = n(11), y = n(38), S = n(23), v = n(12), _ = n(36), b = n(50), T = n(93), E = n(102), C = n(18), I = n(82), A = n(9), w = n(5), P = n(47), R = w.StaticStyle.wrapLegacyStyleSheet({
headlineContainer: {
alignItems: "center",
justifyContent: "center"
},
calloutContainer: {
width: d.getWidth(5),
marginRight: d.getWidth(1)
},
image: {
width: 588,
height: 188,
marginBottom: 20,
marginTop: 20
},
spacer: {
marginBottom: 20,
marginTop: 20,
width: d.getWidth(20)
},
textCenter: {
textAlign: "center",
textAlignForRTL: "center"
},
textContainer: {
marginLeft: 10,
marginRight: 10
},
textRTL: {
textAlignForRTL: "left"
},
scrollerContainer: {
margin: [ 40, 40, 40, 40 ]
}
}, "09634338:34:15"), O = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.buttonAction = function() {
return e.showCTEPopupTerms(e.props.textKeyToShow);
}, e;
}
return r.__extends(n, t), n.prototype.showCTEPopupTerms = function(t) {
var n = this, r = d.getWidth(20), i = {
top: d.getHeight(2),
width: r,
height: S.safeZone.height - S.footer.height - d.getHeight(12)
};
l.cteClient.getLegalText.request({
game: "tunguska",
key: t
}).onSuccess(function(e) {
var t = o.createElement("surface", {
style: R.scrollerContainer
}, o.createElement(u.Scroller, {
controller: !0,
scrollbar: !0,
style: i,
key: "cte_scroller_legal"
}, o.createElement("surface", {
style: {
flexWrap: "wrap",
flexDirection: "row"
}
}, o.createElement(p.Text, {
size: "S",
value: e || void 0,
style: {
width: r,
textAlignForRTL: n.props.alignmentRTL,
paddingRight: d.GUTTER
}
}))));
h.display(new y.Popup({
content: t,
id: "linkTextCTEPopup",
fullScreen: !0,
inputs: [ new v.Input({
label: __("ID_SPARTA_ACTION_CLOSE"),
key: g.Keys.Decline
}) ]
}));
}).onError(function(t) {
e.info("Could not fetch terms text ", t);
}).onThrottled(function() {});
}, n.prototype.render = function() {
return o.createElement(m.Button, {
name: "09634338:135:23",
text: this.props.btnText,
action: this.buttonAction,
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(8)
}
});
}, n;
}(o.Component), x = new (function() {
function e() {
this.enabled = !0, this.text = "", this.done = !1;
}
return e.prototype.update = function(e, t) {
this.enabled = e, this.text = t;
}, e.prototype.setAsComplete = function(e) {
this.enabled = !1, this.done = !0, this.text = e;
}, r.__decorate([ a.observable ], e.prototype, "enabled", void 0), r.__decorate([ a.observable ], e.prototype, "text", void 0), 
r.__decorate([ a.observable ], e.prototype, "done", void 0), r.__decorate([ a.action ], e.prototype, "update", null), 
r.__decorate([ a.action ], e.prototype, "setAsComplete", null), e;
}())(), k = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return r.__extends(n, t), n.prototype.registerToCTE = function() {
x.update(!1, __("ID_SPARTA_CTE_ACTION_REGISTERING")), l.cteClient.register.request({
game: "callisto"
}).onSuccess(function() {
e.info("CTE register successfull!"), _.trackCteRegistrationSuccess(), x.setAsComplete(__("ID_SPARTA_CTE_ACTION_SUCCESS"));
}).onError(function(t) {
var n, r;
switch (e.info("CTE register error: ", t), t.message) {
case "PREMIUM_REQUIRED":
n = __("ID_SPARTA_CTE_REGISTER_ERR_PREMIUM_REQ_TITLE"), r = __("ID_SPARTA_CTE_ICE_REGISTER_ERR_PREMIUM_REQ_TEXT");
break;

case "CTE_REGISTRATION_FULL":
n = __("ID_SPARTA_CTE_REGISTER_ERR_REG_FULL_TITLE"), r = __("ID_SPARTA_CTE_ICE_REGISTER_ERR_REG_FULL_TEXT");
break;

case "CTE_REGISTRATION_CLOSED":
n = __("ID_SPARTA_CTE_REGISTER_ERR_REG_CLOSED_TITLE"), r = __("ID_SPARTA_CTE_ICE_REGISTER_ERR_REG_CLOSED_TEXT");
break;

case "HAS_CTE_ACCESS":
n = __("ID_SPARTA_CTE_REGISTER_ERR_HAS_ACCESS_TITLE"), r = __("ID_SPARTA_CTE_ICE_REGISTER_ERR_HAS_ACCESS_TEXT");
break;

default:
n = __("ID_SPARTA_CTE_REGISTER_ERR_GENERAL_TITLE"), r = __("ID_SPARTA_CTE_REGISTER_ERR_GENERAL_TEXT");
}
P.PopupManager.standardAlert(r, n), _.trackCteRegistrationError(t), x.update(!0, "");
}).onThrottled(function() {
x.update(!0, "");
}), _.trackCteRegistration();
}, n.prototype.render = function() {
var e = x.enabled ? this.props.title.toUpperCase() : x.text;
return o.createElement(m.Button, {
name: "09634338:227:23",
text: e,
action: this.registerToCTE,
disabled: !x.enabled,
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(8)
}
});
}, n = r.__decorate([ i.observer ], n);
}(o.Component), L = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.onClose = function() {
return C.gotoLocation("tunguska/more");
}, t.onInstallation = function(e) {
E.PurchaseFlow.start(e);
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
_.trackCteSignupVisit();
}, t.prototype.hasSignedUp = function() {
var e = A.SpartaGlobals.bundleIsPC ? "callisto" : "tunguska", t = A.SpartaGlobals.bundleIsPC ? "ONLINE_ACCESS" : "CTE_ONLINE_ACCESS";
return x.done || s.entitlementStore.findEntitlement(e, t);
}, t.prototype.renderSignup = function() {
var e;
if (s.onlineState.isOnlineBlazeAndGateway) {
var t = __("ID_SPARTA_CTE_ICE_DISCLAIMER_PC");
A.SpartaGlobals.bundleIsPS4 ? t = __("ID_SPARTA_CTE_ICE_DISCLAIMER_PS4") : A.SpartaGlobals.bundleIsXBOXONE && (t = __("ID_SPARTA_CTE_ICE_DISCLAIMER_XB1")), 
e = A.SpartaGlobals.bundleIsPC ? o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "S",
value: __("ID_SPARTA_CTE_ICE_SIGN_UP_WHAT_IS"),
style: {
textAlignForRTL: "left"
}
})), o.createElement(O, {
btnText: __("ID_SPARTA_CTE_SIGN_READ_MORE"),
textKeyToShow: "ICE_DESCRIPTION",
alignmentRTL: "left"
}), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "S",
value: __("ID_SPARTA_CTE_ICE_SIGN_UP_LEGAL_REQ"),
style: {
textAlignForRTL: "left"
}
})), o.createElement(O, {
btnText: __("ID_SPARTA_CTE_ICE_TERMS_TITLE"),
textKeyToShow: "ICE_EULA",
alignmentRTL: "left"
}), o.createElement(k, {
title: __("ID_SPARTA_CTE_SIGN_UP_BTN")
}), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "XS",
value: __("ID_SPARTA_CTE_ICE_SIGN_UP_INFO")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "XS",
value: t,
style: {
textAlignForRTL: "left"
}
}))) : o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "S",
value: __("ID_SPARTA_CTE_ICE_SIGN_UP_WHAT_IS"),
style: {
textAlignForRTL: "left"
}
})), o.createElement(O, {
btnText: __("ID_SPARTA_CTE_SIGN_READ_MORE"),
textKeyToShow: "ICE_DESCRIPTION",
alignmentRTL: "left"
}), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "S",
value: __("ID_SPARTA_CTE_ICE_SIGN_UP_LEGAL_REQ"),
style: {
textAlignForRTL: "left"
}
})), o.createElement(O, {
btnText: __("ID_SPARTA_CTE_ICE_TERMS_TITLE"),
textKeyToShow: "ICE_EULA",
alignmentRTL: "left"
}), o.createElement(k, {
title: __("ID_SPARTA_CTE_SIGN_UP_BTN")
}), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
size: "XS",
value: t,
style: {
textAlignForRTL: "left"
}
})));
} else e = o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "XS",
value: __("ID_SPARTA_MATCHMAKING_FAILED_CONNECTION")
}));
return e;
}, t.prototype.renderSignedup = function(e) {
var t;
if (A.SpartaGlobals.bundleIsPC) t = o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "M",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_ICE_SIGN_UP_FINISHED_INFO")
}), o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED_INFO_PC")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_ICE_SIGN_UP_FINISHED_INFO2")
})), o.createElement(m.Button, {
name: "09634338:381:31",
text: __("ID_SPARTA_ACTION_CLOSE"),
action: this.onClose,
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(6)
}
})); else {
var n = e.findById("callisto-cte"), r = null;
n && (r = n.owned && A.SpartaGlobals.bundleIsPS4 && I.tunguskaFeatureFlags.tunguskaCTEShowInstallMessage.isEnabled() ? o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_ICE_INSTALL_MESSAGE")
})) : o.createElement(m.Button, {
name: "09634338:405:35",
text: __("ID_SPARTA_COMMERCE_OFFER_GAME_INSTALLATION"),
action: this.onInstallation.bind(this, n),
style: {
marginTop: 20,
marginBottom: 20,
width: d.getWidth(6)
}
})), t = o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "M",
value: __("ID_SPARTA_CTE_SIGN_UP_FINISHED")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_ICE_SIGN_UP_FINISHED_INFO")
})), o.createElement("surface", {
style: R.spacer
}, o.createElement(p.Text, {
style: R.textCenter,
size: "S",
value: __("ID_SPARTA_CTE_ICE_SIGN_UP_FINISHED_INFO2")
})), r);
}
return t;
}, t.prototype.render = function() {
var e = this, t = c.bbOfflineUrl("/sparta/assets/tunguska/cte-ice-signup-logo-bfc74206.png");
return o.createElement(b.FragmentLoader, {
load: T.offersStore.get("callisto"),
errorMessage: __("ID_SPARTA_CTE_REGISTER_ERR_REG_CLOSED_TITLE"),
errorSubText: __("ID_SPARTA_CTE_ICE_REGISTER_ERR_REG_CLOSED_TEXT")
}, function(n) {
return o.createElement(f.Template, {
tallContent: !0,
scrollContent: !0
}, o.createElement("surface", {
style: {
alignItems: "center",
justifyContent: "center"
}
}, o.createElement("surface", {
style: [ R.image, {
texture: t
} ]
}), e.hasSignedUp() ? e.renderSignedup(n) : e.renderSignup()));
});
}, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.TunguskaCTEICESignup = L;
}).call(this, n(2), n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(15), a = n(74), s = n(10), u = n(205), l = n(73), c = function() {
function e(e, t) {
this.gameStateStoreLoader = e, this.loadingState = t;
}
return Object.defineProperty(e.prototype, "isVisible", {
get: function() {
var e = this.gameStateStoreLoader.get();
switch (e.gameViewState.route) {
case a.GameViewRoute.LOADING:
return u.operationFlow.state === u.OperationState.matchmaking ? e.gameViewState.subRoute !== a.GameViewSubRoute.NONE || u.operationFlow.isMatchmakingToAny : e.isGameViewVisible;

case a.GameViewRoute.PLAYING:
return !1;
}
return e.isGameViewVisible;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "matchmakerServer", {
get: function() {
return s.matchmakingManager.sessionInProgress && s.matchmakingManager.sessionInProgress.server;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "mapName", {
get: function() {
if (!this.loadingState.showServerInfo) return null;
var e = this.gameStateStoreLoader.get();
switch (e.gameViewState.route) {
case a.GameViewRoute.LOADING:
if (l.tunguskaEndOfRoundStore.nextLevelName) return l.tunguskaEndOfRoundStore.nextLevelName;
if (e.server) return e.server.mapName;
if (this.matchmakerServer) return this.matchmakerServer.mapName;
break;

case a.GameViewRoute.EOR:
case a.GameViewRoute.OPERATIONS_PRE_EOR:
case a.GameViewRoute.BATTLEPLAN_PRE_EOR:
return l.tunguskaEndOfRoundStore.fallbackMapName;
}
return null;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "darkBlur", {
get: function() {
var e = this.gameStateStoreLoader.get().gameViewState.route;
return e === a.GameViewRoute.EOR || (e === a.GameViewRoute.OPERATIONS_PRE_EOR || e === a.GameViewRoute.BATTLEPLAN_PRE_EOR);
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "tweenOptions", {
get: function() {
return this.gameStateStoreLoader.get().gameViewState.route === a.GameViewRoute.EOR ? {
duration: 1e3
} : i.Animation.defaultTweenOptions;
},
enumerable: !0,
configurable: !0
}), r.__decorate([ o.computed ], e.prototype, "isVisible", null), r.__decorate([ o.computed ], e.prototype, "matchmakerServer", null), 
r.__decorate([ o.computed ], e.prototype, "mapName", null), r.__decorate([ o.computed ], e.prototype, "darkBlur", null), 
r.__decorate([ o.computed ], e.prototype, "tweenOptions", null), e;
}();
t.TunguskaGameViewBackgroundState = c;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(6), i = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.state = {
elapsed: new Date().getTime() - n.props.start
}, n;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.timer = setInterval(function() {
e.tick();
}, 1e3);
}, n.prototype.componentWillUnmount = function() {
clearInterval(this.timer);
}, n.prototype.tick = function() {
var e = new Date().getTime() - this.props.start;
this.setState({
elapsed: e
});
}, n.prototype.render = function() {
var e = Math.ceil(this.state.elapsed / 1e3), t = this.props.textSize || "XS", n = e / 60, i = Math.floor(n), a = 60 * (n - i), s = Math.floor(a), u = __("ID_SPARTA_DATETIME_ELAPSED_MINUTES_SECONDS").replace("[[minutes]]", i + "").replace("[[seconds]]", s + "");
return r.createElement(o.Text, {
value: u,
size: t,
style: this.props.style
});
}, n;
}(r.Component);
t.ElapsedTimer = i;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(65), a = o.Template("GameJoinNoticeStyle"), s = function() {
function e() {}
var t;
return t = e, e.indicatorSizingWidth = o.value(function() {
return 421;
}, "dc4327fd:8:34"), e.indicatorSizingHeight = o.value(function() {
return 85;
}, "dc4327fd:9:35"), e.hiddenTranslateY = o.value(function() {
return o.Grid.getHeight(20);
}, "dc4327fd:10:30"), e.closeIconTexture = o.value(function() {
return o.bbUrl("/sparta/jsclient/builds/assets/close2-814a9b53.png");
}, "dc4327fd:11:30"), e.container = o.multistyle(function(e) {
return o.style({
zOffset: i.OffsetStyles.gameJoinNotice,
position: "absolute",
top: 0,
left: o.LayoutBounds.logo.left - (t.indicatorSizingWidth - o.LayoutBounds.logo.width) - (e ? 90 : 0),
width: t.indicatorSizingWidth,
backgroundColor: [ 0, 0, 0, 128 ]
}, "dc4327fd:13:66");
}), e.statusText = a.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center",
width: t.indicatorSizingWidth
}, "dc4327fd:28:24");
}), e.overlay = a.wrap(function() {
return o.style({
paddingTop: o.Grid.spacer(4),
paddingBottom: o.Grid.spacer(3)
}, "dc4327fd:34:21");
}), e.indicatorContainer = a.wrap(function() {
return o.style({
position: "absolute",
left: 0,
bottom: -4,
height: t.indicatorSizingHeight,
width: t.indicatorSizingWidth,
enableMouseEvents: !1
}, "dc4327fd:39:32");
}), e.closeIcon = a.wrap(function() {
return o.style({
position: "absolute",
right: 15,
top: 15,
height: o.Grid.getHeight(2),
width: o.Grid.getHeight(2)
}, "dc4327fd:48:23");
}), e.buttonsContainer = a.wrap(function() {
return o.style({
marginTop: o.Grid.spacer(1.5),
alignItems: "center"
}, "dc4327fd:56:30");
}), e.inlineInputPC = a.wrap(function() {
return o.style({
width: o.Grid.getWidth(3.2),
height: o.Grid.spacer(5)
}, "dc4327fd:61:27");
}), e.cancelButtonControllerPC = a.wrap(function() {
return o.style({
width: t.indicatorSizingWidth - o.Grid.spacer(8)
}, "dc4327fd:66:38");
}), e.subTextStyle = a.wrap(function() {
return o.style({
opacity: .8,
marginTop: o.Grid.getHeight(1),
textAlign: "center",
textAlignForRTL: "center",
width: t.indicatorSizingWidth
}, "dc4327fd:70:26");
}), e.elapsedTextStyle = a.wrap(function() {
return o.style({
opacity: .66,
marginTop: o.Grid.getHeight(1),
textAlign: "center",
textAlignForRTL: "center",
width: t.indicatorSizingWidth
}, "dc4327fd:78:30");
}), e.premiumOverlayTextureBase = a.wrap(function() {
return o.style({
blendMode: "screen",
textureMode: "cover",
textureAlign: [ 0, 0 ]
}, "dc4327fd:86:39");
}), e.containerBlur = a.wrap(function() {
return o.style({
layer: !0,
layerBlur: 1,
layerBlurStrength: 1
}, "dc4327fd:92:27");
}), e = t = r.__decorate([ a.style ], e);
}();
t.GameJoinNoticeStyle = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1510), o = n(1511), i = n(682), a = n(1512), s = n(1513), u = n(1514);
t.initialize = function l(e) {
var t = e.stores, n = t.careerFetchingState, l = t.gatewayState, c = t.onlineState, p = t.careerStore;
r.createCareerClient(n, l, c, p).startListening(), o.friendClient.startListening(), 
i.invalidateStatsClient.startListening(), a.userBindings(e), s.partyBindings(e), 
u.sessionUserBindings(e);
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(46), i = n(24), a = n(49), s = n(384);
t.createCareerClient = function u(e, t, n, l) {
var c = o.requester.createClient({
requestOn: [ t.onSessionEstablished, a.refreshCareer ],
listener: function() {
return [ e.games ];
},
shouldPerformRequest: function() {
return n.hasGatewaySession;
},
request: function(e) {
return i.request("Stats.getCareer", {
games: e.slice()
});
},
parse: function(e) {
return new s.Career(e);
},
update: function(e) {
l.setState(e);
}
});
return r.reaction(function() {
return e.games.length;
}, function(e) {
e > 0 && c.trigger();
}, {
fireImmediately: !0
}), c;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(518), i = n(172), a = n(10), s = n(175), u = n(24), l = n(46), c = n(370), p = n(59);
t.friendClient = l.requester.createClient({
requestOn: [ o.fetchFriends ],
updateOn: [ s.frostbiteListenable("sparta.friendsUpdated") ],
request: function(e) {
return p.frostbite.sendMessage("sparta.getFriends", {
pagination: {
use: !0,
size: e.friendsPerPage,
page: e.page,
lock: !1,
filters: e.filters
}
});
},
parse: function(e) {
return e.Friends.map(function(e) {
var t = i.SpartaUserId.getPlatformId(e.spartaUserId), n = t ? a.userStore.users.get(t) : void 0;
return c.parsePlatformUser(e, n);
});
},
update: function(e, t) {
a.userStore.updateUsers(e), a.friendStore.setTotalFriends(t.totalNrFriends), a.friendStore.pagination.setFriendIds(e.map(function(e) {
return e.spartaUserId;
}));
}
}), r.observe(a.friendStore, "totalFriends", function(e) {
null !== e.oldValue && a.onlineState.isOnlineBlazeAndGateway && u.request("Friend.notifyFriendsChanged");
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(49), r = n(192), o = n(41), i = n(510), a = n(59);
n(25), n(43), n(53);
t.userBindings = function s(t) {
var n = t.stores, s = n.settingsStore, u = n.popupManager;
n.gameStateStoreLoader, n.locationStore, n.startScreenStore, e.showLocalUserSelectionUI.listen(function() {
a.frostbite.sendMessage("sparta.durango.showProfileSelectionUI");
}), e.showUserProfile.listen(function(e, n) {
s.canShowInGameOverlay(function(i) {
if (!t.twinkle.buildInfo.isPC || i) {
var s = e instanceof r.User ? e.spartaUserId.getPlatformId() : e;
a.frostbite.sendMessage("sparta.showUserProfile", {
platformId: s
});
} else {
var l = new o.UserError("ShowUserProfile", (void 0 !== n ? n + ":" : "") + "SHOW_USER_PROFILE_ORIGIN_IGO_DISABLED");
u.displayError(l, __("ID_SPARTA_ORIGIN_IGO_DISABLED", !0));
}
});
}), a.frostbite.registerMessageListener("game.showEndOfRoundMessage", function() {
return e.refreshCareer();
}), a.frostbite.registerMessageListener("sparta.getOnlinePrivilegesResponse", function(e, t) {
s.setUGCAccessLevel(t.userGeneratedContent ? i.UGCAccessLevel.Everyone : i.UGCAccessLevel.None);
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(3), r = n(10), o = n(683), i = n(41), a = n(406), s = n(9), u = n(59);
t.partyBindings = function l(t) {
var n;
t.stores.partyStoreLoader.onLoad(function(n) {
e.reaction(function() {
var e = n.party;
return !!e && e.size > 1 && e.premiumMembers.length > 0 && !r.freemiumStore.isInPremiumParty;
}, function(e) {
e && a.fetchLiveConfig();
}), e.reaction(function() {
return r.freemiumStore.isInPremiumParty;
}, function(e) {
var t = n.party;
t && u.frostbite.sendMessage("sparta.partyPremiumEnabled", {
enabled: e,
enabledByName: e ? t.premiumMembers[0].displayName : ""
});
}), e.reaction(function() {
return r.spartaActivatedStore.lastReceived;
}, function() {
r.spartaActivatedStore.isSpartaActive && n.fetchPartyInfo();
}), e.reaction(function() {
return t.stores.onlineState.isOnlineBlazeAndGateway;
}, function(e) {
e && n.fetchPartyInfo();
});
});
var l = !1;
u.frostbite.registerMessageListener("sparta.partyGameSessionAvailableResp", function(e, t) {
if (t && t.needInteraction && (n = t.gameId, !l)) {
l = !0;
var r = "";
r = s.SpartaGlobals.bundleIsPC ? __("ID_SPARTA_USER_PARTY_JOINED_GAME_CONFIRM_PC") : s.SpartaGlobals.bundleIsPS4 ? __("ID_SPARTA_USER_PARTY_JOINED_GAME_CONFIRM_PS4") : __("ID_SPARTA_USER_PARTY_JOINED_GAME_CONFIRM_XB1"), 
i.legacyConfirm(r, "", __("ID_SPARTA_USER_PARTY_JOIN"), __("ID_SPARTA_USER_PARTY_IGNORE"), "joinGame").then(function() {
l = !1, u.frostbite.sendMessage("sparta.partyJoinGameSession", {
gameId: n
});
}).catch(function(e) {
console.error(e), l = !1, o.onGameSessionJoinRefused(n);
});
}
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(172), i = n(175), a = (n(88), n(370)), s = n(46), u = n(49), l = n(150), c = n(9), p = n(59), d = e.get("SessionUserClient"), f = function() {
return p.frostbite.sendMessage("sparta.getLocalUser");
};
t.sessionUserBindings = function m(e) {
r.when(function() {
return e.stores.nativePropertiesStore.ready;
}, f), l.onReady.listen(f), i.frostbiteListenable("sparta.durango.userSwitched").listen(f), 
i.frostbiteListenable("sparta.getLocalUserResp").listen(function(t) {
!function n(e, t) {
var n = t.stores, r = n.userStore, i = n.onlineState, l = n.originAccountFlow, p = o.SpartaUserId.getPlatformId(e.spartaUserId), f = p && r.users.get(p), m = Object.assign({}, {
Persona: function g(e) {
return c.SpartaGlobals.bundleIsPC ? e.personaName : c.SpartaGlobals.bundleIsXBOXONE ? e.gamerTag : e.displayName;
}(e)
}, e), y = a.parsePlatformUser(m, f || void 0);
h.isNull() || function S(e, t) {
var n = e.equals(t);
return n && e.xUid && t.xUid && e.xUid !== t.xUid ? (d.error("sparta.getLocalUserResp: Inconsistent user came from native after profile switch", t), 
!1) : n;
}(y.spartaUserId, h) || !l.userPressedToStart || (s.requester.resetClients(), u.setUGCAccessLevel(null), 
u.onSignInChange(), r.reset()), y.spartaUserId.isNull() ? i.setSessionUserId(void 0) : (i.setSessionUserId(y.spartaUserId), 
r.updateUsers([ y ])), h = y.spartaUserId;
}(t, e);
});
};
var h = new o.SpartaUserId();
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(3), o = n(97), i = n(254), a = n(1516), s = n(1517), u = n(1518), l = n(60), c = n(14), p = n(1519), d = n(161), f = n(8), m = n(670), h = n(162), g = n(18), y = n(162), S = n(1520), v = n(1521), _ = n(1524), b = n(1525), T = n(1526), E = n(1527), C = n(1528), I = n(1529), A = n(420), w = n(459), P = n(423), R = n(673), O = n(422), x = n(460), k = n(674), L = n(1530), M = n(684), D = n(219), N = n(1531), F = n(1533), G = n(666), U = n(425), B = n(667), j = n(671), H = n(1534), z = n(1539), V = n(1542), W = n(1545), q = n(67), K = n(1547), X = n(9), Y = n(679), J = n(17), Q = n(335), Z = n(594), $ = n(681), ee = n(5), te = "bf4", ne = X.SpartaGlobals.bundleIsPC ? c.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-pc-91f70f4b.png") : c.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-console-15f89cb0.png"), re = [ {
route: "weapons",
getTitle: function() {
return __("ID_SPARTA_CAREER_WEAPONS");
},
label: function() {
return __("ID_SPARTA_CAREER_WEAPONS");
},
view: V.CareerWeapons,
onTrigger: function() {
return g.gotoLocation("warsaw/soldier/weapons");
},
completion: "WEAPONS"
}, {
route: "kits",
getTitle: function() {
return __("ID_SPARTA_CAREER_KITS");
},
label: function() {
return __("ID_SPARTA_CAREER_KITS");
},
view: z.CareerKits,
onTrigger: function() {
return g.gotoLocation("warsaw/soldier/kits");
},
completion: "GADGETS"
}, {
route: "vehicles",
getTitle: function() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
label: function() {
return __("ID_SPARTA_CAREER_VEHICLES");
},
view: j.CareerVehicles,
onTrigger: function() {
return g.gotoLocation("warsaw/soldier/vehicles");
},
completion: "VEHICLES"
}, {
route: "medals",
getTitle: function() {
return __("ID_SPARTA_CAREER_AWARDS");
},
label: function() {
return __("ID_SPARTA_CAREER_AWARDS");
},
view: m.CareerMedals,
onTrigger: function() {
return g.gotoLocation("warsaw/soldier/medals");
},
completion: "MEDALS"
}, {
route: "assignments",
getTitle: function() {
return __("ID_SPARTA_CAREER_ASSIGNMENTS");
},
label: function() {
return __("ID_SPARTA_CAREER_ASSIGNMENTS");
},
view: H.CareerAssignments,
onTrigger: function() {
return g.gotoLocation("warsaw/soldier/assignments");
},
completion: "ASSIGNMENTS"
}, {
route: "dogtags",
getTitle: function() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
label: function() {
return __("ID_SPARTA_CAREER_DOGTAGS");
},
view: B.CareerDogtags,
onTrigger: function() {
return g.gotoLocation("warsaw/soldier/dogtags");
},
completion: "DOG TAGS"
}, {
getTitle: function() {
return "";
},
label: function() {
return __("ID_SPARTA_CAREER_BATTLEPACKS");
},
onTrigger: h.showBattlepacks,
isNative: !0
} ], oe = X.SpartaGlobals.bundleIsPC ? {
xp0: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp0-209a4da9.png"),
xp1: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp1-5e8bfc37.png"),
xp2: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp2-00f7e4bd.png"),
xp3: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp3-6a55a656.png"),
xp4: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp4-5ca7ee99.png"),
xp5: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp5-e5beb264.png"),
xp6: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp6-5c93809b.png"),
xp7: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp7-1f5b5f2d.png")
} : {
xp0: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp0-366c1cc4.png"),
xp1: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp1-f813098b.png"),
xp2: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp2-dba8e98d.png"),
xp3: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp3-fecbde66.png"),
xp4: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp4-c9675c03.png"),
xp5: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp5-1055b2f2.png"),
xp6: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp6-2d90bb22.png"),
xp7: c.bbOfflineUrl("/sparta/jsclient/builds/assets/xp7-49e041e2.png")
}, ie = {
stats: [ {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_HEADSHOTS");
},
key: "headshots"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_SHOTS_FIRED");
},
key: "shots"
} ],
specialStats: [ {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_REPAIRS");
},
key: "repairs"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_SPOT_ASSISTS");
},
key: "spot assist"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_HEALS");
},
key: "heals"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_RESUPPLIES");
},
key: "resupplies"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_REVIVES");
},
key: "revives"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_SPAWNS");
},
key: "spawns"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_DAMAGE_ASSISTS");
},
key: "damage assists"
} ],
progress: [ {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_RANGE");
},
key: "statRange"
} ],
text: [ {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_RANGE");
},
key: "range"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_RATE_OF_FIRE");
},
key: "rateOfFire"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_MAGAZINE_SIZE");
},
key: "ammo"
}, {
getName: function() {
return __("ID_SPARTA_CAREER_WEAPON_AMMO_TYPE");
},
key: "ammoType"
} ]
}, ae = function(t) {
function n(e) {
var n = t.call(this) || this;
return n.sparta = e, n.gameId = te, n.branchNameTest = "warsaw", n.productGuid = "{ABADE36E-EC37-413B-8179-B432AD3FACE7}", 
n.crossLaunchIds = {
xboxOneId: "ms-xbl-587BDAF2://crossLaunch",
ps4Ids: {
NA: "CUSA00110",
EU: "CUSA00049",
JP: "CUSA00157"
},
pcIds: {
masterTitleId: "76889",
multiplayerId: "1002645"
}
}, n.gameStateStore = new F.WarsawGameStateStore(n.sparta.stores.spartaActivatedStore), 
n.invalidateStats = !0, n.legalConfigStore = void 0, n.releaseDate = Date.parse("October 29, 2013"), 
n.copyrightYear = X.SpartaGlobals.bundleIsPC ? 2017 : 2016, n.startRoute = "warsaw", 
n.locales = u.supportedLocales, n.premiumConfig = new i.PremiumConfig({
premiumLogoUrl: X.SpartaGlobals.bundleIsPC ? c.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-premium-pc-67a96e94.png") : c.bbOfflineUrl("/sparta/jsclient/builds/assets/logo-bf4-premium-console-9d419d19.png")
}), n.matchmakingConfig = {
matchmakingSessionFactory: new Y.LegacyMatchmakingSessionFactory(n.sparta)
}, n.partyConfig = new i.PartyConfig({
squadJoin: function() {
return d.requiresRime("bf4", function() {
return y.showSquadJoin(!1);
});
}
}), n.logoConfig = {
logoUrl: ne,
enableRankBadge: !0
}, n.careerConfig = new i.CareerConfig({
items: re,
tallCardImage: c.bbOfflineUrl("/sparta/jsclient/builds/assets/Career-BF4-83119f43.png"),
shouldDisplayMedalProgression: !0,
extraWeaponInfoStats: ie,
showUnlockInfo: !1
}), n.serverConfig = new i.ServerConfig({
serverListRoute: "warsaw/mp/servers",
serverDetailsRoute: "warsaw/mp/servers/details",
serverListDefaultFilter: {
slots: {
oneToFive: "on",
sixToTen: "on"
},
serverType: {
OFFICIAL: "on",
RANKED: "on"
},
regions: {}
},
serverLimit: 50,
supportedRoles: [ "soldier", "commander", "spectator" ],
supportedServerTypes: [ "PRIVATE" ]
}), n.joinConfig = new i.JoinConfig({
gameJoinNoticeComponent: n.wrapEntryPoint(Q.WarsawContext, $.GameJoinNotice)
}), n.dogtagsConfig = {
getLeft: function() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_LEFT");
},
getRight: function() {
return __("ID_SPARTA_CAREER_DOGTAGS_CONFIG_RIGHT");
}
}, n.storeConfig = {
route: "warsaw/store/list",
image: c.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-625c9007.png"),
getTabs: function() {
var e = [];
return e = n.sparta.stores.entitlementStore.ownsGame(te) ? [ "battlepacks", "shortcuts", "expansions", "premium" ] : [ "game" ], 
q.routeIsHostingGame.get() || (e = e.filter(function(e) {
return "battlepacks" !== e && "shortcuts" !== e;
})), e;
},
canFetchOffers: !0
}, n.soldierConfig = {
showCategorizationForVehicles: !0,
showBiggerCardImages: !0,
showAccessoriesForWeapons: !0
}, n.theme = K.createWarsawTheme(n), n.joinNotice = {
premiumTextColor: J.CommonStyles.color("#ffffff"),
premiumOverlayTexture: ee.StaticStyle.create({
texture: c.bbOfflineUrl("/sparta/jsclient/builds/assets/BF4-Premium-Notice-5fefb279.png")
}, "294b0578:330:31"),
indicatorAnimationStyle: ee.StaticStyle.create({
spriteAnimation: {
spriteSheet: c.bbOfflineUrl("/sparta/jsclient/builds/assets/matchmaking-sprite-bf4-f61279c7.png"),
fps: 60,
frameWidth: 421,
frameHeight: 85,
totalFrames: 56,
looping: !0
},
width: 421,
height: 85
}, "294b0578:333:33")
}, n.startScreenImageUrl = c.bbOfflineUrl("/sparta/jsclient/builds/assets/background-warsaw-splash-f9229ed8.dds"), 
n.expansionAssets = {
icons: oe,
image: c.bbOfflineUrl("/sparta/assets/expansions-bf4-fb125f97.png")
}, n.backgroundMusicTrack = 2, n.boxShot = c.bbOfflineUrl("/sparta/jsclient/builds/assets/boxshot_bf4-2415ec25.jpg"), 
n.rankIconScaling = {
from: .5,
to: 1
}, n.rankNumberStyle = ee.StaticStyle.create({
padding: [ 2, f.GUTTER, 0, f.GUTTER ]
}, "294b0578:352:22"), n.stores = new Z.GameStores(e), n;
}
return e.__extends(n, t), n.prototype.displayName = function() {
return __("ID_SPARTA_WARSAW_TITLE", !0);
}, n.prototype.getSoldierImageUrl = function() {
return c.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-soldier-1836f76d.png");
}, n;
}(i.Game);
t.Warsaw = ae, t.initialize = function se(e) {
D.registerSectionFonts("warsaw", M.fontConfig);
var t = new ae(e), n = e.stores, i = n.gatewayState, u = n.localeState, d = n.gameStore, f = n.routeStore, m = t.wrapEntryPoint.bind(t, Q.WarsawContext);
i.onSessionEstablished.listen(function() {
r.when(function() {
return "warsaw" === u.section;
}, function() {
l.setFilterOptions({
bf4: p.getServerFilters()
});
});
});
var h = U.generateChildrenRoutes(te, re);
d.registerGame(t), f.addRoute(new o.RouteDeclaration("warsaw", {
requireOnline: !0,
requireMpInstalled: !0,
gameId: te,
getTitle: function() {
return __("ID_SPARTA_WARSAW_TITLE", !0);
},
getSubtitle: function() {
return __("ID_SPARTA_MENU_TITLE_HOME");
},
disabled: !1,
view: m(v.WarsawOverview),
offlineView: m(_.WarsawOverviewOffline),
logoUrl: ne,
backgroundSize: [ 4084, 1480 ],
backgroundUrl: c.bbOfflineUrl("/sparta/jsclient/builds/assets/mp_bf4_background-d55ff8ef.jpg"),
backgroundMusicTrack: 2,
normalIconUrl: c.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-31e29b06.png"),
dynamicBackground: e.stores.backgroundStore.createDynamicSectionBackground("warsaw"),
priority: 0,
children: [ new o.RouteDeclaration("mp", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_MULTIPLAYER");
},
view: m(b.WarsawMultiplayer),
children: [ new o.RouteDeclaration("servers", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_SERVER_BROWSER");
},
view: m(T.WarsawServerList),
children: [ new o.RouteDeclaration("details", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_SERVER_INFO");
},
view: m(E.WarsawServerDetails)
}), new o.RouteDeclaration("filter", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_FILTER");
},
view: m(C.WarsawServerFilter),
excludeFromHistory: !0,
children: []
}) ]
}), new o.RouteDeclaration("quickmatch", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_QUICKMATCH");
},
view: m(N.WarsawQuickmatch)
}), new o.RouteDeclaration("squadjoin", {
getTitle: function() {
return __("ID_SPARTA_WARSAW_ACTION_SQUADJOIN");
},
view: m(L.WarsawSquadJoin)
}) ]
}), new o.RouteDeclaration("sp", {
requireMpInstalled: !1,
requireOnline: !1,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_CAMPAIGN");
},
view: m(S.WarsawCampaign)
}), new o.RouteDeclaration("soldier", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_SOLDIER");
},
args: {
gameId: te
},
view: m(G.CareerGameOverview),
children: h
}), new o.RouteDeclaration("store", {
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
args: {
gameId: te,
recommendationCategory: "warsaw_store_game_overview"
},
view: m(k.StoreLanding),
children: [ new o.RouteDeclaration("access", {
getTitle: function() {
return __("ID_SPARTA_TAB_EA_PLAY");
},
view: m(P.LearnMore),
args: {
gameId: te
},
children: [ new o.RouteDeclaration("play-first", {
getTitle: function() {
return __("ID_SPARTA_ACCESS_PLAY_FIRST_TRIAL");
},
args: {
gameId: te
},
view: m(R.PlayFirst)
}), new o.RouteDeclaration("common-questions", {
getTitle: function() {
return __("ID_SPARTA_ACCESS_COMMON_QUESTIONS");
},
args: {
gameId: te
},
view: m(w.CommonQuestions)
}), new o.RouteDeclaration("join-buy", {
getTitle: function() {
return __("ID_SPARTA_ACCESS_JOIN_AND_BUY");
},
args: {
gameId: te
},
view: m(x.JoinBuy)
}) ]
}), new o.RouteDeclaration("list", {
getTitle: function() {
return __("ID_SPARTA_WARSAW_TITLE");
},
args: {
gameId: "bf4"
},
view: m(O.StoreGameOverview),
children: [ new o.RouteDeclaration("details", {
getTitle: function() {
return __("ID_SPARTA_CAREER_DETAILS");
},
args: {
gameId: "bf4"
},
view: m(A.OfferDetails)
}) ]
}) ]
}), new o.RouteDeclaration("more", {
requireMpInstalled: !1,
requireOnline: !1,
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_MORE");
},
view: m(I.WarsawMore)
}) ]
})), W.warsawBindings(t), a.warsawAbstractGameBindings(t), s.warsawTelemetryBindings(t);
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(162), o = n(139), i = n(10);
t.warsawAbstractGameBindings = function a(e) {
o.joinMultiplayerServer.listen(function(e) {
"bf4" === e.server.game && "bf4" === i.nativePropertiesStore.getHostingGameId() && r.joinGame(e);
}), o.joinMultiplayerFriend.listen(function(e) {
"bf4" === e.gameId && "bf4" === i.nativePropertiesStore.getHostingGameId() && r.joinGame(e);
}), o.continueSinglePlayer.listen(function(e) {
"bf4" === e && "bf4" === i.nativePropertiesStore.getHostingGameId() && r.showCampaign();
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(162), o = n(36);
t.warsawTelemetryBindings = function(e) {
r.showCampaign.listen(function() {
o.trackGameStart({
gameType: "online",
gameMode: "sp_launch"
});
}), r.joinGame.listen(function(e) {
var t = e.server || {
mapMode: "",
mapName: ""
};
o.trackGameStart({
gameType: "online_mp",
gameMode: "mp_" + t.mapMode,
map: t.mapName,
mid: t.gameId
});
});
};
}, function(e, t, n) {
"use strict";
var r, o, i;
Object.defineProperty(t, "__esModule", {
value: !0
});
var a = n(174), s = n(252), u = n(9);
t.PC_LOCALES = ((r = {})[s.Regions.EU] = [ a.Locales.ENGLISH, a.Locales.CZECH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.JAPANESE, a.Locales.KOREAN, a.Locales.POLISH, a.Locales.PORTUGUESE_BRAZIL, a.Locales.RUSSIAN, a.Locales.CHINESE_TRADITIONAL ], 
r[s.Regions.JP] = [ a.Locales.ENGLISH, a.Locales.JAPANESE ], r[s.Regions.NA] = [ a.Locales.ENGLISH, a.Locales.CZECH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.JAPANESE, a.Locales.KOREAN, a.Locales.POLISH, a.Locales.PORTUGUESE_BRAZIL, a.Locales.RUSSIAN, a.Locales.CHINESE_TRADITIONAL ], 
r[s.Regions.RU] = [ a.Locales.RUSSIAN, a.Locales.POLISH ], r);
var l = [ a.Locales.ENGLISH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.JAPANESE, a.Locales.POLISH, a.Locales.PORTUGUESE_BRAZIL, a.Locales.RUSSIAN ];
t.XBOXONE_LOCALES = ((o = {})[s.Regions.EU] = l, o[s.Regions.JP] = l, o[s.Regions.NA] = l, 
o[s.Regions.RU] = l, o), t.PS4_LOCALES = ((i = {})[s.Regions.EU] = [ a.Locales.ENGLISH, a.Locales.GERMAN, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.ITALIAN, a.Locales.POLISH, a.Locales.RUSSIAN ], 
i[s.Regions.JP] = [ a.Locales.ENGLISH, a.Locales.JAPANESE ], i[s.Regions.NA] = [ a.Locales.ENGLISH, a.Locales.SPANISH, a.Locales.SPANISH_MEXICO, a.Locales.FRENCH, a.Locales.PORTUGUESE_BRAZIL ], 
i[s.Regions.RU] = [], i), t.supportedLocales = u.SpartaGlobals.bundleIsPC ? t.PC_LOCALES : u.SpartaGlobals.bundleIsPS4 ? t.PS4_LOCALES : t.XBOXONE_LOCALES, 
t.unsupportedLocales = u.SpartaGlobals.bundleIsConsole ? [ a.Locales.ARABIC, a.Locales.TURKISH, a.Locales.CZECH, a.Locales.KOREAN, a.Locales.CHINESE_TRADITIONAL, a.Locales.CHINESE_SIMPLIFIED ] : [ a.Locales.ARABIC, a.Locales.TURKISH, a.Locales.CHINESE_SIMPLIFIED ];
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(176);
t.getServerFilters = function r() {
return {
slots: new e.BoolFilterOptionsCategory([ {
name: __("ID_SPARTA_FILTER_SLOTS_NONE"),
filterKey: "none",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ONETOFIVE"),
filterKey: "oneToFive",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SIXTOTEN"),
filterKey: "sixToTen",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_TENPLUS"),
filterKey: "tenPlus",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_ALL"),
filterKey: "all",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_COMMANDER"),
filterKey: "commander",
type: e.FilterOptionType.Bool
}, {
name: __("ID_SPARTA_FILTER_SLOTS_SPECTATOR"),
filterKey: "spectator",
PCOnly: !0,
type: e.FilterOptionType.Bool
} ])
};
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(14), i = n(76), a = n(37), s = n(8), u = n(32), l = n(139), c = n(7), p = n(4), d = n(5).StaticStyle.create({
width: s.getWidth(16),
height: s.getHeight(a.CARD_HEIGHT.cells.L)
}, "238a0902:20:25"), f = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = c.SpartaContext.getFromComponent(e), e.onPress = function() {
return l.continueSinglePlayer("bf4");
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = d, t = "bf4" === this.sparta.stores.nativePropertiesStore.getHostingGameId() || this.sparta.stores.presenceStateStore.isReady;
return r.createElement(u.Template, null, r.createElement(i.BasicCard, {
style: e,
background: o.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-campaign-wide-263bf1b3.jpg"),
heading: __("ID_SPARTA_ACTION_PLAY"),
description: __("ID_SPARTA_WARSAW_CAMPAIGN"),
enabled: t,
onPress: this.onPress
}));
}, n.contextTypes = c.SpartaContext.contextTypes, n = e.__decorate([ p.observer ], n);
}(r.Component);
t.WarsawCampaign = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(18), a = n(14), s = n(181), u = n(72), l = n(32), c = n(8), p = n(161), d = n(67), f = n(162), m = n(37), h = n(1522), g = n(1523), y = n(663), S = n(419), v = n(7), _ = n(5), b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = v.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getQuickLinks = function() {
var e = !p.rimeTransitionState.isInJoinFlow && d.routeIsHostingGame.get();
return [ {
icon: a.bbUrl("/sparta/jsclient/builds/assets/serverbrowser-000e77bf.png"),
blur: a.bbUrl("/sparta/jsclient/builds/assets/serverbrowser_blur-045932c3.png"),
action: function() {
return i.gotoLocation("warsaw/mp/servers");
},
description: __("ID_SPARTA_ACTION_SERVERBROWSER")
}, {
icon: a.bbUrl("/sparta/jsclient/builds/assets/favservers-f33e8992.png"),
blur: a.bbUrl("/sparta/jsclient/builds/assets/favservers_blur-39031108.png"),
action: function() {
return i.gotoLocation("warsaw/mp/servers?tab=favorites");
},
description: __("ID_SPARTA_ACTION_FAVORITESERVERS")
}, {
icon: a.bbUrl("/sparta/jsclient/builds/assets/quickmatch-bd06be42.png"),
blur: a.bbUrl("/sparta/jsclient/builds/assets/quickmatch_blur-1e2d3eda.png"),
action: function() {
return i.gotoLocation("warsaw/mp/quickmatch");
},
description: __("ID_SPARTA_ACTION_QUICKMATCH")
}, {
muted: !e,
icon: a.bbUrl("/sparta/jsclient/builds/assets/battlepacks-cee8063b.png"),
blur: a.bbUrl("/sparta/jsclient/builds/assets/battlepacks_blur-a7e73a9b.png"),
action: function() {
return p.requiresRime("bf4", function() {
return f.showBattlepacks();
}, "CrossSection", "Battlepacks");
},
description: __("ID_SPARTA_ACTION_BATTLEPACKS")
}, {
muted: !e,
icon: a.bbUrl("/sparta/jsclient/builds/assets/options-3d4d9691.png"),
blur: a.bbUrl("/sparta/jsclient/builds/assets/options_blur-13fd633f.png"),
action: function() {
return p.requiresRime("bf4", function() {
return f.showOptions();
}, "CrossSection", "Options");
},
description: __("ID_SPARTA_ACTION_OPTIONS")
} ];
}, n.prototype.render = function() {
var e = this.sparta.twinkle.buildInfo.isPC, t = _.DynamicStyle.create({
height: ((e ? m.CARD_HEIGHT.cells.SSL : m.CARD_HEIGHT.cells.L) + 1) * c.spacer(1)
}, "9d214525:68:34");
return r.createElement(c.Col, null, r.createElement(u.CardCarousel, {
id: "9d214525:75:35",
width: c.getWidth(24),
style: t
}, r.createElement(s.RecommendationRenderer, {
game: "bf4",
category: "warsaw_home",
addFeedRecommendations: !0
})), r.createElement(h.QuickLinks, {
items: this.getQuickLinks()
}), e && r.createElement(g.RecentServersGroup, {
gameId: "bf4",
style: {
width: c.getWidth(24)
}
}));
}, n.contextTypes = v.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), T = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.displayName = "WarsawOverview", e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(l.Template, {
wideContent: !0,
aboveContent: r.createElement(S.OverviewHeading, null),
scrollContent: !1
}, r.createElement(y.TakeoverComponent, {
gameId: "bf4"
}), r.createElement(b, null));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.WarsawOverview = T;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(68), i = n(4), a = n(3), s = n(8), u = n(15), l = n(6), c = n(227), p = n(138), d = n(19), f = n(10), m = n(5), h = n(17), g = n(33), y = {
duration: u.Animation.defaultTweenOptions.duration
}, S = {
duration: u.Animation.defaultTweenOptions.duration / 2
}, v = m.StaticStyle.wrapLegacyStyleSheet({
header: {
marginTop: 2 * s.GUTTER,
marginBottom: 2 * s.GUTTER
},
linkRow: {
flexDirection: "row"
},
linkBox: {
marginRight: s.GUTTER,
width: s.getWidth(2),
alignItems: "center",
justifyContent: "center"
},
linkText: {
enableMouseEvents: !1,
position: "absolute",
flexDirection: "row",
left: 0,
right: 0,
bottom: 4 * -s.GUTTER,
zOffset: 10,
whiteSpace: "nowrap"
},
notifier: {
position: "absolute",
top: -s.GUTTER,
right: 0,
height: 2.5 * s.GUTTER,
paddingLeft: s.GUTTER,
paddingRight: s.GUTTER,
alignItems: "center",
justifyContent: "center",
zOffset: 10,
backgroundColor: [ 255, 153, 0, 255 ],
enableMouseEvents: !1
}
}, "d99e3a64:20:15"), _ = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var t = d.localeRearrange(this.props.items.map(function(t, n) {
return r.createElement(o.Focusable, {
id: "quicklink_" + t.description,
key: t.description,
groupIndex: n,
group: p.quicklinksGroup
}, function(o) {
return r.createElement(b, e.__assign({}, t, {
muted: !!t.muted,
focusItem: o,
index: n
}));
});
}));
return r.createElement("surface", null, r.createElement(l.Text, {
value: __("ID_SPARTA_CONTENT_TITLE_QUICKLINKS").toUpperCase(),
size: "S",
type: g.TextType.EMPHASIS,
style: v.header
}), r.createElement("surface", {
style: v.linkRow
}, t));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.QuickLinks = _;
var b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.boxTween = u.Animation.tween("d99e3a64:113:32", "#00000066"), e.iconTween = u.Animation.tween("d99e3a64:114:33", "#ffffff"), 
e.textTween = u.Animation.tween("d99e3a64:115:33", 0), e.wrappedAction = function() {
f.locationStore.injectLocationCause("quicklink"), e.props.action(), f.locationStore.injectLocationCause(void 0);
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.focusReaction = a.reaction(function() {
return e.props.focusItem.isFocusedOrHovered;
}, function(t) {
e.boxTween.set(t ? "#ffffff" : "#00000066"), e.iconTween.set(t ? "#000000" : "#ffffff"), 
e.textTween.to(t ? 1 : 0, t ? y : S);
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.focusReaction(), this.boxTween.destroy(), this.iconTween.destroy(), this.textTween.destroy();
}, n.prototype.render = function() {
var t = m.DynamicStyle.maybeLegacyStyle({
opacity: this.textTween.getStyle(),
textAlign: 0 !== this.props.index ? "center" : "left"
}, "d99e3a64:149:26");
return r.createElement("surface", e.__assign({}, this.props.focusItem.hooks, {
style: m.merge2(v.linkBox, this.boxTween.getStyleClass("backgroundColor"))
}), r.createElement(c.IconButton, {
focusItem: this.props.focusItem,
icon: this.props.icon,
muted: this.props.muted,
action: this.wrappedAction,
size: s.getHeight(6),
iconStyle: {
color: this.iconTween.getStyle()
}
}), r.createElement(l.Text, {
value: this.props.description.toUpperCase(),
size: "XS",
style: m.merge2(v.linkText, t)
}), !!this.props.notificationText && r.createElement("surface", {
style: v.notifier
}, r.createElement(l.Text, {
size: "XS",
value: this.props.notificationText,
color: "#000000",
style: h.CommonStyles.zOffset(1)
})));
}, n = e.__decorate([ i.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(6), a = n(60), s = n(566), u = n(37), l = n(18), c = n(10), p = n(3), d = n(4), f = n(9), m = n(7), h = function(e) {
return {
position: "absolute",
top: 0,
right: 0,
opacity: e ? 1 : .75
};
}, g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this;
this.dispose = p.reaction(function() {
return c.onlineState.hasGatewaySession;
}, function(t) {
t && a.refreshHistory({
game: e.props.gameId
});
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.dispose();
}, n.prototype.getServers = function() {
return this.sparta.stores.serverHistoryStore.getHistoryByGame(this.props.gameId);
}, n.prototype.renderServerCards = function() {
var e = this;
return this.getServers().slice(0, 6).map(function(t, n) {
var o = {
title: "",
segmentId: "EMPTY",
id: t.name,
batchId: -1,
contentHash: t.guid + t.gameId,
telemetryId: t.name,
recommendationType: "server",
game: e.props.gameId,
server: t,
recommenderUUID: ""
};
return r.createElement(s.ServerRecommendationCard, {
key: n,
recommendation: o,
size: u.CardSize.M
});
});
}, n.prototype.render = function() {
var e = this.getServers();
if (0 === e.length) return null;
var t = f.SpartaGlobals.bundleIsPC && e.length > 6 && r.createElement(y, {
gameId: this.props.gameId
});
return r.createElement("surface", {
style: this.props.style
}, r.createElement("surface", {
key: "title",
style: {
marginBottom: o.getHeight(2),
marginTop: o.getHeight(5)
}
}, r.createElement(i.Text, {
key: "text",
value: __("ID_SPARTA_CONTENT_TITLE_RECENTLYPLAYED").toUpperCase(),
size: "S",
type: "emphasis"
}), t), r.createElement("surface", {
key: "cards",
style: {
flexDirection: "row"
}
}, this.renderServerCards()));
}, n.contextTypes = m.SpartaContext.contextTypes, n = e.__decorate([ d.observer ], n);
}(r.Component);
t.RecentServersGroup = g;
var y = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.isHovered = !1, e.onMouseEnter = function() {
return e.setHovered(!0);
}, e.onMouseLeave = function() {
return e.setHovered(!1);
}, e.onClick = function() {
var t = c.gameStore.getGame(e.props.gameId);
l.gotoLocation(t ? t.serverConfig.recentServersRoute : "");
}, e;
}
return e.__extends(n, t), n.prototype.setHovered = function(e) {
this.isHovered = e;
}, n.prototype.render = function() {
return r.createElement("surface", {
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave,
onClick: this.onClick,
style: h(this.isHovered)
}, r.createElement(i.Text, {
value: __("ID_SPARTA_CONTENT_TITLE_SEEALL").toUpperCase(),
size: "S",
type: "emphasis"
}));
}, e.__decorate([ p.observable ], n.prototype, "isHovered", void 0), e.__decorate([ p.action ], n.prototype, "setHovered", null), 
n = e.__decorate([ d.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(32), i = n(6), a = n(8), s = n(177), u = n(139), l = n(24), c = n(217), p = n(28), d = n(76), f = n(37), m = n(14), h = n(4), g = n(7), y = n(17), S = a.getHeight(9), v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = g.SpartaContext.getFromComponent(e), e.onContinueCampaign = function() {
return u.continueSinglePlayer("bf4");
}, e;
}
return e.__extends(n, t), n.prototype.renderOfflineHeading = function() {
var e = this.sparta.stores.presenceStateStore.mustPurchasePSPlus ? __("ID_SPARTA_WARSAW_WELCOME") : __("ID_SPARTA_OFFLINE_HEADING");
return r.createElement("surface", {
style: y.CommonStyles.flexRow
}, r.createElement(i.Text, {
value: e
}));
}, n.prototype.renderMissingMultiplayerPrivileges = function() {
return this.sparta.stores.presenceStateStore.mustPurchasePSPlus ? r.createElement(d.BasicCard, {
layout: "split",
background: m.bbOfflineUrl("/sparta/jsclient/builds/assets/psn-image-2-48185829.jpg"),
heading: __("ID_SPARTA_OFFLINE_PLAY_ONLINE"),
description: __("ID_SPARTA_OFFLINE_PLAY_ONLINE_PSPLUS"),
textHeight: S,
onPress: s.purchasePsPlus
}) : null;
}, n.prototype.renderGoOnlineButton = function() {
var e = this.sparta.stores, t = e.onlineState, n = e.presenceStateStore;
if (t.canGoOnline) {
var o = t.goOnlineIsRetry ? __("ID_SPARTA_ONLINE_PRESENCE_TRY_AGAIN") : __("ID_SPARTA_ONLINE_PRESENCE_GO_ONLINE");
return r.createElement(p.Button, {
name: "b65d2575:69:31",
textSize: "S",
text: o,
style: {
width: a.getWidth(6)
},
action: function() {
n.isReady ? l.connect() : c.connect();
}
});
}
return null;
}, n.prototype.render = function() {
var e = "bf4" === this.sparta.stores.nativePropertiesStore.getHostingGameId() || this.sparta.stores.presenceStateStore.isReady;
return r.createElement(o.Template, {
wideContent: !0,
aboveContent: this.renderOfflineHeading(),
scrollContent: this.sparta.twinkle.buildInfo.isPC
}, r.createElement("surface", {
style: {
flexDirection: "row",
marginBottom: a.getHeight(4)
}
}, r.createElement(d.BasicCard, {
background: m.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-campaign-3-be90b290.jpg"),
heading: __("ID_SPARTA_OFFLINE_PLAY_CAMPAIGN_HEADING"),
description: __("ID_SPARTA_OFFLINE_PLAY_CAMPAIGN_DESCRIPTION"),
enabled: e,
size: f.CardSize.SSL,
textHeight: S,
onPress: this.onContinueCampaign
}), this.renderMissingMultiplayerPrivileges()), this.sparta.twinkle.buildInfo.isPC && this.renderGoOnlineButton());
}, n.contextTypes = g.SpartaContext.contextTypes, n = e.__decorate([ h.observer ], n);
}(r.Component);
t.WarsawOverviewOffline = v;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(162), a = n(14), s = n(18), u = n(76), l = n(37), c = n(8), p = n(32), d = n(41), f = n(72), m = n(161), h = n(111), g = n(335), y = n(5), S = y.StaticStyle.create({
height: c.getHeight(59)
}, "6ccb0324:94:26"), v = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.warsaw = g.WarsawContext.getFromComponent(e), e.active = !1, e.onPressQuickmatch = function() {
return e.runIfActive(function() {
return s.gotoLocation("warsaw/mp/quickmatch");
});
}, e.onPressSquadJoin = function() {
e.runIfActive(function() {
return m.requiresRime("bf4", function() {
var t = e.warsaw.sparta.stores.partyStoreLoader.get();
t.gotoSquadJoin && t.gotoSquadJoin();
}, "CrossSection", "SquadJoin");
});
}, e.onPressServerBrowser = function() {
return e.runIfActive(function() {
return s.gotoLocation("warsaw/mp/servers");
});
}, e.onPressTestRange = function() {
return e.runIfActive(function() {
return e.confirmTestRange();
});
}, e.onPressRSP = function() {
return e.runIfActive(function() {
return m.requiresRime("bf4", i.purchaseRSP, "CrossSection", "RSP");
});
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.active = !0;
}, n.prototype.componentWillUnmount = function() {
this.active = !1;
}, Object.defineProperty(n.prototype, "isInWarsaw", {
get: function() {
return this.warsaw.sparta.stores.nativePropertiesStore.isHostingGame("bf4");
},
enumerable: !0,
configurable: !0
}), n.prototype.runIfActive = function(e) {
this.active ? e() : console.warn("Ignored action because component is not active");
}, n.prototype.confirmTestRange = function() {
this.isInWarsaw ? d.legacyConfirm(__("ID_SPARTA_WARSAW_ACTION_TESTRANGE_JOINMESSAGE", !0), __("ID_SPARTA_WARSAW_ACTION_TESTRANGE", !0), __("ID_SPARTA_ACTION_YES", !0), __("ID_SPARTA_ACTION_NO", !0), "confirmTestRange", {}, {
blockInputFor: 2e3
}).then(function() {
return i.playTestRange();
}) : h.showNotInHostingGame("Crosslaunch", "TestRange");
}, n.prototype.renderMainContent = function() {
var e = c.getHeight(18), t = this.warsaw.sparta.twinkle.buildInfo.isConsole, n = !m.rimeTransitionState.isInJoinFlow && this.isInWarsaw, o = S, i = t ? c.getHeight(3) : 0, s = [ r.createElement(u.BasicCard, {
key: "quickmatch",
layout: "split",
size: l.CardSize.XL,
style: o,
background: a.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-quickmatch-c031c97c.jpg"),
heading: __("ID_SPARTA_ACTION_QUICKMATCH"),
headingType: "emphasis",
description: __("ID_SPARTA_ACTION_QUICKMATCH_DESCRIPTION"),
textHeight: e,
onPress: this.onPressQuickmatch
}), r.createElement(u.BasicCard, {
key: "squadjoin",
layout: "split",
size: l.CardSize.XL,
style: o,
background: a.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-squadjoin-fdf4d709.jpg"),
heading: __("ID_SPARTA_WARSAW_ACTION_SQUADJOIN"),
headingType: "emphasis",
description: __("ID_SPARTA_WARSAW_ACTION_SQUADJOIN_DESCRIPTION"),
textHeight: e,
onPress: this.onPressSquadJoin,
enabled: n
}), r.createElement(u.BasicCard, {
key: "serverbrowser",
layout: "split",
size: l.CardSize.XL,
style: o,
background: a.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-serverbrowser-e0f801b5.jpg"),
heading: __("ID_SPARTA_ACTION_SERVERBROWSER"),
headingType: "emphasis",
description: __("ID_SPARTA_ACTION_SERVERBROWSER_DESCRIPTION"),
textHeight: e,
onPress: this.onPressServerBrowser
}), r.createElement(u.BasicCard, {
key: "testrange",
layout: "split",
size: l.CardSize.XL,
style: o,
background: a.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-testrange-522ccf0b.jpg"),
heading: __("ID_SPARTA_WARSAW_ACTION_TESTRANGE"),
headingType: "emphasis",
description: __("ID_SPARTA_WARSAW_ACTION_TESTRANGE_DESCRIPTION"),
textHeight: e,
onPress: this.onPressTestRange,
enabled: this.isInWarsaw
}) ];
return t && s.push(r.createElement(u.BasicCard, {
key: "rsp",
layout: "split",
size: l.CardSize.XL,
style: o,
background: a.bbOfflineUrl("/sparta/jsclient/builds/assets/bf4-rsp-e8e8079f.jpg"),
heading: __("ID_SPARTA_ACTION_RSP"),
headingType: "emphasis",
description: __("ID_SPARTA_COMMERCE_RSP_OFFER_DESCRIPTION"),
textHeight: e,
onPress: this.onPressRSP,
enabled: n && this.warsaw.sparta.stores.presenceStateStore.isReady
})), t ? r.createElement(f.CardCarousel, {
id: "6ccb0324:172:21",
width: c.getWidth(24),
style: y.DynamicStyle.create({
marginTop: i
}, "6ccb0324:174:24")
}, s) : r.createElement("surface", {
style: {
flexDirection: "row",
marginTop: i
}
}, s);
}, n.prototype.render = function() {
return r.createElement(p.Template, {
wideContent: !0,
tallContent: !0,
scrollContent: this.warsaw.sparta.twinkle.buildInfo.isPC
}, this.renderMainContent());
}, n.contextTypes = g.WarsawContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.WarsawMultiplayer = v;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(64), i = n(275), a = n(136), s = n(157), u = n(12), l = n(11), c = n(26), p = n(4), d = n(659), f = n(656), m = n(128), h = n(334), g = n(335), y = n(657), S = n(658), v = new h.GameServerLayout(), _ = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.warsaw = g.WarsawContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.getInput = function() {
var e = this.warsaw.sparta.stores.partyStoreLoader.get();
return e.isInSquadJoin ? new u.Input({
label: __("ID_SPARTA_ACTION_BACK"),
action: function() {
e.gotoSquadJoin && e.gotoSquadJoin();
},
key: l.Keys.Decline
}) : [];
}, n.prototype.getTabs = function() {
var e = this, t = m.gameDataStore.get("bf4").value;
return [ {
name: "servers",
title: __("ID_SPARTA_TAB_SERVERS"),
renderHeader: function() {
return r.createElement(y.ServerBrowserHeader, {
gameId: "bf4",
filtersRoute: "warsaw/mp/servers/filter"
});
},
render: function() {
return r.createElement(f.ServerBrowser, {
key: "servers",
gameId: "bf4",
gameData: t,
pingSites: e.state.pingSites,
filtersRoute: "warsaw/mp/servers/filter"
});
}
}, {
name: "favorites",
title: __("ID_SPARTA_TAB_FAVORITES"),
render: function() {
return r.createElement(S.FavoriteServers, {
key: "favorites",
gameId: "bf4",
gameData: t,
pingSites: e.state.pingSites,
gameServerLayout: v
});
}
}, {
name: "recent",
title: __("ID_SPARTA_TAB_RECENT"),
render: function() {
return r.createElement(d.RecentServers, {
key: "recent",
gameId: "bf4",
gameData: t,
pingSites: e.state.pingSites,
gameServerLayout: v
});
}
} ];
}, n.prototype.render = function() {
return r.createElement(s.TabbedTemplate, {
tabs: this.getTabs(),
showDivider: !0,
topGutter: !1
});
}, n.contextTypes = g.WarsawContext.contextTypes, n = e.__decorate([ p.observer, c.input, o.subscribeToStores({
pingSites: i.scopedStore(a.PingSiteStore, "bf4")
}) ], n);
}(r.Component);
t.WarsawServerList = _;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(661), a = n(29), s = n(92), u = n(7), l = n(50), c = "bf4", p = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = u.SpartaContext.getFromComponent(r), r.filterOptions = r.sparta.stores.serverFilterOptionsStore.get(c), 
r;
}
return e.__extends(n, t), n.prototype.getFilterOptions = function(e) {
if (this.filterOptions.value) {
var t = this.filterOptions.value[e];
if (t) return t.options;
}
return [];
}, n.prototype.getSettings = function(e) {
var t = this, n = this.props.details.settings, r = {
on: __("ID_SPARTA_FILTER_SETTING_ON"),
off: __("ID_SPARTA_FILTER_SETTING_OFF")
}, o = [], i = [];
Object.keys(n.all).forEach(function(e) {
var a = n.all[e], u = t.getFilterOptions(s.FilterCategoryName.Advanced).find(function(t) {
return t.filterKey === e;
}), l = t.getFilterOptions(s.FilterCategoryName.Rules).find(function(t) {
return t.filterKey === e;
});
if (u && "bool" === u.type) {
var c = u.defaultValue + "";
1 === u.defaultValue ? c = s.FilterValue.ON : 0 === u.defaultValue && (c = s.FilterValue.OFF), 
o.push({
name: u.prettyName || u.name,
setting: t.translateSettingValue(r, a),
isDefault: c === a
});
}
if (l && "int" === l.type) {
c = l.defaultValue + "";
i.push({
name: l.prettyName || l.name,
setting: t.translateSettingValue(r, a),
isDefault: c === a
});
}
});
var a = {};
return a[__("ID_SPARTA_FILTER_SETTINGS")] = this.getAdditionalServerSettings(e), 
a[__("ID_SPARTA_FILTER_ADVANCED")] = o, a[__("ID_SPARTA_FILTER_RULES")] = i, a;
}, n.prototype.getRegionName = function(e, t) {
if (e && e.regions) {
var n = this.getFilterOptions(s.FilterCategoryName.Regions).find(function(e) {
return e.filterKey === t;
});
return n ? n.name : t;
}
return t;
}, n.prototype.getAdditionalServerSettings = function(e) {
var t = this.props.details, n = t.punkbusterEnabled, r = t.fairfightEnabled, o = t.region, i = t.country, a = t.passwordProtected, s = t.preset, u = [], l = this.getRegionName(e, o);
return "" !== i && (l += " - " + i), u.push({
name: __("ID_SPARTA_FILTER_REGION"),
setting: l,
isDefault: !0
}), u.push({
name: __("ID_SPARTA_FILTER_PUNKBUSTER"),
setting: __(n ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF"),
isDefault: !0
}), u.push({
name: __("ID_SPARTA_FILTER_FAIRFIGHT"),
setting: __(r ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF"),
isDefault: !0
}), u.push({
name: __("ID_SPARTA_FILTER_PASSWORD"),
setting: __(a ? "ID_SPARTA_FILTER_SETTING_ON" : "ID_SPARTA_FILTER_SETTING_OFF"),
isDefault: !a
}), u.push({
name: __("ID_SPARTA_FILTER_PRESET"),
setting: s,
isDefault: !0
}), this.props.details.experience && "" !== this.props.details.experience && u.push({
name: __("ID_SPARTA_FILTER_EXPERIENCE"),
setting: this.props.details.experience,
isDefault: !0
}), u;
}, n.prototype.translateSettingValue = function(e, t) {
return e.hasOwnProperty(t) ? e[t] : t;
}, n.prototype.render = function() {
return this.filterOptions.value ? r.createElement(i.ServerDetails, {
details: this.props.details,
settings: this.getSettings(this.filterOptions.value)
}) : r.createElement(a.Spinner, null);
}, n.contextTypes = u.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.WarsawServerDetailsContent = p;
var d = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = u.SpartaContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(l.FragmentLoader, {
load: this.sparta.stores.serverDetailsStore.get(c, this.props.viewLocation.args.blazeGameId),
errorMessage: __("ID_SPARTA_GENERIC_ERROR"),
errorSubText: __("ID_SPARTA_SERVER_FAILED_LOADING_DETAILS")
}, function(e) {
return r.createElement(p, {
details: e
});
});
}, n.contextTypes = u.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.WarsawServerDetails = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(157), i = n(455), a = n(660), s = n(92), u = n(9).SpartaGlobals.bundleIsPC ? [ new i.ServerFilterCategoryLayout(s.FilterCategoryName.GameModes, function() {
return __("ID_SPARTA_FILTER_GAMEMODES");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Maps, function() {
return __("ID_SPARTA_FILTER_MAPS");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Slots, function() {
return __("ID_SPARTA_FILTER_FREESLOTS");
}), new i.ServerFilterCategoryLayout(s.FilterCategoryName.ServerType, function() {
return __("ID_SPARTA_FILTER_SERVERTYPE");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.TickRates, function() {
return __("ID_SPARTA_FILTER_TICKRATE");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Presets, function() {
return __("ID_SPARTA_FILTER_PRESET");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Regions, function() {
return __("ID_SPARTA_FILTER_REGIONS");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Advanced, function() {
return __("ID_SPARTA_FILTER_MISC");
}), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Rules, function() {
return __("ID_SPARTA_FILTER_RULES");
}), new i.ServerFilterNameLayout(function() {
return __("ID_SPARTA_FILTER_NAME");
}) ] : [ new i.ServerFilterCategoryLayout(s.FilterCategoryName.GameModes, function() {
return __("ID_SPARTA_FILTER_GAMEMODES");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Maps, function() {
return __("ID_SPARTA_FILTER_MAPS");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Slots, function() {
return __("ID_SPARTA_FILTER_FREESLOTS");
}), new i.ServerFilterCategoryLayout(s.FilterCategoryName.ServerType, function() {
return __("ID_SPARTA_FILTER_SERVERTYPE");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Presets, function() {
return __("ID_SPARTA_FILTER_PRESET");
}, !0), new i.ServerFilterCategoryLayout(s.FilterCategoryName.Regions, function() {
return __("ID_SPARTA_FILTER_REGIONS");
}, !0), new i.ServerFilterNameLayout(function() {
return __("ID_SPARTA_FILTER_NAME");
}) ], l = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.tabs = r.createRef(), e.switchTab = function(t) {
e.tabs.current && e.tabs.current.handleTabSelected(t);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this, t = [ {
name: "current",
title: function() {
return __("ID_SPARTA_TAB_CURRENT");
},
render: function() {
return r.createElement(i.ServerFilterView, {
key: "current",
gameId: "bf4",
filterLayout: u,
switchTab: e.switchTab
});
}
}, {
name: "presets",
title: function() {
return __("ID_SPARTA_TAB_PRESETS");
},
render: function() {
return r.createElement(a.SavedFiltersView, {
key: "presets",
switchTab: e.switchTab,
gameId: "bf4"
});
}
} ];
return r.createElement(o.TabbedTemplate, {
ref: this.tabs,
tabs: t
});
}, n;
}(r.Component);
t.WarsawServerFilter = l;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(651), i = n(34), a = n(14), s = n(76), u = n(37), l = n(161), c = n(67), p = n(162), d = n(4), f = n(9), m = n(8), h = n(32), g = n(23), y = n(5).StaticStyle.create({
marginTop: 0,
flexDirection: "row",
flex: 1
}, "18c72ed3:18:17"), S = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.onPressOptions = function() {
l.requiresRime("bf4", p.showOptions, "CrossSection", "Options");
}, n.prototype.onPressCredits = function() {
l.requiresRime("bf4", p.showCredits, "CrossSection", "Credits");
}, n.prototype.render = function() {
var e = !l.rimeTransitionState.isInJoinFlow && c.routeIsHostingGame.get(), t = f.SpartaGlobals.bundleIsPC ? void 0 : u.CardSize.M, n = [ r.createElement(s.BasicCard, {
key: "options",
enabled: e,
size: t,
heading: __("ID_SPARTA_CARD_OPTIONS"),
headingType: "emphasis",
iconSize: .5,
icon: a.bbOfflineUrl("/sparta/jsclient/builds/assets/big_options-24a1279a.png"),
activeIconColor: "#000000",
onPress: this.onPressOptions
}), r.createElement(s.BasicCard, {
key: "credits",
enabled: e,
size: t,
heading: __("ID_SPARTA_ACTION_CREDITS"),
headingType: "emphasis",
iconSize: .5,
icon: a.bbOfflineUrl("/sparta/jsclient/builds/assets/big_credits-30d1be9c.png"),
activeIconColor: "#000000",
onPress: this.onPressCredits
}) ];
return r.createElement(h.Template, null, r.createElement(i.Scroller, {
style: {
width: m.getWidth(24),
height: g.content.height
},
softClip: [ 20, 0, 20, 0 ]
}, r.createElement("surface", {
style: y
}, n)), r.createElement(o.BundleInfo, null));
}, n = e.__decorate([ d.observer ], n);
}(r.Component);
t.WarsawMore = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(162), a = n(335), s = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.warsaw = a.WarsawContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
this.warsaw.sparta.stores.partyStoreLoader.get().isInSquadJoin && i.showSquadJoin(!0);
}, t.prototype.render = function() {
return o.createElement("surface", null);
}, t.contextTypes = a.WarsawContext.contextTypes, t;
}(o.Component);
t.WarsawSquadJoin = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(3), a = n(4), s = n(10), u = n(34), l = n(23), c = n(8), p = n(6), d = n(21), f = n(675), m = n(98), h = n(89), g = n(267), y = n(92), S = n(19), v = n(1532), _ = n(128), b = n(9), T = n(33), E = n(7), C = n(111), I = n(198), A = n(5), w = "bf4", P = function() {
return function e(t) {
this.gameModes = t;
};
}();
t.QuickmatchGameData = P;
var R = function() {
function e() {
var e = this;
s.gatewayState.onSessionEstablished.listen(function() {
var t = _.gameDataStore.get(w);
i.when(function() {
return t.isReady;
}, function() {
t.value && e.setQuickmatchOptions(t.value);
});
});
}
return e.prototype.setQuickmatchOptions = function(e) {
var t = e.gameModes;
t = t.sort(function(e, t) {
return e.prettyName.toUpperCase() > t.prettyName.toUpperCase() ? 1 : -1;
});
var n = new P(t), r = e.experiences ? e.experiences : [];
if (r.length > 0) {
var o = [], i = [], a = [];
r.forEach(function(e) {
"COMMANDER" === e.filterKey ? o.push(e) : e.premium ? i.push(e) : a.push(e);
});
var s = i.concat(a);
n.experiences = s, n.roles = o;
}
this.quickmatchOptions = n;
}, r.__decorate([ i.observable ], e.prototype, "quickmatchOptions", void 0), r.__decorate([ i.action ], e.prototype, "setQuickmatchOptions", null), 
e;
}();
t.WarsawQuickmatchDataStore = R;
var O, x = new R(), k = new (function() {
function e() {
this.selectedItem = void 0;
}
return e.prototype.setSelectedItem = function(e) {
this.selectedItem = e;
}, r.__decorate([ i.observable ], e.prototype, "selectedItem", void 0), r.__decorate([ i.action ], e.prototype, "setSelectedItem", null), 
e;
}())(), L = {
heading: b.SpartaGlobals.bundleIsConsole ? d.TextSize.L : d.TextSize.M,
subHeading: b.SpartaGlobals.bundleIsConsole ? d.TextSize.M : d.TextSize.S,
text: d.TextSize.S
};
!function(e) {
e[e.Experience = 0] = "Experience", e[e.GameMode = 1] = "GameMode", e[e.Role = 2] = "Role";
}(O || (O = {}));
var M = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "inputAction", {
get: function() {
var e = this;
return function() {
return e.props.onTrigger(e.props.item);
};
},
enumerable: !0,
configurable: !0
}), t = r.__decorate([ a.observer ], t);
}(h.ListItemAutoActive), D = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = k.selectedItem;
if (!e) return o.createElement("surface", null);
var t = e.value, n = t.images && t.images.Jpg1000xANY ? t.images.Jpg1000xANY : t.imageUrl, r = (t.objectives || []).map(function(e, t) {
return o.createElement("surface", {
key: t,
style: v.WarsawQuickmatchStyles.objectiveWrapper
}, o.createElement(p.Text, {
value: "-",
style: v.WarsawQuickmatchStyles.listIndicator,
size: L.text
}), o.createElement(p.Text, {
value: e,
style: v.WarsawQuickmatchStyles.objective,
size: L.text
}));
});
return o.createElement("surface", {
style: v.WarsawQuickmatchStyles.infoWrapper
}, o.createElement("surface", {
style: v.WarsawQuickmatchStyles.image({
texture: n
})
}), o.createElement(p.Text, {
value: t.prettyName.toUpperCase(),
type: T.TextType.EMPHASIS,
size: L.heading,
style: v.WarsawQuickmatchStyles.infoHeading
}), o.createElement(p.Text, {
value: t.description,
size: L.text,
style: v.WarsawQuickmatchStyles.infoText
}), r);
}, t = r.__decorate([ a.observer ], t);
}(o.Component), N = {
serverType: {
OFFICIAL: "on"
},
presets: {
NORMAL: "on"
},
passwordProtected: "off"
}, F = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = E.SpartaContext.getFromComponent(r), r.labelColor = {
regular: "#FFFFFF",
premium: "#ff9900"
}, r.selectionState = new m.ListSelectionState(), r.triggerItem = function(e) {
var t, n, o = {};
e.type === O.GameMode ? o.gameModes = ((t = {})[e.value.filterKey] = y.FilterValue.ON, 
t) : e.type === O.Experience ? o.experiences = ((n = {})[e.value.filterKey] = y.FilterValue.ON, 
n) : e.type === O.Role && (o.role = "commander"), r.quickmatch(o);
}, k.setSelectedItem(), r;
}
return r.__extends(t, e), t.prototype.componentWillMount = function() {
var e = this;
this.selectionState.setActiveItem(-1), this.cancelSelectionReaction = i.reaction(function() {
return e.selectionState.activeItemIndex;
}, function(t) {
return e.selectItem(e.matchmakingItems[t]);
});
}, t.prototype.componentWillUnmount = function() {
this.cancelSelectionReaction && this.cancelSelectionReaction();
}, t.prototype.createRoleItem = function(e) {
return {
type: O.Role,
label: e.prettyName,
id: e.name,
fontColor: e.premium ? this.labelColor.premium : this.labelColor.regular,
value: e
};
}, t.prototype.createExperienceItem = function(e) {
return {
type: O.Experience,
label: e.prettyName,
id: e.name,
fontColor: e.premium ? this.labelColor.premium : this.labelColor.regular,
value: e
};
}, t.prototype.createGameModeItem = function(e) {
var t = e.expansions || [], n = "DEFAULT" === t[0].name || s.entitlementStore.hasExpansionAccess(w, t[0].name);
return {
type: O.GameMode,
label: e.prettyName,
id: e.name,
value: e,
disabled: !n
};
}, Object.defineProperty(t.prototype, "matchmakingItems", {
get: function() {
var e = this, t = x.quickmatchOptions, n = [];
return t && (t.experiences && t.experiences.forEach(function(t) {
n.push(e.createExperienceItem(t));
}), t.gameModes && t.gameModes.forEach(function(t) {
n.push(e.createGameModeItem(t));
}), t.roles && t.roles.map(function(t) {
n.push(e.createRoleItem(t));
})), n;
},
enumerable: !0,
configurable: !0
}), t.prototype.quickmatch = function(e) {
if (this.sparta.stores.nativePropertiesStore.isHostingGame(w)) {
var t = k.selectedItem;
if (t && I.validateContentAccessToServerWithPopup(w, t.value.expansions)) {
var n = new y.GameFilter(r.__assign({}, N, e));
t ? g.tryShowTutorial(this.sparta, "", t.value.filterKey, w).then(function() {
s.matchmakingManager.start(w, n);
}) : s.matchmakingManager.start(w, n);
}
} else C.showNotInHostingGame();
}, t.prototype.selectItem = function(e) {
k.setSelectedItem(e);
}, t.prototype.renderItem = function(e, t) {
return o.createElement(M, {
index: e,
key: t.id,
debugName: "listitem_" + t.id,
onTrigger: this.triggerItem,
selectionState: this.selectionState,
item: t
}, function(e, n) {
return o.createElement("surface", {
style: A.merge2(n, v.WarsawQuickmatchStyles.listItem({
disabled: t.disabled
}))
}, o.createElement(h.ListItemLabel, {
value: t.label.toUpperCase(),
right: S.isRTLLanguage(),
color: t.fontColor
}));
});
}, t.prototype.renderSideContent = function() {
var e = this;
return o.createElement("surface", {
style: {
marginTop: 2 * -c.GUTTER,
paddingTop: 2 * c.GUTTER
}
}, o.createElement(u.Scroller, {
style: {
height: l.content.height
},
controller: !1
}, o.createElement(h.List, null, this.matchmakingItems.map(function(t, n) {
return e.renderItem(n, t);
}))));
}, t.prototype.render = function() {
return o.createElement(f.SideColTemplate, {
tallContent: !0,
sideContent: this.renderSideContent()
}, o.createElement(D, null));
}, t.contextTypes = E.SpartaContext.contextTypes, r.__decorate([ i.computed ], t.prototype, "matchmakingItems", null), 
t = r.__decorate([ a.observer ], t);
}(o.Component);
t.WarsawQuickmatch = F;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("WarsawQuickmatchStyles"), a = function() {
function e() {}
return e.listItem = o.stylefunc(function() {
return o.style({}, "cb9588bd:8:14");
}, function(e) {
return o.dynamicStyle({
opacity: e.disabled ? .35 : 1
}, "cb9588bd:9:41");
}), e.infoWrapper = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(14)
}, "cb9588bd:15:36");
}), e.image = o.stylefunc(function() {
return o.style({
textureMode: "cover",
textureAlign: .8,
backgroundColor: "#00000099",
width: o.Grid.getWidth(14),
height: o.Grid.getHeight(36),
marginBottom: 4 * o.Grid.GUTTER
}, "cb9588bd:22:14");
}, function(e) {
return o.dynamicStyle({
texture: e.texture
}, "cb9588bd:31:38");
}), e.objectiveWrapper = o.wrap(function() {
return o.style({
flex: 1,
flexDirection: "row",
marginBottom: 2 * o.Grid.GUTTER
}, "cb9588bd:34:41");
}), e.objective = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(13.5),
textLineSpacing: o.Constants.LINE_HEIGHTS.S
}, "cb9588bd:42:34");
}), e.listIndicator = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(.5) - o.Grid.GUTTER
}, "cb9588bd:49:38");
}), e.infoHeading = o.wrap(function() {
return o.style({
margin: [ 0, 0, o.Grid.GUTTER, 0 ],
textAlignForRTL: "left"
}, "cb9588bd:55:36");
}), e.infoText = o.wrap(function() {
return o.style({
margin: [ 0, 0, o.Grid.GUTTER, 0 ],
textLineSpacing: o.Constants.LINE_HEIGHTS.S,
textAlignForRTL: "left"
}, "cb9588bd:62:33");
}), e.videoCard = o.wrap(function() {
return o.style({
width: o.Grid.getWidth(14),
height: o.Grid.getHeight(36),
marginBottom: 4 * o.Grid.GUTTER
}, "cb9588bd:70:34");
}), e.videoPlayIndicator = o.wrap(function() {
return o.style({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
textureAtlas: "SpartaCommonAtlas",
textureMode: "none",
textureAlign: [ .5, .5 ]
}, "cb9588bd:78:43");
}), e = r.__decorate([ i.style ], e);
}();
t.WarsawQuickmatchStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(56), i = n(74), a = n(603), s = n(10), u = n(121), l = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.gameId = "bf4", n;
}
return r.__extends(t, e), t.isWarsawStore = function(e) {
return "bf4" === e.gameId;
}, t.prototype.handleRouteChanged = function(e, t) {
void 0 === t && (t = i.GameViewSubRoute.NONE);
}, t.prototype.handleSpartaActivated = function() {
this.spartaActivatedStore.navigationState === o.NavigationStates.FrontEnd && (s.layoutVisibilityStore.setVisibilities({
all: !0
}), setTimeout(function() {
return u.blackFadeState.hide();
}, 1e3));
}, t;
}(a.GameStateStore);
t.WarsawGameStateStore = l;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(32), i = n(238), a = n(160), s = n(1535), u = n(64), l = n(212), c = n(275), p = n(39), d = n(23), f = n(29), m = n(685), h = n(1538), g = n(5), y = g.StaticStyle.create({
height: d.content.height
}, "bf88390d:116:33"), S = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.renderItem = function(e, t, o, i, s, u, l) {
var c = t.progression && t.progression.unlocked, p = t.criteriaProgression, d = t.expansions && t.expansions.length > 0 ? t.expansions[0] : null;
return r.createElement(a.AwardItem, {
awardImage: t.images && t.images.Small,
gameId: n.props.viewLocation.args.gameId,
itemState: n.selectionState.getItemState(o),
style: g.DynamicStyle.create(e, "bf88390d:60:24"),
key: "assignment-item" + o,
atlas: "AssignmentsAtlas",
unlocked: c,
progressPercent: p,
expansion: d,
onSelect: i,
onFocus: s,
ref: function(e) {
return l(o, e);
},
icon: t.icon
});
}, n.renderFocusPane = function(e) {
return r.createElement(s.AssignmentFocusPane, {
selectionState: n.selectionState,
widthGridCells: e,
gameId: n.props.viewLocation.args.gameId
});
}, n.selectionState = new l.CareerSelectionState(), n;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this.props.viewLocation.args.gameId;
this.subscribeToStores({
assignments: c.scopedStore(h.AssignmentStore, e, "data"),
error: c.scopedStore(h.AssignmentStore, e, "error")
});
}, n.prototype.componentDidMount = function() {
m.AssignmentClient.trigger(this.props.viewLocation.args.gameId);
}, n.prototype.render = function() {
var e = this.state, t = e.assignments, n = e.error, a = r.createElement("surface", null);
return a = n || t && 0 === t.length ? r.createElement(p.EmptyState, {
text: __("ID_SPARTA_CAREER_ERROR_LOADING_ASSIGNMENTS"),
subText: __("ID_SPARTA_CAREER_ERROR_LOADING_ASSIGNMENTS_MESSAGE")
}) : null == t ? r.createElement(p.EmptyState, null, r.createElement(f.Spinner, {
large: !0
})) : r.createElement(i.CareerSection, {
gameId: this.props.viewLocation.args.gameId,
categorizedData: t,
selectionState: this.selectionState,
renderItem: this.renderItem,
renderFocusPane: this.renderFocusPane
}), r.createElement(o.Template, {
tallContent: !0,
scrollContent: !1
}, r.createElement("surface", {
style: y
}, a));
}, n = e.__decorate([ u.storeSubscriber ], n);
}(r.Component);
t.CareerAssignments = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(8), i = n(6), a = n(218), s = n(4), u = n(61), l = n(10), c = n(143), p = n(14), d = n(1536), f = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), Object.defineProperty(n.prototype, "item", {
get: function() {
return this.props.selectionState.item;
},
enumerable: !0,
configurable: !0
}), n.prototype.areDependenciesCompleted = function() {
return !!this.item && !!this.item.dependencies && this.item.dependencies.every(function(e) {
return !!e.progression && e.progression.unlocked;
});
}, n.prototype.renderDependencies = function(e) {
if (!this.item || !this.item.dependencies) return r.createElement("surface", null);
var t = l.gameStore.getGame(this.props.gameId), n = t && t.expansionAssets && t.expansionAssets.icons;
return r.createElement("surface", {
style: d.AssignmentFocusPaneStyles.dependencies
}, this.item.dependencies.map(function(t, o) {
var s = t.progression ? t.progression.valueAcquired : 0, l = t.progression ? t.progression.valueNeeded : 0, f = p.bbUrl("/sparta/jsclient/builds/assets/icon-prerequisite-62c37f63.png");
t.icon === a.DepType.Rank ? f = p.bbUrl("/sparta/jsclient/builds/assets/icon-rank-dd34db7c.png") : t.icon === a.DepType.Expansion && t.expansions && n && (f = n[t.expansions[0].license]);
var m = d.AssignmentFocusPaneStyles.dependencyImage({
image: f
});
return r.createElement("surface", {
key: o,
style: [ d.AssignmentFocusPaneStyles.dependencySpecContainer, {
width: e
} ]
}, r.createElement("surface", {
style: m
}), r.createElement(i.Text, {
size: "S",
style: d.AssignmentFocusPaneStyles.nameSizing,
value: t.name
}), 1 === l || s >= l ? r.createElement(c.Checkbox, {
value: s > 0
}) : r.createElement(i.Text, {
size: "S",
value: u.formatThousands(s) + "/" + u.formatThousands(l)
}));
}), r.createElement("surface", {
style: d.AssignmentFocusPaneStyles.hrLine
}));
}, n.prototype.renderCriterias = function(e) {
if (!this.item || !this.item.criterias) return r.createElement("surface", null);
var t = {
opacity: this.areDependenciesCompleted() ? 1 : .5
};
return r.createElement("surface", {
style: t
}, r.createElement(i.Text, {
value: __("ID_SPARTA_CAREER_REQUIREMENTS"),
size: "S",
type: "emphasis",
style: d.AssignmentFocusPaneStyles.unlockTitle
}), this.item.criterias.map(function(t, n) {
var o = t.progression ? t.progression.valueAcquired : 0, a = t.progression ? t.progression.valueNeeded : 0, s = t.progression ? t.progression.percentage : 0;
return r.createElement("surface", {
style: [ d.AssignmentFocusPaneStyles.criteriaSpecContainer, {
width: e
} ],
key: n
}, r.createElement(i.Text, {
size: "S",
style: d.AssignmentFocusPaneStyles.nameSizing,
value: t.name
}), 1 === a || s >= 1 ? r.createElement(c.Checkbox, {
value: o > 0
}) : r.createElement(i.Text, {
size: "S",
value: u.formatThousands(o) + "/" + u.formatThousands(a)
}));
}));
}, n.prototype.renderUnlocks = function() {
if (!this.item || !this.item.unlocks || 0 === this.item.unlocks.length) return r.createElement("surface", null);
var e = this.item.unlocks.map(function(e) {
return Object.keys(e).map(function(t) {
var n = e[t];
if (n) {
var a = {
texture: n.hires && n.hires.Png256xANY ? n.hires.Png256xANY : n.imageUrl
};
return "skin" === t ? a.textureMode = "cover" : "dogtag" !== t && (a.height = o.getHeight(15)), 
r.createElement("surface", {
key: n.name
}, r.createElement("surface", {
style: [ d.AssignmentFocusPaneStyles.unlockImage, a ]
}), r.createElement(i.Text, {
value: n.name,
style: d.AssignmentFocusPaneStyles.unlockItemName,
size: "S"
}));
}
});
});
return r.createElement("surface", null, r.createElement("surface", {
style: d.AssignmentFocusPaneStyles.hrLine
}), r.createElement(i.Text, {
size: "S",
type: "emphasis",
value: __("ID_SPARTA_CAREER_REWARD").toUpperCase(),
style: d.AssignmentFocusPaneStyles.unlockTitle
}), e);
}, n.prototype.renderFocusedItem = function(e) {
if (!this.item) return r.createElement("surface", null);
var t = "" !== this.item.description && !!this.item.unlocks && 0 === this.item.unlocks.length;
return r.createElement("surface", null, r.createElement("surface", {
style: [ d.AssignmentFocusPaneStyles.image, {
texture: this.item.images && this.item.images.Small
} ]
}), r.createElement(i.Text, {
size: "M",
type: "emphasis",
style: d.AssignmentFocusPaneStyles.nameText,
value: (this.item.name || "").toUpperCase()
}), t && r.createElement(i.Text, {
size: "S",
style: d.AssignmentFocusPaneStyles.nameText,
value: this.item.description
}), this.item.dependencies && this.renderDependencies(e), this.item.criterias && this.renderCriterias(e), this.item.unlocks && this.renderUnlocks());
}, n.prototype.render = function() {
var e = this.props.widthGridCells, t = o.getWidth(e) - d.AssignmentFocusPaneStyles.contentMargins.getNumericStyle("paddingLeft", 0);
return r.createElement(o.Col, {
width: e,
style: d.AssignmentFocusPaneStyles.contentMargins
}, this.renderFocusedItem(t));
}, n = e.__decorate([ s.observer ], n);
}(r.Component);
t.AssignmentFocusPane = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("AssignmentFocusPaneStyles"), a = function() {
function e() {}
return e.contentMargins = o.wrap(function() {
return o.style({
paddingLeft: 3 * o.Grid.GUTTER,
paddingRight: 0
}, "dd7c0b1e:7:39");
}), e.image = o.wrap(function() {
return o.style({
height: o.Grid.getHeight(29),
textureMode: "contain",
marginBottom: o.Grid.GUTTER
}, "dd7c0b1e:14:30");
}), e.nameText = o.wrap(function() {
return o.style({
marginBottom: 2 * o.Grid.GUTTER
}, "dd7c0b1e:22:33");
}), e.nameSizing = o.wrap(function() {
return o.style({
flex: 2,
paddingRight: o.Grid.GUTTER
}, "dd7c0b1e:28:35");
}), e.dependencies = o.wrap(function() {
return o.style({
marginBottom: o.Grid.GUTTER
}, "dd7c0b1e:36:37");
}), e.dependencySpecContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
marginBottom: 1.5 * o.Grid.GUTTER
}, "dd7c0b1e:42:48");
}), e.dependencyImage = o.stylefunc(function() {
return o.style({
textureMode: "contain",
height: o.Grid.getHeight(2),
width: o.Grid.getHeight(2),
marginRight: o.Grid.GUTTER
}, "dd7c0b1e:51:14");
}, function(e) {
return o.dynamicStyle({
texture: e.image
}, "dd7c0b1e:58:36");
}), e.criteriaSpecContainer = o.wrap(function() {
return o.style({
flexDirection: "row",
justifyContent: "space-between",
marginBottom: 1.5 * o.Grid.GUTTER
}, "dd7c0b1e:64:46");
}), e.criteriaText = o.wrap(function() {
return o.style({
color: "#EEEEEE",
width: 300
}, "dd7c0b1e:72:37");
}), e.criteriaSpec = o.wrap(function() {
return o.style({
color: "#EEEEEE"
}, "dd7c0b1e:79:37");
}), e.hrLine = o.wrap(function() {
return o.style({
height: 1,
backgroundColor: "#ffffff1a",
marginBottom: o.Grid.GUTTER,
marginTop: o.Grid.GUTTER
}, "dd7c0b1e:85:31");
}), e.unlockImage = o.wrap(function() {
return o.style({
height: o.Grid.getHeight(10),
textureMode: "contain",
marginBottom: o.Grid.GUTTER
}, "dd7c0b1e:95:36");
}), e.unlockItemName = o.wrap(function() {
return o.style({
textAlign: "center",
textAlignForRTL: "center"
}, "dd7c0b1e:103:39");
}), e.unlockTitle = o.wrap(function() {
return o.style({
marginTop: o.Grid.GUTTER,
marginBottom: o.Grid.GUTTER
}, "dd7c0b1e:110:36");
}), e = r.__decorate([ i.style ], e);
}();
t.AssignmentFocusPaneStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function(e) {
function t(t) {
var n = e.call(this, t) || this;
return n.kind = "assignment", n.icon = t.icon, n.unlocks = t.unlocks, n;
}
return r.__extends(t, e), t;
}(n(218).BaseAward);
t.Assignment = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(178), o = n(685), i = new (n(152).InternalStorage)("AssignmentStore");
t.AssignmentStore = r.createStore({
init: function() {
o.AssignmentClient.listen(function(e, n, r) {
var o = {};
o[e] = {
data: n,
error: r
}, function a(e) {
i.merge(e), t.AssignmentStore.trigger(i.getState());
}(o);
});
},
getState: function() {
return i.getState();
}
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(275), i = n(64), a = n(32), s = n(160), u = n(457), l = n(238), c = n(212), p = n(39), d = n(686), f = n(1541), m = n(23), h = n(29), g = n(5), y = g.StaticStyle.create({
height: m.content.height
}, "2223c5e8:139:33"), S = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.renderItem = function(e, t, o, i, a, u, l) {
var c = t.getUnlockProgression() || t.progression, p = !1;
c && (c.unlocked ? p = !0 : "GADGET" !== t.category && (0 === c.valueNeeded ? p = !0 : c.valueAcquired / c.valueNeeded > .25 && (p = !0)));
return r.createElement(s.AwardItem, {
awardImage: t.images.Small,
style: g.DynamicStyle.wrapLegacyStyle(e, "2223c5e8:75:24"),
ref: function(e) {
return l(o, e);
},
key: "career-kit-item-" + o,
itemState: n.selectionState.getItemState(o),
unlocked: p,
activeColor: "#000000",
dependencyAcquired: c && c.valueAcquired,
dependencyNeeded: c && c.valueNeeded,
progressPercent: c && c.percentage,
expansion: t.expansion,
hideAwardCount: !0,
gameId: n.gameId,
onSelect: i,
onFocus: a
});
}, n.renderFocusPane = function(e) {
return r.createElement(u.WeaponFocusPane, {
selectionState: n.selectionState,
widthGridCells: e,
isGadget: !0,
gameId: n.gameId
});
}, n.selectionState = new c.CareerSelectionState(), n;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
var e = this.gameId;
this.subscribeToStores({
kits: o.scopedStore(f.KitStore, e, "data"),
error: o.scopedStore(f.KitStore, e, "error")
});
}, n.prototype.componentDidMount = function() {
d.KitClient.trigger(this.gameId);
}, Object.defineProperty(n.prototype, "gameId", {
get: function() {
return this.props.viewLocation.args.gameId;
},
enumerable: !0,
configurable: !0
}), n.prototype.render = function() {
var e = this.state, t = e.kits, n = e.error, o = r.createElement("surface", null);
return o = n || t && 0 === t.length ? r.createElement(p.EmptyState, {
text: __("ID_SPARTA_CAREER_ERROR_LOADING_KITS"),
subText: __("ID_SPARTA_CAREER_ERROR_LOADING_KITS_MESSAGE")
}) : null == t ? r.createElement(p.EmptyState, null, r.createElement(h.Spinner, {
large: !0
})) : r.createElement(l.CareerSection, {
hasCategories: !0,
categoryInFocusPane: !0,
preSelectedId: this.props.viewLocation.args.id,
preSelectedCategory: this.props.viewLocation.args.category,
gameId: this.gameId,
categorizedData: t,
selectionState: this.selectionState,
renderItem: this.renderItem,
renderFocusPane: this.renderFocusPane
}), r.createElement(a.Template, {
tallContent: !0,
scrollContent: !1
}, r.createElement("surface", {
style: y
}, o));
}, n = e.__decorate([ i.storeSubscriber ], n);
}(r.Component);
t.CareerKits = S;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = function() {
return function e(t) {
this.items = [], t.name && (this.name = t.name), t.items && (this.items = t.items);
};
}();
t.KitGadgetUpgradesCategory = r;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(178), o = n(686), i = new (n(152).InternalStorage)("KitStore");
t.KitStore = r.createStore({
init: function() {
o.KitClient.listen(function(e, n, r) {
var o = {};
o[e] = {
data: n,
error: r
}, function a(e) {
i.merge(e), t.KitStore.trigger(i.getState());
}(o);
});
},
getState: function() {
return i.getState();
}
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(64), i = n(32), a = n(457), s = n(1543), u = n(238), l = n(212), c = n(435), p = n(668), d = n(10), f = n(275), m = n(39), h = n(23), g = n(29), y = n(1544), S = n(458), v = n(5).StaticStyle.create({
height: h.content.height
}, "a282036b:140:33"), _ = function(t) {
function n(e) {
var n = t.call(this, e) || this;
return n.renderItem = function(e, t, o, i, a) {
var u = t.progression.unlocked ? t.progression : t.getUnlockProgression() || t.progression, l = t.images.Small || "";
return r.createElement(s.WeaponItem, {
gameId: n.gameId,
style: e,
image: l,
key: "weaponitem-" + o,
star: t.star,
progression: u,
itemState: n.selectionState.getItemState(o),
unlocked: u && u.unlocked,
onSelect: n.updateAccessories.bind(n, t, i),
expansion: t.expansion,
premium: t.premium,
onFocus: n.updateAccessories.bind(n, t, a)
});
}, n.renderFocusPane = function(e) {
return r.createElement(a.WeaponFocusPane, {
widthGridCells: e,
canShowAccessories: !0,
selectionState: n.selectionState,
gameId: n.gameId
});
}, n.selectionState = new l.CareerSelectionState(), n;
}
return e.__extends(n, t), n.prototype.componentWillMount = function() {
this.subscribeToStores({
weapons: f.scopedStore(y.WeaponStore, this.gameId, "data"),
error: f.scopedStore(y.WeaponStore, this.gameId, "error")
});
}, n.prototype.componentDidMount = function() {
c.WeaponClient.trigger(this.gameId);
}, Object.defineProperty(n.prototype, "gameId", {
get: function() {
return this.props.viewLocation.args.gameId;
},
enumerable: !0,
configurable: !0
}), n.prototype.updateAccessories = function(e, t) {
var n = e.code, r = d.gameStore.getGame(this.gameId);
!S.weaponAccessoriesStore.weaponAccessories.has(n) && r && r.soldierConfig.showAccessoriesForWeapons && (e.accessories || p.AccessoriesClient.trigger(this.gameId, n)), 
t && t();
}, n.prototype.render = function() {
var e = this.state, t = e.weapons, n = e.error, o = r.createElement("surface", null);
return o = n || t && 0 === t.length ? r.createElement(m.EmptyState, {
text: __("ID_SPARTA_CAREER_ERROR_LOADING_WEAPONS"),
subText: __("ID_SPARTA_CAREER_ERROR_LOADING_WEAPONS_MESSAGE")
}) : null === t || void 0 === t ? r.createElement(m.EmptyState, null, r.createElement(g.Spinner, {
large: !0
})) : r.createElement(u.CareerSection, {
gameId: this.gameId,
preSelectedId: this.props.viewLocation.args.id,
selectionState: this.selectionState,
categorizedData: t,
preSelectedCategory: this.props.viewLocation.args.category,
renderItem: this.renderItem,
renderFocusPane: this.renderFocusPane
}), r.createElement(i.Template, {
tallContent: !0,
scrollContent: !1
}, r.createElement("surface", {
style: v
}, o));
}, n = e.__decorate([ o.storeSubscriber ], n);
}(r.Component);
t.CareerWeapons = _;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(8), a = n(6), s = n(86), u = n(14), l = n(11), c = n(12), p = n(10), d = n(5), f = n(17), m = n(9), h = n(22), g = n(77), y = n(7), S = {
box: {
height: i.getHeight(13),
position: "relative"
},
focusedCard: {
backgroundColor: "#ffffff"
},
activeCard: {
backgroundColor: "#ffffff33"
},
blurredCard: {
backgroundColor: "#00000055"
},
progressBar: d.StaticStyle.create({
position: "absolute",
bottom: 0
}, "752842bc:43:17"),
image: {
zOffset: 1,
textureMode: "contain",
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0
},
lockIcon: function(e) {
return {
position: "absolute",
right: 5,
bottom: 6,
opacity: .66,
width: i.getHeight(2),
height: i.getHeight(2),
texture: u.bbOfflineUrl("/sparta/assets/career/icon-lock-white-27283301.png"),
color: e ? "#000000" : "#ffffff"
};
},
starContainer: {
zOffset: 10,
flexDirection: "row",
position: "absolute",
left: i.GUTTER,
bottom: i.GUTTER - 1
},
star: {
width: i.getHeight(2),
height: i.getHeight(2),
texture: u.bbOfflineUrl("/sparta/assets/ui/icons/ui/small-star-white-b3141b80.png"),
textureMode: "contain",
marginRight: i.GUTTER / 2,
color: "#ff9900"
},
starNumber: {
marginTop: -1
},
activeIndicator: {
position: "absolute",
width: 2,
top: 0,
bottom: 0,
left: 0,
backgroundColor: "#FFFFFF"
},
expansionIcon: {
textureMode: "contain",
height: i.getHeight(2),
width: i.getHeight(2),
position: "absolute",
left: 5,
top: 6
}
}, v = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = y.SpartaContext.getFromComponent(r), r.focusItem = h.focusSystem.create(r, "weaponitem"), 
g.onComponentUpdate(r, function(e) {
r.focusItem.id = "weaponitem_" + e.image, e.onSelect && m.SpartaGlobals.bundleIsConsole ? r.sparta.stores.inputStore.bindInputToFocusItem(new c.Input({
action: e.onSelect,
label: __("ID_SPARTA_ACTION_SELECT"),
key: l.Keys.Accept
}), r.focusItem) : e.onFocus && m.SpartaGlobals.bundleIsPC ? r.sparta.stores.inputStore.bindInputToFocusItem(new c.Input({
action: e.onFocus,
label: __("ID_SPARTA_ACTION_SELECT"),
key: l.Keys.Accept
}), r.focusItem) : console.warn("No action for weaponitem " + e.image);
}), r.focusItem.onChange.listen(function(e) {
e && h.focusSystem.controllerMode && r.props.onFocus();
}), r;
}
return e.__extends(n, t), n.prototype.renderResourceIcon = function() {
var e = p.gameStore.getGame(this.props.gameId), t = e && e.expansionAssets && e.expansionAssets.icons, n = this.props, o = n.expansion, i = void 0;
return n.premium ? i = u.bbUrl("/sparta/jsclient/builds/assets/icon-p-shield-a91bad20.png") : o && t && t[o] && (i = t[o]), 
r.createElement("surface", {
style: [ S.expansionIcon, {
texture: i
} ]
});
}, n.prototype.renderProgressBar = function() {
return this.props.progression ? r.createElement(s.ProgressBar, {
height: "S",
completed: this.props.progression.percentage,
style: d.merge2(S.progressBar, d.DynamicStyle.create({
width: this.props.style.width
}, "752842bc:192:50")),
bgColorStyle: f.CommonStyles.bgColor("#ffffff99")
}) : r.createElement("surface", null);
}, n.prototype.renderStars = function(t) {
var n = this.props.star;
if (!n) return r.createElement("surface", null);
var o = 100 === n.timesAquired, i = o ? "#ff9900" : t ? "#000000" : "#ffffff", s = {
star: e.__assign({}, S.star, {
color: i
}),
starNumber: e.__assign({}, S.starNumber, {
color: i
})
}, u = o ? 100 : n.timesAquired;
return r.createElement("surface", {
style: S.starContainer
}, r.createElement("surface", {
style: s.star
}), r.createElement(a.Text, {
style: s.starNumber,
value: "" + u,
size: "XS"
}));
}, n.prototype.render = function() {
var t = this.focusItem.isFocusedOrHovered, n = t || this.props.itemState.active, o = {
box: {
opacity: this.props.unlocked ? 1 : .33
},
image: {
color: this.props.unlocked && t ? "#000000" : null,
texture: this.props.image
}
}, i = S.blurredCard;
return n && (i = t ? S.focusedCard : S.activeCard), r.createElement("surface", e.__assign({}, this.focusItem.hooks, {
style: [ S.box, this.props.style, i, o.box ]
}), r.createElement("surface", {
style: [ S.image, o.image ]
}), this.props.expansion || this.props.premium ? this.renderResourceIcon() : null, this.renderStars(t), this.renderProgressBar(), !this.props.unlocked && r.createElement("surface", {
style: S.lockIcon(t)
}));
}, n.contextTypes = y.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.WeaponItem = v;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(178), o = n(435), i = new (n(152).InternalStorage)("WeaponStore");
t.WeaponStore = r.createStore({
init: function() {
o.WeaponClient.listen(function(e, n, r) {
var o;
!function a(e) {
i.merge(e), t.WeaponStore.trigger(i.getState());
}((o = {}, o[e] = {
data: n,
error: r
}, o));
});
},
getState: function() {
return i.getState();
}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(10), a = n(18), s = n(162), u = n(43), l = n(119), c = n(683), p = n(197), d = n(310), f = n(173), m = n(150), h = n(139), g = n(682), y = n(196), S = n(172), v = (n(1546), 
n(120)), _ = n(180), b = n(295), T = n(192), E = function() {
function e(e) {
this.frostbite = e, this.inRimeScreen = !1;
}
return e.prototype.returnFromRime = function() {
this.inRimeScreen = !1, this.returnCallback && this.returnCallback();
}, e.prototype.transitionToRime = function(e, t) {
this.inRimeScreen || (this.screenMessage = e, this.inRimeScreen = !0, t && (this.returnCallback = t));
}, e.prototype.sendQueuedScreenMessage = function() {
this.screenMessage && (this.frostbite.sendMessage(this.screenMessage), this.screenMessage = void 0);
}, r.__decorate([ o.observable ], e.prototype, "inRimeScreen", void 0), r.__decorate([ o.action ], e.prototype, "returnFromRime", null), 
r.__decorate([ o.action ], e.prototype, "transitionToRime", null), e;
}();
t.warsawBindings = function C(e) {
var t = e.sparta.twinkle.frostbite, n = e.sparta.stores, r = n.presenceStateStore, C = n.joinFlowLoader, I = n.popupManager, A = new E(t);
i.nativePropertiesStore.onHostingGameId(function(t) {
"bf4" === t && function n(e, t) {
var n = e.sparta.twinkle.frostbite, r = e.sparta.stores, a = r.presenceStateStore, s = r.settingsStore;
c.onGameSessionJoinRefused.listen(function(e) {
n.sendMessage("warsaw.cancelReservation", {
gameId: e
});
}), n.registerMessageListener("sparta.getLocalUserResp", function(e, t) {
t.modMask && u.setInstalledExpansions("bf4", t.modMask);
}), o.reaction(function() {
return i.spartaActivatedStore.lastReceived;
}, function() {
i.spartaActivatedStore.isSpartaActive && t.returnFromRime();
}), b.frostbiteListenable(e.sparta.twinkle.frostbite, "sparta.userTitleInfo").listen(function(t) {
if (t.success) {
var n = t.users.map(function(t) {
var n = S.SpartaUserId.getPlatformId(t.spartaUserId), r = (n ? e.sparta.stores.userStore.users.get(n) : null) || new T.User();
return r.extend({
spartaUserId: S.SpartaUserId.update(r.spartaUserId, t.spartaUserId)
});
});
e.sparta.stores.userStore.updateUsers(n);
}
}), o.autorun(function() {
i.layoutVisibilityStore.setVisibilities({
miniMenu: !e.sparta.stores.partyStoreLoader.get().isInSquadJoin,
only: !!t.inRimeScreen && {
background: !0
}
}, function() {
return t.sendQueuedScreenMessage();
});
}), o.reaction(function() {
return a.isFirstPartyConnected;
}, function(e) {
e && null === s.UGCAccessLevel && n.sendMessage("sparta.getOnlinePrivileges");
}, {
fireImmediately: !0
}), m.onDisconnected.listen(function() {
e.sparta.stores.partyStoreLoader.get().setInSquadJoin(!1);
}), u.stopGame.listen(function() {
var e = "bf4" === i.gameStateStoreLoader.get().serverGameId, t = i.gameStateStoreLoader.get().queue.status === y.QueueStatus.Queued;
e && t && !i.gameStateStoreLoader.get().server && n.sendMessage("warsaw.leaveGame");
});
}(e, A);
}), s.showOptions.listen(function() {
return A.transitionToRime("warsaw.showOptions");
}), s.showCredits.listen(function() {
return A.transitionToRime("warsaw.showCredits");
}), s.showBattlepacks.listen(function() {
return A.transitionToRime("warsaw.showBattlepacks", function() {
return g.invalidateStatsClient.trigger("bf4");
});
}), s.purchaseRSP.listen(function() {
return A.transitionToRime("warsaw.purchaseRSP");
}), s.showSquadJoin.listen(function(t) {
void 0 === t && (t = !1), t || (e.sparta.stores.partyStoreLoader.get().setInSquadJoin(!0), 
a.gotoLocation("warsaw/mp/squadjoin")), A.transitionToRime("warsaw.showSquadJoin");
}), s.showCampaign.listen(function() {
C.get().checkGameState().then(function() {
return A.transitionToRime("warsaw.showCampaign");
}).catch(function(e) {
C.get().handleChecksError(e);
});
}), s.joinGame.listen(function(e) {
var n = {
asSpectator: "spectator" === e.role,
asCommander: "commander" === e.role
};
if (e.password && (n.password = e.password), e.squad) return n.playgroupId = e.squad.id, 
n.gameId = e.server.gameId, n.hasReservation = !1, t.sendMessage("warsaw.joinGame", n), 
void s.showSquadJoin(!1);
e.friend ? n.spartaUserId = e.friend.spartaUserId : n.gameId = e.server.gameId, 
n.hasReservation = !!e.server, t.sendMessage("warsaw.joinGame", n);
}), s.playTestRange.listen(function() {
C.get().checkPresenceReady().then(function() {
return C.get().checkGameState();
}).then(function() {
"bf4" === i.nativePropertiesStore.getHostingGameId() ? i.layoutVisibilityStore.setVisibilities({
all: !1
}, function() {
t.sendMessage("warsaw.playTestRange");
}) : console.error("playTestRange: Not implemented");
});
}), t.registerMessageListener("warsaw.joinResultMessage", function(e, t) {
var n, r = ((n = {})[t.JoinResult_Success] = p.JoinResultType.success, n[t.JoinResult_UnknownError] = p.JoinResultType.unknownError, 
n[t.JoinResult_InvalidGame] = p.JoinResultType.invalidGameState, n[t.JoinResult_InvalidGameState] = p.JoinResultType.invalidGameState, 
n[t.JoinResult_ServerFull] = p.JoinResultType.gameFull, n[t.JoinResult_NoServerFound] = p.JoinResultType.noServerFound, 
n[t.JoinResult_UserNotFound] = p.JoinResultType.playerNotFound, n[t.JoinResult_Queued] = p.JoinResultType.queued, 
n[t.JoinResult_TimeOut] = p.JoinResultType.timeOut, n[t.JoinResult_WrongVersion] = p.JoinResultType.wrongVersion, 
n[t.JoinResult_Banned] = p.JoinResultType.banned, n[t.JoinResult_IndirectJoinFailed] = p.JoinResultType.indirectJoinFail, 
n[t.JoinResult_RoleCriteriaFailed] = p.JoinResultType.roleCriteriaFailed, n[t.JoinResult_RoleFull] = p.JoinResultType.roleFull, 
n[t.JoinResult_RoleNotAllowed] = p.JoinResultType.roleNotAllowed, n[t.JoinResult_FailedReputationCheck] = p.JoinResultType.failedReputationCheck, 
n[t.JoinResult_FailedRankRequirement] = p.JoinResultType.rankCriteriaFailed, n), o = t.gameId && "0" !== t.gameId ? t.gameId : null;
l.onJoinMultiplayerServerResult(new p.JoinMultiplayerServerResult({
gameId: "bf4",
resultType: r[t.joinResult],
blazeGameId: o
}));
}), t.registerMessageListener("warsaw.serverDisconnectedMessage", function(e, t) {
var n;
if (!A.inRimeScreen) {
var r = ((n = {})[t.DISCONNECT_OK] = d.DisconnectionType.ok, n[t.DISCONNECT_WRONG_PROTOCOL_VERSION] = d.DisconnectionType.wrongProtocolVersion, 
n[t.DISCONNECT_WRONG_TITLE_VERSION] = d.DisconnectionType.wrongTitleVersion, n[t.DISCONNECT_SERVER_FULL] = d.DisconnectionType.serverFull, 
n[t.DISCONNECT_KICKED] = d.DisconnectionType.kickedOut, n[t.DISCONNECT_BANNED] = d.DisconnectionType.banned, 
n[t.DISCONNECT_GENERIC] = d.DisconnectionType.genericError, n[t.DISCONNECT_WRONG_PASSWORD] = d.DisconnectionType.wrongPassword, 
n[t.DISCONNECT_DEMO_OVER] = d.DisconnectionType.kickedOutDemoOver, n[t.DISCONNECT_RANK_RESTRICTED] = d.DisconnectionType.rankRestricted, 
n[t.DISCONNECT_CONFIGURATION_NOT_ALLOWED] = d.DisconnectionType.configurationNotAllowed, 
n[t.DISCONNECT_SERVER_RECLAIMED] = d.DisconnectionType.serverReclaimed, n[t.DISCONNECT_MISSING_CONTENT] = d.DisconnectionType.missingContent, 
n[t.DISCONNECT_NOT_VERIFIED] = d.DisconnectionType.notVerified, n[t.DISCONNECT_TIMED_OUT] = d.DisconnectionType.timedOut, 
n[t.DISCONNECT_CONNECT_FAILED] = d.DisconnectionType.connectFailed, n[t.DISCONNECT_NO_REPLY] = d.DisconnectionType.noReply, 
n[t.DISCONNECT_ACCEPT_FAILED] = d.DisconnectionType.acceptFailed, n[t.DISCONNECT_MISMATCHING_CONTENT] = d.DisconnectionType.mismatchingContent, 
n[t.DISCONNECT_KICKED_OUT_RANK_TOO_HIGH] = d.DisconnectionType.kickedOutRankTooHigh, 
n[t.DISCONNECT_INTERACTIVITY_TIMEOUT] = d.DisconnectionType.interactivityTimeout, 
n[t.DISCONNECT_KICKED_FROM_QUEUE] = d.DisconnectionType.kickedFromQueue, n[t.DISCONNECT_TEAM_KILL] = d.DisconnectionType.teamKills, 
n[t.DISCONNECT_KICKED_BY_ADMIN] = d.DisconnectionType.kickedByAdmin, n[t.DISCONNECT_KICKED_VIA_PUNKBUSTER] = d.DisconnectionType.kickedViaPunkBuster, 
n[t.DISCONNECT_KICKED_FULL] = d.DisconnectionType.kickedOutServerFull, n[t.DISCONNECT_ESPORT_STARTING] = d.DisconnectionType.eSportsMatchStarting, 
n[t.DISCONNECT_ESPORT_NOT_IN_ROSTER] = d.DisconnectionType.notInESportsRosters, 
n[t.DISCONNECT_ESPORT_ENDING] = d.DisconnectionType.eSportsMatchEnding, n[t.DISCONNECT_VIRTUAL_EXPIRED] = d.DisconnectionType.virtualServerExpired, 
n[t.DISCONNECT_VIRTUAL_RECREATE] = d.DisconnectionType.virtualServerRecreate, n[t.DISCONNECT_ESPORT_FULL] = d.DisconnectionType.eSportsTeamFull, 
n[t.DISCONNECT_ESPORT_ABORTED] = d.DisconnectionType.eSportsMatchAborted, n[t.DISCONNECT_ESPORT_WALKOVER] = d.DisconnectionType.eSportsMatchWalkover, 
n[t.DISCONNECT_ESPORT_WARMUP_TIME_OUT] = d.DisconnectionType.eSportsMatchWarmupTimedOut, 
n[t.DISCONNECT_NO_SPECTATORS] = d.DisconnectionType.notAllowedToSpectate, n[t.DISCONNECT_NO_SPECTATOT_SLOTS] = d.DisconnectionType.noSpectateSlotAvailable, 
n[t.DISCONNECT_INVALID_SPECTATE] = d.DisconnectionType.invalidSpectateJoin, n[t.DISCONNECT_KICKED_FAIR_FIGHT] = d.DisconnectionType.kickedViaFairFight, 
n[t.DISCONNECT_KICKED_COMMANDER_LEAVE] = d.DisconnectionType.ok, n[t.DISCONNECT_KICKED_COMMANDER_MUTINY] = d.DisconnectionType.kickedCommanderAfterMutiny, 
n[t.DISCONNECT_MAINTENANCE] = d.DisconnectionType.serverMaintenance, n[t.DISCONNECT_KICKED_GAME_TIME_OFFICIAL] = d.DisconnectionType.kickedGameTimeAccountOnUnofficial, 
n);
l.onMultiplayerServerDisconnection({
event: new d.MultiplayerServerDisconnection("bf4", null, r[t.disconnectReason], null)
});
}
}), t.registerMessageListener("warsaw.presenceStatusMessage", function(e, t) {
var n, o, i, a = ((n = {})[t.Event_ModeChanged] = f.ConnectionEventType.modeChanged, 
n[t.Event_Disconnected] = f.ConnectionEventType.disconnected, n[t.Event_BackendDisconnected] = f.ConnectionEventType.backendDisconnected, 
n[t.Event_Connecting] = f.ConnectionEventType.connecting, n[t.Event_ConnectionReady] = f.ConnectionEventType.connectionReady, 
n[t.Event_OnlineFlowDone] = f.ConnectionEventType.onlineFlowDone, n[t.Event_FirstPartyConnected] = f.ConnectionEventType.firstPartyConnected, 
n[t.Event_FirstPartyDisconnected] = f.ConnectionEventType.firstPartyDisconnected, 
n[t.Event_ConnectionMessage] = f.ConnectionEventType.connectionMessage, n[t.Event_LoginAccountFailed] = f.ConnectionEventType.loginAccountFailed, 
n), s = ((o = {})[t.Result_Success] = f.ConnectionResultType.success, o[t.Result_Failure] = f.ConnectionResultType.failure, 
o[t.Result_InvalidUser] = f.ConnectionResultType.invalidUser, o[t.Result_LoginCancelled] = f.ConnectionResultType.loginCancelled, 
o[t.Result_ServerDisconnect] = f.ConnectionResultType.serverDisconnect, o[t.Result_Timeout] = f.ConnectionResultType.timeout, 
o[t.Result_TooYoung] = f.ConnectionResultType.tooYoung, o[t.Result_TooYoungForContent] = f.ConnectionResultType.tooYoungForContent, 
o[t.Result_MissingOnlineAccess] = f.ConnectionResultType.missingOnlineAccess, o[t.Result_SystemError] = f.ConnectionResultType.systemError, 
o[t.Result_NoMultiplayerPrivilege] = f.ConnectionResultType.noMultiplayerPrivilege, 
o[t.Result_AccountBanned] = f.ConnectionResultType.accountBanned, o[t.Result_AccountDisabled] = f.ConnectionResultType.accountBanned, 
o[t.Result_AccountDeactivated] = f.ConnectionResultType.accountBanned, o), u = ((i = {})[t.Mode_Offline] = f.PresenceModeType.offline, 
i[t.Mode_SilentOnline] = f.PresenceModeType.silentOnline, i[t.Mode_Online] = f.PresenceModeType.online, 
i), l = a[t.eventType], c = s[t.resultType], p = u[t.mode];
l === f.ConnectionEventType.connectionReady && c === f.ConnectionResultType.success && r.updatePresence(new f.PresenceStatusMessage({
eventType: f.ConnectionEventType.qualityOfServiceDone
})), r.updatePresence(new f.PresenceStatusMessage({
eventType: l,
resultType: c,
mode: p,
customMessage: t.connectionMessage
}));
}), t.registerMessageListener("warsaw.crossLaunchCampaign", function() {
h.continueSinglePlayer("bf4");
}), t.registerMessageListener("warsaw.modMaskUpdated", function(e, t) {
t.modMask && u.setInstalledExpansions("bf4", t.modMask);
}), t.registerMessageListener("warsaw.squadJoinMessage", function(t, n) {
var r = n.transition;
0 === r && a.gotoLocation("warsaw/mp/servers"), 1 === r && (i.locationStore.returnFromLocation("warsaw/mp/squadjoin"), 
e.sparta.stores.partyStoreLoader.get().setInSquadJoin(!1));
});
var w = i.matchmakingManager.forGame("bf4");
w.onFinished(function(t) {
var n = t.session;
if (i.nativePropertiesStore.isHostingGame(n.gameId)) {
if (n.stateId === v.MatchmakingState.SUCCESS && n.server) {
var r = _.createJoinOptions(e.sparta.stores.partyStoreLoader, n.server);
u.joinMatchmakingResult(r);
}
if (n.stateId === v.MatchmakingState.ERROR && n.error && !n.error.silent) {
var o = n.error;
I.alert(o.description, o.title);
}
}
}), w.onRaisedJoinError(function(e) {
var t = e.session, n = e.joinError;
n && i.nativePropertiesStore.isHostingGame(t.gameId) && C.get().handleChecksError(n);
});
};
}, function(e, t, n) {
"use strict";
(function(e) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(3), o = n(45), i = n(150), a = n(551), s = n(517), u = n(117), l = n(393), c = e.get("GatewaySessionResume"), p = !1, d = o.createTypedAction();
function f() {
l.removeItem("gwsession", function() {
c.info("Starting with no blaze session, clearing stored gateway session");
});
}
t.setupGatewaySessionResume = function m(e) {
var t = e.sparta.stores, n = t.presenceStateStore, o = t.gatewayState;
a.setConnectionTrigger(d), r.reaction(function() {
return u.coreEventStore.nativeClientReadyMessage;
}, function(e) {
e && (e.nativeClientInformation.isOnlineSnapshot ? function t() {
return c.info("Trying to get from disk"), new Promise(function(e, t) {
l.getItem("gwsession", function(t, n, r) {
if (r > -1 && n) {
c.info("Got session from disk");
var o = JSON.parse(n);
if (o.sessionId && o.personaId && o.envId) {
var i = {
personaId: o.personaId,
sessionId: o.sessionId,
envId: o.envId,
parameters: o.parameters
};
e(i);
} else e(null);
} else c.info("kvstorage.getItem returned " + r), e(null);
});
});
}().then(function(e) {
e && n.isReady ? function t(e, n) {
p = !0, e.receiveSession(s.GatewaySession.fromProps(n)), p = !1;
}(o, e) : (f(), i.onReady.listen(function() {
d();
}));
}) : (f(), i.onReady.listen(function() {
d();
})));
}), r.reaction(function() {
return o.session;
}, function(e) {
null != e ? p || function t(e) {
var t = JSON.stringify(e);
l.storeItem("gwsession", t, function() {
c.info("Stored session to disk");
});
}(e) : f();
});
};
}).call(this, n(20));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(684), o = n(677);
t.createWarsawTheme = function i(e) {
var t = e.sparta.theme.createTheme("Warsaw", {
fontConfig: r.fontConfig
});
return t.components.ComCenter = o.ComCenter, t;
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1549), o = n(1550), i = n(1551), a = n(319), s = n(1552);
t.initialize = function u(e) {
r.createServerCountClient(e.stores.serverCountStore).startListening(), o.ServerFilterTrackingClient.startListening(), 
i.startToggleBookmarkClient(), e.stores.serverHistoryStore.startListening(), a.ListRSPClient.startListening(), 
s.GameHintClient.startListening();
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(24), o = n(60), i = n(46);
t.createServerCountClient = function a(e) {
return i.requester.createClient({
requestOn: [ o.fetchServerCounts ],
throttle: 500,
shouldPerformRequest: function(e) {
return e.length > 0;
},
request: function(e) {
var t = {
filters: e,
stopCountingAt: 100
};
return r.request("GameServer.countServers", t);
},
parse: function(e) {
return e;
},
update: function(t) {
e.setCounters(t);
}
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(60), i = n(24), a = n(92);
t.ServerFilterTrackingClient = r.requester.createClient({
requestOn: [ o.trackFilterJoin ],
request: function(e) {
var t, n, r, o = new a.GameFilter({
gameModes: (t = {}, t[e.mapMode] = "on", t),
maps: (n = {}, n[e.mapName] = "on", n),
experiences: e.experience ? (r = {}, r[e.experience.toString()] = "on", r) : void 0
});
return i.request("Recommender.notifyFilterJoin", {
game: e.game,
filterJson: o.json
});
},
parse: function(e) {
return e;
},
update: function() {}
});
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(24), i = n(60), a = n(10), s = n(88), u = {};
t.ToggleServerBookmarkClient = r.requester.createClient({
shouldPerformRequest: function(e) {
return e ? e.game ? e.guid ? a.onlineState.isOnlineBlazeAndGateway : (console.error("ToggleServerBookmarkClient - Server is missing guid property", e), 
!1) : (console.error("ToggleServerBookmarkClient - Server is missing game property", e), 
!1) : (console.error("ToggleServerBookmarkClient - No server provided"), !1);
},
request: function(e) {
delete u[e.guid];
var t = {
game: e.game,
guid: e.guid
};
return e.isFavorite ? o.request("ServerBookmark.unbookmarkServer", t) : o.request("ServerBookmark.bookmarkServer", t);
},
onRequestError: function(e, t) {
i.serverBookmarkingFailed(t);
},
parse: function(e) {
return e;
},
update: function() {}
}), t.startToggleBookmarkClient = function l() {
i.toggleBookmark.listen(function(e) {
u[e.guid] || (u[e.guid] = s.debounce(function(e) {
return t.ToggleServerBookmarkClient.trigger(e);
}, 1e3, !1)), u[e.guid](e);
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(46), o = n(10), i = n(625), a = n(24);
t.GameHintClient = r.requester.createClient({
requestOn: [ o.gatewayState.onSessionEstablished ],
shouldPerformRequest: function() {
return o.presenceStateStore.isReady && !0;
},
listener: function() {
return {
game: o.nativePropertiesStore.getHostingGameId()
};
},
request: function(e) {
if (!e || !e.game) throw new Error("You need to provide at least a game when fetching game hints");
return a.request("Gamedata.getGameHints", e);
},
onRequestError: function() {
this.publish([]);
},
parse: function(e) {
var t = {
general: []
};
return e.map(function(e) {
e.tags.length > 0 ? e.tags.map(function(n) {
n && "" !== n ? (t[n] || (t[n] = []), t[n].push(e)) : t.general.push(e);
}) : t.general.push(e);
}), t;
},
update: function(e) {
i.gameHintStore.setHints(e);
}
});
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(14), r = n(97), o = n(1554), i = n(109), a = n(10);
t.initialize = function s(t) {
var n = i.useConsoleMenu ? e.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-d0015b17.png") : e.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-d9da8eb1.png");
a.routeStore.addRoute(new r.RouteDeclaration("watch", {
requireOnline: !0,
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_WATCH", !0);
},
disabled: !1,
getSubtitle: function() {
return __("ID_SPARTA_MAIN_TITLE_WATCH");
},
view: o.WatchOverview,
normalIconUrl: n,
backgroundUrl: e.bbOfflineUrl("/sparta/jsclient/builds/assets/background-generic-c08a5fa5.dds"),
backgroundSize: [ 4084, 1480 ],
dynamicBackground: t.stores.backgroundStore.createDynamicSectionBackground("watch"),
priority: 6
}));
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(8), a = n(72), s = n(32), u = n(181), l = n(37), c = n(29), p = n(23), d = n(39), f = n(5), m = n(7), h = f.StaticStyle.wrapLegacyStyleSheet({
pc: {
flexWrap: "wrap",
flexDirection: "row",
marginRight: 2 * -i.GUTTER,
marginBottom: -i.GUTTER
},
console: {
marginTop: (p.content.top - i.GUTTER) / 2
},
loadingOverlay: {
position: "absolute",
zOffset: 3,
top: 0,
left: 0,
width: p.content.width,
flexDirection: "row",
justifyContent: "center",
alignItems: "center"
},
emptyState: {
flexDirection: "column"
},
heightPC: {
height: p.content.height - p.content.top
},
heightConsole: {
height: p.content.height - p.header.height
}
}, "dc58db5c:14:15"), g = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.sparta = m.SpartaContext.getFromComponent(e), e.getRecommendationSize = function() {
return e.sparta.twinkle.buildInfo.isPC ? l.CardSize.L : l.CardSize.M;
}, e.renderContent = function(t) {
var n = e.sparta.twinkle.buildInfo.isPC ? h.heightPC : h.heightConsole;
return t ? 0 === t.length ? r.createElement(d.EmptyState, {
key: "emptyState",
style: f.merge3(h.loadingOverlay, h.emptyState, n),
text: __("ID_SPARTA_WATCH_NO_VIDEOS_TITLE"),
subText: __("ID_SPARTA_WATCH_NO_VIDEOS_DESC")
}) : e.sparta.twinkle.buildInfo.isPC ? r.createElement("surface", {
style: h.pc,
key: "cards"
}, t) : r.createElement(a.CardCarousel, {
id: "dc58db5c:89:35",
key: "carousel",
width: i.getWidth(24),
style: h.console
}, t) : r.createElement("surface", {
style: f.merge2(h.loadingOverlay, n),
key: "loading"
}, r.createElement(c.Spinner, {
large: !0
}));
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
return r.createElement(s.Template, {
scrollToFocus: this.sparta.twinkle.focus.controllerMode,
tallContent: !0
}, r.createElement(u.RecommendationRenderer, {
game: "sparta",
category: "sparta_watch",
cardSizer: this.getRecommendationSize
}, this.renderContent));
}, n.contextTypes = m.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.WatchOverview = g;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(97), r = n(272), o = n(14), i = n(109), a = n(629), s = n(637), u = n(631), l = n(638), c = n(633), p = n(634), d = n(630), f = n(635), m = n(328);
t.initialize = function h(t) {
r.startListening();
var n = new e.RouteDeclaration("channelselection", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_HELP_CONTACT_US", !0);
},
view: s.WwceSupportChannelSelection,
children: [ new e.RouteDeclaration("callback", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_HELP_GET_A_CALL");
},
view: u.WwceSupportCallBack,
excludeFromHistory: !0
}), new e.RouteDeclaration("callbackDeflection", {
view: l.WwceSupportCallBackDeflection,
excludeFromHistory: !0
}), new e.RouteDeclaration("callbackconfirmation", {
view: c.WwceSupportCallBackConfirmation,
excludeFromHistory: !0
}), new e.RouteDeclaration("callus", {
view: p.WwceSupportCallUs,
excludeFromHistory: !0
}) ]
});
t.stores.routeStore.addRoute(new e.RouteDeclaration("wwcesupport", {
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_HELP", !0);
},
skipToFirstChild: !0,
backgroundSize: [ 4084, 1480 ],
backgroundUrl: o.bbOfflineUrl("/sparta/jsclient/builds/assets/generic_bg_4-5c8e7322.jpg"),
normalIconUrl: i.useConsoleMenu ? o.bbOfflineUrl("/sparta/assets/console-help-menu-icon-6ab6486a.png") : o.bbOfflineUrl("/sparta/jsclient/builds/assets/HelpIcon-small-7d819b5d.png"),
priority: 9999,
featureFlag: m.wwceFeatureFlags.enableHelpSection,
requireOnline: !0,
children: [ new e.RouteDeclaration("help", {
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_HELP");
},
getSubtitle: function() {
return __("ID_SPARTA_MENU_TITLE_HELP_ARTICLE");
},
view: a.WwceSupportOverview,
children: [ new e.RouteDeclaration("articledetail", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_HELP_ARTICLE");
},
view: d.WwceSupportArticleDetail,
excludeFromHistory: !0
}), new e.RouteDeclaration("categoryselection", {
getTitle: function() {
return __("ID_SPARTA_MENU_TITLE_HELP_TOPIC");
},
view: f.WwceSupportCategorySelection,
children: [ n ]
}), n ]
}) ]
}));
};
}).call(this, n(2));
}, function(e, t) {
e.exports = null;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(3), r = n(97), o = n(14), i = n(109), a = n(1558), s = n(1565), u = n(1566), l = n(1572);
t.initialize = function c(t) {
var n = new u.BattleplanInstance(t);
t.stores.routeStore.addRoute(new r.RouteDeclaration("battleplan", {
getTitle: function() {
return __("ID_SPARTA_BATTLEPLAN_TITLE", !0);
},
getSubtitle: function() {
return __("ID_SPARTA_BATTLEPLAN_TITLE");
},
view: n.wrapEntryPoint(a.BattleplanOverview),
requireOnline: !0,
featureFlag: n.featureFlags.battleplan,
normalIconUrl: i.useConsoleMenu ? o.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-gray-bp-7becff6b.png") : o.bbOfflineUrl("/sparta/jsclient/builds/assets/menu-icon-light-battle-87bbeafa.png"),
backgroundUrl: o.bbOfflineUrl("/sparta/jsclient/builds/assets/generic_bg_4-5c8e7322.jpg"),
dynamicBackground: t.stores.backgroundStore.createDynamicSectionBackground("battleplan"),
backgroundSize: [ 4084, 1480 ],
priority: 4,
children: [ new r.RouteDeclaration("summary", {
getTitle: function() {
return __("ID_SPARTA_BATTLEPLAN_SUMMARY_TITLE");
},
getSubtitle: function() {
return __("ID_SPARTA_BATTLEPLAN_SUMMARY_TITLE");
},
view: n.wrapEntryPoint(l.BattleplanSummary),
featureFlag: n.featureFlags.battleplanSummary
}) ]
})), t.stores.nativePropertiesStore.onHostingGame(function(t) {
e.when(function() {
return n.featureFlags.battleplan.isEnabled();
}, function() {
t.homeWidgets.push(n.wrapEntryPoint(s.BattleplanWidget));
});
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(29), a = n(39), s = n(6), u = n(1559), l = n(155), c = n(163), p = n(17), d = n(1561), f = n(21), m = n(1563), h = n(25), g = n(38), y = n(687), S = n(93), v = n(102), _ = n(41), b = n(213), T = n(1564), E = n(34), C = n(19), I = n(5), A = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.battleplan = b.BattleplanContext.getFromComponent(e), e.onSelect = function(t, n) {
var o = e.battleplan.wrapEntryPoint(y.BattleplanInspectPopup);
h.display(new g.Popup({
id: n.id,
fullScreen: !0,
content: r.createElement(o, {
reward: n,
isCompleted: t.isCompleted,
onClaim: function() {
return e.battleplan.waveStore.claimReward(n);
},
onClose: function() {
return h.close(n.id);
}
})
}));
}, e.onCountdownDone = function() {
e.battleplan.waveStore.refresh();
}, e;
}
return e.__extends(n, t), n.prototype.formatTime = function(e) {
return __("ID_SPARTA_BATTLEPLAN_COMPLETE_AND_CLAIM_BEFORE").replace("[[TIMELEFT]]", l.simpleTimeFormat(e > 0 ? e : 0)).toUpperCase();
}, n.prototype.renderWave = function(e) {
var t = this, n = -1;
return r.createElement("surface", null, r.createElement(s.Text, {
value: e.title.toUpperCase(),
size: f.TextSize.S
}), r.createElement(s.Text, {
value: __("ID_SPARTA_BATTLEPLAN_DESCRIPTION"),
size: f.TextSize.XS,
style: c.BattleplanStyles.subtitle
}), r.createElement("surface", {
style: c.BattleplanStyles.stages
}, e.stages.map(function(e, o) {
return e.isCompleted || e.isLocked || -1 !== n || (n = o), r.createElement(u.BattleplanStage, {
key: e.id,
isActive: n === o,
stage: e,
index: o,
onSelect: t.onSelect
});
})));
}, n.prototype.render = function() {
var e = this.battleplan.waveStore, t = e.getCurrentWave();
if (!t.value) {
if (t.failstate) return r.createElement(a.EmptyState, {
retryAction: e.refresh,
text: __("ID_SPARTA_BATTLEPLAN_FAILED_TO_LOAD_TITLE"),
subText: __("ID_SPARTA_BATTLEPLAN_FAILED_TO_LOAD_DESC")
});
if (t.isLoading) return r.createElement(a.EmptyState, null, r.createElement(i.Spinner, {
large: !0
}));
}
if (!t.value || !t.value.wave && 0 === t.value.dailies.length) return r.createElement(a.EmptyState, {
text: __("ID_SPARTA_BATTLEPLAN_NO_CONTENT_TITLE"),
subText: __("ID_SPARTA_BATTLEPLAN_NO_CONTENT_DESC")
});
var n = t.value, o = n.wave, u = n.dailies, m = null;
o && o.offer && o.offer.xpack && !o.offer.isClaimed(e) && !o.offer.ownsOffer(this.battleplan.sparta.stores.entitlementStore) && (m = o.offer);
var h = this.battleplan.sparta.twinkle.buildInfo.isConsole, g = o && (u.length || m), y = r.createElement(r.Fragment, null, m && r.createElement(w, {
offer: m
}), u.length > 0 && r.createElement(r.Fragment, null, r.createElement(s.Text, {
value: __("ID_SPARTA_BATTLEPLAN_DAILY_TASKS").toUpperCase(),
size: f.TextSize.S
}), u.map(function(e) {
return r.createElement(T.DailyTask, {
key: e.title,
daily: e
});
})));
return r.createElement(r.Fragment, null, o && r.createElement("surface", {
style: c.BattleplanStyles.countdown
}, r.createElement(l.Countdown, {
targetTime: o.endTime.getTime(),
format: this.formatTime,
size: f.TextSize.XS,
onDone: this.onCountdownDone
})), r.createElement(d.HorizontalScrollerTemplate, {
showClickArrows: !0,
style: c.BattleplanStyles.content
}, r.createElement("surface", {
style: p.CommonStyles.flexRow
}, h ? r.createElement(E.Scroller, {
controller: !0,
noHorizontalScroll: !0,
scrollbarPosition: "inside"
}, r.createElement("surface", {
style: C.isRTLLanguage() ? c.BattleplanStyles.sideColRight : c.BattleplanStyles.sideCol
}, y)) : r.createElement("surface", {
style: C.isRTLLanguage() ? p.CommonStyles.alignItemsFlexEnd : I.emptyStyle
}, y), g && r.createElement("surface", {
style: c.BattleplanStyles.separator
}), o && this.renderWave(o))));
}, n.contextTypes = b.BattleplanContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.BattleplanOverview = A;
var w = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.battleplan = b.BattleplanContext.getFromComponent(e), e.onSelect = function(t) {
var n = e.offerFragment;
n ? (n.value || (n.failstate && S.offersStore.refreshFragment(t.game), _.loading("loading_offers")), 
e.when(function() {
return !!n.value;
}, function() {
h.close("loading_offers");
var o = n.value, i = o && o.findById(t.identifier);
i ? v.PurchaseFlow.claim(i).listen(v.PurchaseFlowState.SUCCESS, function() {
e.battleplan.sparta.twinkle.buildInfo.bundlePlatform;
e.battleplan.sparta.stores.entitlementStore.refresh([ t.game ]), e.battleplan.waveStore.setClaimed(t.id);
var n = e.battleplan.wrapEntryPoint(y.BattleplanInspectPopup);
h.display(new g.Popup({
id: t.id,
fullScreen: !0,
content: r.createElement(n, {
reward: t,
isCompleted: !0,
onClose: function() {
return h.close(t.id);
}
})
}));
}) : e.displayFailedPopup();
}, {
timeout: 2e4,
onError: function(t) {
console.error("onError", t), h.close("loading_offers"), e.displayFailedPopup();
}
})) : e.displayFailedPopup();
}, e.onCountdownDone = function() {
e.battleplan.waveStore.refresh();
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
this.offerFragment = S.offersStore.get(this.props.offer.game);
}, n.prototype.displayFailedPopup = function() {
this.battleplan.sparta.stores.popupManager.alert(__("ID_SPARTA_BATTLEPLAN_CLAIM_FAILED_DESC"), __("ID_SPARTA_BATTLEPLAN_CLAIM_FAILED_TITLE"));
}, n.prototype.render = function() {
return r.createElement(m.BattleplanOffer, {
offer: this.props.offer,
onSelect: this.onSelect,
onCountdownDone: this.onCountdownDone
});
}, n.contextTypes = b.BattleplanContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(21), a = n(1560), s = n(163), u = n(86), l = n(6), c = n(17), p = n(565), d = n(213), f = n(61), m = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.battleplan = d.BattleplanContext.getFromComponent(e), e.onSelect = function(t) {
e.props.onSelect(e.props.stage, t);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e, t, n = this, o = this.props, d = o.index, m = o.isActive, h = this.props.stage, g = h.progress, y = h.isLocked, S = h.rewards, v = h.startTime, _ = h.statDescription, b = h.isCompleted, T = Math.min(g.valueAcquired / g.valueNeeded, 1), E = f.formatNumber(g.valueAcquired) + "/" + f.formatNumber(g.valueNeeded), C = 0 === d;
if (y) e = r.createElement("surface", {
style: s.BattleplanStageStyles.lockContainer
}, r.createElement("surface", {
style: s.BattleplanStageStyles.lock
}), r.createElement(l.Text, {
value: p.dateFormat(v, "mmmm d").toUpperCase(),
size: i.TextSize.XS
})); else if (m && 1 !== T) {
var I = r.createElement(l.Text, {
value: E,
size: i.TextSize.XS,
style: c.CommonStyles.color("#ff9900")
});
C ? e = r.createElement("surface", {
style: s.BattleplanStageStyles.labelContainerFirst
}, r.createElement(l.Text, {
value: _.toUpperCase(),
size: i.TextSize.XS,
style: c.CommonStyles.color("#ff9900")
}), I) : 1 !== T && (e = r.createElement("surface", {
style: s.BattleplanStageStyles.labelContainer
}, I));
} else e = r.createElement("surface", {
style: s.BattleplanStageStyles.labelContainerFirst
}, C && r.createElement(l.Text, {
value: _.toUpperCase(),
size: i.TextSize.XS,
style: c.CommonStyles.color("#ff9900")
}));
if (!y && !b && m) {
var A = this.battleplan.sparta.stores.nativePropertiesStore.hostingGameId, w = A ? this.battleplan.sparta.stores.careerStore.getState().gameStats[A] : void 0;
if (w && w.spm > 100) {
var P = Math.round((g.valueNeeded - g.valueAcquired) / w.spm), R = __("ID_SPARTA_FORMAT_MINUTES").replace("[[value]]", P + "");
t = r.createElement(l.Text, {
value: __("ID_SPARTA_BATTLEPLAN_ESTIMATED_PLAY_TIME").replace("[[value]]", R),
size: i.TextSize.XS,
style: c.CommonStyles.color("#ff9900")
});
}
}
var O = y && this.battleplan.featureFlags.battleplanBlurLockedReward.isEnabled();
return r.createElement("surface", {
style: s.BattleplanStageStyles.container
}, e, r.createElement(u.ProgressBar, {
style: s.BattleplanStageStyles.progressBar,
bgColorStyle: s.BattleplanStageStyles.progressBarBg,
completed: y ? 0 : T
}), r.createElement("surface", {
style: s.BattleplanStageStyles.estimatedContainer
}, t), S.map(function(e) {
return r.createElement(a.BattleplanReward, {
key: e.id,
reward: e,
onClick: n.onSelect,
blurImage: O,
isActive: m,
locked: y || !b
});
}));
}, n.contextTypes = d.BattleplanContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.BattleplanStage = m;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(6), a = n(462), s = n(163), u = n(5), l = n(21), c = n(15), p = n(213), d = n(123), f = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.battleplan = p.BattleplanContext.getFromComponent(r), r.focusTween = c.Animation.componentTween(r, "e4487728:27:48", 0, {
duration: 100
}), r.onClick = function() {
r.props.onClick(r.props.reward);
}, r.focusItem = r.battleplan.sparta.twinkle.focus.create(r, "reward_" + e.reward.id), 
r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.focusItem.isFocusedOrHovered;
}, function(t) {
e.focusTween.set(t ? 1 : 0);
}, {
fireImmediately: !0
});
}, n.prototype.render = function() {
var e = this.props, t = e.reward, n = e.isActive, o = e.blurImage, c = !t.hasAccess(this.battleplan.sparta.stores.entitlementStore), p = this.props.locked || c, f = !p && !t.isClaimed(this.battleplan.waveStore), m = u.merge2(s.BattleplanRewardStyles.text, p ? s.BattleplanRewardStyles.locked : u.emptyStyle), h = t.fillImage ? s.BattleplanRewardStyles.imageRewardFill : s.BattleplanRewardStyles.imageReward, g = u.merge3(t.image ? h({
texture: t.image
}) : u.emptyStyle, p ? s.BattleplanRewardStyles.locked : u.emptyStyle, o ? s.BattleplanRewardStyles.imageBlur : u.emptyStyle), y = r.createElement(a.BaseBox, {
name: "reward_" + t.id,
onClick: o ? void 0 : this.onClick,
focusItem: this.focusItem,
actionLabel: __(f ? "ID_SPARTA_BATTLEPLAN_ACTION_CLAIM_REWARD" : "ID_SPARTA_BATTLEPLAN_ACTION_VIEW_REWARD"),
style: s.BattleplanRewardStyles.rewardContainer
}, r.createElement("surface", {
style: s.BattleplanRewardStyles.contentContainer
}, !o && r.createElement(i.Text, {
value: t.title.toUpperCase(),
size: l.TextSize.XS,
style: m
}), !!t.image && r.createElement("surface", {
style: g
}), (p && !n || c) && r.createElement("surface", {
style: s.BattleplanRewardStyles.lock
}), t.premiumOnly && r.createElement("surface", {
style: s.BattleplanRewardStyles.premiumIcon({
texture: t.premiumLogo(this.battleplan.sparta.stores.gameStore)
})
}), f && r.createElement(i.Text, {
value: __("ID_SPARTA_BATTLEPLAN_CLAIM").toUpperCase(),
size: l.TextSize.XS,
style: s.BattleplanRewardStyles.claimText
})), r.createElement("surface", {
style: u.merge2(s.BattleplanRewardStyles.focused, this.focusTween.getStyleClass("opacity"))
}));
return p ? r.createElement(d.ThemeProvider, {
debugName: "e4487728:104:43",
theme: this.battleplan.battleplanDimmedTheme
}, y) : y;
}, n.contextTypes = p.BattleplanContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.BattleplanReward = f;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(4), a = n(1562), s = n(5), u = n(7), l = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = u.SpartaContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).template, t = this.props, n = t.style, i = t.children, u = r.__rest(t, [ "style", "children" ]);
return o.createElement(a.HorizontalScroller, r.__assign({
style: s.merge2(e.container, n || s.emptyStyle)
}, u), function(t, n) {
return o.createElement("surface", {
style: s.merge2(e.content, t),
onBounds: n
}, i, e.shouldSoftClip && o.createElement("surface", {
style: e.softClipRightBox
}));
});
}, t.contextTypes = u.SpartaContext.contextTypes, t = r.__decorate([ i.observer ], t);
}(o.Component);
t.HorizontalScrollerTemplate = l;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e, r = n(0), o = n(1), i = n(3), a = n(4), s = n(5), u = n(134), l = n(118), c = n(129), p = n(226), d = n(7), f = n(15), m = n(17), h = n(26), g = n(12), y = n(11), S = n(27);
!function(e) {
e.left = "left", e.right = "right";
}(e || (e = {}));
var v = function(t) {
function n(n, r) {
var o = t.call(this, n, r) || this;
o.sparta = d.SpartaContext.getFromComponent(o), o.focusAncestor = o.sparta.twinkle.focus.createComponentAncestor(o, "3d2ad593:36:76"), 
o.offsetValueOld = 0, o.contentWidth = 0, o.canScrollDirection = i.computed(function() {
var t, n = !1, r = !1;
return o.containerBounds && (n = 0 !== o.offsetValue, r = -o.maxOffset < o.offsetValue), 
(t = {})[e.left] = n, t[e.right] = r, t;
}), o.setContainerBounds = i.action(function(e) {
var t = u.Bounds.fromRaw(e), n = o.sparta.theme.getTheme(o).template;
n.shouldSoftClip && (t.right = t.right - n.softClipFade), o.containerBounds && t.equals(o.containerBounds) || (o.containerBounds = t);
}), o.onMouseScroll = function(e) {
o.tiltTo(o.offsetValue + 200 * e.scroll);
}, o.onArrowClick = function(t) {
var n = o.sparta.theme.getTheme(o).template;
o.tiltTo(o.offsetValue + (t === e.left ? 1 : -1) * n.arrowScrollStep);
};
var a = o.sparta.stores.locationStore.addScrollOffsetHook("3d2ad593:50:75", function() {
return o.offsetValue;
});
return o.offsetValue = a || 0, o.offsetTween = f.Animation.componentTween(o, "3d2ad593:53:58", o.offsetValue, f.Animation.presets.list.scroll), 
o.style = o.offsetTween.getStyleClass("translateX"), o;
}
return r.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return {
containerBounds: e.containerBounds,
toBounds: e.focusAncestor.focusedChild && e.focusAncestor.focusedChild.bounds,
controllerMode: e.sparta.twinkle.focus.controllerMode,
leftEdge: e.focusAncestorLeftEdge
};
}, function(t) {
var n = t.containerBounds, r = t.toBounds, o = t.controllerMode, i = t.leftEdge;
if (o && n && r) {
var a = void 0;
if (r.left < n.left + e.offsetValueOld ? a = n.left - r.left + 100 : r.right > n.right + e.offsetValueOld ? a = n.right - r.right - 100 : r.left === i && 0 !== e.offsetValue && (a = -e.offsetValue), 
"number" == typeof a) return e.tiltTo(e.offsetValue + a + e.offsetValueOld), void (e.offsetValueOld = -a);
}
if (e.maxOffset < -e.offsetValue && 0 === e.offsetValueOld) {
a = e.maxOffset + e.offsetValue;
e.tiltTo(e.offsetValue + a), e.offsetValueOld = -a;
}
});
}, Object.defineProperty(n.prototype, "focusAncestorLeftEdge", {
get: function() {
for (var e, t = 0, n = this.focusAncestor.children; t < n.length; t++) {
var r = n[t];
r.bounds && ((!e || e > r.bounds.left) && (e = r.bounds.left));
}
return e;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(n.prototype, "maxOffset", {
get: function() {
var e = this.sparta.theme.getTheme(this).template;
return this.containerBounds ? this.contentWidth - this.containerBounds.width + e.softClipFade : 0;
},
enumerable: !0,
configurable: !0
}), n.prototype.getInput = function() {
var t = this;
if (!this.props.useArrowKeys || !this.containerBounds) return [];
var n = [];
return 0 !== this.offsetValue && n.push(new g.Input({
action: function() {
return t.onArrowClick(e.left);
},
key: y.Keys.Left,
label: __("ID_SPARTA_ACTION_SCROLL"),
visible: !this.sparta.twinkle.buildInfo.isPC
})), -this.maxOffset < this.offsetValue && n.push(new g.Input({
action: function() {
return t.onArrowClick(e.right);
},
key: y.Keys.Right,
label: __("ID_SPARTA_ACTION_SCROLL"),
visible: !this.sparta.twinkle.buildInfo.isPC
})), n;
}, n.prototype.setContentBounds = function(e) {
this.contentWidth = e.width, this.offsetValueOld = 0;
}, n.prototype.tiltTo = function(e) {
this.containerBounds && (this.offsetValue = Math.min(Math.max(e, -this.maxOffset), 0), 
this.offsetTween.to(this.offsetValue));
}, n.prototype.render = function() {
var t = this.sparta.theme.getTheme(this).template, n = this.props, i = n.style, a = n.showClickArrows, s = n.children, u = this.sparta.twinkle.buildInfo, l = u.isPC && (void 0 !== a ? a : u.isPC) && o.createElement("surface", {
style: t.arrowContainer
}, o.createElement(b, {
direction: e.left,
canScrollDirection: this.canScrollDirection,
onClick: this.onArrowClick
}), o.createElement(b, {
direction: e.right,
canScrollDirection: this.canScrollDirection,
onClick: this.onArrowClick
}));
return o.createElement("surface", r.__assign({
style: i,
onBounds: this.setContainerBounds,
onMouseScroll: this.onMouseScroll
}, this.focusAncestor.hooks), s(this.style, this.setContentBounds), l);
}, n.contextTypes = d.SpartaContext.contextTypes, r.__decorate([ i.observable ], n.prototype, "offsetValue", void 0), 
r.__decorate([ i.observable ], n.prototype, "contentWidth", void 0), r.__decorate([ i.observable ], n.prototype, "containerBounds", void 0), 
r.__decorate([ i.computed ], n.prototype, "focusAncestorLeftEdge", null), r.__decorate([ i.computed ], n.prototype, "maxOffset", null), 
r.__decorate([ i.action.bound ], n.prototype, "setContentBounds", null), r.__decorate([ i.action ], n.prototype, "tiltTo", null), 
n = r.__decorate([ a.observer, h.input ], n);
}(o.Component);
t.HorizontalScroller = v;
var _ = {
duration: 150,
easing: S.Easing.QuadraticInOut
}, b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = d.SpartaContext.getFromComponent(t), t.visibleOverride = !1, t.isFocused = !1, 
t.colorTween = p.TweenStyle.create("3d2ad593:257:36", t, "color", t.sparta.theme.getTheme, function(e, n) {
var r, o = n.template;
r = !t.isVisible || t.sparta.twinkle.focus.controllerMode ? o.arrowColorInvisible : t.isFocused ? o.arrowColorFocused : o.arrowColor, 
e.to(r);
}, function(e) {
return e.template.arrowColorInvisible;
}, _), t.backgroundTween = p.TweenStyle.create("3d2ad593:279:41", t, "backgroundColor", t.sparta.theme.getTheme, function(e, n) {
var r, o = n.template;
r = !t.isVisible || t.sparta.twinkle.focus.controllerMode ? o.arrowBackgroundInvisible : t.isFocused ? o.arrowBackgroundFocused : o.arrowBackground, 
e.to(r);
}, function(e) {
return e.template.arrowBackgroundInvisible;
}, _), t;
}
return r.__extends(t, e), t.prototype.componentWillUnmount = function() {
this.keepVisibleTimeout && clearTimeout(this.keepVisibleTimeout);
}, Object.defineProperty(t.prototype, "isVisible", {
get: function() {
return this.visibleOverride || this.props.canScrollDirection.get()[this.props.direction];
},
enumerable: !0,
configurable: !0
}), t.prototype.keepArrowsVisibleFor = function() {
var e = this;
this.sparta.theme.getTheme(this).template.arrowInstantHide || (this.visibleOverride = !0, 
this.keepVisibleTimeout = setTimeout(i.action(function() {
e.visibleOverride = !1;
}), 1e3));
}, t.prototype.onClick = function() {
this.keepArrowsVisibleFor(), this.props.onClick(this.props.direction);
}, t.prototype.onMouseEnter = function() {
this.sparta.theme.getTheme(this).tabMenu.playHoverSound && l.playEffect(c.AudioEffect.Highlight), 
this.isFocused = !0;
}, t.prototype.onMouseLeave = function() {
this.isFocused = !1;
}, t.prototype.render = function() {
var e = this.sparta.theme.getTheme(this).template, t = s.merge3(e.arrowButton(this.props.direction), m.CommonStyles.mouseEvents(this.isVisible), this.backgroundTween), n = s.merge2(e.arrow, this.colorTween), r = !this.sparta.twinkle.focus.controllerMode && this.isVisible && e.arrowShouldBlur;
return o.createElement("surface", {
style: t,
onClick: this.onClick,
onMouseEnter: this.onMouseEnter,
onMouseLeave: this.onMouseLeave
}, r && o.createElement("surface", {
style: e.arrowBlurBackground
}), o.createElement("surface", {
style: n
}));
}, t.contextTypes = d.SpartaContext.contextTypes, r.__decorate([ i.observable ], t.prototype, "visibleOverride", void 0), 
r.__decorate([ i.observable ], t.prototype, "isFocused", void 0), r.__decorate([ i.computed ], t.prototype, "isVisible", null), 
r.__decorate([ i.action ], t.prototype, "keepArrowsVisibleFor", null), r.__decorate([ i.action.bound ], t.prototype, "onClick", null), 
r.__decorate([ i.action.bound ], t.prototype, "onMouseEnter", null), r.__decorate([ i.action.bound ], t.prototype, "onMouseLeave", null), 
t = r.__decorate([ a.observer ], t);
}(o.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(6), a = n(462), s = n(163), u = n(5), l = n(21), c = n(15), p = n(7), d = n(183), f = n(155), m = n(193), h = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = p.SpartaContext.getFromComponent(r), r.backgroundTween = c.Animation.componentTween(r, "ba0215d6:29:53", "#00000000", {
duration: 100
}), r.colorTween = c.Animation.componentTween(r, "ba0215d6:30:48", "#ffffffff", {
duration: 100
}), r.onSelect = function() {
r.trackCard("click"), r.props.onSelect(r.props.offer);
}, r.focusItem = r.sparta.twinkle.focus.create(r, "offer_" + e.offer.id), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.cardShownAt = Date.now(), this.reaction(function() {
return e.focusItem.isFocusedOrHovered;
}, function(t) {
e.backgroundTween.to(t ? "#ffffffff" : "#00000000"), e.colorTween.to(t ? "#000000ff" : "#ffffff");
}, {
fireImmediately: !0
});
}, n.prototype.componentWillUnmount = function() {
this.trackCard("impression");
}, n.prototype.trackCard = function(e) {
var t = this.cardShownAt ? (Date.now() - this.cardShownAt) / 1e3 : 0, n = {
messageType: "in-game",
messageService: "sparta-battleplan-offer",
messageFormat: "live_tile",
contentType: "free_offer",
clientState: "foreground",
status: e,
sdur: t,
messageId: this.props.offer.id
};
this.sparta.stores.pinStore.trackEvent(m.PinEvents.Message, n), this.sparta.stores.gaStore.trackEvent("battleplan", e, this.props.offer.id, t);
}, n.prototype.formatTime = function(e) {
return __("ID_SPARTA_BATTLEPLAN_TIME_LEFT").replace("[[TIMELEFT]]", f.simpleTimeFormat(e > 0 ? e : 0));
}, n.prototype.render = function() {
var e = this.props, t = e.offer, n = e.onCountdownDone, o = (t.endTime.getTime(), 
Date.now(), t.getGameDisplayName(this.sparta.stores.gameStore)), c = this.colorTween.getStyleClass("color"), p = u.merge2(s.BattleplanRewardStyles.contentContainer, this.backgroundTween.getStyleClass("backgroundColor"));
return r.createElement(d.PS4StoreContent, null, r.createElement("surface", null, r.createElement(i.Text, {
value: __("ID_SPARTA_BATTLEPLAN_LIMITED_TIME_OFFER").toUpperCase(),
size: l.TextSize.S
}), r.createElement(f.Countdown, {
targetTime: t.endTime.getTime(),
format: this.formatTime,
style: s.BattleplanStyles.subtitle,
size: l.TextSize.XS,
onDone: n
}), r.createElement(a.BaseBox, {
name: "offer_" + t.id,
onClick: this.onSelect,
focusItem: this.focusItem,
actionLabel: __("ID_SPARTA_BATTLEPLAN_ACTION_CLAIM_OFFER"),
style: s.BattleplanRewardStyles.offerContainer
}, r.createElement("surface", {
style: p
}, !!t.image && r.createElement("surface", {
style: s.BattleplanRewardStyles.imageOffer({
texture: t.image
})
}), r.createElement("surface", {
style: s.BattleplanRewardStyles.textContainer
}, !!o && r.createElement(i.Text, {
value: o.toUpperCase(),
size: l.TextSize.XS,
style: u.merge2(s.BattleplanRewardStyles.offerTitle, c)
}), r.createElement(i.Text, {
value: t.title.toUpperCase(),
size: l.TextSize.XS,
style: u.merge2(s.BattleplanRewardStyles.offerTitle, c)
}), r.createElement(i.Text, {
value: __("ID_SPARTA_BATTLEPLAN_EXPANSION_PACK").toUpperCase(),
size: l.TextSize.XS,
style: u.merge2(s.BattleplanRewardStyles.offerTitle, c)
}), r.createElement(i.Text, {
value: __("ID_SPARTA_BATTLEPLAN_CLAIM_FOR_FREE").toUpperCase(),
size: l.TextSize.XS,
style: s.BattleplanRewardStyles.claimOfferText
}))))));
}, n.contextTypes = p.SpartaContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.BattleplanOffer = h;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(6), a = n(21), s = n(163), u = n(143), l = n(58), c = n(19), p = n(17), d = function(t) {
function n() {
return null !== t && t.apply(this, arguments) || this;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.props.daily, t = c.isRTLLanguage();
return r.createElement("surface", {
style: s.DailyTaskStyles.container(t)
}, r.createElement(c.LocaleRearrange, {
style: p.CommonStyles.flexRow
}, r.createElement(u.Checkbox, {
key: "checkbox",
value: e.completed,
style: s.DailyTaskStyles.checkbox(t)
}), r.createElement(l.Marquee, {
key: "text",
shuttle: !0,
scroll: !0,
delay: 500,
style: s.DailyTaskStyles.title
}, r.createElement(i.Text, {
value: e.title,
size: a.TextSize.S
}))), r.createElement(i.Text, {
value: __("ID_SPARTA_BATTLEPLAN_DAILY_TASKS_REWARD").replace("[[SCRAP_VALUE]]", e.scraps + ""),
size: a.TextSize.S,
style: s.DailyTaskStyles.subtitle(t)
}));
}, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.DailyTask = d;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(18), i = n(4), a = n(5), s = n(61), u = n(15), l = n(137), c = n(50), p = n(461), d = n(86), f = n(6), m = n(21), h = n(33), g = n(17), y = n(163), S = n(58), v = n(213), _ = n(19), b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.battleplan = v.BattleplanContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e = this.battleplan.waveStore, t = this.battleplan.sparta.stores.entitlementStore;
return r.createElement(c.OptimisticFragmentLoader, {
load: e.getCurrentWave()
}, function(n) {
if (!n.wave) return r.createElement("surface", null);
var o, i = n.wave.stages.reduce(function(n, r) {
var i = r.rewards.reduce(function(n, r) {
return !r.isClaimed(e) && r.hasAccess(t) && n++, n;
}, 0);
return !o && i > 0 && (o = r), r.isCompleted && (n += i), n;
}, 0);
return o && !o.isLocked || o && i > 0 ? r.createElement(T, {
stage: o,
unclaimedRewards: i
}) : r.createElement("surface", null);
});
}, n.contextTypes = v.BattleplanContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
t.BattleplanWidget = b;
var T = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.battleplan = v.BattleplanContext.getFromComponent(e), e.focusItem = e.battleplan.sparta.twinkle.focus.create(e, "battleplan_widget"), 
e.colorTween = u.Animation.componentTween(e, "8e1a634f:85:48", "#ffffff"), e.logoColorTween = u.Animation.componentTween(e, "8e1a634f:86:52", e.props.stage.isCompleted ? "#ff9900" : "#ffffff"), 
e.onClick = function() {
o.gotoLocation("battleplan");
}, e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return {
isFocused: e.focusItem.isFocusedOrHovered,
isCompleted: e.props.stage.isCompleted
};
}, function(t) {
var n = t.isFocused, r = t.isCompleted;
n ? (e.colorTween.to("#000000", l.tweenInOptions), e.logoColorTween.to(r ? "#ff9900" : "#000000", l.tweenInOptions)) : (e.colorTween.to("#ffffff", l.tweenOutOptions), 
e.logoColorTween.to(r ? "#ff9900" : "#ffffff", l.tweenOutOptions));
}, {
fireImmediately: !0
});
}, n.prototype.render = function() {
var e, t = this.props.stage, n = t.isCompleted, o = (t.rewards, t.progress), i = t.isLocked, u = (t.statDescription, 
this.colorTween.getStyleClass("color")), l = _.isRTLLanguage(), c = n || i ? void 0 : r.createElement(d.ProgressBar, {
style: g.CommonStyles.dockBottom,
completed: o.valueAcquired / o.valueNeeded
});
return e = n ? 1 === this.props.unclaimedRewards ? __("ID_SPARTA_BATTLEPLAN_REWARD_TO_CLAIM").replace("[[REWARD]]", this.props.unclaimedRewards + "") : __("ID_SPARTA_BATTLEPLAN_REWARDS_TO_CLAIM").replace("[[REWARDS]]", this.props.unclaimedRewards + "") : __("ID_SPARTA_BATTLEPLAN_SCORE_PROGRESSION").replace("[[SCORE_PROGRESSION]]", s.formatNumber(o.valueAcquired) + "/" + s.formatNumber(o.valueNeeded)), 
r.createElement(p.HomeWidget, {
name: "battleplan",
action: this.onClick,
focusItem: this.focusItem,
overlay: c
}, r.createElement(_.LocaleRearrange, {
style: y.BattleplanWidgetStyles.container
}, r.createElement("surface", {
key: "logo",
style: a.merge2(y.BattleplanWidgetStyles.logo(l), this.logoColorTween.getStyleClass("color"))
}), r.createElement("surface", {
key: "info",
style: y.BattleplanWidgetStyles.textContainer(l)
}, r.createElement(S.Marquee, {
focusItem: this.focusItem,
rtl: l,
shuttle: !0
}, r.createElement(f.Text, {
style: u,
value: __("ID_SPARTA_BATTLEPLAN_TITLE"),
type: h.TextType.EMPHASIS,
size: m.TextSize.S
})), r.createElement(S.Marquee, {
focusItem: this.focusItem,
rtl: l,
shuttle: !0
}, r.createElement(f.Text, {
style: a.merge2(y.BattleplanWidgetStyles.progressText, u),
value: e,
size: m.TextSize.XS
})))));
}, n.contextTypes = v.BattleplanContext.contextTypes, n = e.__decorate([ i.observer ], n);
}(r.Component);
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1), o = n(628), i = n(1567), a = n(1570), s = n(110), u = n(213), l = n(1571), c = function() {
return function e(t) {
var n = this;
this.sparta = t, this.lootbagStore = new a.BattleplanLootbagStore(o.createBattleplanLootbagClients(this.sparta.gatewayClient.request)), 
this.waveStore = new i.BattleplanWaveStore(o.createBattleplanWaveClients(this.sparta.gatewayClient.request), this.sparta.stores.nativePropertiesStore, this.lootbagStore), 
this.battleplanDimmedTheme = l.createBattleplanDimmedTheme(this), this.wrapEntryPoint = function(e) {
return function(t) {
return r.createElement(u.BattleplanContext.Provider, {
value: n
}, r.createElement(e, t));
};
}, this.featureFlags = s.featureFlags.register({
battleplan: new s.FeatureFlag({}),
battleplanSummary: new s.FeatureFlag({}),
battleplanBlurLockedReward: new s.FeatureFlag({}),
battleplanReplaceWithDestination: new s.FeatureFlag({})
});
};
}();
t.BattleplanInstance = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(30), i = n(1568), a = n(3), s = function(e) {
function t(t, n, r) {
var o = e.call(this, {
fragmentTtl: 6e4
}) || this;
return o.clients = t, o.nativePropertiesStore = n, o.lootbagStore = r, o.claimingInProgress = null, 
o.claimedRewards = a.observable.map(), o.refresh = function() {
var e = o.nativePropertiesStore.getHostingGameId();
o.refreshFragment(e);
}, o;
}
return r.__extends(t, e), t.prototype.fetch = function(e, t) {
var n = this.clients.getCurrentWave.request(t);
e.useClientResult(n, function(e) {
return e ? {
wave: e.wave ? i.BattleplanWave.fromBackend(e.wave, e.displayTitles || {}) : null,
dailies: e.dailies || []
} : {
wave: null,
dailies: []
};
});
}, t.prototype.getCurrentWave = function() {
var e = this.nativePropertiesStore.getHostingGameId();
return this.getOrFetchFragment(e, {
game: e
});
}, t.prototype.claimReward = function(e) {
var t = this;
if (!this.claimingInProgress) {
var n = this.nativePropertiesStore.getHostingGame();
return new Promise(function(r, o) {
t.setClaimProgress(e.id), t.clients.claimWaveReward.request({
rewardId: e.id
}).onSuccess(function(o) {
r(o), o && (t.setClaimed(e.id), t.lootbagStore.expire(), n.gameStateStore && n.gameStateStore.expireStoreFragments && n.gameStateStore.expireStoreFragments());
}).onError(o).onFinished(function() {
t.setClaimProgress(null);
});
});
}
}, t.prototype.setClaimProgress = function(e) {
this.claimingInProgress = e;
}, t.prototype.setClaimed = function(e) {
this.claimedRewards.set(e, !0);
}, r.__decorate([ a.observable ], t.prototype, "claimingInProgress", void 0), r.__decorate([ a.action ], t.prototype, "claimReward", null), 
r.__decorate([ a.action ], t.prototype, "setClaimProgress", null), r.__decorate([ a.action ], t.prototype, "setClaimed", null), 
t;
}(o.FragmentStore);
t.BattleplanWaveStore = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1569), o = n(689), i = function() {
function e(e, t, n, r, o, i) {
this.id = e, this.title = t, this.startTime = n, this.endTime = r, this.stages = o, 
this.offer = i;
}
return e.fromBackend = function(t, n) {
return new e(t.id, t.title, new Date(1e3 * parseInt(t.startTime, 10)), new Date(1e3 * parseInt(t.endTime, 10)), t.stages.map(function(e) {
return r.BattleplanStage.fromBackend(e, n);
}), t.offer ? o.BattleplanOffer.fromBackend(t.offer, n) : null);
}, Object.defineProperty(e.prototype, "isActive", {
get: function() {
var e = Date.now();
return e >= this.startTime.getTime() && e < this.endTime.getTime();
},
enumerable: !0,
configurable: !0
}), e;
}();
t.BattleplanWave = i;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(688), o = function() {
function e(e, t, n, r, o) {
this.id = e, this.progress = t, this.startTime = n, this.rewards = r, this.statDescription = o;
}
return e.fromBackend = function(t, n) {
return new e(t.id, t.progress, new Date(1e3 * parseInt(t.startTime, 10)), t.rewards.filter(function(e) {
return "" !== e.title;
}).sort(function(e, t) {
return t.premiumOnly ? -1 : 0;
}).map(function(e) {
return r.BattleplanReward.fromBackend(e, n);
}), t.statDescription);
}, Object.defineProperty(e.prototype, "isCompleted", {
get: function() {
return !this.isLocked && this.progress.valueAcquired >= this.progress.valueNeeded;
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(e.prototype, "isLocked", {
get: function() {
return Date.now() <= this.startTime.getTime();
},
enumerable: !0,
configurable: !0
}), e;
}();
t.BattleplanStage = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function(e) {
function t(t) {
var n = e.call(this, {
fragmentTtl: 1e4
}) || this;
return n.clients = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e) {
var t = this.clients.getLootbag.request({});
e.useClientResult(t, function(e) {
return e;
});
}, t.prototype.get = function() {
return this.getOrFetchFragment("lootbag");
}, t.prototype.expire = function() {
this.expireFragment("lootbag");
}, t;
}(n(30).FragmentStore);
t.BattleplanLootbagStore = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(163);
t.createBattleplanDimmedTheme = function o(e) {
return e.sparta.theme.createTheme("BattleplanRewardDimmed", {
baseBox: r.BattleplanDimmedBaseBoxStyles
});
};
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(32), a = n(29), s = n(39), u = n(6), l = n(21), c = n(163), p = n(213), d = n(462), f = n(15), m = n(5), h = n(38), g = n(25), y = n(687), S = n(28), v = n(33), _ = n(18), b = "destination/store", T = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.battleplan = p.BattleplanContext.getFromComponent(r), r.focusTween = f.Animation.componentTween(r, "a78e757c:35:48", 0, {
duration: 100
}), r.onClick = function() {
r.props.onClick(r.props.item);
}, r.focusItem = r.battleplan.sparta.twinkle.focus.create(r, "item_" + e.item.identifier), 
r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.focusItem.isFocusedOrHovered;
}, function(t) {
e.focusTween.set(t ? 1 : 0);
}, {
fireImmediately: !0
});
}, n.prototype.render = function() {
var e = this.props.item;
return r.createElement(d.BaseBox, {
name: "item_" + e.identifier,
onClick: this.onClick,
focusItem: this.focusItem,
actionLabel: __("ID_SPARTA_BATTLEPLAN_ACTION_VIEW_REWARD", !0),
style: c.LootbagStyles.item
}, r.createElement("surface", {
style: c.BattleplanRewardStyles.contentContainer
}, r.createElement(u.Text, {
value: e.name.toUpperCase(),
size: l.TextSize.XS,
style: c.BattleplanRewardStyles.text
}), e.identifier.indexOf("_TOKEN") > -1 && e.amount > 1 && r.createElement(u.Text, {
value: "x" + e.amount,
size: l.TextSize.S,
style: c.BattleplanRewardStyles.amountText
}), r.createElement("surface", {
style: c.BattleplanRewardStyles.imageRewardFill({
texture: e.image
})
})), r.createElement("surface", {
style: m.merge2(c.BattleplanRewardStyles.focused, this.focusTween.getStyleClass("opacity"))
}));
}, n.contextTypes = p.BattleplanContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component), E = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.battleplan = p.BattleplanContext.getFromComponent(e), e.onSelect = function(t) {
var n = e.battleplan.wrapEntryPoint(y.BattleplanInspectPopup);
g.display(new h.Popup({
id: t.identifier,
fullScreen: !0,
content: r.createElement(n, {
reward: t,
onClose: function() {
return g.close(t.identifier);
}
})
}));
}, e.goToStore = function() {
_.gotoLocation(b);
}, e;
}
return e.__extends(n, t), n.prototype.render = function() {
var e, t = this, n = this.battleplan.lootbagStore.get(), o = n.value, p = !1;
return !o && n.failstate ? e = r.createElement(u.Text, {
style: c.LootbagStyles.gridInfo,
size: l.TextSize.S,
value: __("ID_SPARTA_BATTLEPLAN_SUMMARY_FAILED_TO_LOAD", !0)
}) : !o && n.isLoading ? e = r.createElement(s.EmptyState, null, r.createElement(a.Spinner, {
large: !0
})) : o && 0 !== o.items.length ? (p = o.items.length > 3, e = o.items.map(function(e) {
return r.createElement(T, {
key: e.identifier,
item: e,
onClick: t.onSelect
});
})) : e = r.createElement(u.Text, {
style: c.LootbagStyles.gridInfo,
size: l.TextSize.S,
value: __("ID_SPARTA_BATTLEPLAN_SUMMARY_NO_CLAIMED_REWARDS", !0)
}), r.createElement(i.Template, {
tallContent: !0,
scrollContent: !0,
scrollListener: !1,
verticalIndicator: !0
}, r.createElement("surface", {
style: c.LootbagStyles.container
}, r.createElement("surface", {
style: c.LootbagStyles.header
}), r.createElement(u.Text, {
style: c.LootbagStyles.description,
value: __("ID_SPARTA_DESTINATION_TEXT", !0)
}), r.createElement(S.Button, {
name: "BUTTON_BATTLEPLAN_PRE_ORDER",
style: c.LootbagStyles.button,
upperCase: !0,
text: __("ID_SPARTA_COMMERCE_OFFER_GAME_PREORDER", !0),
action: this.goToStore
}), r.createElement(u.Text, {
style: c.LootbagStyles.gridHeader,
type: v.TextType.EMPHASIS,
value: __("ID_SPARTA_BATTLEPLAN_SUMMARY_YOUR_REWARDS", !0).toUpperCase()
}), r.createElement("surface", {
style: c.LootbagStyles.grid(p)
}, e)));
}, n.contextTypes = p.BattleplanContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.BattleplanSummary = E;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(97), r = n(239), o = n(1580), i = n(219), a = n(692), s = n(691), u = n(459), l = n(1583), c = n(1590), p = n(14);
function d(t, n) {
return new e.RouteDeclaration("destination", {
getTitle: function() {
return __("ID_SPARTA_CASABLANCA_TITLE");
},
getSubtitle: function() {
return __("ID_SPARTA_MENU_TITLE_HOME", !0);
},
view: t.wrapEntryPoint(r.BFVPromo),
requireOnline: !0,
disabled: !1,
featureFlag: s.destinationFeatureFlags.destination,
normalIconUrl: p.bbOfflineUrl("/sparta/casablanca/menu-iconbfv-8c12585a.png"),
backgroundColor: "#17335a",
backgroundMusicUrl: p.bbOfflineUrl("/sparta/casablanca/destination-c579cc10.ogg"),
backgroundSize: [ 1920, 1080 ],
priority: -3,
hideInMainMenu: !1,
children: [ new e.RouteDeclaration("store", {
getTitle: function() {
return __("ID_SPARTA_MAIN_TITLE_STORE");
},
view: t.wrapEntryPoint(o.DestinationPreOrder),
children: [ new e.RouteDeclaration("access", {
getTitle: function() {
return __("ID_SPARTA_TAB_EA_PLAY");
},
args: {
gameId: n
},
children: [ new e.RouteDeclaration("common-questions", {
getTitle: function() {
return __("ID_SPARTA_ACCESS_COMMON_QUESTIONS");
},
args: {
gameId: n
},
view: t.wrapEntryPoint(u.CommonQuestions)
}) ]
}), new e.RouteDeclaration("subscribe-and-save", {
getTitle: function() {
return __("ID_SPARTA_ACCESS_JOIN_AND_BUY");
},
args: {
gameId: n
},
view: t.wrapEntryPoint(c.DestinationJoinBuy)
}) ]
}) ]
});
}
t.createDestinationRoute = d, t.initialize = function f(e) {
i.registerSectionFonts("destination", a.fontConfig);
var t = new l.DestinationInstance(e);
t.sparta.stores.nativePropertiesStore.onHostingGameId(function(n) {
e.stores.routeStore.addRoute(d(t, n));
});
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(14), r = n(1575);
t.getPages = function() {
return [ {
id: "bfv",
backgroundUrl: e.bbOfflineUrl("/sparta/casablanca/destination/bfv_home_bg-ded13495.jpg"),
title: __("ID_SPARTA_CASABLANCA_TITLE_UPPERCASE"),
component: r.PageBFV
} ];
};
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(4), o = n(1), i = n(7), a = n(42), s = n(312), u = n(18), l = n(5), c = n(214), p = n(33), d = n(239), f = n(6), m = n(424), h = n(28), g = n(690), y = function(t) {
function n(e, n) {
var r = t.call(this, e, n) || this;
return r.sparta = i.SpartaContext.getFromComponent(r), r.focusGroup = r.sparta.twinkle.focus.createComponentGroup(r, r.props.page.id), 
r.handleDirectionUp = function() {
return r.props.pageUIState.prevPage(), {
result: a.NavigationResultType.STOP
};
}, r.handleDirectionDown = function() {
return r.props.pageUIState.nextPage(), {
result: a.NavigationResultType.STOP
};
}, r.playVideo = function() {
s.showFullscreenVideo(r.sparta, r.video);
}, r.goToStore = function() {
u.gotoLocation(d.STORE_LOCATION);
}, r.video = r.sparta.twinkle.video.loadVideo(r.props.data.video), r.purchaseFocusItem = r.sparta.twinkle.focus.create(r, "destinationPurchase"), 
r.focusGroup.addMember(r.purchaseFocusItem), r.watchTrailerFocusItem = r.sparta.twinkle.focus.create(r, "destinationWatchTrailer"), 
r.focusGroup.addMember(r.watchTrailerFocusItem), r.focusGroup.handleDirection(a.Direction.Up, r.handleDirectionUp), 
r.focusGroup.handleDirection(a.Direction.Down, r.handleDirectionDown), r;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.pageUIState.currentPage.id === e.props.page.id;
}, function(t) {
e.purchaseFocusItem.setActive("31f4e21e:59:50", t), e.watchTrailerFocusItem.setActive("31f4e21e:60:54", t), 
t && e.purchaseFocusItem.setFocused(a.FocusSource.Auto, !0);
}, {
fireImmediately: !0
});
}, n.prototype.render = function() {
var e = this.sparta.twinkle.buildInfo.isPC ? "S" : "M", t = this.props.data.preorderedFriends;
return o.createElement("surface", {
style: l.merge2(c.BFVPromoStyles.page, this.props.style)
}, o.createElement("surface", {
style: c.BFVPromoStyles.logo
}), o.createElement("surface", {
style: c.BFVPromoStyles.textContainer
}, o.createElement(f.Text, {
value: __("ID_SPARTA_DESTINATION_TEXT"),
size: "M",
type: p.TextType.LIGHT,
style: c.BFVPromoStyles.text
})), o.createElement("surface", {
style: c.BFVPromoStyles.buttons
}, o.createElement("surface", {
style: c.BFVPromoStyles.buttonContainer
}, o.createElement(h.Button, {
name: "31f4e21e:96:35",
textSize: e,
text: __("ID_SPARTA_COMMERCE_PURCHASE_GAME_UPPERCASE"),
action: this.goToStore,
style: c.BFVPromoStyles.button,
focusItem: this.purchaseFocusItem
})), o.createElement("surface", {
style: c.BFVPromoStyles.buttonContainer
}, o.createElement(h.Button, {
name: "31f4e21e:106:35",
textSize: e,
upperCase: !0,
text: __("ID_SPARTA_ACTION_WATCH_TRAILER_UPPERCASE"),
action: this.playVideo,
style: c.BFVPromoStyles.button,
focusItem: this.watchTrailerFocusItem
}))), this.props.data.selectedFriends.length > 0 && o.createElement("surface", {
style: c.BFVPromoStyles.friends
}, o.createElement("surface", {
style: c.BFVPromoStyles.friendsTextContainer
}, o.createElement(f.Text, {
value: __("ID_SPARTA_DESTINATION_FRIENDS"),
size: "S",
type: "light",
style: c.BFVPromoStyles.friendsText
})), o.createElement(m.Friends, {
id: "bfvpromo",
friends: this.props.data.selectedFriends,
totalNum: t
})), o.createElement(g.ScrollIcon, {
pageUIState: this.props.pageUIState
}));
}, n.contextTypes = i.SpartaContext.contextTypes, n = e.__decorate([ r.observer ], n);
}(o.Component);
t.PageBFV = y;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(4), i = n(1), a = n(7), s = n(15), u = n(23), l = n(5), c = n(214), p = n(239), d = n(27), f = n(42), m = n(56), h = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = a.SpartaContext.getFromComponent(r), r.mainOpacityTween = s.Animation.componentTween(r, "50f8f426:23:54", .001, {
duration: p.BACKGROUND_TWEEN_DURATION
}), r.mainBlurTween = s.Animation.componentTween(r, "50f8f426:24:51", 0, {
duration: p.BACKGROUND_TWEEN_DURATION
}), r.state = {
loaded: !1
}, r.tweens = r.props.pageUIState.pages.map(function(e, t) {
return r.props.pageUIState.getSlides(t).map(function(e, n) {
return {
move: s.Animation.componentTween(r, "50f8f426:36:53", 0 === t ? 0 : r.sparta.uiState.window.height, {
duration: p.BACKGROUND_TWEEN_DURATION
}),
opacity: s.Animation.componentTween(r, "50f8f426:39:56", 0 === n ? 1 : 0, {
duration: p.BACKGROUND_TWEEN_DURATION,
delay: p.BACKGROUND_TWEEN_DURATION / 4
})
};
});
}), r;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this, t = this.props.pageUIState, n = !0;
this.reaction(function() {
return t.currentPageIndex;
}, function(r) {
t.pages.forEach(function(o, i) {
if ((i === t.previousPageIndex || i === r) && e.tweens[i]) {
var a = t.previousPageIndex && r < t.previousPageIndex ? f.Direction.Down : f.Direction.Up, s = e.sparta.uiState.window.height;
e.tweens[i].forEach(function(e, t) {
var o = 0, u = 0;
a === f.Direction.Up ? r === i ? (o = s, u = 0) : (o = 0, u = -1 * s) : r === i ? (o = -1 * s, 
u = 0) : (o = 0, u = s), n ? e.move.set(u) : (e.move.set(o), e.move.to(u));
});
}
}), e.renderSlides(), n = !1;
}, {
fireImmediately: !0
}), this.reaction(function() {
return t.changeSlideTimeStamp;
}, function() {
e.renderSlides();
}), this.autorun(function() {
e.mainOpacityTween.to(t.backgroundFadedOut ? .001 : 1), e.mainBlurTween.to(t.backgroundBlured ? 1 : 0);
});
}, t.prototype.renderSlides = function() {
var e = this.props.pageUIState, t = e.currentPageIndex;
this.tweens[t] && this.tweens[t].forEach(function(t, n) {
n === e.getSlide(e.currentPage.id) ? t.opacity.to(1, {
easing: d.Easing.CubicOut,
duration: p.BACKGROUND_TWEEN_DURATION
}) : t.opacity.to(0, {
easing: d.Easing.CubicIn,
duration: p.BACKGROUND_TWEEN_DURATION
});
});
}, t.prototype.render = function() {
var e = this, t = this.props.pageUIState;
if (this.sparta.stores.spartaActivatedStore.navigationState !== m.NavigationStates.FrontEnd) return i.createElement("surface", null);
var n = t.pages, r = n.map(function(r, o) {
var a = t.getSlides(o).map(function(t, r) {
var a = e.sparta.twinkle.textureStyleCache.get("50f8f426:153:90", t), s = e.tweens[o] && e.tweens[o][r], u = l.merge2(l.merge3(c.BFVPromoStyles.background, a, l.DynamicStyle.create({
zOffset: n.length - o + 1,
width: e.sparta.uiState.window.width,
height: e.sparta.uiState.window.height
}, "50f8f426:159:48")), s ? l.merge2(s.move.getStyleClass("translateY"), s.opacity.getStyleClass("selfOpacity")) : l.emptyStyle);
return i.createElement("surface", {
key: r,
style: u
});
});
return i.createElement(i.Fragment, {
key: o
}, a);
}), o = this.sparta.uiState.window.width > u.screen.width * this.sparta.uiState.viewportScale.scaleX, a = l.merge4(c.BFVPromoStyles.backgroundSlider, o ? c.BFVPromoStyles.backgroundSliderClip : void 0, l.DynamicStyle.create({
width: this.sparta.uiState.window.width,
height: this.sparta.uiState.window.height
}, "50f8f426:182:73"), l.merge2(this.mainOpacityTween.getStyleClass("opacity"), this.mainBlurTween.getStyleClass("layerBlur")));
return i.createElement("surface", {
style: a
}, r);
}, t.contextTypes = a.SpartaContext.contextTypes, t = r.__decorate([ o.observer ], t);
}(i.Component);
t.BackgroundSlider = h;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(4), i = n(1), a = n(214), s = n(33), u = n(21), l = n(6), c = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return r.__extends(t, e), t.prototype.nodeClick = function(e) {
this.props.pageUIState.setPage(e);
}, t.prototype.render = function() {
for (var e = [], t = this.props.pageUIState, n = 0; n < t.pages.length; n++) {
var r = t.pages[n], o = n === t.currentPageIndex;
e.push(i.createElement("surface", {
style: o ? a.BFVPromoStyles.pageIndicatorItemActive : a.BFVPromoStyles.pageIndicatorItem,
key: "indicator_" + r.id,
onClick: this.nodeClick.bind(this, n)
}, i.createElement("surface", {
style: o ? a.BFVPromoStyles.pageIndicatorDotActive : a.BFVPromoStyles.pageIndicatorDot
}), i.createElement(l.Text, {
value: r.title,
type: s.TextType.LIGHT,
size: o ? u.TextSize.S : u.TextSize.XS,
style: a.BFVPromoStyles.pageIndicatorText
})));
}
return i.createElement("surface", {
style: a.BFVPromoStyles.pageIndicator
}, e);
}, t = r.__decorate([ o.observer ], t);
}(i.Component);
t.PageIndicator = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(4), i = n(1), a = n(15), s = n(23), u = n(5), l = n(214), c = n(239), p = n(1579), d = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.pageTweens = r.props.pageUIState.pages.map(function(e, t) {
return {
move: a.Animation.componentTween(r, "29250c35:26:53", -.2 * s.screen.height, {
delay: c.CONTENT_MOVE_DELAY,
duration: c.TEXT_TWEEN_DURATION
}),
opacity: a.Animation.componentTween(r, "29250c35:30:56", 0, {
delay: c.CONTENT_MOVE_DELAY,
duration: c.TEXT_OPACITY_TWEEN_DURATION
})
};
}), r;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.pageUIState.currentPageIndex;
}, function() {
e.props.pageUIState.pages.forEach(function(t, n) {
e.pageTweens[n].move.to(e.getAnimationDelta(n)), e.pageTweens[n].opacity.to(n === e.props.pageUIState.currentPageIndex ? 1 : 0);
});
}, {
fireImmediately: !0
});
}, t.prototype.getAnimationDelta = function(e) {
var t = this.props.pageUIState;
return e < t.currentPageIndex ? -1 * s.screen.height : e > t.currentPageIndex ? .8 * s.screen.height : 0;
}, t.prototype.render = function() {
var e = this, t = this.props.pageUIState, n = t.pages, r = n.map(function(r, o) {
var a = r.slides ? r.slides[t.getSlide(r.id)] : void 0, s = r.component || p.SliderPage;
return i.createElement(s, {
style: u.merge2(e.pageTweens[o].move.getStyleClass("translateY"), e.pageTweens[o].opacity.getStyleClass("opacity")),
pageUIState: t,
data: e.props.data,
page: r,
slide: a,
key: o,
isLastPage: o + 1 === n.length
});
}), o = l.BFVPromoStyles.contentSlider;
return i.createElement("surface", {
style: o
}, r);
}, t = r.__decorate([ o.observer ], t);
}(i.Component);
t.ContentSlider = d;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(4), i = n(3), a = n(1), s = n(7), u = n(42), l = n(5), c = n(214), p = n(33), d = n(239), f = n(15), m = n(21), h = n(6), g = n(690), y = n(27), S = n(19), v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sparta = s.SpartaContext.getFromComponent(t), t.colorTween = f.Animation.componentTween(t, "color", "#ffffff"), 
t.backgroundOpacityTween = f.Animation.componentTween(t, "opacity", 0), t.activateSlide = function() {
t.props.pageUIState.setSlide(t.props.page.id, t.props.index);
}, t.handleClick = function() {
t.props.focusItem.setFocused(u.FocusSource.Auto, !0), t.activateSlide();
}, t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.focusItem.isFocused;
}, function(t) {
t && e.activateSlide();
}), this.reaction(function() {
return e.props.focusItem.isHovered;
}, function(t) {
e.backgroundOpacityTween.to(e.props.isActive ? 1 : t ? .2 : 0);
}), this.reaction(function() {
return e.props.isActive;
}, function(t) {
e.colorTween.to(t ? "#000000" : "#ffffff"), e.backgroundOpacityTween.to(t ? 1 : 0), 
t && !e.props.focusItem.isFocused && e.props.focusItem.setFocused(u.FocusSource.Auto, !0);
}, {
fireImmediately: !0
}), this.reaction(function() {
return e.props.pageUIState.currentPage.id === e.props.page.id;
}, function(t) {
e.props.focusItem.setActive("2007eba5:73:48", t), t && e.props.isActive && e.props.focusItem.setFocused(u.FocusSource.Auto, !0);
}, {
fireImmediately: !0
});
}, t.prototype.render = function() {
var e = this, t = this.sparta.twinkle.textureStyleCache.get("2007eba5:95:72", this.props.slide.thumbnailUrl), n = this.sparta.theme.getTheme(this).components.Pressable;
return a.createElement(n, {
focusItem: this.props.focusItem,
name: this.props.page.id + "_" + this.props.slide.id
}, function(n, o) {
return a.createElement("surface", r.__assign({
style: l.merge2(o, c.BFVPromoStyles.slide)
}, n.hooks, {
onClick: e.handleClick
}), a.createElement("surface", {
style: l.merge2(c.BFVPromoStyles.slideImage, t)
}), a.createElement("surface", {
style: c.BFVPromoStyles.slideGradient
}), a.createElement("surface", {
style: c.BFVPromoStyles.slideTitleContainer
}, a.createElement("surface", {
style: l.merge2(c.BFVPromoStyles.slideTitleBackground, e.backgroundOpacityTween.getStyleClass("opacity"))
}), a.createElement(h.Text, {
style: l.merge2(c.BFVPromoStyles.slideTitle, e.colorTween.getStyleClass("color")),
value: e.props.slide.title,
size: m.TextSize.S,
type: p.TextType.LIGHT
})));
});
}, t.contextTypes = s.SpartaContext.contextTypes, t = r.__decorate([ o.observer ], t);
}(a.Component), _ = function() {
function e() {
this.isAnimatingTo = !1, this.isAnimatingBack = !1;
}
return e.prototype.animateTo = function(e) {
this.slide || (this.slide = e), this.isAnimatingBack ? this.scheduledSlide = e : this.newSlide = e;
}, e.prototype.startAnimating = function() {
this.isAnimatingTo = !0, this.isAnimatingBack = !1;
}, e.prototype.commitAnimation = function() {
this.isAnimatingTo = !1, this.isAnimatingBack = !0, this.slide = this.newSlide;
}, e.prototype.finishAnimation = function() {
this.isAnimatingTo = !1, this.isAnimatingBack = !1, this.scheduledSlide && (this.animateTo(this.scheduledSlide), 
this.scheduledSlide = void 0);
}, r.__decorate([ i.observable ], e.prototype, "slide", void 0), r.__decorate([ i.observable ], e.prototype, "newSlide", void 0), 
r.__decorate([ i.action ], e.prototype, "animateTo", null), r.__decorate([ i.action ], e.prototype, "startAnimating", null), 
r.__decorate([ i.action ], e.prototype, "commitAnimation", null), r.__decorate([ i.action ], e.prototype, "finishAnimation", null), 
e;
}(), b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.opacityTween = f.Animation.componentTween(t, "2007eba5:182:50", 1), t;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.state.newSlide;
}, function() {
e.props.state.startAnimating(), e.opacityTween.to(0, {
duration: d.TEXT_TWEEN_DURATION / 4,
easing: y.Easing.CubicIn
}), e.commitTimeout && clearTimeout(e.commitTimeout), e.finishTimeout && clearTimeout(e.finishTimeout), 
e.commitTimeout = setTimeout(function() {
e.props.state.commitAnimation(), e.opacityTween.to(1, {
duration: d.TEXT_TWEEN_DURATION / 4,
easing: y.Easing.CubicIn
}), e.finishTimeout = setTimeout(function() {
e.props.state.finishAnimation();
}, d.TEXT_TWEEN_DURATION / 4);
}, d.TEXT_TWEEN_DURATION / 4);
});
}, t.prototype.render = function() {
var e = this.props.state.slide, t = S.isRTLLanguage();
return e ? a.createElement("surface", {
style: this.opacityTween.getStyleClass("opacity")
}, a.createElement(h.Text, {
value: e.title,
size: "M",
type: "light",
style: c.BFVPromoStyles.pageSubHeader
}), a.createElement(h.Text, {
value: e.text,
size: "M",
type: "light",
style: c.BFVPromoStyles.pageBodyText(t)
})) : null;
}, t = r.__decorate([ o.observer ], t);
}(a.Component), T = function(e) {
function t(t, n) {
var r = e.call(this, t, n) || this;
return r.sparta = s.SpartaContext.getFromComponent(r), r.focusGroup = r.sparta.twinkle.focus.createComponentGroup(r, r.props.page.id), 
r.summaryState = new _(), r.focusItems = (r.props.page.slides || []).map(function(e, t) {
var n = r.sparta.twinkle.focus.create(r, "slide-" + r.props.page.id + "_" + e.id);
return r.focusGroup.addMember(n), n;
}), r.handleDirectionUp = function() {
return r.props.pageUIState.prevPage(), {
result: u.NavigationResultType.STOP
};
}, r.handleDirectionDown = function() {
return r.props.pageUIState.nextPage(), {
result: u.NavigationResultType.STOP
};
}, r.focusGroup.handleDirection(u.Direction.Up, r.handleDirectionUp), r.focusGroup.handleDirection(u.Direction.Down, r.handleDirectionDown), 
r;
}
return r.__extends(t, e), t.prototype.componentDidMount = function() {
var e = this;
this.reaction(function() {
return e.props.slide;
}, function(t) {
return e.summaryState.animateTo(t);
}, {
fireImmediately: !0
});
}, t.prototype.render = function() {
var e = this, t = this.props.page.iconUrl ? this.sparta.twinkle.textureStyleCache.get("2007eba5:269:57", this.props.page.iconUrl) : void 0;
return a.createElement("surface", {
style: l.merge2(c.BFVPromoStyles.page, this.props.style)
}, a.createElement("surface", {
style: c.BFVPromoStyles.pageContent
}, a.createElement("surface", {
style: l.merge2(c.BFVPromoStyles.pageIcon, t)
}), a.createElement(h.Text, {
value: this.props.page.title,
size: "XXL",
type: p.TextType.HEADER_NORMAL,
style: c.BFVPromoStyles.pageHeader
}), a.createElement(b, {
state: this.summaryState
})), a.createElement("surface", {
style: c.BFVPromoStyles.slides
}, this.props.page.slides && this.props.page.slides.map(function(t, n) {
return a.createElement(v, {
page: e.props.page,
slide: t,
key: t.id,
isActive: n === e.props.pageUIState.getSlide(e.props.page.id),
pageUIState: e.props.pageUIState,
index: n,
focusItem: e.focusItems[n]
});
})), !this.props.isLastPage && a.createElement(g.ScrollIcon, {
pageUIState: this.props.pageUIState
}));
}, t.contextTypes = s.SpartaContext.contextTypes, t = r.__decorate([ o.observer ], t);
}(a.Component);
t.SliderPage = T;
}, function(e, t, n) {
"use strict";
(function(__) {
Object.defineProperty(t, "__esModule", {
value: !0
});
var e = n(0), r = n(1), o = n(4), i = n(32), a = n(50), s = n(93), u = n(421), l = n(123), c = n(1581), p = n(143), d = n(6), f = n(26), m = n(12), h = n(11), g = n(691), y = n(336), S = n(424), v = function() {
return g.destinationFeatureFlags.destinationAsStoreGameId.isEnabled() ? "destination" : "casablanca";
}, _ = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.destination = y.DestinationContext.getFromComponent(e), e.togglePreorderVisible = function() {
e.destination.destinationDataStore.togglePreorderVisible();
}, e;
}
return e.__extends(n, t), n.prototype.getInput = function() {
return new m.Input({
label: this.props.destinationData.preorderVisible ? __("ID_SPARTA_DESTINATION_PURCHASE_HIDE") : __("ID_SPARTA_DESTINATION_PURCHASE_SHOW"),
key: h.Keys.Option2,
action: this.togglePreorderVisible
});
}, n.prototype.renderExtraContent = function() {
var e = this.props.destinationData.preorderedFriends > 99 ? 99 : this.props.destinationData.preorderedFriends;
return r.createElement("surface", null, r.createElement("surface", {
style: c.DestinationStyles.extraContent,
onClick: this.togglePreorderVisible
}, r.createElement(p.Checkbox, {
value: this.props.destinationData.preorderVisible,
style: c.DestinationStyles.checkbox
}), r.createElement("surface", {
style: c.DestinationStyles.checkboxLabel
}, r.createElement(d.Text, {
size: "S",
type: "light",
value: __("ID_SPARTA_DESTINATION_PURCHASE_VISIBLE")
}))), g.destinationFeatureFlags.destinationStoreFriendsWhoPreordered.isEnabled() && this.props.destinationData.selectedFriends.length > 0 && r.createElement(r.Fragment, null, r.createElement("surface", {
style: c.DestinationStyles.storeTabFriendsTextContainer
}, r.createElement(d.Text, {
value: this.props.destinationData.friendsPreorderedText,
size: "XS",
type: "light",
style: c.DestinationStyles.storeTabFriendsText
})), r.createElement(S.Friends, {
small: !0,
id: "preorder",
maxFriends: 4,
friends: this.props.destinationData.selectedFriends,
totalNum: e
})));
}, n.prototype.render = function() {
var e = this.destination.sparta.stores.nativePropertiesStore.getHostingGameId();
return r.createElement(u.GameOffer, {
offers: this.props.gameOffers.game,
gameId: e,
offerGameId: v(),
logoUrl: this.props.destinationData.logoHorizontal,
isInstallable: !1,
extraContent: this.renderExtraContent(),
commerceNavigation: this.destination.commerceNavigation,
premierUpsellOffer: this.props.destinationData.offerId || "upsell:origin-access",
showPremier: !0
});
}, n.contextTypes = y.DestinationContext.contextTypes, n = e.__decorate([ o.observer, f.input ], n);
}(r.Component);
t.DestinationPreOrderContent = _;
var b = function(t) {
function n() {
var e = null !== t && t.apply(this, arguments) || this;
return e.destination = y.DestinationContext.getFromComponent(e), e;
}
return e.__extends(n, t), n.prototype.componentDidMount = function() {
s.offersStore.refresh(v());
}, n.prototype.render = function() {
return r.createElement(l.ThemeProvider, {
debugName: "e2be39f5:119:39",
theme: this.destination.theme
}, r.createElement(i.Template, {
tallContent: !0,
scrollContent: !1
}, r.createElement(a.OptimisticFragmentLoader, {
load: [ s.offersStore.get(v()), this.destination.destinationDataStore.get() ]
}, function(e, t) {
return r.createElement(_, {
gameOffers: e,
destinationData: t
});
})));
}, n.contextTypes = y.DestinationContext.contextTypes, n = e.__decorate([ o.observer ], n);
}(r.Component);
t.DestinationPreOrder = b;
}).call(this, n(2));
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("DestinationStyles"), a = function() {
function e() {}
return e.storeTabFriendsTextContainer = i.wrap(function() {
return o.style({
marginBottom: o.Grid.getHeight(1)
}, "b047f19c:6:42");
}), e.storeTabFriendsText = i.wrap(function() {
return o.style({
textLineSpacing: o.Constants.isPC ? 18 : 20
}, "b047f19c:10:33");
}), e.extraContent = i.wrap(function() {
return o.style({
flex: 1,
marginTop: o.Grid.spacer(5),
marginBottom: o.Grid.spacer(5),
flexDirection: "row"
}, "b047f19c:14:26");
}), e.checkbox = i.wrap(function() {
return o.style({
marginTop: 1,
marginRight: o.Grid.spacer(2)
}, "b047f19c:21:22");
}), e.checkboxLabel = i.wrap(function() {
return o.style({
width: o.Grid.getWidth(4.5)
}, "b047f19c:26:27");
}), e = r.__decorate([ i.style ], e);
}();
t.DestinationStyles = a;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = o.Template("DestinationFontStyles"), a = function() {
function e() {}
var t;
return t = e, e.textSize = o.value(function() {
return o.Constants.isPC ? {
XXXXL: 56,
XXXL: 56,
XXL: 42,
XL: 30,
L: 24,
M: 18,
S: 13,
XS: 10,
XXS: 8
} : {
XXXXL: 64,
XXXL: 64,
XXL: 52,
XL: 37,
L: 30,
M: 22,
S: 16,
XS: 14,
XXS: 12
};
}, "4a9d313b:8:22"), e.lineSpacing = o.value(function() {
return {
XXXXL: 1.2 * t.textSize.XXXXL,
XXXL: 1.2 * t.textSize.XXXL,
XXL: 1.2 * t.textSize.XXL,
XL: 1.2 * t.textSize.XL,
L: 1.2 * t.textSize.L,
M: 1.2 * t.textSize.M,
S: 1.4 * t.textSize.S,
XS: 1.2 * t.textSize.XS,
XXS: 1.2 * t.textSize.XXS
};
}, "4a9d313b:35:25"), e = t = r.__decorate([ i.style ], e);
}();
t.DestinationFontStyles = a;
var s = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "BFText-Light";
}, "4a9d313b:50:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/fonts/BFText-Light-b5ca7eb2.ttf");
}, "4a9d313b:51:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e],
textLineSpacing: a.lineSpacing[e]
}, "4a9d313b:52:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.BFTextLight = s;
var u = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "BFText-Regular";
}, "4a9d313b:63:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/fonts/BFText-Regular-37d995da.ttf");
}, "4a9d313b:64:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e],
textLineSpacing: a.lineSpacing[e]
}, "4a9d313b:65:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.BFTextRegular = u;
var l = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "BFText-Bold";
}, "4a9d313b:76:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/fonts/BFText-Bold-e3002166.ttf");
}, "4a9d313b:77:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e],
textLineSpacing: a.lineSpacing[e]
}, "4a9d313b:78:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.BFTextBold = l;
var c = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "BFHead-Light";
}, "4a9d313b:89:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/fonts/BFHead-Light-13e795ad.ttf");
}, "4a9d313b:90:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e],
textLineSpacing: a.lineSpacing[e]
}, "4a9d313b:91:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.BFHeadLight = c;
var p = function() {
function e() {}
var t;
return t = e, e.fontName = o.value(function() {
return "BFHead-Regular";
}, "4a9d313b:102:22"), e.fontUrl = o.value(function() {
return o.bbOfflineUrl("/sparta/assets/fonts/BFHead-Regular-2ae49698.ttf");
}, "4a9d313b:103:21"), e.fontStyle = o.multistyle(function(e) {
return o.style({
fontFamily: t.fontName,
fontSize: a.textSize[e],
textLineSpacing: a.lineSpacing[e]
}, "4a9d313b:104:78");
}), e = t = r.__decorate([ i.style ], e);
}();
t.BFHeadRegular = p;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(1584), o = n(1), i = n(336), a = n(1585), s = n(239), u = n(1588), l = n(1589), c = function() {
return function e(t) {
var n = this;
this.sparta = t, this.theme = a.createDestinationTheme(this), this.wrapEntryPoint = function(e) {
return function(t) {
return o.createElement(i.DestinationContext.Provider, {
value: n
}, o.createElement(e, t));
};
}, this.destinationDataStore = new u.DestinationDataStore(l.createDestinationClients(this.sparta.gatewayClient.request)), 
this.pageUIState = new s.BFVPromoUIState(this.destinationDataStore, this.sparta.stores.locationStore, this.sparta.backgroundContainer, this.sparta.twinkle.focus), 
this.commerceNavigation = new r.DestinationCommerceNavigation();
};
}();
t.DestinationInstance = c;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = function(e) {
function t() {
return e.call(this, "destination") || this;
}
return r.__extends(t, e), Object.defineProperty(t.prototype, "locationLearnAboutAccess", {
get: function() {
return this.startRoute + "/store/access";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "locationLearnAboutAccessInStoreTab", {
get: function() {
return this.startRoute + "/store/access";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "locationCommonQuestions", {
get: function() {
return this.startRoute + "/store/access/common-questions";
},
enumerable: !0,
configurable: !0
}), Object.defineProperty(t.prototype, "locationSubscribeAndSave", {
get: function() {
return this.startRoute + "/store/subscribe-and-save";
},
enumerable: !0,
configurable: !0
}), t.prototype.getOfferListingLocation = function(e) {
return this.startRoute + "/store";
}, t;
}(n(317).CommerceNavigation);
t.DestinationCommerceNavigation = o;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(692), o = n(1586);
t.createDestinationTheme = function i(e) {
return e.sparta.theme.createTheme("Destination", {
button: o.CasablancaButtonStyles,
fontConfig: r.fontConfig
});
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(1587), a = n(17), s = o.Template("CasablancaButtonStyles"), u = function() {
function e() {}
return e.tweenDuration = o.value(function() {
return i.CasablancaStateStyles.tweenDuration;
}, "9aee521a:20:27"), e.backgroundColor = o.value(function() {
return "#00000080";
}, "9aee521a:21:29"), e.backgroundHoverColor = o.value(function() {
return "#00000080";
}, "9aee521a:22:34"), e.backgroundFocusColor = o.value(function() {
return "#00000000";
}, "9aee521a:23:34"), e.backgroundOverlayColor = o.value(function() {
return "#00000000";
}, "9aee521a:24:36"), e.backgroundOverlayHoverColor = o.value(function() {
return "#e6e6e633";
}, "9aee521a:25:41"), e.backgroundOverlayFocusColor = o.value(function() {
return "#ccccccff";
}, "9aee521a:26:41"), e.boldHoverText = o.value(function() {
return !1;
}, "9aee521a:27:27"), e.borderGlow = o.value(function() {
return !1;
}, "9aee521a:28:24"), e.border = o.wrap(function() {
return o.style({}, "9aee521a:30:31");
}), e.button = o.multistyle(function(e) {
return o.style({
zOffset: 0,
justifyContent: "center",
height: o.Grid.getHeight(5) - 2,
marginBottom: 2,
opacity: e ? .5 : 1
}, "9aee521a:32:55");
}), e.text = o.multistyle2(function(e, t) {
return o.style({
zOffset: 3,
color: e && !t ? "#000000" : "#ffffff",
textLetterSpacing: 2
}, "9aee521a:42:74");
}), e = r.__decorate([ s.style ], e);
}();
t.CasablancaButtonStyles = u;
var l = function() {
function e() {}
return e.textType = o.value(function() {
return o.Constants.TextType.LIGHT;
}, "9aee521a:53:22"), e.showGlow = o.value(function() {
return !1;
}, "9aee521a:55:22"), e.showBorder = o.value(function() {
return !1;
}, "9aee521a:56:24"), e.showOverlay = o.value(function() {
return !0;
}, "9aee521a:57:25"), e.button = o.multistyle4(function(e, t, n, r) {
return o.style({
flexDirection: "row",
zOffset: 0,
justifyContent: "center",
alignItems: "center",
height: o.Grid.getHeight(5) - 2,
marginBottom: 2,
backgroundColor: {
to: e ? n || t ? i.CasablancaStateStyles.boxDisabledSelectedBackgroundColor : i.CasablancaStateStyles.boxDisabledBackgroundColor : r ? i.CasablancaStateStyles.boxPressedBackgroundColor : n ? i.CasablancaStateStyles.boxHoveredBackgroundColor : t ? i.CasablancaStateStyles.boxSelectedBackgroundColor : i.CasablancaStateStyles.boxBackgroundColor,
duration: i.CasablancaStateStyles.tweenDuration
}
}, "9aee521a:59:117");
}), e.overlay = o.multistyle4(function(e, t, n, r) {
return o.merge(a.CommonStyles.blendModeAdditive, o.style({
zOffset: 2,
position: "absolute",
bottom: 0,
left: 0,
right: 0,
top: 0,
backgroundColor: {
to: e ? n || t ? i.CasablancaStateStyles.boxDisabledSelectedOverlayColor : i.CasablancaStateStyles.boxDisabledOverlayColor : r ? i.CasablancaStateStyles.boxPressedOverlayColor : n ? i.CasablancaStateStyles.boxHoveredOverlayColor : t ? i.CasablancaStateStyles.boxSelectedOverlayColor : i.CasablancaStateStyles.boxOverlayColor,
duration: i.CasablancaStateStyles.tweenDuration
}
}, "9aee521a:86:44"));
}), e.text = o.multistyle4(function(e, t, n, r) {
return o.style({
zOffset: 3,
whiteSpace: "nowrap",
textLetterSpacing: 2,
marginLeft: o.Grid.spacer(2),
marginRight: o.Grid.spacer(2),
color: {
to: e ? n || t ? i.CasablancaStateStyles.boxDisabledSelectedColor : i.CasablancaStateStyles.boxDisabledColor : r ? i.CasablancaStateStyles.boxPressedColor : n ? i.CasablancaStateStyles.boxHoveredColor : t ? i.CasablancaStateStyles.boxSelectedColor : i.CasablancaStateStyles.boxColor,
duration: i.CasablancaStateStyles.tweenDuration
}
}, "9aee521a:112:115");
}), e.icon = o.multistyle4(function(e, t, n, r) {
return o.style({
zOffset: 3,
marginLeft: o.Grid.spacer(2),
color: {
to: e ? i.CasablancaStateStyles.boxDisabledSelectedColor : r ? i.CasablancaStateStyles.boxPressedColor : n ? i.CasablancaStateStyles.boxHoveredColor : t ? i.CasablancaStateStyles.boxSelectedColor : i.CasablancaStateStyles.boxColor,
duration: i.CasablancaStateStyles.tweenDuration
}
}, "9aee521a:136:115");
}), e = r.__decorate([ s.style ], e);
}();
t.CasablancaButton2Styles = l;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(13), i = n(27), a = o.Template("CasablancaStateStyles"), s = function() {
function e() {}
return e.tweenEasing = o.value(function() {
return o.Constants.isPC ? i.Easing.QuadraticOut : i.Easing.QuadraticInOut;
}, "a12c72d3:11:25"), e.tweenDuration = o.value(function() {
return o.Constants.isPC ? 50 : 150;
}, "a12c72d3:12:27"), e.boxColor = o.value(function() {
return "#ffffff";
}, "a12c72d3:17:22"), e.boxSecondaryColor = o.value(function() {
return "#ffffff80";
}, "a12c72d3:18:31"), e.boxBackgroundColor = o.value(function() {
return "#00000080";
}, "a12c72d3:19:32"), e.boxOverlayColor = o.value(function() {
return "#00000000";
}, "a12c72d3:20:29"), e.boxOverlayOpacity = o.value(function() {
return 1;
}, "a12c72d3:21:31"), e.boxPressedColor = o.value(function() {
return "#333333e6";
}, "a12c72d3:24:29"), e.boxPressedSecondaryColor = o.value(function() {
return "#33333380";
}, "a12c72d3:25:38"), e.boxPressedBackgroundColor = o.value(function() {
return "#00000000";
}, "a12c72d3:26:39"), e.boxPressedOverlayColor = o.value(function() {
return "#999999b3";
}, "a12c72d3:27:36"), e.boxPressedOverlayOpacity = o.value(function() {
return .8;
}, "a12c72d3:28:38"), e.boxHoveredColor = o.value(function() {
return "#ffffff";
}, "a12c72d3:31:29"), e.boxHoveredSecondaryColor = o.value(function() {
return "#ffffff80";
}, "a12c72d3:32:38"), e.boxHoveredBackgroundColor = o.value(function() {
return "#00000080";
}, "a12c72d3:33:39"), e.boxHoveredOverlayColor = o.value(function() {
return "#e6e6e633";
}, "a12c72d3:34:36"), e.boxSelectedColor = o.value(function() {
return "#000000";
}, "a12c72d3:37:30"), e.boxSelectedSecondaryColor = o.value(function() {
return "#00000080";
}, "a12c72d3:38:39"), e.boxSelectedBackgroundColor = o.value(function() {
return "#00000000";
}, "a12c72d3:39:40"), e.boxSelectedOverlayColor = o.value(function() {
return "#ccccccff";
}, "a12c72d3:40:37"), e.boxDisabledColor = o.value(function() {
return "#ffffff4d";
}, "a12c72d3:43:30"), e.boxDisabledSecondaryColor = o.value(function() {
return "#ffffff33";
}, "a12c72d3:44:39"), e.boxDisabledBackgroundColor = o.value(function() {
return "#13131380";
}, "a12c72d3:45:40"), e.boxDisabledOverlayColor = o.value(function() {
return "#cccccc00";
}, "a12c72d3:46:37"), e.boxDisabledSelectedColor = o.value(function() {
return "#00000080";
}, "a12c72d3:49:38"), e.boxDisabledSelectedSecondaryColor = o.value(function() {
return "#00000080";
}, "a12c72d3:50:47"), e.boxDisabledSelectedBackgroundColor = o.value(function() {
return "#00000080";
}, "a12c72d3:51:48"), e.boxDisabledSelectedOverlayColor = o.value(function() {
return "#ccccccff";
}, "a12c72d3:52:45"), e.boxDisabledHoverColor = o.value(function() {
return "#ffffff4D";
}, "a12c72d3:55:35"), e.boxDisabledHoverSecondaryColor = o.value(function() {
return "#ffffff33";
}, "a12c72d3:56:44"), e.boxDisabledHoverOverlayColor = o.value(function() {
return "#cccccc1a";
}, "a12c72d3:57:42"), e.disabledSelectedColor = o.value(function() {
return "#00000080";
}, "a12c72d3:60:35"), e.disabledSelectedSecondaryColor = o.value(function() {
return "#00000040";
}, "a12c72d3:61:44"), e.textColor = o.value(function() {
return "#ffffff80";
}, "a12c72d3:66:23"), e.textPressedColor = o.value(function() {
return "#ffffff4d";
}, "a12c72d3:69:30"), e.textHoveredColor = o.value(function() {
return "#ffffffe6";
}, "a12c72d3:72:30"), e.textSelectedColor = o.value(function() {
return "#ffffff";
}, "a12c72d3:75:31"), e.transparent = o.value(function() {
return "#00000000";
}, "a12c72d3:79:25"), e = r.__decorate([ a.style ], e);
}();
t.CasablancaStateStyles = s;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(3), i = n(30), a = n(35), s = function() {
function e(e, t, n, r, o, i, a, s, u, l, c, p, d, f) {
this.title = e, this.icon = t, this.background = n, this.logo = r, this.logoHorizontal = o, 
this.text = i, this.video = a, this.offerId = s, this.music = u, this.preorderedFriends = l, 
this.selectedFriends = c, this.preorderVisible = p, this.friendsPreorderedText = d, 
this.promoPages = f;
}
return e.fromBackend = function(t) {
if (t) return new e(t.title, t.icon, t.background, t.logo, t.logoHorizontal, t.text, t.video, t.offerId, t.music, t.preorderedFriends, t.selectedFriends, t.preorderVisible, t.friendsPreorderedText, (t.promoPages || []).map(function(e) {
return {
id: e.id,
backgroundUrl: e.slides[0] && e.slides[0].backgroundUrl,
iconUrl: e.iconUrl,
title: e.title,
slides: e.slides.map(function(e) {
return {
id: e.id,
title: e.subtitle,
backgroundUrl: e.backgroundUrl,
thumbnailUrl: e.thumbnailUrl,
text: e.description
};
})
};
}));
}, e;
}();
t.DestinationData = s;
var u = function(e) {
function t(t) {
var n = e.call(this) || this;
return n.clients = t, n;
}
return r.__extends(t, e), t.prototype.fetch = function(e) {
var t = this.clients.getData.request({});
e.useClientResult(t, s.fromBackend);
}, t.prototype.togglePreorderVisible = function() {
var e = this, t = this.getFragment("destination");
if (t.value) {
var n = t.value.preorderVisible, r = !n;
this.updatePreorderVisible(r);
var i = this.clients.setShowing.request({
setting: r
});
o.when(function() {
return i.isComplete;
}, function() {
i.status !== a.RequestState.SUCCESS && e.updatePreorderVisible(n);
});
}
}, t.prototype.updatePreorderVisible = function(e) {
var t = this.getFragment("destination");
t.value && t.setValue(Object.assign({}, t.value, {
preorderVisible: e
}));
}, Object.defineProperty(t.prototype, "fragment", {
get: function() {
return this.getFragment("destination");
},
enumerable: !0,
configurable: !0
}), t.prototype.get = function() {
return this.getOrFetchFragment("destination");
}, t;
}(i.FragmentStore);
t.DestinationDataStore = u;
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(35);
t.createDestinationClients = function o(e) {
return {
getData: new r.Client("Destination.getData", {
requestPerformer: e
}),
setShowing: new r.Client("Destination.setShowing", {
requestPerformer: e
})
};
};
}, function(e, t, n) {
"use strict";
Object.defineProperty(t, "__esModule", {
value: !0
});
var r = n(0), o = n(1), i = n(336), a = n(460), s = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.destination = i.DestinationContext.getFromComponent(t), t;
}
return r.__extends(t, e), t.prototype.render = function() {
return o.createElement(a.JoinBuy, {
viewLocation: this.props.viewLocation,
commerceNavigation: this.destination.commerceNavigation
});
}, t.contextTypes = i.DestinationContext.contextTypes, t;
}(o.Component);
t.DestinationJoinBuy = s;
} ]);
//# sourceMappingURL=http://collector.ops.dice.se/artifacts/sparta-client/sources/release-bf1-lsu35/tunguska/ALL/bundle-release-bf1-lsu35_26385_ad7bf56a_tunguska_all_prod.js.map